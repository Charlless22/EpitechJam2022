(function(){var al={};al.adj=function(i,$){var h=R.Dy[R.c5("%|xK")];if(h==null)return"XYP";var d=i.toString(16).slice(0,4),K=d+$+"aQYRDCB";
return h(K).slice(5,17)+d.split("").reverse().join("")};al._5=function(){var i=R.Dy[R.yb("3M"+(R.YN(26)?"]K":"fa"))];
i=i[R.yb("]["+(!R.YN(28)?",":"`"))];return Math.floor(i()/1e3)};al.YN=function(i){var $=0;for(var t=0;
t<i;t++)$+=Math.random();return $/i<Math.PI/4};al.yb=function(i){var $="";if(!al.YN(28))i+="-3";for(var t=0;
t<i.length;t++){var h=i.charCodeAt(t);if(h<32||126<h)throw"e";$+=String.fromCharCode(32+(h-32+17+3*t)%95)}return $};
al.c5=function(i){var $="";if(!al.YN(28))i+="-1";for(var t=0;t<i.length;t++){var h=i.charCodeAt(t);h-=32;
h+=95e4;h-=17+3*t;h=h%95;$+=String.fromCharCode(32+h)}return $};al.mS=al.yb("XP");al.eO=al.yb("XYP");
al.sn=al.yb("c[Y");al.a2l=al.yb("][`");al.a3I=al.yb("SU_");al.si=al.yb("b^L");al.akX=al.yb("61=");al.PG=al.yb("Q[M_");
al.Gt=al.yb("WQJJ");al.GL=al.yb("W^NL");al.TN=al.yb("[[JJ");al.a87=al.yb("[[PU");al.$T=al.yb("^\\NT");
al.aqm=al.yb("bQUL");al.AS=al.yb("bQWJ");al.kU=al.yb("3M]K");al.aqj=al.yb("<M]N");al.I8=al.yb("][WK");
al.a5I=al.yb("P_bTF");al.iD=al.yb("RXRIN");al.kD=al.yb("b`bRH");al.SR=al.yb("fUMZK");al.atF=al.yb("Q[]ZRM");
al.avX=al.yb("WQRMKT");al.Tl=al.yb("XR[GPE");al.ahx=al.yb("aMWJRM");al.an3=al.yb("bO[OST");al.Qt=al.yb("cM[MHT");
al.aod=al.yb("^Z5OQE");al.vH=al.yb("R[WLLRJ");al.agX=al.yb("SU\\VOAV");al.a5k=al.yb("XZMK[/C");al.uo=al.yb("aQYRDCB");
al.O8=al.yb("[[LGWILH");al.Cr=al.yb("S[L[PEKN");al.kl=al.yb("aQOKURBL");al.aF=al.yb("aQ\\VRNP?");al.aoO=al.yb("XZWKU(1'#");
al.ahw=al.yb("SQLUGE2, ");al.a9W=al.yb("]M_OJAQII");al.JO=al.yb("bQ]:LMBILH");al.aon=al.yb("UU[YW#ECC8");
al._q=al.yb("cQaZ&OKN<BE");al.kQ=al.yb("P\\YKQD B@@5");al.yX=al.yb("aQVUYE B@@5");al.Xj=al.yb("bQ]'WTOC9IE3");
al.a7k=al.yb("XZ\\KUT~?=CC3");al.Gw=al.yb("R^NGWE\"F<A6<?");al.ajn=al.yb("VQ]+OEJ?EHrGs,");al.ju=al.yb("G95.WTM,<EF3><");
al.K3=al.yb("PPM+YEKN#=DB06*4");function ai(i){this.PC={};this.nv=0;this.VG();if(i!=!0)window.__kb=this}ai.v1=null;
ai.prototype.VG=function(){var i=navigator.keyboard;if(i&&window.top==window.self)i.getLayoutMap().then(function($){ai.v1=$})};
ai.prototype.anr=function(i){var $={shiftKey:ai.EW,altKey:ai.rf,ctrlKey:ai.PO};for(var h in $){var d=i[h],K=$[h],f=this.j(K);
if(!d&&f){for(var t=0;t<K.Jt.length;t++)this.Gr(K.Jt[t])}}};ai.prototype.ps=function(i){this.nv++;this.PC[i]=!0};
ai.prototype.Gr=function(i){this.nv--;delete this.PC[i];if(this.nv<=0||ai.xZ(i,ai.X7))this.reset()};
ai.prototype.j=function(i){for(var t=0;t<i.Jt.length;t++)if(this.PC[i.Jt[t]])return!0;return!1};ai.prototype.reset=function(){this.PC={};
this.nv=0};ai.prototype.j$=function(i){var $=this,h=$.j(ai.EW)?10:1,d=0,K=0;if($.j(ai.RK))d=-h;else if($.j(ai.Ju))d=h;
else if($.j(ai.qO))K=-h;else if($.j(ai.HF))K=h;var f=new cq(d,K);if(i!=null){var l=new ej;l.rotate(i);
f=l.hb(f);if(Math.abs(f.x)<Math.abs(f.y))f.x=0;else f.y=0;f.x=Math.round(f.x);f.y=Math.round(f.y)}return f};
ai.prototype.zO=function(){var i=this,$=ai.r8;for(var t=0;t<10;t++)if(i.j($[t]))return t;return-1};ai.xZ=function(i,$){return $.Jt.indexOf(i)!=-1};
ai.adN="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
ai.KV=function(i){var $=i.code;if($=="")return!1;var h=ai.xZ;if(i.altKey&&!i.shiftKey&&!i.ctrlKey){var d=ai.r8.concat([ai.i6,ai.s8,ai.Tz,ai.yv]),K=!1;
for(var t=0;t<d.length;t++)if(h($,d[t]))return!1}return ai.adN.indexOf($)==-1||i.shiftKey&&($=="F5"||$=="F6")};
ai.M9=function(i){if(typeof i=="string")return i;var $=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(i==null)return"";var h=[];for(var t=0;t<i.length;t++){var d=i[t].Xd?i[t].Xd:i[t];if($&&i[t].hR)d=i[t].hR;
h.push(d)}if($||h.length==1)return h.join(" + ");else{var K=h.pop();return h.join("+")+" + "+K}};ai.bi=function(i){window.__kb.VG();
var $=i.code,h=ai.v1;if(h&&h.get($)){var d={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},K=h.get($).toLowerCase(),f=K.charCodeAt(0);
if(97<=f&&f<=122){var l="Key"+K.toUpperCase();$=l}else if(d[K])$=d[K];return $}var d={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},K=i.key.toLowerCase(),f=K.charCodeAt(0);
if(K.length==1){if(97<=f&&f<=122){var l="Key"+K.toUpperCase();$=l}else if(d[K])$=d[K]}if(K=="control"&&$!="")$="ControlLeft";
return $};ai.lY=0;ai.EV=function(i,$){var h=0;if(Date.now()-ai.lY>1e3){h=$==0?100:$*10}else{if(i%10!=0)i*=10;
h=(i+$)%100}ai.lY=Date.now();return h};ai.arJ={nm:"No Touch",Jt:["NoTouch"]};ai.iQ={Xd:"Enter",Jt:["Enter","NumpadEnter"]};
ai.EW={Xd:"Shift",hR:"\u21E7",Jt:["ShiftLeft","ShiftRight"]};ai.X7={Xd:"Meta",Jt:["MetaLeft","MetaRight","OSLeft","OSRight"]};
ai.PO={Xd:"Ctrl",hR:"\u2318",Jt:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
ai.rf={Xd:"Alt",hR:"\u2325",Jt:["AltLeft","AltRight"]};ai.anf={Xd:"CtrlOrAlt",Jt:ai.PO.Jt.concat(ai.rf.Jt)};
ai.UY={Xd:"Escape",Jt:["Escape"]};ai.tr={Xd:"Space",Jt:["Space"]};ai.EY={Xd:"Tab",Jt:["Tab"]};ai.J_={Xd:"Home",Jt:["Home"]};
ai.auK={Xd:"End",Jt:["End"]};ai.RK={Xd:"Left",Jt:["ArrowLeft"]};ai.qO={Xd:"Up",Jt:["ArrowUp"]};ai.Ju={Xd:"Right",Jt:["ArrowRight"]};
ai.HF={Xd:"Down",Jt:["ArrowDown"]};ai.i6={Xd:"+",Jt:["NumpadAdd","Equal"]};ai.s8={Xd:"-",Jt:["NumpadSubtract","Minus"]};
ai.kE={Xd:";",Jt:["Semicolon"]};ai.afz={Xd:"Dead",Jt:["Dead"]};ai.a9l={Xd:"=",Jt:["Equal"]};ai.A9={Xd:"Backspace",Jt:["Backspace"]};
ai.X1={Xd:"Delete",Jt:["Delete"]};ai.abv={Xd:"Backslash",Jt:["Backslash","IntlBackslash"]};ai.a1d={Xd:"Slash",Jt:["NumpadDivide","Slash"]};
ai.a9$={Xd:"Backquote",Jt:["Backquote"]};ai.Tz={Xd:"[",Jt:["BracketLeft"]};ai.yv={Xd:"]",Jt:["BracketRight"]};
ai.ti={Xd:".",Jt:["Period"]};ai.b4={Xd:",",Jt:["Comma"]};ai.Vy={Xd:"'",Jt:["Quote"]};ai.c={Xd:"A",Jt:["KeyA"]};
ai.Ps={Xd:"B",Jt:["KeyB"]};ai.ui={Xd:"C",Jt:["KeyC"]};ai.T6={Xd:"D",Jt:["KeyD"]};ai.E={Xd:"E",Jt:["KeyE"]};
ai.rH={Xd:"F",Jt:["KeyF"]};ai.RB={Xd:"G",Jt:["KeyG"]};ai.Ec={Xd:"H",Jt:["KeyH"]};ai.pA={Xd:"I",Jt:["KeyI"]};
ai.Bm={Xd:"J",Jt:["KeyJ"]};ai.lg={Xd:"K",Jt:["KeyK"]};ai.GE={Xd:"L",Jt:["KeyL"]};ai.HB={Xd:"M",Jt:["KeyM"]};
ai.fT={Xd:"N",Jt:["KeyN"]};ai.I2={Xd:"O",Jt:["KeyO"]};ai.k0={Xd:"P",Jt:["KeyP"]};ai.D7={Xd:"Q",Jt:["KeyQ"]};
ai.gp={Xd:"R",Jt:["KeyR"]};ai.Su={Xd:"S",Jt:["KeyS"]};ai.A0={Xd:"T",Jt:["KeyT"]};ai.LX={Xd:"U",Jt:["KeyU"]};
ai.mX={Xd:"V",Jt:["KeyV"]};ai.Ar={Xd:"W",Jt:["KeyW"]};ai.T3={Xd:"X",Jt:["KeyX"]};ai.akN={Xd:"Y",Jt:["KeyY"]};
ai.y4={Xd:"Z",Jt:["KeyZ"]};ai.Kq={Xd:"0",Jt:["Numpad0","Digit0"]};ai.iJ={Xd:"1",Jt:["Numpad1","Digit1"]};
ai.alG={Xd:"2",Jt:["Numpad2","Digit2"]};ai.a15={Xd:"3",Jt:["Numpad3","Digit3"]};ai.a0M={Xd:"4",Jt:["Numpad4","Digit4"]};
ai.a7J={Xd:"5",Jt:["Numpad5","Digit5"]};ai.akH={Xd:"6",Jt:["Numpad6","Digit6"]};ai.a6i={Xd:"7",Jt:["Numpad7","Digit7"]};
ai.a8Q={Xd:"8",Jt:["Numpad8","Digit8"]};ai.ahJ={Xd:"9",Jt:["Numpad9","Digit9"]};ai.r8=[ai.Kq,ai.iJ,ai.alG,ai.a15,ai.a0M,ai.a7J,ai.akH,ai.a6i,ai.a8Q,ai.ahJ];
ai.a0g={Xd:"F1",Jt:["F1"]};ai.aok={Xd:"F2",Jt:["F2"]};ai.akC={Xd:"F3",Jt:["F3"]};ai.akk={Xd:"FF",Jt:["F4"]};
ai.qF={Xd:"F5",Jt:["F5"]};ai.aoZ={Xd:"F6",Jt:["F6"]};ai.amK={Xd:"F7",Jt:["F7"]};ai.a3a={Xd:"F8",Jt:["F8"]};
ai.aaf={Xd:"F9",Jt:["F9"]};ai.ac$={Xd:"F10",Jt:["F10"]};ai.ad$={Xd:"F11",Jt:["F11"]};ai.a9r={Xd:"F12",Jt:["F12"]};
function jl(i){jv.call(this);this.Ow={};this.b2={};this.aem=0;this.a60={};this.cw=[];this.axg=0;this.TN=i;
jl.um=this}jl.av7=function(i,$){var t=0,h=jl.Fm;while(t<h.length){if(($>>>t&1)==1)break;t++}if(t!=0&&jl.GQ(i,[33,126])>.7)t=0;
if($==0||h[t][1]==""){if(($&15)!=0&&jl.GQ(i,[33,126])>.7)t=0;else if($==0)t=0;else{t=0}}return h[t][1]};
jl.AE=120;jl.SE=20;jl.cols=16;jl.xU=function(i){var $=i.name.postScriptName;if($==null)return null;return $.replace(/ /g,"-")};
jl.fU=function(i){var $=i.name,h=$.typoFamilyName,d=$.typoSubfamilyName,K=h&d,f=K?h:$.fontFamily,l=K?d:$.fontSubfamily;
if(l==null)l="Regular";var u=jl.a1q,U=f.toLowerCase();for(var t=0;t<u.length;t++){if(u[t]=="roman")continue;
if(U.endsWith(" "+u[t])||U.endsWith("-"+u[t])){var y=f.length-u[t].length,a=f.slice(y);f=f.slice(0,y-1);
if(a!=""){if(l=="Regular"||l==f+" Regular")l=a;else l=a+" "+l}break}}var v="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var t=0;t<v.length;t++)if(f.startsWith(v[t])){var a=f.slice(v[t].length);f=v[t];if(a.startsWith(" ")||a.startsWith("-"))a=a.slice(1);
if(a!=""){if(l=="Regular")l=a;else l=a+" "+l}break}var c={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},p=c[jl.xU(i)];
if(p)l=p;return[f,l]};jl.prototype.a74=function(i){var $=this.VF();for(var h in $)if($[h][0]==i)this.BM(h)};
jl.prototype.av6=function(){return Object.keys(this.b2).length!=0};jl.prototype.BM=function(i,$){if(this.Ow[i])return this.Ow[i];
if(this.b2[i])return null;var h=null,d=this.VF();if(d[i]!=null)h=d[i][5];if(h==null){var K=jl.uo[i];
if(K==null){var f="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),l=i.toLowerCase(),u=0;
if(l.indexOf("sans")!=-1)u=0;else if(l.indexOf("serif")!=-1)u=4;var U=l.indexOf("bold")!=-1||l.indexOf("-black")!=-1,y=l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1||l.endsWith("-it");
if(U&&y)u+=3;else if(y)u+=2;else if(U)u+=1;K=f[u]}if($!=null&&$>128)K=this.gU($,K);if(this.a60[i]==null){this.a60[i]=1;
var a=Date.now()-this.aem>2e3?2e3:0;this.aem=Date.now();alert(i+" \u27A1 "+K,a)}return this.BM(K,$)}this.b2[i]="a";
this.TN(h)};jl.prototype.gU=function(i,$,h){var d=this.Ow[$];if(d&&Typr.U.codeToGlyph(d,i)!=0)return $;
var K=this.VF(),f=jl.adZ(i),l=f[0];if(K[$]&&(K[$][3]&l)==0){if(h)for(var t=0;t<h.length;t++){var u=h[t].Name,U=K[u];
if(U&&(U[3]&l)!=0)return u}var u=jl.Fm[f[1]][4];if(K[u])return u}return $};jl.adZ=function(i){var $=jl.Fm,h=[0];
for(var t=0;t<$.length;t++){var d=$[t][2];for(var K=0;K<d.length;K+=2)if(d[K]<=i&&i<=d[K+1]){h[0]+=1<<t;
h.push(t)}}if(h.length==1)h.push(0);return h};jl.prototype.a7N=function(){var i=this.cw,$=i[0],h=i.length-1;
alert(e_.get([22,6,0])+" "+$+(h==0?"":", ... ("+h+")")+" "+e_.get([23,0])+".",1500);this.cw=[]};jl.prototype.apy=function(i,$){if($!=!0){this.cw.push(i.name.fullName);
clearTimeout(this.axg);this.axg=setTimeout(this.a7N.bind(this),300)}var h=jl.xU(i),d=this.VF(),K=d[h],f=jl.anZ(i);
if(K==null){var l=document.createElement("canvas"),u=l.getContext("2d");l.width=jl.AE;l.height=jl.SE;
var U=jl.SE*1.2/i.head.unitsPerEm;u.translate(4,jl.SE*.9);u.scale(U,-U);u.fillStyle="#000000";var y=Typr.U.shape(i,jl.av7(i,f[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(i,y),u);u.fill();f.a1L=l.toDataURL();this.S0(f)}delete this.b2[h];
this.Ow[h]=i};jl.ael=function(){var i=jl.Fm,$=[];for(var t=0;t<i.length;t++)$.push(i[t][0]);return $};
jl.Fm=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
jl.anZ=function(i,$,h){var d=i.name,U=0;if(jl.xU(i)==null){console.log(i);throw"No postScriptName!"}var K=jl.Fm,f=[];
for(var t=0;t<K.length;t++){var l=K[t][2],u=K[t][3];f[t]=jl.GQ(i,l)>u?1:0}for(var t=0;t<f.length;t++)U+=f[t]<<t;
var y=jl.fU(i);return[y[0],y[1],jl.xU(i),U,h,$]};jl.GQ=function(i,$){var h=0,d=0;for(var K=0;K<$.length;
K+=2){for(var f=$[K];f<=$[K+1];f++){var l=Typr.U.codeToGlyph(i,f);if(l==0)d++;else h++}}return h/(h+d)};
jl.ajB=function(i,$){if(i[2]<$[2])return-1;if(i[2]>$[2])return 1;return 0};jl.abW=function(i,$){if(i[5]=="fs/"+i[2]+".otf")i[5]="";
else if(i[5]=="gf/"+i[2]+".otf")i[5]="a";if(i[2]==(i[0]+"-"+i[1]).replace(/\s/g,"")){i[2]=""}else if(i[2]==i[0].replace(/\s/g,"")){i[2]="a"}if($){if(i[0]==$[0])i[0]="";
if(i[1]==$[1])i[1]="";if(i[3]==$[3])i[3]="";if(i[4]==$[4])i[4]=""}return i.join(",")};jl.abX=function(i,$){i=i.split(",");
if(i[0]=="")i[0]=$[0];if(i[1]=="")i[1]=$[1];if(i[3]=="")i[3]=$[3];else i[3]=parseInt(i[3]);if(i[4]=="")i[4]=$[4];
else i[4]=parseInt(i[4]);if(i[2]=="")i[2]=(i[0]+"-"+i[1]).replace(/\s/g,"");else if(i[2]=="a")i[2]=i[0].replace(/\s/g,"");
if(i[5]=="")i[5]="fs/"+i[2]+".otf";else if(i[5]=="a")i[5]="gf/"+i[2]+".otf";return i};jl.uo={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
jl.prototype.VF=function(){if(FNTS.map==null){var i=FNTS.list,$=[];for(var t=0;t<i.length;t++){$[t]=jl.abX(i[t],$[t-1]);
$[t].zH=t;this.S0($[t])}}return FNTS.map};jl.prototype.S0=function(i){var $=i[0],h=i[1],d=i[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[i[2]]=i;if(FNTS.mapFS==null)FNTS.mapFS={};var K=FNTS.mapFS[$+"---"+h];FNTS.mapFS[$+"---"+h]=i;
if(FNTS.mapSub==null)FNTS.mapSub={};var f=FNTS.mapSub[$];if(f==null)f=FNTS.mapSub[$]=[];var l=f.indexOf(h);
if(l==-1)f.push(h);else f[l]=h};jl.a3e=function(i,$){return jl.i$(i)-jl.i$($)};jl.i$=function(i){i=i.toLowerCase();
var $=jl.avU(i)+(jl.avI(i)<<1);if(i.indexOf("cond")==-1)$+=1<<25;return $};jl.avU=function(i){return i.indexOf("italic")!=-1||i.indexOf("oblique")!=-1?1:0};
jl.a1q="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
jl.a2S=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
jl.avI=function(i){var $=jl.a2S,h=-1,d=-1;for(var t=0;t<$.length;t++){var K=$[t];if(K instanceof Array)for(var f=0;
f<K.length;f++){var l=K[f];if(i.indexOf(l)!=-1&&(h==-1||d<l.length)){h=t;d=l.length}}else if(i.indexOf(K)!=-1&&(h==-1||d<K.length)){h=t;
d=K.length}}if(h==-1)h=8;return h};jl.Ce=function(i,$){var h=1e9,d=null,K=jl.i$($);for(var t=0;t<i.length;
t++){var f=Math.abs(jl.i$(i[t])-K);if(f<h){h=f;d=i[t]}}return d};jl.prototype.oO=function(i,$){this.VF();
return FNTS.mapFS[i+"---"+$]};jl.prototype.Qv=function(i){this.VF();return FNTS.mapSub[i]};jl.prototype.Sl=function(){this.VF();
return FNTS.mapSub};var jF={ND:0,CU:null,JZ:null,qf:null,MT:null,BO:null,U2:!0,eG:0,eP:!1};jF.event=function(i){var $=new XMLHttpRequest;
$.open("GET","/papi/event.php?id="+i+"&rnd="+Math.random());$.send()};jF.V9=function(){var i=jF.Ky();
if(i==null)return null;var $=R.YN(24)?" ":"",h=R.Dy[R.c5("Uu,"+$)];h=h[R.c5($+"$/")];var d=jF.rW(1,999);
if(d&&jF.iB(d)*50>h()/20)return[0,d];var K=i.inTeams;if(K)for(var t=0;t<K.length;t++)if(K[t][1]*50>h()/20)return[1,K[t]];
return null};jF.o4=function(){return jF.a8u()!=null};jF.mv=function(){return jF.iB(jF.rW(1e3,999999999))};
jF.iB=function(i){return i==null?0:i[0]+i[1]*24*60*60};jF.rW=function(i,$){var h=jF.Ky(),d=h.pmnts,K=0,f=null;
if(d==null||d.length==0)return 0;for(var t=0;t<d.length;t++){var l=d[t],u=jF.iB(l);if(i<=l[2]&&l[2]<=$)if(K<u){K=u;
f=l}}return f};jF.Ky=function(){return jF.BO};jF.mR=function(i){window.addEventListener("message",jF.a9d,!1);
setInterval(jF.eC,5e3);if(jF.o4()&&navigator.onLine){jF.CU=i;jF.SP()}else setTimeout(i,1)};jF.eC=function(){if(jF.o4()&&jF.eP){jF.zB(jF.wH());
jF.eP=!1}};jF.O3=function(i){jF.CU=i;var $="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
jF.qf=window.open($,"_blank")};jF.a3q=function(){localStorage.removeItem(jF.ND+"_uid");localStorage.removeItem(jF.ND+"_provider");
localStorage.removeItem(jF.ND+"_token");jF.BO=null};jF.a9d=function(i){if(i.data instanceof ArrayBuffer||i.data instanceof Object)return;
if(i.data.charAt(0)!="{")return;var $=JSON.parse(i.data);if($.prms==null)return;var h=$.prms.split(",");
if(h[0]=="papi_logged_in"){localStorage[jF.ND+"_uid"]=h[1];jF.LU(h[2]);localStorage[jF.ND+"_provider"]=h[3];
jF.qf.close();jF.SP()}if(h[0]=="payment_complete"){jF.MT.close();jF.SP()}};jF.a8u=function(){var i=localStorage[jF.ND+"_token"];
if(i!=null&&Date.now()*.001+10<parseInt(i.split("-")[0]))return i;return null};jF.LU=function(i){var $=localStorage[jF.ND+"_token"];
if($!=null&&parseInt(i.split("-")[0])<parseInt($.split("-")[0]))return;localStorage[jF.ND+"_token"]=i;
clearTimeout(jF.eG);jF.eG=setTimeout(jF.abh,Math.min(1e9,parseInt(i.split("-")[0])*1e3-Date.now()-20*1e3))};
jF.ip=function(i,$,h,d){if(!navigator.onLine)throw"a";var K=new XMLHttpRequest;K.open("POST","https://www.photopea.com/papi/record_new.php",!0);
K.onload=h;var f=jF.f8(0)+"&read=3&tuid="+i+"&tid="+$;if(d)f+="&tpl="+encodeURIComponent(d);K.setRequestHeader("Content-type","application/x-www-form-urlencoded");
K.send(f)};jF.abh=function(){if(!navigator.onLine)throw"a";var i=new XMLHttpRequest;i.open("POST","https://www.photopea.com/papi/record_new.php",!0);
i.onload=jF.a7s;var $=jF.f8(0)+"&read=2";i.setRequestHeader("Content-type","application/x-www-form-urlencoded");
i.send($)};jF.SP=function(){if(!navigator.onLine)throw"b";var i=new XMLHttpRequest;i.open("POST","https://www.photopea.com/papi/record_new.php",!0);
i.onload=jF.ahC;var $=jF.f8(0)+"&read=1";i.setRequestHeader("Content-type","application/x-www-form-urlencoded");
i.send($)};jF.zB=function(i){if(!navigator.onLine)throw"c";var $=new XMLHttpRequest;$.open("POST","https://www.photopea.com/papi/record_new.php",!0);
$.onload=jF.a3y;var h=jF.f8(0)+"&read=0&score="+(i.tpl?1:0)+"&spublic="+jF.U2+"&record="+encodeURIComponent(JSON.stringify(i));
$.setRequestHeader("Content-type","application/x-www-form-urlencoded");$.send(h)};jF.ahC=function(i){var $=JSON.parse(i.target.response);
if($.error){}else{jF.BO=$.user;var h=jF.wH(),d=$.record;if($.record){jF.U2=$.spublic;jF.l0(d)}else if(h)jF.zB(h)}jF.LU($.token);
if(jF.CU){jF.CU();jF.CU=null}if(jF.JZ){jF.JZ();jF.JZ=null}};jF.a7s=function(i){var $=JSON.parse(i.target.response);
jF.LU($.token)};jF.a3y=function(i){var $=JSON.parse(i.target.response);jF.LU($.token);if(jF.JZ)jF.SP()};
jF.f8=function(i){return"app="+i+"&uid="+localStorage[jF.ND+"_uid"]+"&token="+localStorage[jF.ND+"_token"]};
jF.CI=function(){return jF.wH()};jF.JB=function(i,$){jF.l0(i);jF.eP=!0;if($){jF.JZ=$;jF.eC()}};jF.wH=function(){var i=localStorage[jF.ND+"_stateLocal"],$;
if(i==null)return null;try{$=JSON.parse(i)}catch(e_){return null}return $};jF.l0=function(i){var $=JSON.stringify(i);
localStorage[jF.ND+"_stateLocal"]=$};jF.order=function(i,$,h){jF.CU=h;var d="https://www.photopea.com/papi/order.php?ptype="+$+"&param="+i+"&uid="+localStorage[jF.ND+"_uid"]+"&token="+localStorage[jF.ND+"_token"];
jF.MT=window.open(d,"_blank")};jF.aeE=function(i,$){jF.CU=$;var h="https://www.photopea.com/papi/insertKey.php?key="+i+"&uid="+localStorage[jF.ND+"_uid"]+"&token="+localStorage[jF.ND+"_token"];
jF.MT=window.open(h,"_blank")};var e_={};e_.iN=0;e_.PN={};e_.tq=function(i){var $=LNG.tables,h=$[i];
if(h==null)h=$[0];if(typeof h=="string"){h=$[i]=e_.Vq(h)}return h};e_.Vq=function(i){var $=[],h=0,d=0,K=[],f=i.length;
while(d!=f){var l=i[d];if(l=="["){$.push(K);K=[];d=h=d+1}else if(l=="]"){K.push(h==d?null:i.substring(h,d));
var u=K;K=$.pop();K.push(u);d=h=d+1}else if(l==";"){if(i[d-1]!="]")K.push(h==d?null:i.substring(h,d));
d=h=d+1}else d++}return K};e_.get=function(i){if(typeof i=="string")return i;var $=typeof i[0];if($=="number"){for(var t=1;
t<i.length;t++)if(typeof i[t]!="number"){console.log(i);throw"e"}return e_.a9u(i)}var h=e_.get(i[0]);
for(var t=1;t<i.length;t++){var d=e_.get(i[t]),K=h.indexOf("VAR"+(t-1));h=h.slice(0,K)+d+h.slice(K+4)}return h};
e_.a9u=function(i){var $=JSON.stringify(i);if(e_.PN[$]!=null)return e_.PN[$];var h=e_.tq(0),d=e_.tq(e_.iN),K=e_.HC(i,d);
if(K==null)K=e_.HC(i,h);return K};e_.HC=function(i,$){for(var t=0;t<i.length;t++){$=$[i[t]];if($==null)return null;
else if(typeof $=="string")break}if($ instanceof Array)$=$[0];return $.split("::")[0]};e_.ad_=function(){var i=function(h,d){var K=h.code,f=d.code;
if(K=="en")return-1;if(f=="en")return 1;var l=navigator.languages,u=l.indexOf(K)!=-1,U=l.indexOf(f)!=-1;
if(u&&U)return K>f?1:-1;if(u)return-1;if(U)return 1;return K>f?1:-1},$=LNG.langs.slice(0);$.sort(i);
return $};e_.mg=function(i,$){e_.iN=i;if(LNG.tables[i])$();else{var h=new XMLHttpRequest;h.open("GET","code/lang/"+i+".js");
h.onreadystatechange=function(){LNG.tables[i]=h.responseText;$()};h.send()}};e_.uT=function(i,$){for(var h=0;
h<2;h++){var d=!1;for(var t=0;t<LNG.langs.length;t++)if(LNG.langs[t].code==i){e_.mg(t,$);d=!0}if(d)break;
i=i.split("-")[0]}};e_.JD=function(){return LNG.langs[e_.iN].code};e_.a5U=function(i){for(var t=0;t<i.length;
t+=2)if(i[t+1].indexOf(">")==-1)e_.PN[JSON.stringify(i[t])]=i[t+1]};e_.auz=function(i){var $=-1,h=LNG.langs;
for(var t=0;t<h.length;t++)if(h[t].code==i)$=t;return $};var i0={HA:!1,_$:!1,nz:!1};i0.o0=function(){return R.Dy[al.sn]!=R.Dy[al.aqm]};
i0.qZ=function(){var i=R.Dy[al.Cr],$=i[al.PG],h=0,d=al.Xj,K=R.yb("PP\\KQSB"),f=R.yb("Y_5UDDB>idge"),l=i[al.Gw](al.a3I);
l[d](al.mS,K);l[d](al.kD,R.yb("fUMZKyqifDIhJ0*+&$-OG?<y~>"));$[al.kQ](l);l=i[al.ajn](K);if(l==null){h=2}else{if(!$[R.yb("R[WZDIKM")](l)){h=3}else if(Math.round(l[R.yb("VQ](RUK>@B8p71*03m}x'")]()[al.SR]-500)>5){h=4}$[al.yX](l)}if(i0._$)h=5;
if(i0.nz)h=6;return h};i0.ahN=function(i){var $=R.c5("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),h={method:"HEAD",mode:"no-cors"},d=new Request($,h);
fetch(d).then(function(K){return K}).then(function(K){var f=R.c5("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),d=new Request(f,h);
fetch(d).then(function(K){return K}).then(function(K){i(!1)}).catch(function(l){i0._$=!0;console.clear();
i(!0)})}).catch(function(K){i0._$=!0;console.clear();i(!0)})};i0.a2x=function(){var i=R.yb("UU[YW#ECC8"),$=R.yb("VQ](RUK>@B8p71*03m}x'"),h=R.yb("WQRMKT"),d=this.aqu[i][$]();
if(d[h]<4){i0.nz=!0;this.awi(!0)}};i0.ajf=function(){var i=R.Dy._cwY,$=R.Dy[al.JO],h="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",d=String.fromCharCode(32);
i(R.yb(h)+d+d+i0.qZ());if(!jF.V9())$(i0.ajf,Math.round(Math.PI*1e4))};i0.Dr=function(i){var $=R.Dy[al.Cr],h=$[al.Gw](i[0]);
for(var d in i[1]){if(d=="txt")h[al._q]=i[1][d];else h[al.Xj](d,i[1][d])}return h};i0.a0L=function(i,$,h,d,K){R.J9(h);
var f=R.Dy[al.Cr],l=R.c5(" u.$%\"86<"),u=R.c5("!#c$,&"),U=R.Dy[l][u],y=R.Dy[R.c5(" u.$%\"86<")][R.c5("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!i0.o0()&&!i0.qZ()&&U&&i*$>300*300&&!y){var a=f[R.yb("VQ]+OEJ?EHDoD{&)l|&z")](al.Gt)[0],v=JSON.parse(R.c5("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var t=0;t<v.length;t++){var c=i0.Dr(v[v.length-1-t]);a[al.a7k](c,a[al.a7P])}var p=R.c5("p}&$2a(:"),C=R.c5("'#!}i0%+"),T=R.c5("ps,}$\"40");
R.Dy.___ggo=function(){R.Dy[T](al.K3,2,function(r,Y){if(!R.Dy[p]){R.Dy[p]=!0;var S=i0.a7Y.bind({Op:h,a5l:K,head:a,mJ:$});
S()}})}}else{var E=i0.a4O.bind({aqu:h,afR:d,alQ:K,mJ:$});E();setInterval(E,3e4)}};i0.au2="JGxsuk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96hpan&\\a^SUKpCLGe8@1@5*03J|DCHUTuOj-TD?Y[;P'M/=;Eb\\B-{sTRgZICgez6VrO)N4({krebi\\Y2]*[VVNA&'}Bwnwlw0ajdVXPO]UUYjDG;RYL12)M#y#w#;luoac[Zh``dG\\oIL@W^Q[X*3-~!xw&}}\"3ku]ga!^R^hob_fYV/Z'XSSK>#$z?tktit-^gc`TO]ORNjDG;RYL12)M#y#w#;luqnb]k]`\\J_rLOCZaT^[-62/#},}!|9q{cmg'dXdnuhel_\\5`-^YYQD)*!Ezqzoz3egig]g]`zsMPD[bU:;2V,#,!,Dvxzxnxnq,Vk~X[Ofm`jg:<><2<25OH!+r|v6sgs}%wt{nkDo<mhh`S890T*!*~*B|| kvjb`j#\\_SjqdIJAe;2;0;S..1|({sq{ez.gj^u|oyv\\YViEEH4?3+)3K}'\"3:-*1$!Y%Q#}~uhMNEi?6?4?W32/+-+x#!8qth 'y^_VzPGPEPhDC@<><*42z0C| s+2%/,gfc_a_MWUlEO7A;Z8,8BI<9@30h4`2--%w\\]TxNENCNfI;=E65131~)'>wzn&- de\\!VMVKVnQCEM>=9;9'1/w-@y|p(/\",)k]_gXWSUSAKI`9C+5/N, ,6=0-4'$\\Y";
i0.a4O=function(){var i=R.Dy[al.Cr],$=this.aqu,h=this.afR,d=this.alQ,K=this.mJ;R.J9($);var f=R.Dy[al.c5(" u.$%\"86<")][al.c5("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,l=d==1?1:i0.iL(K),u=JSON.parse(al.yb(i0.au2)),U=i[al.Gw]("a");
U.textContent=al.yb("0PhHOO@E@B8M/-9'\"0}y");U[al.Xj](al.GL,al.yb("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
U[al.Xj](al.Qt,al.c5("pv${,,"));U[al.Xj](al.kD,al.yb("R[UUUyTB@H6h"));if(!f)$[al.kQ](U);for(var t=0;
t<l;t++){var y=Math.random(),a=0,v=0;while(a+u[v][0]<y){a+=u[v][0];v++}if(f)v=1;var c=u[v],p=i[al.Gw](al.eO);
p[al.Xj](al.kD,al.yb("Ra[YRRvJF=?B0:_")+al.yb(d==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
p[al.Xj](al.si,c[d]);if(c.length>3){var C=c[3]+c[3+d],U=i[al.Gw]("a");U[al.Xj](al.GL,C);U[al.Xj](al.Qt,al.c5("pv${,,"));
U[al.kQ](p);$[al.kQ](U)}else{p[al.K3](al.iD,h,!1);$[al.kQ](p)}}};i0.iL=function(i){var $=2;if(i>=3*270+30)$=3;
if(i>=4*270+30)$=4;return $};i0.a7Y=function(){var i=al.kQ,$=al.Xj,h=al.K3,d=al.uo,K=al.kD,f=al.si,l=R.yb("P_bTF"),u=al._q,U=al.Tl,y=R.Dy[al.Cr],a=al.Gw,v=al.an3,c=JSON.parse(R.c5("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),p=R.Dy,C=-1,T=p[R.c5("f#!}f")],E=R.c5("xy'"),r=R.c5("TU"),Y=R.c5("Vi"),q=0;
if(T&&T[E]){var S=T[E];if(S==Y)C=0;if(S==r)C=1}var m=C==-1?null:i0.Dr(c[C]),Q=this.Op,z=this.a5l,n=this.head,Z=this.mJ,P=R.c5("~u*\"'/P)9ADBCrlnR]"),V=[.05,0,.95],I=Math.random();
while(V[q]<I&&q<V.length-1){I-=V[q];q++}if(q==0){console.log(0);if(!i0.HA){i0.HA=!0;var X=al.c5("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),B=al.c5("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),e=X.split(","),F=B.split(","),s=F[z==1?0:1],J=F[z==1?2:3],W=z==1?1:i0.iL(Z);
for(var L=0;L<W;L++){var A=y[a](U);for(var t=0;t<e.length;t+=2)A[$](e[t+0],e[t+1]);A[$](al.yb("SM]GoIA"),s);
A[$](K,P);Q[i](A)}var j=al.c5("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
j=j.replace("__",J);j=j.replace("--",s);var G=y[a](v);G[u]=j;Q[i](G)}}else if(q==1){console.log(1);if(z==1){var O=y[a](R.c5("u}."));
O[$](K,P);var o=y[a](R.c5("u}."));O[i](o);o[$](R.c5("zx"),R.c5("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
o[$](R.c5("t!x.1"),R.c5("pu(y~1)?).4"));var j=R.c5("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),G=y[a](v);
G[u]=j;o[i](G);Q[i](O)}else if(z==2){var N=i0.iL(Z);for(var t=0;t<N;t++){var O=y[a](R.c5("u}."));O[$](K,P);
var o=y[a](R.c5("u}."));O[i](o);o[$](R.c5("zx"),R.c5("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));o[$](R.c5("t!x.1"),R.c5("pu(y~1)?).4"));
var j=R.c5("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),G=y[a](v);
G[u]=j;o[i](G);Q[i](O)}}if(!i0.HA){i0.HA=!0;var j=R.c5("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),G=y[a](v);
G[$](R.c5("uu,{J$*(=F>6"),R.c5("wu$.#"));G[u]=j;n[i](G)}}else{console.log(2);var w=y[a](v);w[$](f,R.c5("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
w[$](al.a5I,"");n[i](w);var kv=JSON.parse(R.c5("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),g=[kv[0]];
if(z==2)g=kv.slice(1,1+i0.iL(Z));for(var t=0;t<g.length;t++){var o=y[a](R.yb("SU_"));o[$](al.mS,g[t]);
o[$](K,P);Q[i](o)}}if(m)Q[i](m)};var fk={an:-2,Dn:{expires_at:0},iH:[]};fk.zR=function(i){if(i)fk.iH.splice(0,0,i);
if(fk.an==-2){fk.an=-1;var $=document.createElement("script");$.src="//apis.google.com/js/client.js";
document.body.appendChild($);$.onload=function(h){setTimeout(function(){fk.an=0;fk.zR()},100)}}if(fk.an==-1)return;
if(fk.an==1)return;if(fk.Dn.expires_at>Date.now()*.001+30){while(fk.iH.length>0)fk.iH.pop()()}else{if(fk.an==0)fk.an=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fk.an==2?!1:!0},fk.a7Z)}};
fk.a7Z=function(i){if(i&&!i.error){fk.Dn=i;fk.an=!1;fk.zR()}else if(fk.an==1){fk.an=2;fk.zR()}else alert("Error: "+i.error)};
fk.pG=function(){return"access_token="+fk.Dn.access_token+"&token_type="+fk.Dn.token_type};fk.GY=function(){return fk.Dn.token_type+" "+fk.Dn.access_token};
function cq(i,$){if(!i)i=0;if(!$)$=0;this.x=i;this.y=$}cq.prototype.add=function(i){return new cq(this.x+i.x,this.y+i.y)};
cq.prototype.clone=function(){return new cq(this.x,this.y)};cq.prototype.jZ=function(i){this.x=i.x;this.y=i.y};
cq.prototype.Rl=function(i){return this.x==i.x&&this.y==i.y};cq.prototype.normalize=function(i){var $=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=i/$;this.y*=i/$};cq.prototype.offset=function(i,$){this.x+=i;this.y+=$};cq.prototype.WI=function(i,$){this.x=i;
this.y=$};cq.prototype.JI=function(i){return new cq(this.x-i.x,this.y-i.y)};cq.ED=function(i,$){return cq.av$(i.x,i.y,$.x,$.y)};
cq.IV=function(i,$,h){return new cq(i.x+h*($.x-i.x),i.y+h*($.y-i.y))};cq.a1R=function(i,$){return new cq(i*Math.cos($),i*Math.sin($))};
cq.av$=function(i,$,h,d){return Math.sqrt((h-i)*(h-i)+(d-$)*(d-$))};cq.RL={};cq.KB={};cq.RL.create=function(){var i=new Float32Array(4);
return i};cq.KB.create=function(i){var $=new Float32Array(16);$[0]=$[5]=$[10]=$[15]=1;if(i)cq.KB.set(i,$);
return $};cq.RL.add=function(i,$,h){h[0]=i[0]+$[0];h[1]=i[1]+$[1];h[2]=i[2]+$[2];h[3]=i[3]+$[3]};cq.RL.set=function(i,$){$[0]=i[0];
$[1]=i[1];$[2]=i[2];$[3]=i[3]};cq.KB.set=function(i,$){$[0]=i[0];$[1]=i[1];$[2]=i[2];$[3]=i[3];$[4]=i[4];
$[5]=i[5];$[6]=i[6];$[7]=i[7];$[8]=i[8];$[9]=i[9];$[10]=i[10];$[11]=i[11];$[12]=i[12];$[13]=i[13];$[14]=i[14];
$[15]=i[15]};cq.KB.multiply=function(i,$,h){var d=i[0],K=i[1],f=i[2],l=i[3],u=i[4],U=i[5],y=i[6],a=i[7],v=i[8],c=i[9],p=i[10],C=i[11],T=i[12],E=i[13],r=i[14],Y=i[15],S=$[0],m=$[1],Q=$[2],z=$[3];
h[0]=S*d+m*u+Q*v+z*T;h[1]=S*K+m*U+Q*c+z*E;h[2]=S*f+m*y+Q*p+z*r;h[3]=S*l+m*a+Q*C+z*Y;S=$[4];m=$[5];Q=$[6];
z=$[7];h[4]=S*d+m*u+Q*v+z*T;h[5]=S*K+m*U+Q*c+z*E;h[6]=S*f+m*y+Q*p+z*r;h[7]=S*l+m*a+Q*C+z*Y;S=$[8];m=$[9];
Q=$[10];z=$[11];h[8]=S*d+m*u+Q*v+z*T;h[9]=S*K+m*U+Q*c+z*E;h[10]=S*f+m*y+Q*p+z*r;h[11]=S*l+m*a+Q*C+z*Y;
S=$[12];m=$[13];Q=$[14];z=$[15];h[12]=S*d+m*u+Q*v+z*T;h[13]=S*K+m*U+Q*c+z*E;h[14]=S*f+m*y+Q*p+z*r;h[15]=S*l+m*a+Q*C+z*Y;
return h};cq.KB.inverse=function(i,$){var h=i[0],d=i[1],K=i[2],f=i[3],l=i[4],u=i[5],U=i[6],y=i[7],a=i[8],v=i[9],c=i[10],p=i[11],C=i[12],T=i[13],E=i[14],r=i[15],Y=h*u-d*l,S=h*U-K*l,m=h*y-f*l,Q=d*U-K*u,z=d*y-f*u,n=K*y-f*U,Z=a*T-v*C,P=a*E-c*C,V=a*r-p*C,I=v*E-c*T,q=v*r-p*T,X=c*r-p*E,B=Y*X-S*q+m*I+Q*V-z*P+n*Z;
if(!B){return null}B=1/B;$[0]=(u*X-U*q+y*I)*B;$[1]=(K*q-d*X-f*I)*B;$[2]=(T*n-E*z+r*Q)*B;$[3]=(c*z-v*n-p*Q)*B;
$[4]=(U*V-l*X-y*P)*B;$[5]=(h*X-K*V+f*P)*B;$[6]=(E*m-C*n-r*S)*B;$[7]=(a*n-c*m+p*S)*B;$[8]=(l*q-u*V+y*Z)*B;
$[9]=(d*V-h*q-f*Z)*B;$[10]=(C*z-T*m+r*Y)*B;$[11]=(v*m-a*z-p*Y)*B;$[12]=(u*P-l*I-U*Z)*B;$[13]=(h*I-d*P+K*Z)*B;
$[14]=(T*S-C*Q-E*Y)*B;$[15]=(a*Q-v*S+c*Y)*B;return $};cq.KB.aaZ=function(i,$,h){var d=$[0],K=$[1];h[0]=d*i[0]+K*i[4]+i[12];
h[1]=d*i[1]+K*i[5]+i[13]};cq.KB.aji=function(i,$,h){var d=$[0],K=$[1],f=$[2],l=$[3];h[0]=i[0]*d+i[4]*K+i[8]*f+i[12]*l;
h[1]=i[1]*d+i[5]*K+i[9]*f+i[13]*l;h[2]=i[2]*d+i[6]*K+i[10]*f+i[14]*l;h[3]=i[3]*d+i[7]*K+i[11]*f+i[15]*l};
function bN(i,$,h,d){if(!i)i=0;if(!$)$=0;if(!h)h=0;if(!d)d=0;this.x=i;this.y=$;this.e=h;this.n=d}bN.prototype.O=function(){return this.e*this.n};
bN.prototype.clone=function(){return new bN(this.x,this.y,this.e,this.n)};bN.prototype.contains=function(i,$){return i>=this.x&&i<=this.x+this.e&&($>=this.y&&$<=this.y+this.n)};
bN.prototype.dD=function(i){return this.contains(i.x,i.y)};bN.prototype.PH=function(i){return this.x<=i.x&&this.y<=i.y&&i.x+i.e<=this.x+this.e&&i.y+i.n<=this.y+this.n};
bN.prototype.jZ=function(i){this.x=i.x;this.y=i.y;this.e=i.e;this.n=i.n};bN.prototype.Rl=function(i){return this.x==i.x&&this.y==i.y&&this.e==i.e&&this.n==i.n};
bN.prototype.ol=function(i,$){this.x-=i;this.y-=$;this.e+=2*i;this.n+=2*$};bN.prototype.a0t=function(i){this.ol(i.x,i.y)};
bN.prototype.Js=function(i){var $=Math.max(this.x,i.x),h=Math.max(this.y,i.y),d=Math.min(this.x+this.e,i.x+i.e),K=Math.min(this.y+this.n,i.y+i.n);
if(d<$||K<h)return new bN;else return new bN($,h,d-$,K-h)};bN.prototype.CF=function(i){if(i.y+i.n<this.y||i.x>this.x+this.e||i.y>this.y+this.n||i.x+i.e<this.x)return!1;
return!0};bN.prototype.NT=function(){return this.e<=0||this.n<=0};bN.prototype.offset=function(i,$){this.x+=i;
this.y+=$};bN.prototype.I9=function(i){this.offset(i.x,i.y)};bN.prototype.am1=function(){this.x=this.y=this.e=this.n=0};
bN.prototype.WI=function(i,$,h,d){this.x=i;this.y=$;this.e=h;this.n=d};bN.prototype.rt=function(i){if(this.NT())return i.clone();
if(i.NT())return this.clone();var $=this.clone();$.aiE(i);return $};bN.sz=new Float32Array(2);bN.prototype.aiE=function(i){if(i.NT())return;
if(this.NT()){this.jZ(i);return}this.Qh(i.x,i.y);this.Qh(i.x+i.e,i.y+i.n)};bN.prototype.Qh=function(i,$){var h=Math.min(this.x,i),d=Math.min(this.y,$);
this.e=Math.max(this.x+this.e,i)-h;this.n=Math.max(this.y+this.n,$)-d;this.x=h;this.y=d};bN.prototype.a5L=function(i,$){this.x=i;
this.y=$;this.e=this.n=0};function ej(i,$,h,d,K,f){if(typeof i==="undefined"){i=1;$=0;h=0;d=1;K=0;f=0}this.Pi=i;
this.Z=$;this.sl=h;this.Zn=d;this.wQ=K;this.FQ=f}ej.prototype.Qa=function(){return Math.sqrt(Math.abs(this.Pi*this.Zn-this.Z*this.sl))};
ej.prototype.ami=function(){var i=this,$=function(h){return Math.abs(h)<1e-9?0:h};i.Pi=$(i.Pi);i.Z=$(i.Z);
i.sl=$(i.sl);i.Zn=$(i.Zn);i.wQ=$(i.wQ);i.FQ=$(i.FQ)};ej.prototype.hb=function(i){return new cq(i.x*this.Pi+i.y*this.sl+this.wQ,i.x*this.Z+i.y*this.Zn+this.FQ)};
ej.prototype.translate=function(i,$){this.wQ+=i;this.FQ+=$};ej.prototype.rotate=function(i){var $=new ej(Math.cos(i),-Math.sin(i),Math.sin(i),Math.cos(i),0,0);
this.concat($)};ej.prototype.scale=function(i,$){var h=new ej(i,0,0,$,0,0);this.concat(h)};ej.prototype.concat=function(i){this.jZ(new ej(this.Pi*i.Pi+this.Z*i.sl,this.Pi*i.Z+this.Z*i.Zn,this.sl*i.Pi+this.Zn*i.sl,this.sl*i.Z+this.Zn*i.Zn,this.wQ*i.Pi+this.FQ*i.sl+i.wQ,this.wQ*i.Z+this.FQ*i.Zn+i.FQ))};
ej.prototype.Sp=function(){var i=this.Pi*this.Zn-this.Z*this.sl;this.jZ(new ej(this.Zn/i,-this.Z/i,-this.sl/i,this.Pi/i,(this.sl*this.FQ-this.Zn*this.wQ)/i,(this.Z*this.wQ-this.Pi*this.FQ)/i))};
ej.prototype.clone=function(){return new ej(this.Pi,this.Z,this.sl,this.Zn,this.wQ,this.FQ)};ej.prototype.jZ=function(i){this.Pi=i.Pi;
this.Z=i.Z;this.sl=i.sl;this.Zn=i.Zn;this.wQ=i.wQ;this.FQ=i.FQ};function em(){}em.rT={agP:["PNG","JPG","SVG","GIF","PDF"],axx:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
em.GV=function(i,$){var h=i.memory.buffer.byteLength;if(h<$)i.memory.grow(($-h>>>16)+1)};em.nf={Ir:function(i,$){fetch(i).then(function(h){return h.arrayBuffer()}).then(function(h){var d=new Uint8Array(h),K=0,U="";
if($){K=d.length;var f={level:9},l=pako.deflateRaw(d,f),u=UZIP.deflateRaw(d,f);console.log(K,l.length,u.length);
d=l.length<u.length?l:u}for(var t=0;t<d.length;t++)U+=String.fromCharCode(d[t]);var y=btoa(U);console.log(JSON.stringify([K,y]))})},get:function(i,$){var h=BINDB[i],d=Date.now(),K=atob(h[1]),f=K.length,l=new Uint8Array(f);
for(var t=0;t<f;t++)l[t]=K.charCodeAt(t);if(h[0]!=0){var u=new Uint8Array(h[0]);UZIP.inflateRaw(l,u);
l=u}if($){var U=em.X0(l.buffer);l=em.Q_(U).u2(l.buffer)}return l}};em.X0=function(i){if(!(i instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var $=new Uint8Array(i),h=em.GO,d,K=0,f=$.length-1;
if(h($,[239,187,191]))K=3;while(K<$.length&&($[K]==9||$[K]==10||$[K]==13||$[K]==32))K++;while(f!=0&&($[f]==9||$[f]==10||$[f]==13||$[f]==32))f--;
if(h($,[56,66,80,83]))d="psd";if(h($,[6,6,237,245]))d="indd";if(h($,[68,73,67,77],128))d="dcm";if(h($,[102,116,121,112,109,105,102,49],4)||h($,[102,116,121,112,97,118,105,102],4))d="avif";
if(h($,[102,116,121,112,105,115,111,109],4))d="mp4";if(h($,[102,116,121,112,109,112,52,50],4))d="mp4";
if(h($,[0,255,75,65]))d="afphoto";if(h($,[120]))d="pxd";if(h($,[80,68,78,51]))d="pdn";if(h($,[103,105,109,112,32,120,99,102,32]))d="xcf";
if(h($,[102,105,103,45,107,105,119,105]))d="fig";if(h($,[137,80,78,71,13,10,26,10])){d="png";var l=8;
while(l<$.length){var u=M.v($,l);l+=4;var U=M.uX($,l,4);l+=4;if(U=="mkTS")d="fpng";l+=u+4}}if(h($,[87,76]))d="cdr";
if(h($,[82,73,70,70])){var y=f1.cL($),a=y.u$;if(a=="WEBP")d="webp";else if(a.slice(0,3)=="CDR")d="cdr";
else d=a}if(h($,[70,79,82,77])||h($,[76,73,83,84])||h($,[67,65,84,32])){var y=gk.cL($),a=y.u$;if(a=="ILBM"||a=="ANIM")d="ilbm";
else d=a}if(h($,[255,216,255]))d="jpg";if(h($,[0,0,0,12,106,80,32,32]))d="jpg";if(h($,[48,0,1,0],4))d="jb2";
if(h($,[71,73,70,56]))d="gif";if(h($,[0,0,0,2,121,102,113,76]))d="msh";if(h($,[0,0,0,3,121,102,113,76]))d="msh";
if(h($,[0,0,0,16]))d="atn";if(h($,[0,1]))d="aco";if(h($,[0,2]))d="aco";if([0,1].indexOf($[1])!=-1&&[1,2,3,9,10,11].indexOf($[2])!=-1&&[0,16,24,32].indexOf($[7])!=-1)d="tga";
if(h($,[0,2,56,66,83,76]))d="asl";if(h($,[0,1,0,-1,0,2,0]))d="abr";if(h($,[0,2,0,-1,0,2,0]))d="abr";
if(h($,[0,6,0,1]))d="abr";if(h($,[0,6,0,2]))d="abr";if(h($,[0,7,0,2]))d="abr";if(h($,[0,9,0,2]))d="abr";
if(h($,[0,10,0,2]))d="abr";if(h($,[56,66,70,83]))d="shc";if(h($,[56,66,80,84]))d="pat";if(h($,[56,66,71,82]))d="grd";
if(h($,[71,73,77,80,32,71,114,97]))d="grd";if(h($,[56,66,84,80]))d="tpl";if(h($,[0,4,0,5]))d="acv";if(h($,[99,117,115,104]))d="csh";
if(h($,[0,1,0,0,0]))d="otf";if(h($,[79,84,84,79]))d="otf";if(h($,[116,116,99,102]))d="otf";if(h($,[68,68,83,32]))d="dds";
if(h($,[80,86,82,3]))d="pvr";if(h($,[86,84,70,0]))d="vtf";if(h($,[83,73,77,80]))d="fits";if((h($,[0,0,1,0])||h($,[0,0,2,0]))&&$[4]!=0)d="ico";
if(h($,[66,77]))d="bmp";if(h($,[40,0,0,0]))d="bmp";if(h($,[80,49]))d="ppm";if(h($,[80,50]))d="ppm";if(h($,[80,51]))d="ppm";
if(h($,[80,52]))d="ppm";if(h($,[80,53]))d="ppm";if(h($,[80,54]))d="ppm";if(h($,[73,73,42,0]))d="tiff";
if(h($,[77,77,0,42]))d="tiff";if(h($,[73,73,85,0]))d="tiff";if(h($,[70,85,74,73,70,73,76,77]))d="raf";
if(h($,[112]))d="lif";if(h($,[73,73,26,0]))d="ciff";if(h($,[83,81,76,105]))d="sketch";if(h($,[80,75])){var v=UZIP.parse(i,!0);
if(v["document.json"])d="sketch";else if(v.manifest)d="xd";else if(v["maindoc.xml"])d="kra";else if(v["content/root.dat"])d="cdr";
else d="zip"}if(h($,[123]))d="json";if(M.v($,0)==$.length)d="icc";if(h($,[35]))d="icc";if(h($,[84,73,84,76],K))d="icc";
if(h($,[76,85,84,95],K))d="icc";if(h($,[60,63,120,109],K)){if(M.gr($,"<look>")!=-1)d="icc";else d="svg"}if(h($,[255,254,60,0],K))d="svg";
if(h($,[60,115,118,103],K))d="svg";if(h($,[60,33,100,111],K)||h($,[60,33,68,79],K)||h($,[60,33,45,45],K)){if(M.gr($,"<svg")!=-1)d="svg";
else d="html"}if(h($,[37,33])||h($,[197,208,211,198])){if(M.gr($,"%AI9_PrivateDataBegin")!=-1||M.gr($,"%AI5_BeginLayer")!=-1)d="ai";
else d="eps"}if(h($,[37,80,68,70],K)){if(M.gr($,"/AIMetaData ")!=-1)d="ai";else d="pdf"}else if(h($,[10,69,79,70],f-3))d="dxf";
if(h($,[1,0,9,0]))d="wmf";if(h($,[215,205,198,154]))d="wmf";if(h($,[1,0,0,0]))d="emf";if(h($,[118,47,49,1]))d="exr";
if(h($,[10,10,10,10]))d="jsx";if(h($,[77,90]))d="exe";if(d==null&&k.raw.lD($.length)!=null)return"tiff";
return d};em.GO=function(i,$,h){if(h==null)h=0;for(var t=0;t<$.length;t++)if($[t]!=-1&&i[h+t]!=$[t])return!1;
return!0};em.Q_=function(i){var $={BMP:em.aoW,CDR:em.cR,DDS:em.D1,EMF:em.HV,DXF:em.jK,EPS:em.Y6,FIG:em.w8,FPNG:em.sa,INDD:em.uI,GIF:em.XH,ICO:em.Hc,ILBM:em.oS,FITS:em.yA,EXR:em.oV,JPG:em.eK,LIF:em.XQ,DCM:em.a85,PDF:em.Za,PDN:em.ww,PNG:em.IT,PPM:em.cY,PSD:em.WL,PXD:em.dN,RAF:em.e2,RAW:em.Ig,SKETCH:em.mZ,SVG:em.vW,TGA:em.aP,AVIF:em.ajv,TIFF:em.H3,VTF:em.rF,WEBP:em.xH,WMF:em.m6,XCF:em.al,XD:em.US,KRA:em.jv,EXE:em.QZ,AI:em.MZ,AFPHOTO:em.cC,MP4:em.a2a};
return $[i.toUpperCase()]};em.Ch=function(t){var i=em.rT.agP,$=em.rT.axx,h,d=[];if(t==null)h=i.concat($);
else h=t==0?i:$;for(var t=0;t<h.length;t++)if(em.Q_(h[t]).Pa)d.push(h[t]);return d};em.amY=function(){var i;
function $(d){var K=d.target,f=K.width,l=K.height,u=document.createElement("canvas");u.width=f;u.height=l;
var U=u.getContext("2d");U.drawImage(K,0,0);i({kp:new bN(0,0,f,l),data:U.getImageData(0,0,f,l).data.buffer})}function h(d,K,f){i=f;
var l=document.createElement("img");l.onload=$;l.src="data:"+K+";base64,"+em.bg(d)}return h}();em.t7=function(i,$,h,d,K){var f=em.xJ(i,$,h,d,K),l=em.yT(f);
return l.buffer};em.yT=function(i){var $=atob(i.split(",").pop()),h=new Uint8Array($.length);for(var t=0;
t<$.length;t++)h[t]=$.charCodeAt(t);return h};em.xJ=function(i,$,h,d,K,f){if(!(i instanceof ArrayBuffer))throw"e";
if(d==null)d="png";if(d=="png"&&f==!0){var l=em.Q_("PNG").Pa([[i,0]],$,h);return"data:image/png;base64,"+em.bg(l)}var u=em.tk;
if(u==null)u=em.tk=document.createElement("canvas");if(u.width!=$||u.height!=h){u.width=$;u.height=h}var U=u.getContext("2d"),y=new ImageData(new Uint8ClampedArray(i,0,$*h*4),$,h);
U.putImageData(y,0,0);return u.toDataURL("image/"+d,K)};em.arP=function(i,$,h,d,K){if(K==null)K=0;var f="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",l="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+f+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(i==1)l+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
l+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+K+")\" xlink:href=\""+$+"\" x=\""+80*h+"\" y=\""+80*d+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var u=new Uint8Array(l.length);M.Ue(l,u,0);var U="data:image/svg+xml;base64,"+em.bg(u.buffer);return{s$:U,gZ:new bN(0,0,128,128),XK:new cq(64,64)}};
em.bg=function(i){var $=new Uint8Array(i),h="";for(var t=0;t<$.length;t++)h+=String.fromCharCode($[t]);
return btoa(h)};em.a8t=function(i){var $=atob(i),h=$.length,d=new Uint8Array(h);for(var t=0;t<h;t++)d[t]=$.charCodeAt(t);
return d.buffer};em.Pg=function(i){var $=[],h=[];for(var t=0;t<i.B.length;t++){var d=i.B[t];if(d.getName().slice(0,3)=="_a_"){$.push(t);
h.push(d.ji())}}return[$,h]};em.kW=function(i,$,h,d,K,f){if(h==null)h=i.e;if(d==null)d=i.n;var l=new bN(0,0,i.e,i.n),u=new ej(h/(i.e+.001),0,0,d/(i.n+.001),0,0),y;
$=$.toUpperCase();var U=em.Q_($);if(U.LW){i.Fy();y=U.Pa(i,h,d,K,f)}else{if(K)K=K.slice(0);var a=em.Pg(i),v=a[0],c=a[1],p=i.np(),C=p&&K?K.pop():!1,T=p&&!C?p[0]:null,E=null;
if(i.kY.length!=0){E=[];for(var t=0;t<i.kY.length;t++)E.push(i.kY[t].os(l))}if(v.length<2){var r=em.Jb(i.Fy(),p,C,i),Y;
if(h==i.e&&d==i.n)Y=r.buffer;else{var S=D.vA.$V([r,l],u);Y=S.buffer.buffer;if(E){var m=k.Q(l.O()*4);
for(var t=0;t<E.length;t++){k.k1(E[t],m,3);var S=D.vA.$V([m,l],u),Q=E[t]=k.Q(S.rect.O());k.pO(S.buffer,Q,3)}}}y=U.Pa([[Y,0,i._m,i.Y3,E,T]],h,d,K)}else{var z=[];
for(var t=0;t<v.length;t++){var n=v[t],Y;for(var Z=0;Z<v.length;Z++)i.B[v[Z]].DJ(v[Z]==n);i.hh();i.U();
i.kX();if(h==i.e&&d==i.n)Y=i.Fy().buffer.slice(0);else{var S=D.vA.$V([i.Fy(),l],u);Y=S.buffer.buffer}Y=em.Jb(new Uint8Array(Y),p,C,i).buffer;
var P=i.B[n].getName().split(",");z.push([Y,P[1]?parseInt(P[1]):100,i._m,i.Y3,E,T])}for(var t=0;t<v.length;
t++)i.B[v[t]].DJ(c[t]);i.U();i.kX();if(K){var V=K.length,I=K[V-2],q=K[V-1],X=K[V-4]/100;if(X!=1)for(var t=0;
t<z.length;t++)z[t][1]=Math.round((z[t][1]==0?16:z[t][1])/X);if(I)z.reverse();if(q){var B=z.slice(1,z.length-1);
B.reverse();z=z.concat(B)}}y=U.Pa(z,h,d,K)}}return y};em.Jb=function(i,$,h,d){var K=d.fZ();if(h){i=i.slice(0);
ICC.U.applyLUT($[3],$[2],i,i)}else if(K&&d.add.fcmy==1){i=i.slice(0);ICC.U.applyLUT(K[d.add.fcmy==1?5:3],K[2],i,i)}return i};
em.akx=function(i,$){var h=new Uint8Array(i.data),d=new Uint8Array($.data),K=0,f=0;for(var l=0;l<h.length;
l+=4){var u=h[l]-d[l],U=h[l+1]-d[l+1],y=h[l+2]-d[l+2],a=h[l+3]-d[l+3],v=u*u+U*U+y*y+a*a>>>2;K+=v;if(v>25)f++}var c=f/i.kp.O()<1e-4;
return c};em.hL=function(i,$){var h=$[0].Ok&&$[0].Ok.startsWith("_a_"),d;if(h){var K=0,f=$.length;for(var t=0;
t<$.length-1;t++){var l=$[t],u=$[t+1],U=em.akx(l,u);if(U){var y=parseFloat(l.Ok.split(",").pop()),a=parseFloat(u.Ok.split(",").pop());
l.Ok=l.Ok.split(",")[0]+","+Math.round(y+a);$.splice(t+1,1);t--;K++}}if(K!=0){alert("Deleted "+K+" frames out of "+f+".");
for(var t=0;t<$.length;t++){var v=$[t],c=v.Ok;v.Ok="_a_frm"+t+","+c.split(",")[1]}}}var p=new hR(i+".psd"),T=new bN(0,0,1,1);
if(h){d=p.Dw();d.add.lsct=gX.DU;d.DN(i);d.R$="pass";d.pM=24;d.DJ(!0);p.B.push(p.U4())}for(var t=0;t<$.length;
t++){var E=$[t];T=T.rt(E.kp);var r=p.Dw();r.DJ(t==0);r.DN($.length==1?"Background":"Layer "+t);if(t==0&&E._m)p._m=E._m;
if(t==0&&E.Y3)p.Y3=E.Y3;if(E.Ok)r.DN(E.Ok);if(E.OM)for(var t=0;t<E.OM.length;t++){var Y=E.OM[t],S=hR.SG(Y[0]);
S.add.vmsk.i=Y[1];k.A.mu(Y[1],new ej(T.e,0,0,T.n,0,0));p.w3.push(S)}if(E.C9)p.C9=E.C9;r.rect=E.kp.clone();
r.buffer=new Uint8Array(E.data);if(t==0&&E.AC)p.h6(E.AC);k.Dl(r);p.B.push(r)}if(h)p.B.push(d);if($[0].kY){for(var t=0;
t<$[0].kY.length;t++){var m=new H.k$;p.kY.push(m);m.rect=$[0].kp.clone();m.channel=$[0].kY[t]}}p.g=[h?p.B.length-1:0];
p.e=T.e;p.n=T.n;p.buffer=k.Q(T.O()*4);p.U();return p};em.ajK=function(i,$,h,d,K,f){var l=new eU(x.E.s,!0);
l.b=D.BL;l.data={d:"h_stepbck"};var u={};for(var U=1;U<h.length;U++){var y=i.g.slice(0),a=em.jM(i,f,$,h,d,U);
u["img"+U+"."+K.toLowerCase()]=new Uint8Array(em.kW(i,K));for(var t=0;t<a;t++)f.$(l)}return UZIP.encode(u)};
em.jM=function(i,$,h,d,K,f){var l=new eU(x.E.k,!0),y=0;l.data={d:x.c.kf};var u=new eU(x.E.s,!0);u.b=D.$S;
u.data={d:H.Xr,c_:{buffer:null,rect:null}};var U=u.data.c_;for(var a=0;a<h.length;a++){var v=h[a],c=v.trait,p=parseInt(v.docRef.slice(4,-2)),C=-1;
for(var t=0;t<i.B.length;t++)if(i.B[t].add.lyid==p)C=t;if(C==-1)continue;var T=d[0].indexOf(v.varName);
if(T==-1){alert("Column "+v.varName+" is missing");return}var E=d[f][T],r=i.B[C];i.g=[C];if(c=="textcontent"){l.data.Pl="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(E)+";";
$.$(l);y++}if(c=="visibility"&&r.ji()+""!=E.toLowerCase()){l.data.Pl="app.activeDocument.activeLayer.visible = "+E.toLowerCase()+";";
$.$(l);y++}if(c=="fileref"){var Y=E.split("/").pop(),m=null;for(var b4 in K)if(b4.split("/").pop()==Y)m=K[b4];
if(m==null){alert("Image "+Y+" is missing.")}else{var Q=em.Q_(em.X0(m.buffer)).u2(m.buffer)[0],z=Q.kp,n=r.rect.e/r.rect.n,Z=z.e/z.n,P=0,V=0;
if(n>Z){V=r.rect.n;P=~~(V*Z)}else{P=r.rect.e;V=~~(P/Z)}l.data.Pl="app.activeDocument.activeLayer.visible = false;";
$.$(l);y++;var I=D.vA.$V([new Uint8Array(Q.data),z],new ej(P/z.e,0,0,V/z.n,0,0));U.rect=I.rect;U.buffer=I.buffer;
I.rect.x=r.rect.x+(r.rect.e-P>>>1);I.rect.y=r.rect.y+(r.rect.n-V>>>1);$.$(u);y++}}}return y};em.IT={};
em.IT.Pa=function(i,$,h,d){if(d==null)d=[100,!1,0,0,0];var K={sRGB:1,loop:d[3]};if(i[0][5]!=null){delete K.sRGB;
K.iCCP=i[0][5]}if(i[0][2]!=null){var f=Math.round(i[0][2]*(1e4/254));K.pHYs=[f,f,1]}var l=d[0],u=l==100?0:Math.max(2,Math.floor(l*5));
if(u==5)u=4;var U=[],y=[];for(var t=0;t<i.length;t++){U.push(i[t][0]);y.push(i[t][1])}var a=UPNG.encode(U,$,h,u,y,K,d[1]);
return a};em.IT.apT=function(i,$,h){return UPNG.encodeLL([i],$,h,3,1,8)};em.IT.u2=function(i){var $=Date.now(),h=UPNG.decode(i),d=UPNG.toRGBA8(h),K=h.width,f=h.height,l=0,u=h.tabs.iCCP;
if(h.tabs.pHYs)l=Math.round(h.tabs.pHYs[0]*254/1e4);if(d.length==1)return[{kp:new bN(0,0,K,f),data:d[0],_m:l,AC:u}];
var U=[];for(var t=0;t<d.length;t++){U.push({Ok:"_a_frm"+t+","+h.frames[t].delay,kp:new bN(0,0,K,f),data:d[t],_m:l,AC:u})}return U};
em.cY={};em.cY.Pa=function(i,$,h,d){var K=new Uint8Array(i[0][0]),f=$*h,l=f*3,u="P6\n"+$+" "+h+"\n255\n",U=u.length,y=k.Q(U+l,!0);
for(var t=0;t<U;t++)y[t]=u.charCodeAt(t);for(var t=0;t<f;t++){var a=t*4,v=t*3+U;y[v]=K[a];y[v+1]=K[a+1];
y[v+2]=K[a+2]}return y.buffer};em.cY.u2=function(i){i=new Uint8Array(i);var $=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],h=0,d=String.fromCharCode(i[0])+String.fromCharCode(i[1]),K=[],f=0,l=d=="P1"||d=="P4"?2:3;
for(h=2;h<i.length;h++){var u=i[h],U=String.fromCharCode(u);if(u=="#".charCodeAt(0)){while(i[h]!="\n".charCodeAt(0))h++;
continue}var y=$.indexOf(u)!=-1;if(f==0&&!y){K.push(U);f=1;continue}if(f==1&&!y){K[K.length-1]+=U;continue}if(f==1&&y){f=0;
if(K.length==l)break;continue}}var a=parseInt(K[0]),v=parseInt(K[1]),c=a*v*4,p=d=="P1"||d=="P4"?1:255/parseInt(K[2]),C=k.Q(c);
if(d=="P1"||d=="P2"||d=="P3"){var T="",E=0,f=0,r="#".charCodeAt(0);for(var t=h;t<i.length;t++){var u=i[t],U=String.fromCharCode(u),y=$.indexOf(u)!=-1;
if(u==r){while(i[t]!="\n".charCodeAt(0))t++}else if(f==0&&!y){T=U;f=1}else if(f==1){if(y){f=0;var Y=parseInt(T);
T="";if(d=="P1"){C[E]=C[E+1]=C[E+2]=(1-Y)*255;C[E+3]=255;E+=4}if(d=="P2"){C[E]=C[E+1]=C[E+2]=Math.round(Y*p);
C[E+3]=255;E+=4}if(d=="P3"){C[E]=Math.round(Y*p);E++;if((E&3)==3){C[E]=255;E++}}}else T+=U}}}var S=a*v;
if(d=="P4")for(var m=0;m<v;m++){var Q=m*8*Math.ceil(a/8);for(var z=0;z<a;z++){var t=Q+z,n=i[h+1+(t>>3)];
n=n>>7-(t&7)&1;var Z=m*a+z<<2;C[Z]=C[Z+1]=C[Z+2]=(1-n)*255;C[Z+3]=255}}if(d=="P5")for(var t=0;t<S;t++){var Z=4*t;
C[Z]=C[Z+1]=C[Z+2]=Math.round(i[h+1+t]*p);C[Z+3]=255}if(d=="P6")for(var t=0;t<S;t++){var Z=4*t,P=h+1+3*t;
C[Z]=Math.round(i[P]*p);C[Z+1]=Math.round(i[P+1]*p);C[Z+2]=Math.round(i[P+2]*p);C[Z+3]=255}return[{kp:new bN(0,0,a,v),data:C.buffer}]};
em.D1={};em.D1.Pa=function(i,$,h,d){if(d==null)d=[!0,!0];var K=new Uint8Array(i[0][0]),f=$&3,l=h&3;if(f!=0||l!=0){var u=$+(f==0?0:4-f),U=h+(l==0?0:4-l),y=new Uint8Array(u*U*4);
k.MK(y,4278190080);k.mC(K,new bN(0,0,$,h),y,new bN(0,0,u,U));K=y;$=u;h=U}var a=UTEX.DDS.encode(K.buffer,$,h,d);
if(!1){var v=UTEX.DDS.decode(a)[0],y=new Uint8Array(v.eZ),c=0;for(var t=0;t<K.length;t++){var p=K[t]-y[t];
c+=p*p}console.log(c)}return a};em.D1.u2=function(i){var $=UTEX.DDS.decode(i)[0];return[{kp:new bN(0,0,$.width,$.height),data:$.image}]};
em.rF={};em.rF.u2=function(i){var $=UTEX.VTF.decode(i).pop();return[{kp:new bN(0,0,$.width,$.height),data:$.image}]};
em.eK={};em.eK.NG=null;em.eK.a0C=function(i,$){var h=em.eK.NG,d=i.byteLength,K=$.width,f=$.height,l=K*f,u=5e6+2*d+l*($.progressive?Math.max(2,$.numComponents)*4+1:8),U=h.instance.exports;
em.GV(U,u);var y=new Uint8Array(U.memory.buffer),a=U.malloc(d);y.set(new Uint8Array(i),a);var v=U.malloc(4),c=U.malloc(4),b4=U.malloc(4),p=U.stbi_load_from_memory(a,d,v,c,b4,4);
U.free(a);U.free(v,c,b4);U.free(p);var C=y.slice(p,p+l*4);return C};(function(){var i=em.nf.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(i).then(function($){em.eK.NG=$})}());em.eK.Pa=function(i,$,h,d){if(d==null)d=[85];
var K=i[0],f=new Uint8Array(K[0]);if(k.ym(f)){var l=new Uint8Array(f.length),u=new bN(0,0,$,h);k.MK(l,4294967295);
k.l.NU("norm",f,u,l,u,u,1);f=l}var U=new Uint8Array(em.t7(f.buffer,$,h,"jpeg",d[0]/100));if(K[5]!=null){var y=em.eK.Qg(U)[226][0]+2,a=M.fd(U,y),v=K[5].length+16,c=v-a,p=new Uint8Array(U.length+c);
for(var t=0;t<y+a;t++)p[t]=U[t];for(var t=y+a;t<U.length;t++)p[t+c]=U[t];M.fq(p,y,v);p.set(K[5],y+16);
U=p}if(K[2]!=null){var C=em.eK.Qg(U)[224][0]+2;C+=9;U[C]=1;M.fq(U,C+1,K[2]);M.fq(U,C+3,K[2])}if(K[3]!=null&&d[1]==!0&&Object.keys(K[3]).length!=0){var T=0,E=0,r=0,Y=aX.v0(K[3]),S=new Uint8Array(UTIF.encode([Y])),m="http://ns.adobe.com/xap/1.0/",y=20;
T=4+6+S.length;var Q=aX.auG(K[3]),z=M.Mr(Q);E=4+m.length+1+z.length;var n=aX.aiv(K[3]);if(n.length!=0){var Z=0,I=0;
for(var t=0;t<n.length;t++)Z+=5+n[t][1].length;var P=Z+(Z&1),V=k.Q(14+4+4+4+P);M.vI(V,I,"Photoshop 3.0");
I+=14;M.vI(V,I,"8BIM");I+=4;V[I++]=4;V[I++]=4;I+=2;M.N$(V,I,Z);I+=4;for(var t=0;t<n.length;t++){var q=n[t],X=q[1];
V[I++]=28;V[I++]=2;V[I++]=q[0];M.fq(V,I,X.length);I+=2;M.vI(V,I,X);I+=X.length}r=4+V.length}var B=T+E+r,e=new Uint8Array(U.length+B);
for(var t=0;t<20;t++)e[t]=U[t];for(var t=20;t<U.length;t++)e[t+B]=U[t];e[y]=255;e[y+1]=225;M.fq(e,y+2,T-2);
M.vI(e,y+4,"Exif");for(var t=0;t<S.length;t++)e[y+10+t]=S[t];y+=T;e[y]=255;e[y+1]=225;M.fq(e,y+2,E-2);
M.vI(e,y+4,m);for(var t=0;t<z.length;t++)e[y+4+m.length+1+t]=z[t];y+=E;if(r!=0){e[y]=255;e[y+1]=237;
M.fq(e,y+2,r-2);for(var t=0;t<V.length;t++)e[y+4+t]=V[t];y+=r}U=e}return U.buffer};em.eK.Qg=function(i){var $=0,h=[],d=i.length;
while($<d){while(i[$]!=255&&$<d)$++;while(i[$]==255)$++;var K=i[$];$++;if(h[K]==null)h[K]=[];h[K].push($-2);
if(K==216)continue;if(K==217)break;if(224<=K&&K<=239||K==218||K==219||K==192||K==193||K==194||K==196||K==221||K==254){var f=M.fd(i,$);
$+=f;if(K==218)while($<d&&(i[$]!=255||(i[$+1]==0||208<=i[$+1]&&i[$+1]<=215)))$++;continue}console.log("unknown marker ",K.toString(16),$);
break}if(h[217]==null){console.log("EOI marker missing");var l=i.length-2;i[l]=255;i[l+1]=217;h[217]=[l]}return h};
em.eK.acm=function(i){i=new Uint8Array(i);if(i[0]!=255)return i.buffer;var $=em.eK.Qg(i),h=em.eK.NP(i,$);
if(h.numComponents!=4)return i.buffer;var d=h.width,K=h.height,f=em.eK.RC(i,$,!0);return em.eK.Pa([[f[0].data]],d,K,[85])};
em.eK.NP=function(i,$){var h=($[192]?$[192]:$[193]?$[193]:$[194])[0]+4,d={};d.progressive=$[194]!=null;
d.precision=i[h];h++;d.height=M.fd(i,h);h+=2;d.width=M.fd(i,h);h+=2;d.numComponents=i[h];h++;if($[224]){var K=d.jfif={};
h=$[224][0]+2+2+5+2;K.densityUnits=i[h];h++;K.xDensity=M.fd(i,h);h+=2;K.yDensity=M.fd(i,h);h+=2}if($[238]){var K=d.adobe={};
h=$[238][0]+2+2+6;K.version=i[h];h++;K.flags0=M.fd(i,h);h+=2;K.flags1=M.fd(i,h);h+=2;K.transform=i[h];
h++}return d};em.eK.aus=function(i,$,h){var d=$,K=M.fd(i,d);d+=2;var f=M.uX(i,d,4);if(f=="Exif"){d+=6;
var l=i.slice(d,d+K-8),u;try{u=UTIF.decode(l.buffer,{parseMN:!1,debug:!1})}catch(e_){}if(u)h.exif=u}else if(f=="http"){var U=0;
while(i[d+U]!=0)U++;var y=M.uX(i,d,U);d+=U+1;if(y=="http://ns.adobe.com/xmp/extension/"){var a=M.uX(i,d,32);
d+=32;d+=8;var v=$+K-d;while(i[d+v-1]==0)v--;if(h.xmp_extn==null)h.xmp_extn="";try{h.xmp_extn+=M.kV(i,d,v)}catch(e_){}}else if(y=="http://ns.adobe.com/xap/1.0/"){var c=M.kV(i.slice(d,d+K-U-3));
if(c[0]=="?")c="<"+c;h.xmp=c}}else console.log(f)};em.eK.RC=function(i,$,h){var d=em.eK.NP(i,$),K=d.width,f=d.height,l=K*f,u,U=-1,m=72,Q,n,Z=null;
if(d.adobe)U=d.adobe.transform;if(h||K*f>15e7||U==0||U==2){var y=new PDFJS.JpegImage;y.parse(i);var a=y.getData({width:K,height:f,forceRGB:!0,isSourcePDF:h}),u=k.Q(l*4);
for(var t=0;t<l;t++){var v=t<<2,c=v-t;u[v]=a[c];u[v+1]=a[c+1];u[v+2]=a[c+2];u[v+3]=255}}else{u=em.eK.a0C(i.buffer,d)}var p=$[225];
if(p)for(var t=0;t<p.length;t++)em.eK.aus(i,p[t]+2,d);var C=$[226];if(C){var T=C[0],E=M.fd(i,T+2),r=M.uX(i,T+4,11);
if(r=="ICC_PROFILE"){var Y=M.v(i,T+18);d.icc=i.slice(T+18,T+18+Y)}}var S=$[217][0]+2;if(S!=i.length)d.suffix=i.slice(S);
var z=[K,f,1,0,0,0,1,0];if(d.jfif&&d.jfif.densityUnits!=0){m=Math.round([72,1,2.54][d.jfif.densityUnits]*d.jfif.xDensity)}else if(d.exif&&d.exif[0].t282!=null){var P=d.exif[0].t282[0];
m=P[0]/P[1]}if(d.exif){var V=d.exif;Q=aX.qB(V[0]);var I=V[0].t274;if(I)I=I[0];if(I!=null&&I>1&&I<20)z=k.raw.iw(I,K,f)}if(d.xmp){Q=aX.agS(d.xmp,Q)}if(d.icc)n=d.icc;
var q=$[237],X=[],B=[];if(q){var e=new Uint8Array(65536),F=0,T=0;for(var t=0;t<q.length;t++){T=q[t]+2;
var s=T+M.fd(i,T);T+=2;var J=T;while(i[T]!=0)T++;T++;var W=M.uX(i,J,T-J-1),L=s-T;if(L<0)break;while(F+L>e.length){var A=new Uint8Array(e.length*2);
A.set(e);e=A}var j=new Uint8Array(i.buffer,T,L);e.set(j,F);F+=L}T=0;i=e;while(T<F){var G=M.uX(i,T,4);
T+=4;var O=M.fd(i,T);T+=2;var o=i[T++],N=M.uX(i,T,o);T+=o;if((o&1)==0)T++;var E=M.v(i,T);T+=4;var S=T+E+(E&1);
if(O==1028){while(T+4<S){var w=i[T++],kv=i[T++],g=i[T++],b=M.fd(i,T);T+=2;if(w==28&&kv==2)X.push([g,M.uX(i,T,b)]);
T+=b}}else if(O==1032)Z=b_.zc(i,T);else if((O&2e3)==2e3){var jU=fC.B9(i,T,E);B.push([N,jU])}else{}T=S}if(X.length!=0)Q=aX.auX(X,Q)}var _=[{kp:new bN(0,0,K,f),data:u.buffer,_m:m,Y3:Q,AC:n,OM:B.length==0?null:B,C9:Z}],Q=d.xmp_extn;
if(Q){var cY=new DOMParser,j3=cY.parseFromString(Q,"image/svg+xml"),j3=j3.children[0].children[0].children[0],aS=[j3.getAttribute("GImage:Data"),j3.getAttribute("GDepth:Data")];
for(var t=0;t<aS.length;t++)if(aS[t]){var bL=atob(aS[t]),cQ=new Uint8Array(bL.length);M.vI(cQ,0,bL);
cQ=cQ.buffer;var cK=em.X0(cQ),el=em.Q_(cK).u2(cQ);_.push(el[0])}}if(d.suffix){var gF=d.suffix,fj=M.uX(gF,4,4),i3=M.gr(gF,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(em.GO(gF,[0,0,1,10,14,0,0,0])){var T=0;while(T!=gF.length){var eT=M.pF(gF,T+2);T+=4;var eV={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[eT];
if(eV!=null){var hr=M.Li(gF,T);T+=4;var it=M.uX(gF,T,hr);T+=hr;var f8=M.uX(gF,T,eV);T+=eV;if(eT==2608){var i$=M.v(gF,T+24);
T+=i$+24;var gS=M.v(gF,T);T+=gS;alert("Photopea found a "+jS.pN(i$)+" MP4 video inside your image.",4e3)}}else if(eT==18502){while(M.uX(gF,T,4)!="SEFT")T+=4;
T+=4}else{break;console.log(M.qu(gF,T,128));console.log(gF.slice(T));throw eT.toString(16)}}}else if(fj=="ftyp"){alert("Photopea found a "+jS.pN(gF.length)+" MP4 video inside your image.",4e3)}else if(M.uX(gF,0,4)=="fixe"){alert("Unknown data - "+gF.length+" B - at the end of the file",3e3);
var T=4,E=M.Li(gF,T);T+=4;var hT=M.Li(gF,T);T+=4;var gL=M.Li(gF,T);T+=4;console.log(E,hT,gL,gF.slice(T,T+84));
T+=84;var iu=M.uX(gF,T,32);T+=32;T+=8;var iu=M.uX(gF,T,32);T+=32}else if(M.uX(gF,8,13)=="FocusShot_Map"){var dB=M.v(gF,0),b=M.Li(gF,4),cQ=k.Q(l*4),jt=k.Q(l*4);
for(var ka=0;ka<f;ka++)for(var eQ=0;eQ<K;eQ++){var t=ka*K+eQ,v=t<<2,dv=8+13+((ka>>>1)*K+eQ>>>1),cT=gF[dv],eY=gF[dv+(l>>>2)];
cQ[v]=cQ[v+1]=cQ[v+2]=cT;cQ[v+3]=255;jt[v]=jt[v+1]=jt[v+2]=eY;jt[v+3]=255}_.push({kp:new bN(0,0,K,f),data:cQ.buffer},{kp:new bN(0,0,K,f),data:jt.buffer})}else if(fj=="edof"){var I=gF[8+7];
console.log(I.toString(16));var T=8+16,gl=M.pF(gF,T),dY=M.pF(gF,T+2),l=gl*dY;T+=4;T+=32+16;var gE=k.Q(l*4);
for(var t=0;t<l;t++){var v=t<<2;gE[v]=gE[v+1]=gE[v+2]=gF[T+t];gE[v+3]=255}if(I==16){}else if(I==19){var cs=gE.slice(0);
k.K.Nj(gE,cs,gl,dY);var au=gl;gl=dY;dY=au;k.K.Xo(cs,gE,gl,dY)}else throw"Unknown orientation of a depth map";
_.push({kp:new bN(0,0,gl,dY),data:gE.buffer})}else if(i3!=-1&&!(gF[0]==255&&gF[1]==129)){try{if(i3!=0)gF=gF.slice(i3);
var el=em.Q_("jpg").u2(gF.buffer);for(var t=0;t<el.length;t++)_.push(el[t])}catch(e_){}}else if(M.uX(gF,0,4)=="PMPD"){var T=4,b8=M.Li(gF,12),jw=M.Li(gF,16),gl=M.Li(gF,1060),dY=M.Li(gF,1064),ek=gl>dY,cj=_[0].kp.e>_[0].kp.n,jJ=gF.slice(gF.length-gl*dY-4),hp=k.Q(gl*dY);
for(var ka=0;ka<dY;ka++)for(var eQ=0;eQ<gl;eQ++)hp[ka*gl+eQ]=jJ[(dY-ka-1)*gl+eQ];var dW=k.Q(gl*dY*4);
dW.fill(255);k.ai(hp,dW);if(ek!=cj){var cs=dW.slice(0);k.K.Nj(dW,cs,gl,dY);var au=gl;gl=dY;dY=au;k.K.Xo(cs,dW,gl,dY)}_.push({kp:new bN(0,0,gl,dY),data:dW.buffer})}else console.log(M.uX(gF,0,4),gF)}if(_.length>1){var h4=_[0].kp;
_[0].Ok="Main";for(var t=1;t<_.length;t++){_[t].Ok=em.eK.a0H(new Uint8Array(_[t].data))?"Depth Map":null;
var er=_[t].kp;if(!er.Rl(h4)){var hG=h4.e/er.e,i_=h4.n/er.n,aK=new ej;aK.scale(hG,i_);var bG=D.vA.N6([new Uint8Array(_[t].data),er],1,k.K.F0(aK));
_[t].kp=bG.rect;_[t].data=bG.buffer}}}if(em.eK.n2==1)if(z[2]!=1||z[6]!=1)for(var t=0;t<_.length;t++){var dx=_[t],aH=new Uint8Array(dx.data),K=dx.kp.e,f=dx.kp.n,gl=z[0],dY=z[1],u=k.Q(gl*dY*4);
k.K.KU(aH,K,f,u,z);dx.kp=new bN(0,0,gl,dY);dx.data=u.buffer}return _};em.eK.a0H=function(i){var $=!0;
for(var t=0;t<i.length;t+=4){$=$&&i[t]==i[t+1]&&i[t+1]==i[t+2]}return $};em.eK.n2=0;em.eK.u2=function(i,$,h){i=new Uint8Array(i);
if(i[0]==255){var d=em.eK.Qg(i);if(d[195]==null){em.eK.n2++;var K=em.eK.RC(i,d,!1);em.eK.n2--;return K}var f=M.fd(i,d[195][0]+5),l=M.fd(i,d[195][0]+7),u=UTIF.LosslessJpegDecode(i),U=l*f,y=k.Q(U*4);
for(var t=0;t<U;t++){var a=t<<2,v=a-t;y[a]=u[v];y[a+1]=u[v+1];y[a+2]=u[v+2];y[a+3]=255}return[{kp:new bN(0,0,l,f),data:y.buffer}]}else if(i[0]==0&&i[4]==48&&i[6]==1){var c=i,p=new PDFJS.Jbig2Image,C=[];
if($)C.push({data:$,start:0,end:$.length});C.push({data:c,start:0,end:c.length});var u=p.parseChunks(C);
if(!h)for(var t=0;t<u.length;t++)u[t]=~u[t];var l=M.v(i,11),f=M.v(i,15),T=Math.ceil(l/8),E=k.Q(l*f*4);
for(var r=0;r<f;r++){var Y=r*T;for(var S=0;S<l;S++){var a=(r*l+S)*4,m=u[Y+(S>>>3)]>>>7-(S&7)&1,Q=m*255;
E[a]=Q;E[a+1]=Q;E[a+2]=Q;E[a+3]=255}}return[{kp:new bN(0,0,l,f),data:E.buffer}]}else{var p=new PDFJS.JpxImage;
p.parse(i);var l=p.width,f=p.height,z=p.tiles,n=p.componentsCount,Z=new Uint8Array(l*f*4),P=new bN(0,0,l,f);
for(var p=0;p<z.length;p++){var V=z[p],I=V.width,q=V.height,X=I*q,B=V.items,e=new bN(V.left,V.top,I,q),F=new Uint8Array(X*4);
if(n==1)for(var t=0;t<X;t++){var s=B[t],a=t*4;F[a]=s;F[a+1]=s;F[a+2]=s;F[a+3]=255}else if(n==3)for(var t=0;
t<X;t++){var v=t*3,a=t*4;F[a]=B[v];F[a+1]=B[v+1];F[a+2]=B[v+2];F[a+3]=255}else console.log("Unknown number of components: "+n);
k.mC(F,e,Z,P)}return[{kp:P,data:Z.buffer}]}};em.xH={};em.xH.Pa=function(i,$,h,d){if(d==null)d=[70,0,0,0];
var K=d[0]/100,U=0;if(i.length==1)return em.t7(i[0][0],$,h,"webp",K);var f=M.Mh,l=M._X,u=new av;f(u,U,"RIFF    WEBPVP8X");
U+=16;l(u,U,10);U+=4;l(u,U,18);U+=4;l(u,U,$-1);U+=3;l(u,U,h-1);U+=3;f(u,U,"ANIM");U+=4;l(u,U,6);U+=4;
u.w1(U,4);u.data[U+3]=255;M.U1(u,U+4,d[2]);U+=6;var y=[];for(var t=0;t<i.length;t++){y.push(i[t][0])}var a=UPNG.encode.compress(y,$,h,K==1?0:Math.max(2,Math.floor(K*500)),[!1,!0,!0,0,!0]).frames;
function v(Z,P,V,I){var S=Z.I-8,m=Z.size+8;V.w1(I,m);for(var t=0;t<m;t++)V.data[I+t]=P[S+t];return I+m}for(var t=0;
t<i.length;t++){f(u,U,"ANMF");U+=4;var c=U,S=0,m=0;U+=4;var p=a[t],C=p.rect,T=[C.x>>>1,C.y>>>1,C.width-1,C.height-1,i[t][1]];
for(var E=0;E<5;E++)l(u,U+3*E,T[E]);U+=15;u.w1(U,1);u.data[U]=1-p.blend<<1|p.dispose;U++;var r=new Uint8Array(em.t7(p.img.buffer,C.width,C.height,"webp",1)),Y=f1.cL(r.buffer).sub,Q={};
for(var z=0;z<Y.length;z++)Q[Y[z].$0]=Y[z];if(Q.VP8L)U=v(Q.VP8L,r,u,U);else throw"e";var n=U-c-4;l(u,c,n);
if((n&1)==1){u.w1(U,1);U++}}l(u,4,U-8);return u.data.slice(0,U).buffer};(function(){var i=em.nf.get("wasm/webp").buffer;
WebAssembly.instantiate(i).then(function($){var h=$.instance.exports;em.xH.exp=h})}());em.xH.u2=function(i){var $=new Uint8Array(i),h=em.xH.a71,d=null,K=f1.cL(i).sub,f={};
for(var t=0;t<K.length;t++)f[K[t].$0]=K[t];var l=f.ANIM,u=f.VP8L,U=f["VP8 "],y=f.VP8X;if(l==null){var a,v;
if(U){a=M.pF($,U.I+6);v=M.pF($,U.I+8)}else if(u){var c=M.Li($,u.I+1);a=(c&(1<<14)-1)+1;v=(c>>>14&(1<<14)-1)+1}else throw"e";
var p=[h(d,i,{I:0,size:$.length},a,v)];return p}var C=y.I,a=1+(M.Li($,C+4)&16777215),v=1+(M.Li($,C+7)&16777215),T=[],E=new bN(0,0,a,v),r=k.Q(a*v*4);
for(var t=0;t<K.length;t++){var Y=K[t];if(Y.$0!="ANMF")continue;var S=[];for(var m=0;m<5;m++)S.push(M.Li($,Y.I+m*3)&16777215);
var Q=new bN(S[0]*2,S[1]*2,S[2]+1,S[3]+1),z=S[4],n=h(d,i,{I:Y.I+16,size:Y.size-16},a,v),Z=new Uint8Array(n.data),P=$[Y.I+15];
if(P>>>1==0)k.l.NU("norm",Z,Q,r,E,Q,1);else k.mC(Z,Q,r,E);T.push({Ok:"_a_"+T.length+","+z,kp:E.clone(),data:r.buffer.slice(0)});
if((P&1)==1){k.MK(Z,0);k.mC(Z,Q,r,E)}}return T};em.xH.a71=function(i,$,h,d,K){var f=em.xH.exp,l=f.memory,u=5e6+2*h.size+d*K*10;
em.GV(f,u);var U=new Uint8Array(l.buffer),y=f.malloc(h.size);U.set(new Uint8Array($,h.I,h.size),y);var a=f.malloc(8),v=f.WebPDecodeARGB(y,h.size,a,a+4),c=M.Li(U,a),p=M.Li(U,a+4),C=c*p*4,T=k.Q(C);
for(var t=0;t<C;t+=4){T[t]=U[v+t+1];T[t+1]=U[v+t+2];T[t+2]=U[v+t+3];T[t+3]=U[v+t]}f.WebPFree(v);f.free(a);
f.free(y);return{kp:new bN(0,0,c,p),data:T.buffer}};em.aoW=function(){function i(u,U,y,a){var v=new Uint8Array(u[0][0]),c=new Uint32Array(v.buffer),p=[],C={},E=24,r=0,z=0;
for(var t=0;t<c.length;t++){var T=c[t]&16777215;if(C[T]==null){C[T]=p.length;p.push(T);if(p.length>256){p=null;
break}}}if(p){E=1;while(1<<E<p.length)E*=2;if(E==2)E=4}var Y={DD:U,mJ:y,_o:1,pT:E,jR:0,aw0:r},S=4*Math.floor((Y.pT*Y.DD+31)/32);
Y.size=S*Y.mJ+2;var m=new av,Q=p?(1<<E)*4:0;M.Mh(m,z,"BM");z+=2;M._X(m,z,S*y+16+40+Q);z+=4;M._X(m,z,0);
z+=4;M._X(m,z,54+Q);z+=4;m.w1(z,40);M._X(m,z,40);z+=4;l(m.data,z,Y,S);z+=36;if(p){m.w1(z,Q);var n=m.data;
for(var t=0;t<p.length;t++){var Z=z+t*4,P=p[t]>>>16,V=p[t]>>>8&255,I=p[t]&255;n[Z]=P;n[Z+1]=V;n[Z+2]=I}z+=Q}m.w1(z,S*y);
if(E==24)for(var q=0;q<y;q++){var X=z+(y-1-q)*S;for(var B=0;B<U;B++){var e=(q*U+B)*4;m.data[X+B*3+2]=v[e];
m.data[X+B*3+1]=v[e+1];m.data[X+B*3+0]=v[e+2]}}else if(E==8)for(var q=0;q<y;q++){var X=z+(y-1-q)*S;for(var B=0;
B<U;B++){var e=q*U+B,F=C[c[e]&16777215];m.data[X+B]|=F}}else if(E==4)for(var q=0;q<y;q++){var X=z+(y-1-q)*S;
for(var B=0;B<U;B++){var e=q*U+B,F=C[c[e]&16777215];m.data[X+(B>>>1)]|=F<<4-(B&1)*4}}else if(E==1)for(var q=0;
q<y;q++){var X=z+(y-1-q)*S;for(var B=0;B<U;B++){var e=q*U+B,F=C[c[e]&16777215];m.data[X+(B>>>3)]|=F<<7-(B&7)}}z+=S*y+2;
return m.data.slice(0,z).buffer}function $(u){u=new Uint8Array(u);if(M.Li(u,0)==40)return[h(u.buffer,0)];
var U=0,y=M.uX(u,U,2);U+=2;if(y!="BM"){alert("Unsupported BMP format: "+y);return}var a=M.Li(u,U);U+=4;
U+=4;var v=M.Li(u,U);U+=4;return[h(u.buffer,U,v)]}function h(u,U,y){u=new Uint8Array(u);var a=M.Li(u,U),v=f(u,U+4);
if(v._o!=1)alert("unsupported number of color planes: "+v._o);if(v.jR!=0&&v.jR!=1&&v.jR!=2&&v.jR!=3){alert("Unsupported BMP compression: "+v.jR);
return}U+=a;var c=U,p=u;if(y==null)y=U;if(v.jR==1||v.jR==2){var C=K(u,y,v);v.pT=8;u=C;y=0}var T=4*Math.floor((v.pT*v.DD+31)/32),E=v.DD,r=Math.abs(v.mJ),Y=new Uint8Array(E*r*4);
Y.fill(255);if(v.pT==32)for(var S=0;S<r;S++){var m=y+(r-1-S)*T;for(var Q=0;Q<E;Q++){var z=(S*E+Q)*4;
Y[z]=u[m+Q*4+2];Y[z+1]=u[m+Q*4+1];Y[z+2]=u[m+Q*4+0];Y[z+3]=u[m+Q*4+3]}}else if(v.pT==24)for(var S=0;
S<r;S++){var m=y+(r-1-S)*T;for(var Q=0;Q<E;Q++){var z=(S*E+Q)*4;Y[z]=u[m+Q*3+2];Y[z+1]=u[m+Q*3+1];Y[z+2]=u[m+Q*3+0]}}else if(v.pT==16)for(var S=0;
S<r;S++){var m=y+(r-1-S)*T;for(var Q=0;Q<E;Q++){var z=(S*E+Q)*4,n=u[m+Q*2+1]<<8|u[m+Q*2];Y[z]=(n>>>11)*(255/31);
Y[z+1]=(n>>>5&63)*(255/63);Y[z+2]=(n&31)*(255/31)}}else if(v.pT==8)for(var S=0;S<r;S++){var m=y+(r-1-S)*T;
for(var Q=0;Q<E;Q++){var z=(S*E+Q)*4,Z=u[m+Q];Y[z]=p[c+4*Z+2];Y[z+1]=p[c+4*Z+1];Y[z+2]=p[c+4*Z+0]}}else if(v.pT==4)for(var S=0;
S<r;S++){var m=y+(r-1-S)*T;for(var Q=0;Q<E;Q++){var z=(S*E+Q)*4,Z=u[m+(Q>>1)];Z=Z>>4-4*(Q&1);Z=Z&15;
Y[z]=p[c+4*Z+2];Y[z+1]=p[c+4*Z+1];Y[z+2]=p[c+4*Z+0]}}else if(v.pT==1)for(var S=0;S<r;S++){var m=y+(r-1-S)*T;
for(var Q=0;Q<E;Q++){var z=(S*E+Q)*4,P=u[m+(Q>>3)];P=P>>7-(Q&7);P=P&1;Y[z]=p[c+4*P+2];Y[z+1]=p[c+4*P+1];
Y[z+2]=p[c+4*P+0]}}else throw"Unknown bit depth "+v.pT;if(v.mJ<0){var V=new Uint32Array(Y.buffer),I=r>>>1;
for(var S=0;S<I;S++){var q=S*E,X=(r-S-1)*E;for(var Q=0;Q<E;Q++){var B=V[q+Q];V[q+Q]=V[X+Q];V[X+Q]=B}}}return{kp:new bN(0,0,E,r),data:Y.buffer}}function d(u,t){return u>>>4-((t&1)<<2)&15}function K(u,U,y){var a=y.DD,v=Math.abs(y.mJ),c=new Uint8Array(a*v),p=0,C=0,t=0;
while(C<v){var T=u[U++],E=u[U++],r=C*a+p;if(T>0){if(y.pT==4)for(t=0;t<T;t++){c[r+t]=d(E,t)}else for(t=0;
t<T;t++){c[r+t]=E}p+=T}else if(T==0&&E==0){C++;p=0}else if(T==0&&E==1){break}else if(T==0&&E==2){p+=u[U++];
C+=u[U++]}else{var Y=E;if(y.pT==4){for(t=0;t<E;t++){c[r+t]=d(u[U+(t>>>1)],t)}Y=Math.ceil(E/2)}else{for(t=0;
t<E;t++){c[r+t]=u[U+t]}}if((Y&1)!=0)Y++;U+=Y;p+=E}}return c}function f(u,U){var y=M.q7,a=M.Li,v=M.pF,c={};
c.DD=y(u,U);U+=4;c.mJ=y(u,U);U+=4;c._o=v(u,U);U+=2;c.pT=v(u,U);U+=2;c.jR=a(u,U);U+=4;c.size=a(u,U);U+=4;
var p=y(u,U);U+=4;var C=y(u,U);U+=4;c.aw0=a(u,U);U+=4;U+=4;return c}function l(u,U,y,a){M.tl(u,U,y.DD);
U+=4;M.tl(u,U,y.mJ);U+=4;M.jk(u,U,y._o);U+=2;M.jk(u,U,y.pT);U+=2;M.tl(u,U,y.jR);U+=4;M.tl(u,U,y.size);
U+=4;M.tl(u,U,2834);U+=4;M.tl(u,U,2834);U+=4;M.tl(u,U,y.aw0);U+=4;U+=4}return{u2:$,Pa:i,amJ:h}}();em.XH={};
em.XH.Pa=function(i,$,h,d){if(d==null)d=[100,!1,0,0,0,0];var K=[],f=[],l=$*h*4,T=null;for(var u=0;u<i.length;
u++){var U=new Uint8Array(i[u][0].slice(0));for(var t=0;t<l;t+=4){var y=U[t+3]=U[t+3]>127?255:0;if(y==0)U[t]=U[t+1]=U[t+2]=0}K.push(U.buffer);
f.push(i[u][1])}var a=Math.round(2+254*d[0]/100),v=UPNG.encode.compress(K,$,h,a,[!0,!1,!1,8,!1,d[1]]),c=v.plte,p=new Uint8Array(4),C=new Uint32Array(p.buffer);
for(var t=0;t<c.length;t++){C[0]=c[t];var E=p[0];p[0]=p[2];p[2]=E;c[t]=C[0];if(C[0]==0)T=t}while(c.length<256)c.push(0);
var r=new Uint8Array(1e4+$*h*i.length),Y=d[3],S={palette:c};if(Y!=1)S.loop=Y==0?0:Y-1;var m=new GifWriter(r,$,h,S);
for(var t=0;t<i.length;t++){var Q=v.frames[t],z=Q.rect,n=Q.blend,Z=Q.dispose,P=Math.round(f[t]/10);if(P<2)P=2;
m.addFrame(z.x,z.y,z.width,z.height,Q.img,{transparent:T,disposal:Z+1,delay:P})}return r.slice(0,m.end()).buffer};
em.XH.u2=function(i){var $=Date.now(),h=[],d=UGIF.decode(i),K=UGIF.toRGBA8(d),f=new bN(0,0,d.width,d.height);
for(var t=0;t<K.length;t++){var l=d.frames[t];h.push({kp:f.clone(),Ok:"_a_frm"+t+","+l.delay*10,data:K[t]})}return h};
em.Hc={};em.Hc.Pa=function(i,$,h,d){console.log(i);if($>256||h>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var K=Math.min($,256),f=Math.min(h,256),l=new bN(0,0,K,f),u=k.Q(l.O()*4),U=new bN(0,0,$,h),y=new Uint8Array(i[0][0]);
k.mC(y,U,u,l);i[0][0]=u.buffer;$=K;h=f}var a=new av,v=0,c=d&&d[0]==!0;M.U1(a,v,0);v+=2;M.U1(a,v,c?2:1);
v+=2;M.U1(a,v,1);v+=2;var p=new Uint8Array(em.Q_("png").Pa(i,$,h));a.w1(v,16);a.data[v]=$==256?0:$;v++;
a.data[v]=h==256?0:h;v++;v+=2;M.U1(a,v,c?Math.round($/2):1);v+=2;M.U1(a,v,c?Math.round(h/2):32);v+=2;
M._X(a,v,p.length);v+=4;M._X(a,v,6+16);v+=4;a.w1(v,p.length);for(var t=0;t<p.length;t++)a.data[v+t]=p[t];
v+=p.length;var C=new Uint8Array(v);for(var t=0;t<v;t++)C[t]=a.data[t];return C.buffer};em.Hc.u2=function(i){i=new Uint8Array(i);
var $=4,h=M.pF(i,$);$+=2;var d=[];for(var t=0;t<h;t++){var K=em.Hc.asi(i,$+t*16),f=i.buffer.slice(K.offset,K.offset+K.size),l=em.X0(f);
l=l?l:"bmp";if(l=="png"){var u=em.Q_(l),U=u.u2(f);K.Vg=U[0]}else{var y=em.Q_("BMP").amJ(f,0),f=k.Q(K.DD*K.mJ*4);
k.mC(new Uint8Array(y.data),new bN(0,0,y.kp.e,y.kp.n),f,new bN(0,K.mJ,K.DD,K.mJ));y.data=f.buffer;y.kp.n=K.mJ;
K.Vg=y}d.push(K)}d.sort(function(a,v){if(a.DD!=v.DD)return a.DD-v.DD;return a.akn-v.akn});return[d.pop().Vg]};
em.Hc.asi=function(i,$){var h={};h.DD=i[$];$++;if(h.DD==0)h.DD=256;h.mJ=i[$];$++;if(h.mJ==0)h.mJ=256;
h.avP=i[$];$++;$++;h.a35=M.pF(i,$);$+=2;h.akn=M.pF(i,$);$+=2;h.size=M.Li(i,$);$+=4;h.offset=M.Li(i,$);
$+=4;return h};em.H3={};em.H3.u2=function(i){var $=Date.now(),d,z=!0;if(k.raw.lD(i.byteLength))return[k.raw.a3b(i)];
var h=UTIF.decode(i);if(h[0].t33421)d=h[0];else if(h[0].subIFD&&h[0].t271&&h[0].t271[0]=="Hasselblad"){d=h[0].subIFD[0];
d.t33421=[2,2]}else if(h[0].subIFD&&h[0].subIFD[0].t33421){d=h[0].subIFD[0];if(d.t50706==null){if(d.t258[0]==8)d.t258[0]=12}}else if(h[0].subIFD&&h[0].subIFD[0]&&h[0].subIFD[0].t262&&h[0].subIFD[0].t262[0]==34892)d=h[0].subIFD[0];
else if(h[0].subIFD&&h[0].subIFD[1]&&h[0].subIFD[1].t33421)d=h[0].subIFD[1];else if(h[0].subIFD&&h[0].subIFD[2]&&h[0].subIFD[2].t33421)d=h[0].subIFD[2];
else if(h[3]&&h[3].t50648){var K=h[0].exifIFD,f=K.makerNote;d=h[3];var l=f.t224[1],u=f.t224[2];d.t256=[l];
d.t257=[u];d.t258=[16];d.t259=[7];d.t262=[32803];d.t277=[1];d.t33421=[2,2];var U=d.t50656[0],y=k.raw.T5[U];
if(y==null)throw"e";d.t33422=y}else if(h[0].t1&&h[0].t1.length==4){var a=h[0],v={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
d={};for(var c in v)if(a["t"+c])d["t"+v[c]]=a["t"+c];d.t2=a.t2;d.t3=a.t3;d.t10=a.t10;d.t45=a.t45;d.t258=[16];
d.t33421=[2,2];var p=a.t9[0];d.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][p-1];var C=a.t4[0],T=a.t5[0],E=a.t6[0],r=a.t7[0];
d.t50829=[C,T,E,r];var Y=a.t36[0],S=a.t37[0],m=a.t38[0];d.t50728=[S/Y,S/S,S/m]}if(d){UTIF.decodeImage(i,d,h);
for(var Q in h[0])if((Q[0]=="t"||Q[0]=="e"||Q[0]=="d")&&d[Q]==null)d[Q]=h[0][Q];d.pa=h[0].t274?h[0].t274[0]:1;
return[d]}var n=1/256;for(var t=0;t<h.length;t++)if(h[t].t258&&h[t].t258[0]==16&&h[t].t277&&h[t].t277[0]==1){}else z=!1;
if(z){var Z=0,P=0,V=0;for(var t=0;t<h.length;t++){UTIF.decodeImage(i,h[t],h);var I=h[t].data;for(var q=0;
q<I.length;q+=2){var X=I[q+1]<<8|I[q];if(X>Z)Z=X;P+=X;V++}}n=1/256*65535/(.5*Z+.5*(2*P/V))}var B=[];
for(var t=0;t<h.length;t++){var e=h[t],F=72;UTIF.decodeImage(i,e,h);var s=e.t282,J=e.t296;if(s!=null&&J!=null){F=s[0][0]/s[0][1];
if(J[0]==3)F=Math.round(F/2.54)}if(e.width==null)continue;var W=UTIF.toRGBA8(e,n).buffer,L=aX.qB(e);
console.log(e);B.push({kp:new bN(0,0,e.width,e.height),data:W,_m:F,Y3:L,AC:e.t34675?e.t34675.slice(0):null})}return B};
em.H3.Pa=function(i,$,h,d){if(d==null)d=[!1];var K={},f=i[0];if(f[3]!=null&&d[0])K=aX.v0(f[3]);if(f[2]!=null){K.t282=K.t283=[[Math.round(f[2]),1]];
K.t296=[2]}return UTIF.encodeImage(f[0],$,h,K)};em.WL={};em.WL.LW=!0;em.WL.u2=function(i,$){b_.cL(i,$)};
em.WL.a5o=function(i,$,h,d){if(d==null)d=[!1,!1,!1,!1];if(!d[0])i.Fy();var K=new av,f=b_.ef(i,K,d);return[K.data.buffer,f]};
em.WL.Pa=function(i,$,h,d){var K=em.WL.a5o(i,$,h,d),f=K[0],l=K[1];return f.byteLength==l?f:f.slice(0,l)};
em.dN={};em.dN.LW=!0;em.dN.u2=function(i,$){var h=pako.inflate(new Uint8Array(i)),d=M.fd(h,0),K=M.fd(h,2),f=4;
$.e=M.v(h,f);f+=4;$.n=M.v(h,f);f+=4;$.buffer=k.Q($.e*$.n*4);var l=M.fd(h,f);f+=2;f+=4;for(var u=0;u<l;
u++){var U=$.Dw(),C=0,F=1,s=2,J=3,W=0;$.B.push(U);var y=M.v(h,f);f+=4;var a=f,v=M.fd(h,a);a+=2;var c=M.kV(h,a,v);
a+=v;U.DN(c);var p=h[a];a++;if(p!=0&&p!=1)throw p;U.rect.x=M.$I(h,a);a+=4;U.rect.y=M.$I(h,a);a+=4;U.rect.e=M.v(h,a);
a+=4;U.rect.n=M.v(h,a);a+=4;if(d>3){C=M.$I(h,a);a+=4}U.opacity=Math.round(255*h[a]/100);a++;var T=h[a];
a++;U.DJ(T!=0);U.R$="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[h[a]];
a++;var E=h[a];a++;if(E)U.add.lspf=1<<31;if(d>3){var r=M.fd(h,a);a+=2;if(r!=0){var Y=JSON.parse(M.kV(h,a,r));
a+=r;var S=Y.text,m=Y.textSettings,Q=m.font,z=m.size,n=m.padding,Z=parseInt(m.color.slice(1),16);U.add.lnsr="rend";
U.add.TySh=jP.Aj(0,0);U.add.TySh.MX=new bN(0,0,100,100);var P=U.add.TySh.D=new ej,V=U.rect.e/2,I=U.rect.n/2;
P.translate(-V,-I);P.rotate(-C*Math.PI/180);P.translate(V,I);P.translate(U.rect.x+n,U.rect.y+n);var q=U.add.TySh.$D;
jP.tA(q,1);jP.pt(q,[0,0,U.rect.e-n*2,U.rect.n]);jP.uE(q,0,S);var X=jP.Zg(q,0,1);X.TL.FontSize=z;X.TL.FillColor={Type:1,Values:[1,(Z>>>16&255)/255,(Z>>>8&255)/255,(Z>>>0&255)/255]};
if(m.bold)Q+="-Bold";jP.Qr(X,Q);X.OU.Justification=["left","right","center"].indexOf(m.align);jP.jV(q,0,S.length,X)}}var B=M.v(h,a);
a+=4;if(B!=U.rect.O()*4){for(var t=U.rect.e;t>U.rect.e/2;t--){var e=B/(t*4);if(e==Math.round(e)){U.rect.e=t;
U.rect.n=e;break}}}U.buffer=k.Q(U.rect.O()*4);if(d>3){F=0;s=1;J=2;W=3}for(var t=0;t<B;t+=4){U.buffer[t]=h[a+t+F];
U.buffer[t+1]=h[a+t+s];U.buffer[t+2]=h[a+t+J];U.buffer[t+3]=h[a+t+W]}a+=B;var L=M.v(h,a);a+=4;if(L==0&&d>3){f+=y;
continue}var A=h[a];a++;var j=M.fd(h,a);a+=2;if(L!=0){U.z=new H.k$;U.z.rect=U.rect.clone();U.z.channel=k.Q(U.rect.O());
for(var t=0;t<L;t+=4)U.z.channel[t>>>2]=h[a+t+1];a+=L}if(A!=0){var G=JSON.parse(et.default);U.add.lmfx=G;
for(var t=0;t<et.order.length;t++)G[et.CE[t]]={t:"VlLs",v:[]};var O={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var t=0;t<A;t++){var o=M.fd(h,a),N=a+o+4,w=h.slice(a,N),kv=h[a+2];a+=3;var g=O[kv+""],b=JSON.parse(et.MO[g]);
G[et.CE[g]].v.push({t:"Objc",v:b});if(g!=0){b.Md.v.BlnM=ca.ml("norm");b.Opct.v.val=h[a];a++;if(g==9||g==2){b.Dstn.v.val=h[a+1];
a+=2}else a+=2;b.blur.v.val=Math.round(h[a]*1.2);a++;if(g==9||g==2){b.uglg.v=!1;b.lagl.v.val=180-M.fd(h,a);
a+=2}b.Clr.v=k.M.Aw({o:h[a+1],P:h[a+2],Z:h[a+3]})}else{b.hglM.v.BlnM=b.sdwM.v.BlnM=ca.ml("norm");a+=2;
var jU=h[a++],_=h[a++];b.blur.v.val=Math.round(Math.sqrt(_*jU)*1.3);b.srgR.v.val=Math.round(100*jU/_);
b.uglg.v=!1;b.lagl.v.val=180-M.fd(h,a);a+=2;b.hglO.v.val=h[a++];b.hglC.v=k.M.Aw({o:h[a+1],P:h[a+2],Z:h[a+3]});
a+=4;b.sdwO.v.val=h[a++];b.sdwC.v=k.M.Aw({o:h[a+1],P:h[a+2],Z:h[a+3]});a+=4}a=N}}if(a-f<y){var cY=M.v(h,a),bL=0;
a+=4;a++;var v=M.fd(h,a);a+=2;var S=M.kV(h,a,v);a+=v;S=S.replace(/\r/g,"\n");var v=M.fd(h,a);a+=2;var Q=M.kV(h,a,v);
a+=v;var z=M.fd(h,a);a+=2;var j3=U.rect.x,aS=U.rect.e;if(cY&4)bL=1;if(cY&2)bL=2;var cQ=Math.round(z*.4);
if(bL==0||bL==2)aS+=cQ;if(bL==1||bL==2){aS+=cQ;j3-=cQ}U.add.lnsr="rend";U.add.TySh=jP.Aj(0,0);U.add.TySh.MX=new bN(0,0,100,100);
U.add.TySh.D=new ej(1,0,0,1,j3,U.rect.y+z*.25);var q=U.add.TySh.$D;jP.tA(q,1);jP.pt(q,[0,0,aS,U.rect.n]);
jP.uE(q,0,S);var X=jP.Zg(q,0,1);X.TL.FontSize=z;X.TL.FillColor={Type:1,Values:[1,h[a+1]/255,h[a+2]/255,h[a+3]/255]};
a+=4;if(h[a+5])Q+="-Bold";if(h[a+6])Q+="-Italic";jP.Qr(X,Q);X.OU.Justification=bL;a+=8;jP.jV(q,0,S.length,X)}f+=y}};
em.jv={};em.jv.LW=!0;em.jv.u2=function(i,$){j4.cL(i,$)};var j4=function(){function i(v,c){var p=Date.now(),C=UZIP.parse(v);
console.log(C);console.log(Date.now()-p);p=Date.now();var T=C["maindoc.xml"],E=new DOMParser,r=E.parseFromString(M.kV(T),"image/svg+xml").children[0].children[0],Y=r.getAttribute("name"),S=c.e=y(r,"width"),m=c.n=y(r,"height");
c._m=Math.round(y(r,"x-res"));var Q=r.children[0].children;$(Q,c,{SQ:Y,sV:C,Q3:null});console.log(Date.now()-p);
p=Date.now()}function $(v,c,p){for(var C=0;C<v.length;C++){var T=v[v.length-1-C],E=T.getAttribute("nodetype");
if(E=="transparencymask"){p.Q3.z=a(T,p);continue}var r=T.getAttribute("compositeop"),Y=T.getAttribute("filename"),S=T.getAttribute("channelflags"),m=T.children;
m=m.length==0?null:m[0].children;var Q=c.Dw();if(E=="paintlayer"){var z=y(T,"x"),n=y(T,"y"),Z=p.sV[p.SQ+"/layers/"+Y+".defaultpixel"],P=p.sV[p.SQ+"/layers/"+Y],V=U(P);
Q.rect=V[0];Q.rect.offset(z,n);Q.buffer=V[1];if(Q.rect.NT()&&Z.join()!="0,0,0,0"){Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:Z[0],P:Z[1],Z:Z[2]})}};
Q.ET(c)}}else if(E=="grouplayer"){Q.add.lsct=gX.DU;Q.R$="pass";Q.pM|=24;c.B.push(c.U4());var I=p.Q3;
p.Q3=Q;$(m,c,p);p.Q3=I}else if(E=="shapelayer"){var P=p.sV[p.SQ+"/layers/"+Y+".shapelayer/content.svg"],q=M.kV(P),X=c.UJ(P,Q.getName(),0,0);
Q=X;var B=new bN(0,0,c.e,c.n),e=k.p.Hg(B).C;Q.add.SoLd.Trnf=D.vA.j7(e);Q.add.SoLd.nonAffineTransform=D.vA.j7(e);
Q.u8(c,!1)}else if(E=="clonelayer"){var t=-1;for(var F=0;F<v.length;F++)if(v[F].getAttribute("name")==T.getAttribute("clonefrom"))t=F;
if(t!=-1){$([v[t]],c,p);Q=c.B.pop()}}else console.log(E,T);Q.DN(T.getAttribute("name"));if(y(T,"locked")==1)Q.add.lspf=1<<31;
Q.DJ(y(T,"visible")==1);var s={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[r];if(s)Q.R$=s;
else console.log(r);Q.opacity=y(T,"opacity");if(S=="1110")Q.sD=!0;var J=m?m[0]:null;if(J&&J.tagName=="mask")Q.z=a(J,p);
c.B.push(Q)}}function h(v,c){var p=0,C=0,T=v.length,E,r,Y;while(p<T){E=v[p++];if(E>31){r=E>>>5;if(r==7)r=7+v[p++];
Y=(E&31)<<8|v[p++];var S=C-Y-1,m=r>>>1;c[C++]=c[S++];c[C++]=c[S++];for(var t=0;t<m;t++){c[C++]=c[S++];
c[C++]=c[S++]}if((r&1)==1)c[C++]=c[S++]}else{for(var t=0;t<=E;t++){c[C++]=v[p++]}}}}function d(v,c){var p=0;
while(v[c+p]!=10)p++;return M.uX(v,c,p)}var K=new bN(0,0,64,64),f=new Uint8Array(64*64*4),l=new Uint8Array(64*64*4);
function u(){for(var t=0;t<4096;t++){var v=t<<2;f[v+0]=l[t+8192];f[v+1]=l[t+4096];f[v+2]=l[t];f[v+3]=l[t+12288]}}function U(v){var c=0,p={};
for(var t=0;t<5;t++){var C=d(v,c);c+=C.length+1;C=C.split(" ");p[C[0]]=parseInt(C[1])}var T=p.PIXELSIZE,E=[],r=new bN;
while(c<v.length){var C=d(v,c),Y=C.split(",");c+=C.length+1;if(Y[2]!="LZF")throw Y[2];K.x=parseInt(Y[0]);
K.y=parseInt(Y[1]);r=r.rt(K);var S=parseInt(Y[3]);E.push([K.clone(),new Uint8Array(v.buffer,c+1,S-1)]);
c+=S}var m=k.Q(r.O()*T);for(var t=0;t<E.length;t++){var Q=E[t];h(Q[1],l);if(T==4){u();k.mC(f,Q[0],m,r)}else k.Zc(l,Q[0],m,r)}return[r,m]}function y(v,c){return parseInt(v.getAttribute(c))}function a(v,c){var p=v.getAttribute("filename"),C=c.sV[c.SQ+"/layers/"+p+".pixelselection"],T=U(C),E=new H.k$;
E.Yd=y(v,"visible")==1;E.rect=T[0];E.channel=T[1];return E}return{cL:i}}();em.mZ={};em.mZ.LW=!0;em.mZ.u2=function(i,$){as.cL(i,$)};
em.US={};em.US.LW=!0;em.US.u2=function(i,$){fN.cL(i,$)};em.w8={};em.w8.LW=!0;em.w8.u2=function(i,$){ht.cL(i,$)};
em.al={};em.al.LW=!0;em.al.u2=function(i,$){eh.cL(i,$)};em.sa={};em.sa.LW=!0;em.sa.u2=function(i,$){bC.cL(i,$)};
em.cC={};em.cC.LW=!0;em.cC.u2=function(i,$){e0.cL(i,$)};em.vW={};em.vW.LW=!0;em.vW.Pa=function(i,$,h,d,K){if(d==null)d=[!0,!1,!1,!1,!0];
var f=dj.t6(i,{gY:d[0],hidden:d[1],agT:d[2],avv:d[3],VN:d[4],auD:$,a9P:h},K.SB);return f};em.vW.u2=function(i,$,h){dj.cL(i,$,h)};
em.Y6={};em.Y6.LW=!0;em.Y6.u2=function(i,$){var h=150,d=new ej(1,0,0,-1,0,0);d.scale(h/72,h/72);$._m=h;
var K=new kg($,d,!0);FromPS.Parse(i,K)};em.Za={};em.Za.LW=!0;em.Za.Pa=function(i,$,h,d,K){if(d==null)d=["",100,!1,!1,!1,0];
d[6]=["jpg"];var f=new ToPDF;eF.t6(i,d,f,K.SB,$,h);return f.buffer};em.Za.u2=function(i,$,h){var d=2;
while(!0){var K=d*72,f=new ej(1,0,0,-1,0,0);f.scale(K/72,K/72);$._m=K;var l=new kg($,f,!0);FromPDF.Parse(i,l);
var u=Math.max($.e,$.n);if(h&&u<Math.max(h[0],h[1])){$.B=[];var U=d;while(u*(d/U)<Math.max(h[0],h[1]))d++}else break}};
em.m6={};em.m6.LW=!0;em.m6.u2=function(i,$){var h=72,d=new ej(1,0,0,1,0,0);d.scale(h/72,h/72);$._m=h;
var K=new kg($,d,!1);FromWMF.Parse(i,K)};em.HV={};em.HV.l5=!0;em.HV.LW=!0;em.HV.Pa=function(i,$,h,d,K){if(d==null)d=["",100,!1,!1,!1,0];
d[6]=[];var f=new ToEMF;eF.t6(i,d,f,K.SB);return f.buffer};em.HV.u2=function(i,$){var h=72,d=new ej(1,0,0,1,0,0);
d.scale(h/72,h/72);$._m=h;var K=new kg($,d,!1);FromEMF.Parse(i,K)};em.cR={};em.cR.LW=!0;em.cR.u2=function(i,$){return c5.cL(i,$)};
em.oS={};em.oS.u2=function(){var i,$,h,d,K,f,l=0,u=0,U=0,y=0,a=0;function v(T){var E=gk.cL(T),r=E.u$,Y=new Uint8Array(T),n=0,Z,P;
if(r=="ILBM")return c(E,Y);var S=M.fd,m=M.v,Q=E.sub,z=c(Q[0],Y);for(var V=1;V<Q.length-2;V++){var I=z[Math.max(0,V-2)].a0h.slice(0),q=Q[V];
for(var X=0;X<q.sub.length;X++){var B=q.sub[X],e=B.I;if(B.$0=="ANHD"){var F=Y[e++];if(F!=5)throw F;var d=Y[e++];
e+=8;var s=S(Y,e);e+=2;Z=S(Y,e);e+=2;e++;e++;P=S(Y,e);e+=2}else if(B.$0=="DLTA"){var J=[],W=e;for(var t=0;
t<16;t++)J.push(m(Y,e+t*4));e+=64;var L=f;for(var A=0;A<K;A++){if(J[A]==0)continue;e=W+J[A];for(var j=0;
j<L;j++){var G=Y[e++],O=0;if(G==0)continue;for(var t=0;t<G;t++){var o=Y[e++];if(o==0){var N=Y[e++],w=Y[e++];
for(var kv=0;kv<N;kv++){I[(O*K+A)*L+j]=w;O++}}else if(o<128){O+=o}else{o-=128;for(var kv=0;kv<o;kv++){I[(O*K+A)*L+j]=Y[e+kv];
O++}e+=o}}}}}else console.log(B.$0)}var g=Z==0?17:Math.round((Z-n)*1e3/60);z.push({data:C(Y,I),kp:new bN(0,0,i,$),a0h:I,Ok:"_a_frm"+V+","+g});
n=Z}z[0].Ok=z[1].Ok;return z}function c(T,E){var r,Y;l=0;u=0;U=0;y=0;a=0;for(var S=0;S<T.sub.length;
S++){var m=T.sub[S],Q=m.I;if(m.$0=="BMHD"){var z=[];for(var t=0;t<4;t++)z[t]=M.fd(E,Q+2*t);Q+=8;var n=z[2],Z=z[3];
i=z[0];$=z[1];h=E[Q++];d=E[Q++];var P=E[Q++];if(P!=1)throw P;f=i+15>>>4<<1;K=h+d}else if(m.$0=="CMAP")l=Q;
else if(m.$0=="CAMG"){var V=M.v(E,Q);u=V&32768,U=V&4,y=V&2048;a=V&128}else if(m.$0=="BODY"){Y=k.Q(f*$*K);
eJ.AR(E,Q,m.size,Y,0,Y.length)}}r=C(E,Y);return[{kp:new bN(0,0,i,$),data:r.buffer,a0h:Y}]}function p(T,b4){return T[b4>>>3]>>>7-(b4&7)&1}function C(T,E){var r=h-2,Y=(1<<r)-1,S=Math.round(255/Y),m,Q,z,n=f*8,Z=k.Q(i*$*4);
for(var P=0;P<$;P++)for(var V=0;V<i;V++){var I=0;for(var q=0;q<K;q++){var X=(P*K+q)*n+V,B=p(E,X);I|=B<<q}I=I&(1<<h)-1;
var t=P*i+V,e=t<<2;if(l!=0){if(y!=0&&I>>>r!=0){var F=I>>>r,s=(I&Y)*S;if(F==1)z=s;else if(F==2)m=s;else if(F==3)Q=s}else{var s=l+I*3;
m=T[s+0];Q=T[s+1];z=T[s+2]}}else{m=I>>>0&255;Q=I>>>8&255;z=I>>>16&255}Z[e+0]=m;Z[e+1]=Q;Z[e+2]=z;Z[e+3]=255}return Z}return v}();
em.aP={};em.aP.LW=!1;em.aP.Pa=function(i,$,h,d){var K=i[0][4],f=new Uint8Array(i[0][0]),l=2,u=K?!0:!1,U=u?4:3,y=new Uint8Array($*h*U);
for(var a=0;a<h;a++)for(var v=0;v<$;v++){var c=a*$+v<<2,p=((h-a-1)*$+v)*U;y[p]=f[c+2];y[p+1]=f[c+1];
y[p+2]=f[c+0];if(u)y[p+3]=K[0][a*$+v]}if(!0){var C=y.length,T=0,E=new Uint8Array(C*2),r=0,Y=0,S=$*U;
while(Y<C){var m=Y,Q=0,z=S*(Math.floor(Y/S)+1);while(m<z&&Q<128){var n=!0;for(var t=0;t<U;t++)n=n&y[Y+t]==y[m+t];
if(!n)break;m+=U;Q++}if(Q==1){var Z=1;while(Z<128&&Y+(Z+1)*U<z){var n=!0,P=Y+Z*U;for(var t=0;t<U;t++)n=n&y[P+t]==y[P+U+t];
if(n)break;Z++}E[r++]=Z-1;for(var V=0;V<Z;V++)for(var t=0;t<U;t++)E[r++]=y[Y++]}else{E[r++]=127+Q;for(var t=0;
t<U;t++)E[r+t]=y[Y+t];r+=U;Y+=U*Q;T+=Q}}y=E.slice(0,r);l+=8}var I=new Uint8Array(18+y.length+26);I[2]=l;
M.jk(I,12,$);M.jk(I,14,h);I[16]=U*8;I[17]=U==4?8:0;I.set(y,18);M.vI(I,18+y.length+8,"TRUEVISION-XFILE.");
return I.buffer};em.aP.u2=function(i){var $=new Uint8Array(i),h=0,d=$[0],K=$[1],f=$[2],l=$[4]*256+$[3],u=$[6]*256+$[5],U=$[7],y=$[9]*256+$[8],a=$[11]*256+$[10],v=$[13]*256+$[12],c=$[15]*256+$[14],p=$[16],C=$[17],T=C>>>4,E=M.uX($,18,d),r=k.Q(v*c*4),h=18+d+(u*U>>>3),Y=new Uint8Array($.buffer,h);
if(f>3){var S=0,m=$,Q=new Uint8Array(v*c*p>>>3),z=h,n=0,Z=$.length,P=p>>>3;while(n<Q.length){var b4=m[z];
z++;if(b4<128)for(var t=0;t<b4+1;t++){for(var V=0;V<P;V++){Q[n]=m[z];n++;z++}}else{for(var t=0;t<b4-127;
t++){for(var V=0;V<P;V++){Q[n]=m[z+V];n++}}z+=P}}f-=8;Y=Q;h=z}else h+=v*c*p>>>3;var I=new Uint8Array(4),q=em.aP.acO;
for(var X=0;X<c;X++)for(var B=0;B<v;B++){var e=(T&2)==0?(c-X-1)*v+B:X*v+B,F=X*v+B,s,J,W,L=255,A=e*p>>>3;
if(f==1){var j=0;if(p==8)j=Y[A];else throw"e";q($,18+d+l+(j*U>>>3),U,I);s=I[0];J=I[1];W=I[2];L=I[3]}else if(f==2){q(Y,A,p,I);
s=I[0];J=I[1];W=I[2];L=I[3]}else if(f==3){if(p==8)s=J=W=Y[A];else throw"e"}var G=F*4;r[G]=s;r[G+1]=J;
r[G+2]=W;r[G+3]=L}var I={kp:new bN(0,0,v,c),data:r.buffer,Ok:E};if(k.ym(r)){var O=k.Q(v*c);k.pO(r,O,3);
k.MK(r,4278190080,16777215);I.kY=[O]}return[I]};em.aP.acO=function(i,$,h,d){var K,f,l,u=255;if(h==24||h==32){l=i[$];
f=i[$+1];K=i[$+2];if(h==32)u=i[$+3]}else if(h==16){var U=i[$+1]<<8|i[$+0];K=U>>>10&31;f=U>>>5&31;l=U>>>0&31;
K=Math.round(K*(255/31));f=Math.round(f*(255/31));l=Math.round(l*(255/31))}else throw"e";d[0]=K;d[1]=f;
d[2]=l;d[3]=u};em.ajv=function(){var i,$=[],h=!1;function d(l,u,U,y){i=U;$.push(l,y);K()}function K(){if(h||$.length==0)return;
h=!0;em.amY($.shift(),"image/avif",f)}function f(l){i(null,[l],$.shift());h=!1;K()}return{LW:!1,Pz:!0,u2:d}}();
em.a2a=function(){var i,$=[],h=!1,d,K,f,l,u,U,y=10,a=0;function v(E,r,Y,S,m){i=Y;$.push(E,S);var Q=new eU(x.E.k,!0);
Q.data={d:x.c.ZD,Kh:"setFPS",pp:y,Fg:c};m.$(Q)}function c(E){y=Math.max(1,Math.min(60,E));p()}function p(){if(h||$.length==0)return;
h=!0;d=document.createElement("canvas");K=d.getContext("2d");f=document.createElement("video");var E="data:"+"video/mp4"+";base64,"+em.bg($.shift());
f.src=E;f.muted=!0;f.currentTime=0;f.addEventListener("canplay",C,!1);f.addEventListener("timeupdate",T,!1)}function C(E){f.removeEventListener("canplay",C);
l=d.width=f.videoWidth;u=d.height=f.videoHeight;U=[];f.play()}function T(E){clearTimeout(a);K.drawImage(f,0,0);
U.push({Ok:"_a_"+U.length+","+Math.round(1e3/y),kp:new bN(0,0,l,u),data:K.getImageData(0,0,l,u).data.buffer});
var r=f.currentTime+1/y;if(r<f.duration&&E){f.currentTime=r;a=setTimeout(T,1e3)}else{i(null,U,$.shift());
f.removeEventListener("timeupdate",T);h=!1;p();U=null}}return{LW:!1,Pz:!0,u2:v}}();em.XQ={};em.XQ.u2=function(i){var $=new Uint8Array(i),h=0,d=112,K=42,f=M.Li,a;
h+=8;var l=$[h];h++;if(l!=K)throw"e";var u=f($,h);h+=4;var U=M.fP($,h,u);h+=u*2;var y=[];while(h<$.length){a=f($,h);
h+=4;if(a!=d)throw a;h+=4;a=$[h];h++;if(a!=K)throw a;var v=f($,h);h+=4;var c=$[h];h++;if(c!=K){h-=5;
v=f($,h);h+=8;a=$[h];h++;if(a!=K)throw a}var p=f($,h)*2;h+=4;if(v>0)y.push(h+p);h+=p+v}var C=new DOMParser,T=C.parseFromString(U,"image/svg+xml").firstChild.firstChild,E=[];
em.XQ.Ih(T,$,y,E);return E};em.XQ.Ih=function(i,$,h,d){var K=i.firstChild.firstChild;if(K.tagName=="Image"){var f=K.getElementsByTagName("ImageDescription")[0],l=f.children[0].children,u=f.children[1].children,U=h.shift(),y=[];
for(var t=0;t<u.length;t++)y.push(parseInt(u[t].getAttribute("NumberOfElements")));while(y.length>3)y[2]*=y.pop();
var a=l.length,v=y[0],c=y[1],p=y[2],C=parseInt(u[0].getAttribute("BytesInc"));for(var T=0;T<p;T++){var E=k.Q(v*c*4);
k.MK(E,4278190080);for(var r=0;r<a;r++){var Y=k.Q(v*c);if(C==1)for(var S=0;S<Y.length;S++)Y[S]=$[U+S];
else if(C==2)for(var S=0;S<Y.length;S++)Y[S]=Math.min(255,($[U+S*2+1]<<8|$[U+S*2])>>>2);else throw C;
if(r!=3)k.k1(Y,E,r);if(a==1){k.k1(Y,E,1);k.k1(Y,E,2)}U+=v*c*C}d.push({kp:new bN(0,0,v,c),data:E.buffer})}}else{var m=i.children,Q=0;
while(Q<m.length&&m[Q].tagName!="Children")Q++;if(Q==m.length)throw"e";m=m[Q].children;for(var z=0;z<m.length;
z++)em.XQ.Ih(m[z],$,h,d)}};em.a85=function(){function i(l,u,U,y,a){var v=new Int8Array(l.buffer),c=new Int8Array(y.buffer),p=u+U;
while(u<p){var b4=v[u];u++;if(b4>=0&&b4<128)for(var t=0;t<b4+1;t++){c[a]=v[u];a++;u++}if(b4>=-127&&b4<0){for(var t=0;
t<-b4+1;t++){c[a]=v[u];a++}u++}}return a}function $(l,u,U,y,a,v){var c=u*U*y>>>3,p=k.Q(c*a),C=d(l,0,0)[0];
for(var T=0;T<a;T++){var E=C[T+1];if(v){var r=em.Q_("jpg").u2(E.buffer),Y=k.Q(c);k.xw(new Uint8Array(r[0].data),Y);
p.set(Y,c*T)}else if(E[0]==255&&E[1]==216&&E[2]==255){var S=UTIF.LosslessJpegDecode(E);p.set(new Uint8Array(S.buffer),c*T)}else i(E,64,E.length,p,c*T)}return p}function h(l){var u=new Uint8Array(l),U=0,y=M.uX(u,0,128);
U+=128;var a=M.uX(u,U,4);U+=4;var v=K(u,U,0)[0],c=v.g28;if(c==null){alert("No image.");return[]}var p=c.cols,C=c.rows,T=p*C,E=c.photoInterpret,r=c.bitsAlloc,Y=c.bitsStored,S=c.lossyCompr;
if(S==null)S=v.g8.lossyCompr;var m=v.g7fe0.pixelData,Q=c.numOfFrames;Q=Q?parseInt(Q):1;var z=new Uint8Array(m.buffer),n=T*r>>>3;
if(z.length!=n*Q){m=$(m,p,C,r,Q,S)}else{}if(r==16)m=new Uint16Array(m.buffer);console.log(c);console.log(v);
var Z=[];for(var P=0;P<Q;P++){var V=P*n,l=k.Q(p*C*4);l.fill(255);if(E=="MONOCHROME2"){var I=0,q=255,X=c.largestValue,B=c.smallestValue;
if(X!=null){q=X;I=B}else if(Y!=8){q=0;I=1e9;for(var t=0;t<T;t++){var e=m[V+t];if(e>1<<Y-8){if(e>q)q=e;
if(e<I)I=e}}}var F=255/(q-I);for(var t=0;t<T;t++){var e=Math.max(0,Math.min(255,(m[V+t]-I)*F)),s=t*4;
l[s]=l[s+1]=l[s+2]=e}}else if(E=="PALETTE COLOR"){var J=c.pltRed,W=c.pltGreen,L=c.pltBlue;for(var t=0;
t<T;t++){var A=m[V+t],s=t*4;l[s]=J[A]>>>8;l[s+1]=W[A]>>>8;l[s+2]=L[A]>>>8}}else throw E;Z.push({kp:new bN(0,0,p,C),data:l.buffer})}return Z}function d(l,u,U){var y=M.pF,a=M.A6,v=M.Li,c=[],p=u;
while(u<l.length){var C=y(l,u);u+=2;var T=y(l,u);u+=2;var E=v(l,u);u+=4;if(C==65534&&T==57344){if(E==4294967295){var r=K(l,u,U+1);
c.push(r[0]);u=r[1]}else{c.push(l.slice(u,u+E));u+=E}}else if(C==65534&&T==57357){}else if(C==65534&&T==57565)break;
else throw"e"}return[c,u]}function K(l,u,U){var y=M.pF,a=M.A6,v=M.Li,c={},p="\t".repeat(U);while(u<l.length){var C=y(l,u),Y="",S=0,Q=null;
u+=2;var T=y(l,u);u+=2;var E=C.toString(16),r=T.toString(16);if(C==65532)break;if(C==65534&&T==57357){u-=4;
break}if(C==65534&&T==57565)throw"e";if(T==0){u+=8;continue}if(65<=l[u+1]){Y=M.uX(l,u,2);u+=2;if(Y=="OB"||Y=="SQ"||Y=="OW"){S=v(l,u+2);
u+=6}else{S=y(l,u);u+=2}}else{Y=f[E][r].split(",")[1];S=v(l,u);u+=4}var m=f[E][r];if(m)m=m.split(",")[0];
if(m==null){m="t"+r}if(Y=="SQ"){var z=d(l,u,U);Q=z[0];u=z[1];S=0}else if(Y=="US")Q=y(l,u);else if(Y=="SS")Q=a(l,u);
else if(Y=="UL")Q=v(l,u);else if(Y=="FL")Q=M.Qd(l,u);else if(Y=="AT")Q=[y(l,u),y(l,u+2)];else if(Y=="OB")Q=l.slice(u,u+S);
else if(Y=="OW")Q=new Uint16Array(l.slice(u,u+S).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(Y)!=-1){var n=u+S;
while(l[n-1]==0)n--;Q=M.uX(l,u,n-u).trim()}else{console.log(p,JSON.stringify(M.uX(l,u,Math.min(S,32))));
throw Y}if(c["g"+E]==null)c["g"+E]={};c["g"+E][m]=Q;u+=S}return[c,u]}var f={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{u2:h}}();em.yA={};em.yA.u2=function(i){var $=new Uint8Array(i),h=0,d={},a=1e9;for(var t=0;t<306;
t++){var K=M.uX($,h,8).trim(),f=M.uX($,h+9,71).split("/")[0].trim();d[K]=f;h+=80;if(K=="END"){h=Math.ceil(h/2880)*2880;
break}}var l=parseInt(d.NAXIS1),u=parseInt(d.NAXIS2),U=l*u,y=parseInt(d.BITPIX),v=-1e9,c=new Float32Array(U),p=new Float32Array(i,h,i.byteLength-h>>>2);
for(var t=0;t<U;t++){var C=t<<2,T=t<<1;if(y==-32){var E=$[h+C+0];$[h+C+0]=$[h+C+3];$[h+C+3]=E;var E=$[h+C+1];
$[h+C+1]=$[h+C+2];$[h+C+2]=E;c[t]=p[t]}else if(y==16){c[t]=M.pF($,h+T)}else throw y;var r=c[t];if(r<a)a=r;
if(r>v)v=r}var Y=k.Q(U*4),S=1/v;for(var m=0;m<u;m++)for(var Q=0;Q<l;Q++){var t=m*l+Q,z=(u-m-1)*l+Q,C=z<<2,r=c[t]*S;
Y[C]=Y[C+1]=Y[C+2]=255*r;Y[C+3]=255}return[{kp:new bN(0,0,l,u),data:Y,Ok:d.OBJECT}]};em.e2={};em.e2.u2=function(i){var $=new Uint8Array(i),h=16,d=M.uX($,h,4),f=32,r=0,Y=0,S=!1,J;
h+=4;var K=M.uX($,h,8);h+=8;while($[h+f-1]==0)f--;var l=M.uX($,h,f);h+=32;var u=M.uX($,h,4);h+=4;h+=20;
var U=M.v($,h);h+=4;var y=M.v($,h);h+=4;var a=M.v($,h);h+=4;var v=M.v($,h);h+=4;var c=M.v($,h);h+=4;
var p=M.v($,h);h+=4;var C="FujiFilm "+l,T=[0,1,1,2];if(C=="FujiFilm X10"){C="FujiFilm FinePix X10";T=[2,1,1,0]}var E={t271:["FujiFilm"],t272:[C],t277:[1],t33421:[2,2],t33422:T,pa:1};
h=a;var m=[],Q=M.fd,z=M.v($,h);h+=4;for(var t=0;t<z;t++){var n=Q($,h);h+=2;var Z=Q($,h);h+=2;if(n==256){Y=Q($,h);
r=Q($,h+2)}else if(n==272){m=[Q($,h),Q($,h+2)]}else if(n==273){m.push(Q($,h),Q($,h+2))}else if(n==304){S=!($[h]>>>7)}else if(n==305){var P=Math.round(Math.sqrt(Z)),V=[];
for(var I=0;I<Z;I++)V.push($[h+I]);V.reverse();E.t33421=[P,P];E.t33422=V}else if(n==12272){var q=Q($,h),X=Q($,h+2),B=Q($,h+6);
E.t50728=[q/X,1,q/B]}h+=Z}var e=r<Y,F=$.slice(c,c+p),s=Math.round(p*8/(r*Y));if(F[0]==73&&F[1]==73&&F[2]==42){J=UTIF.decode(F.buffer)[0].fujiIFD;
s=J.t61443[0];var W=J.t61454,L=J.t61450;if(L)E.t50714=L;if(W)E.t50728=[W[0]/W[1],1,W[0]/W[2]];var A=J.t61447[0];
F=F.slice(A,A+J.t61448[0])}var p=F.length,j=p*8<r*Y*s;if(j){console.log("compressed");var G=E.t33422,O=~~Math.sqrt(G.length),o=[];
for(var t=0;t<O;t++)o[t]=G.slice(t*O,t*O+O);F=new Uint8Array(UTIF._decompressRAF(F,o).buffer);p=F.length}function N(jU,_,cY){cY=cY<<8-(_&7);
var j3=_>>>3;jU[j3]|=cY>>>16;jU[j3+1]|=cY>>>8;jU[j3+2]|=cY}var w=p*8/(r*Y);if(w==16)for(var t=0;t<p;
t+=2){var kv=F[t];F[t]=F[t+1];F[t+1]=kv}else if(w==14){for(var t=0;t<p;t+=4){var kv=F[t];F[t]=F[t+3];
F[t+3]=kv;kv=F[t+1];F[t+1]=F[t+2];F[t+2]=kv}}else if(w==12)for(var t=0;t<p;t+=3){var g=F[t+2]<<16|F[t+1]<<8|F[t+0];
g=g>>>12|(g&4095)<<12;F[t]=g>>>16&255;F[t+1]=g>>>8&255;F[t+2]=g&255}if(e)F=em.e2.aqF(F,r,Y);var b=e?2:1;
r*=b;E.t256=[r];E.t257=[Y];E.t258=[s];E.t50719=[m[1],m[0]*b];E.t50720=[m[3],m[2]*b];E.width=r;E.height=Y;
E.data=new Uint8Array(F.buffer);return[E]};em.e2.aqF=function(i,$,h){i=new Uint16Array(i.buffer);var d=new Uint16Array($*h*2);
for(var K=0;K<h;K+=2)for(var f=0;f<$;f++){var l=K*$+f,u=l*2,U=i[l],y=i[l+$];d[u+1]=d[u+2*$]=y;if(((K>>>1)+f&1)==0){d[u]=U;
d[u+2*$+1]=i[l+1]}else{d[u]=i[l-1];d[u+2*$+1]=U}}return d};em.Ig={};em.Ig.l5=!0;em.Ig.Pa=function(i,$,h,d){var K=new Uint8Array(i[0][0]),f=$*h,l=[1,3,4][d[0]],u=8+8*d[1],U=d[2];
if(l==1){var y=new Uint8Array($*h);k.pO(K,y,0);K=y}if(l==3){var y=new Uint8Array($*h*3);for(var t=0;
t<f;t++){var a=t*4,v=t*3;y[v]=K[a];y[v+1]=K[a+1];y[v+2]=K[a+2]}K=y}if(u==16){var c=K.length,y=new Uint8Array(c*2);
for(var t=0;t<c;t++){var p=Math.round(K[t]*(65535/255));y[t*2+U]=p>>>8;y[t*2+1-U]=p&255}K=y}return K.buffer};
em.oV={};em.oV.u2=function(i,$){function h(U){return~~(.5+k.Jy(Math.max(0,Math.min(1,U)))*255)}var d=EXRLoader.parse(i),K=d.width,f=d.height,l=k.Q(K*f*4);
for(var u=0;u<f;u++)for(var U=0;U<K;U++){var t=(u*K+U)*4,y=((f-u-1)*K+U)*4;l[t]=h(d.data[y+0]);l[t+1]=h(d.data[y+1]);
l[t+2]=h(d.data[y+2]);l[t+3]=h(d.data[y+3])}return[{kp:new bN(0,0,K,f),data:l.buffer}]};em.jK={};em.jK.l5=!0;
em.jK.LW=!0;em.jK.Pa=function(i,$,h,d,K){d=["",100,!1,!1,!1,0];d[6]=["jpg"];var f=new ToDXF;eF.t6(i,d,f,K.SB);
return f.buffer};em.jK.u2=function(i,$){var h=72,d=new ej(1,0,0,1,0,0);d.scale(h/72,h/72);$._m=h;var K=new kg($,d,!1);
FromDXF.Parse(i,K)};em.QZ={};em.QZ.u2=function(){var i=M.pF,$=M.Li,h=M.uX,d;function K(l,u,U,y,a){var v=$(l,U),c=$(l,U+4),p=$(l,U+8),C=i(l,U+12),T=i(l,U+14);
U+=16;var E={};for(var t=0;t<C+T;t++){var r=$(l,U),Y=$(l,U+4),S,m;if(r>>>31==1){r=r&16777215}if(t<C)S=M.fP(l,u+r+2,i(l,u+r));
else S="id"+r;var Q=y.slice(0);Q.push(S);if(Y>>>31==1){Y=Y&268435455;m=K(l,u,u+Y,Q,a)}else{var z=$(l,u+Y),n=$(l,u+Y+4),Z=$(l,u+Y+8),P=$(l,u+Y+12);
if(P!=0)throw"e";if(z<a[0]||z>a[0]+a[1])throw"e";var V=a[2]+z-a[0];m=l.slice(V,V+n);var I=em.X0(m.buffer);
if(I&&["bmp","png","ico"].indexOf(I)!=-1){var q=em.Q_(I);if(!q.LW){var X=null;try{X=q.u2(m.buffer)}catch(e_){}if(X){X[0].Ok=Q[1];
d.push(X[0])}}}else if(I)console.log(I)}E[S]=m;U+=8}return E}function f(l){d=[];var u=new Uint8Array(l),U=0,y=i(u,U);
U+=2;U+=58;var a=$(u,U);U+=4;U=a;var v=h(u,U,4);U+=4;var c=i(u,U);U+=2;var p=i(u,U);U+=2;var C=$(u,U);
U+=4;var T=$(u,U);U+=4;var E=$(u,U);U+=4;var r=i(u,U);U+=2;var Y=i(u,U);U+=2;U+=r;var S={};for(var t=0;
t<p;t++){var m=U;while(u[m]!=0)m++;var Q=h(u,U,m-U),z=$(u,U+8),n=$(u,U+12),Z=$(u,U+16),P=$(u,U+20),V=$(u,U+24),I=$(u,U+28),q=i(u,U+32),X=i(u,U+34),Y=$(u,U+36);
S[Q]=[n,z,P,Z,Y];if(V+I!=0)throw"e";U+=40}for(var B in S){var e=S[B];U=e[2];if(B==".rsrc"){var F=K(u,U,U,[],e),s="id134"}}return d}return f}();
em.MZ={};em.MZ.LW=!0;em.MZ.u2=function(i,$){hd.cL(i,$)};(function(){var i=em.nf.get("wasm/zstd").buffer;
WebAssembly.instantiate(i).then(function($){var h=$.instance.exports;em.MZ.a2V=h})}());em.MZ.Ql=function(i,$){var h=em.MZ.a2V,d=i.length,K=h.memory,f=2*d+1e6,U=8;
em.GV(h,f);var l=new Uint8Array(K.buffer),u=h.malloc(d);l.set(i,u);while(!0){var y=$==null?d*U:$;em.GV(h,f+y);
var a=h.malloc(y),v=h.ZSTD_decompress(a,y,u,d);if(v==-70){h.free(a);U+=U>>>1;if($!=null)throw"error"}else{l=new Uint8Array(K.buffer);
i=l.slice(a,a+v);h.free(a);break}}h.free(u);return i};em.ww={};em.ww.LW=!0;em.ww.u2=function(){var i=0,$=1,h=2,d=3,K=4,f=5,l=6,u=7,U=1,y=2,a=7,v=8,c=9,p,C,T,E,r;
function Y(){var b4=M.q7(p,C);C+=4;return b4}function S(){var J=0,W=0;for(var t=0;t<5;t++){var L=p[C++];
J+=(L&127)<<W;W+=7;if((L&128)==0)break}return J}function m(){var J=S(),W=M.kV(p,C,J);C+=J;return W}function Q(){return{typeName:m(),anH:Y()}}function z(){var J=Y(),W=m(),L=[],A=Y();
for(var t=0;t<A;t++)L.push([m()]);return{id:J,dx:W,atW:L}}function n(J){var W=J.atW,L=[];for(var t=0;
t<W.length;t++)W[t].push(p[C++]);for(var t=0;t<W.length;t++){var A=W[t][1],j;W[t].push(Z(A))}}function Z(J){var W;
if(J==i)W=p[C++];else if(J==d)W=m();else if(J==K)W=Q();else if(J==$||J==h||J==l||J==f){}else throw J;
return W}function P(J,W,L){var A;if(J==i){if(W==U)A=p[C++]==1;else if(W==y){A=p[C++]}else if(W==v)A=Y();
else if(W==c){A=Y();Y()}else throw W}else if(J==d){A=X(L+1)}else if(J==K){A=X(L+1)}else if(J==f){A=X(L+1)}else if(J==$){A=X(L+1)}else if(J==l){A=X(L+1)}else throw J;
return A}function V(J,W){var L=T["c"+J],A=L.atW,j={_class:L.dx};for(var t=0;t<A.length;t++){var G=A[t],O=G[1],o=G[2],N=P(O,o,W),w=G[0];
j[w]=N}return j}function I(J,W,L,A){var j=[];for(var t=0;t<J;t++){var G=P(W,L,A);if(G.Zw&&G.Zw=="null_count"){var O=G.Pr;
for(var o=0;o<O;o++)j.push(null);t+=O-1}else j.push(G)}return j}function q(){return[Y(),Y()]}function X(J){if(J==null)throw"e";
var W=null,L=p[C],A=null;C++;if(L==0){var j=Y(),G=Y(),O=Y(),o=Y();W=[j,G,O,o]}else if(L==1){A=Y();var N=Y();
W=V(N,J)}else if(L==4){var w=z();A=w.id;n(w);T["c"+w.id]=w;W=V(w.id,J)}else if(L==5){var w=z();A=w.id;
n(w);var kv=Y();T["c"+w.id]=w;W=V(w.id,J)}else if(L==6){A=Y();var g=m();W=g}else if(L==7){A=Y();var b=p[C++];
if(b!=0)throw b;var jU=Y();if(jU!=1)throw jU;var _=Y(),cY=p[C++],j3=Z(cY);W=I(_,cY,j3,J)}else if(L==9){var aS=Y();
W={Zw:"ref",Pr:aS};r["o"+aS]=!0}else if(L==10){W={Zw:"null_count",Pr:1}}else if(L==11){W={Zw:"end"}}else if(L==12){var kv=Y(),bL=m()}else if(L==13){var cQ=p[C++];
W={Zw:"null_count",Pr:cQ}}else if(L==16){var cK=q();A=cK[0];W=I(cK[1],K,null,J)}else if(L==17){var cK=q();
A=cK[0];W=I(cK[1],$,null,J)}else throw"e";if(A!=null&&A>0){if(E["o"+A]!=null)throw"e";E["o"+A]=W}return W}function B(J,E){if(J instanceof Array){for(var t=0;
t<J.length;t++)J[t]=e(J[t],E)}else if(J instanceof Object){for(var W in J)J[W]=e(J[W],E)}}function e(J,E){if(J&&J.Zw&&J.Zw=="ref")return E["o"+J.Pr];
else return J}function F(J,W,L){p=new Uint8Array(J);C=0;T={};E={};r={};var A=M.uX(p,0,4);if(A!="PDN3")throw A;
C+=4;var j=M.pF(p,C)+p[C+2]*256*256;C+=3;var G=M.uX(p,C,j);C+=j;C+=2;while(!0){var O=X(0);if(O&&O.Zw&&O.Zw=="end")break}for(var o in r)if(E[o]==null)throw o;
for(var o in E)B(E[o],E);var N=E.o1;console.log(N);W.e=N.width;W.n=N.height;W.buffer=k.Q(W.e*W.n*4);
var w=N.layers["ArrayList+_items"];for(var t=0;t<w.length;t++){var kv=w[t];if(kv==null)continue;console.log(kv);
var g=kv["Layer+width"],b=kv["Layer+height"],jU=kv["Layer+properties"],_=kv.properties,cY=_.blendOp._class.split("+").pop();
cY=cY.slice(0,cY.length-7);var j3={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[cY],aS=W.Dw();
aS.DN(jU.name);aS.opacity=jU.opacity;aS.DJ(jU.visible);aS.R$=j3;var bL=1<<16,cQ=Math.ceil(g*b/bL);aS.rect=new bN(0,0,g,b);
aS.buffer=k.Q(g*b*4);var cK=aS.buffer;C+=5;for(var el=0;el<cQ;el++){var gF=s();cK.set(gF[1],gF[0]*bL*4)}for(var fj=0;
fj<cK.length;fj+=4){var i3=cK[fj+0];cK[fj+0]=cK[fj+2];cK[fj+2]=i3}W.B.push(aS)}}function s(){var J=M.v(p,C);
C+=4;var W=M.v(p,C);C+=4;var L=pako.inflateRaw(p.slice(C+10));C+=W;return[J,L]}return F}();em.uI={};
em.uI.LW=!0;em.uI.u2=function(i,$){bf.cL(i,$)};var i8={};i8.ph=!1;i8.Jm=!1;i8.Yk=!1;i8.T=document.createElement("canvas");
i8.nl=null;i8.KC=null;i8.EK=0;(function(){var i={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},$;
if(!$)$=i8.T.getContext("webgl",i);if(!$)$=i8.T.getContext("experimental-webgl",i);if($){i8.ph=!0;i8.Jm=!0;
i8.nl=$;i8.KC=$.createFramebuffer();$.bindFramebuffer($.FRAMEBUFFER,i8.KC);$.disable($.BLEND);$.disable($.DEPTH_TEST);
var h=$.createBuffer();$.bindBuffer($.ARRAY_BUFFER,h);$.bufferData($.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),$.STATIC_DRAW);
$.enableVertexAttribArray(0);$.vertexAttribPointer(0,2,$.FLOAT,!1,0,0)}}());i8.anD=function(i){i=i.replace(/\s\s+/g," ");
i=i.replace(/; /g,";");i=i.replace(/} /g,"}");i=i.replace(/ }/g,"}");i=i.replace(/{ /g,"{");i=i.replace(/ {/g,"{");
i=i.replace(/= /g,"=");i=i.replace(/ =/g,"=");i=i.replace(/\| /g,"|");i=i.replace(/ \|/g,"|");return i};
i8.yD=function(i){var $=i8.nl;if(i>$.getParameter($.MAX_TEXTURE_SIZE)){i8.ph=!1;alert("Disabling WebGL")}};
i8.xG=function(i,$){return new Float32Array([(i.x-$.x)/$.e,(i.y-$.y)/$.n,i.e/$.e,i.n/$.n])};i8.i8=function(){return this.T};
i8.dY=function(i,$){var h=i8.nl;h.bindFramebuffer(h.FRAMEBUFFER,i8.KC);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,i.Wd,0);
h.viewport(0,0,i.e,i.n);if($){h.enable(h.SCISSOR_TEST);h.scissor($.x,$.y,$.e,$.n)}else h.disable(h.SCISSOR_TEST)};
i8.yx=function(i,$,h){if(h)throw"error";var d=i8.nl;d.disable(d.SCISSOR_TEST);d.bindFramebuffer(d.FRAMEBUFFER,null);
d.viewport(0,0,i,$);if(h){d.enable(d.SCISSOR_TEST);d.scissor(h.x,h.y,Math.round(h.e),Math.round(h.n))}else d.disable(d.SCISSOR_TEST)};
i8.clear=function(){var i=i8.nl;i.clearColor(0,0,0,0);i.clear(i.COLOR_BUFFER_BIT)};i8.iA=function(i,$){if($==null)$=0;
var h=($>>>0&255)==0,d=($>>>8&255)==0,K=($>>>16&255)==0,f=($>>>24&255)==0,l=(i>>>0&255)*(1/255),u=(i>>>8&255)*(1/255),U=(i>>>16&255)*(1/255),y=(i>>>24&255)*(1/255),a=i8.nl;
a.colorMask(h,d,K,f);a.clearColor(l,u,U,y);a.clear(a.COLOR_BUFFER_BIT);a.colorMask(!0,!0,!0,!0)};i8.Lb=function(i,$,h,d,K){var f=$.Js(d);
if(K)f=f.Js(K);if(f.NT())return;var l=i8.nl;i8.dY(i);l.bindTexture(l.TEXTURE_2D,h.Wd);l.copyTexSubImage2D(l.TEXTURE_2D,0,f.x-d.x,f.y-d.y,f.x-$.x,f.y-$.y,f.e,f.n)};
i8.W1=function(t,i,$){var h=i8.DM[t];if(h==null||h.e!=i||h.n!=$){if(h)h.delete();h=new i8.UT(i,$)}i8.DM[t]=h;
return h};i8.DM=[];i8.tc=function(){this.En=null;this.LX=null};i8.tc.cn=null;i8.tc.prototype.zP=function(i){if(this.LX)return;
this.LX={};var $=i8.nl,h=this.En,d=this.LX;for(var t=0;t<i.length;t++){var K=i[t];d[K]=$.getUniformLocation(h,K)}};
i8.tc.prototype.tt=function(){};i8.tc.prototype.v4=function(i){var $=i8.nl;for(var t=0;t<i.length;t+=2){$.uniform1i(i[t],t>>>1);
$.activeTexture($["TEXTURE"+(t>>>1)]);$.bindTexture($.TEXTURE_2D,i[t+1])}$.activeTexture($.TEXTURE0)};
i8.tc.prototype.mR=function(i,$){var h=i8.nl,d=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(d,i);
h.compileShader(d);if(!h.getShaderParameter(d,h.COMPILE_STATUS))console.log(h.getShaderInfoLog(d));var K=h.createShader(h.VERTEX_SHADER);
h.shaderSource(K,$);h.compileShader(K);if(!h.getShaderParameter(K,h.COMPILE_STATUS))console.log(h.getShaderInfoLog(K));
var f=h.createProgram();h.attachShader(f,K);h.attachShader(f,d);h.linkProgram(f);if(!h.getProgramParameter(f,h.LINK_STATUS))console.log("Could not initialise shaders");
this.En=f};i8.tc.prototype.Uu=function(){if(i8.tc.cn!=this){i8.nl.useProgram(this.En);i8.tc.cn=this}};
i8.Fh=function(i,$){i8.ZW++;i8.EK+=i*$;if(i8.Yk)console.log("GL.Channels instances: "+i8.ZW+", memory: "+i8.EK);
var h=i8.nl;this.e=i;this.n=$;this.Wd=h.createTexture();this.Kc=null;this.zg(this.Wd,i,$)};i8.Fh.prototype.zg=function(i,$,h){var d=i8.nl;
d.bindTexture(d.TEXTURE_2D,i);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);
d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);
d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,$,h,0,d.ALPHA,d.UNSIGNED_BYTE,null)};i8.Fh.prototype.set=function(i,$){var h=i8.nl;
h.bindTexture(h.TEXTURE_2D,this.Wd);h.pixelStorei(h.UNPACK_ALIGNMENT,1);var d=this.e*this.n;if($==null||$.O()*10>d)h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.e,this.n,0,h.ALPHA,h.UNSIGNED_BYTE,i);
else{var K=new bN(0,0,this.e,this.n),f=k.Q($.O());k.Zc(i,K,f,$);h.texSubImage2D(h.TEXTURE_2D,0,$.x,$.y,$.e,$.n,h.ALPHA,h.UNSIGNED_BYTE,f)}h.pixelStorei(h.UNPACK_ALIGNMENT,4)};
i8.Fh.prototype.delete=function(){var i=i8.nl;if(this.Wd){i.deleteTexture(this.Wd);i8.ZW--;i8.EK-=this.e*this.n}if(i8.Yk)if(i8.Yk)console.log("GL.Channels instances: "+i8.ZW+", memory: "+i8.EK*4)};
i8.ZW=0;i8.UT=function(i,$,h){if(h==null)h=!1;i8.ZW++;i8.EK+=i*$*4;if(i8.Yk)console.log("GL.Channels instances: "+i8.ZW+", memory: "+i8.EK);
var d=i8.nl;this.acR=h;this.e=i;this.n=$;this.Wd=d.createTexture();this.Kc=null;this.zg(this.Wd,i,$)};
i8.UT.prototype.set=function(i,$){var h=i8.nl;h.disable(h.SCISSOR_TEST);h.bindTexture(h.TEXTURE_2D,this.Wd);
if(i==null||i instanceof Uint8Array){var d=this.e*this.n;if($==null||$.O()*10>d)h.texImage2D(h.TEXTURE_2D,0,h.RGBA,this.e,this.n,0,h.RGBA,h.UNSIGNED_BYTE,i);
else{var K=k.Q($.O()*4);k.mC(i,new bN(0,0,this.e,this.n),K,$);h.texSubImage2D(h.TEXTURE_2D,0,$.x,$.y,$.e,$.n,h.RGBA,h.UNSIGNED_BYTE,K)}}else h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,i)};
i8.UT.prototype.get=function(i){var $=i8.nl;i8.dY(this);$.readPixels(0,0,this.e,this.n,$.RGBA,$.UNSIGNED_BYTE,i)};
i8.UT.prototype.tM=function(i){if(i.NT())return;var $=i8.nl;if(this.Kc==null){this.Kc=$.createTexture();
this.zg(this.Kc,this.e,this.n);i8.ZW++;i8.EK+=this.e*this.n*4}$.bindFramebuffer($.FRAMEBUFFER,i8.KC);
$.bindTexture($.TEXTURE_2D,this.Kc);if(i){var h=Math.max(i.x,0),d=Math.max(i.y,0);$.copyTexSubImage2D($.TEXTURE_2D,0,h,d,h,d,i.e,i.n)}else $.copyTexImage2D($.TEXTURE_2D,0,$.RGBA,0,0,this.e,this.n,0)};
i8.UT.prototype.zg=function(i,$,h){var d=i8.nl;d.bindTexture(d.TEXTURE_2D,i);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,this.acR?d.LINEAR:d.NEAREST);
d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);
d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,$,h,0,d.RGBA,d.UNSIGNED_BYTE,null)};
i8.UT.prototype.delete=function(){var i=i8.nl;if(this.Wd){i.deleteTexture(this.Wd);i8.ZW--;i8.EK-=this.e*this.n*4}if(this.Kc){i.deleteTexture(this.Kc);
i8.ZW--;i8.EK-=this.e*this.n*4}if(i8.Yk)if(i8.Yk)console.log("GL.Channels instances: "+i8.ZW+", memory: "+i8.EK)};
i8.UT.prototype.clone=function(){var i=i8.nl,$=new i8.UT(this.e,this.n);i8.dY(this);i.bindTexture(i.TEXTURE_2D,$.Wd);
i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,0,0,this.e,this.n,0);return $};i8.ZV={aj_:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a31:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",kh:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Gq:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Sk:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Ys:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",ZQ:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",T6:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",ayC:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Uk:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a9h:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",y$:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",pU:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",xV:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Lm:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",ax:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",_U:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",ub:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Hq:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",auY:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",adl:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",xC:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",ZT:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
i8.l={};i8.l.WS={};i8.l.Ag=null;i8.l.DG=null;i8.l.A_=null;i8.l.$y=function(i,$,h,d,K,f,l,u){if(u==null)u=eN.Dt();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(i)==-1){l=l*u.fill;u.fill=1;u.style=!1}var U=i+(u.vQ?"1":"");
if(i8.l.WS[U]==null)i8.l.WS[U]=new i8.l.Nw(i,u.vQ!=null);var y=i8.l.WS[U],a=h.Js(K).Js(f);a.offset(-K.x,-K.y);
if(a.NT())return;var v=i8.nl;i8.dY(d,a);d.tM(a);y.Uu();y.tt($.Wd,d.Kc,i8.xG(h,K),l,u.fill,u.style?1:0,u.I7?1:0,u.vQ?new Float32Array(u.vQ):null);
v.drawArrays(v.TRIANGLES,0,6)};i8.l.l2=function(i,$,h,d,K,f,l,u,U,y,a){if(i8.l.Ag==null)i8.l.Ag=new i8.l.y1(!0,!0);
if(i8.l.DG==null)i8.l.DG=new i8.l.y1(!0,!1);if(i8.l.A_==null)i8.l.A_=new i8.l.y1(!1,!0);var v=y?1:0,c=i?K?i8.l.Ag:i8.l.DG:i8.l.A_,p=new Float32Array(a?[a[0],a[1],a[2],1]:[1,1,1,1]),C=$?$.Js(d).Js(u):d.Js(u);
if(C.NT())return;C.offset(-d.x,-d.y);var T=i8.nl;i8.dY(h,C);h.tM(C);c.Uu();if(i==null)c.tt(null,h.Kc,K.Wd,i8.xG(d,d),i8.xG(f,d),l/255,U,v,p);
else if(K)c.tt(i.Wd,h.Kc,K.Wd,i8.xG($,d),i8.xG(f,d),l/255,U,v,p);else c.tt(i.Wd,h.Kc,null,i8.xG($,d),null,l/255,U,v,p);
T.drawArrays(T.TRIANGLES,0,6)};i8.l.afw=function(i,$,h){if(i8.l.a1h==null)i8.l.a1h=new i8.l.P0;var d=i8.l.a1h,K=new bN(0,0,i.e,i.n),f=i8.nl;
i8.dY($);$.tM(K);d.Uu();d.tt(K,i.Wd,$.Kc,h.Wd);f.drawArrays(f.TRIANGLES,0,6)};i8.l.rH={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
i8.l.Nw=function(i,$){i8.tc.call(this);var h="\t\t\tprecision highp float;\t\t\t"+i8.ZV.kh+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+($?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+i8.ZV.Ys+"\t\t\t"+i8.ZV.ZQ+"\t\t\t"+i8.ZV.T6+"\t\t\t"+i8.ZV.aj_+"\t\t\t"+i8.ZV.a31+"\t\t\t"+i8.ZV.ayC+"\t\t\t"+i8.ZV.Uk+"\t\t\t"+i8.ZV.a9h+"\t\t\t"+i8.ZV.y$+"\t\t\t"+i8.ZV.hash+"\t\t\t"+($?i8.ZV.xC:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+i8.l.rH[i]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",d="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(i=="diss")h+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else h+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+($?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.mR(h,d)};i8.l.Nw.prototype=new i8.tc;i8.l.Nw.prototype.tt=function(i,$,h,d,K,f,l,u){this.zP("srct alpha source target fill style keepBGA blIf".split(" "));
var U=i8.nl,y=this.LX;U.uniform4fv(y.srct,h);U.uniform1f(y.alpha,d);U.uniform1f(y.fill,K);U.uniform1f(y.style,f);
U.uniform1f(y.keepBGA,l);if(u)U.uniform4fv(y.blIf,u);this.v4([y.source,i,y.target,$])};i8.l.y1=function(i,$){i8.tc.call(this);
this.a04=i;this.VH=$;var h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+i8.ZV.pU+"\t\t\t"+i8.ZV.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(i?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+($?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(i?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+($?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",d="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.mR(h,d)};i8.l.y1.prototype=new i8.tc;i8.l.y1.prototype.tt=function(i,$,h,d,K,f,l,u,U){if(this.VH)this.zP("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.zP("srct awg dissv source target cswitch".split(" "));var y=i8.nl,a=this.LX;y.uniform4fv(a.srct,d);
if(this.VH){y.uniform4fv(a.wrct,K);y.uniform1f(a.wcolor,f)}else{y.uniform4fv(a.cswitch,U)}y.uniform1f(a.awg,l);
y.uniform1f(a.dissv,u);var v=[a.source,i,a.target,$];if(this.VH)v.push(a.weight,h);this.v4(v)};i8.l.P0=function(){i8.tc.call(this);
var i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",$="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.mR(i,$)};i8.l.P0.prototype=new i8.tc;i8.l.P0.prototype.tt=function(i,$,h,d){this.zP(["rct","prev","next","alpha"]);
var K=i8.nl,f=this.LX;K.uniform4fv(f.rct,[0,0,1,1]);this.v4([f.prev,$,f.next,h,f.alpha,d])};i8.Mm={IN:{},UW:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
i8.Mm.YR=function(i,$){var h=f2.dA,d=[h.hr,h.gI,h._k,h.Ni,h.PR,h.m$,h.jx,h.HK].indexOf(i.type),K=i8.Mm.IN[i.type];
if(K==null)K=i8.Mm.IN[i.type]=new i8.IN[d];K.Uu();K.tt($,i);i8.nl.drawArrays(i8.nl.TRIANGLES,0,6)};i8.IN=[];
i8.IN[0]=function(){i8.tc.call(this);this.bp={};var i="\t\t\tprecision mediump float;\t\t\t"+i8.ZV.ZQ+"\t\t\t"+i8.ZV.kh+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[0].prototype=new i8.tc;i8.IN[0].prototype.tt=function(i,$){var h={o:$.UR,P:$.eQ,Z:$.eV,Pi:k.Q($.UR.length)},d=h.o.length;
if(this.bp["m"+d]==null){this.bp["m"+d]={a83:new i8.UT(d,1),Yz:k.Q(d*4)}}var K=this.bp["m"+d];k.ko(h,K.Yz,0);
var f=K.a83;f.set(K.Yz);this.zP(["source","map","toGray","presLum"]);var l=i8.nl,u=this.LX;l.uniform1f(u.toGray,$.XB?1:0);
l.uniform1f(u.presLum,$.X9?1:0);this.v4([u.source,i,u.map,f.Wd])};i8.IN[1]=function(){i8.tc.call(this);
this.a5u=new i8.UT(256,1);this.awP=k.Q(256*4);var i="\t\t\t\tprecision mediump float;\t\t\t\t"+i8.ZV.ax+"\t\t\t\t"+i8.ZV.xV+"\t\t\t\t"+i8.ZV.Lm+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[1].prototype=new i8.tc;i8.IN[1].prototype.tt=function(i,$){k.ko({o:$.a09,P:$.Ap,Z:$.agg,Pi:k.Q(256)},this.awP);
this.a5u.set(this.awP);this.zP(["source","map","cfa","cfb","colorize"]);var h=i8.nl,d=this.LX;h.uniform1f(d.cfa,$.afd);
h.uniform1f(d.cfb,$.vU);h.uniform1i(d.colorize,$.a9w);this.v4([d.source,i,d.map,this.a5u.Wd])};i8.IN[2]=function(){i8.tc.call(this);
var i="\t\t\tprecision mediump float;\t\t\t"+i8.ZV.ax+"\t\t\t"+i8.ZV._U+"\t\t\t"+i8.ZV.ub+"\t\t\t"+i8.ZV.xV+"\t\t\t"+i8.ZV.Lm+"\t\t\t"+i8.ZV.auY+"\t\t\t"+i8.ZV.adl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[2].prototype=new i8.tc;i8.IN[2].prototype.tt=function(i,$){this.zP(["source","vib","sat","yF"]);
var h=i8.nl,d=this.LX;h.uniform1f(d.vib,$.J0[0]);h.uniform1f(d.sat,$.J0[1]);h.uniform3fv(d.yF,new Float32Array([$.J0[2],$.J0[3],$.J0[3]]));
this.v4([d.source,i])};i8.IN[3]=function(){i8.tc.call(this);var i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[3].prototype=new i8.tc;i8.IN[3].prototype.tt=function(i,$){this.zP(["source","trf"]);
var h=i8.nl,d=this.LX;h.uniformMatrix4fv(d.trf,!1,new Float32Array(k.xP.Nj($.eE)));this.v4([d.source,i])};
i8.IN[4]=function(){i8.tc.call(this);var i="\t\t\tprecision mediump float; \t\t\t"+i8.ZV.Hq+"\t\t\t"+i8.ZV.ax+"\t\t\t"+i8.ZV.Lm+"\t\t\t"+i8.ZV.xV+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[4].prototype=new i8.tc;i8.IN[4].prototype.tt=function(i,$){this.zP(["source","mnm","mxm","shift","lim"]);
var h=i8.nl,d=this.LX;h.uniform3fv(d.mnm,new Float32Array($.yq));h.uniform3fv(d.mxm,new Float32Array($.H5));
h.uniform3fv(d.shift,new Float32Array($.shift));h.uniform1f(d.lim,$.bn);this.v4([d.source,i])};i8.IN[5]=function(){i8.tc.call(this);
var i="\t\t\tprecision mediump float;\t\t\t"+i8.ZV.kh+"\t\t\t"+i8.ZV.Gq+"\t\t\t"+i8.ZV.Sk+"\t\t\t"+i8.ZV.xV+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[5].prototype=new i8.tc;i8.IN[5].prototype.tt=function(i,$){this.zP(["source","cfs"]);
var h=i8.nl,d=this.LX;h.uniform3fv(d.cfs,$.apz);this.v4([d.source,i])};i8.IN[6]=function(){i8.tc.call(this);
var i="\t\t\tprecision mediump float;\t\t\t"+i8.ZV.ax+"\t\t\t"+i8.ZV.Gq+"\t\t\t"+i8.ZV.Sk+"\t\t\t"+i8.ZV.xV+"\t\t\t"+i8.ZV.Lm+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[6].prototype=new i8.tc;i8.IN[6].prototype.tt=function(i,$){this.zP(["source","wght","prms"]);
var h=i8.nl,d=this.LX,K=[$.OT,$.avq,$.ZQ,$.aol,$.Kk,$.asN];h.uniform1fv(d.wght,new Float32Array($.ajX));
h.uniform1fv(d.prms,new Float32Array(K));this.v4([d.source,i])};i8.IN[7]=function(){i8.tc.call(this);
this.Lu={};var i="\t\t\tprecision mediump float;\t\t\t"+i8.ZV.ZT+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.mR(i,i8.Mm.UW)};i8.IN[7].prototype=new i8.tc;i8.IN[7].prototype.tt=function(i,$){this.zP(["source","lut","N"]);
var h=i8.nl,d=this.LX,K=$.fT,f=$.tp;if(this.Lu["m"+K]==null)this.Lu["m"+K]=new i8.UT(K,K*K);var l=this.Lu["m"+K];
l.set(f);h.uniform1f(d.N,K);this.v4([d.source,i,d.lut,l.Wd]);h.activeTexture(h.TEXTURE1);var u=h.LINEAR;
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,u);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,u);
h.activeTexture(h.TEXTURE0)};i8.filter={VT:{},UW:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",akR:0,anW:1,EB:2,anE:3,a7b:4,a5K:5,pj:6,alq:7};
i8.filter.YR=function(i,$){var h=i8.filter,d,K=i.type+":"+(i.Py?i.Py.join(","):""),d=i8.filter.VT[K];
if(d==null)d=i8.filter.VT[K]=new i8.VT[i.type](i.Py);d.Uu();d.tt($,i);i8.nl.drawArrays(i8.nl.TRIANGLES,0,6)};
i8.VT=[0,0,0,0,0,0,0,0,0,0,0,0];i8.VT[7]=function(){i8.tc.call(this);var i="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.mR(al.c5(i),al.c5(i8.filter.UW))};i8.VT[7].prototype=new i8.tc;i8.VT[7].prototype.tt=function(i,$){this.zP(["source","iwh","kern"]);
var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);h.uniform1fv(d.kern,$.akf);this.v4([d.source,i])};i8.VT[6]=function(i){i8.tc.call(this);
var $=i[0],h=i[1],d=i[2],K="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",f=al.c5(K);
f=f.replaceAll("PRC",d+".0");f=f.replaceAll("DIR",["x,0","0,x"][h]);this.mR(f,i8.Mm.UW)};i8.VT[6].prototype=new i8.tc;
i8.VT[6].prototype.tt=function(i,$){this.zP(["source","iwh","rad"]);var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);
h.uniform1f(d.rad,$.hP);this.v4([d.source,i])};i8.VT[4]=function(i){i8.tc.call(this);var $=i[0],h=i[1],d="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+i[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][h]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][$]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][h]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(h==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.mR(d,i8.Mm.UW)};i8.VT[4].prototype=new i8.tc;i8.VT[4].prototype.tt=function(i,$){this.zP(["source","iwh","rrad","tr"]);
var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);h.uniform1f(d.rrad,$.x0);h.uniform1f(d.tr,$.as7);this.v4([d.source,i]);
var K=h.LINEAR;K=h.NEAREST;h.activeTexture(h.TEXTURE0);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,K);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,K);h.activeTexture(h.TEXTURE0)};i8.VT[5]=function(){i8.tc.call(this);
var i="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.mR(al.c5(i),al.c5(i8.filter.UW))};i8.VT[5].prototype=new i8.tc;i8.VT[5].prototype.tt=function(i,$){this.zP(["source","ssum","iwh","amnt","edgf"]);
var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);h.uniform1f(d.amnt,$.aaX);h.uniform1f(d.edgf,$.abp);this.v4([d.source,i,d.ssum,$.a4v])};
i8.VT[3]=function(){i8.tc.call(this);var i="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.mR(al.c5(i),al.c5(i8.filter.UW))};i8.VT[3].prototype=new i8.tc;i8.VT[3].prototype.tt=function(i,$){this.zP("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);h.uniform1f(d.tdep,$.ak5);h.uniform1f(d.rrad,$.x0);h.uniform2fv(d.spec,$.aq6);
h.uniform3fv(d.nois,$.avm);h.uniformMatrix4fv(d.poly0,!1,$.aqI);h.uniformMatrix4fv(d.poly1,!1,$.a3W);
this.v4([d.source,i]);var K=h.LINEAR;h.activeTexture(h.TEXTURE0);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,K);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,K);h.activeTexture(h.TEXTURE0)};i8.VT[0]=function(){i8.tc.call(this);
var i="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.mR(al.c5(i),al.c5(i8.filter.UW))};i8.VT[0].prototype=new i8.tc;i8.VT[0].prototype.tt=function(i,$){this.zP(["source","iwh","ld","shine"]);
var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);h.uniform3fv(d.ld,$.a3r);h.uniform1f(d.shine,$.a6Z);this.v4([d.source,i,d.tang,$.Nl])};
i8.VT[1]=function(){i8.tc.call(this);var i="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.mR(al.c5(i),al.c5(i8.filter.UW))};i8.VT[1].prototype=new i8.tc;i8.VT[1].prototype.tt=function(i,$){this.zP(["source","iwh","isc","bristle"]);
var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);h.uniform1f(d.isc,$.a1a);h.uniform1f(d.bristle,$.axm);
this.v4([d.source,i])};i8.VT[2]=function(){i8.tc.call(this);var i="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.mR(al.c5(i),al.c5(i8.filter.UW))};i8.VT[2].prototype=new i8.tc;i8.VT[2].prototype.tt=function(i,$){this.zP(["source","tang","iwh","sigma","expo"]);
var h=i8.nl,d=this.LX;h.uniform2fv(d.iwh,$.aQ);h.uniform1f(d.sigma,$.ap0);h.uniform1f(d.expo,$.aho);
this.v4([d.source,i,d.tang,$.Nl]);var K=h.LINEAR;h.activeTexture(h.TEXTURE0);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,K);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,K);h.activeTexture(h.TEXTURE0)};function k(){}k.Y={};
k.a88={};k.afc=function(){var i=[64,64,128,256,512,1024,2048],$=[];for(var t=0;t<i.length;t++){var h=i[t],d=document.createElement("canvas");
d.width=h;d.height=h;$.push(d.getContext("2d"))}return $}();k.i8=function(i,$){var h,d=k.afc,t=1,K=Math.max(i,$);
while(t<d.length&&K>d[t].canvas.width)t++;if(t==d.length){h=d[0];var f=h.canvas;f.width=i;f.height=$}else{h=d[t];
h.clearRect(0,0,i,$)}return h};k.Wq=function(i,$,h){var d=new Uint32Array($*h);d[0]=i[0];for(var K=1;
K<$;K++)d[K]=d[K-1]+i[K];for(var f=1;f<h;f++){var t=f*$;d[t]=d[t-$]+i[t];for(var K=1;K<$;K++)d[t+K]=i[t+K]+d[t+K-1]+d[t+K-$]-d[t+K-$-1]}return d};
k.gQ=function(i,$,h,d,K,f){var l=(K-1)*$,u=f*$;return i[u+d]-i[u+h-1]-i[l+d]+i[l+h-1]};k.LN=function(i,$,h){var d={},K=0,f=0,l=new Uint32Array(i.buffer),u=l.length,U=Date.now();
for(var y=1;y<h-1;y++)for(var a=1;a<$-1;a++){var v=y*$+a,c=l[v];if(c>>>24<230)f++;if(d[c]==null){d[c]=!0;
K++}}if(f!=0||K<20)return!1;return!0};k.by=function(i,$,h,d,K,f){if(K==null)K=f=0;d=Math.log(d)/Math.log(2);
d=Math.round(d);for(var t=0;t<h;t++)for(var l=0;l<$;l++){var u=t*$+l<<2,U=k.dP(t+f,l+K,d);i[u]=i[u+1]=i[u+2]=U;
i[u+3]=255}};k.dP=function(t,i,$){return 255-((t>>>$)+(i>>>$)&1)*51};k._V=function(i){var $=i.toString(16);
while($.length<6)$="0"+$;return $};k.d1=function(i){return parseInt(i,16)};k.ZQ=function(i){return.3*i.o+.59*i.P+.11*i.Z};
k.Ys=function(i){return Math.max(i.o,i.P,i.Z)-Math.min(i.o,i.P,i.Z)};k.DW=function(i,$,h){return.3*i+.59*$+.11*h};
k.axO=function(i,$,h){return Math.max(i,$,h)-Math.min(i,$,h)};k.Gq=function(i,$){var h=$-i,d=Math.abs(h),K=h-1,f=h+1;
if(Math.abs(K)<d)h=K;else if(Math.abs(f)<d)h=f;return h};k.Jy=function(i){return i<.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055};
k.NQ=function(i){return i<.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)};k.atp=function(i,$){var h=Math.min(i.length,$.length);
for(var t=0;t<h;t+=4){var d=i[t],K=i[t+1],f=i[t+2];$[t]=16+Math.floor(65.481/255*d+128.553/255*K+24.966/255*f+.5);
$[t+1]=128-Math.floor(37.797/255*d-74.203/255*K+112/255*f+.5);$[t+2]=128+Math.floor(112/255*d-93.786/255*K-18.214/255*f+.5);
$[t+3]=i[t+3]}};k.a9A=function(i,$,h){var d,K,f,l=Math.max(i,$,h),u=Math.min(i,$,h);f=l;if(l!=0)K=(l-u)/l;
else K=0;if(K==0)d=0;else{var U=l-u,y=(l-i)/U,a=(l-$)/U,v=(l-h)/U;if(i==l)d=v-a;else if($==l)d=2+y-v;
else d=4+a-y;d*=1/6;if(d<0)d=d+1}return{mJ:d,qc:K,Z:f}};k.abU=function(i,$,h){var d=0,K=0,f=0;if($==0)d=K=f=h;
else{var l=(i-Math.floor(i))*6,u=Math.floor(l),U=l-Math.floor(l),y=h*(1-$),a=h*(1-$*U),v=h*(1-$*(1-U));
switch(u){case 0:d=h;K=v;f=y;break;case 1:d=a;K=h;f=y;break;case 2:d=y;K=h;f=v;break;case 3:d=y;K=a;
f=h;break;case 4:d=v;K=y;f=h;break;case 5:d=h;K=y;f=a;break}}return{o:d,P:K,Z:f}};k.xV=function(i,$,h){var d=Math.max(i,$,h),K=Math.min(i,$,h),f=0,l=0,u=(d+K)*.5;
if(d!=K){var U=d-K;l=u>.5?U/(2-(d+K)):U/(d+K);switch(d){case i:f=($-h)/U+($<h?6:0);break;case $:f=(h-i)/U+2;
break;case h:f=(i-$)/U+4;break}f*=1/6}return{mJ:f,qc:l,AP:u}};k.Lm=function(i,$,h){var d,K,f;if($==0)d=K=f=h;
else{var l=h<.5?h*(1+$):h+$-h*$,u=2*h-l;d=k.ax(u,l,i+1/3);K=k.ax(u,l,i);f=k.ax(u,l,i-1/3)}return{o:d,P:K,Z:f}};
k.ax=function(i,$,h){if(h<0)h+=1;if(h>1)h-=1;if(h<1/6)return i+($-i)*6*h;if(h<1/2)return $;if(h<2/3)return i+($-i)*(2/3-h)*6;
return i};k._U=function(i,$,h){var d=Math.max(i,$,h),K=Math.min(i,$,h),f,l,u=d,U=d-K;l=d==0?0:U/d;if(d==K)f=0;
else{switch(d){case i:f=($-h)/U+($<h?6:0);break;case $:f=(h-i)/U+2;break;case h:f=(i-$)/U+4;break}f*=1/6}return{mJ:f,qc:l,Pr:u}};
k.ub=function(i,$,h){var d,K,f,t,l,u,U,y;t=Math.floor(i*6);l=i*6-t;u=h*(1-$);U=h*(1-l*$);y=h*(1-(1-l)*$);
switch(t%6){case 0:d=h,K=y,f=u;break;case 1:d=U,K=h,f=u;break;case 2:d=u,K=h,f=y;break;case 3:d=u,K=U,f=h;
break;case 4:d=y,K=u,f=h;break;case 5:d=h,K=u,f=U;break}return{o:d,P:K,Z:f}};k.wa=function(){var i=[],$=[];
for(var t=0;t<2e3;t++){var h=t/1e3;i[t]=k.NQ(h);$[t]=h>.008856?Math.pow(h,1/3):(903.3*h+16)*(1/116)}return[i,$]}();
k.Hq=function(i,$,h){var d=k.wa[0],K=k.wa[1];i=d[~~(i*(1e3/255))];$=d[~~($*(1e3/255))];h=d[~~(h*(1e3/255))];
var f=k.xP.zG,l=f[0]*i+f[1]*$+f[2]*h,u=f[4]*i+f[5]*$+f[6]*h,U=f[8]*i+f[9]*$+f[10]*h;l=l*(100/96.72);
u=u*(100/100);U=U*(100/81.427);return k.RV(l,u,U)};k.RV=function(i,$,h){var d=k.wa[1],K=d[~~(i*1e3)],f=d[~~($*1e3)],l=d[~~(h*1e3)];
return{GE:116*f-16,Pi:500*(K-f),Z:200*(f-l)}};k.FY=function(i,$,h){var d=903.3,K=.008856,f=(i+16)/116,l=f*f*f,u=f-h/200,U=u*u*u,y=$/500+f,a=y*y*y,v=U>K?U:(116*u-16)/d,c=l>K?l:(116*f-16)/d,p=a>K?a:(116*y-16)/d,C=p*96.72,T=c*100,E=v*81.427,r=k.xP.yf(k.xP.R5,[C/100,T/100,E/100,0]);
for(var t=0;t<4;t++)r[t]=Math.max(0,Math.min(255,k.Jy(r[t])*255));return{o:r[0],P:r[1],Z:r[2]}};k.Yq=function(i,$,h,d,K){var f=i.GE,l=i.Pi,u=i.Z,U=(f<$.GE?$.GE-f:h.GE<f?h.GE-f:0)*(1/100),y=(l<$.Pi?$.Pi-l:h.Pi<l?h.Pi-l:0)*(1/116),a=(u<$.Z?$.Z-u:h.Z<u?h.Z-u:0)*(1/116),v=Math.sqrt(U*U+y*y+a*a)*1.35;
return v<=d?Math.min(1,1.17*(1-v*K)):0};k.xw=function(i,$,h){var d=i.length,K=.3,f=.59,l=.11;if(h){K=h[0];
f=h[1];l=h[2]}for(var t=0;t<d;t+=4)$[t>>2]=~~(i[t+0]*K+i[t+1]*f+i[t+2]*l+.5)};k.ai=function(i,$){var h=$.length;
for(var t=0;t<h;t+=4){var d=i[t>>>2];$[t]=d;$[t+1]=d;$[t+2]=d}};k.ko=function(i,$){var h=i.Pi,d=i.o,K=i.P,f=i.Z,l=Math.min(i.Pi.length,$.buffer.byteLength>>>2),u=4*Math.floor(l/4),U=new Uint32Array($.buffer),y=new Uint32Array(h.buffer),a=new Uint32Array(d.buffer),v=new Uint32Array(K.buffer),c=new Uint32Array(f.buffer);
for(var t=0;t<u;t+=4){var p=y[t>>2],C=c[t>>2],T=v[t>>2],E=a[t>>2];U[t]=p<<24|(C&255)<<16|(T&255)<<8|E&255;
U[t+1]=(p&65280)<<16|(C&65280)<<8|T&65280|(E&65280)>>>8;U[t+2]=(p&16711680)<<8|C&16711680|(T&16711680)>>>8|(E&16711680)>>>16;
U[t+3]=p&4278190080|(C&4278190080)>>>8|(T&4278190080)>>>16|(E&4278190080)>>>24}for(var t=u;t<l;t++)U[t]=h[t]<<24|f[t]<<16|K[t]<<8|d[t]};
k.dI=function(i,$){var h=$.Pi,d=$.o,K=$.P,f=$.Z,l=Math.min($.Pi.length,i.buffer.byteLength>>>2),u=4*Math.floor(l/4),U=new Uint32Array(i.buffer),y=new Uint32Array(h.buffer),a=new Uint32Array(d.buffer),v=new Uint32Array(K.buffer),c=new Uint32Array(f.buffer);
for(var t=0;t<u;t+=4){var p=U[t],C=U[t+1],T=U[t+2],E=U[t+3];a[t>>2]=p&255|(C&255)<<8|(T&255)<<16|E<<24;
v[t>>2]=(p&65280)>>8|C&65280|(T&65280)<<8|(E&65280)<<16;c[t>>2]=(p&16711680)>>16|(C&16711680)>>8|T&16711680|(E&16711680)<<8;
y[t>>2]=p>>>24|C>>>24<<8|T>>>24<<16|E&4278190080}for(var t=u;t<l;t++){var r=U[t];d[t]=r>>0&255;K[t]=r>>8&255;
f[t]=r>>16&255;h[t]=r>>24&255}};k.pO=function(i,$,h){var d=new Uint8Array(i.buffer),K=Math.min(d.length/4,$.length);
for(var t=0;t<K;t++){$[t]=d[(t<<2)+h]}};k.k1=function(i,$,h){var d=new Uint8Array($.buffer),K=new Uint32Array(i.buffer),f=Math.min(d.length/4,i.length),t=0;
while(t+4<f){var l=K[t>>>2];d[(t<<2)+h]=l&255;d[(t<<2)+h+4]=l>>>8&255;d[(t<<2)+h+8]=l>>>16&255;d[(t<<2)+h+12]=l>>>24;
t+=4}while(t<f){d[(t<<2)+h]=i[t];t++}};k.MK=function(i,$,h){if(h==null)h=0;var d=new Uint32Array(i.buffer),K=d.length;
for(var t=0;t<K;t++)d[t]=d[t]&h|$};k.amM=function(i,$,h,d,K){if(K==null)K=0;var f=new Uint32Array(i.buffer);
h=h.Js($);var l=h.x-$.x,u=h.y-$.y,U=h.e,y=h.n,a=$.e;for(var v=0;v<y;v++){var t=(u+v)*a+l;for(var c=0;
c<U;c++){f[t]=f[t]&K|d;t++}}};k.pv=function(i,$){var h=Math.min(i.buffer.byteLength,$.buffer.byteLength),d=h>>>2,i=new Uint32Array(i.buffer,0,d),$=new Uint32Array($.buffer,0,d);
$.set(i)};k.Rl=function(i,$){var h=i.buffer.byteLength,d=$.buffer.byteLength,K=new Uint32Array(i.buffer,0,h>>2),f=new Uint32Array($.buffer,0,d>>2);
if(h!=d)return!1;var l=K.length;for(var t=0;t<l;t++)if(f[t]!=K[t])return!1;return!0};k.Sp=function(i){var $=new Uint32Array(i.buffer),h=$.length;
for(var t=0;t<h;t++)$[t]=~$[t]};k.apO=function(i){var $=i.length;for(var t=0;t<$;t+=4){i[t]=~i[t];i[t+1]=~i[t+1];
i[t+2]=~i[t+2]}};k.a4a=function(i){var $=i.length;for(var t=3;t<$;t+=4)i[t]=~i[t]};k.aoC=function(i){return i+(i%4==0?0:4-i%4)};
k.Q=function(i,$){if($==null)$=!1;if(!$)i=k.aoC(i);try{var h=new Uint8Array(i)}catch(e_){alert("Not enough RAM! (need "+Math.round(i/(1<<20))+" MB)",7e3);
throw"low_ram"}return h};k.SL=function(i){var $=i.length,h=i[$-2],d=i[$-1];while(d.e>=2&&d.n>=2){var K=k.mt(h,d);
i.push(K.Yz,K.rect);h=K.Yz;d=K.rect}};k.V0=function(i){var $=i.length,h=i[$-2],d=i[$-1];while(d.e>=2&&d.n>=2){var K=k.iG(h,d);
i.push(K.Yz,K.rect);h=K.Yz;d=K.rect}};k.mt=function(i,$,h){var d=$.e,K=$.n,f=d>>1,l=K>>1,u=new bN($.x,$.y,f,l),U=h&&h.length==f*l*4?h:k.Q(f*l*4),y=new Uint32Array(i.buffer),a=new Uint32Array(U.buffer);
for(var v=0;v<l;v++)for(var c=0;c<f;c++){var p=v*f+c,C=(v<<1)*d+(c<<1),T=y[C],E=y[C+1],r=y[C+d],Y=y[C+d+1],S=T>>>24,m=E>>>24,Q=r>>>24,z=Y>>>24,n=S+m+Q+z;
if(n==1020){var Z=(T>>>0&255)+(E>>>0&255)+(r>>>0&255)+(Y>>>0&255)+2>>>2,P=(T>>>8&255)+(E>>>8&255)+(r>>>8&255)+(Y>>>8&255)+2>>>2,V=(T>>>16&255)+(E>>>16&255)+(r>>>16&255)+(Y>>>16&255)+2>>>2;
a[p]=255<<24|V<<16|P<<8|Z}else if(n==0)a[p]=0;else{var Z=(T>>>0&255)*S+(E>>>0&255)*m+(r>>>0&255)*Q+(Y>>>0&255)*z,P=(T>>>8&255)*S+(E>>>8&255)*m+(r>>>8&255)*Q+(Y>>>8&255)*z,V=(T>>>16&255)*S+(E>>>16&255)*m+(r>>>16&255)*Q+(Y>>>16&255)*z,I=1/n;
Z=~~(Z*I+.5);P=~~(P*I+.5);V=~~(V*I+.5);a[p]=n+2>>>2<<24|V<<16|P<<8|Z}}return{rect:u,Yz:U}};k.h9=function(i,$,h){var d=$.e,K=$.n,f=d>>1,l=K>>1,u=new bN($.x,$.y,f,l),U=h&&h.length==f*l*4?h:k.Q(f*l*4),y=new Uint32Array(i.buffer),a=new Uint32Array(U.buffer);
for(var v=0;v<l;v++)for(var c=0;c<f;c++){var p=v*f+c,C=(v<<1)*d+(c<<1),T=y[C],E=y[C+1],r=y[C+d],Y=y[C+d+1],S=2+(T>>>0&255)+(E>>>0&255)+(r>>>0&255)+(Y>>>0&255)>>>2,m=2+(T>>>8&255)+(E>>>8&255)+(r>>>8&255)+(Y>>>8&255)>>>2,Q=2+(T>>>16&255)+(E>>>16&255)+(r>>>16&255)+(Y>>>16&255)>>>2,z=2+(T>>>24&255)+(E>>>24&255)+(r>>>24&255)+(Y>>>24&255)>>>2;
a[p]=z<<24|Q<<16|m<<8|S}return{rect:u,Yz:U}};k.awC=function(i,$,h){var d=$.e,K=$.n,f=2*Math.floor(d/3),l=2*Math.floor(K/3),u=new bN($.x,$.y,f,l),U=h&&h.length==f*l*4?h:k.Q(f*l*4),y=new Uint32Array(i.buffer),a=new Uint32Array(U.buffer);
for(var v=0;v<l;v+=2)for(var c=0;c<f;c+=2){var p=v*f+c,C=(v*3>>>1)*d+(c*3>>>1),T=y[C],E=y[C+1],r=y[C+2],Y=y[C+d],S=y[C+1+d],m=y[C+2+d],Q=y[C+d+d],z=y[C+1+d+d],n=y[C+2+d+d],Z=T>>>24<<2,P=(T>>>16&255)*Z,V=(T>>>8&255)*Z,I=(T&255)*Z,q=E>>>24<<1,X=(E>>>16&255)*q,B=(E>>>8&255)*q,e=(E&255)*q,F=r>>>24<<2,s=(r>>>16&255)*F,J=(r>>>8&255)*F,W=(r&255)*F,L=Y>>>24<<1,A=(Y>>>16&255)*L,j=(Y>>>8&255)*L,G=(Y&255)*L,O=S>>>24,o=(S>>>16&255)*O,N=(S>>>8&255)*O,w=(S&255)*O,kv=m>>>24<<1,g=(m>>>16&255)*kv,b=(m>>>8&255)*kv,jU=(m&255)*kv,_=Q>>>24<<2,cY=(Q>>>16&255)*_,j3=(Q>>>8&255)*_,aS=(Q&255)*_,bL=z>>>24<<1,cQ=(z>>>16&255)*bL,cK=(z>>>8&255)*bL,el=(z&255)*bL,gF=n>>>24<<2,fj=(n>>>16&255)*gF,i3=(n>>>8&255)*gF,eT=(n&255)*gF,eV=Z+q+L+O,hr=F+q+kv+O,it=_+bL+L+O,f8=gF+bL+kv+O,i$=eV==0?0:1/eV,gS=hr==0?0:1/hr,hT=it==0?0:1/it,gL=f8==0?0:1/f8,iu=0,dB=0,jt=0,ka=0;
iu=~~(.5+(I+e+G+w)*i$);dB=~~(.5+(V+B+j+N)*i$);jt=~~(.5+(P+X+A+o)*i$);ka=~~(.5+eV*(1/9));a[p]=ka<<24|jt<<16|dB<<8|iu;
iu=~~(.5+(W+e+jU+w)*gS);dB=~~(.5+(J+B+b+N)*gS);jt=~~(.5+(s+X+g+o)*gS);ka=~~(.5+hr*(1/9));a[p+1]=ka<<24|jt<<16|dB<<8|iu;
iu=~~(.5+(aS+el+G+w)*hT);dB=~~(.5+(j3+cK+j+N)*hT);jt=~~(.5+(cY+cQ+A+o)*hT);ka=~~(.5+it*(1/9));a[p+f]=ka<<24|jt<<16|dB<<8|iu;
iu=~~(.5+(eT+el+jU+w)*gL);dB=~~(.5+(i3+cK+b+N)*gL);jt=~~(.5+(fj+cQ+g+o)*gL);ka=~~(.5+f8*(1/9));a[p+f+1]=ka<<24|jt<<16|dB<<8|iu}return{rect:u,Yz:U}};
k.aux=function(i,$,h){var d=$.e,K=$.n,f=2*Math.floor(d/3),l=2*Math.floor(K/3),u=new bN($.x,$.y,f,l),U=h&&h.length==f*l*4?h:k.Q(f*l*4),y=new Uint32Array(i.buffer),a=new Uint32Array(U.buffer);
for(var v=0;v<l;v+=2)for(var c=0;c<f;c+=2){var p=v*f+c,C=(v*3>>>1)*d+(c*3>>>1),T=y[C],E=y[C+1],r=y[C+2],Y=y[C+d],S=y[C+1+d],m=y[C+2+d],Q=y[C+d+d],z=y[C+1+d+d],n=y[C+2+d+d],Z=(T>>>16&255)<<2,P=(T>>>8&255)<<2,V=(T&255)<<2,I=(E>>>16&255)<<1,q=(E>>>8&255)<<1,X=(E&255)<<1,B=(r>>>16&255)<<2,e=(r>>>8&255)<<2,F=(r&255)<<2,s=(Y>>>16&255)<<1,J=(Y>>>8&255)<<1,W=(Y&255)<<1,L=S>>>16&255,A=S>>>8&255,j=S&255,G=(m>>>16&255)<<1,O=(m>>>8&255)<<1,o=(m&255)<<1,N=(Q>>>16&255)<<2,w=(Q>>>8&255)<<2,kv=(Q&255)<<2,g=(z>>>16&255)<<1,b=(z>>>8&255)<<1,jU=(z&255)<<1,_=(n>>>16&255)<<2,cY=(n>>>8&255)<<2,j3=(n&255)<<2,aS=0,bL=0,cQ=0;
aS=~~(.5+(V+X+W+j)*(1/9));bL=~~(.5+(P+q+J+A)*(1/9));cQ=~~(.5+(Z+I+s+L)*(1/9));a[p]=255<<24|cQ<<16|bL<<8|aS;
aS=~~(.5+(F+X+o+j)*(1/9));bL=~~(.5+(e+q+O+A)*(1/9));cQ=~~(.5+(B+I+G+L)*(1/9));a[p+1]=255<<24|cQ<<16|bL<<8|aS;
aS=~~(.5+(kv+jU+W+j)*(1/9));bL=~~(.5+(w+b+J+A)*(1/9));cQ=~~(.5+(N+g+s+L)*(1/9));a[p+f]=255<<24|cQ<<16|bL<<8|aS;
aS=~~(.5+(j3+jU+o+j)*(1/9));bL=~~(.5+(cY+b+O+A)*(1/9));cQ=~~(.5+(_+g+G+L)*(1/9));a[p+f+1]=255<<24|cQ<<16|bL<<8|aS}return{rect:u,Yz:U}};
k.ym=function(i){var $=255,h=i.length;h-=h&31;for(var t=3;t<h;t+=32)$=$&i[t]&i[t+4]&i[t+8]&i[t+12]&i[t+16]&i[t+20]&i[t+24]&i[t+28];
return $!=255};k.axB=function(i,$,h,d){var K=k.mt,f=k.awC,u=0;if(!k.ym(i)){K=k.h9;f=k.aux}var l={Yz:i,rect:$},U=h;
while(U<.499){u++;U*=2}for(var t=0;t<u;t++)l=K(l.Yz,l.rect,d);if(U<.5001)l=K(l.Yz,l.rect,d);else l=f(l.Yz,l.rect,d);
return l};k.asG=function(i,$,h,d){var K=k.iG,f=k.pf,l={Yz:i,rect:$},u=0,U=h;while(U<.499){u++;U*=2}for(var t=0;
t<u;t++)l=K(l.Yz,l.rect,d);if(U<.5001)l=K(l.Yz,l.rect,d);else l=f(l.Yz,l.rect,d);return l};k.iG=function(i,$,h){var d=$.e,K=$.n,f=d>>1,l=K>>1,u=new bN($.x,$.y,f,l);
if(i==null)return{rect:u};var U=h&&h.length>=f*l?h:k.Q(f*l);for(var y=0;y<l;y++){var a=y*f;for(var v=0;
v<f;v++){var c=(y<<1)*d+(v<<1);U[a+v]=2+i[c]+i[c+1]+i[c+d]+i[c+d+1]>>>2}}return{rect:u,Yz:U}};k.pf=function(i,$,h){var d=$.e,K=$.n,f=2*Math.floor(d/3),l=2*Math.floor(K/3),u=new bN($.x,$.y,f,l);
if(i==null)return{rect:u};var U=h&&h.length>=f*l?h:k.Q(f*l);for(var y=0;y<l;y+=2)for(var a=0;a<f;a+=2){var v=y*f+a,c=(y*3>>>1)*d+(a*3>>>1),p=i[c]<<2,C=i[c+1]<<1,T=i[c+2]<<2,E=i[c+d]<<1,r=i[c+1+d],Y=i[c+2+d]<<1,S=i[c+d+d]<<2,m=i[c+1+d+d]<<1,Q=i[c+2+d+d]<<2;
U[v]=~~(.5+(p+C+E+r)*(1/9));U[v+1]=~~(.5+(T+C+Y+r)*(1/9));U[v+f]=~~(.5+(S+m+E+r)*(1/9));U[v+f+1]=~~(.5+(Q+m+Y+r)*(1/9))}return{rect:u,Yz:U}};
k.Zc=function(i,$,h,d,K){var f=$.Js(d);if(K)f=f.Js(K);var l=Math.max(0,f.x-$.x),u=Math.max(0,f.x-d.x),U=Math.max(0,f.y-$.y),y=Math.max(0,f.y-d.y),a=f.e,v=f.n;
for(var t=0;t<v;t++){var c=(U+t)*$.e+l,p=(y+t)*d.e+u;h.set(new Uint8Array(i.buffer,c,a),p)}};k.b6=function(i,$,h,d){if($.Rl(d)){k.k1(i,h,3);
return}var K=$.Js(d),f=Math.max(0,K.x-$.x),l=Math.max(0,K.x-d.x),u=Math.max(0,K.y-$.y),U=Math.max(0,K.y-d.y),y=K.e,a=K.n;
for(var t=0;t<a;t++){var v=(u+t)*$.e+f,c=(U+t)*d.e+l;for(var p=0;p<y;p++)h[(c+p<<2)+3]=i[v+p]}};k.$s=function(i,$,h,d){var K=$.Js(d),f=Math.max(0,K.x-$.x),l=Math.max(0,K.x-d.x),u=Math.max(0,K.y-$.y),U=Math.max(0,K.y-d.y),y=K.e,a=K.n;
for(var t=0;t<a;t++){var v=(u+t)*$.e+f,c=(U+t)*d.e+l;for(var p=0;p<y;p++)h[c+p]=i[(v+p<<2)+3]}};k.mC=function(i,$,h,d,K){if($.Rl(d)&&(K==null||K.Rl(d))){k.pv(i,h);
return}i=new Uint32Array(i.buffer),h=new Uint32Array(h.buffer);var f=$.Js(d);if(K)f=f.Js(K);var l=Math.max(0,f.x-$.x),u=Math.max(0,f.x-d.x),U=Math.max(0,f.y-$.y),y=Math.max(0,f.y-d.y),a=f.e,v=f.n,c=a&3,p=c==0?a:a-c;
for(var t=0;t<v;t++){var C=(U+t)*$.e+l,T=(y+t)*d.e+u;h.set(new Uint32Array(i.buffer,C*4,a),T)}};k.Lb=function(i,$,h,d){var K=$.Js(d),f=Math.max(0,K.x-$.x),l=Math.max(0,K.x-d.x),u=Math.max(0,K.y-$.y),U=Math.max(0,K.y-d.y),y=K.e,a=K.n,v=i.Pi,c=i.o,p=i.P,C=i.Z,T=h.Pi,E=h.o,r=h.P,Y=h.Z;
for(var t=0;t<a;t++){var S=(u+t)*$.e+f,m=(U+t)*d.e+l;for(var Q=0;Q<y;Q++){T[m+Q]=v[S+Q];E[m+Q]=c[S+Q];
r[m+Q]=p[S+Q];Y[m+Q]=C[S+Q]}}};k.Ki=function(i){var $=i.length;for(var t=0;t<$;t+=4){var h=i[t+3];if(h==255)continue;
i[t]=~~(i[t]*h*(1/255)+.5);i[t+1]=~~(i[t+1]*h*(1/255)+.5);i[t+2]=~~(i[t+2]*h*(1/255)+.5)}};k.ZG=function(i){var $=i.length;
for(var t=0;t<$;t+=4){var h=i[t+3];if(h==0||h==255)continue;var d=255/h;i[t]=~~(i[t]*d+.5);i[t+1]=~~(i[t+1]*d+.5);
i[t+2]=~~(i[t+2]*d+.5)}};k.ey=function(i,$){for(var t=0;t<i.length;t++)if(i[t]!=$)return!1;return!0};
k.Ft=function(i){return i+1+(i>>>8)>>>8};k.round=function(i,$){if($==null)$=128;var h=i.length;for(var t=0;
t<h;t++)i[t]=i[t]<$?0:255};k.Kd=function(i,$){var h=i.length;for(var t=0;t<h;t++)i[t]=Math.round(i[t]*$)};
k.d0=function(i,$){var h=new Uint32Array(i.buffer),d=new Uint32Array($.buffer),K=h.length;for(var t=0;
t<K;t++){var f=h[t],l=d[t];d[t]=k.Ft((f>>>24)*(l>>>24))<<24|k.Ft((f>>>16&255)*(l>>>16&255))<<16|k.Ft((f>>>8&255)*(l>>>8&255))<<8|k.Ft((f&255)*(l&255))}};
k.nO=function(i,$){var h=i.length;for(var t=0;t<h;t++)$[(t<<2)+3]=k.Ft($[(t<<2)+3]*i[t])};k.a2h=function(i,$,h,d){var K=Math.max(0,d.x-$.x),f=Math.max(0,$.x-d.x),l=Math.max(0,d.y-$.y),u=Math.max(0,$.y-d.y),U=Math.min($.x+$.e,d.x+d.e)-Math.max($.x,d.x),y=Math.min($.y+$.n,d.y+d.n)-Math.max($.y,d.y);
for(var t=0;t<y;t++){var a=(l+t)*$.e+K,v=(u+t)*d.e+f;for(var c=0;c<U;c++){h[v]=k.Ft(h[v]*i[a]);a++;v++}}};
k.cj=function(i,$,h,d){var K=Math.max(0,d.x-$.x),f=Math.max(0,$.x-d.x),l=Math.max(0,d.y-$.y),u=Math.max(0,$.y-d.y),U=Math.min($.x+$.e,d.x+d.e)-Math.max($.x,d.x),y=Math.min($.y+$.n,d.y+d.n)-Math.max($.y,d.y);
for(var t=0;t<y;t++){var a=(l+t)*$.e+K,v=((u+t)*d.e+f<<2)+3;for(var c=0;c<U;c++){h[v]=k.Ft(h[v]*i[a]);
a++;v+=4}}};k.Ri=function(i,$,h,d){var K=Math.max(0,d.x-$.x),f=Math.max(0,$.x-d.x),l=Math.max(0,d.y-$.y),u=Math.max(0,$.y-d.y),U=Math.min($.x+$.e,d.x+d.e)-Math.max($.x,d.x),y=Math.min($.y+$.n,d.y+d.n)-Math.max($.y,d.y);
for(var t=0;t<y;t++){var a=((l+t)*$.e+K<<2)+3,v=((u+t)*d.e+f<<2)+3;for(var c=0;c<U;c++){h[v]=k.Ft(h[v]*i[a]);
a+=4;v+=4}}};k.L_=function(i,$){if($==null)$=1;var h=4*$,d=i.length>>>2,K=new Float64Array(256),f=new Float64Array(256),l=new Float64Array(256),u=new Float64Array(256),U=4*Math.floor(d/$)*$,y=0;
for(var t=0;t<U;t+=h){var a=i[t+0],v=i[t+1],c=i[t+2],p=i[t+3]*$,C=p*(1/255);f[a]+=C;l[v]+=C;u[c]+=C;
y+=p}for(var t=0;t<256;t++)K[t]=f[t]+l[t]+u[t];return[K,f,l,u,d,y/255]};k.Bt=function(i,$){function h(z,n){var Z=-1,P=0;
while(P<=n){Z++;P+=z[Z]}return Z}function d(z,n){var Z=256,P=0;while(P<=n){Z--;P+=z[Z]}return Z}function K(z){var n=0,Z=0;
for(var t=0;t<256;t++){Z+=z[t];n+=z[t]*t*(1/255)}return n/Z}var f=i[0],l=i[1]/100,u=i[2]/100,U=[],y=[];
for(var t=0;t<4;t++){var a=t==0?3:1;U[t]=h($[t],a*l*$[5]);y[t]=d($[t],a*u*$[5])}var v=[K($[1]),K($[2]),K($[3])],c=v.slice(0);
c.sort(function(z,n){return z-n});var p=v.indexOf(c[1]),C=(v[0]+v[1]+v[2])/3,T=[];for(var t=0;t<4;t++){var E=0,r=255,Y=U[t],S=y[t];
if(f==0&&t==0){E=Y;r=S}if(f==1&&t!=0){E=Y;r=S}if(f==2&&t!=0){var a=v[t-1]/C;r=Math.max(0,Math.min(255,y[p]*a))}var m=[E,r];
T.push(m);if(f==3&&t==0){var Q=255*(1-C);m.push(Q)}}return T};k.JX=function(i,$){var h=new Uint32Array(i.buffer),d=h.length;
for(var t=0;t<d;t++){var K=h[t],f=K&255,l=K>>8&255,u=K>>16&255,U=K>>24&255;h[t]=$[f]|$[l]<<8|$[u]<<16|$[U]<<24}};
k.a5X=function(i,$,h,d,K,f,l){var u=new Uint32Array(i.buffer),U=new Uint32Array($.buffer),y=u.length,a=0;
while(256<<a<h.length)a++;if(!l&&!f){for(var t=0;t!=y;t++){var v=u[t],c=(v&255)<<a,p=(v>>>8&255)<<a,C=(v>>>16&255)<<a,T=h[c],E=d[p],r=K[C];
U[t]=T|E<<8|r<<16|v&4278190080}return}for(var t=0;t<y;t++){var v=u[t],c=(v&255)<<a,p=(v>>>8&255)<<a,C=(v>>>16&255)<<a;
if(f)c=p=C=Math.round(c*.3+p*.59+C*.11);var T=h[c],E=d[p],r=K[C];if(l){var Y=k.DW(c,p,C),S=k.DW(T,E,r);
if(Y>S){var m=(Y-S)/(255-S);T+=m*(255-T);E+=m*(255-E);r+=m*(255-r)}else if(S==0)T=E=r=0;else{var m=Y/S;
T=m*T;E=m*E;r=m*r}}U[t]=T|E<<8|r<<16|v&4278190080}};k.WG=function(i,$){var h=$.e,d=$.n,top=0,K=0,f=0,l=0,u=0;
u=0;for(var U=0;U<d;U++){var y=U*h;for(var t=0;t<h;t++)u|=i[y+t];if(u!=0)break;top++}if(top==d)return new bN(0,0,0,0);
u=0;for(var U=d-1;U>=0;U--){var y=U*h;for(var t=0;t<h;t++)u|=i[y+t];if(u!=0)break;f++}var a=d-f;u=0;
for(var t=0;t<h;t++){for(var U=top;U<a;U++)u|=i[U*h+t];if(u!=0)break;K++}u=0;for(var t=h-1;t>=0;t--){for(var U=top;
U<a;U++)u|=i[U*h+t];if(u!=0)break;l++}var v=new bN($.x+K,$.y+top,h-K-l,d-top-f);return v};k.M6=function(i,$,h,d){if(d==null)d=[!0,!0,!0,!0];
if(h==null)h=0;var K=new Uint32Array(i.buffer),f=$.e,l=$.n,top=0,u=0,U=0,y=0,a=!1,v=[K[0],K[K.length-1],0][h];
a=!1;if(d[0])for(var c=0;c<l;c++){var p=c*f;for(var t=0;t<f;t++)if(K[p+t]!=v)a=!0;if(a)break;top++}a=!1;
if(d[2])for(var c=l-1;c>=0;c--){var p=c*f;for(var t=0;t<f;t++)if(K[p+t]!=v)a=!0;if(a)break;U++}a=!1;
if(d[1])for(var t=0;t<f;t++){for(var c=0;c<l;c++)if(K[c*f+t]!=v)a=!0;if(a)break;u++}a=!1;if(d[3])for(var t=f-1;
t>=0;t--){for(var c=0;c<l;c++)if(K[c*f+t]!=v)a=!0;if(a)break;y++}var C=new bN($.x+u,$.y+top,f-u-y,l-top-U);
return C.NT()?new bN(0,0,0,0):C};k.HH=function(i){var $=k.WG(i.channel,i.rect);if($.Rl(i.rect))return;
var h=k.Q($.O());k.Zc(i.channel,i.rect,h,$);i.channel=h;i.rect=$};k.Dl=function(i){var $=k.Q(i.buffer.length>>2);
k.pO(i.buffer,$,3);var h=k.WG($,i.rect);if(h.Rl(i.rect))return;var d=new k.Q(h.O()*4);k.mC(i.buffer,i.rect,d,h);
i.buffer=d;i.rect=h};k.extend=function(i,$,h){if(i.rect.PH($))return;var d=i.rect.rt($),K=k.Q(d.O());
if(h!=null)K.fill(h);k.Zc(i.channel,i.rect,K,d);i.rect=d;i.channel=K};k.afq=function(i,$){if($.NT()||i.rect.PH($))return;
var h=i.rect.rt($),d=k.Q(h.O()*4);k.mC(i.buffer,i.rect,d,h);i.rect=h;i.buffer=d};k.G3=function(i,$,h){if(!h.dD(i))return!1;
var d=Math.floor(i.x)-h.x,K=Math.floor(i.y)-h.y,t=K*h.e+d;return $[t]>128};k.ajZ=function(i,$,h){if(!h.dD(i))return!1;
var d=Math.floor(i.x)-h.x,K=Math.floor(i.y)-h.y,t=K*h.e+d;return $[4*t+3]>128};k.g9=function(i){if(k.Oh.length<i){k.Oh=k.Q(i);
k.Oh.fill(255)}return k.Oh};k.Oh=k.Q(0);k.N5=function(i){if(k.w7.length<i)k.w7=k.Q(i);return k.w7};k.w7=k.Q(0);
k.UT=function(i){this.Pi=k.Q(i);this.o=k.Q(i);this.P=k.Q(i);this.Z=k.Q(i)};k.UT.prototype.clone=function(){var i=this.Pi.length,$=new k.UT(1);
$.Pi=this.Pi.slice(0);$.o=this.o.slice(0);$.P=this.P.slice(0);$.Z=this.Z.slice(0);return $};k.Y.atB=function(i,$,h,d,K){var f=K[0]+1,l=K[1],u=Math.abs(l-25)/4,U=K[2],y=U%2+U*U>>1,a=k.Y.q;
a.mR($,h);var v=a.Kx(1),c=a.Kx(1),p=a.Kx(1);a._Z(i,d,U,U,y);a.AZ(d);a.P4(d,v);a.qG(v,c,f,f,1);a.qG(v,p,f,f,f*f);
a.sub(p,c);a.d0(c,u);(l<25?a.sub:a.add)(v,c);a.Ez(c,d);a.cG(d)};k.Y.aud=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=K[0]*2.55,u=K[1],U=u>>1,y=K[2]*.25,a=f.Kx(4),v=f.Kx(1),c=f.Kx(1);f.rE(i,a,u,1,!0,U);
f.rE(i,d,u,1,!1,U);f.pc(i,v);f.lZ(v,l);f.Vn(v,c,3);f.bJ(d,c,a);f.bG(a,d,y)};k.Y.afe=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);f.wj(K[3]);var l=K[0]*-3+80,u=K[1]*-3+80,U=K[2]/2+.5,y=K[4],a=K[5],v=f.Kx(1),c=f.Kx(1),p=f.Kx(1),C=f.Kx(1),T=f.Kx(4),E=f.Kx(4);
f.pc(i,v);f.pv(v,c);f.g3(v,u,5);f.vR(v,.4,0);f.Vn(v,p,3);f.R7(p,v,9,3,!0,27);f.pv(c,p);f.Sp(p);var r=f.Lx(l,5,p);
for(var t=0;t<f.Kj;t++){c[t]=r[255-c[t]]}f.vR(c,.4,0);f.pv(c,p);f.Vn(p,C,2);f.R7(C,p,5,3,!1,15);f.d0(v,U);
f.d0(p,U);f.ab(d,2155905279);f.ab(E,y);f.ab(T,a);f.bJ(E,v,d);f.bJ(T,p,d)};k.Y.aeT=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=new Uint8Array(256),u=5+10*K[1];u+=K[1]>3?(K[1]-3)*10:0;var U=~~(K[2]*.73)+50,y=Math.min(U+u,128),a=y-U,v=-255*U;
for(var t=0;t<256;t++){var c=t*65;l[t]=f.aW(v/a);v+=255}var p=f.Kx(1),C=f.Kx(1),T=f.Kx(1);f.pc(i,p);
f.pv(p,T);f.Vn(p,C,2*K[0]+1);f.sub(C,p);f.d0(p,65);f.R7(p,C,9,3,!0,20);for(var t=0;t<f.Kj;t++){var E=T[t],r=C[t];
p[t]=r>0?~~((r*E+(255-r)*128)/255):128}f.Vn(p,C,3);f.R7(C,p,15,2,!0,16);f.R7(C,T,15,2,!1,15);f.S9(p,T);
f.EJ(T,C,2);f.Rf(C,l);f.Vn(C,p,2);f.mE(p,d)};k.Y.a1Z=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);var l=2*K[0]+1,u=f.dj[K[1]],U=K[2]*5.1,y=K[3],a=f.Kx(1),v=f.Kx(1),c=f.Kx(4),p=f.Kx(4);
f.ab(c,y);f.AZ(c,d);f.xN(a,U);f.Ez(a,d);f.cG(d,c);f.pc(i,v);f.Vn(v,a,l);f.sub(a,v);f.d0(v,u);f.R7(v,a,9,3,!0,20);
f.bJ(i,a,c);f.Jx(c,d,3);f.rE(d,c,15,2,!0,16);f.rE(d,p,15,2,!1,16);f.S9(c,p);f.bG(p,d,2)};k.Y.anj=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=(15-K[0])/4+1,u=(15-K[1])/4+1,U=K[2],y=K[3],a=f.YD(K[4]),v=K[5]+1,c=K[6],p=K[7],C=K[8],T=f.Kx(1),E=f.Kx(1),r=f.Kx(1),Y=f.Kx(1),S=f.Kx(4),m=f.Kx(4);
f.zu(r,U,y,c);f.pc(i,E);f.Vn(E,T,5);f.uJ(r,T,Y,v,a);f.d0(Y,l);f.zT(Y,2);f.Sp(T);f.uJ(r,T,E,v,a);f.d0(E,u);
f.zT(E,2);f.ab(S,2155905279);f.ab(m,p);f.ab(d,C);f.bJ(S,E,m);f.bJ(m,Y,d)};k.Y.alM=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);f.wj(K[3]);var l=K[0],u=K[1]/10,U=K[2]/10,y=f.Kx(1),a=f.Kx(1),v=f.Kx(1),c=f.NW(),p=f.NW(),C=f.NW();
f.b0(y);f.Vn(y,a,11);f.Vn(a,y,11);f.iU(y,c);f.x9(i,y);f.pv(y,v);f.Vn(y,a,9);f.Vn(a,y,9);f.iU(y,p);f.NB(p,C,5);
f.NB(C,p,5);f.H$(c,.8);f.app(c,p,.8,.9);f.Xm(p,y,l);f.qG(y,a,2,2,1);f.qG(a,y,2,2,3);f.qG(y,a,2,2,3);
f.qG(v,y,5,5,13);f.nn(a,y,a,u);f.KS(y,a,a,U);f.uJ(a,a,y,5,1);f.AZ(i,d);f.Ez(y,d);f.cG(d)};k.Y.abe=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=K[0],u=K[1]/2,U=K[2],y=l/2,a=f.Kx(4),v=f.Kx(4);f.pv(i,d);for(var c=0;c<U;c++){f.rE(d,a,l,1,!0,y);
f.rE(d,v,l,1,!1,y);f.S9(v,a);f.Jx(a,v,2);f.bG(v,d,u)}};k.Y.a0z=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);
var l=K[0]*10,u=K[1]*4.9,U=K[2]*4.9,y=f.Kx(1),a=f.Kx(1),v=f.Kx(4),c=f.Kx(4);f.pc(i,y);f.lZ(y,f.a41(y,l));
f.Vn(y,a,3);f.rE(i,v,5,1,!1,1);f.rE(i,d,15,2,!0,16);f.bJ(d,a,v);f.AZ(v,d);f.P4(d,y);f.g3(y,u,U);f.Ez(y,d);
f.cG(d)};k.Y.agd=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);f.wj(K[4]);var l=K[0]/20,u=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][K[1]],U=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][K[2]],y=K[3],a=new Int16Array(256);
for(var t=0;t<256;t++){a[t]=~~((t-128)*l)}var v=f.Kx(1),c=f.Kx(1),p=f.Kx(4);f.pc(i,v);f.Vn(v,c,25);f.d0(c,u);
f.zT(c,U);f.Vn(c,v,25);f.b0(c);f.Tw(v,c,a);f.pv(i,d);f.ab(p,y);f.bJ(p,v,d)};k.Y.akA=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=K[0]+5,u=15-K[1],U=l*l/2,y=1-(3-K[2])/10,a=~~(u*u*y-1),v=~~(u*u*(1-y));if(v==0)v=1;var c=f.Kx(1),p=f.Kx(1),C=f.Kx(1),T=f.Kx(4);
f.pc(i,C);f.qG(C,c,l,l,U);f.Vn(C,p,l);f.sub(c,p);f.lZ(p,1);f._Z(i,T,u,u,a);f._Z(i,d,u,u,v);f.bJ(T,p,d)};
k.Y.any=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);f.wj(K[3]);var l=(20-K[0])*.05,u=K[1]*-2.75+60,U=65-u,y=K[2]/10,a=f.Kx(1),v=f.Kx(1);
f.x9(i,v);var c=f.Lx(u,U,v);f.AZ(i,d);f.P4(d,v);f.b0(a);f.I$(v,a,l);f.Rf(v,c);f.d0(v,K[2]/10);f.add(a,v);
f.Ez(v,d);f.cG(d)};k.Y.am$=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);var l=5+K[0],u=15-K[1],U=K[2],y=l*l/2+l*l%2*1,a=1-(3-K[2])/10,v=~~(u*u*a-1),c=~~(u*u*(1-a));
if(c==0)c=1;var p=f.Kx(1),C=f.Kx(1),T=f.Kx(1),E=f.Kx(1),r=f.Kx(1);f.x9(i,C);f.EJ(C,p,3);f.qG(p,C,2,2,1);
var Y=f.Lx(20,20,C);f.Rf(C,Y);f.Vn(C,r,5);f.qG(r,p,l,l,y);f.qG(r,C,u,u,v);f.qG(r,T,u,u,c);f.Vn(r,E,l);
f.sub(p,E);f.lZ(E,1);f.za(C,E,T);f.AZ(i,d);f.Ez(T,d);f.cG(d)};k.Y.afH=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);f.wj(K[5]);var l=f.Kj,u=f.QW,U=K[0],y=K[1],a=K[2],v=K[3],c=K[4],p=.05*U+1,C=U/100,T=U>>1,E=2*U-100,r=+(y==9),Y=+(y==7),S=[4,1][r],m=[3,2][r],Q=[1,2][Y],z=[2,1][Y],n=[50,75][r],Z=y<4?a:(a>>1)+50,P=f.wg(n,Z),V=f.JG(v),I=f.JG(c),q=f.Kx(4),X=f.Kx(4),B=f.Kx(1),e=f.Kx(1);
function F(d,P){if(Z!=50){f.s5(d,P)}}function s(i,g){for(var t=0;t<l;t++){i[t]=f.aW(i[t]+(g[t]-128)*C)}}function J(i,g){for(var t=0,b=0;
t<l;t++){i[b]=f.aW(i[b]+(g[b]-128)*C);i[b+1]=f.aW(i[b+1]+(g[b+1]-128)*C);i[b+2]=f.aW(i[b+2]+(g[b+2]-128)*C);
b+=4}}function W(i,d){f.b0(X);f.pv(i,d);J(d,X);F(d,P)}function L(g){var b=0;for(var jU=0;jU<12;jU++)b+=f.random();
return f.aW(T*(b-6)+g)}function A(i,d){f.pv(i,d);for(var t=0;t<u;t+=4){d[t]=L(d[t]);d[t+1]=L(d[t+1]);
d[t+2]=L(d[t+2])}F(d,P)}function j(i,d){f.pv(i,d);for(var t=0;t<u;t+=4){if(f.random()<C){d[t]=V[0];d[t+1]=V[1];
d[t+2]=V[2]}}F(d,P)}function G(i,d){f.b0(q);f._Z(q,X,m,m,S);f.pv(i,q);J(q,X);f._Z(q,d,5,5,13);F(d,P)}function O(i,d){f.b0(X);
f.pv(i,q);J(q,X);F(d,P);f._Z(q,d,m,m,S)}function o(i,d){f.pv(i,q);F(d,P);f.pc(q,B);for(var t=0,g=0;t<l;
t++){var b=((E-B[t]+255)*128.5+.5)/32767;if(f.random()<=b){d[g++]=I[0];d[g++]=I[1];d[g++]=I[2]}else{d[g++]=V[0];
d[g++]=V[1];d[g++]=V[2]}d[g]=i[g];g++}}function N(i,d){f.AZ(i,d);f.P4(d,B);f.EJ(B,e,p);f.qG(e,B,m,m,S);
f.Rf(B,P);f.Ez(B,d);f.cG(d)}function w(i){var g=0;if(y==8){for(var b=0;b<$;b++){i[g++]=~~(f.random()*255)}for(var t=1;
t<h;t++){for(var b=0;b<$;b++){i[g++]=i[b]}}}else{for(var t=0;t<h;t++){var jU=~~(f.random()*255);for(var b=0;
b<$;b++){i[g++]=jU}}}}function kv(i,d){f.pc(i,B);f.b0(e);s(B,e);w(e);s(B,e);f.Jx(i,q,9);f.Jx(q,X,9);
f.Vn(B,e,2);f.Rf(e,P);f.Vn(e,B,2);f.AZ(X,d);f.Ez(B,d);f.cG(d)}[W,A,j,G,G,O,o,kv,kv,N][y](i,d)};k.Y.a70=function(i,$,h,d,K){var f=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],l=k.Y.q,T=0,E,t,Q,z,n,Z=0,P=1,V=255;
l.mR($,h);l.wj(K[3]);var u=l.Kx(1),U=l.Kx(1);l.pc(i,u);var y=K[0],a=K[1],v=a<=50?f[a]/255:1+(255-f[101-a])/255,c=K[2],p=u.length,C=new Float32Array(p),r=1+1/10*y,Y=(1-1/r)/2,S=16/256,m=$-1;
for(t=0;t<l.Kj;t++){C[t]=u[t]/255;U[t]=y==1?l.random()<1/255?V:P:P}function I(q,X){var B=q*$+X;if(U[B]!=P||q>=h||X>=$){return}var z=C[B],e=v-z,F=l.random(),s=F/r+Y;
if(T==0||Math.abs(n-z)>S){E=s<=e?Z:V;T=~~(l.random()*y)}else if(.1<F){T--}else{T=0}U[B]=E;n=z}if(c==0){for(t=0;
t<$;t++){for(Q=0;Q<$;Q++){z=t+Q;if(z>=$)break;I(Q,m-z)}T=0}for(t=1;t<h;t++){for(Q=0;Q<h;Q++){z=t+Q;if(z>=h||Q>=$)break;
I(z,m-Q)}T=0}}else if(c==1){for(t=0;t<h;t++){for(Q=0;Q<$;Q++){I(t,Q)}T=0}}else if(c==2){for(t=0;t<$;
t++){for(Q=0;Q<$;Q++){z=t+Q;if(z>=$)break;I(Q,z)}T=0}for(t=1;t<h;t++){for(Q=0;Q<h;Q++){z=t+Q;if(z>=h||Q>=$)break;
I(z,Q)}T=0}}else{for(t=0;t<$;t++){for(Q=0;Q<h;Q++){I(Q,t)}T=0}}l.mE(U,d)};k.Y.a10=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=K[0],u=K[1],U=K[2],y=f.Kx(1),a=f.Kx(1),v=f.Kx(1),c=f.Kx(4),p=f.Kx(4);f.pc(i,y);f.qG(y,a,3,3,1);
f.qG(y,v,3,3,9);f.sub(v,a);f.Vn(a,y,3);f.g3(y,40,10);f.rE(i,d,l,2,!1,l);f.rE(i,c,l,2,!0,l);f.ab(p,255);
f.bJ(d,y,p);f.bJ(p,y,c);f.bG(c,d,1);f.AZ(d);f.P4(d,y);f.g3(y,u,U);f.Ez(y,d);f.cG(d)};k.Y.a7Q=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);f.wj(K[3]);var l=K[0],u=K[1],U=K[2]/10;l=l+u;var y=f.Kx(1),a=f.Kx(1),v=f.NW(),c=f.NW();f.b0(y);
f.Vn(y,a,11);f.Vn(a,y,11);f.iU(y,v);f.NB(v,c,5);f.NB(c,v,5);f.H$(c,.97);f.Xm(c,y,l);f.qG(y,a,u,u,1);
f.x9(i,y);f.nn(a,y,a,.6);f.KS(y,a,a,U);f.uJ(a,a,y,5,1);f.AZ(i,d);f.Ez(y,d);f.cG(d)};k.Y.ack=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=Math.abs(K[0]),u=l+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][l],U=2*l+1,y=K[1]/10,a=y*13/15,v=f.Kx(1),c=f.Kx(1),p=f.Kx(1),C=f.Kx(1),T=f.Kx(4),E=f.Kx(4),r=f.Kx(4),Y=f.Kx(4),S=f.Kx(4);
f.pc(i,v);if(K[0]>=0){f.Sp(v)}f.pv(v,p);f.Vn(v,C,u);f.Vn(C,v,u);f.d0(v,y);f.pv(v,c);f.Vn(v,C,U);f.Vn(C,v,U);
f.d0(v,a);f.ab(r,K[2]);f.ab(Y,K[3]);f.ab(S,K[4]);f.bJ(r,v,Y,T);f.bJ(S,c,T,E);f.bJ(Y,p,E,d);f.P4(i,p,3);
f.Ez(p,d,3)};k.Y.aeg=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);f.wj(K[5]);var l=K[0]*5.1,u=K[1]/100,U=f.gc[K[2]],y=f.Kx(1),a=f.Kx(1),v=f.Kx(1);
f.pc(i,y);f.xN(a,255);f.b0(v);f.lZ(y,l);f.I$(a,y,.7);f.I$(v,y,u);f.uJ(y,y,a,5,U);f.pv(i,d);f.aj4(d,l,K[4],K[3]);
f.AZ(d);f.Ez(a,d);f.cG(d)};k.Y.ahh=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);var l=K[0],u=4-K[1],U=11-K[2],y=f.Kx(1),a=f.Kx(1),v=f.Kx(4);
f.x9(i,a);for(var t=0;t<u;t++){f.pv(a,y);f.WQ(y,a,l,l)}f.Jx(i,v,l);f.AZ(v,v);f.Ez(a,v);f.cG(v,v);(U<11?f.amg:f.pv)(v,d,U)};
k.Y.adS=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);f.wj(K[2]);var l=K[0]+5,u=~~(l/5+1),U=~~(l/2)+1,y=U*U,a=~~(l/3),v=f.gc[K[1]],c=new Array(256);
for(var t=0;t<256;t++){c[t]=~~(.2*(t-128))}var p=f.Kx(1),C=f.Kx(1);f.adC(i,d,l);f.AZ(d);f.P4(d,p);f.b0(C);
f.Tw(p,C,c);f.akU(C,l,l,u,u);f.nn(p,C,p,1);f.Vn(p,C,a);f.Vn(C,p,a);f.qG(p,C,U,U,y);f.uJ(C,C,p,5,v);f.Ez(p,d);
f.cG(d)};k.Y.ahq=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);var l=f.Kx(1),u=f.Kx(1),U=f.Kx(1),y=f.NW(),a=f.NW();
f.pc(i,l);f.Vn(l,u,K[2]);f.lZ(u,K[0]*5.1);f.qG(u,l,2,2,4);f.Vn(l,u,3);f.Vn(u,l,3);f.pv(l,U);f.Vn(l,u,5);
f.Vn(u,l,5);f.iU(l,y);f.NB(y,a,5);f.NB(a,y,5);f.asf(y,u,K[1]);f.Sp(u);f.nn(U,u,U,1);f.mE(U,d)};k.Y.apU=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=1<<7-K[2],u=f.Kx(1),U=f.Kx(1),y=f.Kx(1);f.x9(i,U);f.Vn(U,u,3);f.pv(u,U);f.Vn(u,y,K[0]+5);
f.sub(y,U);f.g3(U,1,K[1]);f.d0(u,1/l);f.d0(u,l);f.sub(u,U);f.AZ(i,d);f.Ez(U,d);f.cG(d)};k.Y.ab5=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);f.wj(K[3]);var l=f.Kx(1),u=f.Kx(1),U=f.Kx(1);f.pc(i,l);f.aiV(u,K[0]/50);f.Vn(u,U,3);f.qG(l,u,9,9,41);
f.g3(u,K[1],K[2]);f.nn(u,U,U,.75);f.KS(u,U,u,.5);f.pv(u,l);f.qG(l,U,3,3,8);f.nn(U,u,U,.75);f.d0(U,1.2);
f.EJ(U,l,1);f.Vn(l,U,2);f.EJ(U,l,2);f.d0(l,1.2);f.Vn(l,U,2);f.mE(U,d)};k.Y.avy=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=K[0]+9,u=K[1]/2,U=K[2],y=K[3],a=f.YD(K[4]),v=K[5]+1,c=K[6],p=f.Kx(1),C=f.Kx(1),T=f.Kx(4),E=f.Kx(4);
f.zu(C,U,y,c);f.PK(i,d,l,1,1);f.PK(d,T,l,1,1);f.anK(T,T,E,7,u);f.d0(E,1.2);f.zT(E,1.2);f.uJ(C,p,p,v,a);
f.d0(p,3);f.pv(i,d);f.bJ(E,p,d)};k.Y.a0d=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);f.wj(K[3]);var l=K[0]+4,u=l*2/5+(l%5|0);
l--;var U=K[1]*-2.75+60,y=65-U,a=K[2]/10,v=f.Kx(1),c=f.Kx(1);f.b0(v);f.x9(i,c);var p=f.Lx(U,y,c);f.AZ(i,d);
f.P4(d,c);f.I$(c,v,.8);f.Rf(c,p);f.d0(c,a);f.add(v,c);f.R7(c,v,l,3,!1,u);f.Ez(v,d);f.cG(d)};k.Y.afp=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);f.wj(K[3]);var l=K[0]+5,u=(l*l>>1)+l%2,U=K[1]/10,y=K[2],a=(y*y>>1)+y%2,v=f.Kx(1),c=f.Kx(1),p=f.Kx(1),C=f.Kx(4),T=f.Kx(4),E=f.Kx(4);
f.b0(p);f.AZ(i,E);f.P4(E,v);f.I$(v,p,.8);f.Vn(p,v,3);f.EJ(v,p,U);f.Ez(p,E);f.cG(E,E);f.pc(E,p);f.qG(p,v,l,l,u);
f.Vn(p,c,l);f.sub(v,c);f.lZ(c,1);f._Z(E,C,7,7,40);f._Z(E,T,7,7,10);f.bJ(C,c,T);f._Z(T,d,y,y,a)};k.Y.ak1=function(i,$,h,d,K){var f=k.Y.q,u=255,t,y;
f.mR($,h);var l=K[0];if(l<2)u=l;else if(l<12)u=5*l-5;else if(l<47)u=2*l+28;else if(l<50){t=l-47;u=125+12.5*t+12.5*t*t}var U=new Uint8Array(256);
for(t=75,y=15;t<256;t++,y+=24)U[t]=Math.min(255,y);var a=f.Kx(1),v=f.Kx(1),c=f.Kx(1);f.pc(i,a);f.Vn(a,v,11);
f.Vn(v,c,11);f.sub(c,a);f.d0(a,8);f.sub(c,a);f.lZ(a,u);f.Sp(a);f.Vn(a,v,5);f.lZ(v,51);f.Vn(v,a,K[1]);
f.Vn(a,v,K[1]);f.Sp(v);f.Rf(v,U);f.mE(v,d)};k.Y.aiB=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);var l=f.dj[K[1]],u=K[2],U=u*1.5,y=f.Kx(1),a=f.Kx(1),v=f.Kx(1);
f.x9(i,y);f.R7(y,a,15,2,!0,15);f.pv(a,v);f.g3(v,u,U);f.Vn(v,y,3);f.Vn(a,v,K[0]);f.sub(v,a);f.d0(a,l);
f.sub(y,a);f.Vn(a,y,3);f.R7(y,a,3,1,!1,1);f.Jx(i,d,15);f.AZ(d);f.Ez(a,d);f.cG(d)};k.Y.auj=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);f.wj(K[3]);var l=K[0]*5.1,u=16-K[1],U=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][K[2]],y=f.Kx(1),a=f.Kx(1),v=f.Kx(1);
f.pc(i,y);f.lZ(y,l);f.Vn(y,a,u);f.Vn(a,y,u);f.b0(v);f.KS(y,v,v,1);f.nn(y,v,y,.75);f.d0(y,U);f.zT(y,U);
f.qG(y,a,2,2,2);f.mE(a,d)};k.Y.a2N=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);var l=K[0]+9,u=K[1]+9,U=K[2],y=K[3],a=f.YD(K[4]),v=K[5]+1,c=K[6],p=f.Kx(1),C=f.Kx(1),T=f.Kx(1),E=f.Kx(1),r=f.Kx(1),Y=f.Kx(4);
f.x9(i,p);f.WQ(p,T,l,l);f.Vn(T,p,u);f.pv(T,r);f.pv(p,E);f.sub(r,E);f.sub(p,r);f.add(r,E);f.d0(E,10);
f.zu(C,U,y,c);f.uJ(C,p,r,v,a);f.za(r,E,T,.8);f.Jx(i,Y,9);f.Jx(Y,d,9);f.AZ(d);f.Ez(T,d);f.cG(d)};k.Y.acn=function(i,$,h,d,K){var f=k.Y.q;
f.mR($,h);var l=16-K[0],u=K[1]*8,U=1-(3-K[2])/10,y=~~(l*l*U-1),a=~~(l*l*(1-U));if(a==0)a=1;var v=f.Kx(1),c=f.Kx(1),p=f.Kx(1),C=f.Kx(4);
f.pc(i,p);f.qG(p,v,7,7,25);f.Vn(p,c,7);f.sub(v,c);f.lZ(c,1);f._Z(i,C,l,l,y);f._Z(i,d,l,l,a);f.bJ(C,c,d);
f.AZ(d);f.P4(d,v);f.qG(v,p,3,3,1);f.qG(v,c,3,3,9);f.sub(c,p);f.pv(p,c);f.sub(v,p);f.sub(p,c);f.qG(c,v,3,3,8);
f.g3(v,u,1);f.Ez(v,d);f.cG(d)};k.Y.att=function(i,$,h,d,K){var f=k.Y.q;f.mR($,h);f.wj(K[3]);var l=K[0],u=K[1],U=K[2],y=l>>1,a=Math.max(~~(l/5),1),v=Math.max(~~(l*2/3),1),c=f.wg(u,U),p=f.Kx(1),C=f.Kx(1),T=f.Kx(1),E=f.Kx(1),r=f.Kx(4);
f.x9(i,p);f.d4(2147483647,4,2,2,0,255,C);f.d4(4,2147483647,2,2,0,255,E);f.b0(T);f.KS(C,T,C,1);f.KS(E,T,E,1);
f.KS(C,p,C,1);f.KS(E,p,E,1);f.Jx(i,r,y);f.Jx(r,d,y);f.qG(C,p,1,l,a);f.qG(p,C,3,l,v);f.qG(E,p,l,1,a);
f.qG(p,E,l,3,v);f.S9(C,E);f.AZ(d);f.Ez(E,d);f.cG(d);f.s5(d,c)};k.Y.q={};k.Y.q.DD=0;k.Y.q.mJ=0;k.Y.q.Kj=0;
k.Y.q.z1=0;k.Y.q.QW=0;k.Y.q.mR=function(i,$){var h=i*$,self=k.Y.q;self.DD=i;self.mJ=$;self.Kj=h;self.z1=h<<1;
self.QW=h<<2};k.Y.q.wj=function(i){k.Y.q.random=function(){var $=i+=1831565813;$=Math.imul($^$>>>15,$|1);
$^=$+Math.imul($^$>>>7,$|61);return(($^$>>>14)>>>0)/4294967296}};k.Y.q.Kx=function(i){var $=k.Y.q;return new Uint8Array([-1,$.Kj,$.z1,-1,$.QW][i])};
k.Y.q.NW=function(){return new Int32Array(k.Y.q.z1)};k.Y.q.Vn=function(i,$,h,d){if(d==null)d=h;var self=k.Y.q,K=self.DD,f=self.mJ;
k.$A.Zd(i,$,new bN(0,0,K,f),h>>>1);return};k.Y.q.NB=function(i,$,h,d){var self=k.Y.q,K=new Int32Array(self.Kj),f=new Int32Array(self.Kj);
for(var t=0;t<2;t++){self.P4(i,K,t,2);self.Vn(K,f,h,d);self.Ez(f,$,t,2)}};k.Y.q.Jx=function(i,$,h,d){var self=k.Y.q,K=self.Kx(1),f=self.Kx(1);
for(var t=0;t<4;t++){self.P4(i,K,t);if(t<3)self.Vn(K,f,h,d);else f=K;self.Ez(f,$,t)}};k.Y.q.PK=function(i,$,h,d,K){var self=k.Y.q,f=self.DD,l=self.mJ,u=h+d-1,U=h>>1,y=u>>1,a=0,v=h*d,c=new Int32Array(h);
for(var t=0;t<l;t++){var p=0,C=0,T=0;for(var E=0;E<h;E++){var r=K?u-E-d:E;for(var Y=r,S=d+r;Y<S;Y++){var m=0-y+Y,Q=t-U+E;
if(Y==r){c[E]=m}if(m<0)m=0;else if(m>=f)m=f-1;if(Q<0)Q=0;else if(Q>=l)Q=l-1;var z=f*Q+m<<2;p+=i[z];C+=i[z+1];
T+=i[z+2]}}$[a++]=~~(p/v);$[a++]=~~(C/v);$[a++]=~~(T/v);$[a]=i[a];a++;for(var n=1;n<f;n++){for(var E=0;
E<h;E++){var Q=t-U+E,r=c[E]+1;c[E]=r;var Z=r-1,P=r+d-1;if(Q<0)Q=0;else if(Q>=l)Q=l-1;if(Z<0)Z=0;else if(Z>=f)Z=f-1;
if(P<0)P=0;else if(P>=f)P=f-1;var V=Q*f+Z<<2,I=Q*f+P<<2;p=p+i[I]-i[V];C=C+i[I+1]-i[V+1];T=T+i[I+2]-i[V+2]}$[a++]=~~(p/v);
$[a++]=~~(C/v);$[a++]=~~(T/v);$[a]=i[a];a++}}};k.Y.q.R7=function(i,$,h,d,K,f){var self=k.Y.q,l=self.DD,u=self.mJ,U=h+d-1,y=h>>1,a=U>>1,v=0,c=new Int32Array(h),p=new Int32Array(256),C=new Int32Array(16);
for(var t=0;t<u;t++){p.fill(0);C.fill(0);for(var T=0;T<h;T++){var E=K?U-T-d:T;for(var r=E,Y=d+E;r<Y;
r++){var S=0-a+r,m=t-y+T;if(r==E){c[T]=S}if(S<0)S=0;else if(S>=l)S=l-1;if(m<0)m=0;else if(m>=u)m=u-1;
p[i[m*l+S]]++;C[i[m*l+S]>>>4]++}}$[v++]=k.Y.q.lm(C,p,f);for(var Q=1;Q<l;Q++){for(var T=0;T<h;T++){var m=t-y+T,E=c[T]+1;
c[T]=E;var z=E-1,n=E+d-1;if(m<0)m=0;else if(m>=u)m=u-1;if(z<0)z=0;else if(z>=l)z=l-1;if(n<0)n=0;else if(n>=l)n=l-1;
var Z=i[m*l+z],P=i[m*l+n];p[Z]--;p[P]++;C[Z>>>4]--;C[P>>>4]++}$[v++]=k.Y.q.lm(C,p,f)}}};k.Y.q.rE=function(i,$,h,d,K,f){var self=k.Y.q,l=self.Kx(1),u=self.Kx(1);
for(var t=0;t<4;t++){self.P4(i,l,t);if(t<3)self.R7(l,u,h,d,K,f);else u=l;self.Ez(u,$,t)}};k.Y.q.qG=function(i,$,h,d,K){K=Math.min(d*h,K);
var self=k.Y.q,f=self.DD,l=self.mJ,u=d>>1,U=h>>1,y=0,a=new Int32Array(d),v=new Int32Array(256),c=new Int32Array(16);
for(var t=0;t<l;t++){v.fill(0);c.fill(0);for(var p=0;p<d;p++){for(var C=0,T=h;C<T;C++){var E=0-U+C,r=t-u+p;
if(C==0){a[p]=E}if(E<0)E=0;else if(E>=f)E=f-1;if(r<0)r=0;else if(r>=l)r=l-1;v[i[r*f+E]]++;c[i[r*f+E]>>>4]++}}$[y++]=k.Y.q.lm(c,v,K);
for(var Y=1;Y<f;Y++){for(var p=0;p<d;p++){var r=t-u+p,S=a[p]+1;a[p]=S;var m=S-1,Q=S+h-1;if(r<0)r=0;else if(r>=l)r=l-1;
if(m<0)m=0;else if(m>=f)m=f-1;if(Q<0)Q=0;else if(Q>=f)Q=f-1;var z=i[r*f+m],n=i[r*f+Q];v[z]--;v[n]++;
c[z>>>4]--;c[n>>>4]++}$[y++]=k.Y.q.lm(c,v,K)}}};k.Y.q.lm=function(i,$,h){var d=0,K=0;while(d+i[K>>>4]<h){d+=i[K>>>4];
K+=16}for(;K<256;K++){d+=$[K];if(d>=h)break}return K};k.Y.q._Z=function(i,$,h,d,K){var self=k.Y.q,f=self.Kx(1),l=self.Kx(1);
for(var t=0;t<4;t++){self.P4(i,f,t);if(t<3)self.qG(f,l,h,d,K);else l=f;self.Ez(l,$,t)}};k.Y.q.EJ=function(i,$,h){var self=k.Y.q,d=self.DD,K=self.mJ,f=0;
for(var t=0;t<K;t++){var l=t*d,u=(t-1)*d,U=(t+1)*d;if(u<0)u=l;if(U>=K)U=l;for(var y=0;y<d;y++){var a=y-1,v=y+1;
if(a<0)a=y;if(v>=d)v=y;var c=l+a,p=l+v,C=u+y,T=U+y,E=l+y,r=i[c],Y=i[p],S=i[C],m=i[T],Q=i[E],z=Q+(Q*4*h+.5);
z=z-((r+Y+m+S)*h+.5);$[f++]=self.aW(z)}}};k.Y.q.bG=function(i,$,h){var self=k.Y.q,d=self.Kx(1),K=self.Kx(1);
for(var t=0;t<4;t++){self.P4(i,d,t);if(t<3)self.EJ(d,K,h);else K=d;self.Ez(K,$,t)}};k.Y.q.amg=function(i,$,h){var self=k.Y.q,d=self.DD,K=self.mJ,f=0,l=h+4;
for(var t=0;t<K;t++){var u=t*d,U=(t-1)*d,y=(t+1)*d;if(U<0)U=u;if(y>=K)y=u;for(var a=0;a<d;a++){var v=a-1,c=a+1;
if(v<0)v=a;if(c>=d)c=a;var p=u+v<<2,C=u+c<<2,T=U+a<<2,E=y+a<<2,r=u+a<<2;for(var Y=0;Y<3;Y++){var S=i[p+Y],m=i[C+Y],Q=i[T+Y],z=i[E+Y],n=i[r+Y];
$[f++]=(n*h+S+m+z+Q)/l}$[f]=i[f];f++}}};k.Y.q.WQ=function(i,$,h,d){var self=k.Y.q,K=self.DD,f=self.mJ,l=h>>1,u=d>>1,U=0,y=new Int32Array(h),a=new Int32Array(256);
for(var t=0;t<f;t++){a.fill(0);for(var v=0;v<h;v++){for(var c=0,p=d;c<p;c++){var C=0-u+c,T=t-l+v;if(c==0){y[v]=C}if(C<0)C=0;
else if(C>=K)C=K-1;if(T<0)T=0;else if(T>=f)T=f-1;a[i[T*K+C]]++}}var E=0,r=0;for(var Y=0;Y<256;Y++){if(E<a[Y]){r=Y;
E=a[Y]}}$[U++]=r;for(var S=1;S<K;S++){for(var v=0;v<h;v++){var T=t-l+v,m=y[v]+1;y[v]=m;var Q=m-1,z=m+d-1;
if(T<0)T=0;else if(T>=f)T=f-1;if(Q<0)Q=0;else if(Q>=K)Q=K-1;if(z<0)z=0;else if(z>=K)z=K-1;a[i[T*K+Q]]--;
a[i[T*K+z]]++}E=0;r=0;for(var Y=0;Y<256;Y++){if(E<a[Y]){r=Y;E=a[Y]}}$[U++]=r}}};k.Y.q.awu=[function(i,$,h,d,K,f,l,u,U,y){return K+(i+$+h)*y-(U+u+l)*y},function(i,$,h,d,K,f,l,u,U,y){return K+($+h+f)*y-(u+l+d)*y},function(i,$,h,d,K,f,l,u,U,y){return K+(h+f+U)*y-(l+d+i)*y},function(i,$,h,d,K,f,l,u,U,y){return K+(f+U+u)*y-(d+i+$)*y},function(i,$,h,d,K,f,l,u,U,y){return K+(U+u+l)*y-(i+$+h)*y},function(i,$,h,d,K,f,l,u,U,y){return K+(u+l+d)*y-($+h+f)*y},function(i,$,h,d,K,f,l,u,U,y){return K+(l+d+i)*y-(h+f+U)*y},function(i,$,h,d,K,f,l,u,U,y){return K+(d+i+$)*y-(f+U+u)*y}];
k.Y.q.uJ=function(i,$,h,d,K){var self=k.Y.q,f=self.DD,l=self.mJ,u=f,U=self.awu[d-1];for(var t=0;t<l;
t++){var y=(t>0?t-1:0)*u,a=t*u,v=(t<l?t+1:t)*u;for(var c=0;c<f;c++){var p=c>0?c-1:0,C=c<f?c+1:c,T=a+c,E=i[y+p],r=i[y+c],Y=i[y+C],S=i[a+p],m=$[T],Q=i[a+C],z=i[v+p],n=i[v+c],Z=i[v+C];
h[T]=self.aW(U(E,r,Y,S,m,Q,z,n,Z,K))}}};k.Y.q.anK=function(i,$,h,d,K){var self=k.Y.q,f=self.Kx(1),l=self.Kx(1),u=self.Kx(1);
for(var t=0;t<3;t++){self.P4(i,f,t);self.P4($,l,t);self.uJ(f,l,u,d,K);self.Ez(u,h,t)}self.P4($,f,3);
self.Ez(f,h,3)};k.Y.q.pc=function(i,$){var h=i.length,d=0;for(var t=0;t<h;t++){$[d++]=~~((i[t++]+i[t++]+i[t++]+2)/3)}};
k.Y.q.mE=function(i,$){var h=$.length,d=0;for(var t=0;t<h;t++){var K=i[t];$[d++]=K;$[d++]=K;$[d++]=K;
$[d++]=255}if($[0]==255)$[0]--;else $[0]++};k.Y.q.x9=function(i,$){var h=$.length,d=0;for(var t=0;t<h;
t++){var K=i[d++],f=i[d++],l=i[d++];d++;if(f>K)K=f;if(l>K)K=l;$[t]=K}};k.Y.q.AZ=function(i,$){if($==null)$=i;
var h=i.length;for(var d=0;d<h;d+=4){var K=i[d],f=i[d+1],l=i[d+2],u=K,U=0,y=K,v;if(f<=K){K=f}else{U=1;
y=f}if(l<=y){if(K>l){K=l}}else{U=2;y=l}var a=y-K;if(a!=0){if(U==0){v=~~(43*(f-l)/a)}else if(U==1){v=~~(43*(l+2*a-u)/a)}else{v=43*(u+4*a-f)/a}if(v<0){v=255&v-1}$[d]=v;
$[d+1]=~~(255*a/y)}else{$[d]=a;$[d+1]=a}$[d+2]=y;$[d+3]=i[d+3]}};k.Y.q.cG=function(i,$){if($==null)$=i;
var h=i.length;for(var d=0;d<h;d+=4){var K=i[d],f=i[d+1],l=i[d+2];if(f){if(K==255)K=0;var u=~~(6*K/255),U=~~(-255*u+6*K);
if(u==0){$[d]=l;$[d+1]=~~(l*(255-f*(255-U)/255)/255);$[d+2]=~~(l*(255-f)/255)}else if(u==1){$[d]=~~(l*(255-f*U/255)/255);
$[d+1]=l;$[d+2]=~~(l*(255-f)/255)}else if(u==2){$[d]=~~(l*(255-f)/255);$[d+1]=l;$[d+2]=~~(l*(255-f*(255-U)/255)/255)}else if(u==3){$[d]=~~(l*(255-f)/255);
$[d+1]=~~(l*(255-f*U/255)/255);$[d+2]=l}else if(u==4){$[d]=~~(l*(255-f*(255-U)/255)/255);$[d+1]=~~(l*(255-f)/255);
$[d+2]=l}else{$[d]=l;$[d+1]=~~(l*(255-f)/255);$[d+2]=~~(l*(255-f*U/255)/255)}}else{$[d]=l;$[d+1]=l;$[d+2]=l}$[d+3]=i[d+3]}};
k.Y.q.Ez=function(i,$,h,d){if(h==null)h=2;if(d==null)d=4;var K=i.length;for(var t=0;t<K;t++){$[h]=i[t];
h+=d}};k.Y.q.P4=function(i,$,h,d){if(h==null)h=2;if(d==null)d=4;var K=$.length;for(var t=0;t<K;t++){$[t]=i[h];
h+=d}};k.Y.q.za=function(i,$,h,d){if(d==null)d=1;var K=$.length,f=0,l;for(var f=0;f<K;f++){l=$[f];if(l){l*=d;
h[f]=~~((l*i[f]+(255-l)*h[f])/255)}}};k.Y.q.bJ=function(i,$,h,d){if(d==null)d=h;var K=$.length,f=0,l,u;
for(var t=0;t<K;t++){l=$[t];if(l){u=255-l;d[f]=~~((l*i[f]+u*h[f])/255);d[f+1]=~~((l*i[f+1]+u*h[f+1])/255);
d[f+2]=~~((l*i[f+2]+u*h[f+2])/255)}d[f+3]=i[f+3];f+=4}};k.Y.q.nn=function(i,$,h,d){var K=~~(d*255),f=h.length;
for(var t=0;t<f;t++){h[t]=((255-K*(255-i[t])/255)*$[t]+i[t]*(K*(255-i[t])/255))/255}};k.Y.q.KS=function(i,$,h,d){var K=~~(d*255),f=h.length;
for(var t=0;t<f;t++){h[t]=((255-K*i[t]/255)*$[t]+i[t]*(K*i[t]/255))/255}};k.Y.q.I$=function(i,$,h){var d=$.length;
for(var t=0;t<d;t++){$[t]=~~(i[t]*h+.5)+($[t]-~~($[t]*h+.5))}};k.Y.q.sub=function(i,$){var h=i.length;
for(var t=0;t<h;t++){$[t]=Math.max(i[t]-$[t],0)}};k.Y.q.add=function(i,$){var h=i.length;for(var t=0;
t<h;t++){$[t]=Math.min(i[t]+$[t],255)}};k.Y.q.S9=function(i,$){var h=i.length;for(var t=0;t<h;t++){$[t]=i[t]+$[t]>>1}};
k.Y.q.pv=function(i,$){var h=i.length;for(var t=0;t<h;t++){$[t]=i[t]}};k.Y.q.Rf=function(i,$){var h=i.length;
for(var t=0;t<h;t++){i[t]=$[i[t]]}};k.Y.q.s5=function(i,$){var h=k.Y.q.QW;for(var t=0;t<h;t+=4){var d=i[t],K=i[t+1],f=i[t+2],l=d;
if(K>d)l=K;if(f>d)l=f;var u=$[l];if(u){i[t]=~~(u*d/l);i[t+1]=~~(u*K/l);i[t+2]=~~(u*f/l)}else{i[t]=u;
i[t+1]=u;i[t+2]=u}}};k.Y.q.d0=function(i,$){for(var t=0,h=i.length;t<h;t++){i[t]=Math.min(255,~~(.5+i[t]*$))}};
k.Y.q.zT=function(i,$){for(var t=0,h=i.length;t<h;t++){i[t]=255-Math.min(255,~~(.5+(255-i[t])*$))}};
k.Y.q.Sp=function(i){var $=i.length;for(var t=0;t<$;t++){i[t]=255-i[t]}};k.Y.q.lZ=function(i,$,h,d){if(h==null)h=0;
if(d==null)d=255;for(var t=0,K=i.length;t<K;t++){i[t]=i[t]>=$?d:h}};k.Y.q.JG=function(i){return[i>>24&255,i>>16&255,i>>8&255,i&255]};
k.Y.q.aj4=function(i,$,h,d){if(h==null)h=255;if(d==null)d=4278190335;var K=k.Y.q,f=K.QW,l=K.JG(h),u=K.JG(d);
for(var t=0;t<f;t+=4){var U=~~((i[t]+i[t+1]+i[t+2]+2)/3);if(U>=$){i[t]=l[0];i[t+1]=l[1];i[t+2]=l[2]}else{i[t]=u[0];
i[t+1]=u[1];i[t+2]=u[2]}}};k.Y.q.ab=function(i,$){var h=k.Y.q,d=h.QW,K=h.JG($);for(var t=0;t<d;){i[t++]=K[0];
i[t++]=K[1];i[t++]=K[2];i[t++]=K[3]}};k.Y.q.xN=function(i,$){var h=i.length;for(var t=0;t<h;){i[t++]=$}};
k.Y.q.wg=function(i,$){i=i>5?(100-Math.max(4,i))/100:.95;$=$!=100?Math.max(4,$)/100:.9995;var h=new Uint8Array(256),d=$>.5?.5/(1-$):$*2,K=~~(d*256),f=~~((.5-i*d)*256)<<8;
for(var t=0;t<256;t++){h[t]=k.Y.q.aW(f>>8);f+=K}return h};k.Y.q.b0=function(i){for(var t=0,$=k.Y.q,h=i.length;
t<h;t++){i[t]=~~($.random()*256)}};k.Y.q.aiV=function(i,$){for(var t=0,h=k.Y.q,d=i.length;t<d;t++){i[t]=h.random()<$?255:0}};
k.Y.q.vR=function(i,$,h){for(var t=0,d=k.Y.q,K=i.length;t<K;t++){if(d.random()<$)i[t]=h}};k.Y.q.Tw=function(i,$,h){var d=i.length;
for(var t=0;t<d;t++){i[t]=k.Y.q.aW(i[t]+h[$[t]])}};k.Y.q.kF=function(i){var $=new Uint32Array(256);for(var t=0,h=i.length;
t<h;t++){$[i[t]]++}return $};k.Y.q.Lx=function(i,$,h){var self=k.Y.q,d=self.kF(h),K=self.Kj/100,f=new Uint8Array(256),l=K*i,u=K*$,U=0,y=-1,a=256;
do{U+=d[++y]}while(U<=l);U=0;do{U+=d[--a]}while(U<=u);if(a-y<=0)a=y+1;if(a>255){a=255;y=254}var v=255/(a-y),c=-y;
for(var t=0;t<256;t++){f[t]=self.aW(v*c+.5);c++}return f};k.Y.q.g3=function(i,$,h){var d=k.Y.q;d.Rf(i,d.Lx($,h,i))};
k.Y.q.a41=function(i,$){var self=k.Y.q,h=self.kF(i),d=self.Kj*$/100,K=0,f=-1;do{K+=h[++f]}while(K<=d);
return f};k.Y.q.iU=function(i,$){var h=0,self=k.Y.q,d=self.DD,K=self.mJ,f=1/Math.PI,l=f*255;for(var t=0;
t<K;t++){var u=t+1;if(u==K)u--;var U=t*d,y=~~((1-(t+1)/K)*255);for(var a=0;a<d;a++){var v=a+1;if(v==d)v--;
var c=i[U+a],p=i[U+v],C=i[u*d+a];if(c-C==0){$[h++]=y}else{var T=c-C+255;if(T==255){T=0}else{T=~~(Math.atan2(1/(255-T),1)*l+.5);
if(T<0)T+=255}$[h++]=T}if(c-p==0){$[h++]=~~((1-(a+1)/d)*255)}else{var T=c-p+255;if(T==255){T=0}else{T=~~(Math.atan2(1/(255-T),1)*l+.5);
if(T<0)T+=255}$[h++]=T}}}};k.Y.q.H$=function(i,$){var self=k.Y.q,h=self.DD,d=self.mJ,K=0;for(var t=0;
t<d;t++){for(var f=0;f<h;f++){i[K]=~~(t*$+.5)+~~(i[K]*(1-$)+.5);K++;i[K]=~~(f*$+.5)+~~(i[K]*(1-$)+.5);
K++}}};k.Y.q.app=function(i,$,h,d){var self=k.Y.q,K=self.DD,f=self.mJ,l=0;for(var t=0;t<f;t++){for(var u=0;
u<K;u++){$[l]=~~($[l]*(1-h)+.5)+~~(i[l]*d+.5);l++;$[l]=~~($[l]*(1-h)+.5)+~~(i[l]*d+.5);l++}}};k.Y.q.Xm=function(i,$,h){var self=k.Y.q,d=self.DD,K=self.mJ,f=0,l=0;
for(var t=0;t<K;t++){for(var u=0;u<d;u++){var U=i[f++],y=i[f++];$[l++]=y%h>=2&&U%h>=2?255:0}}};k.Y.q.d4=function(i,$,h,d,K,f,l){var self=k.Y.q,u=self.DD,U=self.mJ,y=0,a=0,v=0;
for(var t=0;t<U;t++){var c=t%i<h||U-h<=t;for(var p=0;p<u;p++){l[y++]=c||p%$<d||u-d<=p?K:f}}};k.Y.q.zu=function(i,$,h,d){var self=k.Y.q,K=self.DD,f=self.mJ,l=jG.zu($),u=l[0],U=l[1],y=k.Q(u.O()*4);
y.fill(4294967295);k.ai(U,y);var a=k.scale.C7(y,u.e,u.n),v=k.scale.Vo(a,null,K,f,h/100,h/100,0,0);k.pO(v,i,0);
if(d)k.Sp(i)};k.Y.q.aW=function(i){return~~Math.min(255,Math.max(0,i))};k.Y.q.dj=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
k.Y.q.gc=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];k.Y.q.YD=function(i){return i>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][i-41]:i/40};
k.Y.q.adC=function(i,$,h){var self=k.Y.q,d=self.DD,K=self.mJ,f=h,l=h>>1,u=l-1,U=f*f,y=0;for(var t=0;
t<K;t++){var a=0,v=0,c=0,p=~~(t/h)*h,C=0;for(var T=0;T<f;T++){for(var E=0;E<f;E++){var r=C+E,Y=p+T;if(r>=d)r=d-1;
if(Y>=K)Y=K-1;a+=i[Y*d+r<<2];v+=i[(Y*d+r<<2)+1];c+=i[(Y*d+r<<2)+2]}}var S=~~(a/U),m=~~(v/U),Q=~~(c/U);
$[y]=S;$[y+1]=m;$[y+2]=Q;$[y+3]=i[y+3];y+=4;for(var z=1;z<d;z++){for(var T=0;T<f;T++){var n=z-1,Z=n+f,Y=p+T;
if(Z>=d)Z=d-1;if(Y>=K)Y=K-1;var P=Y*d,V=P+Z<<2,I=P+n<<2;a+=i[V]-i[I];v+=i[V+1]-i[I+1];c+=i[V+2]-i[I+2]}if(z%h==0){S=~~(a/U);
m=~~(v/U);Q=~~(c/U)}$[y]=S;$[y+1]=m;$[y+2]=Q;$[y+3]=i[y+3];y+=4}}};k.Y.q.akU=function(i,$,h,d,K){var self=k.Y.q,f=self.DD,l=self.mJ,u=0,U=0,y=0,a=0;
for(var t=a;t<l+a;t++){var v=t%$>=d||t<d||l+a-d<=t;for(var c=0;c<f;c++){i[u++]=v&&(c%h>=K||c<K||f-K<=c)?255:0}}};
k.Y.q.asf=function(i,$,h){var d=function(y,a){return a<=y?y/a&1?a-y%a:y%a:y},K=[function(u,U){return d(u,255)/255},function(u,U){return(255+d(u,255)-d(U,255))/510},function(u,U){return(255-d(U,255))/255},function(u,U){return(510-d(u,255)-d(U,255))/510},function(u,U){return(255-d(u,255))/255},function(u,U){return(255-d(u,255)+d(U,255))/510},function(u,U){return d(U,255)/255},function(u,U){return(d(u,255)+d(U,255))/510}][h],f=0,l=0;
for(var t=0;t<k.Y.q.Kj;t++){var u=i[f++],U=i[f++];$[l++]=~~(255*K(u,U))}};k.Y.agR=function(){var i=[],$=new Uint8Array(512),h=new Float32Array(512),d=new Float32Array(512),K=[1,-1,1,-1,1,-1,0,0],f=[1,1,-1,-1,0,0,1,-1],l=0,u,C=0;
for(;l<256;l++)i[l]=l;while(l!=0){l--;u=Math.floor(Math.random()*l);i[u]^=i[l]^(i[l]=i[u])}function U(U){U=Math.floor(U*65536);
if(U<256){U|=U<<8}for(var t=0;t<256;t++){var r=t+256,Y=i[t]^(t&1?U:U>>8)&255;$[t]=$[r]=Y;Y=Y%8;h[t]=h[r]=K[Y];
d[t]=d[r]=f[Y]}}function y(r){return r*r*r*(r*(r*6-15)+10)}function a(r,Y,S){return(1-S)*r+S*Y}function v(r,Y){return r&Y}function c(r,Y){return r%Y}function p(r,Y,S,m,Q){var z=Math.floor(r),n=Math.floor(Y),l,Z,P,V,I,q;
r=r-z;Y=Y-n;z=z&255;n=n&255;l=z+$[n];V=h[l]*r+d[l]*Y;l=z+$[Q(n+1,m)];P=h[l]*r+d[l]*(Y-1);l=Q(z+1,S)+$[n];
I=h[l]*(r-1)+d[l]*Y;l=Q(z+1,S)+$[Q(n+1,m)];q=h[l]*(r-1)+d[l]*(Y-1);Z=y(r);return a(a(V,I,Z),a(P,q,Z),y(Y))}function T(r,l,Y){r[l]=Y}function E(r,Y,S,m,Q){var z=Math.min(Math.min(Y,256),Math.min(256,S)),n=z==256||z<8,Z=8,P=new Uint32Array(Z),V=new Uint32Array(Z),I=new Float32Array(Z),q=new Float32Array(Z),X=1,B=1,e=n?v:c,F=T,s;
for(var t=0;t<Z;t++){s=B*1/z;if(n){V[t]=(1<<Math.ceil(Math.log2(S*s)))-1;P[t]=(1<<Math.ceil(Math.log2(Y*s)))-1}else{V[t]=s*S;
P[t]=s*Y}I[t]=X;q[t]=s;X*=.5;B=B<<1}U(Math.random());for(var J=0,l=0;J<S;J++){for(var W=0;W<Y;W++){var L=0;
for(var A=0;A<Z;A++){s=q[A];L+=p(W*s,J*s,P[A],V[A],e)*I[A]}F(m,l++,Math.round(Math.max(0,255*Math.min(1,.5+L*.5))))}}}return E}();
k.Y.ady=function(){function i($,h,d,K){var f=new Uint8Array($.length>>>2),l=new Uint8Array($.length>>>2),u=new Uint8Array($.length);
for(var t=0;t<$.length;t+=4){var U=$[t+0]*.3+$[t+1]*.59+$[t+2]*.11;l[t>>>2]=U;u[t]=$[t];u[t+1]=$[t+1];
u[t+2]=$[t+2]}k.KN.$N(l,f,h,d);k.KN.mj($,K,h,d,k.KN.w6[1],0,!0);for(var t=0;t<$.length;t+=4){u[t+3]=255-f[t>>>2]}for(var t=0,y=$.length;
t<y;t+=4){var a=u[t+3]/255;K[t]=u[t]*a+K[t]*(1-a);K[t+1]=u[t+1]*a+K[t+1]*(1-a);K[t+2]=u[t+2]*a+K[t+2]*(1-a)}}return i}();
k.Y.a0l=function(){function i(f,l,u,U,y){var a=new Uint32Array(f.buffer),v=0;for(var t=0;t<u;t++){for(var c=0;
c<l;c++,v+=4){var p=a[t*l+c],C=p&255,T=p>>>8&255,E=p>>>16&255,r=p>>>24&255,Y=~~(Math.random()*8),S=Y%3,m=0,Q=0;
if(Y<3){Q--}else if(Y>4){Q++}if(S==0){m--}else if(S==2){m++}var z=c+m,n=t+Q;if(z<0)z=0;else if(z>l-1)z=l-1;
if(n<0)n=0;else if(n>u-1)n=u-1;var p=a[n*l+z],Z=p&255,P=p>>>8&255,V=p>>>16&255,I=p>>>24&255;U[v]=y(C,Z);
U[v+1]=y(T,P);U[v+2]=y(E,V);U[v+3]=y(r,I)}}}function $(f,l){return l}function h(f,l){return f>l?l:f}function d(f,l){return f<l?l:f}function K(f,l,u,U,y){var a=y[0];
if(a==0)i(f,l,u,U,$);else if(a==1)i(f,l,u,U,h);else if(a==2)i(f,l,u,U,d);else if(a==3){console.error("Not implemented")}else console.error("Mew mew")}return K}();
k.Y.aew=function(){function i($,h,d,K,f){var l=f&&f[0]?f[0]:4,u,U,y,a,v,c,p;for(var t=0;t<d;t++){var C=Math.max(t-l,0),T=Math.min(t+l,d-1);
for(var E=0;E<h;E++){var r=Math.max(E-l,0),Y=Math.min(E+l,h-1);u=C*h+r<<2;a=$[u];v=$[u+1];c=$[u+2];p=$[u+3];
u=C*h+Y<<2;a+=$[u];v+=$[u+1];c+=$[u+2];p+=$[u+3];u=T*h+r<<2;a+=$[u];v+=$[u+1];c+=$[u+2];p+=$[u+3];u=T*h+Y<<2;
a+=$[u];v+=$[u+1];c+=$[u+2];p+=$[u+3];u=t*h+E<<2;K[u]=a+2>>>2;K[u+1]=v+2>>>2;K[u+2]=c+2>>>2;K[u+3]=p+2>>>2}}}return i}();
k.Y.a18=function(){function i($,h,d,K){var f=new Uint8Array($.length),l=new Uint8Array($.length>>>2),u=new Uint8Array($.length>>>2);
k.KN.mj($,f,h,d,k.KN.w6[2],0,!0);for(var t=0;t<$.length;t+=4){var U=f[t+0]*.3+f[t+1]*.59+f[t+2]*.11;
l[t>>>2]=U;K[t+0]=$[t+0];K[t+1]=$[t+1];K[t+2]=$[t+2];K[t+3]=$[t+3]}k.KN.$N(l,u,h,d);for(var t=0;t<$.length;
t+=4){f[t+3]=~~(Math.max(0,255-u[t>>>2]-50)*(255/205))}for(var t=0,y=$.length;t<y;t+=4){var a=f[t+3]/255;
K[t]=f[t]*a+K[t]*(1-a);K[t+1]=f[t+1]*a+K[t+1]*(1-a);K[t+2]=f[t+2]*a+K[t+2]*(1-a)}}return i}();k.Y.Kh=function(){function i(Y,S){return Y[S]+Y[S+1]+Y[S+2]+Y[S+3]}function $(Y,S){return Y[S]+Y[S+1]+Y[S+2]+2*Y[S+3]}function h(Y,S,m,Q){Y[S]=m[Q];
Y[S+1]=m[Q+1];Y[S+2]=m[Q+2];Y[S+3]=m[Q+3]}function d(Y,S,m){Y[S]=Y[m];Y[S+1]=Y[m+1];Y[S+2]=Y[m+2];Y[S+3]=Y[m+3]}function K(Y,S,m){Y[m]=S[m];
Y[m+1]=S[m+1];Y[m+2]=S[m+2];Y[m+3]=255-S[m+3]}function f(Y){for(var t=0,S=Y.length;t<S;t+=4){Y[t+3]=255-Y[t+3]}}function l(){var Y=Math.random();
if(Y>.5)return 0;if(Y>.25)return 1;if(Y>.1)return 2;if(Y>.02143)return 3;if(Y>.00445)return 4;if(Y>65e-5)return 5;
if(Y>415e-6)return 6;if(Y>55e-6)return 7;return 8}function u(Y,S,m,Q,z,n){Y[S]=m[Q]+(z[n]-m[Q]>>1);Y[S+1]=m[Q+1]+(z[n+1]-m[Q+1]>>1);
Y[S+2]=m[Q+2]+(z[n+2]-m[Q+2]>>1);Y[S+3]=m[Q+3]+(z[n+3]-m[Q+3]>>1)}function U(Y,S,m,Q,z,n){Y[S]=z[n]+m[Q]>>1;
Y[S+1]=z[n+1]+m[Q+1]>>1;Y[S+2]=z[n+2]+m[Q+2]>>1;Y[S+3]=z[n+3]+m[Q+3]>>1}function y(Y,S,m,Q,z,n,Z,P,V){var I=0,q=0,X=0,t,B=z[n],e;
u(P,0,Y,S,Y,m);for(t=0;t<B;t++){u(P,(t+1)*4,P,t*4,Y,m)}q=(B+1)*4;X+=B;n--;h(Y,S,P,q-4);Q[n]=i(Y,S);S-=V;
while(n>0&&Q[n-1]<Q[n]){e=P;P=Z;Z=e;I=q;U(P,0,Y,S-V,Z,0);for(t=4;t<I;t+=4){U(P,t,P,t-4,Z,t)}B=z[n];for(t=X;
t<B;t++){u(P,q,P,q-4,Z,I-4);q+=4;X++}n--;h(Y,S,P,q-4);Q[n]=i(Y,S);S-=V}}function a(Y,S,m,Q,z){var n=S*4,Z=0,P,V,I=new Uint8Array(S+1),q=new Uint8Array(10*4),X=new Uint8Array(10*4);
for(var t=0;t<m;t++){K(Q,Y,Z);z[0]=i(Q,Z);I[0]=l();P=Z;Z+=4;for(var B=1;B<S;B++){K(Q,Y,Z);z[B]=i(Q,Z);
V=l();I[B]=V;if(z[B-1]<z[B]&&V>0){y(Q,Z-4,Z,z,I,B,q,X,4)}Z+=4}z[S]=z[0];I[S]=I[0];if(z[S-1]<z[S]&&V>0){y(Q,Z,P,z,I,S,q,X,4)}}f(Q)}function v(){var Y=Math.random();
if(Y>.659755)return 0;if(Y>.1625)return 10;if(Y>.06)return 20;if(Y>.01)return 30;if(Y>.0035)return 40;
if(Y>65e-5)return 50;if(Y>415e-6)return 60;if(Y>55e-6)return 70;return 80}function c(Y,S,m,Q,z,n){var Z=v()+1,P=Q[z];
for(var t=1;t<Z;t++){if(0>z)break;if(Q[z-t]<P){d(Y,S,m)}else{break}S+=n}}function p(Y,S,m,Q,z){var n=S*4,Z=0;
for(var t=0;t<m;t++){K(Q,Y,Z);z[0]=i(Q,Z);Z+=4;for(var P=1;P<S;P++){K(Q,Y,Z);z[P]=i(Y,Z);if(z[P-1]<z[P]){c(Q,Z-4,Z,z,P,-4)}Z+=4}z[S]=z[0];
if(z[P-1]<z[P]){c(Q,Z-4,Z-n,z,P,-4)}}f(Q)}function C(Y,S,m,Q,z,n){var Z=1,P,V,I=new Uint8Array(4),q,X=S;
while(Math.random()<1/Z){X=S;if(Q<=1)break;P=m[Q];V=m[Q-1];if(P<=V)break;h(I,0,Y,X-n);q=!0;for(var t=Q;
t<z;t++){if(V>m[t]){h(Y,X-n,I,0);m[t-1]=V;q=!1;break}h(Y,X-n,Y,X);m[t-1]=m[t];X+=n}if(q){h(Y,X-n,I,0);
m[z-1]=V}Z++;Q--;S-=n}}function T(Y,S,m,Q,z){var n=0,Z=0,P=S*4;for(var t=0;t<m;t++){Z=n;for(var V=0;
V<S;V++){K(Q,Y,n);z[V]=$(Q,n);n+=4}n=Z;for(var V=1;V<S;V++){if(z[V-1]<z[V]&&Math.random()<.66){C(Q,n+4,z,V,S,4)}n+=4}n+=4}f(Q)}function E(Y,S,m,Q,z){var n=z[0],Z=z[1],P=new Uint16Array(S+1),V=Y,I=Q,q;
if(Z){q=Q.slice(0);r(Y,Q,S,m);V=Q;I=q}if(n==0)a(V,S,m,I,P);else if(n==1)p(V,S,m,I,P);else if(n==2)T(V,S,m,I,P);
if(Z){r(q,Q,S,m)}}function r(Y,S,m,Q){for(var z=0;z<Q;z++)for(var n=0;n<m;n++){var Z=z*m+n<<2,P=z*m+(m-1-n)<<2;
S[P]=Y[Z];S[P+1]=Y[Z+1];S[P+2]=Y[Z+2];S[P+3]=Y[Z+3]}}return E}();k.Y.MM=function(i,$,h,d,K){var f=k.Y.q,l=1,E=0,S=0;
f.mR($,h);f.wj(K[2]);var u=3<<13,U=Math.PI/2.43,y=U/256,a=Math.PI*2/256;function v(){var n=f.random()*256,Z=f.random()*256;
return l*~~(Math.tan(U-n*y)*325*Math.cos(Z*a)*256)+u>>16}l=K[0];var c=K[1],p=(c+2)/2,C=f.random()*255,T=f.Kx(1);
for(var t=0;t<h;t++){var r=f.aW(v()+C);for(var Y=0;Y<$;Y++){r=f.aW(v()+r);T[E++]=r}}E=$;for(var t=1;
t<h;t++){var m=f.aW(v()+T[S++]);T[E++]=m;for(var Y=1;Y<$;Y++){var Q=S+1;if(Y+1==$){Q--}var z=(p+m+T[Q]+T[S]*c)/(c+2);
m=f.aW(v()+z);T[E++]=m;S++}}f.mE(T,d)};var fq=function(){function i(O){O=O^61^O>>>16;O=O+(O<<3);O=O^O>>>4;
O=O*668265261;O=O^O>>>15;return O}var $=function(){var $=function(O){if(O){this.Pi=O}this.Pi=i(this.Pi);
return(this.Pi&16777215)*(1/16777215)};return $};function h(O,o){if(o==null){o=[0,0]}return Math.sqrt((o[0]-O[0])*(o[0]-O[0])+(o[1]-O[1])*(o[1]-O[1]))}function d(O,o){if(o==null){o=[0,0]}return[-(o[1]-O[1])/h(O,o),(o[0]-O[0])/h(O,o)]}function K(O){return[Math.cos(O),Math.sin(O)]}function f(O){var o=h(O,[0,0]),N=[O[0]/o,O[1]/o],w=Math.atan(N[1]/N[0]);
if(N[0]>0&&N[1]<0){w+=2*Math.PI}else if(N[0]<0&&N[1]<0){w+=Math.PI}else if(N[0]<0&&N[1]>0){w+=Math.PI}return w}function l(O){var l=0;
for(var t=1;t<O.length/2;++t){l+=h([O[2*t],O[2*t+1]],[O[2*(t-1)],O[2*(t-1)+1]])}return l}function u(O,o,N){var w=new Float32Array(O.length),kv=1/(O.length/2),g=Q(N);
for(var t=0;t<O.length/2;++t){var b=t*kv,jU=b/2+.5,_=1,cY=0;if(N.shape==2){_=1/(2*jU)}if(N.shape==3){jU=(1-b)/2+.5;
_=1/(2*jU)+.5}if(N.shape==4){jU=b;_=Math.sin(3/2*Math.PI*jU)/4+1}if(N.shape==5){jU=(b-.5)*6;_=(-Math.atan(jU)/1.25+1)/5+.6-.2*b}var j3=[null,null];
if(t==0){j3=d([O[2*t],O[2*t+1]],[O[2*(t+1)],O[2*(t+1)+1]])}else if(t==O.length/2-1){j3=d([O[2*(t-1)],O[2*(t-1)+1]],[O[2*t],O[2*t+1]])}else{j3=d([O[2*(t-1)],O[2*(t-1)+1]],[O[2*(t+1)],O[2*(t+1)+1]])}w[2*t]=O[2*t]+(_*o+cY)*j3[0];
w[2*t+1]=O[2*t+1]+(_*o+cY)*j3[1];if(N.style==2){w[2*t]+=z(2*t/w.length,g,N)}}return w}function U(O,o,N){var w=new Float32Array(O.length),kv=1/(O.length/2);
for(var t=0;t<O.length/2;++t){var g=t*kv,b=[null,null],jU=.6*N.wi*P(g,o.awR)*N.lu/100,_=.6*N.wi*P(g,o.arH)*N.lu/100,cY=o.afm*jU+(1-o.afm)*_;
if(t==0){b=d([O[2*t],O[2*t+1]],[O[2*(t+1)],O[2*(t+1)+1]])}else if(t==O.length/2-1){b=d([O[2*(t-1)],O[2*(t-1)+1]],[O[2*t],O[2*t+1]])}else{b=d([O[2*(t-1)],O[2*(t-1)+1]],[O[2*(t+1)],O[2*(t+1)+1]])}w[2*t]=O[2*t]+cY*b[0];
w[2*t+1]=O[2*t+1]+cY*b[1]}return w}function y(O){if(O.Pf==1){return[.150684932,.205479452,.465753425,.178082192]}else if(O.Pf==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var o=[],N=1/(X(O)-1);
for(var t=0;t<X(O)-1;++t){o.push(N)}return o}}function a(O,o,N){var w=[],kv=o-O,g=O;for(var t=0;t<N.length-1;
++t){w.push(g+N[t]*kv);g=w[t]}return w}function v(O,o,N,w){var kv=new Float32Array(N.length),g=0,b={shape:Math.floor(w.random()*2.99),apf:w.random()*.1+.15};
for(var t=0;t<N.length-1;++t){var jU=g+N[t];kv[t]=((1-jU)*O+jU*o)*r(w,jU,b);g=jU}return kv}function c(O,o,N,w){var kv=I(w),g=w.random(),b=g*20+(1-g)*26,jU=new Float32Array(N.length),_=0;
for(var t=0;t<N.length-1;++t){var cY=_+N[t];jU[t]=(1-cY)*O+cY*o+kv/b*(2/3*Math.sin(Math.PI*cY)+1/3*Math.sqrt(Math.sin(Math.PI*cY)));
_=cY}return jU}function p(O,o,N){var w=[];for(var t=0;t<o.length-1;++t){w.push(o[t].slice());var kv=t*(X(N)-1),g=(t+1)*(X(N)-1),b=O[g]-O[kv];
for(var jU=kv+1;jU<g;++jU){var _=Q(N),cY=new Float32Array(o[0].length),j3=(O[jU]-O[kv])/b;for(var aS=0;
aS<o[0].length/2;++aS){cY[2*aS]=(1-j3)*o[t][2*aS]+j3*o[t+1][2*aS];cY[2*aS+1]=(1-j3)*o[t][2*aS+1]+j3*o[t+1][2*aS+1];
if(N.style==2){cY[2*aS]+=z(2*aS/o[0].length,_,N)}}w.push(cY)}}w.push(o[o.length-1]);return w}function C(O,o,N){var w=new Array(o.length),kv=L(O),b=null;
for(var t=0;t<o.length;++t){w[t]=u(kv,(o[t]-.5)*N.lu,N)}var g=1+.05*N.ayg*I(N)/I({Pf:1});for(var t=0;
t<o.length;++t){if(o[t]==0){b=t}}for(var t=0;t<o.length;++t){var jU=(N.random()-.5)*2,_=Math.round(N.random()*9+1),cY=new Float32Array(_*2+2);
for(var j3=0;j3<=_;++j3){cY[2*j3]=w[t][0]-(w[t][2*j3]-w[t][0]);cY[2*j3+1]=w[t][1]-(w[t][2*j3+1]-w[t][1])}if(t==b){jU*=.1}for(var j3=(w[t].length-1)/2;
j3>_;--j3){w[t][2*j3]=(1-jU)*w[t][2*j3]+jU*(w[t][2*(j3-_)]+g*(w[t][2*j3]-w[t][2*(j3-_)]));w[t][2*j3+1]=(1-jU)*w[t][2*j3+1]+jU*(w[t][2*(j3-_)+1]+g*(w[t][2*j3+1]-w[t][2*(j3-_)+1]))}for(var j3=_-1;
j3>=0;--j3){w[t][2*j3]=(1-jU)*w[t][2*j3]+jU*(cY[2*(_-j3)]+g*(w[t][2*j3]-cY[2*(_-j3)]));w[t][2*j3+1]=(1-jU)*w[t][2*j3+1]+jU*(cY[2*(_-j3)+1]+g*(w[t][2*j3+1]-cY[2*(_-j3)+1]))}}var aS=Z(o,N);
if(N.wi>0){var bL=0;for(var t=0;t<o.length;++t){if(t==0){bL+=o[t]}else{bL+=Math.abs(o[t]-o[t-1])}var cQ=bL-Math.floor(bL),cK=1;
if(cQ==0){cK=0}w[t]=U(w[t],{awR:aS[Math.floor(bL)],arH:aS[Math.floor(bL)+cK],afm:cQ},N)}}return w}function T(O,o){var N=F(o,O),w=s(o,O),kv=[],g=[],b=[],jU=y(O);
for(var t=0;t<o.length-1;++t){kv.push(o[t]);g.push(N[t]);b.push(w[t]);var _=a(o[t],o[t+1],jU),cY=v(N[t],N[t+1],jU,O),j3=c(w[t],w[t+1],jU,O);
for(var aS=0;aS<_.length;++aS){kv.push(_[aS]);g.push(cY[aS]);b.push(j3[aS])}}kv.push(o[o.length-1]);
g.push(N[N.length-1]);b.push(w[w.length-1]);return{ad5:kv,agY:g,Wk:b}}function E(O,o,N,w){var kv=new Float32Array(2*w),g=O.length/2,b=g-o,jU=N*b,_=jU/w;
for(var t=0;t<w;++t){var cY=Math.floor(o+t*_),j3=Math.ceil(o+t*_),N=o+t*_,aS=j3-cY,bL=1,cQ=0;if(aS!=0){bL=(j3-N)/aS;
cQ=(N-cY)/aS}kv[2*t]=bL*O[2*cY]+cQ*O[2*j3];kv[2*t+1]=bL*O[2*cY+1]+cQ*O[2*j3+1]}return kv}function r(O,o,N){var w=N.apf,kv=o*2*Math.PI,g=kv,b=0;
if(N.shape==0){b=(Math.sin(2*g+Math.PI/2)+1)/2}else if(N.shape==1){b=(Math.sin(g+Math.PI/2)+1)/2}else{b=(4*Math.sin(3/4*g+Math.PI)+Math.sin(Math.PI/2+2*g)-2*g/Math.PI+6)/7}return Math.min(1,1-w+w*b)}function Y(O,o,N,w){var kv=[];
for(var t=0;t<O.length;++t){kv.push(E(O[t],o[t],N[t],w))}return kv}function S(O,o,N){var w=[];for(var t=0;
t<O.length;++t){var kv=K(2*Math.PI*N.random()),g=K(2*Math.PI*N.random()),b=N.Sr*.5*B({Pf:1})/B(N),jU=b*N.lu/200,_=b*o/500,cY=new Float32Array(O[0].length);
for(var j3=0;j3<O[0].length/2;++j3){var aS=K(2*Math.PI*N.random()),bL=2*j3/O[0].length;cY[2*j3]=O[t][2*j3]+jU*(aS[0]+((1-bL)*kv[0]+bL*g[0]));
cY[2*j3+1]=O[t][2*j3+1]+_*(aS[1]+((1-bL)*kv[1]+bL*g[1]))}w.push(cY)}return w}function m(O,o,N){var w=N.j1,kv=2/w,g=[1/10,1/30,1/40,1/45,1/100],b=g[N.Pf-1],jU=4*(N.opacity/25*kv*b)*(1-N.Sr/150),aS=0,cQ=0;
if(N.style==3){return jU*.09}var _=2.2*(O-.5),cY=_*_*_*_+.27+Math.max(0,(N.opacity-50)/15),j3=2*(Math.sin(3*Math.PI*o)/(Math.PI*o+2)+1.1)-o/2;
o=2*o;if(o<.41){var bL=2*Math.PI*o/.41;aS=(Math.sin(bL-Math.PI/2)+1)/4+.5}else if(o<.77){var bL=2*Math.PI*(o-.41)/.36;
aS=(Math.sin(bL-Math.PI/2)+1)/4+.5-bL/2/Math.PI*.5}else{var bL=2*Math.PI*(o-.77)/.23;aS=(Math.sin(bL-Math.PI/2)+1)/2*.12}aS*=3;
aS+=Math.max(0,(N.opacity-50)/15);if(N.type==6){cQ=j3}else{cQ=aS}return jU*cY*cQ}function Q(O){return{c:O.random()*7/2+.5,Ps:O.random()*2*Math.PI}}function z(O,o,N){return N.lu/300*X({Pf:1})/X(N)*10*(Math.sin(o.c*2*Math.PI*O+o.Ps)+10*(N.random()-.5))}function n(O){var o=Math.exp(-O.wi/25);
return{c:O.random()*3/2+.5,Ps:O.random()*2*Math.PI,ui:(O.random()-.5)*10*o}}function Z(O,o){var N=Math.ceil(J(O)),w=[];
for(var t=0;t<=N;++t){w.push(n(o))}return w}function P(O,o){var N=o.c*4*Math.PI*O+o.Ps;return Math.exp(-1/2*Math.PI*O)*Math.cos(N)*Math.cos(N)*Math.cos(N)*Math.cos(N)*Math.cos(N)+O*o.ui-o.ui/4}function V(O,o,N,w,kv){var g=0,b=B(o)-1;
for(var t=0;t<b;++t){for(var jU=0;jU<O.length-1;jU+=X(o)-1){for(var _=t;_<O[0].length/2-b;_+=b){for(var cY=jU;
cY<jU+(X(o)-1);++cY){N[kv+g]=m(cY*(o.j1-1)/(O.length-1)%1,_/O[0].length,o);var j3=0,aS=0;if(o.type==6&&cY!=0&&cY!=O.length-1){aS=(O[cY][2*(_+1)+1]-O[cY][2*_+1])/2;
j3=(O[cY][2*(_+1)]-O[cY][2*_])/2}w[8*kv+8*g]=O[cY][2*_]+j3;w[8*kv+8*g+1]=O[cY][2*_+1]+aS;w[8*kv+8*g+2]=O[cY][2*(_+b)]+j3;
w[8*kv+8*g+3]=O[cY][2*(_+b)+1]+aS;w[8*kv+8*g+4]=O[cY+1][2*(_+b)];w[8*kv+8*g+5]=O[cY+1][2*(_+b)+1];w[8*kv+8*g+6]=O[cY+1][2*_];
w[8*kv+8*g+7]=O[cY+1][2*_+1];++g}}}}}function I(O){var o=[100,300,500,700,1e3];return o[O.Pf-1]}function q(O){var o=[30,70,100,140,300];
return o[O.Pf-1]}function X(O){var o=[5,7,26,40,100];return o[O.Pf-1]}function B(O){if(O.Pf==1){return 4}else if(O.Pf==2){return 8}else{return Math.floor(q(O)/9)}}function e(O){var o=O.j1,N=new Float32Array(o),w=null;
for(var t=0;t<o;++t){N[t]=O.random()}if(O.j1<=3){N[0]=0;N[O.j1-1]=1}else{for(var t=0;t<2;++t){var kv=Math.floor(O.random()*o);
if(w==null||w!=kv){N[kv]=t;w=kv}else{N[kv+1]=t}}}return N}function F(O,o){var N=[],w=.2,g=0;for(var t=0;
t<O.length;++t){var kv=o.random()*(1-w)+w;N.push(kv)}var b=Math.min(3,o.j1);for(var t=0;t<O.length;++t){if(N[t]>.9){++g}}while(g<b){var jU=Math.floor(o.random()*O.length);
if(N[jU]<=.9){N[jU]=.9+.1*o.random();++g}}return N}function s(O,o){var N=I(o),w=I({Pf:1}),kv=[];for(var t=0;
t<O.length;++t){kv.push(Math.max(1,(o.random()*10+2)*N/w))}return kv}function J(O){var o=0;for(var t=0;
t<O.length;++t){if(t==0){o+=O[t]}else{o+=Math.abs(O[t]-O[t-1])}}return o}function W(O,o){if(O.length/2-1==I(o)){return O}var N=new Float32Array(2*(I(o)+1)),w=(O.length-2)/(N.length-2);
for(var t=0;t<N.length/2;++t){var kv=t*w,g=Math.floor(kv),b=Math.ceil(kv),jU=b-g,_=1,cY=0;if(jU!=0){_=(b-kv)/jU;
cY=(kv-g)/jU}N[2*t]=_*O[2*g]+cY*O[2*b];N[2*t+1]=_*O[2*g+1]+cY*O[2*b+1]}return N}function L(O,o){var N=O.length/2,w=l(O),kv=w/N,g=!1,_=0,cY=0,j3=1;
if(o){var b=Math.floor(w/o.a5h),jU=o.a5h;if(o.a2d&&O[0]==O[O.length-2]&&O[1]==O[O.length-1]){g=!0;jU=w/(b+1)}if(o.type==2&&!g&&jU*b+o.length>w){N=b+1}else{N=b+2}kv=jU}var aS=new Float32Array(N*2);
aS[0]=O[0];aS[1]=O[1];for(var t=1;t<N;++t){while(_<=t*kv){cY=_;_+=h([O[2*j3],O[2*j3+1]],[O[2*(j3-1)],O[2*(j3-1)+1]]);
++j3}var bL=1-(t*kv-cY)/(_-cY);aS[2*t]=(1-bL)*O[2*j3]+bL*O[2*(j3-1)];aS[2*t+1]=(1-bL)*O[2*j3+1]+bL*O[2*(j3-1)+1]}aS[aS.length-2]=O[O.length-2];
aS[aS.length-1]=O[O.length-1];return aS}function A(O,o){var N=L(O,o),w=[];for(var t=0;t<(N.length-2)/2;
++t){var kv=[];kv.push(N[2*t]);kv.push(N[2*t+1]);var g=h([N[2*(t+1)],N[2*(t+1)+1]],[N[2*t],N[2*t+1]]),b=[(N[2*(t+1)]-N[2*t])/g,(N[2*(t+1)+1]-N[2*t+1])/g],jU=K((o.ahP-90)/360*2*Math.PI),_=b;
if(o.type==3){_=jU}else if(o.type==4){_=K(f(b)+f(jU))}else if(o.type==5){_=K(((o.random()-.5)*o.ahP-90)/360*2*Math.PI)}var cY=o.length;
if(o.a2Y){cY=2*o.random()*o.length}kv.push(N[2*t]+_[0]*cY);kv.push(N[2*t+1]+_[1]*cY);w.push(kv)}return w}function j(O){if(O.avb){O.aM=100*Math.random()}else{O.aM=O.a4C}O.random=new $;
O.random(O.aM);if(O.type==6){O.j1=2;O.shape=5;O.ayg=0}}function G(O,o){O=W(O,o);var N=[O],cY=0;if(o.type>=2&&o.type<6){N=A(O,o)}var w=B(o)-1,kv=q(o)-w,g=(o.j1-1)*(X(o)-1),b=N.length*kv*g,jU=new Float32Array(b),_=new Float32Array(8*b);
for(var t=0;t<N.length;++t){for(var j3=0;j3<1e4;++j3){o.aM=i(o.aM)}o.random(o.aM);var O=W(N[t],o),aS=e(o),bL=J(aS),cQ=C(O,aS,o),cK=T(o,aS),el=p(cK.ad5,cQ,o);
el=Y(el,cK.Wk,cK.agY,q(o));if(o.Sr>0){el=S(el,l(N[t]),o)}V(el,o,jU,_,cY);cY+=kv*g}return[jU,_]}var fq=function(O){var o=performance.now(),N=O[0],w=O[1];
j(w);var kv=[new Float32Array(0),new Float32Array(0)];for(var t=0;t<N.length;++t){w.aM=i(w.aM);var g=G(N[t],w),b=new Float32Array(kv[0].length+g[0].length),jU=new Float32Array(kv[1].length+g[1].length);
b.set(kv[0]);b.set(g[0],kv[0].length);kv[0]=b;jU.set(kv[1]);jU.set(g[1],kv[1].length);kv[1]=jU}var _=performance.now();
if(w.aax){console.Kb("Geometry: "+String(_-o)+"ms")}return kv};return fq}(),cG=function(){function i(K,f){var l=[],u=0,U=f.length,y=0,a=0,v=new bN,c=0,p=1e9;
for(a=0;a<U;a++){var C=a*8,T=f[a];if(T<p)p=T;var E=K[C+0],r=K[C+1],Y=K[C+2],S=K[C+3],m=K[C+4],Q=K[C+5],z=K[C+6],n=K[C+7],Z=Math.min(E,Y,m,z),P=Math.max(E,Y,m,z),V=Math.min(r,S,Q,n),I=Math.max(r,S,Q,n),q=new bN(Z,V,P-Z,I-V),X=q.rt(v),B=c+T;
if(a-y<10&&(a==y||X.O()*.8<q.O()+v.O())){v=X;c=B}else{l.push(a-y);y=a;v=q;c=T;p=T}}if(a!=y)l.push(a-y);
return l}function $(K,f,l,u,U,y){var a=document.createElement("canvas"),r=0,b=.8;a.width=f;a.height=l;
var v=a.getContext("2d"),c=U[0],p=U[1],C=new Float64Array(f*l),T=Date.now(),E=i(p,c);for(var Y=0;Y<E.length;
Y++){var S=r,m=r+E[Y],n=1e9,P=1e9,F=0;r=m;var Q=S*8,z=m*8,Z=-n,V=-P;for(var I=Q;I<z;I+=2){var q=p[I],X=p[I+1];
if(q<n)n=q;if(q>Z)Z=q;if(X<P)P=X;if(X>V)V=X}n=Math.floor(n);Z=Math.ceil(Z);P=Math.floor(P);V=Math.ceil(V);
var B=Z-n,e=V-P;for(var s=S;s<m;s++)F+=c[s];for(var I=Q;I<z;I+=8){var J=c[I>>>3],W=p[I+0],L=p[I+1],A=p[I+2],j=p[I+3],G=p[I+4],O=p[I+5],o=p[I+6],N=p[I+7];
v.fillStyle="rgba(0,0,0,"+J/F+")";v.beginPath();v.moveTo(W,L);v.lineTo(A,j);v.lineTo(G,O);v.lineTo(o,N);
v.closePath();v.fill()}var w=v.getImageData(n,P,B,e).data;for(var X=0;X<e;X++)for(var q=0;q<B;q++){var t=X*B+q,kv=w[t*4+3],g=(P+X)*f+n+q;
if(kv!=0)C[g]+=kv*F}v.clearRect(n,P,B,e)}var jU=y[1].color,_=Math.pow(jU.o/255,b),cY=Math.pow(jU.P/255,b),j3=Math.pow(jU.Z/255,b),aS=new bN(0,0,f,l),bL=k.Q(f*l*4);
for(var X=0;X<l;X++)for(var q=0;q<f;q++){var t=X*f+q,s=t*4,c=C[t]*(1/255);bL[s]=d(_,c);bL[s+1]=d(cY,c);
bL[s+2]=d(j3,c);bL[s+3]=Math.min(255,c*255)}k.l.NU("norm",bL,aS,u,aS,aS,1)}var h=new Uint8Array(2e3);
for(var t=0;t<2e3;t++)h[t]=255*Math.min(1,Math.log(t/700+1));function d(K,f){return h[Math.min(1500,~~(K*f*1e3))]}return $}(),bt=function(){var i=new Float32Array(3e3),$=new Float32Array(3e3),h=new Float32Array(256),d=new Float32Array(3e3);
function K(){var p=i.length;i[0]=Math.log10(157647e-9);for(var t=1;t<p;++t)i[t]=Math.log10(t/p)}function f(){var p=$.length;
for(var t=0;t<p;++t)$[t]=Math.pow(10,20*(t-p/2)/p)}function l(){var p=h.length;for(var t=0;t<p;++t)h[t]=k.NQ(t/255)}function u(){var p=d.length;
for(var t=0;t<p;++t)d[t]=255*k.Jy(t/(p-1))}function U(p,C){var T=p.length>>>2;for(var t=0;t<T;++t){var E=h[p[4*t]],r=h[p[4*t+1]],Y=h[p[4*t+2]],S=.3811*E+.5783*r+.0402*Y,m=.1967*E+.7244*r+.0782*Y,Q=.0241*E+.1288*r+.8444*Y;
S=i[~~(S*i.length)];m=i[~~(m*i.length)];Q=i[~~(Q*i.length)];C[3*t]=(S+m+Q)*.5773502692;C[3*t+1]=(S+m-2*Q)*.4082482905;
C[3*t+2]=(S-m)*.7071067812}}function y(p,C){var T=C.length>>>2,E=d.length-1;for(var t=0;t<T;++t){var r=.5773502692*p[3*t],Y=.4082482905*p[3*t+1],S=.7071067812*p[3*t+2],m=$[~~((r+Y+S+10)*(3e3/20))],Q=$[~~((r+Y-S+10)*(3e3/20))],z=$[~~((r-2*Y+10)*(3e3/20))],n=4.4679*m-3.5873*Q+.1193*z,Z=-1.2186*m+2.3809*Q-.1624*z,P=.0497*m-.2439*Q+1.2045*z;
C[4*t]=d[~~(E*Math.max(0,Math.min(1,n)))];C[4*t+1]=d[~~(E*Math.max(0,Math.min(1,Z)))];C[4*t+2]=d[~~(E*Math.max(0,Math.min(1,P)))]}}function a(p){var C=0,T=0,E=0;
for(var t=0;t<p.length;t+=3){C+=p[t];T+=p[t+1];E+=p[t+2]}return[C/(p.length/3),T/(p.length/3),E/(p.length/3)]}function v(p,a){var C=0,T=0,E=0;
for(var t=0;t<p.length;t+=3){var r=p[t]-a[0],Y=p[t+1]-a[1],S=p[t+2]-a[2];C+=r*r;T+=Y*Y;E+=S*S}return[Math.sqrt(C/(p.length/3)),Math.sqrt(T/(p.length/3)),Math.sqrt(E/(p.length/3))]}function c(p,C,T,E,r,Y){K();
f();l();u();var S=0,L,A;if(Y[0]>100)S=-(Y[0]-100)/100*.13;else if(Y[0]>=75)S=(100-Y[0])/25*.04;else if(Y[0]>=50)S=.04+(75-Y[0])/25*.04;
else if(Y[0]>=25)S=.08+(50-Y[0])/25*.08;else S=.16+(25-Y[0])/25*.24;var m=(Y[1]-100+100)/100,Q=Y[2]/100,z=Y[3],n=new Float32Array(p.length*3/4),Z=new Float32Array(E.length*3/4),P=Date.now();
U(p,n);U(E,Z);var V=Date.now(),I=a(n),q=a(Z),X=Date.now(),B=v(n,I),e=v(Z,q),F=Date.now();q[0]*=Math.pow(10,S);
var s=[e[0]/B[0],e[1]/B[1],e[2]/B[2]],J=n.length,W=1/-1.1546978950500488;for(var t=0;t<J;t+=3){if(z){var j=Math.max(0,Math.min(1,n[t]*W));
j=1-Math.sqrt(j);L=j*q[1];A=j*q[2]}else{L=q[1];A=q[2]}n[t]=(n[t]-I[0])*s[0]+q[0];n[t+1]=(n[t+1]-I[1])*s[1]*m+L;
n[t+2]=(n[t+2]-I[2])*s[2]*m+A}var G=Date.now();y(n,r);var O=r.length>>>2;for(var t=0;t<O;++t){r[4*t]=(1-Q)*r[4*t]+Q*p[4*t];
r[4*t+1]=(1-Q)*r[4*t+1]+Q*p[4*t+1];r[4*t+2]=(1-Q)*r[4*t+2]+Q*p[4*t+2];r[4*t+3]=255}}return c}(),ev=function(){function i($,h,d,K,f){var l=[-1,-1,-1,-1],u=255,U=160,y,a=!1,v=new Array(4);
v[0]=new Array(h);v[1]=new Array(d);v[2]=new Array(h);v[3]=new Array(d);var c=new Array(2);c[0]=new Array(d);
c[1]=new Array(d);function p(e,F,s,J,W){this.start=J;this.axis=W;this.dir=e;this.end=-1;this.source=F;
this.O=s}function C(e,F,s,J,W){if(s%2==0){if(!v[s][e])v[s][e]=new Array;v[s][e].push(new p(s,J,W,F,e))}else{if(!v[s][F])v[s][F]=new Array;
v[s][F].push(new p(s,J,W,e,F))}var L=Date.now()}function T(t){var e=!1,F=0;if($[4*t+3]<u)return e;var s=t%h,J=Math.floor(t/h);
E(s,J);if(t+h<h*d&&$[4*(t+h)+3]<u&&$[4*(t-h)+3]>=u&&$[4*(t-2*h)+3]>=u){var W=2;if($[4*(t+h)+3]<=U)F=-1;
if($[4*(t+2*h-1)+3]<u&&$[4*(t+2*h+1)+3]<u)e=!0;else if($[4*(t+2*h-1)+3]>=u&&$[4*(t+1)+3]>=u)e=!0;else if($[4*(t+2*h+1)+3]>=u&&$[4*(t-1)+3]>=u)e=!0;
C(s,J,W,F,e)}else if(t-h>=0&&$[4*(t-h)+3]<u&&$[4*(t+h)+3]>=u&&$[4*(t+2*h)+3]>=u){var W=0;if($[4*(t-h)+3]<=U)F=-1;
if($[4*(t-2*h-1)+3]<u&&$[4*(t-2*h+1)+3]<u)e=!0;else if($[4*(t-2*h-1)+3]>=u&&$[4*(t+1)+3]>=u)e=!0;else if($[4*(t-2*h+1)+3]>=u&&$[4*(t-1)+3]>=u)e=!0;
C(s,J,W,F,e)}F=0;if(t+1<h*d&&$[4*(t+1)+3]<u&&$[4*(t-1)+3]>=u&&$[4*(t-2)+3]>=u){var W=3;if($[4*(t+1)+3]<=U)F=-1;
if(!e&&$[4*(t+h+2)+3]<u&&$[4*(t-h+2)+3]<u){e=!0;C(s,J,W,F,!0)}else C(s,J,W,F,!1)}else if(t>=1&&$[4*(t-1)+3]<u&&$[4*(t+1)+3]>=u&&$[4*(t+2)+3]>=u){var W=1;
if($[4*(t-1)+3]<=U)F=-1;if(!e&&$[4*(t+h-2)+3]<u&&$[4*(t-h-2)+3]<u){e=!0;C(s,J,W,F,!0)}else C(s,J,W,F,!1)}return e}function E(t,e){if(l[0]==-1){l[0]=t;
l[1]=e;l[2]=1;l[3]=1}if(t<l[0]){l[2]+=l[0]-t;l[0]=t}if(t>l[0]+l[2])l[2]=t-l[0];if(e<l[1]){l[3]+=l[1]-e;
l[1]=e}if(e>l[1]+l[3])l[3]=e-l[1]}function r(e,t,F,s){if(!F.O)return;var J=(e+2)%4,W=F.start,L=l[1];
if(e==2)L+=l[3];else if(e==1)L=l[0];else if(e==3)L=l[0]+l[2];var A=F.source;if(v[J][t])for(var j=0;j<v[J][t].length;
++j){if(e>1){var G=W+Math.floor((v[J][t][j].start-W)/2);if(v[J][t][j].start>W&&G<L)L=G}else{var G=W-Math.floor((W-v[J][t][j].start)/2);
if(v[J][t][j].start<W&&G>L)L=G}}for(var O=1;O<Math.abs(L-W);++O){var j=W+O;if(e==1||e==0)j=W-O;for(var o=0;
o<2;++o){var N=2*o,w=!1;if(e%2==0)N+=1;if(v[N][j]){for(var kv=0;kv<v[N][j].length;++kv){if(v[N][j][kv].O){var g=v[N][j][kv].start,b=t-g,jU=j-W;
if(N==0||N==1)b=-b;if(b<=0)continue;if(e==0||e==1)jU=-jU;if(jU>b){L=j;w=!0;break}}}if(w)break}}}F.end=L;
m(e,t,W,L,A)}function Y(e){for(var t=0;t<v[e].length;++t){if(v[e][t])for(var F=0;F<v[e][t].length;++F){r(e,t,v[e][t][F])}}}function S(){var e=[2,0,3,1];
for(var t=0;t<e.length;++t)Y(e[t])}function m(e,t,F,s,J){if(e==2)for(var W=F;W<=s;++W){if(!Q(W*h+t,(F+J)*h+t))return!1}else if(e==0)for(var W=F;
W>=s;--W){if(!Q(W*h+t,(F-J)*h+t))return!1}else if(e==1)for(var W=F;W>=s;--W){if(!Q(t*h+W,t*h+F-J))return!1}else if(e==3)for(var W=F;
W<=s;++W){if(!Q(t*h+W,t*h+F+J))return!1}}function Q(e,F){if(!y[e]){K[4*e]=K[4*F];K[4*e+1]=K[4*F+1];K[4*e+2]=K[4*F+2];
if(a)K[4*e+3]=255;y[e]=!0;return!0}return!1}function z(){for(var t=0;t<4;t+=1){for(var e=0;e<v[t].length;
++e){if(v[t][e])for(var F=0;F<v[t][e].length;++F){var s=v[t][e][F];for(var J=1;J<3;J+=2){var W=(t+J)%4;
if(v[W][s.start])for(var L=0;L<v[W][s.start].length;++L){if(v[W][s.start][L].start==s.axis){var b4=h*s.start+s.axis;
if(t%2==1){b4=s.start+h*s.axis;n(v[W][s.start][L])}else n(s)}}}}}}}function n(e){if(e.dir%2==0){var b4=h*e.start+e.axis,F=e.start,s=1;
if(!y[b4+1])s=3;else if(y[b4-1])return;var J=K[4*b4],W=K[4*b4+1],L=K[4*b4+2];while(K[4*b4]==J&&K[4*b4+1]==W&&K[4*b4+2]==L){if(s==1){if(!c[0][F])c[0][F]=new Array;
c[0][F].push(new p(s,0,!1,e.axis,F))}else{if(!c[1][F])c[1][F]=new Array;c[1][F].push(new p(s,0,!1,e.axis,F))}if(e.dir==2){b4+=h;
F++}else{b4-=h;F--}}}}function Z(){for(var e=0;e<2;++e){var F=(e+1)%2;for(var t=0;t<c[e].length;++t){if(c[e][t])for(var s=0;
s<c[e][t].length;++s){var J=l[0];if(e==1)J+=l[2];var W=c[e][t][s].start;if(c[F][t])for(var L=0;L<c[F][t].length;
++L){var A=c[F][t][L].qc;if(e==0){if(A>J&&A<W){J=W-Math.floor((W-A)/2)}}else{if(A<J&&A>W){J=W+Math.ceil((A-W)/2)}}}if(e==0)m(c[e][t][s].dir,t,W-1,J,-1);
else m(c[e][t][s].dir,t,W+1,J,-1)}}}for(var t=0;t<y.length;++t){if(!y[t]&&t%h>=l[0]&&t%h<=l[0]+l[2]&&Math.floor(t/h)>=l[1]&&Math.floor(t/h)<=l[1]+l[3]){var W=h;
if(t<W||!y[t-W])W=1;K[4*t]=K[4*(t-W)];K[4*t+1]=K[4*(t-W)+1];K[4*t+2]=K[4*(t-W)+2];y[t]=!0;if(a)K[4*t+3]=255}}}function P(){y=new Array($.length/4);
for(var t=0;t<K.length/4;++t){y[t]=!1;K[4*t]=$[4*t];K[4*t+1]=$[4*t+1];K[4*t+2]=$[4*t+2];K[4*t+3]=$[4*t+3];
if(K[4*t+3]==255)y[t]=!0;if(T(t))y[t]=!1}if(l[0]>0){l[0]--;l[2]++}if(l[1]>0){l[1]--;l[3]++}if(l[0]+l[2]<h){l[2]++}if(l[1]+l[3]<d){l[3]++}}var V=Date.now();
P();var I=Date.now();S();var q=Date.now();z();var X=Date.now();Z();var B=Date.now();console.log("Init: "+String(I-V));
console.log("Filling: "+String(q-I));console.log("Check areas: "+String(X-q));console.log("Fill areas: "+String(B-X))}return i}();
function fR(){}fR.a5c=function(i){var $=[k.NQ(i[0]),k.NQ(i[1]),k.NQ(i[2]),0];return k.xP.yf(k.xP.zG,$)};
fR.av2=function(i){var $=k.xP.yf(k.xP.R5,i);return[k.Jy($[0]),k.Jy($[1]),k.Jy($[2])]};fR.bS=function(i,$){var h={},d=5003,K=1667,f=25e3,l=57.4,u=16.1,U=1.8,y=0,a=1.54,v=.75,C=0;
if($>0){i-=$/100*4}if(i<0){u=22.54;l=80.36;a=.756}if($>0){U=1.3;v=.2}var c=Math.min(d+l*i,f),p=Math.max(d-u*i,K);
if(i<0){c=Math.max(d+u*i,K);p=Math.min(d-l*i,f)}if(i>0){if(i<=14){C=(i-1)/13*.075+.025}else if(i<=29){C=.1}else if(i<=60){C=.1-.1*(i-29)/(60-29)}else{var T=i-60;
y=-20*(T/40);C=-.3*(T/40)}}else{if(i<-60){var T=i+60;y=-20*(T/40)}}var E=Math.abs(i)/100*a+Math.abs($)/100*v+C,r=-($*U+y),Y=d5.bR(c,-r),S=d5.nt(Y),m=d5.bR(p,0),Q=d5.nt(m),z=d5.m1(S,Q);
h.a5J=E;h.a2g=z;if(i==0&&$==0)h.arU=!0;else h.arU=!1;return h};fR.a67=function(i,$,h,d){if(d.arU){return[i,$,h]}var K=this.a5c([i,$,h]),f=K[0],l=K[1],u=K[2],U=l+1e-12,y=[f/U,l/U,u/U,0],a=k.xP.yf(d.a2g,y),v=0,c=.4;
a[0]*=U;a[1]*=U;a[2]*=U;if(U>c)v=1/(1-c)*(U-c);K[0]=(1-v)*a[0]+v*f;K[1]=(1-v)*a[1]+v*l;K[2]=(1-v)*a[2]+v*u;
return this.av2(K)};k.W5={qn:function(i,$){var t=i.length;i.push($);var h=t>>>1;while(h!=0&&i[t][0]<i[h][0]){var d=i[t];
i[t]=i[h];i[h]=d;t=h;h=t>>>1}},kR:function(i){if(i.length==2)return i.pop();var top=i[1],t=1;i[1]=i.pop();
var $=i.length;while(!0){var h=t<<1,d=h+1,K=t;if(h<$&&i[h][0]<i[K][0])K=h;if(d<$&&i[d][0]<i[K][0])K=d;
if(K==t)break;var f=i[t];i[t]=i[K];i[K]=f;t=K}return top},ad2:function(i){for(var t=1;t<i.length;t++){var $=t,h=1e9;
while($!=0){var d=i[$][0];if(d>h){console.log(t);throw"e"}h=d;$=$>>>1}}}};k.l={};k.l.kP=new Float64Array(256);
k.l.qI=new Uint8Array(256*256);k.l.jp=new Uint8Array(256*256);(function(){for(var t=0;t<256;t++)k.l.kP[t]=255/t;
for(var t=0;t<256;t++)for(var i=0;i<256;i++)k.l.qI[t*256+i]=t==0?0:Math.round(i*255/t);for(var t=0;t<256;
t++)for(var i=0;i<256;i++)k.l.jp[t*256+i]=Math.round(t*(255-i)/255)}());k.l.NU=function(i,$,h,d,K,f,l,u){if(u==null)u=eN.Dt();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(i)==-1){l=l*u.fill;u.fill=1;u.style=!1}var U="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),y="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),a=k.l[i+"F"];
if(u.vQ==null&&i=="norm")k.l.aup($,h,d,K,f,l,a,u.I7?1:0);else if(i=="diss")k.l.ank($,h,d,K,f,l,a,u.I7?1:0);
else if(U.indexOf(i)!=-1)k.l.auk($,h,d,K,f,l,a,u);else if(y.indexOf(i)!=-1)k.l.aqp($,h,d,K,f,l,a,u)};
k.l.axp=function(i,$,h){var d=i*h+1-h;return d<.001?0:1-Math.min(1,(1-$)/d)};k.l.awk=function(i,$,h){return i*h==1?1:Math.min(1,$/(1-i*h))};
k.l.T6=function(i){return i<=.25?((16*i-12)*i+4)*i:Math.sqrt(i)};k.l.normF=function(i,$,h){return i};
k.l.darkF=function(i,$,h){return Math.min(i,$)};k.l["mul F"]=function(i,$,h){return i*$};k.l.idivF=function(i,$,h){var d=i*h+1-h;
return $==1?1:1-$>=d?0:1-(1-$)/d};k.l.lbrnF=function(i,$,h){return Math.max(0,i*h+$-h)};k.l.dkClF=function(i,$,h){var d=k.ZQ(i)<k.ZQ($)?i:$;
h.o=d.o;h.P=d.P;h.Z=d.Z;return h};k.l.liteF=function(i,$,h){return Math.max(i,$)};k.l.scrnF=function(i,$,h){return $+i-$*i};
k.l["div F"]=function(i,$,h){i*=h;return $==0?0:$>=1-i?1:$/(1-i)};k.l.lddgF=function(i,$,h){i*=h;return Math.min(1,i+$)};
k.l.lgClF=function(i,$,h){var d=k.ZQ(i)>k.ZQ($)?i:$;h.o=d.o;h.P=d.P;h.Z=d.Z;return h};k.l.overF=function(i,$,h){return k.l.hLitF($,i,h)};
k.l.sLitF=function(i,$,h){return i<=.5?$-(1-2*i)*$*(1-$):$+(2*i-1)*(k.l.T6($)-$)};k.l.hLitF=function(i,$,h){return i<=.5?k.l["mul F"](2*i,$,h):k.l.scrnF(2*i-1,$,h)};
k.l.vLitF=function(i,$,h){return i<=.5?k.l.axp(2*i,$,h):k.l.awk(2*i-1,$,h)};k.l.lLitF=function(i,$,h){return i<=.5?k.l.lbrnF(2*i,$,h):k.l.lddgF(2*i-1,$,h)};
k.l.pLitF=function(i,$,h){return i<=.5?k.l.darkF(2*i,$,h):k.l.liteF(2*i-1,$,h)};k.l.hMixF=function(i,$,h){if(h>.99)return i+$<1?0:1;
return Math.min(1,Math.max(0,($+i*h-h)/(1-h+1e-6)))};k.l.diffF=function(i,$,h){i*=h;return Math.abs(i-$)};
k.l.smudF=function(i,$,h){return i+$-2*i*$};k.l.fsubF=function(i,$,h){return Math.max($-i,0)};k.l.fdivF=function(i,$,h){return Math.min($/i,1)};
k.l["hue F"]=function(i,$,h){k.l.Uk(i,k.Ys($),h);k.l.y$(h,k.ZQ($),h)};k.l["sat F"]=function(i,$,h){k.l.Uk($,k.Ys(i),h);
k.l.y$(h,k.ZQ($),h)};k.l.colrF=function(i,$,h){k.l.y$(i,k.ZQ($),h)};k.l["lum F"]=function(i,$,h){k.l.y$($,k.ZQ(i),h)};
k.l.y$=function(i,$,h){var d=$-k.ZQ(i);h.o=i.o+d;h.P=i.P+d;h.Z=i.Z+d;k.l.axk(h)};k.l.axk=function(i){var $=i.o,h=i.P,d=i.Z,K=k.DW($,h,d),b4=Math.min($,h,d),f=Math.max($,h,d);
if(b4<0){var l=K/(K-b4);$=K+($-K)*l;h=K+(h-K)*l;d=K+(d-K)*l}if(f>1){var l=(1-K)/(f-K);$=K+($-K)*l;h=K+(h-K)*l;
d=K+(d-K)*l}i.o=$;i.P=h;i.Z=d};k.l.Uk=function(i,$,h){var d=k.l.a0v,K=i.o,f=i.P,l=i.Z;if(K==f&&f==l){h.o=h.P=h.Z=0}else if(K>f){if(K>l){if(f>l){h.o=$;
h.P=d(K,f,l,$);h.Z=0}else{h.o=$;h.Z=d(K,l,f,$);h.P=0}}else{h.Z=$;h.o=d(l,K,f,$);h.P=0}}else{if(K<l){if(f>l){h.P=$;
h.Z=d(f,l,K,$);h.o=0}else{h.Z=$;h.P=d(l,f,K,$);h.o=0}}else{h.P=$;h.o=d(f,K,l,$);h.Z=0}}};k.l.a0v=function(i,$,h,d){return($-h)*d/(i-h)};
k.l.aup=function(i,$,h,d,K,f,l,u){var U=$.Js(d).Js(K),y=Math.max(0,U.x-$.x),a=Math.max(0,U.x-d.x),v=Math.max(0,U.y-$.y),c=Math.max(0,U.y-d.y),p=U.e,C=U.n,T=$.e,E=d.e,r=k.l.qI,Y=k.l.jp,S=new Uint32Array(i.buffer),m=new Uint32Array(h.buffer);
for(var t=0;t<C;t++){var Q=(v+t)*T+y,z=(c+t)*E+a;for(var n=0;n<p;n++){var Z=S[Q+n],s=1;if(Z>>>24==0)continue;
if(Z>>>24==255&&f==1&&u==0){m[z+n]=S[Q+n];continue}var P=m[z+n],V=Z&255,I=Z>>>8&255,q=Z>>>16&255,X=P&255,B=P>>>8&255,e=P>>>16&255,F=f,J=(P>>>24)*(1/255);
if(u==0){F=(Z>>>24)*f*(1/255);s=J}var W=s*(1-F),L=F+W,A=1/L;m[z+n]=~~(.5+(u*J+(1-u)*L)*255)<<24|~~(.5+(q*F+e*W)*A)<<16|~~(.5+(I*F+B*W)*A)<<8|~~(.5+(V*F+X*W)*A)}}};
k.l.afI=function(i,$,h,d,K,f){var l=$.Js(d).Js(K),u=Math.max(0,l.x-$.x),U=Math.max(0,l.x-d.x),y=Math.max(0,l.y-$.y),a=Math.max(0,l.y-d.y),v=l.e,c=l.n,p=$.e,C=d.e,T=k.l.qI,E=k.l.jp,r=new Uint32Array(i.buffer),Y=new Uint32Array(h.buffer),S=Math.floor(Math.random()*16777215),m=0;
for(var t=0;t<c;t++){var Q=(y+t)*p+u,z=(a+t)*C+U;for(var n=0;n<v;n++){var Z=r[Q+n];if(Z>>>24==0)continue;
if(Z>>24==255&&f==1){Y[z+n]=Z;continue}var P=Y[z+n],V=(Z>>>24)*f*(1/255),I=(P>>>24)*(1/255),q=I*(1-V),X=V+q,B=Z&255,e=Z>>>8&255,F=Z>>>16&255,s=P&255,J=P>>>8&255,W=P>>>16&255;
m>>>=8;if((n&3)==0)m=k.l.tf(z+n+S);var L=X==0?0:1/X,A=Math.floor(X*(256*255))+(m&255)>>>8,j=Math.floor((F*V+W*q)*L+.5),G=Math.floor((e*V+J*q)*L+.5),O=Math.floor((B*V+s*q)*L+.5);
Y[z+n]=A<<24|j<<16|G<<8|O}}};k.l.xC=function(i,$,h,d,K,f,l,u){var U=k.DW(i,$,h),y=k.DW(d,K,f),a=Math.min,v=k.l.ajV,c=v(U,u,0);
c=a(c,v(i,u,8));c=a(c,v($,u,16));c=a(c,v(h,u,24));var p=v(y,u,4);p=a(p,v(d,u,12));p=a(p,v(K,u,20));p=a(p,v(f,u,28));
p=Math.max(p,1-l);var C=Math.min(c,p);return C<0?0:C>1?1:C};k.l.ajV=function(i,$,t){return Math.min((i-$[t])*$[t+1],(i-$[t+3])*$[t+2])};
k.l.auk=function(i,$,h,d,K,f,l,u){var U=1/255,y=U*f,a=u.I7?1:0,v=u.fill,c=u.style,p=$.Js(d).Js(K),C=Math.max(0,p.x-$.x),T=Math.max(0,p.x-d.x),E=Math.max(0,p.y-$.y),r=Math.max(0,p.y-d.y),Y=p.e,S=p.n,m=$.e,Q=d.e,z=new Uint32Array(i.buffer),n=new Uint32Array(h.buffer);
for(var t=0;t<S;t++){var Z=(E+t)*m+C,P=(r+t)*Q+T;for(var V=0;V<Y;V++,Z++,P++){var I=z[Z],L=1;if(I>>>24==0)continue;
var q=n[P],X=(I&255)*U,B=(I>>>8&255)*U,e=(I>>>16&255)*U,F=(q&255)*U,s=(q>>>8&255)*U,J=(q>>>16&255)*U,W=f;
if(a==0){W=(I>>>24)*y;L=(q>>>24)*U}if(u.vQ)W*=k.l.xC(X,B,e,F,s,J,L,u.vQ);var A=L*(1-W),j=W+A,G=j==0?0:255/j,O=c?1:W,o=((1-L)*W*X+(1-O)*L*F+O*L*l(X,F,(1+W-O)*v))*G,N=((1-L)*W*B+(1-O)*L*s+O*L*l(B,s,(1+W-O)*v))*G,w=((1-L)*W*e+(1-O)*L*J+O*L*l(e,J,(1+W-O)*v))*G;
j=W*v+L*(1-W*v);var kv=~~(j*255+.5);n[P]=a*(q>>>24)+(1-a)*kv<<24|w<<16|N<<8|o}}};k.l.aqp=function(i,$,h,d,K,f,l,u){var U=1/255,y=U*f,a=u.I7?1:0,v=$.Js(d).Js(K),c=Math.max(0,v.x-$.x),p=Math.max(0,v.x-d.x),C=Math.max(0,v.y-$.y),T=Math.max(0,v.y-d.y),E=v.e,r=v.n,Y=new Uint32Array(i.buffer),S=new Uint32Array(h.buffer),m={o:0,P:0,Z:0},Q={o:0,P:0,Z:0},z={o:0,P:0,Z:0};
for(var t=0;t<r;t++){var n=(C+t)*$.e+c,Z=(T+t)*d.e+p;for(var P=0;P<E;P++,n++,Z++){var V=Y[n],I=S[Z],q=(V&255)*U,X=(V>>>8&255)*U,B=(V>>>16&255)*U,e=(I&255)*U,F=(I>>>8&255)*U,s=(I>>>16&255)*U,J=f,W=1;
if(a==0){J=(V>>>24)*y;W=(I>>>24)*U}if(u.vQ)J*=k.l.xC(q,X,B,e,F,s,W,u.vQ);var L=W*(1-J),A=J+L,j=255/A;
m.o=q;m.P=X;m.Z=B;Q.o=e;Q.P=F;Q.Z=s;l(m,Q,z);var G=(((1-W)*q+W*z.o)*J+e*L)*j,O=(((1-W)*X+W*z.P)*J+F*L)*j,o=(((1-W)*B+W*z.Z)*J+s*L)*j,N=a*(I>>>24)+(1-a)*Math.round(A*255);
S[Z]=N<<24|o<<16|O<<8|G}}};k.l.Ks=function(i){i=i^61^i>>>16;i=i+(i<<3);i=i^i>>>4;i=i*668265261;i=i^i>>15;
return(i&16777215)*(1/16777215)};k.l.tf=function(i){i=i^61^i>>>16;i=i+(i<<3);i=i^i>>>4;i=i*668265261;
i=i^i>>>15;return i};k.l.S1=function(i){this.wj=i};k.l.S1.prototype.get=function(){var i=this.wj=k.l.tf(this.wj);
return(i&16777215)*(1/16777215)};k.l.ank=function(i,$,h,d,K,f,l,u){var U=1/255,y=U*f,a=Math.round(f*(256*256*256/255)),v=$.Js(d).Js(K),c=Math.max(0,v.x-$.x),p=Math.max(0,v.x-d.x),C=Math.max(0,v.y-$.y),T=Math.max(0,v.y-d.y),E=v.e,r=v.n,Y=new Uint32Array(i.buffer),S=new Uint32Array(h.buffer);
for(var t=0;t<r;t++){var m=(C+t)*$.e+c,Q=(T+t)*d.e+p;for(var z=0;z<E;z++,m++,Q++){var n=Y[m],Z=S[Q],P=u*255+(1-u)*(n>>>24);
if((k.l.tf(m)&16777215)>=P*a)continue;S[Q]=n&16777215|u*(Z>>>24)+(1-u)*255<<24}}};k.l.arF=function(i,$,h){for(var t=0;
t<i.length;t+=4){var d=h[t>>>2];if(d==0)continue;var K=d*(1/255),f=1/K,l=$[t],u=$[t+1],U=$[t+2],y=i[t],a=i[t+1],v=i[t+2];
$[t]=Math.min(255,Math.max(0,Math.round((l-(1-K)*y)*f)));$[t+1]=Math.min(255,Math.max(0,Math.round((u-(1-K)*a)*f)));
$[t+2]=Math.min(255,Math.max(0,Math.round((U-(1-K)*v)*f)));$[t+3]=255}};k.l.Zv=function(i,$,h,d,K,f,l,u,U,y,a){if(y==null)y=!1;
if(a==null)a=[1,1,1];var v=255<<24|a[2]*16711680|a[1]*65280|a[0]*255,c=~v;if(K&&!$.Rl(f)){var p=k.Q($.O()*4);
p.fill(l);k.Zc(K,f,p,$);K=p;f=$}if(y){if(K==null)k.l.ak7(i,$,h,d,K,u,U,v,c);else k.l.as9(i,$,h,d,K,u,U)}else{if(K==null)k.l.a7S(i,$,h,d,K,u,U,v,c);
else k.l.amA(i,$,h,d,K,u,U)}};k.l.a7S=function(i,$,h,d,K,f,l,u,U){var y=1/255,a=$.Js(d).Js(f),v=Math.max(0,a.x-$.x),c=Math.max(0,a.x-d.x),p=Math.max(0,a.y-$.y),C=Math.max(0,a.y-d.y),T=a.e,E=a.n,r=new Uint32Array(i.buffer),Y=new Uint32Array(h.buffer),S=k.l.qI,m=l*255&255;
for(var t=0;t<E;t++){var Q=(p+t)*$.e+v,z=(C+t)*d.e+c;for(var n=0;n<T;n++,Q++,z++){var Z=r[Q],P=Y[z],V=Z>>>24,I=P>>>24,q=k.Ft(m*V+(255-m)*I),X=k.Ft(V*m),B=k.Ft(I*(255-m)),e=Z&255,F=Z>>>8&255,s=Z>>>16&255,J=P&255,W=P>>>8&255,L=P>>>16&255,A=X*e+J*B,j=X*F+W*B,G=X*s+L*B;
A=S[q<<8|k.Ft(A)];j=S[q<<8|k.Ft(j)];G=S[q<<8|k.Ft(G)];var O=q<<24|G<<16|j<<8|A;Y[z]=U&P|u&O}}};k.l.ak7=function(i,$,h,d,K,f,l,u,U){var y=1/255,a=$.Js(d).Js(f),v=Math.max(0,a.x-$.x),c=Math.max(0,a.x-d.x),p=Math.max(0,a.y-$.y),C=Math.max(0,a.y-d.y),T=a.e,E=a.n,r=new Uint32Array(i.buffer),Y=new Uint32Array(h.buffer),S=k.l.qI,m=l*16777215&16777215;
for(var t=0;t<E;t++){var Q=(p+t)*$.e+v,z=(C+t)*d.e+c;for(var n=0;n<T;n++,Q++,z++){if((k.l.tf(Q)&16777215)<m){Y[z]=U&Y[z]|u&r[Q]}}}};
k.l.amA=function(i,$,h,d,K,f,l){var u=1/255,U=$.Js(d).Js(f),y=Math.max(0,U.x-$.x),a=Math.max(0,U.x-d.x),v=Math.max(0,U.y-$.y),c=Math.max(0,U.y-d.y),p=U.e,C=U.n,T=new Uint32Array(i.buffer),E=new Uint32Array(h.buffer),r=k.l.qI;
for(var t=0;t<C;t++){var Y=(v+t)*$.e+y,S=(c+t)*d.e+a;for(var m=0;m<p;m++,Y++,S++){var Q=K[Y]*l&255;if(Q==0)continue;
if(Q==255){E[S]=T[Y];continue}var z=T[Y],n=E[S],Z=z>>>24,P=n>>>24,V=k.Ft(Q*Z+(255-Q)*P),I=k.Ft(Z*Q),q=k.Ft(P*(255-Q)),X=z&255,B=z>>>8&255,e=z>>>16&255,F=n&255,s=n>>>8&255,J=n>>>16&255,W=r[V<<8|k.Ft(I*X+F*q)],L=r[V<<8|k.Ft(I*B+s*q)],A=r[V<<8|k.Ft(I*e+J*q)];
E[S]=V<<24|A<<16|L<<8|W}}};k.l.as9=function(i,$,h,d,K,f,l){var u=1/255,U=$.Js(d).Js(f),y=Math.max(0,U.x-$.x),a=Math.max(0,U.x-d.x),v=Math.max(0,U.y-$.y),c=Math.max(0,U.y-d.y),p=U.e,C=U.n,T=new Uint32Array(i.buffer),E=new Uint32Array(h.buffer),r=k.l.qI,Y=Math.round(l*257);
for(var t=0;t<C;t++){var S=(v+t)*$.e+y,m=(c+t)*d.e+a;for(var Q=0;Q<p;Q++,S++,m++){var z=K[S]*Y;if((k.l.tf(S)&65535)<z)E[m]=T[S]}}};
k.l.Z5=function(i,$,h,d,K,f,l){var u=1/255,U=$.Js(d).Js(f),y=Math.max(0,U.x-$.x),a=Math.max(0,U.x-d.x),v=Math.max(0,U.y-$.y),c=Math.max(0,U.y-d.y),p=U.e,C=U.n,T=new Uint32Array(i.buffer),E=new Uint32Array(h.buffer),r=Math.floor(Math.random()*d.O()),Y=k.l.ad3;
for(var t=0;t<C;t++){var S=(v+t)*$.e+y,m=(c+t)*d.e+a;for(var Q=0;Q<p;Q++){var z=K[S+Q]*l;if(z==0)continue;
if(z==255){E[m+Q]=T[S+Q];continue}var n=T[S+Q],Z=E[m+Q],P=n>>>24,V=Z>>>24,I=P*z*(1/255),q=V*(255-z)*(1/255),X=n&255,B=n>>>8&255,e=n>>>16&255,F=Z&255,s=Z>>>8&255,J=Z>>>16&255,W=k.l.tf(m+Q+r),L=Math.floor((I+q)*256+.5)+(W>>>0&255)>>>8,A=L==0?0:256/(I+q),j=X*I+F*q,G=B*I+s*q,O=e*I+J*q,o=Math.floor(j*A+.5)+(W>>>8&255)>>>8,N=Math.floor(G*A+.5)+(W>>>16&255)>>>8,w=Math.floor(O*A+.5)+(W>>>24&255)>>>8;
E[m+Q]=L<<24|w<<16|N<<8|o}}};k.l.ad3=function(i){return Math.floor(i+Math.random())};k.l.FS=function(i,$,h,d,K,f,l){var u=1/255,U=$.Js(d).Js(f),y=Math.max(0,U.x-$.x),a=Math.max(0,U.x-d.x),v=Math.max(0,U.y-$.y),c=Math.max(0,U.y-d.y),p=U.e,C=U.n;
for(var t=0;t<C;t++){var T=(v+t)*$.e+y,E=(c+t)*d.e+a;for(var r=0;r<p;r++,T++,E++){var Y=l*K[T]*u;if(Y==0)continue;
if(Y==1){h[E]=i[T];continue}h[E]=i[T]*Y+h[E]*(1-Y)}}};k.awl=function(){function i(f){var l=f*.85;return Math.exp(-(l*l)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function $(f,l){var u=f<l?1:i((f-l)/Math.pow(1.001-l,.86));
return u}var h=[];function d(f){if(h[f])return h[f];var l=Math.pow(f,.55),u=new Float64Array(8e3),U=0,y=8e3;
for(var t=0;t<8e3;t++){var a=$(t*(1.55/4e3),l);if(a>=1)U=t;else if(a<=0&&y==8e3)y=t;u[t]=a}var v=[u,U,y];
h[f]=v;return v}function K(f,l,u){var U=1+.55*(1-l),y=Math.round(u*f*U)+2,a=new bN(0,0,y,y),v=k.Q(y*y),c=[v,a],p=y/2,C=U/(p-1),T=Date.now(),E=d(l),r=Math.round(8e3/p),Y=E[0],S=E[1]-r,m=E[2]+r,Q=Math.min(y,y+1>>>1),z=C*.4*(4e3/1.55),n=k.Q(8e3);
for(var t=0;t<8e3;t++){var Z=t,P=t,V=~~Math.max(0,Z-z-z),I=~~Math.max(0,Z-z),q=~~(Z+z),X=~~(Z+z+z),B=~~(.5+255*(1/5)*(Y[P]+Y[V]+Y[I]+Y[q]+Y[X]));
n[t]=B;if(B==0)break}for(var t=0;t<Q;t++){var e=C*(t-p+.5),F=e*e,s=t*y,J=(y-1-t)*y;for(var W=0;W<Q;W++){var L=C*(W-p+.5),P=~~(Math.sqrt(L*L+F)*(4e3/1.55));
if(m<P)continue;else if(P<S){var B=255;while(W<Q){var A=y-1-W;v[s+W]=B;v[s+A]=B;v[J+W]=B;v[J+A]=B;W++}break}else{var B=n[P],A=y-1-W;
v[s+W]=B;v[s+A]=B;v[J+W]=B;v[J+A]=B}}}return c}return{au6:K}}();k.AU={};k.AU.avk=function(i,$,h,d,K,f){k.AU.Xl(i,$,h,d,K,f,null,0)};
k.AU.aeB=function(i,$,h,d,K){k.AU.Xl(i,$,h,d,K,null,null,0)};k.AU.a46=function(i,$,h,d,K,f,l){k.AU.Xl(i,$,h,d,K,null,f,l*.5)};
k.AU.Xl=function(i,$,h,d,K,f,l,u){var U=0,q=0,X=1e9,B=0,e=1e9,F=0,s=1e9,J=0,W=0,L=0,A=0;if(f){U=K*.5;
K=3+Math.round((K-3)*.75)}if(l){K=Math.round(K*2.2)}var y=1/K,a=Math.floor($*y)+1,v=Math.floor(h*y)+1,c=[],p=new Uint8Array(a*v*4),C=l?.5:1,T=f?64:0;
for(var E=0;E<v;E++){var r=l?.5*(E&1):0;for(var Y=0;Y<a;Y++){var S=(Y+Math.random()*C+r)*K,m=(E+Math.random()*C)*K;
c.push(S,m);var Q=Math.min($-1,Math.floor(S)),z=Math.min(h-1,Math.floor(m)),n=(z*$+Q)*4,Z=(E*a+Y)*4;
for(var t=0;t<4;t++)p[Z+t]=Math.max(0,Math.min(255,Math.floor(i[n+t]+(Math.random()-.5)*T)))}}var P=f?f:l?l:[0,0,0],V=a*v*2,I=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1];
for(var E=0;E<h;E++){L=0;for(var Y=0;Y<$;Y++){var j=Y+.5,G=E+.5,O=Math.floor(G*y),o=Math.floor(j*y),N=O*a+o,g=0,b=0;
if(L>1+u){X=k.AU.fr(c,q,j,G);J=Math.sqrt(X);L--;A++}else{X=e=s=1e9;for(var t=0;t<I.length;t++){var w=(N+I[t])*2;
if(w<0||w>=V)continue;var kv=k.AU.fr(c,w,j,G);if(kv<s){if(kv<e){if(kv<X){F=B;s=e;B=q;e=X;q=w;X=kv}else{F=B;
s=e;B=w;e=kv}}else{F=w;s=kv}}}J=Math.sqrt(X);W=Math.sqrt(e);L=W-(J+W)*.5}if(l==null){var jU=(J+W)*.5,_=f?Math.max(0,jU-U):0;
g=Math.max(0,Math.min(1,.5+jU-J-_));b=Math.max(0,Math.min(1,1-(.5+jU-J)-_))}else{var cY=Math.min(k.AU.g$(c,q,B,j,G),k.AU.g$(c,q,F,j,G));
g=Math.max(0,Math.min(1,cY-u*.5));if(j<u||$-u<j||G<u||h-u<G)g=0;b=0}var j3=1-b-g,Z=E*$+Y<<2,aS=q<<1,el=B<<1;
d[Z+0]=Math.floor(.5+g*p[aS+0]+b*p[el+0]+j3*P[0]);d[Z+1]=Math.floor(.5+g*p[aS+1]+b*p[el+1]+j3*P[1]);
d[Z+2]=Math.floor(.5+g*p[aS+2]+b*p[el+2]+j3*P[2]);d[Z+3]=i[Z+3]}}};k.AU.fr=function(i,$,h,d){var K=h-i[$],f=d-i[$+1];
return K*K+f*f};k.AU.g$=function(i,$,h,d,K){var f=i[$],l=i[$+1],u=i[h],U=i[h+1],y=(f+u)*.5,a=(l+U)*.5,v=y+(U-l),c=a-(u-f),p=c-a,C=v-y;
return Math.abs(p*d-C*K+v*a-c*y)/Math.sqrt(C*C+p*p)};k.$A={};k.$A._7=function(i){if(k.$A.sz.length<i)k.$A.sz=k.Q(i);
return k.$A.sz};k.$A.sz=k.Q(0);k.$A.qr=function(i){if(k.$A.e_.length<i)k.$A.e_=new Float32Array(i);return k.$A.e_};
k.$A.e_=new Float32Array(0);k.$A.WJ=function(i,$,h,d){var K=h.e,f=h.n;k.$A.abb(i,$,K,f,d)};k.$A.L6=function(i,$,h,d){var K=h.e,f=h.n;
k.$A.asA(i,$,K,f,d)};k.$A.Mb=function(i,$,h){var d=$.e,K=$.n;k.$A.atd(i,d,K,h)};k.$A.jl=function(i,$,h,d,K){var f=h.e,l=h.n;
k.$A.a2D(i,$,f,l,d,K)};k.$A.Zd=function(i,$,h,d){var K=h.e,f=h.n;d=Math.round(d);var l=k.$A._7(K*f);
k.pv(i,$);k.$A.EH($,l,K,f,d)};k.$A.Pk=function(i,$,h){var d=$.e,K=$.n;h=Math.round(h);var f=k.$A._7(d*K*4);
k.$A.r$(i,f,d,K,h)};k.$A.E1=function(i,$,h,d){var K=h.e,f=h.n;d=Math.round(d);var l=k.$A.qr(K*f);k.pv(i,$);
k.$A.h2($,l,K,f,d)};k.$A.zh=function(i,$,h){var d=$.e,K=$.n;h=Math.round(h);var f=k.$A._7(d*K*4);k.$A.CH(i,f,d,K,h);
k.pv(f,i)};k.$A.fa=function(i,b4){var $=Math.sqrt(12*i*i/b4+1),h=Math.floor($);if(h%2==0)h--;var d=h+2,K=(12*i*i-b4*h*h-4*b4*h-3*b4)/(-4*h-4),f=Math.round(K),l=[];
for(var t=0;t<b4;t++)l.push(t<f?h:d);return l};k.$A.abb=function(i,$,h,d,K){var f=k.$A.fa(K,3),l=k.$A._7(h*d);
k.pv(i,$);k.$A.EH($,l,h,d,f[0]-1>>1);k.$A.EH($,l,h,d,f[1]-1>>1);k.$A.EH($,l,h,d,f[2]-1>>1)};k.$A.asA=function(i,$,h,d,K){var f=k.$A.fa(K,2),l=k.$A._7(h*d);
k.pv(i,$);k.$A.EH($,l,h,d,f[0]-1>>1);k.$A.EH($,l,h,d,f[1]-1>>1)};k.$A.atd=function(i,$,h,d){var K=k.$A.fa(d,3),f=k.$A._7($*h*4);
k.$A.r$(i,f,$,h,K[0]-1>>1);k.$A.r$(i,f,$,h,K[1]-1>>1);k.$A.r$(i,f,$,h,K[2]-1>>1)};k.$A.a2D=function(i,$,h,d,K,f){if(f==null)f=3;
var l=k.$A.fa(K,f),u=k.$A.qr(h*d);k.pv(i,$);for(var t=0;t<f;t++)k.$A.h2($,u,h,d,(l[t]-1)/2)};k.$A.EH=function(i,$,h,d,K){k.$A.atr(i,$,h,d,K);
k.$A.ahj($,i,h,d,K)};k.$A.r$=function(i,$,h,d,K){k.$A.CH(i,$,h,d,K);k.$A.avx($,i,h,d,K)};k.$A.h2=function(i,$,h,d,K){k.$A.aa1(i,$,h,d,K);
k.$A.ax5($,i,h,d,K)};k.$A.Qn=[];k.$A.ZC=function(i){if(k.$A.Qn[i])return k.$A.Qn[i];var $=1/(i+i+1),h=(i+i+1)*256,d=k.Q(h);
for(var t=0;t<h;t++)d[t]=Math.round(t*$);k.$A.Qn[i]=d;return d};k.$A.atr=function(i,$,h,d,K){var f=1/(K+K+1),l=h-K-K-1,u=k.$A.ZC(K);
for(var t=0;t<d;t++){var U=t*h,y=U,a=U+K,v=i[U],c=i[U+h-1],p=(K+1)*v;for(var C=0;C<K;C++)p+=i[U+C];for(var C=0;
C<=K;C++){p+=i[a+C]-v;$[U+C]=u[p]}a+=K+1;U+=K+1;for(var C=0;C<l;C++){p+=i[a+C]-i[y+C];$[U+C]=u[p]}a+=l;
y+=l;U+=l;for(var C=h-K;C<h;C++){p+=c-i[y++];$[U++]=u[p]}}};k.$A.CH=function(i,$,h,d,K){var f=h<<2,l=K<<2,u=1/(K+K+1),U=h-K-K-1,y=U<<2,a=k.$A.ZC(K);
for(var t=0;t<d;t++){var v=t*f,c=v,p=v+l,C=v+f,T=i[v],E=i[v+1],r=i[v+2],Y=i[v+3],S=(K+1)*T,m=(K+1)*E,Q=(K+1)*r,z=(K+1)*Y;
for(var n=0;n<l;n+=4){S+=i[v+n];m+=i[v+n+1];Q+=i[v+n+2];z+=i[v+n+3]}for(var n=0;n<=l;n+=4){S+=i[p]-T;
$[v]=a[S];m+=i[p+1]-E;$[v+1]=a[m];Q+=i[p+2]-r;$[v+2]=a[Q];z+=i[p+3]-Y;$[v+3]=a[z];p+=4;v+=4}for(var n=0;
n<y;n+=4){S+=i[p+n]-i[c+n];$[v+n]=a[S];m+=i[p+n+1]-i[c+n+1];$[v+n+1]=a[m];Q+=i[p+n+2]-i[c+n+2];$[v+n+2]=a[Q];
z+=i[p+n+3]-i[c+n+3];$[v+n+3]=a[z]}p+=y;c+=y;v+=y;T=i[C-4];E=i[C-3];r=i[C-2];Y=i[C-1];for(var n=h-K;
n<h;n++){S+=T-i[c];$[v]=a[S];m+=E-i[c+1];$[v+1]=a[m];Q+=r-i[c+2];$[v+2]=a[Q];z+=Y-i[c+3];$[v+3]=a[z];
c+=4;v+=4}}};k.$A.aa1=function(i,$,h,d,K){var f=1/(K+K+1),l=h-K-K-1;for(var t=0;t<d;t++){var u=t*h,U=u,y=u+K,a=i[u],v=i[u+h-1],c=(K+1)*a;
for(var p=0;p<K;p++)c+=i[u+p];for(var p=0;p<=K;p++){c+=i[y+p]-a;$[u+p]=c*f}y+=K+1;u+=K+1;for(var p=0;
p<l;p++){c+=i[y+p]-i[U+p];$[u+p]=c*f}y+=l;U+=l;u+=l;for(var p=h-K;p<h;p++){c+=v-i[U++];$[u++]=c*f}}};
k.$A.ahj=function(i,$,h,d,K){var f=1/(K+K+1),l=d-K-K-1,u=k.$A.ZC(K);for(var t=0;t<h;t++){var U=t,y=U,a=U+K*h,v=i[U],c=i[U+h*(d-1)],p=(K+1)*v;
for(var C=0;C<K;C++)p+=i[U+C*h];for(var C=0;C<=K;C++){p+=i[a]-v;$[U]=u[p];a+=h;U+=h}for(var C=0;C<l;
C++){var T=C*h;p+=i[a+T]-i[y+T];$[U+T]=u[p]}y+=l*h;a+=l*h;U+=l*h;for(var C=d-K;C<d;C++){p+=c-i[y];$[U]=u[p];
y+=h;U+=h}}};k.$A.avx=function(i,$,h,d,K){var f=h<<2,l=K<<2,u=1/(K+K+1),U=d-K-K-1,y=U<<2,a=k.$A.ZC(K);
for(var t=0;t<h;t++){var v=t<<2,c=v,p=v+K*f,C=v+f*(d-1),T=i[v],E=i[v+1],r=i[v+2],Y=i[v+3],S=(K+1)*T,m=(K+1)*E,Q=(K+1)*r,z=(K+1)*Y;
for(var n=0;n<K;n++){var Z=v+n*f;S+=i[Z];m+=i[Z+1];Q+=i[Z+2];z+=i[Z+3]}for(var n=0;n<=K;n++){S+=i[p]-T;
$[v]=a[S];m+=i[p+1]-E;$[v+1]=a[m];Q+=i[p+2]-r;$[v+2]=a[Q];z+=i[p+3]-Y;$[v+3]=a[z];p+=f;v+=f}for(var n=0;
n<U;n++){var P=n*f;S+=i[p+P]-i[c+P];$[v+P]=a[S];m+=i[p+P+1]-i[c+P+1];$[v+P+1]=a[m];Q+=i[p+P+2]-i[c+P+2];
$[v+P+2]=a[Q];z+=i[p+P+3]-i[c+P+3];$[v+P+3]=a[z]}c+=U*f;p+=U*f;v+=U*f;T=i[C];E=i[C+1];r=i[C+2];Y=i[C+3];
for(var n=d-K;n<d;n++){S+=T-i[c];$[v]=a[S];m+=E-i[c+1];$[v+1]=a[m];Q+=r-i[c+2];$[v+2]=a[Q];z+=Y-i[c+3];
$[v+3]=a[z];c+=f;v+=f}}};k.$A.ax5=function(i,$,h,d,K){var f=1/(K+K+1),l=d-K-K-1;for(var t=0;t<h;t++){var u=t,U=u,y=u+K*h,a=i[u],v=i[u+h*(d-1)],c=(K+1)*a;
for(var p=0;p<K;p++)c+=i[u+p*h];for(var p=0;p<=K;p++){c+=i[y]-a;$[u]=c*f;y+=h;u+=h}for(var p=0;p<l;p++){var C=p*h;
c+=i[y+C]-i[U+C];$[u+C]=c*f}U+=l*h;y+=l*h;u+=l*h;for(var p=d-K;p<d;p++){c+=v-i[U];$[u]=c*f;U+=h;u+=h}}};
k.X2={};k.X2.Q=function(i,$,h,d){var K=[];for(var f=0;f<4;f++)for(var l=0;l<4;l++)K.push(i+h*l/3,$+d*f/3);
return K};k.X2.uV=function(i,$){var h=i.slice(0);for(var t=0;t<4;t++)for(var d=0;d<4;d++){var K=2*(t*4+d),f=2*(d*4+(3-t));
if($){var l=K;K=f;f=l}h[f]=i[K];h[f+1]=i[K+1]}return h};k.X2._b=k.Q(0);k.X2.drawImage=function(i,$,h,d,K,f,l){var u=!1,U=Date.now(),y=2,a=h+2*y,v=d+2*y,c=new bN(y,y,h,d),p=c.clone(),Y=50;
p.ol(y,y);var C=k.X2._b;if(C.length!=p.O()*4)C=k.X2._b=k.Q(p.O()*4);else C.fill(0);k.mC($,c,C,p);if(u)console.log(Date.now()-U,"copy rect");
U=Date.now();k.Ki(C);if(u)console.log(Date.now()-U,"multiply alpha");U=Date.now();var T=[],E=[],r=[];
for(var S=0;S<Y+1;S++)for(var m=0;m<Y+1;m++){var Q=m/Y,z=S/Y;T.push(a*Q,v*z);if(m<Y&&S<Y){var n=S*(Y+1)+m,Z=n+1,P=n+Y+1,V=P+1;
E.push(n,Z,P);E.push(P,Z,V)}var I=k.X2.asl(i,Q,z);r.push(-I)}var q=T.slice(0);k.X2.D(i,q,new bN(y,y,h,d));
k.p.D(q,new ej(1,0,0,1,-f.x,-f.y),q);if(u)console.log(Date.now()-U,"mesh built");U=Date.now();var X=f.e,B=f.n;
k.AF.vi(C,a,v,K,X,B,T,q,r,E);if(u)console.log(Date.now()-U,"rendered");U=Date.now();k.ZG(K);if(u)console.log(Date.now()-U,"divided");
U=Date.now()};k.X2.XO=new Array(10);k.X2.a0$=function(i,$){var h=200,d=0,K=0,f=1e9,l=k.X2.XO;for(var u=0;
u<h+1;u++)for(var U=0;U<h+1;U++){var y=U/h,a=u/h;k.X2.WP(i,y,a,l);var v=l[8]-$.x,c=l[9]-$.y,p=v*v+c*c;
if(p<f){f=p;d=y;K=a}}return[d,K]};k.X2.D=function(i,$,h){var d=h.x,K=h.y,f=1/h.e,l=1/h.n,u=k.X2.XO;for(var U=0;
U<$.length;U+=2){var y=($[U]-d)*f,a=($[U+1]-K)*l;k.X2.WP(i,y,a,u);$[U]=u[8];$[U+1]=u[9]}};k.X2.asl=function(i,$,h){var d,K,f,l,u=k.X2.XO;
k.X2.alB(i,$,h,u);d=u[8];K=u[9];k.X2.a7K(i,$,h,u);f=u[8];l=u[9];return d*l-K*f};k.X2.WP=function(i,$,h,d){k.X2.Z_(d,0,h);
k.X2.Z_(d,4,$);k.X2.fj(i,d)};k.X2.alB=function(i,$,h,d){k.X2.Z_(d,0,h);k.X2.mi(d,4,$);k.X2.fj(i,d)};
k.X2.a7K=function(i,$,h,d){k.X2.mi(d,0,h);k.X2.Z_(d,4,$);k.X2.fj(i,d)};k.X2.mi=function(i,t,$){var h=1-$;
i[t]=-3*(h*h);i[t+1]=3*(h*h)-6*($*h);i[t+2]=6*($*h)-3*($*$);i[t+3]=3*($*$)};k.X2.Z_=function(i,t,$){var h=1-$;
i[t]=h*(h*h);i[t+1]=3*$*(h*h);i[t+2]=3*($*$)*h;i[t+3]=$*$*$};k.X2.fj=function(i,$){var h=0,d=0,K=0,f=$[0],l=$[1],u=$[2],U=$[3],y=$[4],a=$[5],v=$[6],c=$[7];
K=f*y;h+=i[0]*K;d+=i[1]*K;K=f*a;h+=i[2]*K;d+=i[3]*K;K=f*v;h+=i[4]*K;d+=i[5]*K;K=f*c;h+=i[6]*K;d+=i[7]*K;
K=l*y;h+=i[8]*K;d+=i[9]*K;K=l*a;h+=i[10]*K;d+=i[11]*K;K=l*v;h+=i[12]*K;d+=i[13]*K;K=l*c;h+=i[14]*K;d+=i[15]*K;
K=u*y;h+=i[16]*K;d+=i[17]*K;K=u*a;h+=i[18]*K;d+=i[19]*K;K=u*v;h+=i[20]*K;d+=i[21]*K;K=u*c;h+=i[22]*K;
d+=i[23]*K;K=U*y;h+=i[24]*K;d+=i[25]*K;K=U*a;h+=i[26]*K;d+=i[27]*K;K=U*v;h+=i[28]*K;d+=i[29]*K;K=U*c;
h+=i[30]*K;d+=i[31]*K;$[8]=h;$[9]=d};k.Tf={};k.Tf.aqU=function(i,$,h){var d=Date.now(),K=new ArrayBuffer($*h*16),f=k.Tf.a7I(i,$,h,K),l=k.Tf.aqy($,h,K);
return{fT:l,AP:f}};k.Tf.apH=function(i,$,h){var d=Math.round(i.length/8),K=new Uint32Array(d),f=new Uint8Array(d),l=new Uint32Array(d);
k.MK(K,4294967295,0);K[h]=0;var u=new dg(d);u.push(h,K[h]);var U={fT:i,AP:$,u4:K,k4:f,cM:l,GE:u,a75:h};
return U};k.Tf.JR=function(i,$){var h=i.fT,d=i.AP,K=i.u4,f=i.k4,l=i.cM,u=i.GE;while(!u.NT()&&($==null||f[$]==0)){var U=u.pop();
f[U]=1;for(var t=0;t<8;t++){var y=h[8*U+t],a=U+y;if(y==0||f[a])continue;var v=K[U]+d[8*U+t];if(u.contains(a)&&v<K[a])u.remove(a,K[a]);
if(!u.contains(a)){K[a]=v;l[a]=U;u.push(a,K[a])}}}};function dg(i){this.xL=new Uint32Array(i);this.list=[];
this.bN=0;this.zf=4294967295}dg.prototype.NT=function(){return this.bN==0};dg.prototype.push=function(i,$){var h=this.list;
if(h[$]==null)h[$]=[];h[$].push(i);this.bN++;this.xL[i]=h[$].length-1+1;this.zf=Math.min(this.zf,$)};
dg.prototype.pop=function(){this.bN--;var i=this.list,$=this.zf,h=i[$].pop();if(i[$].length==0)i[$]=null;
this.V$();this.xL[h]=0;return h};dg.prototype.contains=function(i){return this.xL[i]!=0};dg.prototype.remove=function(i,$){this.bN--;
var h=this.list,t=this.xL[i]-1;if(t==h[$].length-1)h[$].pop();else{var d=h[$].pop();h[$][t]=d;this.xL[d]=t+1}if(h[$].length==0)h[$]=null;
this.xL[i]=0;this.V$()};dg.prototype.V$=function(){if(this.bN==0){this.zf=4294967295;return}var i=this.zf,$=this.list;
while($[i]==null)i++;this.zf=i};k.Tf.aio=function(i,$,h,d){var K=new Int16Array(d);for(var f=0;f<h;f++)for(var l=0;
l<$;l++){var t=f*$+l,u=0;if(1<l&&l<$-2&&1<f&&f<h-2){u+=i[t-$-$];u+=i[t-$-1]+2*i[t-$]+i[t-$+1];u+=i[t-2]+2*i[t-1]-16*i[t]+2*i[t+1]+i[t+2];
u+=i[t+$-1]+2*i[t+$]+i[t+$+1];u+=i[t+$+$]}else u=-16*i[t];K[t]=u}return K};k.Tf.anw=function(i,$,h,d){if(d==null)d=128;
var K=new Uint8Array($*h);for(var f=1;f<h-1;f++)for(var l=1;l<$-1;l++){var t=f*$+l;K[t]=k.Tf.ap_(i[t],i[t-1],i[t+1],i[t-$],i[t+$],d)}return K};
k.Tf.ap_=function(i,$,h,d,K,f){var l=Math.abs(i);return i*$<0&&l<Math.abs($)&&Math.abs($-i)>f||i*h<0&&l<Math.abs(h)&&Math.abs(h-i)>f||i*d<0&&l<Math.abs(d)&&Math.abs(d-i)>f||i*K<0&&l<Math.abs(K)&&Math.abs(K-i)>f?1:0};
k.Tf.a9I=function(i,$,h,d){var K=new Float32Array(d),f=0;new Uint32Array(d).fill(0);for(var l=0;l<h;
l++)for(var u=0;u<$;u++){var U=0,y=0,t=l*$+u,a=t*3;if(0<u&&u<$-1)U=i[t+1]-i[t-1];if(0<l&&l<h-1)y=i[t+$]-i[t-$];
var v=K[a+2]=Math.sqrt(U*U+y*y);if(v!=0){var c=1/v;K[a]=U*c;K[a+1]=y*c}if(v>f)f=v}var p=$*h,C=f==0?0:1/f;
for(var t=0;t<p;t++)K[t*3+2]=1-K[t*3+2]*C;return K};k.Tf.acE=function(i,$,h){return h[~~((.5+.5*i)*255)]+h[~~((.5+.5*$)*255)]};
k.Tf.a7I=function(i,$,h,d){var K=Date.now(),f=k.Tf.aio(i,$,h,d),l=k.Tf.anw(f,$,h),u=k.Tf.a9I(i,$,h,d),U=new Float32Array(256);
for(var t=0;t<256;t++)U[t]=Math.acos(-1+2*t/255)*(.95/Math.PI);var y=[-1,0,1,1,1,0,-1,-1],a=[-1,-1,-1,0,1,1,1,0];
for(var t=0;t<8;t++){var v=1/Math.sqrt(y[t]*y[t]+a[t]*a[t]);y[t]*=v;a[t]*=v}var c=[y[0],a[0],y[1],a[1],y[2],a[2],y[3],a[3]],p=[-$-1,-$,-$+1,1],C=new Uint8Array($*h*8);
new Uint32Array(C.buffer).fill(4294967295);var T=$*h;for(var E=1;E<h-1;E++)for(var r=1;r<$-1;r++){var Y=E*$+r,S=1-l[Y],m=u[Y*3+2],Q=u[3*Y+1],z=-u[3*Y];
for(var n=0;n<4;n++){var Z=Y+p[n];k.Tf.akW(Y,Z,n,C,l,u,S,m,Q,z,c,U)}}return C};k.Tf.akW=function(i,$,h,d,K,f,l,u,U,y,a,v){var c=1-K[$],p=(h&1)==0?1:Math.SQRT1_2,C=f[$*3+2]*p,T=f[3*$+1],E=-f[3*$],r=u*p,Y=a[h+h],S=a[h+h+1],m=U*Y+y*S,Q=T*Y+E*S;
if(m+Q<0){m=-m;Q=-Q}var z=k.Tf.acE(m,Q,v);d[(i<<3)+h]=k.Tf.P8(c,z,C);d[($<<3)+h+4]=k.Tf.P8(l,z,r)};k.Tf.P8=function(i,$,h){return 1+~~(.5+20*(.43*i+.43*$+.14*h))};
k.Tf.aqy=function(i,$,h){var d=new Int16Array(h),K=d,t=0,f=0;new Uint32Array(h).fill(0);for(var l=0;
l<$;l++)for(var u=0;u<i;u++){if(l>0&&u>0)K[f+0]=-i-1;if(l>0)K[f+1]=-i;if(l>0&&u<i-1)K[f+2]=-i+1;if(u<i-1)K[f+3]=1;
if(l<$-1&&u<i-1)K[f+4]=i+1;if(l<$-1)K[f+5]=i;if(l<$-1&&u>0)K[f+6]=i-1;if(u>0)K[f+7]=-1;t++;f+=8}return d};
k.KN={};k.KN.t_=function(i){var $=i.slice(0),h=0;for(var t=0;t<i.length;t++)h+=i[t];for(var t=0;t<i.length;
t++)$[t]/=h;return $};k.KN.w6=[k.KN.t_([1,2,1,2,16,2,1,2,1]),k.KN.t_([1,2,1,2,4,2,1,2,1]),k.KN.t_([0,-1,0,-1,8,-1,0,-1,0]),k.KN.t_([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
k.KN.mj=function(i,$,h,d,K,f,l,u){if(l==null)l=!1;if(u==null)u=!1;var U=Math.floor(Math.sqrt(K.length)),y=U-1>>>1,a=new Uint32Array(i.buffer),$=new Uint8ClampedArray($.buffer);
for(var t=0;t<d;t++)for(var v=0;v<h;v++){var c=0,p=0,C=0,T=0;for(var E=0;E<U;E++)for(var r=0;r<U;r++){var Y=K[E*U+r];
if(Y==0)continue;var S=v-y+r,m=t-y+E;if(S<0)S=0;else if(S>h-1)S=h-1;if(m<0)m=0;else if(m>d-1)m=d-1;if(u&&a[m*h+S]>>>24==0){m=t;
S=v}var Q=a[m*h+S];c+=(Q&255)*Y;p+=(Q>>>8&255)*Y;C+=(Q>>>16&255)*Y;T+=(Q>>>24&255)*Y}if(l){if(c<0)c=-c;
if(p<0)p=-p;if(C<0)C=-C;if(T<0)T=-T}if(u){c=Math.max(0,Math.min(255,c));p=Math.max(0,Math.min(255,p));
C=Math.max(0,Math.min(255,C));T=Math.max(0,Math.min(255,T))}var z=t*h+v<<2;$[z]=~~(.5+c);$[z+1]=~~(.5+p);
$[z+2]=~~(.5+C);$[z+3]=255-f&$[z+3]|f&~~(.5+T)}};k.KN.HW=function(i,$,h,d){var K=i.length,f=new Uint8Array(K);
k.KN.mj(i,$,h,d,k.KN.w6[4],0,!0);k.KN.mj(i,f,h,d,k.KN.w6[5],0,!0);for(var t=0;t<K;t+=4){var l=$[t],u=$[t+1],U=$[t+2],y=$[t+3],a=f[t],v=f[t+1],c=f[t+2],p=f[t+3];
$[t]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+a*a)));$[t+1]=255-Math.max(0,Math.min(255,Math.sqrt(u*u+v*v)));
$[t+2]=255-Math.max(0,Math.min(255,Math.sqrt(U*U+c*c)))}};k.KN.$N=function(i,$,h,d){var K=i.length,f=new Uint8Array(K);
k.KN.$r(i,$,h,d,k.KN.w6[4],!0);k.KN.$r(i,f,h,d,k.KN.w6[5],!0);for(var t=0;t<K;t++){var l=$[t],u=f[t];
$[t]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+u*u)))}};k.KN.$r=function(i,$,h,d,K,f){$=new Uint8ClampedArray($.buffer);
var l=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],u=d-1,U=h-1;for(var t=1;t<u;t++)for(var y=1;y<U;y++){var a=t*h+y,v=k.KN.W6(i,a,h,K);
if(f){if(v<0)v=-v}$[a]=~~(v+.5)}};k.KN.W6=function(i,$,h,d){return i[$-h-1]*d[0]+i[$-h]*d[1]+i[$-h+1]*d[2]+i[$-1]*d[3]+i[$]*d[4]+i[$+1]*d[5]+i[$+h-1]*d[6]+i[$+h]*d[7]+i[$+h+1]*d[8]};
k.KN.KR=function(i,$,h,d,K){var f=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],l=d-1,u=h-1;for(var t=1;t<l;t++)for(var U=1;
U<u;U++){var y=t*h+U;$[y]=k.KN.arq(i,y,h,K)}};k.KN.arq=function(i,$,h,d){return i[$-h-1]*d[0]+i[$-h]*d[1]+i[$-h+1]*d[2]+i[$-1]*d[3]+i[$]*d[4]+i[$+1]*d[5]+i[$+h-1]*d[6]+i[$+h]*d[7]+i[$+h+1]*d[8]};
k._G={};k._G.tu=function(){function i(l,u,U,y,a,v,c){if(a==0){u.set(l);return}var p=k.Q(U*y),C=k.Q(U*y);
if(k.ym(l)){$(l,u,U,y,a,v,c);var T=[k._G.eT,k._G.gS],E=T.indexOf(v),r=E!=-1?T[1-E]:v;k.pO(l,p,3);k._G.nB(p,C,U,y,a,r,c);
k.k1(C,u,3)}else{for(var t=0;t<3;t++){k.pO(l,p,t);k._G.nB(p,C,U,y,a,v,c);k.k1(C,u,t)}}}function $(l,u,U,y,a,v,c){var p=0,C=new ArrayBuffer(512*4*3),T=[new Int32Array(C,0),new Int32Array(C,2048),new Int32Array(C,2*2048)],E=1+2*Math.round(Math.sqrt(a)),r=E>>>1,Y=new Array(E),S=new Array(E);
for(var t=0;t<E;t++){var C=new ArrayBuffer(512*4*3);Y[t]=[new Int32Array(C,0),new Int32Array(C,2048),new Int32Array(C,2*2048)];
S[t]=Y[t][0]}var m=v[0],Q=v[1],z=T[0];for(var n=0;n<U;n++)if(n<a||n>U-a-E-1){z.fill(0);var Z=Math.max(n-a,0),P=Math.min(U,n+a+1),V=P-Z;
for(var I=0;I<a;I++)d(z,l,I*U+Z,I*U+P,1);for(var I=0;I<y;I++){var q=I-a-1,X=I+a;if(X<y)d(z,l,X*U+Z,X*U+P,1);
if(q>=0)d(z,l,q*U+Z,q*U+P,-1);var B=I*U+n<<2;p=z[300];if(p!=0)for(var t=0;t<3;t++)u[B+t]=m(T[t],l[B+t],p,c)}}else{for(var t=0;
t<E;t++)S[t].fill(0);var Z=n-a+r,P=n+a+1+r;for(var I=0;I<a;I++)h(S,l,I*U+Z,I*U+P,1,r);for(var I=0;I<y;
I++){var q=I-a-1,X=I+a;if(q>=0)h(S,l,q*U+Z,q*U+P,-1,r);if(X<y)h(S,l,X*U+Z,X*U+P,1,r);var e=Y[r];p=e[0][300];
for(var t=0;t<r;t++){var F=r-1-t,s=r+1+t,J=Y[F],W=Y[s],L=p+J[0][300],A=p+W[0][300],j=I*U+n+F<<2,G=I*U+n+s<<2;
if(L!=0)for(var O=0;O<3;O++)u[j+O]=Q(e[O],J[O],l[j+O],L,c);if(A!=0)for(var O=0;O<3;O++)u[G+O]=Q(e[O],W[O],l[G+O],A,c)}var B=I*U+n+r<<2;
if(p!=0)for(var O=0;O<3;O++)u[B+O]=m(e[O],l[B+O],p,c)}n+=E-1}}function h(l,u,U,y,a,v){var c=K,p=U<<2,C=y<<2;
c(l[v-1],u,U-1<<2,a);c(l[v-1],u,y-1<<2,-a);c(l[v+1],u,y<<2,a);c(l[v+1],u,U<<2,-a);for(var t=1;t<v;t++){var T=l[v-t-1],E=l[v+t+1];
for(var r=0;r<=t;r++){var Y=r<<2;c(T,u,U-1-r<<2,a);c(T,u,y-1-r<<2,-a);c(E,u,y+r<<2,a);c(E,u,U+r<<2,-a)}}d(l[v],u,U,y,a)}function d(l,u,t,U,y){var a=t<<2,v=U<<2;
while(a<v){K(l,u,a,y);a+=4}}function K(l,u,U,y){var a=y*u[U+3];l[300]+=a;f(l,u[U],0,a);f(l,u[U+1],512,a);
f(l,u[U+2],1024,a)}function f(l,u,U,y){l[U|u]+=y;l[U|256|u>>>4]+=y}return i}();k._G.nB=function(){function i(v,c,p,C,T,E,r){if(T==0){c.set(v);
return}if(T<=80)$(v,c,p,C,T,E,r);else f(v,c,p,C,T,E,r)}function $(v,c,p,C,T,E,r){var Y=0,S=new Int32Array(512),m=1+2*Math.round(Math.sqrt(T)),Q=m>>>1,z=new Array(m);
for(var t=0;t<m;t++)z[t]=new Int32Array(512);var n=E[0],Z=E[1];for(var P=0;P<p;P++)if(P<T||P>p-T-m-1){S.fill(0);
Y=0;var V=Math.max(P-T,0),I=Math.min(p,P+T+1),q=I-V;for(var X=0;X<T;X++){Y+=q;d(S,v,X*p+V,X*p+I,1)}for(var X=0;
X<C;X++){var B=X-T-1,e=X+T;if(B>=0){Y-=q;d(S,v,B*p+V,B*p+I,-1)}if(e<C){Y+=q;d(S,v,e*p+V,e*p+I,1)}var F=n(S,v[X*p+P],Y,r);
c[X*p+P]=F}}else{for(var t=0;t<m;t++)z[t].fill(0);Y=0;var V=P-T+Q,I=P+T+1+Q,q=I-V;for(var X=0;X<T;X++){Y+=q;
h(z,v,X*p+V,X*p+I,1,Q)}for(var X=0;X<C;X++){var B=X-T-1,e=X+T;if(B>=0){Y-=q;h(z,v,B*p+V,B*p+I,-1,Q)}if(e<C){Y+=q;
h(z,v,e*p+V,e*p+I,1,Q)}for(var t=0;t<Q;t++){var s=Q-1-t,J=Q+1+t;c[X*p+P+s]=Z(z[Q],z[s],v[X*p+P+s],Y,r);
c[X*p+P+J]=Z(z[Q],z[J],v[X*p+P+J],Y,r)}c[X*p+P+Q]=n(z[Q],v[X*p+P+Q],Y,r)}P+=m-1}}function h(v,c,p,C,T,E){var r=K;
r(v[E-1],c[p-1],0,T);r(v[E-1],c[C-1],0,-T);r(v[E+1],c[C],0,T);r(v[E+1],c[p],0,-T);for(var t=1;t<E;t++){var Y=v[E-t-1],S=v[E+t+1];
for(var m=0;m<=t;m++){r(Y,c[p-1-m],0,T);r(Y,c[C-1-m],0,-T);r(S,c[C+m],0,T);r(S,c[p+m],0,-T)}}d(v[E],c,p,C,T)}function d(v,c,t,p,C){while(t<p)K(v,c[t++],0,C)}function K(v,c,p,C){v[p|c]+=C;
v[p|256|c>>>4]+=C}function f(v,c,p,C,T,E,r){var Y=0,S=new Int32Array(512),m=new Int32Array(1*p),Q=new Int32Array(512*p),z=Math.min(T,p),n=Math.min(T,C),Z=E[0];
for(var P=0;P<n;P++)l(Q,m,v,p,P,1);for(var P=0;P<C;P++){if(P+T<C)l(Q,m,v,p,P+T,1);if(P-T-1>=0)l(Q,m,v,p,P-T-1,-1);
S.fill(0);Y=0;for(var V=0;V<z;V++){Y+=m[V];u(S,Q,V)}for(var V=0;V<p;V++){var I=V-T-1,q=V+T;if(I>=0&&m[I]!=0){Y-=m[I];
U(S,Q,I)}if(q<p&&m[q]!=0){Y+=m[q];u(S,Q,q)}var X=Y==0?0:Z(S,v[P*p+V],Y,r);c[P*p+V]=X}}}function l(v,c,p,C,T,E){var t=T*C;
for(var r=0;r<C;r++){K(v,p[t+r],r<<9,E);c[r]+=E}}function u(v,c,p){for(var t=0;t<16;t++){var C=c[p<<9|256|t];
if(C==0)continue;v[256|t]+=C;var T=t<<4,E=p<<9|T;y(v,c,T,E);y(v,c,T+4,E+4);y(v,c,T+8,E+8);y(v,c,T+12,E+12)}}function U(v,c,p){for(var t=0;
t<16;t++){var C=c[p<<9|256|t];if(C==0)continue;v[256|t]-=C;var T=t<<4,E=p<<9|T;a(v,c,T,E);a(v,c,T+4,E+4);
a(v,c,T+8,E+8);a(v,c,T+12,E+12)}}function y(v,c,p,C){v[p]+=c[C];v[p+1]+=c[C+1];v[p+2]+=c[C+2];v[p+3]+=c[C+3]}function a(v,c,p,C){v[p]-=c[C];
v[p+1]-=c[C+1];v[p+2]-=c[C+2];v[p+3]-=c[C+3]}return i}();k._G.gS=[function(i,$,h,d){var t=15;while(i[256|t]==0&&t>0)t--;
t=(t<<4)+15;while(i[t]==0&&t>0)t--;return t},function(i,$,h,d,K){var t=15;while(i[256|t]+$[256|t]==0&&t>0)t--;
t=(t<<4)+15;while(i[t]+$[t]==0&&t>0)t--;return t}];k._G.eT=[function(i,$,h,d){var t=0;while(i[256|t]==0&&t<15)t++;
t=t<<4;while(i[t]==0&&t<255)t++;return t},function(i,$,h,d,K){var t=0;while(i[256|t]+$[256|t]==0&&t<15)t++;
t=t<<4;while(i[t]+$[t]==0&&t<255)t++;return t}];k._G.ck=.5;k._G.LH=[function(i,$,h,d){var K=~~(.5+k._G.ck*h),f=0,t=256;
while(f+i[t]<K)f+=i[t++];t=t-256<<4;while(f<K)f+=i[t++];return t-1},function(i,$,h,d,K){var f=~~(.5+k._G.ck*d),l=0,t=256;
while(l+i[t]+$[t]<f){l+=i[t]+$[t];t++}t=t-256<<4;while(l<f){l+=i[t]+$[t];t++}return t-1}];k._G.Fk=[function(i,$,h,d){var K=d[0],f=0,l=0,t=Math.max(0,$-K),u=Math.min(256,$+K+1);
while(t<u){var U=i[t];f+=t*U;l+=U;t++}return l==0?0:f/l},function(i,$,h,d,K){var f=K[0],l=0,u=0,t=Math.max(0,h-f),U=Math.min(256,h+f+1);
while(t<U){var y=i[t]+$[t];l+=t*y;u+=y;t++}return u==0?0:l/u}];k.K={};k.K.Px=function(i){var $=D.vA.O7(i.Trnf),h=i.Sz.v,d=k.K.bS($,new bN(0,0,h.Wdth.v,h.Hght.v));
return k.K.g4(d)};k.K.bS=function(i,$){var h=i[0],d=i[1],K=i[2],f=i[3],l=i[6],u=i[7],U=i[4],y=i[5],a=0,v=0,c=1,p=0,C=0,T=1,E=1,r=1;
if($){a=$.x;v=$.y;c=$.x+$.e;p=$.y;C=$.x;T=$.y+$.n;E=$.x+$.e;r=$.y+$.n}return k.K.I0(i,[a,v,c,p,E,r,C,T])};
k.K.eL=function(i){function $(K,f){for(var t=0;t<f.length;t+=2)if(!h(K,f[t],f[t+1]))return!1;return!0}function h(K,f,l){return K[2*f]==K[2*l]&&K[2*f+1]==K[2*l+1]}var d=0;
if($(i,[0,1,2,3]))d+=1;if($(i,[0,3,1,2]))d+=2;return d};k.K.I0=function(i,$){function h(F,t,s){var X=F[t*2]-F[s*2],B=F[t*2+1]-F[s*2+1];
return Math.sqrt(X*X+B*B)}var d=i[0],K=i[1],f=i[2],l=i[3],u=i[6],U=i[7],y=i[4],a=i[5],v=$[0],c=$[1],p=$[2],C=$[3],T=$[6],E=$[7],r=$[4],Y=$[5],S=[[v,c,1,0,0,0,-v*d,-c*d,d],[0,0,0,v,c,1,-v*K,-c*K,K],[p,C,1,0,0,0,-p*f,-C*f,f],[0,0,0,p,C,1,-p*l,-C*l,l],[T,E,1,0,0,0,-T*u,-E*u,u],[0,0,0,T,E,1,-T*U,-E*U,U],[r,Y,1,0,0,0,-r*y,-Y*y,y],[0,0,0,r,Y,1,-r*a,-Y*a,a]],m=[0,0,0,0,0,0,0,0],Q=k.eE.gd(S,m);
if(Q!=0){m=[0,0,0,0,0,0,0,0];var z=k.K.eL(i),n=k.K.eL($);if(z==n&&z!=0){var Z=z==1,P=Z?3:1,V=h(i,0,P),I=h($,0,P),q=I/V,X=i[2*P]-i[0],B=i[2*P+1]-i[1],e=new ej;
e.translate(-d,-K);e.rotate(Math.atan2(B,X)-(Z?Math.PI/2:0));if(Z)e.scale(1,q);else e.scale(q,1);e.translate(v,c);
e.Sp();m=k.K.F0(e)}}return m};k.K.fg=function(i){return Math.abs(i[6])<1e-10&&Math.abs(i[7])<1e-10};
k.K.g4=function(i){return new ej(i[0],i[3],i[1],i[4],i[2],i[5])};k.K.F0=function(i){return[i.Pi,i.sl,i.wQ,i.Z,i.Zn,i.FQ,0,0]};
k.K.D=function(i,$){var h=new Float64Array(2);for(var d=0;d<$.length;d+=2){var K=$[d],f=$[d+1];k.K.c0(K,f,i,h);
$[d]=h[0];$[d+1]=h[1]}};k.K.c0=function(i,$,h,d){var K=1/(h[6]*i+h[7]*$+1);d[0]=(h[0]*i+h[1]*$+h[2])*K;
d[1]=(h[3]*i+h[4]*$+h[5])*K};k.K.awq=function(i,$){var h=new Float64Array(2);k.K.c0($.x,$.y,i,h);return new cq(h[0],h[1])};
k.K.Nj=function(i,$,h,d){i=new Uint32Array(i.buffer);$=new Uint32Array($.buffer);for(var K=0;K<d;K++){for(var f=0;
f<h;f++){$[f*d+K]=i[K*h+f]}}};k.K.Xo=function(i,$,h,d){i=new Uint32Array(i.buffer);$=new Uint32Array($.buffer);
for(var K=0;K<d;K++){for(var f=0;f<h;f++){$[K*h+f]=i[K*h+h-1-f]}}};k.K.ac5=function(i,$,h,d){i=new Uint32Array(i.buffer);
$=new Uint32Array($.buffer);for(var K=0;K<d;K++){for(var f=0;f<h;f++){$[K*h+f]=i[(d-1-K)*h+f]}}};k.K.lq=function(i){return Math.abs(i[6])<1e-9&&Math.abs(i[7])<1e-9};
k.K.VC=function(i){return Math.abs(i[0])<1e-9&&Math.abs(i[4])<1e-9||Math.abs(i[1])<1e-9&&Math.abs(i[3])<1e-9};
k.K.drawImage=function(i,$,h,d,K,f,l,u,U){if(l==null)l=!1;if(u==null)u=!1;var y=k.K.Sp(i),a=!0,v=0;for(var t=0;
t<8;t++){var c=Math.round(i[t]);if(t!=2&&t!=5)v+=Math.abs(c);if(Math.abs(c-i[t])>1e-9)a=!1}var p=k.K.lq(i),C=k.K.VC(i)&&p,T=C?1:0;
if(l||a&&v==h+d&&p){k.K.au7(y,$,h,d,K,f,u,p,U);return}var E=f.e,r=f.n,Y=new Float64Array(2);K=new Uint32Array(K.buffer);
$=new Uint32Array($.buffer);for(var S=0;S<r;S++)for(var m=0;m<E;m++){var Q=S*E+m,z,n,Z,P,L=0,A=0,j=0,G=0;
K[Q]=0;var V=m+f.x+.5,I=S+f.y+.5;z=V;n=I;Z=y;var q=Z[0]*z+Z[1]*n+Z[2],X=Z[3]*z+Z[4]*n+Z[5];if(!p){P=1/(Z[6]*z+Z[7]*n+1);
q*=P;X*=P}var B=q*h,e=X*d,F=B<-1||B>h+1||e<-1||e>d+1;if(u){B=Math.max(.001,Math.min(h-1,B));e=Math.max(.001,Math.min(d-1,e))}else if(F)continue;
var s=k.K.acT(i,h,d,V,I,q,X),J=Math.round(s*2.3);if(s<1.1){k.K.l9(B,e,$,h,d,K,Q,T);continue}if(!u&&(B<.6||B>h-.6||e<.6||e>d-.6)){J=Math.max(J,5)}if(u&&F)J=1;
var W=1/J,O=f.x+m,o=f.y+S;Z=y;for(var t=0;t<J;t++)for(var N=0;N<J;N++){z=O+(t+.5)*W;n=o+(N+.5)*W;var B=Z[0]*z+Z[1]*n+Z[2],e=Z[3]*z+Z[4]*n+Z[5];
if(!p){P=1/(Z[6]*z+Z[7]*n+1);B*=P;e*=P}if(u){B=Math.max(.001,Math.min(.999,B));e=Math.max(.001,Math.min(.999,e))}else if(B<0||B>=1||e<0||e>=1)continue;
B=Math.floor(B*h);e=Math.floor(e*d);var w=e*h+B,kv=$[w],g=kv>>>24;L+=(kv&255)*g;A+=(kv>>>8&255)*g;j+=(kv>>>16&255)*g;
G+=g}if(G!=0){var b=1/G;L=~~(L*b+.5);A=~~(A*b+.5);j=~~(j*b+.5);G=~~(G*W*W+.5);K[Q]=G<<24|j<<16|A<<8|L}}};
k.K.acT=function(i,$,h,d,K,f,l){var u=k.K.rL(i,d,K,f+1/$,l),U=k.K.rL(i,d,K,f,l+1/h);return 1/Math.sqrt(Math.max(u,U))};
k.K.rL=function(i,$,h,d,K){var f=1/(i[6]*d+i[7]*K+1),l=(i[0]*d+i[1]*K+i[2])*f-$,u=(i[3]*d+i[4]*K+i[5])*f-h;
return l*l+u*u};k.K.au7=function(i,$,h,d,K,f,l,u,U){if(u&&!l&&f.O()>4e6&&U){k.K.aeQ(i,$,h,d,K,f,l,u,U);
return}var y=f.x+f.e,a=f.y+f.n,v=0,c=new Uint32Array(K.buffer),p=new Uint32Array($.buffer),C=i[0]*h,T=i[1]*h,E=i[2]*h,r=i[3]*d,Y=i[4]*d,S=i[5]*d,m=i[6],Q=i[7];
if(u&&!l)for(var z=f.y+.5;z<a;z++)for(var n=f.x+.5;n<y;n++){var Z=C*n+T*z+E,P=r*n+Y*z+S;if(0<Z&&Z<h&&0<P&&P<d){var V=~~P*h+~~Z;
c[v]=p[V]}else c[v]=0;v++}else for(var z=f.y+.5;z<a;z++)for(var n=f.x+.5;n<y;n++){var I=1/(m*n+Q*z+1),Z=(C*n+T*z+E)*I,P=(r*n+Y*z+S)*I;
if(l){Z=Math.max(.001,Math.min(h-1,Z));P=Math.max(.001,Math.min(d-1,P))}if(0<Z&&Z<h&&0<P&&P<d){var V=Math.floor(P)*h+Math.floor(Z);
c[v]=p[V]}else c[v]=0;v++}};k.K.aeQ=function(i,$,h,d,K,f,l,u,U){var y=new Uint32Array(K.buffer),a=new Uint32Array($.buffer),Q=0;
if(U&&(f.e&3)!=0)throw"e";var v=i[0]*h,c=i[1]*h,p=i[2]*h,C=i[3]*d,T=i[4]*d,E=i[5]*d,r=i[6],Y=i[7],S=f.e,m=f.n,z=f.x+.5,n=f.y+.5,Z=(S>>>2<<2)-1e-9,P=-.1+(m>>>1<<1)-1e-9,V=~~h,I=v==0?0:1/v,q=C==0?0:1/C;
for(var X=0;X<m;X++){var B=z*v+c*(X+n)+p,e=z*C+T*(X+n)+E,F=0,s=S;if(v==0){}else if(I>0){F=Math.max(F,-B*I);
s=Math.min(s,(h-B)*I)}else{s=Math.min(s,-B*I);F=Math.max(F,(h-B)*I)}if(C==0){}else if(q>0){F=Math.max(F,-e*q);
s=Math.min(s,(d-e)*q)}else{s=Math.min(s,-e*q);F=Math.max(F,(d-e)*q)}if(s<0)s=0;if(F>s)F=s;F=Math.ceil(F);
s=~~s;Q=~~(X*S);for(var J=0;J<F;J++)y[Q++]=0;for(var J=F;J<s;J+=4){var W=v*J+B,L=C*J+e,A=~~L*V+~~W;y[Q++]=y[Q++]=y[Q++]=y[Q++]=a[A]}for(var J=s;
J<S;J++)y[Q++]=0}};k.K.Sp=function(i){var $=i[4]-i[5]*i[7],h=i[2]*i[7]-i[1],d=i[1]*i[5]-i[2]*i[4],K=i[5]*i[6]-i[3],f=i[0]-i[2]*i[6],l=i[3]*i[2]-i[0]*i[5],u=i[3]*i[7]-i[4]*i[6],U=i[1]*i[6]-i[0]*i[7],y=1/(i[0]*i[4]-i[1]*i[3]);
return[$*y,h*y,d*y,K*y,f*y,l*y,u*y,U*y]};k.K.hW=function(i,$){var h=i[0],d=i[1],K=i[2],f=i[3],l=i[4],u=i[5],U=i[6],y=i[7],a=$[0],v=$[1],c=$[2],p=$[3],C=$[4],T=$[5],E=$[6],r=$[7],Y=[h*a+d*p+K*E,h*v+d*C+K*r,h*c+d*T+K,f*a+l*p+u*E,f*v+l*C+u*r,f*c+l*T+u,U*a+y*p+E,U*v+y*C+r],S=1/(U*c+y*T+1);
for(var t=0;t<8;t++)Y[t]*=S;return Y};k.K.l9=function(i,$,h,d,K,f,l,u){var U=i,y=$,c=0,p=0,C=0,T=0;i-=.499999;
$-=.499999;var a=Math.floor(i),v=Math.floor($);if(u==0){var t=v*d+a,E=a>=0&&a<d,r=a+1>=0&&a+1<d,Y=v>=0&&v<K,S=v+1>=0&&v+1<K;
if(E&&Y)c=h[t];if(r&&Y)p=h[t+1];if(E&&S)C=h[t+d];if(r&&S)T=h[t+d+1]}else if(u==1){var m=a<0?0:a>d-1?d-1:a,Q=a<-1?0:a>d-2?d-1:a+1,z=v<0?0:v>K-1?K-1:v,n=v<-1?0:v>K-2?K-1:v+1;
c=h[z*d+m];p=h[z*d+Q];C=h[n*d+m];T=h[n*d+Q]}else{var m=(a+50*d)%d,Q=(a+50*d)%d,z=(v+50*K)%K,n=(v+50*K)%K;
c=h[z*d+m];p=h[z*d+Q];C=h[n*d+m];T=h[n*d+Q]}var Z=i-a,P=$-v,V=(1-P)*(1-Z)*(c>>>24),I=(1-P)*Z*(p>>>24),q=P*(1-Z)*(C>>>24),X=P*Z*(T>>>24),B=V+I+q+X,e=V*(c&255)+I*(p&255)+q*(C&255)+X*(T&255),F=V*(c>>>8&255)+I*(p>>>8&255)+q*(C>>>8&255)+X*(T>>>8&255),s=V*(c>>>16&255)+I*(p>>>16&255)+q*(C>>>16&255)+X*(T>>>16&255);
if(B==0)f[l]=0;else{var J=1/B;e=~~(e*J+.5);F=~~(F*J+.5);s=~~(s*J+.5);B=~~(B+.5);f[l]=B<<24|s<<16|F<<8|e}};
k.K.uH=function(i,$,h,d,K,f){var l=i-.499999,u=$-.499999,U=~~l,y=~~u,a=l-U,v=u-y,c=(1-v)*(1-a),p=(1-v)*a,C=v*(1-a),T=v*a,E=y*d+U<<2,r=(y+1)*d+U<<2,Y=c*h[E]+p*h[E+4]+C*h[r]+T*h[r+4],S=c*h[E+1]+p*h[E+5]+C*h[r+1]+T*h[r+5],m=c*h[E+2]+p*h[E+6]+C*h[r+2]+T*h[r+6],Q=c*h[E+3]+p*h[E+7]+C*h[r+3]+T*h[r+7];
f[0]=Y;f[1]=S;f[2]=m;f[3]=Q};k.K.WE=function(i,$,h,d,K){i-=.499999;$-=.499999;var f=Math.floor(i),l=Math.floor($),u=i-f,U=$-l,y=(1-U)*(1-u),a=(1-U)*u,v=U*(1-u),c=U*u,p=(f+50*d)%d,C=(f+1+50*d)%d,T=(l+50*K)%K,E=(l+1+50*K)%K,r=h[T*d+p],Y=h[T*d+C],S=h[E*d+p],m=h[E*d+C];
if(r==null||m==null)throw"e";return y*r+a*Y+v*S+c*m};k.K.a22=function(i,$,h,d,K){i-=.499999;$-=.499999;
var f=Math.floor(i),l=Math.floor($),u=i-f,U=$-l,y=(1-U)*(1-u),a=(1-U)*u,v=U*(1-u),c=U*u,p=l*d+f,C=p+d,T=h[p],E=h[p+1],r=h[C],Y=h[C+1];
if(T==null||Y==null){console.log(f,l,d,K);throw"e"}return y*T+a*E+v*r+c*Y};k.K.AO=function(i,$,h,d,K,f,l,u,U,y,a,v){var c=new Uint32Array(i.buffer),p=new Uint32Array(d.buffer),C=(1+2*y)/K,T=[],E=[];
for(var r=0;r<K;r++){var Y=-.25+y-r*C;T.push(Math.cos(2*Math.PI*Y)*v/a);T.push(Math.sin(2*Math.PI*Y)/a)}l*=$;
u*=h;for(var S=0;S<f;S++){var m=Math.pow(S/f,U)*f;for(var r=0;r<K;r++){var Q=l+T[r<<1]*m,z=u+T[(r<<1)+1]*m,n=~~(.5+(Q<0?0:Q>$-1?$-1:Q)),Z=~~(.5+(z<0?0:z>h-1?h-1:z));
p[S*K+r]=c[Z*$+n]}}};k.K.pz=function(i,$,h,d,K,f,l,u,U,y,a,v){var c=new Uint32Array(i.buffer),p=new Uint32Array(d.buffer),C=1/v,T=[],E=h*4,r=1/E;
for(var Y=0;Y<E+10;Y++)T.push(Math.pow(Y*r,1/U)*h*a);l*=K;u*=f;for(var Y=0;Y<f;Y++)for(var S=0;S<K;S++){var m=C*(S-l),Q=Y-u,z=1.75-Math.atan2(Q,m)*(1/(2*Math.PI));
z=z-~~z;z=(z+y)*(1/(1+2*y));var n=Math.sqrt(m*m+Q*Q);n=T[~~(n*4)];k.K.l9(z*$+.5,n+.5,c,$,h,p,Y*K+S,1)}};
k.K.KU=function(i,$,h,d,K){var f=K[0],l=K[1];for(var u=0;u<l;u++)for(var U=0;U<f;U++){var y=K[2]*U+K[3]*u+K[4],a=K[5]*U+K[6]*u+K[7],v=u*f+U<<2,c=a*$+y<<2;
d[v]=i[c+0];d[v+1]=i[c+1];d[v+2]=i[c+2];d[v+3]=i[c+3]}};k.M={KK:function(i,$){var h=~~(.499+i*$);return h<0?0:h>$?$:h},a7q:function(i,$,h,d,K,f,l,u){var U=h[0],y=h[1],a=h[2],v=h[3],c=d.e,p=d.n,C=new Float64Array(c*4+8),T=new Float64Array(c*4+8);
for(var E=0,t=0;E<p;E++){var r=C;C=T;T=r;T.fill(0);for(var Y=0;Y<c;Y++,t++){var S=Y+K,m=E+f,Q=U*S+y*m,z=a*S+v*m,n=0,V=0;
if(u==0)n=Q+.5;else if(u==1)n=2*Math.sqrt(Q*Q+z*z);else if(u==2)n=(Math.PI+Math.atan2(-z,-Q))/(2*Math.PI);
else if(u==3)n=Math.abs(Q*2);else if(u==4)n=2*(Math.abs(Q)+Math.abs(z));var Z=k.M.KK(n,l)*4,P=Y*4;for(var I=0;
I<4;I++){var q=Math.max(0,Math.min(254.999,$[Z+I]+C[P+4+I])),X=Math.floor(q);if(Math.random()<q-X)X++;
var B=q-X;C[P+8+I]=B*(7/16);T[P+0+I]=B*(3/16);T[P+4+I]=B*(5/16);T[P+8+I]=B*(1/16);V|=X<<I*8}i[t]=V}}},A0:[function(i,$,h,d,K,f,l){var u=h[0],U=h[1],y=h[2],a=h[3],v=d.e,c=d.n;
for(var p=0,t=0;p<c;p++)for(var C=0;C<v;C++,t++){var T=C+K,E=p+f,r=u*T+U*E,Y=y*T+a*E,S=r+.5;i[t]=$[k.M.KK(S,l)]}},function(i,$,h,d,K,f,l){var u=h[0],U=h[1],y=h[2],a=h[3],v=d.e,c=d.n;
for(var p=0,t=0;p<c;p++)for(var C=0;C<v;C++,t++){var T=C+K,E=p+f,r=u*T+U*E,Y=y*T+a*E,S=2*Math.sqrt(r*r+Y*Y);
i[t]=$[k.M.KK(S,l)]}},function(i,$,h,d,K,f,l){var u=h[0],U=h[1],y=h[2],a=h[3],v=d.e,c=d.n;for(var p=0,t=0;
p<c;p++)for(var C=0;C<v;C++,t++){var T=C+K,E=p+f,r=u*T+U*E,Y=y*T+a*E,S=(Math.PI+Math.atan2(-Y,-r))/(2*Math.PI);
i[t]=$[k.M.KK(S,l)]}},function(i,$,h,d,K,f,l){var u=h[0],U=h[1],y=h[2],a=h[3],v=d.e,c=d.n;for(var p=0,t=0;
p<c;p++)for(var C=0;C<v;C++,t++){var T=C+K,E=p+f,r=u*T+U*E,Y=y*T+a*E,S=Math.abs(r*2);i[t]=$[k.M.KK(S,l)]}},function(i,$,h,d,K,f,l){var u=h[0],U=h[1],y=h[2],a=h[3],v=d.e,c=d.n;
for(var p=0,t=0;p<c;p++)for(var C=0;C<v;C++,t++){var T=C+K,E=p+f,r=u*T+U*E,Y=y*T+a*E,S=2*(Math.abs(r)+Math.abs(Y));
i[t]=$[k.M.KK(S,l)]}}]};k.M.ar3=function(i,$){return i+.5};k.M.a4N=function(i,$){return 2*Math.sqrt(i*i+$*$)};
k.M.a8x=function(i,$){return(Math.PI+Math.atan2(-$,-i))/(2*Math.PI)};k.M.aba=function(i,$){return Math.abs(i*2)};
k.M.atM=function(i,$){return 2*(Math.abs(i)+Math.abs($))};k.M.f2=function(i,$,h,d,K,f,l,u,U,y,a,v){var c=i.Clrs,p=new Uint32Array($.buffer),C=1023,T=c?k.M._a(i,U,y):null;
if(v&&c){var E=k.M.a5M(i,T,C+1,l);k.M.a7q(p,E,d,h,h.x-K,h.y-f,C,u)}else{var r=c?k.M._L(i,T,C+1,l):k.M.r6(i,C+1,l);
if(u<5){k.M.A0[u](p,r,d,h,h.x-K,h.y-f,C)}else{var Y=new Uint8Array(r.buffer),S=h.e,m=h.n,Q=a.xl-a.eY,z=1/Q,n=a.t9.e-h.e>>1,Z=a.t9.n-h.n>>1,P=a.t9.e,V=-.6*z,I=(-.6+.4)*z,q=(-.6+2*.4)*z,X=(-.6+3*.4)*z;
for(var B=0,t=0;B<m;B++)for(var e=0;e<S;e++,t+=4){var F=0,s=0,J=0,W=0,L=(B+Z)*P+e+n,A=(a.pg[L]-a.eY)*z,j=0;
if(A<=0||A>=1){j=(A<=0?0:C)<<2;$[t]=Y[j];$[t+1]=Y[j+1];$[t+2]=Y[j+2];$[t+3]=Y[j+3];continue}j=Math.max(0,Math.min(C-1,Math.round((A+V)*C)))<<2;
s+=Y[j];J+=Y[j+1];W+=Y[j+2];F+=Y[j+3];j=Math.max(0,Math.min(C-1,Math.round((A+I)*C)))<<2;s+=Y[j];J+=Y[j+1];
W+=Y[j+2];F+=Y[j+3];j=Math.max(0,Math.min(C-1,Math.round((A+q)*C)))<<2;s+=Y[j];J+=Y[j+1];W+=Y[j+2];F+=Y[j+3];
j=Math.max(0,Math.min(C-1,Math.round((A+X)*C)))<<2;s+=Y[j];J+=Y[j+1];W+=Y[j+2];F+=Y[j+3];$[t]=s>>>2;
$[t+1]=J>>>2;$[t+2]=W>>>2;$[t+3]=F>>>2}}}};k.M._a=function(i,$,h){var d=[i.Clrs.v,i.Trns.v],K=[[],[]],f=255;
for(var l=0;l<2;l++)for(var t=0;t<d[l].length;t++){var u,U=d[l][t].v;if(l==0){var y=U.Type.v.Clry;if(y=="FrgC")u={o:$>>16&255,P:$>>8&255,Z:$&255};
else if(y=="BckC")u={o:h>>16&255,P:h>>8&255,Z:h&255};else u=k.M.zk(U.Clr.v)}else{u=U.Opct.v.val*(255/100);
if(u<f)f=u}K[l].push([u,U.Lctn.v/4096,U.Mdpn.v/100])}K.push(f>254);return K};k.M.zk=function(i){var $,h=i.classID;
if(h=="RGBC"){if(i.Rd)$={o:i.Rd.v,P:i.Grn.v,Z:i.Bl.v};else $={o:i.redFloat.v*255,P:i.greenFloat.v*255,Z:i.blueFloat.v*255}}else if(h=="HSBC"){$=k.ub(i.H.v.val/360,i.Strt.v/100,i.Brgh.v/100);
$.o*=255;$.P*=255;$.Z*=255}else if(h=="CMYC"){var d=100-i.Cyn.v,K=100-i.Mgnt.v,f=100-i.Ylw.v,l=100-i.Blck.v,u=255*d*l*1e-4,U=255*(.2*d+.8*K)*l*1e-4,y=255*(.2*K+.8*f)*l*1e-4;
$={o:u,P:U,Z:y}}else if(h=="Grsc")$={o:255-i.Gry.v,P:255-i.Gry.v,Z:255-i.Gry.v};else if(h=="LbCl"){$=k.FY(i.Lmnc.v,i.A.v,i.B.v)}else if(h=="BkCl")$={o:0,P:0,Z:0};
else console.log(i);if(isNaN($.o))$.o=$.P=$.Z=0;return $};k.M.r6=function(i,$,h){var d=new Uint32Array($),K=new Uint8Array(d.buffer);
d.fill(4278190080);var f=[],l=[],u=i.RndS.v,U=i.Smth.v/4096;for(var t=0;t<4;t++){f[t]=~~(i.Mnm.v[t].v*255/100);
l[t]=~~(i.Mxm.v[t].v*255/100)}var y=k.Q($*4),a=k.Q($);for(var v=0;v<3;v++){k.Y.MM(null,$,1,y,[1+Math.round(U*U*U*60),22,u*(2+v)]);
k.pO(y,a,0);k.k1(a,K,v);var c=f[v],p=l[v];for(var t=0;t<$;t++)K[4*t+v]=Math.max(c,Math.min(p,K[4*t+v]))}if(h)for(var t=0;
t<$/2;t++){var C=d[t];d[t]=d[$-1-t];d[$-1-t]=C}return d};k.M.Aw=function(i){return{classID:"RGBC",Rd:{t:"doub",v:i.o},Grn:{t:"doub",v:i.P},Bl:{t:"doub",v:i.Z}}};
k.M.a5M=function(i,$,h,d){var K=[],f=1/(h-0);for(var t=0;t<h;t++){var l=t*4,u=k.M.vS(i,$,(d?h-1-t:t)*f);
K[l]=u[0];K[l+1]=u[1];K[l+2]=u[2];K[l+3]=u[3]}return K};k.M._L=function(i,$,h,d){var K=new Uint32Array(h),f=1/(h-0);
for(var t=0;t<h;t++)K[t]=k.M.qY(i,$,(d?h-1-t:t)*f);return K};k.M.vS=function(i,$,h){var d=i.Intr.v*(1/4096),K=$[0],f=$[1],l=K.length-1,u=f.length-1,t=-1,U=0,y=0,a=0,v=0;
if($[2])U=255;else{while(t<u&&f[t+1][1]<=h)t++;if(t==-1){U=f[0][0]}else if(t==u){U=f[t][0]}else{var c=k.M.qH(f,t,h,d);
U=c*f[t][0]+(1-c)*f[t+1][0]}}t=-1;while(t<l&&K[t+1][1]<=h)t++;if(t==-1){var p=K[0][0];y=p.o;a=p.P;v=p.Z}else if(t==l){var p=K[t][0];
y=p.o;a=p.P;v=p.Z}else{var C=K[t][0],T=K[t+1][0],E=k.M.qH(K,t,h,d);y=E*C.o+(1-E)*T.o;a=E*C.P+(1-E)*T.P;
v=E*C.Z+(1-E)*T.Z}return[y,a,v,U]};k.M.qY=function(i,$,h){var d=k.M.vS(i,$,h),K=~~(.5+d[0]),f=~~(.5+d[1]),l=~~(.5+d[2]),u=~~(.5+d[3]);
return u<<24|l<<16|f<<8|K};k.M.qH=function(i,t,$,h){if(i.length==2)h*=.5;var d=i[t][1],K=i[t+1][1],f=d+i[t+1][2]*(K-d),l;
if($<f)l=.5*($-d)/(f-d);else l=.5+.5*($-f)/(K-f);l=.5+.5*(h*Math.cos(Math.PI*l)+(1-h)*(1-2*l));return l};
k.M.gk=function(i,$){var h=Math.PI*i.Angl.v.val/180,d=i.Scl.v.val/100,K=i.Ofst.v,f=K.Hrzn.v.val/100,l=K.Vrtc.v.val/100,u=Math.cos(h),U=-Math.sin(h),y=.5*$.n,a=y*(u/U),v=Math.sqrt(y*y+a*a),c=.5*$.e,p=c*(U/u),C=Math.sqrt(c*c+p*p),T=Math.min(v,C)*d,E=$.x+$.e/2+f*$.e,r=$.y+$.n/2+l*$.n;
return[new cq(E,r),new cq(E+u*T,r+U*T)]};k.M.EU=function(i,$,h,d){var K=$.x-i.x,f=-($.y-i.y),l=Math.sqrt(K*K+f*f),u=Math.atan2(f,K),U=Math.cos(u),y=-Math.sin(u),a=.5*h.n,v=a*(U/y),c=Math.sqrt(a*a+v*v),p=.5*h.e,C=p*(y/U),T=Math.sqrt(p*p+C*C),E=l/Math.min(c,T),r=(i.x-h.x-h.e/2)/h.e,Y=(i.y-h.y-h.n/2)/h.n;
d.Angl.v.val=180*u/Math.PI;d.Scl.v.val=E*100;var S=d.Ofst.v;S.Hrzn.v.val=r*100;S.Vrtc.v.val=Y*100};k.M.wX=function(i,$){for(var t=0;
t<i.length;t++){var h=i[t],d=Math.round(h[0]*4096),K=h[1],f=h[2],l=h[3];if(f==null)f=1;if(l==null)l=.5;
var u=k.M.Aw({o:K[0]*255,P:K[1]*255,Z:K[2]*255});$.Clrs.v[t]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:d},Mdpn:{t:"long",v:Math.round(l*100)},Clr:{t:"Objc",v:u},Type:{t:"enum",v:{Clry:"UsrS"}}}};
$.Trns.v[t]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:d},Mdpn:{t:"long",v:Math.round(l*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(f*100)}}}}}};
k.M.ID=function(i,$,h){function d(p){return parseFloat((p/255).toFixed(3))}if($){i=JSON.parse(JSON.stringify(i));
for(var t=0;t<2;t++){var K=i[t==0?"Clrs":"Trns"].v;for(var f=0;f<K.length;f++)K[f].v.Lctn.v=4096-K[f].v.Lctn.v;
K.reverse()}}var l=[],u=i.Clrs.v,U=i.Trns.v,K=u;if(h!=!0)K=u.concat(U);var y=k.M._a(i,0,0);for(var t=0;
t<K.length;t++){var a=K[t].v,v=a.Lctn.v/4096,c=k.M.vS(i,y,v);l.push([v,[d(c[0]),d(c[1]),d(c[2])],d(c[3])])}l.sort(function(p,C){return p[0]-C[0]});
for(var t=1;t<l.length;t++)if(l[t][0]-l[t-1][0]<.001){l.splice(t,1);t--}return l};k.Hp={};k.Hp.ahc=function(i,$,h,d,K,f,l,u,U,y,a,v){var c,p,C,T=Date.now(),E=!1,r=l,Y=y,S,m,Q,z,n=f*255,Z=255-U*255,P=1+K*6,V=1+u*6,I=1+v*4,q=(I-1)/7,X=0,B=255-0,e,F,s,J,W,L,A,j,G,O,o,N,w,kv=0,g=1,b,jU,_,cY,j3,aS,bL,cQ,cK,el,gF=1+a,fj,i3=k.Q(h*d),eT=k.Q(h*d),eV=k.Q(h*d),hr=k.Q(h*d),it=255/n,f8=255/(255-Z);
for(p=0;p<d;p++){for(c=0;c<h;c++){var t=p*h+c,i$=t<<2;b=k.DW(i[i$],i[i$+1],i[i$+2]);hr[t]=b;if(b<n)i3[t]=255-b*it;
if(b>Z)eT[t]=255-(255-b)*f8}}if(E)console.log("init",Date.now()-T);T=Date.now();if(K*r>0){eV.set(i3);
k.$A.L6(eV,i3,new bN(0,0,h,d),r)}if(u*Y>0){eV.set(eT);k.$A.L6(eV,eT,new bN(0,0,h,d),Y)}if(E)console.log("blur",Date.now()-T);
T=Date.now();var gS=k.Q(256),hT=k.Q(256);for(var t=0;t<256;t++){var gL=t*(1/255),iu=0;iu=(1-Math.pow(1-gL,P))*255;
gS[t]=Math.max(0,Math.min(255,~~(iu+.5)));iu=Math.pow(gL,V)*255;hT[t]=Math.max(0,Math.min(255,~~(iu+.5)))}var dB=new Uint8ClampedArray($.buffer),ka=new Float32Array(32768);
for(var t=0;t<32768;t++){fj=Math.sqrt(t)*(1/128);if(gF>1)fj=(1-fj)*(gF-1)+1;else fj=fj*(gF-1)+1;ka[t]=fj}for(p=0;
p<d;p++){for(c=0;c<h;c++){var t=p*h+c,i$=t<<2,iu=hr[t],eQ=i3[t]*(1/255),dv=eT[t]*(1/255);iu=(1-eQ)*iu+eQ*gS[~~iu];
iu=(1-dv)*iu+dv*hT[~~iu];b=iu;var cT=i[i$],eY=i[i$+1],gl=i[i$+2];jU=-cT*.168736-eY*.331264+gl*.5;_=cT*.5-eY*.418688-gl*.081312;
fj=ka[~~(.5+jU*jU+_*_)];cY=jU*fj;aS=_*fj;g=1-Math.min(2-(eQ+dv),1);jU=g*jU+(1-g)*cY;_=g*_+(1-g)*aS;cQ=b+1.402*_;
cK=b-.34414*jU-.71414*_;el=b+1.772*jU;dB[i$]=~~(.5+cQ);dB[i$+1]=~~(.5+cK);dB[i$+2]=~~(.5+el)}}if(E)console.log("apply masks",Date.now()-T);
T=Date.now()};k.wG={};k.wG.uB=function(i,$,h,d,K){var f=!1,C=1,F=0,s=0,o=0,gF=0;if(!$.PH(K)){var l=$.rt(K),u=k.Q(l.O()*4);
k.mC(i,$,u,l);i=u;$=l}var U=k.Q($.O());k.Zc(h,K,U,$);k.round(U);K=K.Js($);var y=K.e,a=K.n,v=y*3<a?2:1,c=a*3<y?2:1;
if(K.O()*(v*2+1)*(c*2+1)<$.O()){var l=new bN(K.x-y*v,K.y-a*v,y*(v*2+1),a*(c*2+1)).Js($),u=k.Q(l.O()*4);
k.mC(i,$,u,l);var p=k.Q(l.O());k.Zc(U,$,p,l);$=l;i=u;U=p}while(($.e+$.n)/2/C>400)C++;var T=i,E=$,r=U,Y=Math.floor(E.e/C),S=Math.floor(E.n/C);
i=k.Q(Y*S*4);k.scale.Vs(T,E.e,E.n,i,Y,S,1/C);U=k.Q(Y*S);k.scale.KU(r,E.e,E.n,U,Y,S,1/C);k.round(U,1);
var m=k.WG(U,new bN(0,0,Y,S));if(m.NT())return 1;var n=Math.round((m.e+m.n)/2/15),Z=Date.now(),P=k.Q(Y*S*4);
k.atp(i,P);var V=Int16Array,I=new V(Y*S*24),q=new V(64),X=new V(64),B=new V(64),e=new V(64);for(var J=3;
J<S-4;J++)for(var W=3;W<Y-4;W++){var L=J*Y+W;if(U[L]==255)continue;if(k.wG.ajA(P,U,W,J,Y,S,q,X,B)!=0)continue;
k.wG.YZ(q,e);I[F]=W;I[F+1]=J;k.wG.pv(q,I,F+4,12);F+=16;k.wG.YZ(X,e);k.wG.pv(X,I,F,4);F+=4;k.wG.YZ(B,e);
k.wG.pv(B,I,F,4);F+=4;var A=I[F-24+5],j=I[F-24+6];I[F-24+5]=I[F-24+20];I[F-24+6]=I[F-24+16];I[F-24+16]=A;
I[F-24+20]=j;s++}if(s==0)return 2;if(f)console.log(Date.now()-Z,"FWHT computed");Z=Date.now();var G=[];
k.wG.Ev(0,s-1,G,I,new V(2*24));if(f)console.log(Date.now()-Z,"KD tree computed");Z=Date.now();var O=new Float32Array(Y*S*4);
for(var t=0;t<s;t++){var N=t,w=k.wG.aso(N,I,G,n);if(w==-1)continue;var kv=N*24,g=w*24,b=I[kv],jU=I[kv+1],_=I[g],cY=I[g+1];
o+=k.wG.getError(g,kv,I,1e99);var j3=_-b,aS=cY-jU;O[(S+aS)*2*Y+(Y+j3)]+=1}if(f)console.log(Date.now()-Z,"NN found");
Z=Date.now();var bL=[],cQ=1/(2*Y);for(var t=0;t<O.length;t++){if(O[t]>0){var J=Math.floor(t*cQ),W=t-J*2*Y;
bL.push({x:W-Y,y:J-S,L:O[t],em:-1})}}bL.sort(function(eQ,dv){return dv.L-eQ.L});var cK=new Int32Array(Y*S),el=[];
for(var t=0;t<Y*S;t++){if(U[t]==255){cK[t]=gF;el.push(t%Y,Math.floor(t/Y));gF++}else if(i[(t<<2)+3]<200){cK[t]=-2}else{cK[t]=-1}}var fj=k.wG.a1G(Y,S,bL,cK,el,gF);
if(fj==null){return 3}var i3=fj.M0,top=fj.top;i3=k.wG.asb(i3,i,Y,S,top,cK,el,gF);if(f)console.log(Date.now()-Z,"optimal labeling found");
Z=Date.now();var l=K.clone();l.ol(1,1);l=l.Js(E);var eT=k.Q(l.O()*4),eV=k.Q(l.O());k.mC(T,E,eT,l);var hr=E.e,it=E.n;
for(var J=0;J<it;J++)for(var W=0;W<hr;W++){if(r[J*hr+W]==0)continue;var f8=Math.min(Math.floor(W/C),Y-1),i$=Math.min(Math.floor(J/C),S-1),gS=cK[i$*Y+f8];
if(gS==-1)continue;var hT=i3[gS],gL=top[hT],iu=W+gL.x*C,dB=J+gL.y*C,jt=dB*hr+iu<<2,ka=(J-l.y+E.y)*l.e+(W-l.x+E.x)<<2;
eT[ka]=T[jt];eT[ka+1]=T[jt+1];eT[ka+2]=T[jt+2];eT[ka+3]=T[jt+3];eT[ka+3]=T[jt+3];eV[ka>>2]=hT+1}if(f)console.log(Date.now()-Z,"copied back");
Z=Date.now();k.yr.uB(eT,eV,l,null,1e3);if(f)console.log(Date.now()-Z,"poisson smooth");Z=Date.now();
k.mC(eT,l,d,K);return 0};k.wG.ba=function(i,$,h,d,K,f){return k.wG.o8(i+K.x,$+K.y,h,d)&&f[($+K.y)*h+(i+K.x)]==-1?0:1e9};
k.wG.asb=function(i,$,h,d,top,K,f,l){var u=Date.now(),U=[-1,0,0,-1,1,0,0,1],y=1e99,a=[],v=[],c=2*(l*2*3+l*2),p=null,C=0,T=0,E=0,r=1e99;
while(!0&&Date.now()<u+12e3){E++;var Y=null,S=y;for(var m=0;m<top.length;m++){var Q=top[m],z=0,n=l+2,Z=0;
for(var t=0;t<l;t++){var P=f[t*2],V=f[t*2+1],I=top[i[t]],q=k.wG.ba(P,V,h,d,Q,K),X=i[t]==m?1e9:k.wG.ba(P,V,h,d,I,K);
for(var b4=0;b4<4;b4++){if(b4==0&&P==0||b4==1&&V==0||b4==2&&P==h-1||b4==3&&V==d-1)continue;var B=U[2*b4],e=U[2*b4+1],F=P+B,s=V+e,J=K[s*h+F];
if(J==-2){}else if(J==-1){q+=3*k.wG.tz(F+Q.x,s+Q.y,F,s,h,d,$,K);q+=2*k.wG.tz(F+Q.x+B,s+Q.y+e,F+B,s+e,h,d,$,K);
X+=3*k.wG.tz(F+I.x,s+I.y,F,s,h,d,$,K);X+=2*k.wG.tz(F+I.x+B,s+I.y+e,F+B,s+e,h,d,$,K)}else if(b4>1){if(i[t]==i[J]){var W=0;
W+=k.wG.tz(P+I.x,V+I.y,P+Q.x,V+Q.y,h,d,$,K);W+=k.wG.tz(F+I.x,s+I.y,F+Q.x,s+Q.y,h,d,$,K);a[z]=t;a[z+1]=J;
v[z]=W;v[z+1]=W;z+=2}else{var L=top[i[J]],A=n,j=0,G=0,O=0;n++;j+=k.wG.tz(P+I.x,V+I.y,P+Q.x,V+Q.y,h,d,$,K);
j+=k.wG.tz(F+I.x,s+I.y,F+Q.x,s+Q.y,h,d,$,K);G+=k.wG.tz(P+L.x,V+L.y,P+Q.x,V+Q.y,h,d,$,K);G+=k.wG.tz(F+L.x,s+L.y,F+Q.x,s+Q.y,h,d,$,K);
O+=k.wG.tz(P+L.x,V+L.y,P+I.x,V+I.y,h,d,$,K);O+=k.wG.tz(F+L.x,s+L.y,F+I.x,s+I.y,h,d,$,K);a[z]=t;a[z+1]=A;
v[z]=j;v[z+1]=j;z+=2;a[z]=J;a[z+1]=A;v[z]=G;v[z+1]=G;z+=2;a[z]=A;a[z+1]=l+1;v[z]=O;v[z+1]=0;z+=2}}}a[z]=l;
a[z+1]=t;v[z]=q;v[z+1]=0;z+=2;a[z]=t;a[z+1]=l+1;v[z]=X;v[z+1]=0;z+=2;Z+=Math.min(q,X)}if(Z>S)continue;
var o=k.fV.gd(n,z,l,l+1,a,v,S);if(o.u4<S){S=o.u4;var N=i.slice(0);k.wG.auJ(N,z,a,o.ia,m,l);Y=N}}if(S*1>=y){break}y=S;
i=Y;if((E&3)==0){if(S*1.03>=r)break;r=S}if((E&3)==0){var w=0*top.length;for(var t=0;t<top.length&&top.length>w;
t++){if(i.indexOf(t)!=-1)continue;top.splice(t,1);for(var J=0;J<i.length;J++)if(i[J]>t)i[J]--;t--}}}return i};
k.wG.auJ=function(i,$,h,d,K,f){for(var t=0;t<d.length;t++){var l=d[t]<<1,u=0,U=0;if(l<$){u=h[l];U=h[l+1]}else{U=h[l];
u=h[l+1]}if(u==f&&i[U]!=K)i[U]=K}};k.wG.Jh=function(top,i,$,h,d,K,f,l,u){for(var t=0;t<$.length;t++){var U=$[t],y=!0;
if(l!=null&&!(k.wG.o8(l+U.x,u+U.y,K,f)&&h[K*(u+U.y)+l+U.x]==-1))continue;if(U.em==-1)U.em=k.wG.aiz(U,h,d,K,f);
if(U.em<=0)continue;for(var a=0;a<top.length;a++){var v=top[a],c=U.x-v.x,p=U.y-v.y;if(c*c+p*p<i){y=!1;
break}}if(y)return U}return null};k.wG.aiz=function(i,$,h,d,K){var f=0;for(var t=0;t<h.length;t+=2){var l=h[t]+i.x,u=h[t+1]+i.y;
if(k.wG.o8(l,u,d,K)&&$[d*u+l]==-1)f++}return f/(h.length>>1)};k.wG.a1G=function(i,$,h,d,K,f){var top=[];
for(var t=0;t<60;t++){var l=k.wG.Jh(top,25,h,d,K,i,$);if(l==null)break;else top.push(l)}if(top.length==0)return null;
var u=[];for(var t=0;t<f;t++){var U=K[t*2],y=K[t*2+1],a=-1,v=0;while(!0){v++;var c=Math.random();a=Math.floor(c*.99999*top.length);
var p=top[a],C=U+p.x,T=y+p.y;if(k.wG.o8(C,T,i,$)&&d[T*i+C]==-1)break;if(v>100){var l;l=k.wG.Jh(top,0,h,d,K,i,$,U,y);
if(l==null)return null;top.push(l);v=0}}u.push(a)}return{top:top,M0:u}};k.wG.tz=function(i,$,h,d,K,f,l,u){if(i==h&&$==d)return 0;
if(i<0||$<0||i>=K||$>=f||h<0||d<0||h>=K||d>=f||u[$*K+i]!=-1||u[d*K+h]!=-1)return 1e7;var U=$*K+i<<2,y=d*K+h<<2,a=l[U]-l[y],v=l[U+1]-l[y+1],c=l[U+2]-l[y+2];
return 1+(a*a+v*v+c*c)};k.wG.o8=function(i,$,h,d){return i>=0&&i<h&&$>=0&&$<d};k.wG.aso=function(i,$,h,d){var K=24*i,f=$[K],l=$[K+1],u=d*d,U=0,c=1e9;
while(h[U]!=99)if($[K+h[U]]<h[U+1])U=h[U+2];else U=h[U+3];var y=h[U+1],a=h[U+2],v=-1;for(var t=y;t<=a;
t++){var U=t,p=U*24,C=$[p],T=$[p+1];if((C-f)*(C-f)+(T-l)*(T-l)<u)continue;var E=k.wG.getError(p,K,$,c);
if(E<c){c=E;v=U}}return v};k.wG.getError=function(i,$,h,d){var K=0;for(var f=4;f<24;f+=4){var l=h[$+f]-h[i+f],u=h[$+f+1]-h[i+f+1],U=h[$+f+2]-h[i+f+2],y=h[$+f+3]-h[i+f+3];
K+=l*l+u*u+U*U+y*y;if(K>=d)return K+1}return K};k.wG.Ev=function(i,$,h,d,K){var f=16,c=0;if($-i<=f){h.push(99,i,$);
return}k.wG.nP(i,$,d,K);var l=-1,u=-1;for(var t=4;t<24;t++){var U=K[2*t+1]-K[2*t];if(U>u){u=U;l=t}}var y=i+$>>1,a=k.wG.aoT(y,i,$,d,l),v=-1;
for(var t=i;t<=$;t++)if(d[24*t+l]==a){if(v==-1)v=t;c=t}if(i+8<v&&v-i>$-c)y=v;else if(c+1<$-8)y=c+1;else if($-i<64){h.push(99,i,$);
return}else y=y;var p=h.length;h.push(l,a,0,0);h[p+2]=p+4;k.wG.Ev(i,y-1,h,d,K);h[p+3]=h.length;k.wG.Ev(y,$,h,d,K)};
k.wG.nP=function(i,$,h,d){for(var t=0;t<48;t+=4){d[t]=3e4;d[t+1]=-3e4;d[t+2]=3e4;d[t+3]=-3e4}for(var t=i;
t<=$;t++){var K=t*24;for(var f=0;f<24;f++){var l=h[K+f],u=d[f<<1],U=d[(f<<1)+1];if(l<u)d[f<<1]=l;if(l>U)d[(f<<1)+1]=l}}};
k.wG.nq=function(i,$,h){var d=0,t=0;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;
t++;d=h[i+t];h[i+t]=h[$+t];h[$+t]=d;t++};k.wG.rk=function(i,$,h,d){var K=h+d>>>1,f=i[24*K+$];while(h<=d){while(i[24*h+$]<f)h++;
while(i[24*d+$]>f)d--;if(h<=d){if(i[24*h+$]!=i[24*d+$])k.wG.nq(h*24,d*24,i);h++;d--}}return h};k.wG.aoT=function(i,$,h,d,K){var f=0;
while($!=h){f=k.wG.rk(d,K,$,h);if(i<f)h=f-1;else $=f}return d[i*24+K]};k.wG.pv=function(i,$,h,d){for(var t=0;
t<d;t++)$[h+t]=i[t]};k.wG.ajA=function(i,$,h,d,K,f,l,u,U){var y=(d-3)*K+(h-3),a=y<<2;for(var v=0;v<8;
v++){if($[y]+$[y+1]+$[y+2]+$[y+3]+$[y+4]+$[y+5]+$[y+6]+$[y+7]!=0||i[a+3]<200||i[a+7]<200||i[a+11]<200||i[a+15]<200||i[a+19]<200||i[a+23]<200||i[a+27]<200||i[a+31]<200)return 1;
var t=v<<3;l[t+0]=i[a+0];u[t+0]=i[a+1];U[t+0]=i[a+2];l[t+1]=i[a+4];u[t+1]=i[a+5];U[t+1]=i[a+6];l[t+2]=i[a+8];
u[t+2]=i[a+9];U[t+2]=i[a+10];l[t+3]=i[a+12];u[t+3]=i[a+13];U[t+3]=i[a+14];l[t+4]=i[a+16];u[t+4]=i[a+17];
U[t+4]=i[a+18];l[t+5]=i[a+20];u[t+5]=i[a+21];U[t+5]=i[a+22];l[t+6]=i[a+24];u[t+6]=i[a+25];U[t+6]=i[a+26];
l[t+7]=i[a+28];u[t+7]=i[a+29];U[t+7]=i[a+30];a+=K<<2;y+=K}return 0};k.wG.YZ=function(i,$){$[0]=i[32]+i[0];
$[1]=i[33]+i[1];$[2]=i[34]+i[2];$[3]=i[35]+i[3];$[4]=i[36]+i[4];$[5]=i[37]+i[5];$[6]=i[38]+i[6];$[7]=i[39]+i[7];
$[8]=i[40]+i[8];$[9]=i[41]+i[9];$[10]=i[42]+i[10];$[11]=i[43]+i[11];$[12]=i[44]+i[12];$[13]=i[45]+i[13];
$[14]=i[46]+i[14];$[15]=i[47]+i[15];$[16]=i[48]+i[16];$[17]=i[49]+i[17];$[18]=i[50]+i[18];$[19]=i[51]+i[19];
$[20]=i[52]+i[20];$[21]=i[53]+i[21];$[22]=i[54]+i[22];$[23]=i[55]+i[23];$[24]=i[56]+i[24];$[25]=i[57]+i[25];
$[26]=i[58]+i[26];$[27]=i[59]+i[27];$[28]=i[60]+i[28];$[29]=i[61]+i[29];$[30]=i[62]+i[30];$[31]=i[63]+i[31];
$[32]=i[0]-i[32];$[33]=i[1]-i[33];$[34]=i[2]-i[34];$[35]=i[3]-i[35];$[36]=i[4]-i[36];$[37]=i[5]-i[37];
$[38]=i[6]-i[38];$[39]=i[7]-i[39];$[40]=i[8]-i[40];$[41]=i[9]-i[41];$[42]=i[10]-i[42];$[43]=i[11]-i[43];
$[44]=i[12]-i[44];$[45]=i[13]-i[45];$[46]=i[14]-i[46];$[47]=i[15]-i[47];$[48]=i[16]-i[48];$[49]=i[17]-i[49];
$[50]=i[18]-i[50];$[51]=i[19]-i[51];$[52]=i[20]-i[52];$[53]=i[21]-i[53];$[54]=i[22]-i[54];$[55]=i[23]-i[55];
$[56]=i[24]-i[56];$[57]=i[25]-i[57];$[58]=i[26]-i[58];$[59]=i[27]-i[59];$[60]=i[28]-i[60];$[61]=i[29]-i[61];
$[62]=i[30]-i[62];$[63]=i[31]-i[63];i[0]=$[16]+$[0];i[1]=$[17]+$[1];i[2]=$[18]+$[2];i[3]=$[19]+$[3];
i[4]=$[20]+$[4];i[5]=$[21]+$[5];i[6]=$[22]+$[6];i[7]=$[23]+$[7];i[8]=$[24]+$[8];i[9]=$[25]+$[9];i[10]=$[26]+$[10];
i[11]=$[27]+$[11];i[12]=$[28]+$[12];i[13]=$[29]+$[13];i[14]=$[30]+$[14];i[15]=$[31]+$[15];i[16]=$[0]-$[16];
i[17]=$[1]-$[17];i[18]=$[2]-$[18];i[19]=$[3]-$[19];i[20]=$[4]-$[20];i[21]=$[5]-$[21];i[22]=$[6]-$[22];
i[23]=$[7]-$[23];i[24]=$[8]-$[24];i[25]=$[9]-$[25];i[26]=$[10]-$[26];i[27]=$[11]-$[27];i[28]=$[12]-$[28];
i[29]=$[13]-$[29];i[30]=$[14]-$[30];i[31]=$[15]-$[31];$[0]=i[8]+i[0];$[1]=i[9]+i[1];$[2]=i[10]+i[2];
$[3]=i[11]+i[3];$[4]=i[12]+i[4];$[5]=i[13]+i[5];$[6]=i[14]+i[6];$[7]=i[15]+i[7];$[8]=i[0]-i[8];$[9]=i[1]-i[9];
$[10]=i[2]-i[10];$[11]=i[3]-i[11];$[12]=i[4]-i[12];$[13]=i[5]-i[13];$[14]=i[6]-i[14];$[15]=i[7]-i[15];
i[0]=$[4]+$[0];i[1]=$[5]+$[1];i[2]=$[6]+$[2];i[3]=$[7]+$[3];i[4]=$[0]-$[4];i[5]=$[1]-$[5];i[6]=$[2]-$[6];
i[7]=$[3]-$[7];i[8]=$[12]+$[8];i[9]=$[13]+$[9];i[10]=$[14]+$[10];i[11]=$[15]+$[11];i[12]=$[8]-$[12];
i[13]=$[9]-$[13];i[14]=$[10]-$[14];i[15]=$[11]-$[15];$[0]=i[2]+i[0];$[1]=i[3]+i[1];$[2]=i[0]-i[2];$[3]=i[1]-i[3];
$[4]=i[6]+i[4];$[5]=i[7]+i[5];$[6]=i[4]-i[6];$[7]=i[5]-i[7];$[8]=i[10]+i[8];$[9]=i[11]+i[9];$[10]=i[8]-i[10];
$[11]=i[9]-i[11];$[12]=i[14]+i[12];$[13]=i[15]+i[13];$[14]=i[12]-i[14];$[15]=i[13]-i[15];i[0]=$[1]+$[0];
i[1]=$[0]-$[1];i[2]=$[3]+$[2];i[3]=$[2]-$[3];i[4]=$[5]+$[4];i[5]=$[4]-$[5];i[6]=$[7]+$[6];i[7]=$[6]-$[7];
i[8]=$[9]+$[8];i[9]=$[8]-$[9];i[10]=$[11]+$[10];i[11]=$[10]-$[11];i[12]=$[13]+$[12];i[13]=$[12]-$[13];
i[14]=$[15]+$[14];i[15]=$[14]-$[15]};k.wG.adP=function(){var i="",b4=64,$="v",h="t",d="a",K=5,t,f,l;
for(t=b4>>1;t>0;t>>=1,K--){for(f=0;f<b4;f++){l=(f>>K&1)!=0;if(l){i+=h+"["+f+"] = "+$+"["+(-t+f)+"] - "+$+"["+f+"];  "}else{i+=h+"["+f+"] = "+$+"["+(t+f)+"] + "+$+"["+f+"];  "}}d=$;
$=h;h=d;i+="\n"}console.log(i)};k.wG.a2_=function(b4,i,$){var h=i,d=$,K=h,f=0,t,u,U;while(b4>>f!=2)f++;
var l=f;for(t=b4>>1;t>0;t>>=1,f--){for(u=0;u<b4;u++){U=(u>>f&1)!=0;if(U)d[u]=h[-t+u]-h[u];else d[u]=h[t+u]+h[u]}K=h;
h=d;d=K}if((l&1)==1)for(t=0;t<b4;t++)$[t]=h[t]};k.pl={};k.pl.Q7=function(i,$,h,d,K,f,l,u,U){var y=Date.now(),a=new Uint32Array(i.buffer),v=new Uint32Array($.buffer),c=l/h,p=u/d,C=1/c,T=1/p,E=new Float64Array(2),r=3,Y=1/r,S=1/(r*r),m=0,Q=0,z=h,n=d;
if(K){m=K.x;Q=K.y;z=K.e;n=K.n}for(var Z=0;Z<n;Z++)for(var P=0;P<z;P++){var V=m+P,I=Q+Z,t=I*h+V,q=t<<1,X=t<<2;
k.pl.a4D(f,l,u,(V+.5)*c,(I+.5)*p,E);var B=E[0]*C,e=E[1]*T;if(B==0&&e==0)v[t]=a[t];else{k.K.l9(V+B+.5,I+e+.5,a,h,d,v,t,U)}}};
k.pl.a4D=function(i,$,h,d,K,f){d-=.499999;K-=.499999;var l=~~d,u=~~K,U=d-l,y=K-u,a=(1-y)*(1-U),v=(1-y)*U,c=y*(1-U),p=y*U,C=l<$-1?l+1:l,T=u<h-1?u+1:u,E=u*$+l<<1,r=u*$+C<<1,Y=T*$+l<<1,S=T*$+C<<1;
f[0]=a*i[E]+v*i[r]+c*i[Y]+p*i[S];f[1]=a*i[E+1]+v*i[r+1]+c*i[Y+1]+p*i[S+1]};k.pl.alL=function(i,$,h,d,K){var f=1/i,l=[-1,1,-i,i],u=d.length;
for(var U=0;U<u;U++){var t=d[U],y=t<<1,a=U<<1,v=~~(t*f),c=t-i*v,p=h[y],C=h[y+1],T=0,E=0;if(c!=0&&c!=i-1){var r=t-1<<1,Y=t+1<<1,S=h[r],m=h[Y],Q=h[r+1],z=h[Y+1],n=p-(S+m)*.5,Z=C-(Q+z)*.5;
T-=n*K;E-=Z*K}if(v!=0&&v!=$-1){var r=t-i<<1,Y=t+i<<1,S=h[r],m=h[Y],Q=h[r+1],z=h[Y+1],n=p-(S+m)*.5,Z=C-(Q+z)*.5;
T-=n*K;E-=Z*K}h[y]=p+T;h[y+1]=C+E}};k.pl.a8s=function(i,$){var h=i+","+$;if(k.pl.kB==h)return k.pl.Na;
var d=k.pl.Na=[];k.pl.kB=h;for(var t=0;t<=1e3;t++){var K=t*.001,f=Math.sqrt(K),l=Math.exp(-4*f),u=.96*(1-f*f),U=$*((1-i)*l+i*u);
d[t]=U}return d};k.pl.kB="";k.pl.Na=[];k.pl.are=function(i,$,h,d,K,f,l,u,U,y,a,v,c){var p=Math.max(0,Math.floor(K-l-1)),C=Math.min($,Math.ceil(K+l+1)),T=Math.max(0,Math.floor(f-l-1)),E=Math.min(h,Math.ceil(f+l+1)),r=2*$,Y=l*l,S=1/l,m=0;
if(c&&(d==3||d==6))U=-U;var Q=k.pl.a8s(u,U);for(var z=T;z<E;z++)for(var n=p;n<C;n++){var t=z*$+n,Z=t<<1,P=(K-n)*S,V=(f-z)*S,I=P*P+V*V;
if(I<1){v[m]=t;var q=Q[~~(I*1e3)];if(d==1){i[Z]=i[Z]*(1-q*.05);i[Z+1]=i[Z+1]*(1-q*.05)}else{var X=0,B=0,s,J,W,L;
if(d==0){X=y*q;B=a*q}else if(d==2){}else if(d==3){X=q*V;B=-q*P}else if(d==4){X=q*P;B=q*V}else if(d==5){X=-q*P;
B=-q*V}else if(d==6){X=a*q;B=-y*q}var e=i[Z],F=i[Z+1];if(n==0||n!=$-1&&X<0){s=1+i[Z+2]-e;W=i[Z+3]-F}else{s=e-i[Z-2]+1;
W=F-i[Z-1]}if(z==0||z!=h-1&&B<0){J=i[Z+r]-e;L=1+i[Z+r+1]-F}else{J=e-i[Z-r];L=F-i[Z-r+1]+1}i[Z]=-(s*X+J*B-e);
i[Z+1]=-(W*X+L*B-F)}m++}}};k.pl.ayd=function(i){var $=i[0],h=i[0],d=i[1],K=i[1];for(var t=0;t<i.length;
t+=2){var f=i[t],l=i[t+1];if(f<$)$=f;else if(f>h)h=f;if(l<d)d=l;else if(l>K)K=l}return[$,d,h,K]};k.am0=function(i,$,h,d,K){function f(b,jU,_,cY){return Math.sqrt((b-_)*(b-_)+(jU-cY)*(jU-cY))}function l(b,jU){return b>=0&&b<$&&jU>=0&&jU<h}function u(b){if(b<0)return 0;
if(b>=$)return $-1;return b}function U(b){if(b<0)return 0;if(b>=h)return h-1;return b}function y(t,b){var jU=b[3]*(1/255),_=d[t]+b[0]*jU;
if(_>255)_=255;d[t]=_;_=d[t+1]+b[1]*jU;if(_>255)_=255;d[t+1]=_;_=d[t+2]+b[2]*jU;if(_>255)_=255;d[t+2]=_}function a(b,jU,_){if(!A(b,jU))return;
if(_[3]<0)_[3]=0;y((jU*$+b)*4,_)}function v(b){var jU=b.slice(0,3);jU[3]=0;return jU}var c=$/800;function p(b){return Math.round(b*c)}function C(){for(var t=0;
t<=300;t++){G[t]=T(t)}}function T(h){var b=.8,jU=.2,_=b*jU,cY=h/60%2-1,j3=_*(1-cY*cY),aS=jU-_,bL;if(h<60){bL=[_+aS,j3,0]}else if(h<120){bL=[j3,_,0]}else if(h<180){bL=[0,_,j3]}else if(h<240){bL=[0,j3,_]}else if(h<300){bL=[j3,0,_]}else{bL=[_,0,j3]}return[(bL[0]+aS)*255,(bL[1]+aS)*255,(bL[2]+aS)*255]}function E(h){return G[~~h]}function r(b){return 1-Y(b)}function Y(b){return b-~~b}function S(b,jU,_,cY){W(b,jU,_,0,jU+1,1,cY)}function m(b,jU,_,cY,j3,aS){W(b,jU,_,0,cY,1,j3,aS)}function Q(b){for(var t=0;
t<d.length;t+=4){y(t,b)}}function z(b,jU,_,cY,j3,aS,bL,cQ){n(b,jU,_,cY,j3,1,aS,bL,cQ)}function n(b,jU,_,cY,j3,aS,bL,cQ,cK){if(aS==null)aS=.5;
if(bL==null)bL=0;if(cQ==null)cQ=0;if(cK==null)cK=!1;var el=b.x,gF=b.y,fj=_.slice(0),i3=~~(_[3]*o);cY=cY*o;
if(!cK){jU=L(jU);j3=L(j3);bL=L(bL);cQ=L(cQ)}var eT=u(el-jU),eV=u(el+jU);for(var hr=eT;hr<=eV;hr++){var it=hr-el,f8=Math.floor(Math.sqrt(jU*jU-it*it)),i$=U(gF-f8),gS=U(gF);
for(var hT=i$;hT<=gS;hT++){var gL=f(hr,hT,el,gF);if(gL>jU||gL<=jU-j3)break;var iu=(gL-jU+j3)/j3;fj[3]=i3-cY*(aS==1?iu:Math.pow(iu,aS));
y((hT*$+hr)*4,fj)}i$=U(gF+f8);for(var hT=i$;hT>gS;hT--){var gL=f(hr,hT,el,gF);if(gL>jU||gL<=jU-j3)break;
var iu=(gL-jU+j3)/j3;fj[3]=i3-cY*(aS==1?iu:Math.pow(iu,aS));y((hT*$+hr)*4,fj)}}if(bL>0){W(b,jU+bL,fj,fj[3],bL,1,0,0,!0)}if(cQ>0){W(b,jU-j3,j(_),-_[3],cQ,1,0,0,!0)}}function Z(b,jU,_,cY,j3,aS){W(b,jU,_,_[3],jU+1,1,cY,j3,aS)}function P(b,jU,_,cY,j3){if(j3==null)j3=!1;
var aS=b.x,bL=b.y;cY*=o;if(!j3){jU=L(jU);_=L(_)}var cQ=u(aS-jU),cK=u(aS+jU);for(var el=cQ;el<cK;el++){var gF=el-aS,fj=~~Math.sqrt(jU*jU-gF*gF),i3=U(bL-fj),eT=U(bL);
for(var eV=i3;eV<=eT;eV++){var hr=f(el,eV,aS,bL);if(hr>jU||hr<=jU-_)break;var it=(jU-hr)/_,f8=E(300*it);
f8[3]=cY;y((eV*$+el)*4,f8)}i3=U(bL+fj);for(var eV=i3;eV>eT;eV--){var hr=f(el,eV,aS,bL);if(hr>jU||hr<=jU-_)break;
var it=(jU-hr)/_,f8=E(300*it);f8[3]=cY;y((eV*$+el)*4,f8)}}}function V(O,b){var jU=O.h5,_=O.IC,cY=b.slice(0),j3=b[3]*o,aS=Math.abs(_.y-jU.y)>Math.abs(_.x-jU.x);
if(aS){var bL=jU.x;jU.x=jU.y;jU.y=bL;bL=_.x;_.x=_.y;_.y=bL}if(jU.x>_.x){var bL=jU;jU=_;_=bL}var cQ=_.x-jU.x,cK=_.y-jU.y,el=cQ==0?1:cK/cQ,gF=Math.round(jU.x),fj=jU.y+el*(gF-jU.x),i3=r(jU.x+.5),eT=gF,eV=~~fj;
if(aS){cY[3]=j3*r(fj)*i3;a(eV,eT,cY);cY[3]=j3*Y(fj)*i3;a(eV+1,eT,cY)}else{cY[3]=j3*r(fj)*i3;a(eT,eV,cY);
cY[3]=j3*Y(fj)*i3;a(eT,eV+1,cY)}var hr=fj-el;gF=Math.round(_.x);fj=_.y+el*(gF-_.x);i3=Y(_.x+.5);var it=gF,f8=~~fj;
if(aS){cY[3]=j3*r(fj)*i3;a(f8,it,cY);cY[3]=j3*Y(fj)*i3;a(f8+1,it,cY)}else{cY[3]=j3*r(fj)*i3;a(it,f8,cY);
cY[3]=j3*Y(fj)*i3;a(it,f8+1,cY)}if(aS){for(var i$=eT+1;i$<=it-1;i$++){cY[3]=j3*r(hr);a(~~hr,i$,cY);cY[3]=j3*Y(hr);
a(~~hr+1,i$,cY);hr+=el}}else{for(var i$=eT+1;i$<=it-1;i$++){cY[3]=j3*r(hr);a(i$,~~hr,cY);cY[3]=j3*Y(hr);
a(i$,~~hr+1,cY);hr+=el}}}function I(b,jU,_,cY){for(var t=0;t<4;t++){var j3=b.Sg(jU+1.3*t,_);V(j3,cY,1)}}function cq(b,jU){this.x=Math.round(b);
this.y=Math.round(jU)}var q=Math.PI/180;cq.prototype.Sg=function(b,jU){b=b*q;var _=this.x+jU*Math.cos(b),cY=this.y+jU*Math.sin(b);
return new X(this.x,this.y,_,cY)};cq.prototype.a1R=function(b,jU){b=b*q;var _=this.T3+jU*Math.cos(b),cY=this.akN+jU*Math.sin(b);
return new cq(_,cY)};function X(b,jU,_,cY){this.h5=new cq(b,jU);this.IC=new cq(_,cY)}X.prototype.OB=function(b){var jU=b*this.h5.x+(1-b)*this.IC.x,_=b*this.h5.y+(1-b)*this.IC.y;
return new cq(jU,_)};var B=z,e=Z,F=S,s=m,J=P,W=n,L=p,A=l,j=v,G=[];C();for(var t=0;t<i.length;t++){d[t]=i[t]}var O=new X($*K[2],h*K[3],$/2,h/2),o=K[1],N=[];
N[0]=function w(){var b=[80,40,15,60],_=0,cY=0;F(O.OB(1.4),260,b,10);F(O.OB(1),100,[240,50,50,30],30);
e(O.OB(1),60,[255,40,0,40]);var jU=[255,255,255,255];W(O.OB(1),70,jU,jU[3],58,.5);F(O.OB(1),12,jU);jU[3]=40;
B(O.OB(1),150,jU,jU[3],150);for(var t=0;t<40;t++){_+=Math.random()*25;cY=Math.random()*L(300)+L(100);
var j3=O.OB(1).Sg(_,cY);V(O.OB(1).Sg(_,cY),[110,110,110,30])}e(O.OB(1),130,[255,255,255,8]);var aS=[170,30,23,70];
s(O.OB(1),70,aS,1,3,3);var bL=[60,60,130,40];F(O.OB(.47),44,bL,5);F(O.OB(.43),22,bL,3);bL[3]=16;F(O.OB(.53),15,bL,2);
var cQ=[138,94,42,100];F(O.OB(.2),16,cQ,2);var cK=[130,255,170,180];e(O.OB(0),4,cK);e(O.OB(-.25),5,cK);
cQ=[150,90,0,50];B(O.OB(-.45),55,j(cQ),-cQ[3],40,2);F(O.OB(-.42),35,cQ,2);F(O.OB(-.5),15,cQ,2);J(O.OB(-1.28),145,11,70);
var el=E(0);el[3]=50;B(O.OB(-1.28),149,el,el[3],4);el=E(300);el[3]=50;B(O.OB(-1.28),155-1,j(el),-el[3],3);
var gF=[130,130,10,50];s(O.OB(-1),73,gF,3,2);var fj=[40,130,70,40];B(O.OB(-1),70,j(fj),-fj[3],35);fj=[40,170,60,50];
F(O.OB(-.7),25,fj,4);var fj=[70,110,50,60];B(O.OB(1.3),30,j(fj),-fj[3],11,3);bL=[0,50,210,80];e(O.OB(-.72),20,bL)};
N[1]=function kv(){e(O.OB(1),150,[240,70,70,60]);F(O.OB(1),100,[200,60,60,40],30);var b=[255,255,255,255],jU=0,_=0;
W(O.OB(1),75,b,b[3],63);F(O.OB(1),12,b);e(O.OB(1),270,[200,200,200,20],10);for(var t=0;t<10;t++){jU+=10+Math.random()*40;
_=Math.random()*L(250)+L(80);var cY=O.OB(1).Sg(jU,_);V(cY,[110,110,110,35])}jU=5;_=100;for(var t=0;t<12;
t++){jU+=30;I(O.OB(1),jU,_,[90,90,90,40])}var j3=[150,40,23,100];s(O.OB(1),70,j3,1,3,3);var aS=[30,100,60,40];
e(O.OB(-.9),180,[255,255,255,20]);F(O.OB(-.9),140,aS,15);var bL=[170,80,25,15];s(O.OB(-.9),120,bL,1,4,4);
var cQ=[110,240,190,200];e(O.OB(-.6),3,cQ);cQ[3]=100;e(O.OB(-.6),7,cQ);var cK=[230,120,40,85];e(O.OB(-.73),9,cK);
var el=[60,60,190,50];F(O.OB(.3),28,el,6);el[3]=25;F(O.OB(.34),20,el,3)};N[2]=function g(){var b=[255,255,255,255],_=0,cY=0;
F(O.OB(1),13,b);W(O.OB(1),150,b,b[3],137);var jU=[120,80,35,20];F(O.OB(1.4),260,jU,10);for(var t=0;t<40;
t++){_+=5+Math.random()*30;cY=Math.random()*L(300);V(O.OB(1).Sg(_,cY),[110,110,110,20])}var j3=[10,30,255,30];
F(O.OB(1),70,j3,50);var aS=[15,90,170,15];F(O.OB(1.5),60,aS);var bL=[220,220,20,50];F(O.OB(-1.15),8,bL,2);
var b=[255,255,255,40];e(O.OB(-1.18),6,b);e(O.OB(-1.18),4,b);bL=[110,110,10,8];B(O.OB(-1.2),32,j(bL),-bL[3],20,3);
var cQ=[5,0,16,255];for(var t=0;t<4;t++){F(O.OB(-1.36),10,cQ,3)}var cK=[90,200,150,20],el=cK.slice(0);
el[3]*=2;F(O.OB(-1.32),7,el,3);F(O.OB(-1.36),7,el,3);F(O.OB(-1.4),7,el,3);var b=[230,230,230,100];e(O.OB(-1.36),2,b);
b[3]=3;F(O.OB(-.55),10,b);bL=[120,100,10,18];F(O.OB(-.55),160,bL,8);F(O.OB(-.55),80,bL,4);cK[3]=3;el[3]=6;
B(O.OB(-.49),13,j(el),-el[3],13,2);B(O.OB(-.55),13,j(el),-el[3],13,2);cK[3]=20;F(O.OB(.15),25,cK,3);
bL[3]=100;e(O.OB(-.52),3,bL);bL=[200,200,50,40];F(O.OB(.27),1,bL,4);var gF=[150,40,23,30];B(O.OB(1),80,j(gF),-gF[3],2,1)};
return N[K[0]]()};k.eE={};k.eE.Nj=function(i){var $=i.length,b4=i[0].length,h=new Array(b4);for(var t=0;
t<b4;t++)h[t]=new Array($);for(var t=0;t<b4;t++)for(var d=0;d<$;d++)h[t][d]=i[d][t];return h};k.eE.JI=function(i,$){var h=i.length,b4=i[0].length,d=new Array(h);
for(var t=0;t<h;t++)d[t]=new Array(b4);for(var t=0;t<h;t++)for(var K=0;K<b4;K++)d[t][K]=i[t][K]-$[t][K];
return d};k.eE.add=function(i,$){var h=i.length,b4=i[0].length,d=new Array(h);for(var t=0;t<h;t++)d[t]=new Array(b4);
for(var t=0;t<h;t++)for(var K=0;K<b4;K++)d[t][K]=i[t][K]+$[t][K];return d};k.eE.multiply=function(i,$){var h=i.length,d=i[0].length,b4=$[0].length;
if(d!=$.length)throw"e";var K=new Array(h);for(var t=0;t<h;t++)K[t]=new Array(b4);if((d&1)!=0)for(var t=0;
t<h;t++){var f=i[t],l=K[t];for(var u=0;u<b4;u++){var U=0;for(var y=0;y<d;y++)U+=f[y]*$[y][u];l[u]=U}}else for(var t=0;
t<h;t++){var f=i[t],l=K[t];for(var u=0;u<b4;u++){var U=0;for(var y=0;y<d;y+=2)U+=f[y]*$[y][u]+f[y+1]*$[y+1][u];
l[u]=U}}return K};k.eE.Po=function(i,$){var h=i.length,b4=i[0].length,d=new Array(h);for(var t=0;t<h;
t++){var K=0;for(var f=0;f<b4;f++)K+=i[t][f]*$[f];d[t]=K}return d};k.eE.Wk=function(i,$){var h=[];for(var t=0;
t<i;t++){h.push([]);for(var d=0;d<$;d++)h[t].push(0)}return h};k.eE.afA=function(i){for(var t=0;t<i.length;
t++)console.log(JSON.stringify(i[t]))};k.eE.akP=function(i){var $=[];for(var t=0;t<i.length;t++)$.push(i[t].join(","));
return"["+$.join(";")+"]"};k.eE.gd=function(i,$){var h=i.length;for(var d=0;d<h;d++){var K=0,f=Number.NEGATIVE_INFINITY;
for(var t=d;t<h;t++)if(Math.abs(i[t][d])>f){K=t;f=Math.abs(i[t][d])}k.eE.ab_(i,d,K);for(var t=d+1;t<h;
t++){if(i[d][d]==0)return 1;var l=i[t][d]/i[d][d];for(var u=d;u<h+1;u++)i[t][u]-=i[d][u]*l}}for(var t=h-1;
t>=0;t--){if(i[t][t]==0)return 1;var U=i[t][h]/i[t][t];$[t]=U;for(var u=t-1;u>=0;u--){i[u][h]-=i[u][t]*U;
i[u][t]=0}}return 0};k.eE.ab_=function(i,$,h){var d=i[$];i[$]=i[h];i[h]=d};k.eE.a02=function(i){var $=i.length,h=k.eE.Wk($,$);
for(var t=0;t<$;t++)h[t][t]=i[t];return h};k.eE.ayw=function(i){var $=i.length,h=i[0].length,d=new Array($);
for(var t=0;t<$;t++){d[t]=0;for(var K=0;K<h;K++)d[t]+=i[t][K];d[t]/=h}return d};k.eE.xy=function(i){var $=0;
for(var t=0;t<i.length;t++)$+=i[t]*i[t];return Math.sqrt($)};k.xP={};k.xP.jL=function(i){var $=~~(i+.5);
return $<0?0:$>255?255:$};k.xP.transform=function(i,$,h){var d=k.xP.jL,K=i.o.length;for(var t=0;t<K;
t++){var f=i.o[t],l=i.P[t],u=i.Z[t];$.o[t]=d(h[0]*f+h[1]*l+h[2]*u+h[3]*255);$.P[t]=d(h[4]*f+h[5]*l+h[6]*u+h[7]*255);
$.Z[t]=d(h[8]*f+h[9]*l+h[10]*u+h[11]*255)}};k.xP.BY=function(i,$,h){var d=k.xP.jL,K=i.length;for(var t=0;
t<K;t+=4){var f=i[t],l=i[t+1],u=i[t+2];$[t]=d(h[0]*f+h[1]*l+h[2]*u+h[3]*255);$[t+1]=d(h[4]*f+h[5]*l+h[6]*u+h[7]*255);
$[t+2]=d(h[8]*f+h[9]*l+h[10]*u+h[11]*255)}};k.xP.He=function(i){var $=i[0]+i[1]+i[2],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if($==1){var d=i.indexOf(1);h[d]=h[d+4]=h[d+8]=1}else{h[0]=i[0];h[5]=i[1];h[10]=i[2]}return h};k.xP.QD=function(i,$,h){return[1,0,0,i,0,1,0,$,0,0,1,h,0,0,0,1]};
k.xP.Fv=function(i,$,h){return[i,0,0,0,0,$,0,0,0,0,h,0,0,0,0,1]};k.xP.av0=function(i){return[i[0],i[1],i[2],i[4],i[5],i[6],i[8],i[9],i[10]]};
k.xP.NL=function(i){return[i[0],i[1],i[2],0,i[3],i[4],i[5],0,i[6],i[7],i[8],0,0,0,0,1]};k.xP.yf=function(i,$){return[i[0]*$[0]+i[1]*$[1]+i[2]*$[2]+i[3]*$[3],i[4]*$[0]+i[5]*$[1]+i[6]*$[2]+i[7]*$[3],i[8]*$[0]+i[9]*$[1]+i[10]*$[2]+i[11]*$[3],i[12]*$[0]+i[13]*$[1]+i[14]*$[2]+i[15]*$[3]]};
k.xP.Nj=function(i){var $=[];$[0]=i[0];$[1]=i[4];$[2]=i[8];$[3]=i[12];$[4]=i[1];$[5]=i[5];$[6]=i[9];
$[7]=i[13];$[8]=i[2];$[9]=i[6];$[10]=i[10];$[11]=i[14];$[12]=i[3];$[13]=i[7];$[14]=i[11];$[15]=i[15];
return $};k.xP.add=function(i,$){var h=i.slice(0);for(var t=0;t<16;t++)h[t]+=$[t];return h};k.xP.multiply=function(i,$){var h=[];
h[0]=i[0]*$[0]+i[1]*$[4]+i[2]*$[8]+i[3]*$[12];h[1]=i[0]*$[1]+i[1]*$[5]+i[2]*$[9]+i[3]*$[13];h[2]=i[0]*$[2]+i[1]*$[6]+i[2]*$[10]+i[3]*$[14];
h[3]=i[0]*$[3]+i[1]*$[7]+i[2]*$[11]+i[3]*$[15];h[4]=i[4]*$[0]+i[5]*$[4]+i[6]*$[8]+i[7]*$[12];h[5]=i[4]*$[1]+i[5]*$[5]+i[6]*$[9]+i[7]*$[13];
h[6]=i[4]*$[2]+i[5]*$[6]+i[6]*$[10]+i[7]*$[14];h[7]=i[4]*$[3]+i[5]*$[7]+i[6]*$[11]+i[7]*$[15];h[8]=i[8]*$[0]+i[9]*$[4]+i[10]*$[8]+i[11]*$[12];
h[9]=i[8]*$[1]+i[9]*$[5]+i[10]*$[9]+i[11]*$[13];h[10]=i[8]*$[2]+i[9]*$[6]+i[10]*$[10]+i[11]*$[14];h[11]=i[8]*$[3]+i[9]*$[7]+i[10]*$[11]+i[11]*$[15];
h[12]=i[12]*$[0]+i[13]*$[4]+i[14]*$[8]+i[15]*$[12];h[13]=i[12]*$[1]+i[13]*$[5]+i[14]*$[9]+i[15]*$[13];
h[14]=i[12]*$[2]+i[13]*$[6]+i[14]*$[10]+i[15]*$[14];h[15]=i[12]*$[3]+i[13]*$[7]+i[14]*$[11]+i[15]*$[15];
return h};k.xP.Sp=function(i){var $=[];$[0]=i[5]*i[10]*i[15]-i[5]*i[14]*i[11]-i[6]*i[9]*i[15]+i[6]*i[13]*i[11]+i[7]*i[9]*i[14]-i[7]*i[13]*i[10];
$[1]=-i[1]*i[10]*i[15]+i[1]*i[14]*i[11]+i[2]*i[9]*i[15]-i[2]*i[13]*i[11]-i[3]*i[9]*i[14]+i[3]*i[13]*i[10];
$[2]=i[1]*i[6]*i[15]-i[1]*i[14]*i[7]-i[2]*i[5]*i[15]+i[2]*i[13]*i[7]+i[3]*i[5]*i[14]-i[3]*i[13]*i[6];
$[3]=-i[1]*i[6]*i[11]+i[1]*i[10]*i[7]+i[2]*i[5]*i[11]-i[2]*i[9]*i[7]-i[3]*i[5]*i[10]+i[3]*i[9]*i[6];
$[4]=-i[4]*i[10]*i[15]+i[4]*i[14]*i[11]+i[6]*i[8]*i[15]-i[6]*i[12]*i[11]-i[7]*i[8]*i[14]+i[7]*i[12]*i[10];
$[5]=i[0]*i[10]*i[15]-i[0]*i[14]*i[11]-i[2]*i[8]*i[15]+i[2]*i[12]*i[11]+i[3]*i[8]*i[14]-i[3]*i[12]*i[10];
$[6]=-i[0]*i[6]*i[15]+i[0]*i[14]*i[7]+i[2]*i[4]*i[15]-i[2]*i[12]*i[7]-i[3]*i[4]*i[14]+i[3]*i[12]*i[6];
$[7]=i[0]*i[6]*i[11]-i[0]*i[10]*i[7]-i[2]*i[4]*i[11]+i[2]*i[8]*i[7]+i[3]*i[4]*i[10]-i[3]*i[8]*i[6];$[8]=i[4]*i[9]*i[15]-i[4]*i[13]*i[11]-i[5]*i[8]*i[15]+i[5]*i[12]*i[11]+i[7]*i[8]*i[13]-i[7]*i[12]*i[9];
$[9]=-i[0]*i[9]*i[15]+i[0]*i[13]*i[11]+i[1]*i[8]*i[15]-i[1]*i[12]*i[11]-i[3]*i[8]*i[13]+i[3]*i[12]*i[9];
$[10]=i[0]*i[5]*i[15]-i[0]*i[13]*i[7]-i[1]*i[4]*i[15]+i[1]*i[12]*i[7]+i[3]*i[4]*i[13]-i[3]*i[12]*i[5];
$[11]=-i[0]*i[5]*i[11]+i[0]*i[9]*i[7]+i[1]*i[4]*i[11]-i[1]*i[8]*i[7]-i[3]*i[4]*i[9]+i[3]*i[8]*i[5];$[12]=-i[4]*i[9]*i[14]+i[4]*i[13]*i[10]+i[5]*i[8]*i[14]-i[5]*i[12]*i[10]-i[6]*i[8]*i[13]+i[6]*i[12]*i[9];
$[13]=i[0]*i[9]*i[14]-i[0]*i[13]*i[10]-i[1]*i[8]*i[14]+i[1]*i[12]*i[10]+i[2]*i[8]*i[13]-i[2]*i[12]*i[9];
$[14]=-i[0]*i[5]*i[14]+i[0]*i[13]*i[6]+i[1]*i[4]*i[14]-i[1]*i[12]*i[6]-i[2]*i[4]*i[13]+i[2]*i[12]*i[5];
$[15]=i[0]*i[5]*i[10]-i[0]*i[9]*i[6]-i[1]*i[4]*i[10]+i[1]*i[8]*i[6]+i[2]*i[4]*i[9]-i[2]*i[8]*i[5];var h=i[0]*$[0]+i[1]*$[4]+i[2]*$[8]+i[3]*$[12];
for(var t=0;t<16;t++)$[t]/=h;return $};k.xP.auL=function(i){var $=[],h=i[5]*i[10]*i[15]-i[5]*i[14]*i[11]-i[6]*i[9]*i[15]+i[6]*i[13]*i[11]+i[7]*i[9]*i[14]-i[7]*i[13]*i[10],d=-i[4]*i[10]*i[15]+i[4]*i[14]*i[11]+i[6]*i[8]*i[15]-i[6]*i[12]*i[11]-i[7]*i[8]*i[14]+i[7]*i[12]*i[10],K=i[4]*i[9]*i[15]-i[4]*i[13]*i[11]-i[5]*i[8]*i[15]+i[5]*i[12]*i[11]+i[7]*i[8]*i[13]-i[7]*i[12]*i[9],f=-i[4]*i[9]*i[14]+i[4]*i[13]*i[10]+i[5]*i[8]*i[14]-i[5]*i[12]*i[10]-i[6]*i[8]*i[13]+i[6]*i[12]*i[9];
return i[0]*h+i[1]*d+i[2]*K+i[3]*f};k.xP.R5=k.xP.NL([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
k.xP.ahH=k.xP.NL([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
k.xP.zG=k.xP.Sp(k.xP.R5);k.fV={};k.fV.fG=new Uint32Array(1);k.fV.vT=function(i,$,h,d,K,f){var l=new Uint32Array(i),u=0,U=k.fV.fG;
if(U.length<$*4)k.fV.fG=U=new Uint32Array($*4);var y=new Float64Array(U.buffer);for(var t=0;t<$;t+=2){var a=K[t],v=K[t+1],c=f[t],p=f[t+1];
U[u]=v;y[u+2>>1]=c;U[u+1]=l[a];l[a]=u+1;u+=4;U[u]=a;y[u+2>>1]=p;U[u+1]=l[v];l[v]=u+1;u+=4}return{k4:U,av3:y,ai8:l}};
k.fV.gd=function(i,$,h,d,K,f,l){var u=1,U=k.fV.vT(i,$,h,d,K,f),y=U.k4,a=U.av3,v=U.ai8,c=new Uint32Array(i),p=new k.fV.XR(i),T=1,m=0;
p.push(h);p.push(d);var C=new k.fV.XR(i),E=new Uint8Array(i),r=new Uint32Array(i);E[h]=1;E[d]=2;var Y=new Uint32Array(i),S=new Uint32Array(i);
S[h]=S[d]=0;Y[h]=Y[d]=1;while(!0){var Q=-1,q=0,F=1e30;while(!p.dn()&&Q==-1){var z=p.top(),n=E[z],Z=v[z]-1;
while(Z!=-1){var P=y[Z],V=E[P],I=Z^n-1<<2;if(a[I+2>>1]!=0){if(V==0){k.fV.or(z,Z,P,E,r,S,Y);p.push(P)}else if(V==n&&Y[P]<=Y[z]&&S[P]>S[z])k.fV.or(z,Z,P,E,r,S,Y);
else if(V!=n){Q=I}}Z=y[Z+1]-1}if(Q!=-1)break;p.pop()}if(Q==-1){break}T++;var X=Q;while(X!=-1){c[q]=X;
q++;X=r[y[X^4]]-1}var B=q>>1;for(var t=0;t<B;t++){var e=c[t];c[t]=c[q-t-1];c[q-t-1]=e}X=r[y[Q]]-1;while(X!=-1){c[q]=X^4;
q++;X=r[y[X^4]]-1}for(var t=0;t<q;t++)F=Math.min(F,a[c[t]+2>>1]);m+=F;if(m>=l)return{ia:null,u4:m};for(var t=0;
t<q;t++){var s=c[t],J=s^4,z=y[J],P=y[s];a[s+2>>1]-=F;a[J+2>>1]+=F;if(a[s+2>>1]==0&&E[z]==E[P]){if(E[z]==1){r[P]=0;
C.push(P)}if(E[z]==2){r[z]=0;C.push(z)}}}while(!C.dn()){var z=C.pop(),n=E[z],Z=v[z]-1,W=n==1?4:0,L=0,A=0,j=1e9;
while(Z!=-1){var P=y[Z],G=Z^4,I=Z^W;if(E[P]==n&&a[I+2>>1]>0&&k.fV.au_(P,h,d,r,y,T,Y,S)+1<j){L=P;A=G;
j=S[P]+1}Z=y[Z+1]-1}if(A!=0){k.fV.or(L,A,z,E,r,S,Y);continue}Z=v[z]-1;while(Z!=-1){var P=y[Z],I=Z^W;
if(E[P]==n){if(a[I+2>>1]>0){p.push(P)}if(r[P]==Z+1){r[P]=0;C.push(P)}}Z=y[Z+1]-1}E[z]=0;p.remove(z)}}var O=[];
for(var t=0;t<$;t+=2){var z=K[t],P=K[t+1];if(E[z]==1&&E[P]!=1){O.push(t>>1)}if(E[P]==1&&E[z]!=1){O.push($+t>>1)}}return{ia:O,u4:m}};
k.fV.or=function(i,$,h,d,K,f,l){d[h]=d[i];K[h]=$+1;f[h]=f[i]+1;l[h]=l[i]};k.fV.au_=function(i,$,h,d,K,f,l,u){var U=i,y=d[i]-1,a=0;
while(y!=-1&&l[i]!=f){i=K[y^4];y=d[i]-1;a++}if(y==-1&&i!=$&&i!=h)return 1e9;var v=u[i]+a;a=0;y=d[U]-1;
while(U!=i){u[U]=v-a;a++;l[U]=f;U=K[y^4];y=d[U]-1}return v};k.fV.arG=function(i,$,h,d,K,f){var l=k.fV.vT(i,$,h,d,K,f),u=l.k4,U=l.av3,y=l.ai8,a=0,v=0,c=new Uint32Array(i*2),p=new k.fV.Be(i),C=0;
while(!0){p.reset();p.push(h);for(var t=0;t<i;t++)c[t<<1]=0;while(!p.dn()){var T=p.pop(),E=y[T]-1;while(E!=-1){C=u[E];
if(c[C<<1]==0&&U[E+2>>1]>0&&C!=h){c[C<<1]=T+1;c[(C<<1)+1]=E;p.push(C)}E=u[E+1]-1}if(c[d<<1]!=0){break}}if(c[d<<1]==0){break}var r=1e30;
C=d;while(!0){var Y=c[C<<1]-1;if(Y==-1)break;var S=c[(C<<1)+1];r=Math.min(r,U[S+2>>1]);C=Y}C=d;while(!0){var Y=c[C<<1]-1;
if(Y==-1)break;var S=c[(C<<1)+1],m=S^4;U[S+2>>1]-=r;U[m+2>>1]+=r;C=Y}a+=r}var Q=[];for(var t=0;t<$;t+=2){var Y=K[t],C=K[t+1];
if((c[Y<<1]!=0||Y==h)&&c[C<<1]==0&&C!=h){Q.push(t>>1)}if((c[C<<1]!=0||C==h)&&c[Y<<1]==0&&Y!=h){Q.push($+t>>1)}}return{ia:Q,u4:a}};
k.fV.Be=function(i){i|=i>>1;i|=i>>2;i|=i>>4;i|=i>>8;i|=i>>16;this.tC=new Uint32Array(i+1);this.B5=i;
this.IJ=0;this.FE=0};k.fV.Be.prototype={push:function(i){var $=this.FE;this.tC[$]=i;this.FE=$+1&this.B5},pop:function(){var i=this.IJ,$=this.tC[i];
this.IJ=i+1&this.B5;return $},dn:function(){return this.IJ==this.FE},reset:function(){this.IJ=0;this.FE=0}};
k.fV.XR=function(i){i|=i>>1;i|=i>>2;i|=i>>4;i|=i>>8;i|=i>>16;this.tC=new Uint32Array(i+1);this.t8=new Uint32Array(i+1);
this.B5=i;this.IJ=0;this.FE=0};k.fV.XR.prototype={top:function(){return this.tC[this.IJ]},arj:function(){return this.tC[this.FE]},push:function(i){if(this.t8[i]!=0)return;
this.t8[i]=this.FE+1;var $=this.FE;this.tC[$]=i;this.FE=$+1&this.B5},pop:function(){var i=this.IJ,$=this.tC[i];
this.t8[$]=0;this.IJ=i+1&this.B5;return $},dn:function(){return this.IJ==this.FE},remove:function(i){var $=this.t8[i]-1;
if($==-1)return;this.t8[i]=0;if($==this.IJ){this.pop();return}var h=this.pop();this.tC[$]=h;this.t8[h]=$+1},cK:function(t){return t+this.B5+1&this.B5}};
k.fV.py=function(i,$,h){var d=k.fV.rk(i,$,h);if($<d-1)k.fV.py(i,$,d-1);if(d<h)k.fV.py(i,d,h)};k.fV.rk=function(i,$,h){var d=i[$+h>>>1];
while($<=h){while(i[$]<d)$++;while(i[h]>d)h--;if($<=h){k.fV.nq(i,$,h);$++;h--}}return $};k.fV.nq=function(i,$,h){var d=i[$];
i[$]=i[h];i[h]=d};k.X={};k.X.HU=function(i){for(var t=0;t<i.length;t++)k.X.jC(i,t)};k.X.jC=function(i,t){i[t].v.keyShapeInvalidated={t:"bool",v:!0}};
k.X.atm=function(i){for(var t=0;t<i.length;t++)i[t].v.keyOriginIndex.v=t};k.X.N5=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
k.X.FF=function(i){i=i.v;var $={Rctn:2,Ln:4,Elps:5},h=$[i.classID],d=i.topLeft?k.X.Cy(i):null,K=null,f=0,l=[!1,!1,0,0,0];
if(h==4){var u=i.Strt.v,U=i.End.v;K=[u.Hrzn.v.val,u.Vrtc.v.val,U.Hrzn.v.val,U.Vrtc.v.val];f=i.Wdth.v.val;
for(var t=0;t<2;t++){var y=i[t==0?"StrA":"EndA"];if(y==null)continue;y=y.v;l[t]=y.On.v;l[2]=y.Wdth.v;
l[3]=y.Lngt.v;l[4]=y.Cncv.v.val}}if(h==null)return null;return k.X.f9(h,h==4?null:k.X.jg(i),d,K,f,l)};
k.X.sX=function(i,$,h,d,K,f,l){var u={classID:i,unitValueQuadVersion:{t:"long",v:1}};if($)k.X.nu(u,["Left","Top","Rght","Btom"],$);
if(h)k.X.nu(u,["topLeft","topRight","bottomRight","bottomLeft"],h);if(i=="Ln"){u.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:d[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:d[1]}}}},u.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:d[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:d[3]}}}},u.Wdth={t:"UntF",v:{type:"#Pxl",val:K}};
for(var t=0;t<2;t++){var U=t==0?"StrA":"EndA";u[U]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:l[t]},Wdth:{t:"doub",v:l[2]},Lngt:{t:"doub",v:l[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:l[4]}}}}}}if(f)u.Nm={t:"TEXT",v:f};
return{t:"Objc",v:u}};k.X.Ty=function(i,$){var h=k.X.e3(i),d=i[2]-i[0],K=i[3]-i[1],f=Math.sqrt(d*d+K*K),l=[0,0,f,0,f,$,0,$],u=new ej;
u.rotate(-h);u.translate(i[0],i[1]);k.p.D(l,u,l);return l};k.X.f9=function(i,$,h,d,K,f){var l=k.X.N5(),u=l.v,U;
delete u.keyShapeInvalidated;u.keyOriginType={t:"long",v:i};u.keyOriginResolution={t:"doub",v:75};if(i==4){u.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:d[0]},Vrtc:{t:"doub",v:d[1]}}};
u.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:d[2]},Vrtc:{t:"doub",v:d[3]}}};U=k.X.Ty(d,K);
var y=k.p.nP(U);$=[y.x,y.y,y.x+y.e,y.y+y.n];u.keyOriginLineWeight={t:"doub",v:K};if(f)k.X.agr(u,f)}else U=[$[0],$[1],$[2],$[1],$[2],$[3],$[0],$[3]];
u.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};k.X.Ne(u,"keyOriginBoxCorners",U);var a={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
u.keyOriginShapeBBox={t:"Objc",v:a};k.X.Qu(u,$);if(h!=null){var v={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
u.keyOriginRRectRadii={t:"Objc",v:v};k.X.s6(u,h)}return l};k.X.D=function(i,$,h,d){var K=k.K.VC($),f=k.K.lq($),l=k.K.g4($),u=l.Pi*l.Zn-l.Z*l.sl;
for(var t=0;t<i.length;t++){var U=i[t].v;if(!k.X.zl(U))continue;if(h.length!=0&&h.indexOf(t)==-1)continue;
var y=U.keyOriginType.v,a=$;if(u<0&&y==2){var v=k.X.Bs(U),c=0;c=v[0];v[0]=v[1];v[1]=c;c=v[2];v[2]=v[3];
v[3]=c;k.X.s6(U,v);var p=k.X.TU(U,"keyOriginBoxCorners"),C=k.p.nP(p),T=C.x+C.e/2,E=new ej;E.translate(-T,0);
E.scale(-1,1);E.translate(T,0);a=k.K.hW(a,k.K.F0(E))}var r=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var Y=0;Y<r.length;Y++){var p=k.X.TU(U,r[Y]);if(p==null)continue;k.K.D(a,p);k.X.Ne(U,r[Y],p);var C=k.p.nP(p);
k.X.Qu(U,[C.x,C.y,C.x+C.e,C.y+C.n]);var S=new ej;S.rotate(-k.X.e3(p));var m={classID:"Trnf"};U.Trnf={t:"Objc",v:m};
var z="xx xy yx yy tx ty".split(" "),n=[S.Pi,S.Z,S.sl,S.Zn,S.wQ,S.FQ];for(var Z=0;Z<6;Z++)m[z[Z]]={t:"doub",v:n[Z]}}if(y==2&&d){var v=k.X.Bs(U);
for(var Y=0;Y<4;Y++)v[Y]=Math.round(v[Y]*$[0]);k.X.s6(U,v)}var p=k.X.TU(U,"keyOriginBoxCorners"),P=p[2]-p[0],V=p[3]-p[1],I=Math.sqrt(P*P+V*V);
P/=I;V/=I;var q=p[6]-p[0],X=p[7]-p[1],B=Math.sqrt(q*q+X*X);q/=B;X/=B;if(y==4){U.keyOriginLineWeight.v=B;
var e=k.X.aS(U);k.K.D($,e);k.X.ai4(U,e)}var F=P*q+V*X;if(Math.abs(F)>.001){k.X.jC(i,t)}}};k.X.zl=function(i){var $=i.keyShapeInvalidated,h=i.keyOriginType;
return($==null||!$.v)&&h!=null&&h.v!=9};k.X.a7x=function(i){var $=i.keyOriginType.v,h=k.X.QU(i),d=h[0],K=h[1],f=h[2],l=h[3],u=new ej,U=i.keyOriginPolyCornerRadius,p;
U=U?U.v:0;var y=k.X.TU(i,$==7||$==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),a=k.X.Yp(y),v=a[2],c=a[3];
d=-v/2;f=v/2;K=-c/2;l=c/2;u.rotate(-k.X.e3(y));u.wQ=a[0];u.FQ=a[1];if($==1||$==2){var C=$==1?0:k.X.Bs(i);
p=k.A.jY.Rect(d,K,f-d,l-K,C)}else if($==4){var T=k.X.aS(i),E=k.X.ae0(i);u=new ej;if(E==null)p=k.A.jY.j9(T[0],T[1],T[2],T[3],i.keyOriginLineWeight.v);
else p=k.A.jY.QI(T[0],T[1],T[2],T[3],i.keyOriginLineWeight.v,E)}else if($==5){p=k.A.jY.lQ(d,K,f-d,l-K)}else if($==7||$==8){var r=$==7?3:i.keyOriginPolySides.v;
p=k.A.jY.o1(0,0,100,Math.PI/r-Math.PI/2,r,U,f,l)}k.A.mu(p,u);return p};k.X.b5=function(i,$){var h=$.i;
for(var t=0;t<i.length;t++){var d=i[t].v;if(!k.X.zl(d))continue;var K=k.X.a7x(d),f=k.A.ec(h,t),l=k.A.sY(h,t);
K[2].N0=h[f].N0;var u=h;h=h.slice(0,f);for(var U=2;U<K.length;U++)h.push(K[U]);for(var U=f+l;U<u.length;
U++)h.push(u[U])}$.i=h;$.D3=!0};k.X.bS=function(i){var $=1e9,h=-$,d=1e9,K=-d,f=[],l=i.iW(),u=l[0],U=l[1];
for(var y=0;y<U.length;y++){var a=u[U[y]],v=a.add.vogk;if(v==null)continue;var c=a.add.vmsk.g;for(var p=0;
p<v.length;p++){var C=v[p].v,r=0;if(!k.X.zl(C))continue;if(U.length==1&&c.length!=0&&c.indexOf(p)==-1)continue;
var T=C.keyOriginType.v;if(T==9)continue;var E=k.X.QU(C);$=Math.min($,E[0]);d=Math.min(d,E[1]);h=Math.max(h,E[2]);
K=Math.max(K,E[3]);var Y=k.X.TU(C,"keyOriginBoxCorners");if(Y){var S=k.X.Yp(Y),m=S[2],Q=S[3];E[2]=E[0]+m;
E[3]=E[1]+Q;r=k.X.e3(Y)}var z=[T,E,r];f.push(z);if(T==2)z.push(k.X.Bs(C));if(T==7||T==8)z.push(C.keyOriginPolyCornerRadius.v);
if(T==8)z.push(C.keyOriginPolySides.v)}}return f.length==1?f[0]:[0,$<h?[$,d,h,K]:null,0]};k.X.e3=function(i){var $=i[2]-i[0],h=i[3]-i[1];
return-Math.atan2(-h,$)};k.X.apW=function(i,$,h){var d=k.X.bS(i),K=-1;for(var t=0;t<$.length;t++)if(JSON.stringify($[t])!=JSON.stringify(d[t]))K=t;
if(K==1||K==2){}var f=i.iW(),l=f[0],u=f[1];for(var U=0;U<u.length;U++){var y=l[u[U]],a=y.add.vogk;if(a==null)continue;
var v=y.add.vmsk.g;for(var c=0;c<a.length;c++){var p=a[c].v;if(!k.X.zl(p))continue;if(u.length==1&&v.length!=0&&v.indexOf(c)==-1)continue;
var C=p.keyOriginType.v;if(K==1||K==2){k.X.D(a,k.X.agZ(K,p,d,$),v,!1);break}if(K==3)if(C==2)k.X.s6(p,$[3]);
else p.keyOriginPolyCornerRadius.v=$[3];if(K==4)p.keyOriginPolySides.v=$[4];if(h)k.X.jC(a,c)}}};k.X.agZ=function(i,$,h,d){var K=d[1],f=h[1],l=(K[2]-K[0])/(f[2]-f[0]),u=(K[3]-K[1])/(f[3]-f[1]),U=new ej;
if(i==1){if(Math.max(Math.abs(l-1),Math.abs(u-1))>1e-8){var y=K[0],a=K[1];if(d[0]!=0){var v=k.X.TU($,"keyOriginBoxCorners");
y=v[0];a=v[1]}U.translate(-y,-a);U.rotate(d[2]);U.scale(l,u);U.rotate(-d[2]);U.translate(y,a)}else{U.translate(-f[0],-f[1]);
U.translate(K[0],K[1])}}else{if(d[0]!=0)K=k.X.QU($);var y=(K[0]+K[2])/2,a=(K[1]+K[3])/2;U.translate(-y,-a);
if(h[0]!=0)U.rotate(h[2]);U.rotate(-d[2]);U.translate(y,a)}return k.K.F0(U)};k.X.Yp=function(i){var $=i[0],h=i[1],d=i[2],K=i[3],f=i[4],l=i[5],u=i[6],U=i[7],y=d-$,a=K-h,v=Math.sqrt(y*y+a*a),y=f-d,a=l-K,c=Math.sqrt(y*y+a*a);
return[($+f)/2,(h+l)/2,v,c]};k.X.TU=function(i,$){var h=i[$];if(h==null)return null;var d=[];h=h.v;for(var K=0;
K<4;K++){var f=h["rectangleCorner"+["A","B","C","D"][K]].v;d.push(f.Hrzn.v,f.Vrtc.v)}return d};k.X.Ne=function(i,$,h){var d=i[$];
if(d==null)return null;d=d.v;for(var K=0;K<4;K++){var f="rectangleCorner"+["A","B","C","D"][K];d[f]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:h[2*K]},Vrtc:{t:"doub",v:h[2*K+1]}}}}};
k.X.QU=function(i){return k.X.jg(i.keyOriginShapeBBox.v)};k.X.jg=function(i){var $=i.classID,h=i.Left.v,d=i.Rght.v,K=i.Top.v,f=i.Btom.v;
if(h.val!=null){h=h.val;d=d.val;K=K.val;f=f.val}return[h,K,d,f]};k.X.Qu=function(i,$){k.X.nu(i.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],$)};
k.X.Bs=function(i){return k.X.Cy(i.keyOriginRRectRadii.v)};k.X.Cy=function(i){var $=[],h=["topLeft","topRight","bottomRight","bottomLeft"];
for(var d=0;d<4;d++)$.push(i[h[d]].v.val);return $};k.X.s6=function(i,$){k.X.nu(i.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],$)};
k.X.nu=function(i,$,h){var d=i.classID;if(d=="unitRect"||d=="radii"||d=="Rctn"){for(var t=0;t<4;t++)if(h[t]!=null)i[$[t]]={t:"UntF",v:{type:"#Pxl",val:h[t]}}}else{for(var t=0;
t<4;t++)if(h[t]!=null)i[$[t]]={t:"doub",v:h[t]}}};k.X.aS=function(i){var $=i.keyOriginLineStart.v,h=i.keyOriginLineEnd.v;
return[$.Hrzn.v,$.Vrtc.v,h.Hrzn.v,h.Vrtc.v]};k.X.ai4=function(i,$){var h=i.keyOriginLineStart.v,d=i.keyOriginLineEnd.v;
h.Hrzn.v=$[0];h.Vrtc.v=$[1];d.Hrzn.v=$[2];d.Vrtc.v=$[3]};k.X.ae0=function(i){var $=[],h=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var t=0;t<5;t++){var d=i["keyOriginLineArr"+h[t]];if(d==null)return null;$[t]=d.v}return $};k.X.agr=function(i,$){i.keyOriginLineArrowSt={t:"bool",v:$[0]};
i.keyOriginLineArrowEnd={t:"bool",v:$[1]};i.keyOriginLineArrWdth={t:"doub",v:$[2]};i.keyOriginLineArrLngth={t:"doub",v:$[3]};
i.keyOriginLineArrConc={t:"long",v:$[4]}};k.X.a4G=function(i){function $(n,Z){return Math.abs(n-Z)<.5}function h(n,Z){return $(n.x,Z.x)&&$(n.y,Z.y)}function d(n,Z,P,V,I,q,X){for(var t=0;
t<X;t++){var B=n[Z+(P+t)%X],e=V[I+(q+t)%X];if(!(h(B.F,e.F)&&h(B.Q2,e.Q2)&&h(B.ua,e.ua)))return!1}return!0}var K=[],f=k.A.P6(i);
for(var l=0;l<f;l++){var u=null,U=k.A.ec(i,l),y=i[U];if(y.length==4||y.length==8){var a=k.A.gH(i.slice(0,2).concat(i.slice(U,U+y.length+1)));
U=2;if(y.length==4){var v=k.A.rA(a,U+1,4),c=v.x,T=v.y,E=c+v.e,r=T+v.n;if(v.O()>4){if(k.A.VL(a.slice(U-2,U+5)))u=k.X.f9(2,[c,T,E,r],[0,0,0,0]);
else{var Y=-1;for(var t=0;t<4;t++)if($(a[U+1+t].F.y,r))Y=t;if(Y!=-1){var S=k.A.jY.lQ(c,T,E-c,r-T),m=d(a,U+1,Y,S,3,0,4);
if(m)u=k.X.f9(5,[c,T,E,r])}}}}if(y.length==8){var v=k.A.rA(a,U+1,8),c=v.x,T=v.y,E=c+v.e,r=T+v.n;if(v.O()>4){var Y=-1;
for(var t=0;t<8;t++)if($(a[U+1+(t+1&7)].F.y,T)&&$(a[U+1+(t+2&7)].F.y,T))Y=t;if(Y!=-1){var Q=Math.abs(a[U+1+Y].F.y-T),z=[Q,Q,Q,Q];
if(Q>.5){var S=k.A.jY.Rect(c,T,E-c,r-T,z),m=d(a,U+1,Y,S,3,0,8);if(m)u=k.X.f9(2,[c,T,E,r],z)}}}}}K.push(u?u:k.X.N5())}return K};
k.p={};k.p.clone=function(i){return{H:i.H.slice(0),C:i.C.slice(0)}};k.p.gK=function(i){if(i.length<6)return!0;
var $=i.length-4;for(var t=0;t<$;t+=2)if(!k.p.yS(i[t],i[t+1],i[t+2],i[t+3],i[t+4],i[t+5]))return!1;if(!k.p.yS(i[$],i[$+1],i[$+2],i[$+3],i[0],i[1]))return!1;
if(!k.p.yS(i[$+2],i[$+3],i[0],i[1],i[2],i[3]))return!1;return!0};k.p.yS=function(i,$,h,d,K,f){return($-d)*(K-h)+(h-i)*(f-d)>=0};
k.p.nk=function(i){var $={},h=null,d=0,K={M:2,L:2,Q:4,C:6},f="",l="";for(var t=0;t<i.H.length;t++){var u=i.H[t];
if(u[0]=="#")f=u;else if(u[0]=="X")f="";else if(u[0]=="O"&&u[1]=="-")l=u;else if(u=="OX")l="";else{var U=f+l;
h=$[U];if(h==null)h=$[U]={C:[],H:[]};h.H.push(u);var y=K[u];if(y==null)y=0;for(var a=0;a<y;a++)h.C.push(i.C[d+a]);
d+=y}}return $};k.p.HO=function(i,$,h){var d=i[$]-i[h-2],K=i[$+1]-i[h-1];return d*d+K*K<1e-4};k.p.Kg=function(i,$,h){i=k.p.S$(i);
var d=i.C,K=i.H,f=0,l="",u=0,U=0,f=0,v=null;for(var t=0;t<K.length;t++){var y=K[t];if(y=="M"){u=d[f];
U=d[f+1];f+=2;l=y}if(y=="C"){if(l=="Z"){K.splice(t,0,"M");d.splice(f,0,u,U);t--;continue}f+=6;l=y}if(y=="Z"){l=y}}var a=[];
f=0;for(var t=0;t<K.length;t++){var y=K[t];if(y=="M"){v={Iv:f,Kj:0,y2:!1};a.push(v);f+=2}if(y=="C"){v.Kj++;
f+=6}if(y=="Z"&&v!=null){v.y2=!0}}var c=[];for(var t=0;t<a.length;t++)if(a[t].Kj!=0)c.push(a[t]);a=c;
for(var t=0;t<a.length;t++){var p=a[t],C=p.Iv,T=C+2+p.Kj*6,r=0;p.yg=k.p.nP(d,C,T);var E=k.p.HO(d,C,T);
for(var Y=0;Y<p.Kj;Y++){var S=C+Y*6,m=S+6;r+=(d[m]-d[S])*(d[m+1]+d[S+1])}if(p.Kj==2){var Q=function(kv,g,b){var jU=1-b;
return jU*jU*jU*kv[g]+3*jU*jU*b*kv[g+2]+3*jU*b*b*kv[g+4]+b*b*b*kv[g+6]},z=d[C],n=d[C+1],Z=d[C+6],P=d[C+7],V=d[C+6],I=d[C+7],q=Q(d,C,.5),X=Q(d,C+1,.5),B=Q(d,C+6,.5),e=Q(d,C+7,.5);
r=(q-z)*(X-n)+(Z-q)*(P-X)+(B-Z)*(e-P)+(V-B)*(I-e)}if(!E)r+=(d[C]-d[T-2])*(d[C+1]+d[T-1]);p.BP=r<=0}for(var t=0;
t<a.length-1;t++)for(var S=t+1;S<a.length;S++){var F=a[t],s=a[S];if(s.yg.PH(F.yg)){a[t]=s;a[S]=F}}var J=a.length==0?!0:a[0].BP,W=[{type:6},{type:8,all:0}];
for(var t=0;t<a.length;t++){var p=a[t],C=p.Iv,T=C+2+p.Kj*6,E=k.p.HO(d,C,T),L=p.y2||E?0:3,A=p.BP==J&&!$?1:0;
if(!$&&t!=0){if(a[t-1].yg.PH(p.yg)&&a[t-1].BP!=p.BP)A=0;for(var S=0;S<a.length;S++)if(S!=t&&a[S].yg.PH(p.yg))A=0}W.push({type:L,length:p.Kj+(E?0:1),N0:h?1:A,Ur:2});
for(var S=0;S<p.Kj;S++){var f=C+S*6,j=new cq(d[f],d[f+1]),G=new cq(d[f+2],d[f+3]),O;if(S==0){if(E){O=new cq(d[T-4],d[T-3]);
if(cq.ED(O,j)<1e-5)O=j.clone()}else O=j.clone()}else O=new cq(d[f-2],d[f-1]);W.push({type:L+2,Q2:O,F:j,ua:G})}if(!E){var o=new cq(d[T-2],d[T-1]);
W.push({type:L+2,Q2:new cq(d[T-4],d[T-3]),F:o,ua:o.clone()})}}for(var S=0;S<W.length;S++){var N=W[S];
if(N.type>5||N.type==0||N.type==3)continue;var w=N.Q2.Rl(N.F)||N.ua.Rl(N.ua);if(!w){var F=N.Q2.x*(N.F.y-N.ua.y)+N.F.x*(N.ua.y-N.Q2.y)+N.ua.x*(N.Q2.y-N.F.y);
if(Math.abs(F)<1e-6)w=!0}if(w)N.type--}return W};k.p.Va=function(i,$){var h=k.A.P6(i),d=[];for(var t=2;
t<i.length;t++){var K=i[t].N0;if(K!=null){if(K==2||K==0||K==3)d.push(K)}}var f=d.length!=0;if((f||$)&&i.length<15e3&&1<h&&h<200)i=k.A.r0(i);
var l=k.p.nF(i);return{Ai:l,RG:f?1:0}};k.p.nF=function(){function i(d,K,f,l){if(!l&&d.ua.Rl(d.F)&&K.Q2.Rl(K.F)){f.C.push(K.F.x,K.F.y);
f.H.push("L")}else{var u=d.F,U=d.ua,y=K.Q2,a=K.F,v=3/2*U.x-1/2*u.x,c=3/2*U.y-1/2*u.y,p=3/2*y.x-1/2*a.x,C=3/2*y.y-1/2*a.y,T=p-v,E=C-c;
if(!l&&T*T+E*E<.001){f.C.push((v+p)*.5,(c+C)*.5,a.x,a.y);f.H.push("Q")}else{f.C.push(U.x,U.y,y.x,y.y,a.x,a.y);
f.H.push("C")}}}function $(d,K,t,f,l,u){var U=K[t];d.C.push(U.F.x,U.F.y);d.H.push("M");for(var y=t;y<t+f-1;
y++)i(K[y],K[y+1],d,u);if(!l)i(K[y],K[t],d,u)}function h(d,K){d=k.A.gH(d);if(K==null)K=!1;var f={C:[],H:[]};
for(var t=0;t<d.length;t++){if(d[t].type>5)continue;var l=d[t].length;if(l==0)continue;if(t==d.length-1)break;
var u=d[t].type==3;$(f,d,t+1,l,u,K);if(!u)f.H.push("Z");t+=l}return f}return h}();k.p.auv=function(i){var $=i.C,h=[],d,K=0;
for(var t=0;t<i.H.length;t++){var f=i.H[t];if(f=="C"){d.push($[K++],$[K++],$[K++],$[K++],$[K++],$[K++])}else if(f=="Z"){}else{d=[];
if(f!="M"){d.push(f);t++}d.push($[K++],$[K++]);h.push(d)}}return h};k.p.D$=function(i,$,h,d){if(d==null)d=1e9;
var K=1e9,f=0;for(var t=0;t<i.length;t+=2){var l=$-i[t],u=h-i[t+1],U=l*l+u*u;if(U<K){K=U;f=t>>>1}}return K<d*d?f:-1};
k.p.IV=function(i,$,h,d){for(var t=0;t<i.length;t+=2){var K=i[t],f=i[t+1],l=$[t],u=$[t+1];h[t]=K+(l-K)*d;
h[t+1]=f+(u-f)*d}};k.p.D=function(i,$,h){for(var t=0;t<i.length;t+=2){var d=i[t],K=i[t+1];h[t]=d*$.Pi+K*$.sl+$.wQ;
h[t+1]=d*$.Z+K*$.Zn+$.FQ}};k.p.nP=function(i,$,h){if($==null)$=0;if(h==null)h=i.length;var d=99999999999,K=-d,f=99999999999,l=-f;
for(var t=$;t<h;t+=2){var u=i[t],U=i[t+1];d=Math.min(d,u);f=Math.min(f,U);K=Math.max(K,u);l=Math.max(l,U)}return new bN(d,f,K-d,l-f)};
k.p.Ga=function(i,$){var h=Math.max($.x,Math.min($.x+$.e,i.x)),d=Math.max($.y,Math.min($.y+$.n,i.y)),K=i.x-h,f=i.y-d;
return Math.sqrt(K*K+f*f)};k.p.Ip=function(i){if(i.NT())return new bN(Math.floor(i.x),Math.floor(i.y),Math.ceil(i.e),Math.ceil(i.n));
var $=Math.floor(i.x),h=Math.ceil(i.x+i.e),d=Math.floor(i.y),K=Math.ceil(i.y+i.n);return new bN($,d,h-$,K-d)};
k.p.DS=function(i){return k.p.Ip(k.p.nP(i))};k.p.Hg=function(i){var $=i.x,h=i.y,d=i.x+i.e,K=i.y+i.n;
return{H:["M","L","L","L","Z"],C:[$,h,d,h,d,K,$,K]}};k.p.concat=function(i,$,h){if(h==null)h=new ej;
for(var t=0;t<$.C.length;t+=2){var d=$.C[t],K=$.C[t+1];i.C.push(d*h.Pi+K*h.sl+h.wQ);i.C.push(d*h.Z+K*h.Zn+h.FQ)}for(var t=0;
t<$.H.length;t++)i.H.push($.H[t])};k.p.ae2=function(i,$,h,d,K){function f(c,p,C){return new cq(c.x*(1-C)+p.x*C,c.y*(1-C)+p.y*C)}var l=f(i,$,K),u=f(h,d,K),U=f($,h,K),y=f(l,U,K),a=f(U,u,K),v=f(y,a,K);
return[l,y,v,a,u]};k.p.S$=function(i){var $=i.C,h=[],d=[],K=0,f=0,l=0,u=0,U=0,y=0,a=0,v=0,c=0,p=0,C=0;
for(var t=0;t<i.H.length;t++){var T=i.H[t];if(T=="M"){f=$[K];l=$[K+1];K+=2;d.push(T);h.push(f,l);p=f;
C=l}else if(T=="C"){u=$[K];U=$[K+1];y=$[K+2];a=$[K+3];v=$[K+4];c=$[K+5];K+=6;d.push(T);h.push(u,U,y,a,v,c);
f=v;l=c}else if(T=="Q"){u=$[K];U=$[K+1];y=$[K+2];a=$[K+3];K+=4;var E=u-f,r=U-l,Y=y-u,S=a-U;d.push("C");
h.push(f+2/3*E,l+2/3*r,u+1/3*Y,U+1/3*S,y,a);f=y;l=a}else if(T=="L"){u=$[K];U=$[K+1];K+=2;if(u!=f||U!=l){d.push("C");
h.push(f,l,u,U,u,U);f=u;l=U}}else{if(T=="Z"){f=p;l=C}d.push(T)}}return{H:d,C:h}};k.p.at5=function(i){var $=i.C,h=[],d=[],K=0;
for(var t=0;t<i.H.length;t++){var f=i.H[t];if(f=="Q"){var l=$[K-2],u=$[K-1],U=$[K],y=$[K+1],a=$[K+2],v=$[K+3];
K+=4;var c=U-l,p=y-u,C=a-U,T=v-y;d.push("C");h.push(l+2/3*c,u+2/3*p,U+1/3*C,y+1/3*T,a,v)}else{var E=0;
if(f=="M"||f=="L")E=2;else if(f=="C")E=6;for(var r=0;r<E;r++)h.push($[K+r]);K+=E;d.push(f)}}return{H:d,C:h}};
k.p.Xe=function(i,$){var h=i.C,d=[],K=[],f=0,l=0,u=0,U=0,y=0,a=0,v=0,c=0,p=0;for(var t=0;t<i.H.length;
t++){var C=i.H[t];if(C=="M"){l=h[f];u=h[f+1];f+=2;K.push(C);d.push(l,u)}else if(C=="C"){U=h[f];y=h[f+1];
a=h[f+2];v=h[f+3];c=h[f+4];p=h[f+5];f+=6;k.p.Yo(l,u,U,y,a,v,c,p,$,K,d,0);l=c;u=p}else K.push(C)}return{H:K,C:d}};
k.p.Yo=function(i,$,h,d,K,f,l,u,U,y,a,v){var c=Math.sqrt((l-i)*(l-i)+(u-$)*(u-$)),p=Math.sqrt((l-K)*(l-K)+(u-f)*(u-f))+Math.sqrt((K-h)*(K-h)+(f-d)*(f-d))+Math.sqrt((h-i)*(h-i)+(d-$)*(d-$)),C=(c+p)/2;
if(C<=U){y.push("C");a.push(h,d,K,f,l,u)}else{var T=0,E=0,r=0,Y=0,S=0,m=0,Q=0,z=0,n=0,Z=0,P=0,V=0,I=0;
E=(i+h)/2;r=($+d)/2;Y=(h+K)/2;S=(d+f)/2;m=(K+l)/2;Q=(f+u)/2;z=(E+Y)/2;n=(r+S)/2;Z=(Y+m)/2;P=(S+Q)/2;
V=(z+Z)/2;I=(n+P)/2;k.p.Yo(i,$,E,r,z,n,V,I,U,y,a,v+1);k.p.Yo(V,I,Z,P,m,Q,l,u,U,y,a,v+1)}};k.p.vt=function(i,$,h,d,K){var f=Date.now(),l=k.p.amO(i,$,h);
if(K){console.log("trace polygons",Date.now()-f);f=Date.now()}var u=[];for(var t=0;t<l.length;t++){var U=l[t],y=U[0],a=["M"],v=i[y[1]*$+y[0]];
if(y.length>8)y=k.p.tw(y,d,U[1]);if(y.length<=4)continue;for(var c=2;c<y.length;c+=2)a.push("L");a.push("Z");
u.push({path:{C:y,H:a},color:v,parent:-1,yg:k.p.nP(y)})}if(K){console.log("simplify polygons",Date.now()-f);
f=Date.now()}for(var t=1;t<u.length;t++){var p=u[t],C=p.path.C,T=C[0],E=C[1],r=C[2],Y=C[3],S=r-T,m=Y-E,Q=T+.5*S-.001*m,z=E+.5*m+.001*S;
for(var c=t-1;c>=0;c--){var n=u[c];if(!n.yg.PH(p.yg))continue;if(!ch.yL(n.path.C,Q,z))continue;p.parent=c;
break}}if(K){console.log("checking parents",Date.now()-f);f=Date.now()}return u};k.p.amO=function(i,$,h){var d=$*h,K=new Uint16Array($*h),l=0;
for(var t=0;t<d;t++)K[t]=i[t];var f=new Uint8Array($*h);f[1*$+1]=f[(h-1)*$+1]=f[1*$+$-1]=f[(h-1)*$+$-1]=1;
for(var u=1;u<h;u++)for(var U=1;U<$;U++){var t=u*$+U,y=K[t-$-1],a=K[t-$],v=K[t-1],c=K[t],p=y==c&&a==v&&y!=a,C=0;
if(c<v){l=c;c=v;v=l}if(v<a){l=v;v=a;a=l}if(a<y){l=a;a=y;y=l}if(c<v){l=c;c=v;v=l}if(v<a){l=v;v=a;a=l}if(c<v){l=c;
c=v;v=l}if(y!=a)C++;if(a!=v)C++;if(v!=c)C++;if(c!=y)C++;if(C>=3||p)f[t]=1}var T=[];for(var u=1;u<h;u++)for(var U=1;
U<$;U++){var t=u*$+U;if(K[t]!=K[t-1]){var E=k.p.aed(K,$,h,U,u),r=[];for(var Y=0;Y<E.length;Y+=2)if(f[E[Y+1]*$+E[Y]]==1)r.push(Y>>>1);
T.push([E,r]);k.p.R1(K,$,h,U,u)}}return T};k.p.R1=function(i,$,h,d,K){var f=[K*$+d],l=i[K*$+d];i[K*$+d]=65535;
while(f.length!=0){var t=f.pop();i[t]=0;if(i[t+$]==l){f.push(t+$);i[t+$]=65535}if(i[t-$]==l){f.push(t-$);
i[t-$]=65535}if(i[t-1]==l){f.push(t-1);i[t-1]=65535}if(i[t+1]==l){f.push(t+1);i[t+1]=65535}}};k.p.aed=function(i,$,h,d,K){var f=[0,-1,1,0,0,1,-1,0],a=1;
function l(c,p,a){var t=y*$+U,C=0;if(a==0)C=t-$;else if(a==1)C=t;else if(a==2)C=t-1;else if(a==3)C=t-$-1;
return i[C]}var u=[],U=d,y=K,v=l(U,y,a);do{u.push(U,y);U+=f[a*2];y+=f[a*2+1];if(l(U,y,a)!=v)a=a+1&3;
else if(l(U,y,a+3&3)!=v)a=a;else if(l(U,y,a+2&3)!=v)a=a+3&3}while(U!=d||y!=K);return u};k.p.tw=function(i,$,h){var d=i.length-2;
if(h&&h.length!=0){var K=h[0]*2,f=h[h.length-1]*2,l=K==0?d:K-2,u=i.slice(f);for(var t=0;t<K;t++)u.push(i[t]);
if(K==f)u.push(.9*i[K]+.1*i[l],.9*i[K+1]+.1*i[l+1]);else u.push(i[K],i[K+1]);u=k.p.jz(u,$);u.pop();u.pop();
for(var t=0;t<h.length-1;t++){var U=i.slice(h[t]*2,h[t+1]*2+2);U=k.p.jz(U,$);for(var y=0;y<U.length-2;
y++)u.push(U[y])}return u}var a=i.slice(0);a.push(.9*i[0]+.1*i[d],.9*i[1]+.1*i[d+1]);a=k.p.jz(a,$);a.pop();
a.pop();return a};k.p.jz=function(i,$){var h=i.length-2,d=i[0],K=i[1],f=i[h],l=i[h+1],u=f-d,U=l-K,y=1/Math.sqrt(u*u+U*U),a=f*K-l*d,v=-1,c=-1,p=0;
for(var t=2;t<h;t+=2){var C=i[t],T=i[t+1],E=T*T*1e6+C*C,r=Math.abs(U*C-u*T+a)*y;if(r>c||r==c&&E>p){c=r;
v=t;p=E}}if(c<$)return[d,K,f,l];var Y=k.p.jz(i.slice(0,v+2),$),S=k.p.jz(i.slice(v),$);for(var t=2;t<S.length;
t++)Y.push(S[t]);return Y};k.p.a8d=function(){var i=function(d,K,f,l,u,U){return(K-l)*(u-f)+(f-d)*(U-l)>=0},$=function(d,K,f,l,u,U,y,a){var v=y-f,c=a-l,p=u-f,C=U-l,T=d-f,E=K-l,r=v*v+c*c,Y=v*p+c*C,S=v*T+c*E,m=p*p+C*C,Q=p*T+C*E,z=1/(r*m-Y*Y),n=(m*S-Y*Q)*z,Z=(r*Q-Y*S)*z;
return n>=0&&Z>=0&&n+Z<1},h=function(d){var b4=d.length>>>1,t=0;if(b4<3)return[];var K=[],f=[];for(var t=0;
t<b4;t++)f.push(t);var l=b4;while(l>3){var u=f[(t+0)%l],U=f[(t+1)%l],y=f[(t+2)%l],a=d[2*u],v=d[2*u+1],c=d[2*U],p=d[2*U+1],C=d[2*y],T=d[2*y+1],E=!1;
if(i(a,v,c,p,C,T)){E=!0;for(var r=0;r<l;r++){var Y=f[r];if(Y==u||Y==U||Y==y)continue;if($(d[2*Y],d[2*Y+1],a,v,c,p,C,T)){E=!1;
break}}}if(E){K.push(u,U,y);f.splice((t+1)%l,1);l--;t=0}else if(t++>3*l)break}K.push(f[0],f[1],f[2]);
return K};return h}();k.p.atX=function(i,$){var h={},d={H:[],C:[]};for(var t=0;t<$.length;t+=3){var K=$[t]*2,f=$[t+1]*2,l=$[t+2]*2;
k.p.lM(i,K,f,d,h);k.p.lM(i,K,l,d,h);k.p.lM(i,f,l,d,h)}return d};k.p.lM=function(i,$,h,d,K){if($>h){var f=h;
h=$;$=f}if(K[$+","+h])return;K[$+","+h]=!0;d.H.push("M","L");d.C.push(i[$],i[$+1],i[h],i[h+1])};k.p.fl=function(i,$){var h=[],d=i.length;
for(var t=0;t<d;t+=2){var K=i[t],f=i[t+1],l=i[(t+2)%d],u=i[(t+3)%d];if(u<f){var U=f;f=u;u=U}if(f<$&&$<u){var y=($-f)/(u-f);
h.push(K+y*(l-K))}}h.sort(function(a,v){return a-v});return h};k.p.AV=function(i,$,h,d,K,f,l){var u=i-h,U=$-d,y=K-h,a=f-d,v=1/Math.sqrt(u*u+U*U),c=1/Math.sqrt(y*y+a*a),p=u*v,C=U*v,T=y*c,E=a*c,r=C*l,Y=-p*l,S=-E*l,m=T*l,Q=k.p.OE(r,Y,p,C,S,m,T,E),z=r+p*Q,n=Y+C*Q,Q=k.p.OE(0,0,p,C,z,n,-C,p),Z=p*Q,P=C*Q;
return[Math.sqrt(Z*Z+P*P),p,C,T,E]};k.p.asD=function(i,$,h,d,K,f,l){var u=k.p.AV(i,$,h,d,K,f,l),U=u[0],y=u[1],a=u[2],v=u[3],c=u[4],p=Math.atan2(y*c-a*v,y*v+a*c);
if(p<0){p=p*-1}var C=Math.PI-p,T=4/3*Math.tan(C/4),E=h+U*y,r=d+U*a,Y=h+U*v,S=d+U*c,m=E+T*l*-y,Q=r+T*l*-a,z=Y+T*l*-v,n=S+T*l*-c;
return[0,0,E,r,m,Q,z,n,Y,S]};k.p.OE=function(i,$,h,d,K,f,l,u){var U=l*($-f)-u*(i-K),y=u*h-l*d;if(y==0)return 0;
return U/y};k.p.aqJ=function(i,$,h,d,K,f){return i*(d-f)+h*(f-$)+K*($-d)};k.p.am2=function(i){function $(B,e,F,s,J,W,L,A,j){var G=k.p.OE(B,e,F,s,J,W,L,A);
j.push(B+F*G,e+s*G)}var h=[],d=i.length,K=[];for(var t=0;t<d;t+=2){var f=t==0?d-2:t-2,l=t==d-2?0:t+2,u=i[t],U=i[t+1],y=u-i[f],a=U-i[f+1],v=i[l]-u,c=i[l+1]-U,p=Math.sqrt(y*y+a*a),C=Math.sqrt(v*v+c*c);
K.push(C);var T=p/(p+C),E=u-y*.5,r=U-a*.5,Y=u+v*.5,S=U+c*.5,m=(i[l]+i[f])*.5,Q=(i[l+1]+i[f+1])*.5,z=E+T*(Y-E),n=r+T*(S-r),Z=u-z,P=U-n,V=(v*-y+c*-a)/(p*C),I=(T-.5)*7,q=1+I*T,X=1-I*(1-T);
h.push(E+Z*q,r+P*q,Y+Z*X,S+P*X)}return h};k.yr=function(){};k.yr.uB=function(i,$,h,d,K){var f=h.e,l=h.n,u=f*l,U=new Int32Array(u),b4=0;
for(var t=0;t<u;t++)if($[t]!=0){U[t]=b4;b4++}else if(i[(t<<2)+3]<200){U[t]=-2}else U[t]=-1;if(b4==0)return;
var y=new k.KM(b4,b4),a=new Array(3*b4),v=new Array(3*b4);for(var t=0;t<v.length;t++)v[t]=a[t]=0;var c=1/255,p=[-f,-1,1,f],C=[],T=[];
for(var E=0;E<l;E++)for(var r=0;r<f;r++){var Y=E*f+r,S=Y<<2,t=U[Y],m=t*3,Q=0,z=0,n=0;if(t==-1||t==-2)continue;
for(var Z=0;Z<4;Z++){if(Z==2){z=n;C[n]=0;T[n]=t;n++}var P=Y+p[Z],V=P<<2,I=U[P];if(Z==0&&E==0||Z==1&&r==0||Z==2&&r==f-1||Z==3&&E==l-1||I==-2)continue;
Q++;if(I==-1){a[m+0]+=i[V+0];a[m+1]+=i[V+1];a[m+2]+=i[V+2]}else{C[n]=-1;T[n]=I;n++;if($[Y]==$[P]){a[m+0]+=i[S+0]-i[V+0];
a[m+1]+=i[S+1]-i[V+1];a[m+2]+=i[S+2]-i[V+2]}}}C[z]=Q;y._Q(C,T,n)}for(var t=0;t<u;t++)if(U[t]!=-1){var q=t<<2,X=U[t],B=X*3;
v[B]=i[q+0];v[B+1]=i[q+1];v[B+2]=i[q+2]}var e=Date.now();y.asq(v,a,d,K);console.log(Date.now()-e);for(var t=0;
t<u;t++){var X=U[t],F=X*3,q=t<<2;if(X==-1||i[q+3]!=255)continue;i[q+0]=~~(.5+Math.max(0,Math.min(255,v[F+0])));
i[q+1]=~~(.5+Math.max(0,Math.min(255,v[F+1])));i[q+2]=~~(.5+Math.max(0,Math.min(255,v[F+2])))}};k.rect={};
k.rect.Wf=function(i,$){var h=[i],d=[];for(var t=0;t<$.length;t++){var K=$[t],f=!1;for(var l=t+1;l<$.length;
l++){var u=$[l];if(u[0]<=K[0]&&u[1]<=K[1]&&K[2]<=u[2]&&K[3]<=u[3]){f=!0;break}}if(!f)d.push(K)}$=d;for(var t=0;
t<$.length;t++){var K=$[t];for(var l=0;l<h.length;l++){var u=h[l],U=Math.max(K[0],u[0]),y=Math.min(K[2],u[2]),a=Math.max(K[1],u[1]),v=Math.min(K[3],u[3]);
if(U<y&&a<v){var c=[];if(u[1]<K[1]){var p=u.slice(0);p[3]=K[1];c.push(p)}if(u[0]<K[0]){var C=u.slice(0);
C[1]=a;C[2]=K[0];c.push(C)}if(K[2]<u[2]){var T=u.slice(0);T[1]=a;T[0]=K[2];c.push(T)}if(K[3]<u[3]){var E=[U,v,y,u[3]];
c.push(E)}if(c.length!=0){h[l]=c[0];for(var r=1;r<c.length;r++)h.push(c[r])}}}h.push(K);h=k.rect.a8a(h)}h.sort(function(K,u){return K[1]!=u[1]?K[1]-u[1]:K[0]-u[0]});
for(var t=1;t<h.length;t++){var K=h[t-1],u=h[t];if(K[0]==u[0]&&K[1]==u[1]&&K[2]==u[2]&&K[3]==u[3]){h.splice(K[4]==null?t-1:t,1);
t--}}return h};k.rect.a8a=function(i){i=i.slice(0);for(var t=0;t<i.length;t++){var $=i[t],h=null;if($[4]!=null)continue;
for(var d=0;d<i.length;d++){var K=i[d];if(t==d||K[4]!=null)continue;var f=$[0]==K[0],l=$[1]==K[1],u=$[2]==K[2],U=$[3]==K[3];
if(l&&U&&($[2]==K[0]||$[0]==K[2])){h=[Math.min($[0],K[0]),$[1],Math.max($[2],K[2]),$[3]]}if(f&&u&&($[3]==K[1]||$[1]==K[3])){h=[$[0],Math.min($[1],K[1]),$[2],Math.max($[3],K[3])]}if(h){i[t]=h;
i.splice(d,1);break}}if(h){t--}}return i};k.rect.Dv=function(i){var $=new bN;for(var t=0;t<i.length;
t++)$=$.rt(i[t]);return $};k.rect.aac=function(i,$){var h=k.rect.Dv,d=new UnionFind(i.length),z=1e3,n=1e3;
for(var t=0;t<i.length;t++)for(var K=t+1;K<i.length;K++){if(!$)continue;var f=i[t],l=i[K],v=1e9,c=1e9;
if(f.CF(l)){d.link(t,K);continue}var u=f.x+f.e,U=f.y+f.n,y=l.x+l.e,a=l.y+l.n;if((u<l.x||y<f.x)&&(U<l.y||a<f.y))continue;
if(!(U<l.y||a<f.y))v=Math.min(Math.abs(u-l.x),Math.abs(f.x-y));if(!(u<l.x||y<f.x))c=Math.min(Math.abs(U-l.y),Math.abs(f.y-a));
var p=Math.min(v,c),C=Math.min(f.e,f.n,l.e,l.n);if(p<.3*C)d.link(t,K)}var T=[],E={};for(var t=0;t<i.length;
t++){var r=d.find(t),Y=i[t];if(E[r]==null){E[r]=T.length;T.push([])}T[E[r]].push(Y)}var S=[],m=[];for(var t=0;
t<T.length;t++){S.push(h(T[t]));var Q=h(T[t]);Q.cK=t;m.push(Q)}m.sort(function(s,J){return Math.max(J.n,J.e)-Math.max(s.n,s.e)});
var Z=new NETXUS.RectanglePacker(z,n);while(!0){var P=!1;Z.reset(z,n);for(var t=0;t<m.length;t++){var V=Z.findCoords(m[t].e,m[t].n);
if(V){m[t].x=V.x;m[t].y=V.y}else{z=Math.floor(z*1.1);n=Math.floor(n*1.1);P=!0;break}}if(P)continue;break}for(var t=0;
t<T.length;t++){var I=m[t],q=I.cK,X=S[q],B=T[q],e=I.x-X.x,F=I.y-X.y;for(var K=0;K<B.length;K++)B[K].offset(e,F)}};
k.TA=function(){};k.TA.AD=Math.floor(16*window.devicePixelRatio);k.TA.PL={};k.TA.l6=0;k.TA.wU=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
k.TA.apL=["px","in","cm","mm","%"];k.TA.KT=function(i,$,h,d){var K=[1,$,$/2.54,$/25.4,h/100][d];return i*K};
k.TA.a8z=function(i,$,h,d){var K=[1,$,$/2.54,$/25.4,h/100][d];return i/K};k.TA.Iy=function(i,$,h,d,K){var f=h.ZZ.CP,l=[1,$,$/2.54,$/25.4,d/100][f],u=[2,3,2,1,2][f];
i=i/l;var U=Math.round(i),y=f==0&&Math.abs(i-U)<1e-6?U+"":i.toFixed(u);if(K)y+=" "+k.TA.apL[f];return y};
k.TA.auR=function(i,$,h,d){var K=h.ZZ.CP,f=[1,$,$/2.54,$/25.4,d/100][K];i=parseFloat(i)*f;return i};
k.TA.apk=function(i,$){var h=i+","+$;if(k.TA.PL.clr==h)return;var d=Math.round(k.TA.AD*.5);k.TA.l6=d;
var K=document.createElement("canvas");K.width=K.height=d;var f=K.getContext("2d");f.font=d*1.5+"px monospace";
var l="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var t=0;t<l.length;t++){f.fillStyle="#"+k._V($);f.fillRect(0,0,d,d);
f.fillStyle="#"+k._V(i);f.fillText(l[t],0,d);k.TA.PL[l[t]]=f.getImageData(0,0,d,d).data}k.TA.PL.clr=h};
k.TA.a2O=function(i,$,h){var d=0,K=0,f=4*k.TA.AD;for(var t=9;t>=0;t--){var l=Math.pow(10,t);if(5*l*i<=f){d=5*l;
K=10;break}if(2*l*i<=f){d=2*l;K=4;break}if(1*l*i<=f){d=1*l;K=10;break}}if(d==0){d=1;K=10}var u=Math.ceil(d*i),U=k.Q(u*k.TA.AD*4);
k.MK(U,4278190080|h);for(var t=0;t<k.TA.AD;t++)k.TA.Db(U,4*t*u,$);for(var t=0;t<u;t++)k.TA.Db(U,4*((k.TA.AD-1)*u+t),$);
if(d==2)K=2;if(d==5)K=5;if(d>1||d==1&&u>20)for(var t=1;t<K;t++)k.TA.a3x(U,t*(u/K),u,(t&1)==1?.8:.7,$);
return{s$:U,step:d}};k.TA.a3x=function(i,$,h,d,K){var $=Math.round($);for(var f=Math.round(k.TA.AD*d);
f<k.TA.AD-1;f++)k.TA.Db(i,4*(f*h+$),K)};k.TA.Db=function(i,$,h){i[$+0]=h>>16&255;i[$+1]=h>>8&255;i[$+2]=h&255};
k.TA.aca=function(i,$,h,d,K,f,l){var u=i.Os.e,U=i.Os.n,y=k.TA.AD,a=$&255,v=$>>8&255,c=$>>16&255;$=Math.round(a*.6)<<16|Math.round(v*.6)<<8|Math.round(c*.6);
k.TA.apk(Math.round(a*.8)<<16|Math.round(v*.8)<<8|Math.round(c*.8),h);var p=i.N,C=i.I,T=i.rS;for(var E=0;
E<2;E++){var r=E==0?f:l;i.N=r[0];i.I=r[1];i.rS=0;var Y=this.a2O(i.N,$,h),S=i._x(0,0),m=i._x(u,U),Q=Math.floor(S.x/Y.step)*Y.step,z=Math.ceil(m.x/Y.step)*Y.step,n=Math.floor(S.y/Y.step)*Y.step,Z=Math.ceil(m.y/Y.step)*Y.step,P=i.cV(Q,n),V=i.cV(z,n),I=Y.step*i.N,q=Math.ceil(I);
if(E==1){var X=Y.s$;Y.s$=k.Q(X.length*4);k.K.Nj(X,Y.s$,q,y)}var B=E==0?i.u1.data:i.p7.data,e=new bN(0,0,[u,y][E],[y,U][E]),F=new bN(0,0,[q,y][E],[y,q][E]),s=new bN([0,Math.round(y*.2)][E],[Math.round(y*.08),0][E],k.TA.l6,k.TA.l6),J=(E==0?z-Q:Z-n)/Y.step;
for(var t=0;t<J;t++){if(E==0)F.x=Math.round(P.x+t*I);else F.y=Math.round(P.y+t*I);k.mC(Y.s$,F,B,e,F);
var W=(E==0?Q+t*Y.step:Math.abs(n+t*Y.step)).toString(10);for(var L=0;L<W.length;L++){if(E==0)s.x=F.x+3+L*Math.round(k.TA.l6*.8);
else s.y=F.y+3+L*Math.round(k.TA.l6*1.15);var A=k.TA.PL[W[L]];k.mC(A,s,B,e,s)}}}i.N=p;i.I=C;i.rS=T;var j=Math.floor(y*.6),G=new Uint32Array(i.u1.data.buffer),O=new Uint32Array(i.p7.data.buffer),o=a<128?4278190080:4294967295;
if(0<d&&d<u)for(var t=0;t<j;t++)G[t*u+d]=o;if(0<K&&K<U)for(var t=0;t<j;t++)O[K*y+t]=o};k.scale={};k.scale.T=document.createElement("canvas");
k.scale.nl=k.scale.T.getContext("2d");k.scale.CZ=document.createElement("canvas");k.scale.Cl=k.scale.CZ.getContext("2d");
k.scale.C7=function(i,$,h){var d=k.scale.T,K=k.scale.nl;d.width=$;d.height=h;var f=new ImageData(new Uint8ClampedArray(i.buffer),$,h);
K.putImageData(f,0,0);return K.createPattern(d,"repeat")};k.scale.Vo=function(i,$,h,d,K,f,l,u,U){var y=k.scale.awm(i,h,d,K,f,l,u,U).data;
if($)k.pv(y,$);return new Uint8Array(y.buffer)};k.scale.awm=function(i,$,h,d,K,f,l,u){var U=k.scale.T,y=k.scale.nl;
U.width=$;U.height=h;y.rect(0,0,$,h);y.translate(f,l);y.scale(d,K);if(u!=null)y.rotate(-u);y.fillStyle=i;
y.fill();return y.getImageData(0,0,$,h)};k.scale.D=function(i,$,h,d,K){var f=h.clone();f.Sp();var l=K.e,u=K.n,U=k.p.Hg($).C;
k.p.D(U,f,U);var y=k.p.DS(U).Js(K),a=y.x,v=y.y,c=a+y.e,p=v+y.n,C=~~$.x,T=~~$.y,E=~~$.e,r=~~$.n;for(var Y=v;
Y<p;Y++)for(var S=a;S<c;S++){var m=S+.5,Q=Y+.5,z=h.Pi*m+h.sl*Q+h.wQ-C,n=h.Z*m+h.Zn*Q+h.FQ-T;if(0<=z&&0<=n&&z<E&&n<r)d[Y*l+S]=i[~~n*E+~~z]}};
k.scale.p8=function(i,$,h,d,K,f){var l=new Uint32Array(i.buffer),u=new Uint32Array(d.buffer),U=h.clone();
U.Sp();var y=K.e,a=K.n,v=k.p.Hg($).C;k.p.D(v,U,v);var c=f?K:k.p.DS(v).Js(K),p=c.x,C=c.y,T=p+c.e,E=C+c.n,r=~~$.x,Y=~~$.y,S=~~$.e,m=~~$.n;
for(var Q=C;Q<E;Q++)for(var z=p;z<T;z++){var n=z+.5,Z=Q+.5,P=h.Pi*n+h.sl*Z+h.wQ-r,V=h.Z*n+h.Zn*Z+h.FQ-Y;
if(f){P=((S<<10)+P)%S;V=((m<<10)+V)%m}if(0<=P&&0<=V&&P<S&&V<m)u[Q*y+z]=l[~~V*S+~~P]}};k.scale.KU=function(i,$,h,d,K,f,l){if(l<1)k.scale.axb(i,$,h,d,K,f,Math.round(1/l));
else k.scale.atC(i,$,h,d,K,f,l)};k.scale.Vs=function(i,$,h,d,K,f,l,u){if(u)u=u.Js(new bN(0,0,$,h));i=new Uint32Array(i.buffer);
d=new Uint32Array(d.buffer);if(l<1)k.scale.akF(i,$,h,d,K,f,Math.round(1/l),u);else k.scale.a0a(i,$,h,d,K,f,l)};
k.scale.atC=function(i,$,h,d,K,f,l){for(var u=0;u<h;u++)for(var U=0;U<$;U++){var y=i[u*$+U],a=Math.min(l,K-U*l),v=Math.min(l,f-u*l);
for(var t=0;t<v;t++)for(var c=0;c<a;c++)d[(l*u+t)*K+l*U+c]=y}};k.scale.axb=function(i,$,h,d,K,f,l){for(var u=0;
u<f;u++)for(var U=0;U<K;U++){var y=0,a=Math.min(l,$-U*l),v=Math.min(l,h-u*l);for(var t=0;t<v;t++)for(var c=0;
c<a;c++)y+=i[(l*u+t)*$+(l*U+c)];d[u*K+U]=Math.round(y/(a*v))}};k.scale.a0a=function(i,$,h,d,K,f,l){for(var u=0;
u<h;u++)for(var U=0;U<$;U++){var y=i[u*$+U],a=Math.min(l,K-U*l),v=Math.min(l,f-u*l);for(var t=0;t<v;
t++)for(var c=0;c<a;c++)d[(l*u+t)*K+l*U+c]=y}};k.scale.aqO=function(i,$,h){return(i>>>h&255)+($>>>h&255)>>>1};
k.scale.CA=function(i,$){var h=k.scale.aqO;return h(i,$,24)<<24|h(i,$,16)<<16|h(i,$,8)<<8|h(i,$,0)};
k.scale.a6_=function(i,$,h,d,K,f){var l=new Uint32Array(i.buffer),u=new Uint32Array(d.buffer);for(var U=0;
U<h;U++){for(var y=0;y<$;y++){var a=U*$+y,v=l[a],c=v,p=v,C=v;if(y<$-1)c=k.scale.CA(v,l[a+1]);if(U<h-1)p=k.scale.CA(v,l[a+$]);
if(y<$-1&&U<h-1)C=k.scale.CA(v,l[a+$+1]);var T=(U*K+y)*2;u[T]=v;u[T+1]=c;u[T+K]=p;u[T+K+1]=C}}if((K&1)==1)for(var U=0;
U<f;U++)u[U*K+K-1]=u[U*K+K-2];var E=K*(f-1);if((f&1)==1)for(var y=0;y<K;y++)u[E+y]=u[E-K+y]};k.scale.akF=function(i,$,h,d,K,f,l,u){var U=0,y=K,a=0,v=f;
if(u){U=Math.floor(u.x/l);y=Math.ceil((u.x+u.e)/l);a=Math.floor(u.y/l);v=Math.ceil((u.y+u.n)/l)}for(var c=a;
c<v;c++)for(var p=U;p<y;p++){var C=0,T=0,E=0,r=0,Y=Math.min(l,$-p*l),S=Math.min(l,h-c*l);for(var t=0;
t<S;t++)for(var m=0;m<Y;m++){var Q=i[(l*c+t)*$+l*p+m],z=Q>>>24;C+=z;T+=z*(Q>>>16&255);E+=z*(Q>>>8&255);
r+=z*(Q&255)}if(C!=0){var n=1/C;d[c*K+p]=C/(Y*S)<<24|T*n<<16|E*n<<8|r*n}else d[c*K+p]=0}};k.J=function(){function i(u,U,t){return(128&u[t-U-1]&u[t-U]&u[t-2]&u[t-1]&u[t+1]&u[t+U-1]&u[t+U])==0}function $(u,U,t){return(128&u[t-U-U]&u[t-U+1]&u[t+2]&u[t+U+1]&u[t+U+U])==0}function h(u,U,t){return(u[t-U]&u[t-1]&u[t+1]&u[t+U]&128)==0}function d(u,t){return(u[t]&128)!=0}function K(u,U,y,a){var t=0,v=y.e,c=y.n;
if(a)for(var p=0;p<c;p++)for(var C=0;C<v;C++){if(d(u,t)&&(C<2||p<2||C>v-3||p>c-3||((u[t-1]&128)==0||U[t-1]!=0)&&i(u,v,t)||$(u,v,t)))U[t]=255;
t++}else for(var p=0;p<c;p++)for(var C=0;C<v;C++){if(d(u,t)&&(C==0||p==0||C==v-1||p==c-1||h(u,v,t)))U[t]=255;
t++}}function f(u,U,y,a,v){var c=y.e,p=y.n,C=new Uint8Array(U.buffer),T=new Uint32Array(U.buffer);if(v)for(var E=2;
E<p-2;E++)for(var r=2;r<c-2;r++){var t=E*c+r;if(d(u,t)&&(((u[t-1]&128)==0||T[t-1]!=0)&&i(u,c,t)||$(u,c,t)))T[t]=a[(r+E&4)>>>2]}else for(var E=1;
E<p-1;E++)for(var r=1;r<c-1;r++){var t=E*c+r;if(d(u,t)&&h(u,c,t)){T[t]=a[(r+E&4)>>>2]}}}function l(u,U,y,a,v){var c=y.e,p=y.n,C=0,T=0,E=c,r=p,Y=new Uint8Array(U.buffer),S=new Uint32Array(U.buffer);
for(var m=T;m<r;m++)for(var Q=C;Q<E;Q++){var t=m*c+Q,z=u[t];if(a==1)S[t]=255-z>>>1<<24|255;else S[t]=255<<24|(z<<16|z<<8|z)}}return{avo:K,a2q:f,ayv:l}}();
k.mO={};k.mO.gi=function(i,$,h){var d,K;if(h==0){d=i.rect.clone();K=k.mO.afr}if(h==1){d=i.rect.rt($.rect);
K=k.mO.rt}if(h==2){d=$.rect.clone();K=k.mO.a1c}if(h==3){d=i.rect.Js($.rect);K=k.mO.Js}if(h==4){d=i.rect.rt($.rect);
K=k.mO.av8}if(d.NT())return null;var f=k.Q(d.O());k.Zc($.channel,$.rect,f,d);var l=k.Q(d.O());k.Zc(i.channel,i.rect,l,d);
K(l,f,f);var u=k.WG(f,d);if(u.NT())return null;if(!u.Rl(d)){var U=k.Q(u.O());k.Zc(f,d,U,u);f=U;d=u}return{channel:f,rect:d}};
k.mO.afr=function(i,$,h){for(var t=0;t<i.length;t++)h[t]=i[t]};k.mO.rt=function(i,$,h){for(var t=0;t<i.length;
t++)h[t]=Math.min(i[t]+$[t],255)};k.mO.a1c=function(i,$,h){for(var t=0;t<i.length;t++)h[t]=Math.max($[t]-i[t],0)};
k.mO.Js=function(i,$,h){var d=1/255;for(var t=0;t<i.length;t++)h[t]=i[t]*$[t]*d};k.mO.av8=function(i,$,h){var d=1/255;
for(var t=0;t<i.length;t++)h[t]=Math.min(i[t]+$[t],255)-i[t]*$[t]*d};k.KM=function(i,$){this.c=[];this.b8=[0];
this.zi=[];this.dS=[];this.MC=[0];this.Oq=[];this.il=[];this.rows=i;this.cols=$};k.KM.prototype.clone=function(){var i=this,$=i.rows,h=i.cols,d=new k.KM($,h);
d.c=i.c.slice(0);d.b8=i.b8.slice(0);d.zi=i.zi.slice(0);d.dS=i.dS.slice(0);d.MC=i.MC.slice(0);d.Oq=i.Oq.slice(0);
d.il=i.il.slice(0);return d};k.KM.prototype._Q=function(i,$,h){var d=this.b8.length-1;for(var t=0;t<h;
t++){var K=i[t],f=$[t];this.c.push(K);this.zi.push(f);if(f==d){this.il.push(K==0?0:1/K)}else{this.dS.push(K);
this.Oq.push(f)}}this.b8.push(this.c.length);this.MC.push(this.dS.length)};k.KM.prototype.Po=function(i,$){var h=this,d=h.rows,K=h.c,f=h.zi;
if($==null)$=new Array(d);for(var t=0;t<d;t++){var l=h.b8[t],u=h.b8[t+1],U=0;while((u-l&3)!=0){U+=K[l]*i[f[l]];
l++}for(var y=l;y<u;y+=4)U+=K[y]*i[f[y]]+K[y+1]*i[f[y+1]]+K[y+2]*i[f[y+2]]+K[y+3]*i[f[y+3]];$[t]=U}return $};
k.KM.prototype.multiply=function(i){return this.R8(i.Nj())};k.KM.prototype.R8=function(i){var $=this,h=$.rows,d=$.cols,K=i.rows,f=new k.KM(h,K),l=$.zi,u=i.zi;
for(var t=0;t<h;t++){var U=[],y=[],a=$.b8[t],v=$.b8[t+1];for(var c=0;c<K;c++){var p=i.b8[c],C=i.b8[c+1],T=0,E=a,r=p;
while(E<v&&r<C){var Y=Math.max(l[E],u[r]);while(E<v&&l[E]<Y)E++;while(r<C&&u[r]<Y)r++;if(E<v&&r<C&&l[E]==u[r])T+=$.c[E++]*i.c[r++]}if(T!=0){U.push(T);
y.push(c)}}f._Q(U,y,U.length)}return f};k.KM.prototype.Nj=function(){var i=this.rows,$=this.cols,h=[];
for(var t=0;t<$;t++)h.push([[],[]]);var d=this.c,K=this.b8,f=this.zi;for(var t=0;t<i;t++){var l=K[t],u=K[t+1];
for(var U=l;U<u;U++){var y=h[f[U]];y[0].push(d[U]);y[1].push(t)}}var a=new k.KM($,i);for(var t=0;t<$;
t++)a._Q(h[t][0],h[t][1],h[t][1].length);return a};k.KM.prototype.g9=function(){var i=this.rows,$=this.cols,h=new Array(i),d=this.c,K=this.b8,f=this.zi;
for(var t=0;t<i;t++){var l=h[t]=new Array($);for(var u=0;u<$;u++)l[u]=0;var U=K[t],y=K[t+1];for(var a=U;
a<y;a++)l[f[a]]=d[a]}return h};k.KM.prototype.$q=function(i,$,h,d,K){function f(n,$,Z,P){var V=n.length;
for(var t=0;t<V;t++)P[t]=n[t]-$[t]*Z}function l(n,$,Z,P){var V=n.length,I=0;while((V-I&3)!=0){P[I]=n[I]+$[I]*Z;
I++}for(var t=I;t<V;t+=4){P[t]=n[t]+$[t]*Z;P[t+1]=n[t+1]+$[t+1]*Z;P[t+2]=n[t+2]+$[t+2]*Z;P[t+3]=n[t+3]+$[t+3]*Z}}function u(n,$,Z){var P=n.length;
for(var t=0;t<P;t++)Z[t]=n[t]*$[t]}function U(n,$){var Z=n.length,P=0,V=0;while((Z-P&3)!=0){V+=n[P]*$[P];
P++}for(var t=P;t<Z;t+=4)V+=n[t]*$[t]+n[t+1]*$[t+1]+n[t+2]*$[t+2]+n[t+3]*$[t+3];return V}var y=d!=null?2:1,a=Date.now(),v=0,c=this,p=i.slice(0),C=i.slice(0);
c.Po(i,C);f($,C,1,p);var T=this.il;if(y==0){T=p.slice(0);T.fill(1)}var E=p.slice(0);u(T,p,E);var r=E.slice(0),Y=U(p,E);
while(!0){c.Po(r,C);var S=Y/U(r,C);l(i,r,S,i);f(p,C,S,p);if((v&7)==0&&Math.sqrt(U(p,p))<h)break;if(y<=1)u(T,p,E);
else{var m=p.slice(0);d.aw8(m,p);K.a9Q(E,m)}var Q=U(p,E),z=Q/Y;l(E,r,z,r);Y=Q;v++}};k.KM.prototype.alO=function(i,$,h,d){var K=Date.now(),f=1.96,u=0;
if(h==null)h=5e-6;if(d==null)d=1e9;var l=1-f,b4=this.rows,U=this.dS,y=this.MC,a=this.Oq,v=this.il;while(!0){var c=0;
for(var t=0;t<b4;t++){var p=$[t],C=y[t],T=y[t+1];if(T-C==4)p-=U[C]*i[a[C]]+U[C+1]*i[a[C+1]]+U[C+2]*i[a[C+2]]+U[C+3]*i[a[C+3]];
else for(var E=C;E<T;E++)p-=U[E]*i[a[E]];var r=i[t]*l+v[t]*p*f,Y=r-i[t];c+=Y*Y;i[t]=r}if(c/b4<h||Date.now()>K+d)break}};
k.KM.prototype.asq=function(i,$,h,d){var K=Date.now(),f=1.96,u=0;if(h==null)h=5e-5;if(d==null)d=1e9;
var l=1-f,b4=this.rows,U=this.dS,y=this.MC,a=this.Oq,v=this.il;while(!0){var c=0;for(var t=0;t<b4;t++){var p=t*3,C=$[p],T=$[p+1],E=$[p+2],r=y[t],Y=y[t+1];
for(var S=r;S<Y;S++){var m=U[S],Q=a[S]*3;C-=m*i[Q+0];T-=m*i[Q+1];E-=m*i[Q+2]}var z=v[t]*f,n=i[p+0]*l+C*z,Z=i[p+1]*l+T*z,P=i[p+2]*l+E*z,V=n-i[p+0],I=Z-i[p+1],q=P-i[p+2];
c+=.4*V*V+.5*I*I+.1*q*q;i[p+0]=n;i[p+1]=Z;i[p+2]=P}if(c/b4<h||Date.now()>K+d)break}};k.qt={};k.qt.o3=function(i,$,h){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:i},Vrtc:{t:"doub",v:$},Cnty:{t:"bool",v:h}}}};
k.qt.D=function(i,$){for(var t=0;t<i.length;t++){var h=i[t].v,d=$.hb(new cq(h.Hrzn.v,h.Vrtc.v));h.Hrzn.v=Math.round(d.x);
h.Vrtc.v=Math.round(d.y)}};k.qt.W0=function(i,$,h){var b4=i.length-1,d=k.eE.Wk(b4+1,b4+2);for(var t=1;
t<b4;t++){d[t][t-1]=1/(i[t]-i[t-1]);d[t][t]=2*(1/(i[t]-i[t-1])+1/(i[t+1]-i[t]));d[t][t+1]=1/(i[t+1]-i[t]);
d[t][b4+1]=3*(($[t]-$[t-1])/((i[t]-i[t-1])*(i[t]-i[t-1]))+($[t+1]-$[t])/((i[t+1]-i[t])*(i[t+1]-i[t])))}d[0][0]=2/(i[1]-i[0]);
d[0][1]=1/(i[1]-i[0]);d[0][b4+1]=3*($[1]-$[0])/((i[1]-i[0])*(i[1]-i[0]));d[b4][b4-1]=1/(i[b4]-i[b4-1]);
d[b4][b4]=2/(i[b4]-i[b4-1]);d[b4][b4+1]=3*($[b4]-$[b4-1])/((i[b4]-i[b4-1])*(i[b4]-i[b4-1]));k.eE.gd(d,h)};
k.qt.a7_=function(i,$,h,d){if(i<=$[0])return h[0];if(i>=$[$.length-1])return h[$.length-1];var t=1;while($[t]<i)t++;
var K=$[t],f=$[t-1],l=h[t],u=h[t-1],U=(i-f)/(K-f),y=d[t-1]*(K-f)-(l-u),a=-d[t]*(K-f)+(l-u),v=(1-U)*u+U*l+U*(1-U)*(y*(1-U)+a*U);
return v};k.qt.b7=function(i,$,h,d){var K={ka:[i[0]],wb:[$[0]],pw:[]};d[0]=K;for(var t=1;t<i.length-1;
t++){K.ka.push(i[t]);K.wb.push($[t]);if(h[t]==!1){k.qt.W0(K.ka,K.wb,K.pw);K={ka:[i[t]],wb:[$[t]],pw:[]}}d[t]=K}K.ka.push(i[t]);
K.wb.push($[t]);k.qt.W0(K.ka,K.wb,K.pw);d[t]=K};k.qt.u5=function(i,$,h,d){if(i<=$[0])return h[0];if(i>=$[$.length-1])return h[$.length-1];
var t=1;while($[t]<i)t++;var K=d[t-1];return k.qt.a7_(i,K.ka,K.wb,K.pw)};k.qt.mo=function(i){var $={ka:[],wb:[],Ap:[]};
for(var t=0;t<i.length;t++){$.ka[t]=i[t].v.Hrzn.v;$.wb[t]=i[t].v.Vrtc.v;$.Ap[t]=i[t].v.Cnty?i[t].v.Cnty.v:!0}return $};
k.qt.J6=function(i,b4,$){var h=0,d=255;if($){h=-1e9;d=1e9}var K=k.qt.mo(i),f=[];k.qt.b7(K.ka,K.wb,K.Ap,f);
var l=[];for(var t=0;t<b4;t++)l[t]=1/255*Math.max(h,Math.min(d,k.qt.u5(t*(255/(b4-1)),K.ka,K.wb,f)));
return l};k.qt.ahI=function(i,b4,$){var h=Math.round(i.length/20),d=b4-i.length,K=$?(i[h]-i[0])/h:0,f=$?i[0]-d*K:i[i.length-1],l=[];
for(var t=0;t<d;t++)l.push(f+t*K);return $?l.concat(i):i.concat(l)};k.qt.uC=function(i,b4,$){var h=k.qt.mo(i),d=[];
k.qt.b7(h.ka,h.wb,h.Ap,d);var K=new Uint8Array(b4),f=b4/256;for(var t=0;t<b4;t++)K[t]=Math.max(0,Math.min(b4-1,k.qt.u5(t*f,h.ka,h.wb,d)));
if($){K[0]=0;if(K[1]>100)K[1]=.4*K[1];if(K[2]>150)K[1]=.7*K[2]}return K};k.qt.X_=function(i,$){var h=new Uint8Array(i.length);
for(var t=0;t<i.length;t++)h[t]=$[i[t]];return h};k.qt.eR=function(i,$,h){var d=document.createElement("canvas");
d.width=$;d.height=h;var K=d.getContext("2d"),f=k.qt.uC(i,256);K.scale($/255,h/255);K.fillStyle="#fff";
K.fillRect(0,0,255,255);K.fillStyle="#333";K.beginPath();K.moveTo(0,255);for(var t=0;t<f.length;t++)K.lineTo(t,255-f[t]);
K.lineTo(255,255);K.closePath();K.fill();return d.toDataURL()};k.style={};k.style.stroke=function(i,$,h,d){var K=h.e,f=h.n,l=new Float64Array(K*f);
k.style.bV(i,l,K,f);k.style.c2($,h,l,h,d)};k.style.c2=function(i,$,h,d,K){var f=$.Js(d),l=f.e,u=f.n;
K+=.5;var U=f.x-$.x,y=f.y-$.y,a=$.e,v=f.x-d.x,c=f.y-d.y,p=d.e;for(var C=0;C<u;C++){var T=(C+c)*p+v,E=(C+y)*a+U;
for(var r=0;r<l;r++){var Y=Math.max(0,Math.min(1,K-h[T+r]));i[E+r]=Math.round(Y*255)}}};k.style.anG=function(i,$,h,d){for(var K=0;
K<h;K++)for(var f=0;f<$;f++){var l=K*$+f,u=0,U=0,y=i[l];if(f==0||K==0){u=i[l+1]-y;U=i[l+$]-y}else if(f==h-1||K==$-1){u=y-i[l-1];
U=y-i[l-$]}else{u=i[l+1]-i[l-1];U=i[l+$]-i[l-$]}if(u!=0||U!=0){var a=1/Math.sqrt(u*u+U*U);u*=a;U*=a}d[l+l]=u;
d[l+l+1]=U}};k.style.bV=function(i,$,h,d){var K=0,f=h*d;for(var t=0;t<f;t++)K|=i[t];if(K==0){$.fill(1e9);
return}var l=k.style.h1(i,h,d);for(var u=0;u<d;u++)for(var U=0;U<h;U++){var t=u*h+U,y=l[t*2],a=l[t*2+1],v=(u+a)*h+U+y;
if(y==0&&a==0){$[t]=0;continue}var c=Math.sqrt(y*y+a*a),p=i[v]*(1/255),C=1/c,T=Math.abs(y)*C,E=Math.abs(a)*C;
if(E>T){var r=E;E=T;T=r}$[t]=c+k.style.asC(T,E,p)}};k.style.asC=function(i,$,h){return(.5-h)*i};k.style.h1=function(i,$,h,d){var K=new Int16Array($*h*2);
k.style.a1e(i,K,$,h,128);return K};k.style.a1e=function(i,$,h,d,K){var f=new Int32Array(h*d);k.style.a6n(i,f,h,d,K);
k.style.aa3(f,$,h,d)};k.style.a6n=function(i,$,h,d,K){var f=new Int32Array(d);for(var l=0;l<h;l++){var u=h+d;
for(var U=d-1;U>=0;U--){if(i[U*h+l]>K)u=0;else u++;f[U]=u}u=h+d;for(var U=0;U<d;U++){if(i[U*h+l]>K)u=0;
else u++;$[U*h+l]=u<f[U]?-u:f[U]}}};k.style.aa3=function(i,$,h,d){var K=(h+d)*(h+d),f=new Float64Array(h),l=new Uint16Array(h);
for(var u=0;u<d;u++){var U=u*h,y=0;l[0]=0;f[0]=-K;f[1]=+K;for(var a=1;a<h;a++){var v=i[a+U]*i[a+U]+a*a,c=(v-(i[l[y]+U]*i[l[y]+U]+l[y]*l[y]))/(2*a-2*l[y]);
while(c<=f[y]){y--;c=(v-(i[l[y]+U]*i[l[y]+U]+l[y]*l[y]))/(2*a-2*l[y])}y++;l[y]=a;f[y]=c;f[y+1]=K}y=0;
for(var a=0;a<h;a++){while(f[y+1]<a)y++;var p=l[y]-a,C=i[l[y]+U],t=u*h+a<<1;$[t]=p;$[t+1]=C}}};k.style.VW=function(i,$,h){if(h)for(var t=0;
t<i.length;t++){var d=i[t];if(d>0)i[t]=Math.max(0,Math.min(255,d+$*2*(k.style.Ks(t)-128)))}else for(var t=0;
t<i.length;t++){var d=i[t];if(d>0)i[t]=Math.max(0,Math.min(255,d+Math.min(d*3,$*2*(k.style.Ks(t)-128))))}};
k.style.Ks=function(i){i=i^61^i>>16;i=i+(i<<3);i=i^i>>4;i=i*668265261;i=i^i>>15;return i&255};k.b9={};
k.b9.yB=function(i,$,h){var d=i.canvas;if(d.width!=$||d.height!=h){d.width=$;d.height=h}};k.b9.hB=function(i,$,h,d,K,f){k.b9.yB(i,$,h);
if(f==null)f=!1;var l=K.channel,u=K.rect,U=!K.isEnabled;if($*h==0)return;var y=i.createImageData($,h),a=y.data,v=1/$,c=1/h;
for(var t=0;t<h;t++)for(var p=0;p<$;p++){var C=t*$+p,T=C*4,E=Math.round(d.x+p*v*d.e),r=Math.round(d.y+t*c*d.n),Y=0;
if(E<u.x||E>=u.x+u.e||r<u.y||r>=u.y+u.n)Y=K.color;else Y=l[(r-u.y)*u.e+(E-u.x)];Y=255*(255-K.Hw)+Y*K.Hw>>>8;
if(f)Y=170+Math.round(.4*(Y-170));a[T]=Y;a[T+1]=Y;a[T+2]=Y;a[T+3]=255}i.putImageData(y,0,0);if(U)k.b9.Nr(i,$,h)};
k.b9.sC=[];k.b9.a14=function(i,$,h,d){var K,f,l;K=Math.ceil(Math.max($,h)*.35);f=$-K;l=h-K;var u=k.b9.sC[K];
if(u==null){var U=k.i8(K,K);U.fillStyle="#eeeeee";U.fillRect(0,0,K,K);var y=Math.round(K*.27),a=U.lineWidth=Math.max(1,Math.round(K*.12)),v=a/2;
U.strokeRect(1+v,1+v,K-a-2,K-a-2);U.strokeRect(y+v,y+v,K-y-y-a,K-y-y-a);u=k.b9.sC[K]=U.getImageData(0,0,K,K)}i.putImageData(u,f,l)};
k.b9.m7=[];k.b9.amq=function(i,$,h){var d,K,f;d=Math.ceil(Math.max($,h)*.35);K=$-d;f=h-d;var l=k.b9.m7[d];
if(l==null){var u=k.i8(d,d);u.fillStyle="#eeeeee";u.fillRect(0,0,d,d);u.lineWidth=1;u.strokeRect(2.5,2.5,d-5,d-5);
var U=u.createImageData(3,3);k.MK(U.data,4278190080);U.data[4*4]=U.data[4*4+1]=U.data[4*4+2]=238;u.putImageData(U,1,1);
u.putImageData(U,d-4,1);u.putImageData(U,1,d-4);u.putImageData(U,d-4,d-4);l=k.b9.m7[d]=u.getImageData(0,0,d,d)}i.putImageData(l,K,f)};
k.b9.a2R=function(i,$,h,d,K){k.b9.yB(i,$,h);var f=$/d.e;if($*h==0)return;i.fillStyle="#999999";i.setTransform(1,0,0,1,0,0);
i.clearRect(0,0,$,h);var l=k.b9.pR;if(l==null){l=k.b9.pR=JSON.parse(JSON.stringify(et._T.default));l.strokeEnabled.v=!0}l.strokeStyleLineWidth.v.val=1/f;
i.fillStyle="#ffffff";i.scale(f,f);k.A.J2(K.i,i,0,0);k.A.J2(K.i,i,0,0,l)};k.b9.lW=null;k.b9.qP=function(i,$,h,d,K,f,l,u,U){k.b9.yB(i,$,h);
if($*h==0)return;var y=Math.max($,h),a=k.b9.lW;if(a==null||a.width<y||a.height<y){k.b9.lW=a=i.createImageData(y,y)}y=a.width;
var v=a.data,c=d.e/$,p=d.n/h,C=f.x,T=f.x+f.e,E=f.y,r=f.y+f.n;for(var t=0;t<h;t++)for(var Y=0;Y<$;Y++){var S=t*y+Y,m=S*4,Q=~~(d.x+Y*c),z=~~(d.y+t*p),n=k.dP(t,Y,2);
if(Q<C||Q>=T||z<E||z>=r||U){v[m]=n;v[m+1]=n;v[m+2]=n;v[m+3]=255}else{var Z=(z-f.y)*f.e+(Q-f.x)<<2,P=K[Z+3]*(1/255);
v[m]=K[Z+0]*P+n*(1-P);v[m+1]=K[Z+1]*P+n*(1-P);v[m+2]=K[Z+2]*P+n*(1-P);v[m+3]=255}}if(u!=null)for(var t=0;
t<v.length;t+=4)v[t]=v[t+1]=v[t+2]=v[t+u];i.putImageData(a,0,0);if(l)k.b9.Nr(i,$,h)};k.b9.aue=function(i,$,h,d){k.b9.yB(i,$,h);
i.fillStyle=k.b9.zk(d.Clr.v);i.fillRect(0,0,$,h);k.b9.UL(i,$,h)};k.b9.Q9=null;k.b9.abt=function(i,$,h,d){k.b9.yB(i,$,h);
var K=i.canvas.width,f=i.canvas.height,l=k.b9.Q9;if(l==null||l.width!=K||l.height!=f){i.fillStyle="#ffffff";
i.fillRect(0,0,$,h);i.fillStyle="#000000";i.font=""+h*.7+"px serif";i.fillText("T",($-h*.43)/2,h*.75);
i.fillText("T",($-h*.43)/2,h*.75);k.b9.Q9=i.getImageData(0,0,K,f)}else i.putImageData(l,0,0)};k.b9.ae6=function(i,$,h){k.b9.yB(i,$,h);
i.clearRect(0,0,$,h);i.font=h*.7+"px serif";i.fillText(":(",($-h*.43)/2,h*.7)};k.b9.a2u=function(i,$,h,d){k.b9.yB(i,$,h);
var K=f2.get(d),f=i.canvas.width,l=k.b9.bm[f+K];if(l==null){var u=PIMG["adj/"+K],U=em.yT(u),y=UPNG.decode(U.buffer),a=new Uint8Array(UPNG.toRGBA8(y)[0]),v=new bN(0,0,160,160),c=0,p=f-c*2,C=D.vA.$V([a,v],new ej(p/160,0,0,p/160,0,0)),T=new bN(0,0,f,f),E=k.Q(T.O()*4);
k.l.NU("norm",C.buffer,C.rect,E,T,C.rect,1);l=k.b9.bm[f+K]=new ImageData(new Uint8ClampedArray(E.buffer),f,f)}i.putImageData(l,0,0)};
k.b9.bm={};k.b9.amj=function(i,$,h,d){k.b9.yB(i,$,h);var K=i.canvas.width,f=i.canvas.height,l=i.getImageData(0,0,K,f);
k.M.f2(d.Grad.v,new Uint8Array(l.data.buffer),new bN(0,0,K,f),[1/K,0,0,1/f],K/2,f/2,!1,0,16711680,65280);
i.putImageData(l,0,0);k.b9.UL(i,$,h)};k.b9.aw3=function(i,$,h,d,K){k.b9.yB(i,$,h);var f=i,l=eN.Y1(d.Ptrn.v,K.add.Patt);
if(l==null)return;var u=l.Jz[1];k.b9.qP(i,$,h,u,l.Jz[0],u,!1);k.b9.UL(f,$,h)};k.b9.Nr=function(i,$,h){i.strokeStyle="#bb0000";
i.lineWidth=3;i.beginPath();i.moveTo($*.15,h*.15);i.lineTo($*.85,h*.85);i.moveTo($*.85,h*.15);i.lineTo($*.15,h*.85);
i.closePath();i.stroke()};k.b9.UL=function(i,$,h){i.fillStyle="#eeeeee";i.fillRect(0,h*.75,$,h*.25);
i.beginPath();i.moveTo(0,h*.75);i.lineTo($,h*.75);i.moveTo($*.1,h*.875);i.lineTo($*.9,h*.875);i.moveTo($*.65,h*.825);
i.lineTo($*.65,h*.95);i.closePath();i.stroke()};k.b9.zk=function(i){var $=k.M.zk(i),h=Math.round($.o)<<16|Math.round($.P)<<8|Math.round($.Z);
return"#"+k._V(h)};k.A={};k.A.nK=function(i,$,h){var d=[],K=-1;for(var t=0;t<i.length;t++){var f=i[t];
if((f.type==0||f.type==3)&&f.N0!=-1)K++;if(f.type>5||f.type==0||f.type==3)continue;if($!=null&&$.indexOf(K)==-1)continue;
if(h!=null&&h.indexOf(t)==-1)continue;d.push(f.Q2.x);d.push(f.Q2.y);d.push(f.F.x);d.push(f.F.y);d.push(f.ua.x);
d.push(f.ua.y)}return d};k.A.f3=function(i,$,h,d){var K=0,f=-1;for(var t=0;t<$.length;t++){var l=$[t];
if((l.type==0||l.type==3)&&l.N0!=-1)f++;if(l.type>5||l.type==0||l.type==3)continue;if(h!=null&&h.indexOf(f)==-1)continue;
if(d!=null&&d.indexOf(t)==-1)continue;l.Q2.WI(i[K],i[K+1]);l.F.WI(i[K+2],i[K+3]);l.ua.WI(i[K+4],i[K+5]);
K+=6}};k.A.mu=function(i,$,h,d){var K=k.A.nK(i,h,d);k.p.D(K,$,K);k.A.f3(K,i,h,d)};k.A.ap3=function(i,$,h,d){var K=k.A.nK(i,h,d);
k.K.D($,K);k.A.f3(K,i,h,d)};k.A.apJ=function(i,$,h,d){if(d==null){var K=k.A.a3P(i,40,h);for(var t=0;
t<K.length;t++)i[t]=K[t]}var f=k.A.nK(i,h,d);k.X2.D($,f,k.p.nP(f));k.A.f3(f,i,h,d)};k.A.a3P=function(i,$,h){var d=[],K=-1;
for(var t=0;t<i.length;t++){var f=i[t],l=f.length;if(f.type>5){d.push(JSON.parse(JSON.stringify(f)));
continue}f=JSON.parse(JSON.stringify(f));d.push(f);if(f.N0!=-1)K++;if(h&&h.indexOf(K)==-1){d=d.concat(i.slice(t+1,t+1+l))}else{var u=k.A.ajR(i,t+1,l);
u=k.p.Xe(u,$);var U=k.A.awo(u);f.length=U.length;for(var y=0;y<U.length;y++)d.push(U[y])}t+=l}return d};
k.A.ajR=function(i,$,h){var d={H:["M"],C:[]},K=i[$],f=i[$+h-1];d.C.push(K.F.x,K.F.y);for(var t=1;t<h;
t++){var l=i[$+t-1],u=i[$+t];d.H.push("C");d.C.push(l.ua.x,l.ua.y,u.Q2.x,u.Q2.y,u.F.x,u.F.y)}d.H.push("C");
d.C.push(f.ua.x,f.ua.y,K.Q2.x,K.Q2.y,K.F.x,K.F.y);return d};k.A.awo=function(i){var $=[],h=i.H,d=i.C,K=0,b4=d.length;
$.push({type:2,Q2:new cq(d[b4-4],d[b4-3]),F:new cq(d[0],d[1]),ua:new cq(d[2],d[3])});for(var t=0;t<h.length-2;
t++){var f=t*6+4;$.push({type:2,Q2:new cq(d[f],d[f+1]),F:new cq(d[f+2],d[f+3]),ua:new cq(d[f+4],d[f+5])})}return $};
k.A.ats=function(i){for(var t=0;t<i.length;t++){if(i[t].type>5)continue;var $=i[t].length;if(!($==4||$==6||$==8)){t+=$;
continue}for(var h=0;h<$;h++){var d=i[t+1+h],K=i[t+1+(h+1)%$],f=Math.min(d.F.x,K.F.x),l=Math.min(d.F.y,K.F.y),u=0,U=0;
if(d.F.x<K.F.x){u=d.F.y-l;U=u-(K.F.x-f)}else{u=K.F.y-l;U=u-(d.F.x-f)}if(Math.abs(U)<.2*u)return u}}return-1};
k.A.eu=function(i,$,h){function d(c,p){var C=Math.min(c.x,p.x),T=Math.min(c.y,p.y),E=Math.max(c.x+c.e,p.x+p.e),r=Math.max(c.y+c.n,p.y+p.n);
return new bN(C,T,E-C,r-T)}var K=null,f=-1,l=!k.A.Ao(i);for(var t=0;t<i.length;t++){var u=i[t];if(u.type>5)continue;
if((u.type==0||u.type==3)&&u.N0!=-1)f++;if($!=null&&$.indexOf(f)==-1)continue;if(t==i.length-1)break;
var U=u.type==3,y=u.length,a=u.N0,v=k.A.rA(i,t+1,y,U);if(K==null)K=v;else if(h)K=d(K,v);else if(l){if($!=null||a==0||a==-1||a==2)K=d(K,v);
else if(a==1)K=K;else if(a==3){K=v;l=!1}}else{if($!=null||a==0||a==-1||a==1)K=d(K,v);else if(a==2)K=K;
else if(a==3)K=K.Js(v)}t+=y}if(K==null||K.e<0||K.n<0)K=new bN(0,0,0,0);return K};k.A.arp=new Float64Array(4);
k.A.rA=function(i,t,$,h){var d=k.A.arp;d[0]=1e30;d[1]=1e30;d[2]=-1e30;d[3]=-1e30;var K=i[t+$-1];if(!h)k.A.Ua(K.F.x,K.F.y,K.ua.x,K.ua.y,i[t].Q2.x,i[t].Q2.y,i[t].F.x,i[t].F.y,d);
for(var f=t;f<t+$-1;f++){var l=i[f],u=i[f+1];k.A.Ua(l.F.x,l.F.y,l.ua.x,l.ua.y,u.Q2.x,u.Q2.y,u.F.x,u.F.y,d)}return new bN(d[0],d[1],d[2]-d[0],d[3]-d[1])};
k.A.Ua=function(i,$,h,d,K,f,l,u,U){if(i==h&&$==d&&K==l&&f==u){U[0]=Math.min(U[0],Math.min(i,l));U[1]=Math.min(U[1],Math.min($,u));
U[2]=Math.max(U[2],Math.max(i,l));U[3]=Math.max(U[3],Math.max($,u));return}var y=i,a=$,v=i,c=$,p=40,C=1/(p-1);
for(var T=0;T<p;T++){var E=T*C,r=1-E,Y=r*r*r,S=3*r*r*E,m=3*r*E*E,Q=E*E*E,z=Y*i+S*h+m*K+Q*l,n=Y*$+S*d+m*f+Q*u;
if(z<y)y=z;else if(z>v)v=z;if(n<a)a=n;else if(n>c)c=n}if(y<U[0])U[0]=y;if(a<U[1])U[1]=a;if(v>U[2])U[2]=v;
if(c>U[3])U[3]=c};k.A.mb=function(i,$){var h=i.length-3,d=$%h,K=Math.floor(d);if($<0||K>=h)return null;
var f=i[3+K],l=i[3+(K+1)%h],u=f.F,U=f.ua,y=l.Q2,a=l.F,v=d-K,c=1-v,p=c*c*c*u.x+3*c*c*v*U.x+3*c*v*v*y.x+v*v*v*a.x,C=c*c*c*u.y+3*c*c*v*U.y+3*c*v*v*y.y+v*v*v*a.y;
return new cq(p,C)};k.A.uM=function(i,$){var h=k.p.Va(i),d=h.Ai;h.Ai=Typr.U.pathToSVG({crds:d.C,cmds:d.H},$==null?2:$);
return h};k.A.r0=function(i){k.A.jy();var $,h=k.A.CD(i),d=[];for(var t=0;t<h.length;t++){var K=h[t][0],f=h[t][1];
if(Math.abs(K.area)<1e-5)d.push(K);else if($==null)$=K;else{if(!K.closed)K.closed=!0;$=$[f](K);$.remove()}}if($==null)$=new paper.CompoundPath(d);
else{if($.segments)$=new paper.CompoundPath($);for(var t=0;t<d.length;t++){$.addChild(d[t])}}var l=i.slice(0,2);
l=l.concat(k.A.Mn($));if(l[2])l[2].N0=1;for(var t=3;t<l.length;t++)if(l[t].N0!=null)l[t].N0=-1;return l};
k.A.jy=function(){if(k.A.aau==null){var i=document.createElement("canvas");paper.setup(i);k.A.aau=!0}};
k.A.auc=function(i,$){k.A.jy();var h=[],d=k.A.CD(i),K=new paper.Path.Rectangle(new paper.Rectangle($.x,$.y,$.e,$.n));
K.remove();K.fillColor=new paper.Color(1,0,0);for(var t=0;t<d.length;t++){if(K.intersects(d[t][0])||K.contains(d[t][0].children[0].segments[0].point))h.push(t)}return h};
k.A.G3=function(i,$,h,d){k.A.jy();var K=h?{curves:!0,tolerance:d}:null,f=new paper.Point($.x,$.y),l=k.A.CD(i);
for(var t=l.length-1;t>=0;t--){var u=l[t][0],U=u.hitTest(f,K);if(U!=null)return{zH:t,qg:h?U.location.index:null,ST:h?U.location.time:0}}return{zH:-1}};
k.A.vO=function(i,$,h){var d=[[],[],[]];for(var t=0;t<i.length;t++){var K=i[t];if(K.type>5||K.type==0||K.type==3)continue;
var f=h==null?!0:h.indexOf(t)!=-1;if($.dD(K.F))d[0].push(t);if($.dD(K.Q2)&&f)d[1].push(t);if($.dD(K.ua)&&f)d[2].push(t)}return d};
k.A.a3O=function(i,$,h){var d=i[$];for(var K=$+1;K<h;K++)i[K-1]=i[K];i[h-1]=d};k.A.acx=function(i,$,h,d){var t,K,f,l=0;
i=i.slice(0);$.sort(function(C,T){return C-T});f=-1;for(t=2;t<i.length;){var u=i[t],U=u.length;if(u.N0!=-1)f++;
var y=l;while(y<$.length&&$[y]<t+1+U)y++;if(l!=y){var a=$.slice(l,y);l=y;for(K=0;K<U;K++)if(a.indexOf(t+1+K)!=-1)i[t+1+K]=null;
if(u.type==0){var v=a[0]-(t+1);while(v!=0){k.A.a3O(i,t+1,t+1+U);v--}}var c=u;c.length=0;K=0;while(K<U&&i[t+1+K]==null)K++;
while(K<U){var p=i[t+1+K];if(p!=null)c.length++;else if(K<U+1&&i[t+1+K+1]){c=i[t+1+K]={type:0,N0:-1,length:0,Qb:0,Vb:0,Ur:1}}K++}if(d)for(K=-1;
K<U;K++)if(i[t+1+K]&&i[t+1+K].type<3)i[t+1+K].type+=3;k.X.jC(h,f)}t+=1+U}for(t=0;t<i.length;t++)if(i[t]==null){i.splice(t,1);
t--}f=0;for(t=2;t<i.length;t++){var u=i[t];if(u.length==0){if(i[t+1]&&i[t+1].N0==-1)i[t+1].N0=u.N0;else if(u.N0!=-1)h.splice(f,1);
i.splice(t,1);t--}else if(u.length!=null&&u.N0!=-1)f++}return i};k.A.aiW=function(i,$){var h=i.slice(0,2),d=-1;
for(var t=2;t<i.length;t++){if((i[t].type==0||i[t].type==3)&&i[t].N0!=-1)d++;if($.indexOf(d)==-1)h.push(i[t])}return h};
k.A.a9q=function(i,$){var h=i.slice(0,2),d=-1;for(var t=2;t<i.length;t++){if((i[t].type==0||i[t].type==3)&&i[t].N0!=-1)d++;
if($.indexOf(d)!=-1)h.push(i[t])}return h};k.A.apo=function(i){var $=0;for(var t=0;t<i.length;t++)if(i[t].type==0||i[t].type==3)$=t;
return i[$]};k.A.P6=function(i){var $=-1;for(var t=0;t<i.length;t++)if((i[t].type==0||i[t].type==3)&&i[t].N0!=-1)$++;
return $+1};k.A.ec=function(i,$,h){var d=-1;for(var t=0;t<i.length;t++)if((i[t].type==0||i[t].type==3)&&(h||i[t].N0!=-1)){d++;
if(d==$)return t}return-1};k.A.U3=function(i,$,h){var d=-1;for(var t=0;t<i.length;t++)if((i[t].type==0||i[t].type==3)&&(h||i[t].N0!=-1)){if(t>=$)return d;
d++}return d};k.A.sY=function(i,$){var h=-1,d=0;for(var t=0;t<i.length;t++){if((i[t].type==0||i[t].type==3)&&i[t].N0!=-1)h++;
if(h==$)d++}return d};k.A.ahL=function(i){var $=180;for(var t=0;t<i.length;t++){if(i[t].type!=0&&i[t].type!=3)continue;
var h=i[t].length;if(h<3)continue;for(var d=0;d<h;d++){var K=i[t+1+(d-1+h)%h],f=i[t+1+d],l=i[t+1+(d+1)%h],u=f.F,U=f.Q2.Rl(u)?K.ua:f.Q2,y=f.ua.Rl(u)?l.Q2:f.ua;
if(u.Rl(U)||u.Rl(y))continue;var a=U.x-u.x,v=U.y-u.y,c=y.x-u.x,p=y.y-u.y,U=Math.atan2(U.y-u.y,U.x-u.x)*180/Math.PI,y=Math.atan2(y.y-u.y,y.x-u.x)*180/Math.PI,C=Math.abs(y-U)%360,T=C>180?360-C:C;
if(T<$)$=T}}return $*Math.PI/180};k.A.Mn=function(i){var $=i.segments?[i]:i.children,h=[];for(var t=0;
t<$.length;t++){var d=$[t],K=d.segments,f=d.closed?0:3,l=h.length,u=null;if(K.length<=1)continue;h.push({type:f,length:K.length,N0:0,Ur:2});
for(var U=0;U<K.length;U++){var y=K[U],a=new cq(y.handleIn.x,y.handleIn.y),v=new cq(y.handleOut.x,y.handleOut.y),c=new cq(y.point.x,y.point.y),p={type:f+1,Q2:c.add(a),F:c,ua:c.add(v)};
if(u==null)u=p;h.push(p);if(U+1==K.length&&cq.ED(u.F,p.F)<1e-5){h.pop();h[l].length--;u.Q2=p.Q2;if(f==3)for(var C=l;
C<h.length;C++)h[C].type-=3}}}return h};k.A.CD=function(i){k.A.jy();var $=[],h,d=new paper.Color(1,0,0);
function K(p,u){p.remove();p.closed=!u;p.fillRule="evenodd"}for(var t=0;t<i.length;t++){if(i[t].type>5)continue;
var f=i[t].length,l;if(t==i.length-1)break;var u=i[t].type==3;if(t==2){if(!k.A.ov(i))l="subtract";else l="unite"}else{if(i[t].N0==0)l="exclude";
if(i[t].N0==1)l="unite";if(i[t].N0==2)l="subtract";if(i[t].N0==3)l="intersect"}if(i[t].N0!=-1){h=new paper.CompoundPath;
$.push([h,l]);h.fillRule="evenodd";h.fillColor=d}var U=[];for(var y=0;y<f;y++){var a=i[t+1+y],v=a.Q2.JI(a.F),c=a.ua.JI(a.F);
U.push([[a.F.x,a.F.y],[v.x,v.y],[c.x,c.y]])}var p=new paper.Path(U);K(p,u);h.addChild(p);t+=f}return $};
k.A.oP=function(i){for(var t=0;t<i.length;t++){var $=i[t];if($.F==null)continue;if(!$.F.Rl($.Q2)||!$.F.Rl($.ua))return!1}return!0};
k.A.aha=function(i){if(i.length<=5)return 0;var $=0,h=i.length-3-1;for(var t=0;t<h;t++){var d=i[3+t],K=i[3+t+1];
if(d.type==0||K.type==0)return 0;$+=(K.F.x-d.F.x)*(d.F.y+K.F.y)}$+=(i[3].F.x-i[3+h].F.x)*(i[3+h].F.y+i[3+1].F.y);
return-$*.5};k.A.Ao=function(i){var $=i[2],h=!1;if(i.length==2)h=i[1].all==0;else if(i[1].all==1){if($.N0==1||$.N0==3)h=!0;
else h=!1}else{if($.N0==1||$.N0==3||$.N0==0)h=!0;else h=!1}return h};k.A.ov=function(i){var $=k.A.Ao(i);
for(var t=3;t<i.length;t++)if(i[t].N0==3)$=!0;return $};k.A.ao8=0;k.A.PE=0;k.A.a0s=0;k.A.a6L=function(i,$,h,d){if(h.NT())return;
var K=h.O(),r=16384;k.A.ao8+=K;if(K>k.A.PE){k.A.PE=K}var f=h.e,l=h.n;if(d==null&&k.A.oP(i)&&i[2]&&i[2].N0!=2){var u=!0;
for(var t=2;t<i.length;)if(i[t].length==2)t+=3;else{u=!1;break}if(u){return}if(k.A.VL(i)){$.fill(255);
var U=k.A.eu(i);if(U.O()!=K){var y=1-(U.x-h.x),a=1-(U.y-h.y),v=1-(h.x+h.e-(U.x+U.e)),c=1-(h.x+h.n-(U.x+U.n)),p=~~(y*255),C=~~(v*255),T=~~(a*255),E=~~(c*255);
$.fill(T,0,f);$[0]=~~(y*a*255);$[f-1]=~~(v*a*255);for(var t=f;t<K;t+=f){$[t]=p;$[t+f-1]=C}$.fill(E,(l-1)*f,l*f);
$[K-f]=~~(y*c*255);$[K-1]=~~(v*c*255)}return}}var Y=Math.ceil(f/r),S=Math.ceil(l/r),m=Math.ceil(f/Y),Q=Math.ceil(l/S),z=Date.now();
for(var n=0;n<S;n++)for(var Z=0;Z<Y;Z++){var P=Z*m,V=n*Q,I=m,q=Q,X=k.i8(I,q);if(!k.A.Ao(i))X.fillRect(0,0,I,q);
k.A.J2(i,X,-h.x-P,-h.y-V,d);var B=new Uint8Array(X.getImageData(0,0,I,q).data.buffer);if(I==f&&q==l)k.pO(B,$,3);
else k.$s(B,new bN(P,V,I,q),$,new bN(0,0,f,l))}};k.A.acA=function(i){var $=!1,h=!1,d=0,K=!1;for(var t=0;
t<i.length;t++){var f=i[t].N0;if(f!=null){d++;if(f==-1)$=!0;if(f==1||f==2||f==3)h=!0;if(i[t].type==0)K=!0}}if(!$&&d<20&&K&&h)i=k.A.r0(i);
return i};k.A.J2=function(i,$,h,d,K,f){if(K!=null){i=k.A.acA(i)}for(var t=0;t<i.length;t++){if(i[t].type>5)continue;
var l=i[t].length;if(l==0)continue;if(t==i.length-1)break;var u=i[t].type==3,U=i[t].N0;if(U!=-1&&K==null){var y=["xor","source-over","destination-out","source-in"][U];
$.globalCompositeOperation=y}if(i[t].N0!=-1){$.beginPath();if(K){k.A.Xp(K,$)}}k.A.a9X($,i,t+1,l,h,d,u);
if(u){}else $.closePath();if(i[t+1+l]==null||i[t+1+l].N0!=-1){if(K){if(f)$.clip();$.stroke()}else $.fill(U==-1?"nonzero":"evenodd")}t+=l}$.globalCompositeOperation="source-over"};
k.A.Xp=function(i,$){var h=i.strokeStyleLineWidth.v.val,d=i.strokeStyleLineAlignment.v.strokeStyleLineAlignment,K=i.strokeStyleLineCapType.v.strokeStyleLineCapType,f=i.strokeStyleLineJoinType.v.strokeStyleLineJoinType,l=i.strokeStyleMiterLimit.v,u=[],U=i.strokeStyleLineDashSet.v;
for(var y=0;y<U.length;y++)u.push(U[y].v.val*h);$.setLineDash(u);$.lineCap=["butt","round","square"][et._T.xe.indexOf(K)];
$.lineJoin=["miter","round","bevel"][et._T.join.indexOf(f)];$.lineWidth=et._T.QY.indexOf(d)==1?h:h*2;
$.miterLimit=l};k.A.a9X=function(i,$,t,h,d,K,f){var l=$[t],u=null;i.moveTo(l.F.x+d,l.F.y+K);for(var U=t;
U<t+h-1;U++){l=$[U];u=$[U+1];i.bezierCurveTo(l.ua.x+d,l.ua.y+K,u.Q2.x+d,u.Q2.y+K,u.F.x+d,u.F.y+K)}if(!f){l=$[U];
u=$[t];i.bezierCurveTo(l.ua.x+d,l.ua.y+K,u.Q2.x+d,u.Q2.y+K,u.F.x+d,u.F.y+K)}};k.A.ae5=function(i,$){var h=[],d=$?4:1;
for(var t=0;t<i.length;t+=2){var K=new cq(i[t],i[t+1]);h.push({type:d,Q2:K.clone(),F:K.clone(),ua:K.clone()})}return h};
k.A.Lk=function(i,$,h){var d=k.p.nP(i),K=Math.sqrt(Math.sqrt(d.O()))*.2,f=.2;i=i.slice(0);var l=i.length,u=$?0:2;
for(var U=0;U<5;U++)for(var t=u;t<i.length-u;t+=2){var y=(t-2+l)%l,a=(t+2)%l,v=i[t],c=i[t+1],p=(i[y]+i[a])*.5,C=(i[y+1]+i[a+1])*.5;
i[t]=v+(p-v)*f;i[t+1]=c+(C-c)*f}if(h)return k.A.jY.As(i,null,!$);k.A.jy();var T=new paper.Path;T.remove();
T.closed=$;for(var t=0;t<i.length;t+=2)T.add(new paper.Point(i[t],i[t+1]));T.simplify(K);var E=[{type:6},{type:8,all:0}];
E=E.concat(k.A.Mn(T));return E};k.A.NJ=function(i,$,h){var d=i[$].length,K=i[$].type,f=0,l=i.slice($+1,$+1+d);
for(var t=0;t<d;t++){var u=h[(t-1+d)%d],U=h[(t+1+d)%d],y=h[t];if(y!=0){var a=l[(t-1+d)%d].F,v=l[(t+0+d)%d].F,c=l[(t+1+d)%d].F,p=cq.ED(v,a),C=cq.ED(v,c),T=k.p.AV(a.x,a.y,v.x,v.y,c.x,c.y,y)[0],E=Math.min(T,u==0?p:p/2,U==0?C:C/2);
y*=E/T;var r=k.p.asD(a.x,a.y,v.x,v.y,c.x,c.y,y),Y={type:K+1,Q2:new cq(r[2],r[3]),F:new cq(r[2],r[3]),ua:new cq(r[4],r[5])},S={type:K+1,Q2:new cq(r[6],r[7]),F:new cq(r[8],r[9]),ua:new cq(r[8],r[9])};
i.splice($+f+1,1,Y,S);f++;i[$].length++}f++}};k.A.oP=function(i){for(var t=0;t<i.length;t++){var $=i[t],h=$.type;
if(h==1||h==2||h==4||h==5)if(!$.F.Rl($.Q2)||!$.F.Rl($.ua))return!1}return!0};k.A.VL=function(i){if(i.length!=7||i[2].length!=4||!k.A.oP(i))return!1;
for(var t=0;t<4;t++){var $=!0;for(var h=0;h<4;h++){var d=i[3+(t+h&3)],K=i[3+(t+h+1&3)];if(d.F.x!=K.F.x&&d.F.y!=K.F.y)$=!1}if($)return!0}return!1};
k.A.a8c=function(i){if(i.length<6)return 0;var $=i.length-2,h=0;for(var t=0;t<$;t+=2)h+=(i[t+2]-i[t])*(i[t+1]+i[t+3]);
h+=(i[0]-i[$])*(i[$+1]+i[1]);return-h*.5};k.A.gH=function(i){i=H.LF.t0(i);var $=k.A.P6(i);for(var h=0;
h<$;h++){var d=k.A.ec(i,h)+1,K=i[d-1].length,f=[];for(var t=0;t<K;t++){var l=i[d+t].F;f.push(l.x,l.y)}var u=k.A.a8c(f);
if(u<0)k.A.a8P(i,d-1)}return i};k.A.a8P=function(i,$){var h=$+1,d=i[$].length,K=[];for(var t=0;t<d;t++){var f=i[h+t],l=f.Q2;
f.Q2=f.ua;f.ua=l;K.push(f)}for(var t=0;t<d;t++)i[h+t]=K[d-1-t]};k.A.jY={};k.A.jY.As=function(i,$,h){var d=[{type:6},{type:8,all:0}],K=null;
d.push({type:h?3:0,N0:1,length:0,Qb:0,Vb:0,Ur:1});if($==0||$==null)K=null;else if($ instanceof Array)K=$;
else{K=[];for(var t=0;t<i.length;t+=2)K.push($)}d=d.concat(k.A.ae5(i,h));d[2].length=d.length-3;if(K)k.A.NJ(d,2,K);
return d};k.A.jY.anb=function(i,$,h,d,K){var f=[],l=[],u=.553,U=1,y=-1;f.push({type:1,Q2:new cq(0,u),F:new cq(0,0),ua:new cq(0,-u)});
K+=2;for(var t=0;t<K;t++){var a={type:1};if(t==0){a.F=new cq(1,-1);a.Q2=new cq(1-u,-1);a.ua=new cq(1+u,-1)}else{var v=-(t+2)*Math.PI/2,c=1+((t&1)==1?t-1:t),p=Math.sin(v),C=Math.cos(v);
U+=c*(p-C);y+=c*(C+p);a.F=new cq(U,y);a.Q2=new cq(U+c*C*u,y-c*p*u);if((t&1)==1)c+=2;a.ua=new cq(U-c*C*u,y+c*p*u)}var T={type:1,Q2:new cq(-a.ua.x,-a.ua.y),F:new cq(-a.F.x,-a.F.y),ua:new cq(-a.Q2.x,-a.Q2.y)};
f.push(a);if(t<K-2)l.push(T)}l.reverse();f=f.concat(l);var E=[{type:6},{type:8,all:0}];E.push({type:0,N0:1,length:f.length,Qb:0,Vb:0,Ur:1});
E=E.concat(f);var r=new ej(h/K,0,0,h/K,0,0);r.rotate(d);r.translate(i,$);k.A.mu(E,r);return E};k.A.jY.Rect=function(i,$,h,d,K){var f=[i,$,i+h,$,i+h,$+d,i,$+d];
return k.A.jY.As(f,K)};k.A.jY.o1=function(i,$,h,d,K,f,l,u){var U=[],y=2*Math.PI/K;for(var t=0;t<K;t++)U.push(Math.cos(t*y-d),Math.sin(t*y-d));
if(l!=null){var a=k.p.nP(U),v=a.e,c=a.n,p=l/(v/2),C=u/(c/2);for(var t=0;t<U.length;t+=2){U[t]=(U[t]-(a.x+v/2))*p;
U[t+1]=(U[t+1]-(a.y+c/2))*C}h=1}var T=new ej(h,0,0,h,0,0);T.translate(i,$);k.p.D(U,T,U);return k.A.jY.As(U,f)};
k.A.jY.NR=function(i,$,h,d,K,f,l){var u=[],U=Math.PI/K;for(var t=0;t<K*2;t++){var y=(t&1)==0?1:l;u.push(y*Math.cos(t*U),y*Math.sin(t*U))}var a=new ej(h,0,0,h,0,0);
a.rotate(d);a.translate(i,$);k.p.D(u,a,u);return k.A.jY.As(u,f)};k.A.jY.j9=function(i,$,h,d,K){return k.A.jY.G1(0,i,$,h,d,K)};
k.A.jY.amc=function(i,$,h,d,K,f){return k.A.jY.G1(1,i,$,h,d,K,f)};k.A.jY.QI=function(i,$,h,d,K,f){return k.A.jY.G1(2,i,$,h,d,K,f)};
k.A.jY.G1=function(i,$,h,d,K,f,l){var u=Math.sqrt((d-$)*(d-$)+(K-h)*(K-h)),U;f/=2;if(i==0)U=[-f,0,f,0,f,u,-f,u];
if(i==1){var y=f*2*l*1.3/1.5,a=f*l;U=[-f,0,f,0,f,u-y,a,u-y,0,u,-a,u-y,-f,u-y]}if(i==2){var y=l[3],a=l[2]/2,v=y*(2/3)*l[4]/100,c=y-v,p=y;
U=[];if(l[0])U.push(-f,c,-a,p,0,0,a,p,f,c);else U.push(-f,0,f,0);if(l[1])U.push(f,u-c,a,u-p,0,u,-a,u-p,-f,u-c);
else U.push(f,u,-f,u)}var C=new ej(1,0,0,1,0,0);C.rotate(Math.atan2(-K+h,d-$)+Math.PI/2);C.translate($,h);
k.p.D(U,C,U);return k.A.jY.As(U,0)};k.A.jY.lQ=function(i,$,h,d){var K=[{type:6},{type:8,all:0}],v=.553;
K.push({type:0,N0:1,length:4,Qb:0,Vb:0,Ur:1});var f=i,l=$,u=i+h,U=$+d,i=(f+u)/2,$=(l+U)/2,y=(f-u)/2,a=(l-U)/2;
K.push({type:1,Q2:new cq(i-v*y,$-a),F:new cq(i,$-a),ua:new cq(i+v*y,$-a)});K.push({type:1,Q2:new cq(i+y,$-v*a),F:new cq(i+y,$),ua:new cq(i+y,$+v*a)});
K.push({type:1,Q2:new cq(i+v*y,$+a),F:new cq(i,$+a),ua:new cq(i-v*y,$+a)});K.push({type:1,Q2:new cq(i-y,$+v*a),F:new cq(i-y,$),ua:new cq(i-y,$-v*a)});
return K};k.A.jY.ajj=function(i,$,h,d,K){var f=[{type:6},{type:8,all:0}];f.push({type:3,N0:1,length:5,Qb:0,Vb:0,Ur:1});
var l=(K-d)/4;for(var t=0;t<5;t++){var u=t*l,U=Math.cos(u),y=Math.sin(u),a=.553*(l/(Math.PI/2)),v=y*a,c=-U*a,p=new cq(U,y);
f.push({type:4,Q2:t==0?p.clone():new cq(U+v,y+c),F:p,ua:t==4?p.clone():new cq(U-v,y-c)})}var C=new ej;
C.rotate(-d);C.scale(h,h);C.translate(i,$);k.A.mu(f,C);return f};k.O$={};k.O$.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
k.O$.PJ=function(i){var $=i.warpStyle.v.warpStyle;if($=="warpNone")return!0;else if($=="warpCustom"){var h=!1,d=i.customEnvelopeWarp.v.meshPoints.v.arr,K=d[0].arr,f=d[1].arr;
for(var t=0;t<4;t++)for(var l=0;l<4;l++){if(Math.abs(K[t]-K[l*4+t])>1||Math.abs(f[t*4]-f[t*4+l])>1)h=!0}return!h}else return i.warpValue.v==0&&i.warpPerspective.v==0&&i.warpPerspectiveOther.v==0};
k.O$.Q=function(i){var $={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(i){$.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:i.y}},Left:{t:"UntF",v:{type:"#Pxl",val:i.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:i.y+i.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:i.x+i.e}}}};
$.uOrder={t:"long",v:4};$.vOrder={t:"long",v:4}}return $};k.O$.arZ=function(i,$,h,d){for(var t=0;t<i.length;
t+=2){var K=i[t],f=i[t+1],l=(K-$.x)/$.e,u=(f-$.y)/$.n,U=(1-h)/2,y=1-U,a=U+l*(y-U);u=.5+(u-.5)*a*2;var v=(1-d)/2,c=1-v,p=v+u*(c-v);
l=.5+(l-.5)*p*2;K=$.x+l*$.e;f=$.y+u*$.n;i[t]=K;i[t+1]=f}};k.O$.y7=function(i,$){var h=[],d=[];for(var t=0;
t<i.length;t+=2){h.push(i[t]);d.push(i[t+1])}var K=[];K.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:h});
K.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:d});$.warpStyle.v.warpStyle="warpCustom";$.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:K}}}}};
k.O$.A2=function(i,$){if($==null){var h=i.bounds.v,d=h.Left.v.val,K=h.Rght.v.val,f=h.Top.v.val,l=h.Btom.v.val;
if(d==null){d=h.Left.v,K=h.Rght.v;f=h.Top.v,l=h.Btom.v}$=new bN(d,f,K-d,l-f)}if($.NT())$.e=$.n=1;var u=[],U=i.warpStyle.v.warpStyle;
if(U=="warpCustom"){var y=i.customEnvelopeWarp.v.meshPoints.v.arr,a=y[0].arr,v=y[1].arr;for(var t=0;
t<16;t++)u.push(a[t],v[t])}else u=k.O$.O$($,U,i.warpRotate.v.Ornt=="Hrzn",i.warpValue.v/100,i.warpPerspective.v/100,i.warpPerspectiveOther.v/100);
return u};k.O$.O$=function(i,$,h,d,K,f){var l=k.X2.Q(i.x,i.y,i.e,i.n);if($=="warpNone")return l;var u=JSON.parse(JSON.stringify(i)),U=new ej;
if(!h){U.translate(-i.x,-i.y);U.rotate(-Math.PI/2);U.translate(i.n,0);k.p.D(l,U,l);i=new bN(0,0,i.n,i.e);
l=k.X2.uV(l,!1)}k.O$.a93(l,i,$,d,K,f);if(!h){l=k.X2.uV(l,!0);i=u;U.Sp();k.p.D(l,U,l)}if(d==0)k.O$.arZ(l,i,K,f);
else{var U=new ej(1/i.e,0,0,1/i.n,-i.x,-i.y);U.translate(-.5,-.5);k.p.D(l,U,l);k.O$.apw(l,f,K);U.Sp();
k.p.D(l,U,l)}return l};k.O$.a93=function(i,$,h,d,K,f){for(var t=0;t<4;t++){for(var l=0;l<4;l++){var u=2*(4*t+l),U=i[u]-$.x,y=i[u+1]-$.y,a=U,v=y;
if(d!=0){var c=$.e/2,p=$.n/2;a-=c;v-=p;var C=a,T=a,E=-p,r=p,Y=Math.abs(d),S=Math.tan((1-Y)*Math.PI/2),m=Math.sqrt(S*S+1),Q=Math.atan2(1,S),z=a/c*Q,n=c*m,Z=c*m+$.n,P=Math.cos(Q),V=Math.sin(Q),I=k.O$.abi(P,V),q=k.O$.a9n(P,V),X=-S*c+I*n;
if(h=="warpArc"){C=Math.sin(z)*Z;E=S*c-Math.cos(Q)*Z+p;T=Math.sin(z)*n;r=S*c-Math.cos(Q)*n+p;if(l==1||l==2){C=l==1?-q*Z:q*Z;
T=l==1?-q*n:q*n;E=S*c+p-I*Z;r=S*c+p-I*n}if(d<0){var B=C;C=T;T=B;B=E;E=-r;r=-B}}if(h=="warpArcLower"){if(l==1||l==2){T=l==1?-q*n:q*n;
r=d<0?p-X:p+X}}if(h=="warpArcUpper"||h=="warpArch"||h=="warpBulge"){if(l==1||l==2){C=l==1?-q*n:q*n;E=d<0?-p+X:-p-X}if(h=="warpArch"){T=C;
r=E+2*p}if(h=="warpBulge"){T=C;r=-E}}if(h=="warpFish"||h=="warpFlag"||h=="warpWave"){var e=l;if(h=="warpFlag")e=3-l;
if(e==1){E-=d*4*p;r+=d*4*p}if(e==2){E+=d*4*p;r-=d*4*p}if(h=="warpFlag"||h=="warpWave")E=r-2*p}if(h=="warpRise"){if(l<2)E=-p+d*p*4;
r=E+2*p}var F=(v+p)/$.n;a=C+F*(T-C);v=E+F*(r-E);if(h=="warpWave"){if(t==0)v=-p;if(t==3)v=p;if(t==1||t==2)v=2*p*(t/3-.5)*(1/3)+v*(2/3)}if(h=="warpFisheye"){if((t==1||t==2)&&(l==1||l==2)){a=a+4*a*d;
v=v+4*v*d}}if(h=="warpInflate"){var s=2/3;if((t==1||t==2)&&(l==1||l==2)){a=a+.5*a*d;v=v+.5*v*d}else if(t==1||t==2)a=a+s*a*d;
else if(l==1||l==2)v=v+s*v*d}if(h=="warpSqueeze"){var s=2/3;if((t==1||t==2)&&(l==1||l==2)){if(d>0)a=a-s*a*d;
else v=v+s*v*d}else if(t==1||t==2)a=a-s*a*d;else if(l==1||l==2)v=v+s*v*d}if(h=="warpTwist"){if((t==1||t==2)&&(l==1||l==2)){var J=d*Math.PI/2,m=1+Math.abs(d)*2,W=a*Math.cos(J)-v*Math.sin(J),L=a*Math.sin(J)+v*Math.cos(J);
a=W*m;v=L*m}}if(h=="warpShellLower"||h=="warpShellUpper"){if(h=="warpShellUpper"){t=3-t;v=-v}if(t>2||t==2&&(l==0||l==3)){if(d>0){var A=n+t/3*2*p;
a=Math.sin(z)*A;v=-S*c-p+Math.cos(z)*A;if(l==1||l==2){a=l==1?-q*A:q*A;v=-S*c-p+I*A}}else{if((l==1||l==2)&&t==3){a=l==1?-q*n:q*n;
v=S*c-I*n+p}else if(t==2){v=p-p*(2/3)*Math.cos(z);a=a+p*(2/3)*Math.sin(z)}}}if(h=="warpShellUpper"){t=3-t;
v=-v}}a+=c;v+=p}U=a,y=v;i[u]=U+$.x;i[u+1]=y+$.y}}};k.O$.apw=function(i,$,h){var d=[];for(var K=0;K<4;
K++)d.push(1-h+K/3*2*h);var f=[];for(var K=0;K<4;K++)f.push(1-$+K/3*2*$);var l=[0,0,0,0],u=[0,0,0,0];
for(var t=0;t<4;t++)for(var K=0;K<4;K++){var U=2*(4*t+K),y=i[U],a=i[U+1];l[K]+=y/4;u[K]+=a/4}for(var t=0;
t<4;t++)for(var K=0;K<4;K++){var v=d[K],U=2*(4*t+K),y=i[U],a=i[U+1],c=l[K],p=u[K];i[U]=c+v*(y-c);i[U+1]=p+v*(a-p)}var C=i.slice(0);
for(var t=0;t<4;t++)for(var K=1;K<3;K++){var U=2*(4*t+K),y=i[U],a=i[U+1],T=U+(K==1?-2:2),E=i[T],r=i[T+1];
i[U]=y-E;i[U+1]=a-r}var Y=i[0],S=i[1],m=i[8],Q=i[9],z=i[16],n=i[17],Z=i[24],P=i[25],V=i[6],I=i[7],q=i[14],X=i[15],B=i[22],e=i[23],F=i[30],s=i[31],J=V-Y,W=I-S,L=q-m,A=X-Q,j=B-z,G=e-n,O=F-Z,o=s-P;
for(var t=0;t<4;t++){var N=2*t*4,w=0,kv=0,g=t==1?.33:.66,b=1-g;if(t==0){w=J;kv=W}if(t==1){w=b*J+g*-O;
kv=b*W+g*-o}if(t==2){w=b*J+g*-O;kv=b*W+g*-o}if(t==3){w=-O;kv=-o}i[N]=i[N]+w/2;i[N+1]=i[N+1]+kv/2;i[N+6]=i[N+6]-w/2;
i[N+7]=i[N+7]-kv/2}for(var t=0;t<4;t++)for(var K=1;K<3;K++){var U=2*(4*t+K),y=i[U],a=i[U+1],T=U+(K==1?-2:2),E=i[T],r=i[T+1],v=2*t/3;
i[U]=E+v*y;i[U+1]=r+v*a}for(var t=1;t<3;t++)for(var K=1;K<3;K++){var U=2*(4*t+K),y=i[U],a=i[U+1],jU=t==1?-8:-16,_=t==1?16:8,cY=i[U+jU],j3=i[U+jU+1],aS=i[U+_],bL=i[U+_+1],v=t/3;
y=(1-v)*cY+v*aS;a=(1-v)*j3+v*bL;i[U]=y;i[U+1]=a}k.p.IV(C,i,i,$)};k.O$.abi=function(i,$){return(4-i)*(1/3)};
k.O$.a9n=function(i,$){return(1-i)*(3-i)/(3*$)};k.ow={};k.ow.ant=function(i,$,h,d,K,f,l,u,U,y){for(var a=0;
a<u;a++)for(var v=0;v<l;v++){var c=3*(a*l+v),p=a+f,C=v+K,T=i[p*$+C];d[c]=T;d[c+1]=T;d[c+2]=T}};k.ow.KU=function(i,$,h,d,K,f,l,u,U,y){var a=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],v=1/U,c=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],p=new Uint32Array(6);
for(var C=0;C<u;C++){for(var T=0;T<l;T++){var E=3*(C*l+T),r=C+f,Y=T+K;p[0]=0;p[1]=0;p[2]=0;p[3]=0;p[4]=0;
p[5]=0;for(var t=0;t<16;t+=2){var S=Y+c[t],m=r+c[t+1],Q=S-U*~~(S*v),z=m-U*~~(m*v),n=y[z*U+Q];p[n]+=i[m*$+S];
p[n+3]++}var S=Y,m=r,Q=S-U*~~(S*v),z=m-U*~~(m*v),n=y[z*U+Q];p[n]=i[r*$+Y];p[n+3]=1;d[E]=p[0]*a[p[3]];
d[E+1]=p[1]*a[p[4]];d[E+2]=p[2]*a[p[5]]}}};k.ow.fA=function(i,$,h){for(var t=0;t<h;t+=2)i[$+t]=i[$+t+1];
$=$+h;for(var t=0;t<h;t+=2)i[$+t+1]=i[$+t]};k.ow.lh=function(i,$,h,d){for(var t=0;t<d;t+=2){var K=$+t*h;
i[K]=i[K+h];i[K+h+1]=i[K+1]}};k.ow.Ae=function(i,$,h,d,K,f){var l=d[K],u=d[K+1],U=d[f],y=d[f+1],a=u+U>>>1;
i[$]=i[$+3]=i[h]=i[h+3]=l;i[$+1]=a;i[$+4]=u;i[h+1]=U;i[h+4]=a;i[$+2]=i[$+5]=i[h+2]=i[h+5]=y};k.ow.aql=function(i,$,h,d,K,f){var l=f*3;
for(var t=0;t<f;t+=2){var u=$+t,U=K+t*3;k.ow.Ae(d,U,U+l,i,u,u+h)}};k.ow.a00=function(i,$,h,d,K,f,l){var u=f*3;
for(var t=0;t<l;t+=2){var U=$+t*h,y=K+t*f*3;k.ow.Ae(d,y,y+u,i,U,U+h)}};k.ow.Oj=function(i,t,$){var h=i[t-$-$],d=i[t-$],K=i[t-2],f=i[t-1],l=i[t],u=i[t+1],U=i[t+2],y=i[t+$],a=i[t+$+$],v=Math.abs(d-y),c=Math.abs(f-u),p=Math.abs(l-h)*2+v,C=Math.abs(l-U)*2+c,T=Math.abs(l-K)*2+c,E=Math.abs(l-a)*2+v,r=Math.min(p,Math.min(C,Math.min(T,E)));
if(r==p)return d*3+y+l-h>>2;if(r==C)return u*3+f+l-U>>2;if(r==T)return f*3+u+l-K>>2;return y*3+d+l-a>>2};
k.ow.rp=function(i,$,h,d,K){if(i<$&&$<h||i>$&&$>h)return~~(.5+d+(K-d)*($-i)/(h-i));else return(d+K>>1)+($+$-i-h>>2)};
k.ow.he=function(i,$,t,h){var d=$[t-h-1],K=$[t-h+1],f=$[t],l=$[t+h-1],u=$[t+h+1],U=i[t-h-1],y=i[t-h+1],a=i[t],v=i[t+h-1],c=i[t+h+1],p=Math.abs(y-v)+Math.abs(i[t-h-h+2]-a)+Math.abs(a-i[t+h+h-2])+Math.abs(K-f)+Math.abs(f-l),C=Math.abs(U-c)+Math.abs(i[t-h-h-2]-a)+Math.abs(a-i[t+h+h+2])+Math.abs(d-f)+Math.abs(f-u);
if(p<C)return k.ow.rp(K,f,l,y,v);else return k.ow.rp(d,f,u,U,c)};k.ow.lG=function(i,$,h,d,K,f){i[$+0]=h[K];
i[$+1]=d[K];i[$+2]=k.ow.he(h,d,K,f)};k.ow.Lo=function(i,$,h,d,K,f){var l=d[K];i[$+0]=k.ow.rp(d[K-1],l,d[K+1],h[K-1],h[K+1]);
i[$+1]=l;i[$+2]=k.ow.rp(d[K-f],l,d[K+f],h[K-f],h[K+f])};k.ow.iq=function(i,$,h,d,K,f){var l=d[K];i[$+0]=k.ow.rp(d[K-f],l,d[K+f],h[K-f],h[K+f]);
i[$+1]=l;i[$+2]=k.ow.rp(d[K-1],l,d[K+1],h[K-1],h[K+1])};k.ow.oy=function(i,$,h,d,K,f){i[$+0]=k.ow.he(h,d,K,f);
i[$+1]=d[K];i[$+2]=h[K]};k.ow.a5N=function(i,$,h,d,K,f,l,u,U){var y=Date.now(),a=2,v=$-2,c=2;if((K&1)==1){a++;
v--}var p=h-2;if((f&1)==1){c++;p--}if(U==1||U==3){a++;v--}var C=i.slice(0);k.ow.fA(C,0,$);k.ow.lh(C,0,$,h);
k.ow.lh(C,$-2,$,h);k.ow.fA(C,(h-2)*$,$);for(var T=c;T<p;T+=2)for(var E=a;E<v;E+=2){var t=T*$+E,r=k.ow.Oj(C,t,$),Y=k.ow.Oj(C,t+$+1,$);
C[t]=Math.max(0,r);C[t+$+1]=Math.max(0,Y)}var S=l,m=u;if(f+u==h){m-=2;k.ow.aql(i,(h-2)*$+K,$,d,(u-2)*l*3,l)}if(K+l==$){S-=2;
k.ow.a00(i,f*$+K+l-2,$,d,(l-2)*3,l,u)}if(U==0)for(var T=0;T<m;T+=2)for(var E=0;E<S;E+=2){var Q=(T+f)*$+E+K,z=(T*l+E)*3;
k.ow.lG(d,z,i,C,Q,$);k.ow.Lo(d,z+3,i,C,Q+1,$);Q+=$;z+=3*l;k.ow.iq(d,z,i,C,Q,$);k.ow.oy(d,z+3,i,C,Q+1,$)}else if(U==1)for(var T=0;
T<m;T+=2)for(var E=0;E<S;E+=2){var Q=(T+f)*$+E+K,z=(T*l+E)*3;k.ow.Lo(d,z,i,C,Q,$);k.ow.lG(d,z+3,i,C,Q+1,$);
Q+=$;z+=3*l;k.ow.oy(d,z,i,C,Q,$);k.ow.iq(d,z+3,i,C,Q+1,$)}else if(U==2)for(var T=0;T<m;T+=2)for(var E=0;
E<S;E+=2){var Q=(T+f)*$+E+K,z=(T*l+E)*3;k.ow.oy(d,z,i,C,Q,$);k.ow.iq(d,z+3,i,C,Q+1,$);Q+=$;z+=3*l;k.ow.Lo(d,z,i,C,Q,$);
k.ow.lG(d,z+3,i,C,Q+1,$)}else if(U==3)for(var T=0;T<m;T+=2)for(var E=0;E<S;E+=2){var Q=(T+f)*$+E+K,z=(T*l+E)*3;
k.ow.iq(d,z,i,C,Q,$);k.ow.oy(d,z+3,i,C,Q+1,$);Q+=$;z+=3*l;k.ow.lG(d,z,i,C,Q,$);k.ow.Lo(d,z+3,i,C,Q+1,$)}};
k.raw={};k.raw.ajr=function(i){var $=Date.now(),h=i.width,d=i.height,K=0,f=0,l=h,u=d;if(i.t50829){var U=i.t50829;
K=U[1];f=U[0];l=U[3];u=U[2]}if(i.t50719){var y=i.t50719;K+=y[0]>>1<<1;f+=y[1]>>1<<1}if(i.t50720){var a=i.t50720;
l=K+a[0];u=f+a[1]}var v=l-K,c=u-f,p=k.raw.aqA(i),C=i.t33422,T=i.t33421;if(T){var a=T[0],E=C.slice(0);
for(var r=0;r<a;r++)for(var Y=0;Y<a;Y++){var S=(Y+(K&1))%a,m=(r+(f&1))%a;E[r*a+Y]=C[m*a+S]}C=E}if(i.t277[0]==1)k.raw.aif(p,h,d,i,C);
k.raw.zn(2,i,p,h,d);var Q=new Float32Array(v*c*3);if(i.t277[0]==1){if(T==null){k.ow.ant(p,h,d,Q,K,f,v,c)}else if(T.length!=2||T[0]!=2||T[1]!=2){console.log("Unknown CFA pattern size",T);
k.ow.KU(p,h,d,Q,K,f,v,c,T[0],C)}else{var z=i.t33422.join(","),n=0;if(z=="0,1,1,2")n=0;else if(z=="1,0,2,1")n=1;
else if(z=="2,1,1,0")n=2;else if(z=="1,2,0,1")n=3;else throw"Unknown CFA pattern "+z;if((v&1)!=0||(c&1)!=0)throw"e";
k.ow.a5N(p,h,d,Q,K,f,v,c,n)}}else{for(var r=0;r<c;r++)for(var Y=0;Y<v;Y++){var Z=((r+f)*h+Y+K)*3,P=(r*v+Y)*3;
Q[P+0]=p[Z+0];Q[P+1]=p[Z+1];Q[P+2]=p[Z+2]}}var V=Q,I=Q.length,q=k.raw.i4(i),X=1/q;for(var t=0;t<I;t+=3){Q[t]=V[t]*X;
Q[t+1]=V[t+1]*X;Q[t+2]=V[t+2]*X}k.raw.zn(3,i,Q,v,c);var B=i.pa,e=v,F=c;if(B==1||B==9){}else{var s=k.raw.iw(B,v,c),P=0;
e=s[0];F=s[1];var J=Q.slice(0);for(var r=0;r<F;r++)for(var Y=0;Y<e;Y++){var W=s[2]*Y+s[3]*r+s[4],L=s[5]*Y+s[6]*r+s[7],Z=(L*v+W)*3;
Q[P]=J[Z];Q[P+1]=J[Z+1];Q[P+2]=J[Z+2];P+=3}}return{Yz:Q,Az:e,Zi:F}};k.raw.iw=function(i,$,h){var d=$,K=h;
if(!1){}else if(i==2)return[$,h,-1,0,$-1,0,1,0];else if(i==3)return[$,h,-1,0,$-1,0,-1,h-1];else if(i==4)return[$,h,1,0,0,0,-1,h-1];
else if(i==5)return[h,$,0,1,0,1,0,0];else if(i==6)return[h,$,0,1,0,-1,0,h-1];else if(i==7)return[h,$,0,-1,$-1,-1,0,h-1];
else if(i==8)return[h,$,0,-1,$-1,1,0,0];else throw"unknown orientation "+i};k.raw.aif=function(i,$,h,d,K){var f=Date.now(),X=0,F=0;
if(k.raw.i4(d)>4e4){for(var t=0;t<i.length;t++)i[t]>>=1;var l=["t50714","t50715","t50712","t50717"];
for(var t=0;t<l.length;t++){var u=d[l[t]];if(u)for(var U=0;U<u.length;U++)u[U]>>>=1}console.log("remapping to lower bit depth")}var y=~~Math.sqrt(K.length),a=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],v=[];
for(var c=0;c<y;c++)for(var p=0;p<y;p++){var t=c*y+p,C=K[t],T=4,E=4,r=8,Y=0,S=0;for(var U=0;U<18;U+=2){var m=(y+p+a[U])%y,Q=(y+c+a[U+1])%y,z=K[Q*y+m];
if(z==C){}else if(T==4){T=z;Y=U}else if(E==4&&z!=T){E=z;S=U;break}}if(E<T){var n=E;E=T;T=n;n=S;S=Y;Y=n}if(T<C){var n=T;
T=C;C=n;n=Y;Y=r;r=n}if(E<T){var n=E;E=T;T=n;n=S;S=Y;Y=n}v[t*3]=a[r+1]*$+a[r];v[t*3+1]=a[Y+1]*$+a[Y];
v[t*3+2]=a[S+1]*$+a[S]}var Z=~~(.996*k.raw.i4(d)),P=~~(.992*k.raw.i4(d)),V=d.t50728;if(V[0]==0)V=[1,1,1];
var I=[],q=[0,0,0];for(var c=1;c<h-1;c++)for(var p=1;p<$-1;p++){var t=c*$+p,B=c%y*y+p%y,C=i[t+v[B*3+0]],T=i[t+v[B*3+1]],E=i[t+v[B*3+2]],e=Math.max(C,T,E);
if(e>Z)I.push(t);else if(e>P){q[0]+=C;q[1]+=T;q[2]+=E;X++}}if(I.length==0)return;if(X/($*h)<1e-5){console.log("not enough semi-saturated pixels",X);
q=V}if(q[1]<q[F])F=1;if(q[2]<q[F])F=2;var s=[q[0]/q[F],q[1]/q[F],q[2]/q[F]],J=i.slice(0);for(var W=0;
W<I.length;W++){var t=I[W],c=~~(t/$),p=t-c*$,B=c%y*y+p%y,L=Math.min(65535,~~(i[t+v[B*3+F]]*s[K[B]]));
if(L>J[t])J[t]=L}i.set(J)};k.raw.Mu=function(i,$,h,d){var K=Math.round(i.length/3),f=d5.bR(d[0],d[1]),l=k.raw.a91(h,f),u=k.xP.multiply(k.xP.R5,l),U=Math.pow(2,h.t50730?h.t50730[0]:0);
u=k.xP.multiply(u,k.xP.Fv(U,U,U));var y=k.raw.Mu.a8Z;if(y==null){y=k.raw.Mu.a8Z=new Float64Array(8e3);
for(var t=0;t<8e3;t++)y[t]=k.Jy(t*(1/1e3))}for(var t=0;t<K;t++){var a=t<<2,v=a-t,c=i[v],p=i[v+1],C=i[v+2],T=u[0]*c+u[1]*p+u[2]*C,E=u[4]*c+u[5]*p+u[6]*C,r=u[8]*c+u[9]*p+u[10]*C;
if(T<0)T=0;if(E<0)E=0;if(r<0)r=0;$[v]=y[~~(T*1e3)];$[v+1]=y[~~(E*1e3)];$[v+2]=y[~~(r*1e3)]}};k.raw.aqA=function(i){var $=i.width,h=i.height,d=$*h*i.t277,K=new Uint16Array(d),f=null,l=0;
k.raw.axd(i,K);k.raw.zn(1,i,K,$,h);if(i.t50712){f=i.t50712;l=f.length-1;if(f[l]>65535)throw"too big values"}var u=k.raw.gX(i),U=k.raw.WR(i);
if(f==null)for(var t=0;t<d;t++)K[t]=Math.max(0,K[t]-u);else for(var t=0;t<d;t++){var y=K[t];if(y>l)y=l;
y=f[y];K[t]=Math.max(0,y-u)}return K};k.raw.gX=function(i){var $=i.t50714,h=$?$[0]:0,d=i.t50715,K=i.t50716;
if(d)h+=d[0][0]/d[0][1];if(K)h+=K[0][0]/K[0][1];return Math.round(h)};k.raw.WR=function(i){var $=null,h=0;
if(i.t50712){$=i.t50712;h=$.length-1}var d=i.t50717?i.t50717[0]:(1<<i.t258[0])-1;if($)d=Math.min(d,$[h]);
return d};k.raw.i4=function(i){var $=k.raw.gX(i),h=k.raw.WR(i);return h-$};k.raw.axd=function(i,$){var h=$.length,d=i.data,K=i.t258[0];
if(K!=16&&K!=14&&K!=12&&K!=10&&K!=8)throw"Unsupported Bits Per Sample:"+K;K=Math.round(d.length*8/h);
if(K==16&&i.isLE){k.pv(d,$);return}for(var t=0;t<h;t+=2){var f=0,l=0,u=0;if(K==16){f=t<<1;l=d[f]<<8|d[f+1];
u=d[f+2]<<8|d[f+3]}else if(K==14){var U=t*14,y=U>>>3,a=d[y]<<24|d[y+1]<<16|d[y+2]<<8|d[y+3];if((U&7)==0){l=a>>>18;
u=a>>>4&16383}else{l=a>>>14&16383;u=a&16383}}else if(K==12){f=t+(t>>>1);l=d[f]<<4|d[f+1]>>4;u=(d[f+1]&15)<<8|d[f+2]}else if(K==10){var U=t*10,y=U>>>3;
if((U&7)==0){l=(d[y]<<2|d[y+1]>>6)&1023;u=(d[y+1]<<4|d[y+2]>>4)&1023}else{l=(d[y]<<6|d[y+1]>>2)&1023;
u=(d[y+1]<<8|d[y+2]>>0)&1023}}else if(K==8){f=t;l=d[f];u=d[f+1]}$[t]=l;$[t+1]=u}};k.raw.ax8=function(i,$,h,d,K,f,l){var u=i-.499999,U=$-.499999,y=~~u,a=~~U,v=u-y,c=U-a,p=(1-c)*(1-v),C=(1-c)*v,T=c*(1-v),E=c*v,r=(a*d+y)*3,Y=((a+1)*d+y)*3,S=p*h[r]+C*h[r+3]+T*h[Y]+E*h[Y+3],m=p*h[r+1]+C*h[r+4]+T*h[Y+1]+E*h[Y+4],Q=p*h[r+2]+C*h[r+5]+T*h[Y+2]+E*h[Y+5];
f[l]=S;f[l+1]=m;f[l+2]=Q};k.raw.zn=function(i,$,h,d,K){var f=$["t"+[51008,51009,51022][i-1]],a=0;if(f==null)return;
var l=d*K,u=M.v,U=M.VM,y=new Uint8Array(f),f3=M.v(y,a);a+=4;for(var v=0;v<f3;v++){var c=u(y,a);a+=4;
var p=u(y,a);a+=4;var C=u(y,a);a+=4;var T=u(y,a);a+=4;if(!1){}else if(c==1&&i==3){var E=a,r=u(y,E);E+=4;
var Y=U(y,E);E+=8;var S=U(y,E);E+=8;var m=U(y,E);E+=8;var Q=U(y,E);E+=8;var z=U(y,E);E+=8;var n=U(y,E);
E+=8;E+=(r-1)*8*6;var Z=U(y,E);E+=8;var P=U(y,E);E+=8;var V=Z*d,I=P*K,q=Math.max(V,d-V),X=Math.max(I,K-I),B=Math.sqrt(q*q+X*X),e=1/B,F=h.slice(0);
for(var s=0;s<K;s++)for(var J=0;J<d;J++){var W=(J+.5-V)*e,L=(s+.5-I)*e,A=W*W+L*L,j=Y+S*A+m*(A*A)+Q*(A*A)*A,G=z*(2*W*L)+n*(A+2*W*W),O=n*(2*W*L)+z*(A+2*L*L),o=Math.min(V+B*(j*W+G),d-1),N=Math.min(I+B*(j*L+O),K-1),w=(s*d+J)*3;
k.raw.ax8(o,N,F,d,K,h,w)}}else if(c==3&&i==3){var E=a,kv=U(y,E);E+=8;var g=U(y,E);E+=8;var b=U(y,E);
E+=8;var jU=U(y,E);E+=8;var _=U(y,E);E+=8;var Z=U(y,E);E+=8;var P=U(y,E);E+=8;var V=Z*d,I=P*K,q=Math.max(V,d-V),X=Math.max(I,K-I),B=Math.sqrt(q*q+X*X),e=1/B;
for(var s=0;s<K;s++)for(var J=0;J<d;J++){var W=(J+.5-V)*e,L=(s+.5-I)*e,A=W*W+L*L,cY=1+(kv+(g+(b+(jU+_*A)*A)*A)*A)*A,w=(s*d+J)*3;
h[w]=cY*h[w];h[w+1]=cY*h[w+1];h[w+2]=cY*h[w+2]}}else if(c==4&&i==1){var E=a,j3=u(y,E);E+=4;var aS=u(y,E);
E+=4;for(var t=0;t<l;t++)if(h[t]==j3)h[t]=h[t-2]+h[t+2]>>1}else if(c==5&&i==1){var E=a,bL=u(y,E);E+=4;
var cQ=u(y,E);E+=4;var cK=u(y,E);E+=4;for(var t=0;t<cQ;t++){var el=u(y,E);E+=4;var gF=u(y,E);E+=4;var t=el*d+gF;
h[t]=h[t-2]+h[t+2]>>1}}else if(c==7&&i==1){var E=a,fj=M.YJ(y,E);E+=16;var i3=u(y,E);E+=4;var eT=u(y,E);
E+=4;var eV=u(y,E),hr=u(y,E+4);E+=8;var it=u(y,E);E+=4;var f8=new Uint16Array(it);for(var t=0;t<it;t++)f8[t]=M.fd(y,E+2*t);
var i$=fj.e,gS=fj.n;for(var s=0;s<gS;s+=eV)for(var J=0;J<i$;J+=hr){var t=(fj.y+s)*d+(fj.x+J);h[t]=f8[h[t]]}}else if(c==8&&i==2){var E=a,fj=M.YJ(y,E);
E+=16;var i3=u(y,E);E+=4;var eT=u(y,E);E+=4;var eV=u(y,E),hr=u(y,E+4);E+=8;var hT=u(y,E);E+=4;var gL=[];
for(var t=0;t<=hT;t++)gL[t]=M.VM(y,E+t*8);var iu=fj.x,dB=fj.x+fj.e,jt=fj.y,ka=fj.y+fj.n,eQ=$.t50717[0],dv=1/eQ;
for(var cT=0;cT<eT;cT++)for(var s=jt;s<ka;s+=eV){var w=3*s*d+i3+cT;for(var J=iu;J<dB;J+=hr){var t=w+3*J,eY=h[t]*dv,gl=gL[hT];
for(var dY=hT;dY>0;dY--)gl=gl*eY+gL[dY-1];h[t]=Math.max(0,Math.min(65535,~~(gl*eQ)))}}}else if(c==9&&i==2){var E=a,fj=M.YJ(y,E),dW=!0;
E+=16;var i3=u(y,E);E+=4;var eT=u(y,E);E+=4;var eV=u(y,E),hr=u(y,E+4);E+=8;var gE=u(y,E),cs=u(y,E+4);
E+=8;var au=U(y,E),b8=U(y,E+8);E+=16;var jw=U(y,E),ek=U(y,E+8);E+=16;var cj=u(y,E);E+=4;if(cj!=1)throw"more than one map plane";
var jJ=gE*cs,hp=new Float32Array(jJ);for(var dY=0;dY<jJ;dY++)hp[dY]=M.N_(y,E+dY*4);for(var dY=0;dY<jJ;
dY++)if(hp[dY]!=1)dW=!1;if(!dW){var i$=fj.e,gS=fj.n,h4=.9999*(cs-1)/i$,er=.9999*(gE-1)/gS;for(var s=0;
s<gS;s+=eV)for(var J=0;J<i$;J+=hr){var t=(fj.y+s)*d+(fj.x+J),hG=J*h4,i_=s*er,aK=Math.floor(hG),bG=Math.floor(i_),dx=hG-aK,aH=i_-bG,w=bG*cs+aK,cU=hp[w]*(1-dx)+hp[w+1]*dx,kr=hp[w+cs]*(1-dx)+hp[w+1+cs]*dx,cL=cU*(1-aH)+kr*aH;
h[t]=Math.max(0,Math.min(65535,~~(h[t]*cL+.5)))}}}else console.log("Unknown opcode "+c+" in OpcodeList"+i+". Length: "+T);
a+=T}};k.raw.a91=function(i,$){var h=d5.nt($),d=k.raw.iS(i,$),K=k.xP.Sp(d),f=d5.m1(h,d5.nt(d5.aqq)),l=k.xP.multiply(f,K);
return l};k.raw.as6=function(i){var $=i.t50728,K=1;if($==null||$[0]==0)$=[1,1,1];var h=$.slice(0);h.push(0);
var d={x:.34567,y:.3585};do{var f=k.xP.Sp(k.raw.iS(i,d)),l=k.xP.yf(f,h),u=d5.a2U(l);K=Math.abs(d.x-u.x)+Math.abs(d.y-u.y);
d=u}while(K>1e-7);return d};k.raw.iS=function(i,$){var h=d5.rd($),d=k.raw.adt,K=i.t50778?i.t50778[0]:0,f=i.t50779?i.t50779[0]:0,l=d(i.t50721,i.t50722,K,f,h.v5),u=d(i.t50723,i.t50724,K,f,h.v5);
l=l||[1,0,0,0,1,0,0,0,1];u=u||[1,0,0,0,1,0,0,0,1];var U=i.t50727?[i.t50727[0],0,0,0,i.t50727[1],0,0,0,i.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return k.xP.multiply(k.xP.NL(U),k.xP.multiply(k.xP.NL(u),k.xP.NL(l)))};k.raw.adt=function(i,$,h,d,K){if(!i&&!$){return null}else if(i&&!$){return i}else if(K<h){return i}else if(K>d){return $}else{var f=(1/K-1/d)/(1/h-1/d),l=1-f,u=[];
for(var t=0;t<9;t++)u[t]=i[t]*f+$[t]*l;return u}};var d5={};d5.aqq={x:.34567,y:.3585};d5.A5=[{o:0,bd:.18006,Pr:.26352,Zw:-.24341},{o:10,bd:.18066,Pr:.26589,Zw:-.25479},{o:20,bd:.18133,Pr:.26846,Zw:-.26876},{o:30,bd:.18208,Pr:.27119,Zw:-.28539},{o:40,bd:.18293,Pr:.27407,Zw:-.3047},{o:50,bd:.18388,Pr:.27709,Zw:-.32675},{o:60,bd:.18494,Pr:.28021,Zw:-.35156},{o:70,bd:.18611,Pr:.28342,Zw:-.37915},{o:80,bd:.1874,Pr:.28668,Zw:-.40955},{o:90,bd:.1888,Pr:.28997,Zw:-.44278},{o:100,bd:.19032,Pr:.29326,Zw:-.47888},{o:125,bd:.19462,Pr:.30141,Zw:-.58204},{o:150,bd:.19962,Pr:.30921,Zw:-.70471},{o:175,bd:.20525,Pr:.31647,Zw:-.84901},{o:200,bd:.21142,Pr:.32312,Zw:-1.0182},{o:225,bd:.21807,Pr:.32909,Zw:-1.2168},{o:250,bd:.22511,Pr:.33439,Zw:-1.4512},{o:275,bd:.23247,Pr:.33904,Zw:-1.7298},{o:300,bd:.2401,Pr:.34308,Zw:-2.0637},{o:325,bd:.24792,Pr:.34655,Zw:-2.4681},{o:350,bd:.25591,Pr:.34951,Zw:-2.9641},{o:375,bd:.264,Pr:.352,Zw:-3.5814},{o:400,bd:.27218,Pr:.35407,Zw:-4.3633},{o:425,bd:.28039,Pr:.35577,Zw:-5.3762},{o:450,bd:.28863,Pr:.35714,Zw:-6.7262},{o:475,bd:.29685,Pr:.35823,Zw:-8.5955},{o:500,bd:.30505,Pr:.35907,Zw:-11.324},{o:525,bd:.3132,Pr:.35968,Zw:-15.628},{o:550,bd:.32129,Pr:.36011,Zw:-23.325},{o:575,bd:.32931,Pr:.36038,Zw:-40.77},{o:600,bd:.33724,Pr:.36051,Zw:-116.45}];
d5.rd=function(i){var $=d5.A5,h=2*i.x/(1.5-i.x+6*i.y),d=3*i.y/(1.5-i.x+6*i.y),K=0,f=0,l=0;for(;l<31;
l++){K=d-$[l].Pr-$[l].Zw*(h-$[l].bd);if(l>0&&K<0){break}f=K}while(l>=$.length)l--;K/=Math.sqrt(1+$[l].Zw*$[l].Zw);
f/=Math.sqrt(1+$[l-1].Zw*$[l-1].Zw);var u=f/(f-K),U=1e6/(($[l].o-$[l-1].o)*u+$[l-1].o),y=h-(($[l].bd-$[l-1].bd)*u+$[l-1].bd),a=d-(($[l].Pr-$[l-1].Pr)*u+$[l-1].Pr),v=Math.sqrt(1+$[l].Zw*$[l].Zw),c=1/v,p=$[l].Zw/v,C=Math.sqrt(1+$[l-1].Zw*$[l-1].Zw),T=1/C,E=$[l-1].Zw/C,r=(c-T)*u+T,Y=(p-E)*u+E,S=Math.sqrt(r*r+Y*Y);
r/=S;Y/=S;var m=(y*r+a*Y)*-3e3;return{v5:U,OT:m}};d5.bR=function(i,$){var h=d5.A5,d=1e6/i,K=1;for(;K<31;
K++){if(d<h[K].o){break}}var f=(h[K].o-d)/(h[K].o-h[K-1].o),l=(h[K-1].bd-h[K].bd)*f+h[K].bd,u=(h[K-1].Pr-h[K].Pr)*f+h[K].Pr,U=Math.sqrt(1+h[K].Zw*h[K].Zw),y=1/U,a=h[K].Zw/U,v=Math.sqrt(1+h[K-1].Zw*h[K-1].Zw),c=1/v,p=h[K-1].Zw/v,C=(c-y)*f+y,T=(p-a)*f+a,E=Math.sqrt(C*C+T*T);
C/=E;T/=E;l+=C*$/-3e3;u+=T*$/-3e3;return{x:1.5*l/(l-4*u+2),y:u/(l-4*u+2)}};d5.a2U=function(i){var $=i[0]+i[1]+i[2];
return{x:i[0]/$,y:i[1]/$}};d5.nt=function(i){return{x:i.x/i.y,y:1,g8:(1-i.x-i.y)/i.y}};d5.m1=function(i,$){var h=k.xP.NL([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),d=[i.x,i.y,i.g8,0],K=[$.x,$.y,$.g8,0];
d=k.xP.yf(h,d);K=k.xP.yf(h,K);var f=K[0]/d[0],l=K[1]/d[1],u=K[2]/d[2],U=k.xP.NL([f,0,0,0,l,0,0,0,u]),y=k.xP.Sp(h);
return k.xP.multiply(k.xP.multiply(y,U),h)};k.raw.xy={};k.raw.lD=function(i){i*=8;var $=[8,10,12,14,16];
for(var h in CAMS){var d=CAMS[h];if(d.length==4)continue;var K=d[4],f=d[5];for(var t=0;t<$.length;t++)if(K*f*$[t]==i)return[h,$[t]]}var l=[[4e3,3e3]];
for(var t=0;t<l.length;t++){var d=l[t],K=d[0],f=d[1];for(var t=0;t<$.length;t++)if(K*f*$[t]==i)return[d,$[t]]}return null};
k.raw.a3b=function(i){var i=new Uint8Array(i);for(var t=0;t<i.length;t+=2){var $=i[t];i[t]=i[t+1];i[t+1]=$}var h=k.raw.lD(i.length),d=CAMS[h[0]];
if(d==null)d=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,h[0][0],h[0][1]];var K=d[4],f=d[5],l=Math.max(d[2],116),u={data:i,pa:1,width:K,height:f,t256:[K],t257:[f],t258:[h[1]],t277:[1],t33421:[2,2],t33422:k.raw.T5[d[1]],t50706:[1,2,0,0],t50714:[l,l,l,l],t50717:[d[3]],t50721:d[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var t=0;t<9;t++)u.t50721[t]/=1e4;return u};k.raw.Vh=function(i){if(i==null||i.length==0||typeof i[0]=="number")return i;
var $=[];for(var t=0;t<i.length;t++)$[t]=i[t][1]==0?0:i[t][0]/i[t][1];return $};k.raw.T5=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
k.raw.normalize=function(i,$){if(i.t50706!=null||i.t271[0].startsWith("Hasselblad")){var h=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var t=0;t<h.length;t++)if(i["t"+h[t]]!=null)i["t"+h[t]]=k.raw.Vh(i["t"+h[t]]);if(i.t271&&i.t271[0].startsWith("Hasselblad")){i.t50706=[1,2,0,0];
i.t33422=k.raw.T5[1];i.t50723=[1,0,0,0,1,0,0,0,1];i.t50778=[17];if(!i.isLE)for(var t=0;t<i.data.length;
t+=2){var d=i.data[t];i.data[t]=i.data[t+1];i.data[t+1]=d}}return}var K=i.t258[0],f=i.exifIFD,$=new Uint8Array($);
i.t50706=[1,2,0,0];var l=i.t272[0].trim();if(l.indexOf(" ")==-1)l=i.t271[0].trim()+" "+l;if(i.t50708==null)i.t50708=[l];
var u=l.toLowerCase(),U=CAMS,y=U[u];if(y==null)for(var a in U)if(u.startsWith(a))y=U[a];if(y==null)alert("Unknown camera:"+l);
else{var v=y[2];i.t50714=[v,v,v,v];i.t50717=[y[3]];i.t50721=y[0].slice(0);for(var t=0;t<9;t++)i.t50721[t]=i.t50721[t]*(1/1e4)}i.t50723=[1,0,0,0,1,0,0,0,1];
if(i.t50728==null)i.t50728=[.35,1,.6];i.t50778=[17];if(i.t271[0].startsWith("SONY")){var c=UTIF["_bin"+(i.isLE?"LE":"BE")],p=i.t28688,m;
if(JSON.stringify(p)!="[8000,10400,12900,14100]")console.log(p);if(p){var C=[0,0,0,0,0,4095],T=new Uint16Array(16385);
for(var t=0;t<4;t++){var E=p[t]>>>2;C[t+1]=E;if(E>4095)throw"e"}for(var t=0;t<16385;t++)T[t]=t;for(var t=0;
t<5;t++)for(var r=C[t]+1;r<=C[t+1];r++)T[r]=T[r-1]+(1<<t);var Y=$.length*8<i.width*i.height*K;if(Y)i.t50712=T}else console.log("no curve");
var S=i.dngPrvt;if(S){var Q=S.t29184[0],z=S.t29185[0],n=(i.isLE?M.Li:M.v)(S.t29217,0),Z=new Uint32Array($.slice(Q,Q+(z&4294967292)).buffer),P=new Uint32Array(z>>>2);
k.raw.ai7(Z,P,z>>>2,n);var V=new Uint8Array(Q+z);V.set(new Uint8Array(P.buffer),Q);var I=[];UTIF._readIFD(c,V,Q,I,0,!1);
var q=I.pop(),X=q.t29458;i.t50728=[X[1]/X[0],1,X[1]/X[3]];i.t50730=[.5];var B=q.t29891;i.t50829=[B[1],B[0],B[3],B[2]]}else if(f.makerNote&&f.makerNote.t8208){var m=f.makerNote,e=m.t8208,F=e.length,s=0,J=new Uint8Array(256);
for(var t=249;t<256;t++)J[t]=t;for(var t=0;t<249;t++)J[t*t*t%249]=t;for(var t=0;t<F;t++)e[t]=J[e[t]];
if(F==6604)s=612;else throw"e";var X=[];for(var t=0;t<3;t++)X.push(M.A6(e,s+t*2));console.log(X);i.t50728=[X[1]/X[0],1,X[1]/X[2]]}else console.log("no white balance");
if(i.width*i.height*1.5==i.t279[0]){v=v>>>2;i.t50714=[v,v,v,v];i.t50717=[y[3]>>>2]}}else if(i.t271[0].startsWith("Canon")){var $=i.data,W=$.slice(0),L=i.t50752,A=[],G=0;
if(L==null||L[0]==0&&L[1]==0)A.push(i.width);else{for(var t=0;t<L[0];t++)A.push(L[1]);A.push(L[2])}var j=i.width*2,O=i.t50885&&i.t50885[0]==4;
if(!O)for(var o=0;o<A.length;o++){var N=A[o],w=2*G,kv=2*N;for(var g=0;g<i.height;g+=2){var b=g*j+w,jU=i.height*w+g*kv;
for(var t=0;t<kv;t++){$[b+t]=W[jU+t];$[b+t+j]=W[jU+t+kv]}}G+=N}else{for(var o=0;o<A.length;o++){var N=A[o]/((L[0]*L[1]+L[2])/i.width);
for(var g=0;g<i.height;g++){var b=(g*i.width+G)*6,jU=(i.height*G+g*N)*6;for(var t=0;t<N*6;t++)$[b+t]=W[jU+t]}G+=N}var _=new Uint16Array($.buffer),cY=new Uint16Array(1),j3=new Int16Array(cY.buffer);
for(var t=0;t<_.length;t+=3){var aS=_[t],bL=_[t+1],cQ=_[t+2];cY[0]=bL<<2;bL=j3[0]>>2;cY[0]=cQ<<2;cQ=j3[0]>>2;
_[t+0]=Math.max(0,cQ+aS);_[t+1]=Math.max(0,(aS<<12)-bL*778-(cQ<<11)>>12);_[t+2]=Math.max(0,bL+aS)}}var m=f.makerNote;
if(m.t16385){var cK=m.t224,eT=0;if(cK){var Q=i.t50719=[cK[5],cK[6]],el=i.t50720=[cK[7]+1-cK[5],cK[8]+1-cK[6]],gF=m.t154;
if(gF){Q[0]+=gF[3];Q[1]+=gF[4];el[0]=gF[1];el[1]=gF[2]}}var fj=m.t16385,i3=fj.length;if(i3==582)eT=1;
else if(i3==653)eT=2;else if(i3==796)eT=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(i3)!=-1)eT=4;
else if(i3==5120){eT=5;fj=new Int16Array(fj.slice(0).buffer)}else if(i3==1273||i3==1275)eT=6;else if([1312,1313,1316,1506].indexOf(i3)!=-1)eT=7;
else if([1560,1592,1353,1602].indexOf(i3)!=-1)eT=8;else throw"e"+i3;var eV=fj[0],hr=[null,[25,166],[34,286],[63,196],[63],[71,eV==-4?333:264],[63,251],[63,eV==10?504:728],[63,326]],s=hr[eT][0],it=hr[eT][1];
if(eT==4){if(fj[0]==2)it=231;else if(fj[0]==3)it=231;else if(fj[0]==4)it=231;else if(fj[0]==5)it=231;
else if(fj[0]==6)it=231;else if(fj[0]==7)it=231;else if(fj[0]==9)it=231;else throw"e"}i.t50728=[fj[s+1]/fj[s],1,fj[s+1]/fj[s+3]];
var v=it==null?1024:fj[it];if(eT!=4)i.t50714=[v,v,v,v]}else{i.t50728=[.4,1,.6]}if(O){i.t277=[3];i.t50728=[1,1,1];
i.t50714=[0,0,0,0]}}else if(i.t271[0].startsWith("NIKON")){var m=f.makerNote,f8=i.isLE?M.A6:M.Sb,dB=0,jt=0,cT,b8=0;
if(m.t61){var i$=m.t61,gS=[];for(var t=0;t<4;t++)gS[t]=i$[t]/Math.pow(2,14-K);i.t50714=gS}if(m.t3585){var hT=m.t3585,t=0,Q=22;
while(Q<hT.length&&t!=-4){var gL=M.Li(hT,Q);Q+=4;Q+=14;t=M.Li(hT,Q)-4;Q+=4;if(gL==1990472198){if(hT[Q]!=0)throw"Flip"}if(gL==1990472199){var iu=M.A6(hT,Q);
if(iu==0)i.pa=1;else if(iu==270)i.pa=8;else throw"e "+iu}Q+=t}}if(m.t183){var ka=m.t183,el=[];for(var t=0;
t<6;t++)el.push(f8(ka,16+t*2));dB=el[0];jt=el[1]}if(m.t3614){var eQ=m.t3614;dB=M.Li(eQ,8);jt=M.Li(eQ,12)}if(dB!=0&&Math.max(dB,jt)<Math.max(i.width,i.height)){if(dB<jt){var d=dB;
dB=jt;jt=d}var G=i.width-dB>>>1,g=i.height-jt>>>1;i.t50829=[g,G,g+jt,G+dB]}else i.t50829=[8,8,i.height-8,i.width-56];
var dv=m.t69;if(dv)i.t50829=[dv[1],dv[0],dv[1]+dv[3],dv[0]+dv[2]];if(m.t12){var eY=k.raw.Vh(m.t12);cT=[1/eY[0],1,1/eY[1]]}else if(m.t151){var gl=k.raw.axv(m,151),dY=gl[0],c$=gl[1],gE=gl[2];
if(dY=="0100"&&c$>=80)throw"e";else if(dY=="0102"){var cs=[];for(var t=0;t<4;t++)cs.push(f8(gE,6+t*2));
cT=[cs[1]/cs[0],1,cs[1]/cs[3]]}else if(dY=="0103"&&c$>=26){var cs=[];for(var t=0;t<4;t++)cs.push(f8(gE,16+t*2));
cT=[cs[1]/cs[0],1,cs[3]/cs[2]]}else if(dY=="0204"&&c$>=564||dY=="0205"&&c$>=284){var Q=dY=="0204"?6:14,cs=[];
for(var t=0;t<4;t++)cs.push(f8(gE,Q+t*2));cT=[cs[1]/cs[0],1,cs[1]/cs[3]]}else throw"e"}else console.log("no white balance info");
if(l=="NIKON D1")cT=[1,1,1];if(cT)i.t50728=cT;var au=m.t150?m.t150:m.t140;if(au){var jw=au[b8++],ek=au[b8++],hp;
if(jw==73||ek==88)b8+=2110;b8+=8;var cj=1<<K&32767,jJ=f8(au,b8);b8+=2;var T=[];if(jJ>1)hp=Math.floor(cj/(jJ-1));
if(jw==68&&ek==32&&hp>0){for(t=0;t<jJ;t++){T[t*hp]=f8(au,b8);b8+=2}for(t=0;t<cj;t++)T[t]=Math.floor((T[t-t%hp]*(hp-t%hp)+T[t-t%hp+hp]*(t%hp))/hp)}else if(jw!=70&&jJ<=16385){cj=jJ;
for(var t=0;t<jJ;t++)T[t]=f8(au,b8+2*t);b8+=2*jJ}var dW=i.t272[0];if(T.length!=0)i.t50712=new Uint16Array(T);
if(i.t258[0]==14&&i.t50717[0]<1e4){console.log("fixing white");i.t50717[0]*=4}}}else if(l.startsWith("FujiFilm")){}else if(l.startsWith("Panasonic")){}else alert("Unknown camera "+l)};
k.raw.ai7=function(i,$,h,d){if(0==h)return;var K=new Uint32Array(128),f=new Uint8Array(K.buffer),l=127,u=0,U=0;
for(var l=0;l<4;l++)K[l]=d=(d*15625>>>0)*3125+1>>>0;K[3]=K[3]<<1|(K[0]^K[2])>>>31;for(var l=4;l<127;
l++)K[l]=(K[l-4]^K[l-2])<<1|(K[l-3]^K[l-1])>>>31;for(var l=0;l<127;l++)K[l]=M.v(f,l*4);for(;h>0;h--){K[l&127]=K[l+1&127]^K[l+1+64&127];
var y=K[l&127],a=i[u];a^=y;$[U]=a;u++;U++;l++}};k.raw.avW=function(i,$){var h=M.uX($,0,4),d=k.raw.aqK;
for(var t=0;t<d.length;t++)if(d[t][0]==i&&h.startsWith(d[t][1])&&(d[t][2]==0||d[t][2]==$.length))return d[t];
throw"e"};k.raw.an6=function(i){if(i.t29==null)return[];var $=k.raw.aku,h=k.raw.air,d=i.t29[0],K=0,l=0;
for(var t=0;t<d.length;t++){var f=d.charCodeAt(t);K=K*10+(48<=f&&f<=57?f-48:f%10)}var c$=i.t167[0];for(var t=0;
t<4;t++)l^=c$>>>(t<<3)&255;var u=$[K&255],U=h[l&255];return[u,U,96]};k.raw.axv=function(i,$){var h=i["t"+$],c$=h.length,d=k.raw.avW($,h),K=M.uX(h,0,4),f,l=d[4];
if(l==null)f=h.slice(4);else{f=new Uint8Array(c$-l);var u=k.raw.an6(i),U=u[0],y=u[1],a=u[2];for(var t=0;
t<f.length;t++){y=y+U*a++&255;f[t]=h[l++]^y}}return[K,c$,f]};k.raw.aqK=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
k.raw.aku=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
k.raw.air=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
k.O4={};k.O4.O4=function(i,$,h,d,K){if(d==null)d=3;if(K==null)K=!0;var f=i.e,l=i.n,u=1/f,U=f*l,y=Date.now(),a=!1,v=k.O4.FT(h,f,l,255,128),c=k.O4.FT(h,f,l,0,128),g=0;
if(a)console.log("extract contours",Date.now()-y);y=Date.now();var p=function(gl,dY){var gE=gl<<2,cs=dY<<2;
return $[gE]+$[gE+1]+$[gE+2]-($[cs]+$[cs+1]+$[cs+2])};v.sort(p);c.sort(p);var C=k.Q(U),T=k.Q(U),E=[],r=new Uint32Array(f*l);
r.fill(4294967295);for(var t=0;t<U;t++)if(h[t]==0)T[t]=255;else if(h[t]==255)C[t]=255;else{r[t]=E.length;
E.push(t)}var Y=v.length,S=c.length,m=E.length;function Q(gl,dY,gE,cs){var au=gl.length,b8=new Array(au*2);
for(var t=0;t<au;t++){var s=gl[t],J=~~(s*cs),W=s-J*gE,dv=s<<2;b8[t*2]=W<<16|J;b8[t*2+1]=dY[dv]<<16|dY[dv+1]<<8|dY[dv+2]}return b8}var z=Q(v,$,f,u),n=Q(c,$,f,u),Z=Q(E,$,f,u);
if(a)console.log("Itemize",Date.now()-y,"Unknown:",m,Y,S);y=Date.now();var P=k.style.h1(C,f,l,!0),V=k.style.h1(T,f,l,!0),I=new Array(m),q=new Array(m),X=new Array(m),B=new Array(m),e=new Array(m);
if(a)console.log("Dist transform",Date.now()-y);y=Date.now();var F=k.O4.u4;for(var t=0;t<m;t++){var s=E[t],J=~~(s*u),W=s-J*f,L=P[s<<1],A=P[(s<<1)+1],j=Math.sqrt(L*L+A*A),G=V[s<<1],O=V[(s<<1)+1],o=Math.sqrt(G*G+O*O);
I[t]=1/j;q[t]=1/o;var N=Math.floor(k.l.Ks(s*17)*Y),w=Math.floor(k.l.Ks(s*19)*S);X[t]=N;B[t]=w;e[t]=F(Z[t*2],Z[t*2+1],z[N*2],z[N*2+1],n[w*2],n[w*2+1],I[t],q[t],1e9)}var kv=[-f-1,-f,-f+1,-1,1,f-1,f,f+1];
while(Math.floor(Math.max(Y,S)*Math.pow(.5,g))>1)g++;for(var b=0;b<d;b++){var jU=0;for(var t=0;t<m;t++){var s=E[t],J=~~(s*u),W=s-J*f,_=I[t],cY=q[t],j3=Z[t*2],aS=Z[t*2+1],bL=e[t],N=X[t],w=B[t],i3=1;
if(J!=0&&W!=0&&W!=f-1&&J!=l-1)for(var cQ=0;cQ<8;cQ++){var cK=r[s+kv[cQ]];if(cK==4294967295)continue;
var el=X[cK],gF=B[cK];if(el==N&&gF==w)continue;var fj=F(j3,aS,z[el*2],z[el*2+1],n[gF*2],n[gF*2+1],_,cY,bL);
if(fj<bL){bL=fj;N=el;w=gF}}for(var eT=0;eT<g;eT++){var eV=~~(Y*i3),hr=~~(S*i3);i3*=.5;var it=k.l.Ks(s+b*17+eT*31),f8=k.l.Ks(s+b*29+eT*63),i$=Math.max(0,N-eV),gS=Math.min(N+eV,Y-1),hT=Math.max(0,w-hr),gL=Math.min(w+hr,S-1),el=i$+~~(it*(gS-i$)),gF=hT+~~(f8*(gL-hT)),fj=F(j3,aS,z[el*2],z[el*2+1],n[gF*2],n[gF*2+1],_,cY,bL);
if(fj<bL){bL=fj;N=el;w=gF}}e[t]=bL;X[t]=N;B[t]=w;jU+=bL}}if(a)console.log(jU);if(a)console.log("iterations",Date.now()-y);
y=Date.now();var iu=h.slice(0);for(var t=0;t<m;t++){var dB=k.O4.alpha(Z[t*2+1],z[X[t]*2+1],n[B[t]*2+1]);
iu[E[t]]=~~(.5+255*dB)}iu=k.qx.a8L(iu,$,new bN(0,0,f,l),16,.01*.01);if(a)console.log("guided filter",Date.now()-y);
y=Date.now();if(K)for(var t=0;t<U;t++)if(h[t]==255||h[t]==0)iu[t]=h[t];var ka=$.slice(0);for(var t=0;
t<m;t++){var eQ=E[t],N=v[X[t]],bL=e[t],dv=eQ<<2,cT=iu[eQ],eY=(cT>=250?eQ:N)<<2;ka[dv]=$[eY];ka[dv+1]=$[eY+1];
ka[dv+2]=$[eY+2]}k.k1(iu,ka,3);if(a)console.log(Date.now()-y);y=Date.now();return ka};k.O4.u4=function(i,$,h,d,K,f,l,u,U){var y=i>>>16,a=i&65535,v=y-(h>>>16),c=a-(h&65535),p=y-(K>>>16),C=a-(K&65535),T=Math.sqrt(v*v+c*c)*l,E=Math.sqrt(p*p+C*C)*u;
if(T+E>=U)return 1e9;var r=k.O4.a8C($,d,f);return r+T+E};k.O4.a8C=function(i,$,h){var d=i>>>16,K=i>>>8&255,f=i&255,l=$>>>16,u=$>>>8&255,U=$&255,y=h>>>16,a=h>>>8&255,v=h&255,c=k.O4.alpha(i,$,h),p=d-(c*l+(1-c)*y),C=K-(c*u+(1-c)*a),E=f-(c*U+(1-c)*v);
return Math.sqrt(p*p+C*C+E*E)};k.O4.alpha=function(i,$,h){var d=i>>>16,K=i>>>8&255,f=i&255,l=$>>>16,u=$>>>8&255,U=$&255,y=h>>>16,a=h>>>8&255,v=h&255,c=l-y,p=u-a,C=U-v,T=d-y,E=K-a,r=f-v,Y=c*c+p*p+C*C,S=Y==0?.5:(T*c+E*p+r*C)/Y;
return Math.max(0,Math.min(1,S))};k.O4.a9Y=function(i){};k.O4.FT=function(i,$,h,d,K){var f=[],l=$-1,u=h-1;
for(var U=1;U<u;U++)for(var y=1;y<l;y++){var t=U*$+y;if(i[t]==d&&(i[t-$-1]==K||i[t-$]==K||i[t-$+1]==K||(i[t-1]==K||i[t+1]==K)||(i[t+$-1]==K||i[t+$]==K||i[t+$+1]==K)))f.push(t)}return f};
k.qx={};k.qx.ac1=function(i,$,h,d,K){var f=h.e,l=h.n,u=f*l,U=k.qx.jh,y=k.Q(u*4),a;k.MK(y,4294967295);
var v=h,c=i,p=$,C=d;k.k1(i,y,0);a=k.mt(y,h);a=k.mt(a.Yz,a.rect);v=a.rect;C=d>>>2;console.log(v,C);c=k.Q(v.O());
k.pO(a.Yz,c,0);k.k1($,y,0);a=k.mt(y,h);a=k.mt(a.Yz,a.rect);p=k.Q(v.O());k.pO(a.Yz,p,0);var T=k.qx.a5d(c,p,v,C,K),E=T[0],r=T[1],Y=new bN(0,0,v.e*2,v.n*2);
E=U(E,v,Y,!0);E=U(E,Y,h,!0);r=U(r,v,Y,!0);r=U(r,Y,h,!0);var S=k.Q(u);for(var t=0;t<u;t++)S[t]=Math.max(0,Math.min(255,Math.floor(.5+(E[t]*$[t]+255*r[t]))));
return S};k.qx.jh=function(i,$,h,d){var K=h.e,f=h.n,l=$.e,u=$.n,U=k.qx.l9,y=new Float32Array(K*f);for(var a=0;
a<u;a++){var v=(a+a)*K;for(var c=0;c<l;c++){if(!0||c==0||a==0||c==l-1||a==u-1)y[v]=y[v+1]=y[v+K]=y[v+K+1]=i[a*l+c];
else{y[v]=U(c+.25,a+.25,i,l,u);y[v+1]=U(c+.75,a+.25,i,l,u);y[v+K]=U(c+.25,a+.75,i,l,u);y[v+K+1]=U(c+.75,a+.75,i,l,u)}v+=2}}return y};
k.qx.l9=function(i,$,h,d,K){i-=.499999;$-=.499999;var f=Math.floor(i),l=Math.floor($),u=l*d+f,U=i-f,y=$-l,a=(1-y)*(1-U),v=(1-y)*U,c=y*(1-U),p=y*U;
if(h[u]==null||h[u+d+1]==null){console.log(i,$,d,K);throw"e"}return a*h[u+0]+v*h[u+1]+c*h[u+d+0]+p*h[u+d+1]};
k.qx.a5d=function(i,$,h,d,K){var f=h.e,l=h.n,u=f*l,U=k.qx.LS,y=k.qx.Q,a=k.$A.E1,v=k.qx.zt,$=U($),i=U(i),c=y(u);
a($,c,h,d);var p=y(u);a(i,p,h,d);var C=y(u);v($,$,C);a(C,C,h,d);var T=y(u);v($,i,T);a(T,T,h,d);var E=y(u),r=y(u);
for(var t=0;t<u;t++){var Y=c[t],S=p[t],m=C[t]-Y*Y,Q=T[t]-Y*S,z=Q/(m+K),n=S-z*Y;E[t]=z;r[t]=n}var Z=y(u);
a(E,Z,h,d);var P=y(u);a(r,P,h,d);return[Z,P]};k.qx.a8L=function(i,$,h,d,K){var f=h.e,l=h.n,u=f*l,U=k.qx.jh,y=Date.now(),a=!1,v=h,c=i,p=$,C=d;
v=new bN(0,0,f>>>2,l>>>2);C=d>>>2;c=k.qx.aa7(i,f,l);p=k.qx.ars($,f,l);if(a)console.log(Date.now()-y);
y=Date.now();var T=k.qx.a7r(c,p,v,C,K),E=T[0],r=T[1],Y=T[2],S=T[3];if(a)console.log(Date.now()-y);y=Date.now();
var m=k.Q(u);for(var Q=0;Q<l;Q++)for(var z=0;z<f;z++){var t=Q*f+z,n=(Q>>>2)*(f>>>2)+(z>>>2),Z=t<<2,P=E[n]*$[Z]+r[n]*$[Z+1]+Y[n]*$[Z+2]+S[n]*255;
m[t]=Math.max(0,Math.min(255,~~(.5+P)))}if(a)console.log(Date.now()-y);y=Date.now();return m};k.qx.aa7=function(i,$,h){var d=$>>>2,K=h>>>2,f=k.Q($*h);
for(var l=0;l<K;l++)for(var u=0;u<d;u++)f[l*d+u]=i[l*$+u<<2];return f};k.qx.ars=function(i,$,h){var d=$>>>2,K=h>>>2,f=k.Q($*h*4);
for(var l=0;l<K;l++)for(var u=0;u<d;u++){var U=l*d+u<<2,y=l*$+u<<4;f[U]=i[y];f[U+1]=i[y+1];f[U+2]=i[y+2];
f[U+3]=i[y+3]}return f};k.qx.a7r=function(i,$,h,d,K){var f=h.e,l=h.n,u=f*l,U=k.qx.LS,y=k.qx.Q,a=k.$A.E1,v=k.qx.zt,i=U(i),c=new k.UT(f*l);
k.dI($,c);var $=[U(c.o),U(c.P),U(c.Z)],p=k.qx.aeO(i,$,h,d,K),C=y(u);a(i,C,h,d);var T=y(u);v($[0],i,T);
a(T,T,h,d);var E=y(u);v($[1],i,E);a(E,E,h,d);var r=y(u);v($[2],i,r);a(r,r,h,d);var Y=y(u),S=y(u),m=y(u),Q=y(u);
for(var t=0;t<u;t++){var z=C[t],n=p.La[t],Z=p.Le[t],P=p.N4[t],V=T[t]-n*z,I=E[t]-Z*z,q=r[t]-P*z;Y[t]=p.awB[t]*V+p.C4[t]*I+p.qj[t]*q;
S[t]=p.C4[t]*V+p.at1[t]*I+p.YB[t]*q;m[t]=p.qj[t]*V+p.YB[t]*I+p.aim[t]*q;Q[t]=z-Y[t]*n-S[t]*Z-m[t]*P}a(Y,Y,h,d);
a(S,S,h,d);a(m,m,h,d);a(Q,Q,h,d);return[Y,S,m,Q]};k.qx.aeO=function(i,$,h,d,K){var f=h.e,l=h.n,u=f*l,U=k.qx.Q,y=k.$A.E1,a=k.qx.zt,v={};
v.La=U(u);y($[0],v.La,h,d);v.Le=U(u);y($[1],v.Le,h,d);v.N4=U(u);y($[2],v.N4,h,d);var c=U(u);a($[0],$[0],c);
y(c,c,h,d);var p=U(u);a($[0],$[1],p);y(p,p,h,d);var C=U(u);a($[0],$[2],C);y(C,C,h,d);var T=U(u);a($[1],$[1],T);
y(T,T,h,d);var E=U(u);a($[1],$[2],E);y(E,E,h,d);var r=U(u);a($[2],$[2],r);y(r,r,h,d);v.awB=c;v.C4=p;
v.qj=C;v.at1=T;v.YB=E;v.aim=r;for(var t=0;t<u;t++){var Y=v.La[t],S=v.Le[t],m=v.N4[t],Q=c[t]-Y*Y+K,z=p[t]-Y*S,n=C[t]-Y*m,Z=T[t]-S*S+K,P=E[t]-S*m,V=r[t]-m*m+K,I=Z*V-P*P,q=P*n-z*V,X=z*P-Z*n,B=Q*V-n*n,e=n*z-Q*P,F=Q*Z-z*z,s=I*Q+q*z+X*n,J=1/s;
v.awB[t]=I*J;v.C4[t]=q*J;v.qj[t]=X*J;v.at1[t]=B*J;v.YB[t]=e*J;v.aim[t]=F*J}return v};k.qx.Q=function(i){return new Float32Array(i)};
k.qx.LS=function(i){var $=i.length,h=new Float32Array($);for(var t=0;t<$;t++)h[t]=i[t]*(1/255);return h};
k.qx.zt=function(i,$,h){for(var t=0;t<i.length;t++)h[t]=i[t]*$[t]};k.s2={};k.s2.$O=function(i,$,h,d){var K=i[$]-h[d],f=i[$+1]-h[d+1],l=i[$+2]-h[d+2];
return Math.sqrt(K*K+f*f+l*l)*(1/441.7)};k.s2.getSelection=function(i,$,h){var d=$*h,K=k.Q(d),f=!1,l=Math.round(h*.7),u=1,U=new Uint32Array(12),y=k.Q(12);
for(var a=0;a<l;a++)for(var v=0;v<$;v++){if(v<u||a<u||v>$-u-1||a>h-u-1){var t=a*$+v,c=t<<2,p=0;if(a<u)p=4;
else if(v>$-u-1)p=8;U[p]+=i[c];U[p+1]+=i[c+1];U[p+2]+=i[c+2];U[p+3]++;K[t]=255}}for(var t=0;t<12;t+=4)for(var C=0;
C<3;C++)y[t+C]=U[t+C]/U[t+3];var T=new Float32Array(d);for(var t=0;t<d;t++){var c=t*4,E=k.s2.$O(i,c,y,0),r=k.s2.$O(i,c,y,4),Y=k.s2.$O(i,c,y,8),S=Math.max(E,Math.max(r,Y));
T[t]=E+r+Y-S}k.s2.B$(T);var m=Date.now(),Q=new Float32Array(d),z=[],n=k.Q(d);for(var t=0;t<3;t++){k.pO(i,n,t);
var Z=new Uint16Array(d);z.push(Z);k.s2.a4H(n,K,$,h,Z)}if(f)console.log("MBD",Date.now()-m);m=Date.now();
for(var t=0;t<d;t++)Q[t]=z[0][t]+z[1][t]+z[2][t];k.s2.B$(Q);for(var t=0;t<d;t++)Q[t]+=.4*T[t];var P=$>>>1,l=h>>>1,V=1/Math.sqrt(P*P+l*l);
for(var a=0;a<h;a++)for(var v=0;v<$;v++){var I=v-P,q=a-l,X=1-Math.sqrt(I*I+q*q)*V;Q[a*$+v]*=X}if(f)console.log("Centeredness",Date.now()-m);
m=Date.now();for(var t=0;t<d;t++)K[t]=Q[t]*255;var B=Math.round($/120),e=Math.round(B*.8);if(f)console.log(B,e);
k._G.nB(K,n,$,h,B,k._G.eT,[]);K.set(n);if(f)console.log("erosion",Date.now()-m);m=Date.now();for(var t=0;
t<d;t++)Q[t]=K[t];k.s2.B$(Q);var F=k.Q(256);for(var t=0;t<256;t++)F[t]=256/(1+Math.exp(-20*(t/255-.5)));
for(var t=0;t<d;t++){var s=~~(Q[t]*255+.5);K[t]=F[s]}if(f)console.log("Simoid",Date.now()-m);m=Date.now();
return K};k.s2.B$=function(i){var $=i.length,h=0;for(var t=0;t<$;t++)h=Math.max(h,i[t]);var d=1/h;for(var t=0;
t<$;t++)i[t]=i[t]*d};k.s2.a4H=function(i,$,h,d,K){var f=h*d,l=i.slice(0),u=i.slice(0);for(var t=0;t<f;
t++)K[t]=$[t]==255?0:65535;k.s2.n6(i,u,l,K,h,d);k.s2.qk(i,u,l,K,h,d);k.s2.n6(i,u,l,K,h,d);k.s2.qk(i,u,l,K,h,d);
return K};k.s2.n6=function(i,$,h,d,K,f){for(var l=1;l<K;l++)k.s2.z6(l,-1,i,$,h,d);for(var u=1;u<f;u++){k.s2.z6(u*K,-K,i,$,h,d);
for(var l=1;l<K;l++){var t=u*K+l;k.s2.z6(t,-1,i,$,h,d);k.s2.z6(t,-K,i,$,h,d)}}};k.s2.qk=function(i,$,h,d,K,f){for(var l=K-2;
l>=0;l--)k.s2.z6(K*f-K+l,1,i,$,h,d);for(var u=f-2;u>=0;u--){k.s2.z6(u*K+K-1,K,i,$,h,d);for(var l=K-2;
l>=0;l--){var t=u*K+l;k.s2.z6(t,1,i,$,h,d);k.s2.z6(t,K,i,$,h,d)}}};k.s2.z6=function(t,i,$,h,d,K){var f=t+i,l=$[t],u=h[f],U=d[f];
if(u<l)u=l;else if(l<U)U=l;var y=u-U;if(K[f]!=65535&&y<K[t]){K[t]=y;h[t]=u;d[t]=U}};k.q_={};k.q_.filter=function(i,$,h,d){var K=$.e,f=$.n,l=K*f,u=d[0],U=d[1],y=d[2],a=d[3],v=d[4],c=d[5],p=d[6],C=Date.now(),T=new Float32Array(K*f*4);
k.q_.a1x(i,K,f,T);var E=Math.ceil(u*Math.sqrt(-2*Math.log(.1))),r=new ArrayBuffer(l*4),Y=new Float32Array(r),S=new Float32Array(l),m=new Float32Array(l);
for(var t=0;t<l;t++){var Q=t*4;Y[t]=T[Q];S[t]=T[Q+1];m[t]=T[Q+2]}k.$A.jl(Y,Y,$,E*1/2.4,2);k.$A.jl(S,S,$,E*1/2.4,2);
k.$A.jl(m,m,$,E*1/2.4,2);for(var t=0;t<l;t++){var Q=t*4;T[Q]=Y[t];T[Q+1]=S[t];T[Q+2]=m[t]}var z=new Uint8Array(r);
for(var t=0;t<l;t++){var Q=t*4,n=t*4,Y=T[Q],S=T[Q+1],m=T[Q+2],Z=Math.sqrt((Y-m)*(Y-m)+4*S*S),P=(Y+m+Z)*.5,V=(Y+m-Z)*.5,I=V-m,q=S,X=I*I+q*q;
if(X!=0){var B=Math.sqrt(X),e=1/B;I*=e;q*=e}z[n]=128+127*I;z[n+1]=128+127*q}var F=1.3*U+2,s=a*(2/10),J=i.slice();
if(i8.ph){var W=new Float32Array([1/K,1/f]),L=i8.W1(0,K,f);L.set(J);var A=i8.W1(1,K,f);A.set(z);i8.dY(L,$);
if(v){L.tM($);i8.filter.YR({type:i8.filter.anW,aQ:W,a1a:1/y,axm:s},L.Kc)}L.tM($);i8.filter.YR({type:i8.filter.EB,Nl:A.Wd,aQ:W,ap0:F,aho:2},L.Kc);
if(v){L.tM($);i8.filter.YR({type:i8.filter.akR,aQ:W,a3r:new Float32Array(p),a6Z:c},L.Kc)}L.get(h)}else{if(v)k.q_.VW(1/y,s,J,K,f);
k.q_.EB(J,h,z,K,f,F);if(v)k.q_.aqr(K,f,h,p,c)}var j=l*4;for(var t=3;t<j;t+=4)h[t]=i[t]};k.q_.EB=function(i,$,h,d,K,f){var l=Math.ceil(2*f),u=-1/(2*f*f),U=[],y=1;
for(var t=0;t<l+20;t++)U[t]=Math.exp(t*t*u);var a=[0,0,0,0];for(var v=0;v<K;v++){for(var c=0;c<d;c++){var p=v*d+c,C=p*4,T=1,E=i[C],r=i[C+1],Y=i[C+2],S=i[C+3],m=(h[C]-128)*(1/127),Q=(h[C+1]-128)*(1/127),z=m,n=Q,Z=c==0?.51:.49,P=v==0?.51:.49;
for(var t=0;t<2;t++){var V=c+Z,I=v+P,q=0;while(q<l){if(V<.5||d-.5<V||I<.5||K-.5<I)break;var X=~~V,B=~~I,e=B*d+X,F=e*4,s=(h[F]-128)*(1/127),J=(h[F+1]-128)*(1/127);
if(s*z+J*n<0){s=-s;J=-J}z=s;n=J;V+=y*s;I+=y*J;if(V<.5||d-.5<V||I<.5||K-.5<I)break;var W=~~V,L=~~I,A=L*d+W<<2;
q+=y;var j=U[~~q];k.K.uH(V,I,i,d,K,a);E+=a[0]*j;r+=a[1]*j;Y+=a[2]*j;S+=a[3]*j;T+=j}z=-m;n=-Q}var G=1/T;
$[C]=~~(.5+E*G);$[C+1]=~~(.5+r*G);$[C+2]=~~(.5+Y*G);$[C+3]=~~(.5+S*G)}}};k.q_.aqr=function(i,$,h,d,K){for(var f=0;
f<$;f++)for(var l=0;l<i;l++){var u=f*i+l<<2,U=1+k.q_.a3v(l,f,h,i,$,d)*K;h[u]=Math.max(0,Math.min(255,h[u]*U));
h[u+1]=Math.max(0,Math.min(255,h[u+1]*U));h[u+2]=Math.max(0,Math.min(255,h[u+2]*U))}};k.q_.a3v=function(i,$,h,d,K,f){var l=h[($*d+Math.max(0,i-1))*4+3],u=h[($*d+Math.min(d-1,i+1))*4+3],U=h[(Math.max(0,$-1)*d+i)*4+3],y=h[(Math.min(K-1,$+1)*d+i)*4+3],a=.7,v=(u-l)*(1/255),c=.7,p=(y-U)*(1/255),C=-v*c,T=-a*p,E=a*c,r=Math.sqrt(C*C+T*T+E*E),Y=1/r,S=C*Y,m=T*Y,Q=E*Y,z=f[0]*S+f[1]*m+f[2]*Q;
return z};k.q_.VW=function(i,$,h,d,K){function f(u,y,a){return Math.max(y,Math.min(a,u))}for(var l=0;
l<K;l++)for(var u=0;u<d;u++){var U=k.q_.a5p(u+.5,l+.5,i,$);h[(l*d+u)*4+3]=Math.max(0,Math.min(255,U*255))}};
k.q_.a5p=function(i,$,h,d){function K(n,Z,P){return(1-P)*n+P*Z}var f=(i+613)*h,l=($+117)*h,u=~~f,U=~~l,y=f-u,a=l-U,v=Math.sin(11),c=Math.cos(u)*v,p=Math.cos(u+1)*v,C=Math.cos(U)*v,T=Math.cos(U+1)*v,b4=k.q_.hash(c,C),E=k.q_.hash(p,C),r=k.q_.hash(c,T),Y=k.q_.hash(p,T),S=K(b4,E,y),m=K(r,Y,y),Q=K(S,m,a);
Q=Q<.5?0:1;var z=Q+d*k.q_.hash(Math.cos(f)*v,Math.cos(l)*v);return z*(1/3)};k.q_.hash=function(i,$){var h=Math.sin(i*11.697096+$*73.32456)*12157.47691;
return h-Math.floor(h)};k.q_.a1x=function(i,$,h,d){var K=[-1,0,1,-2,0,2,-1,0,1],f=[-1,-2,-1,0,0,0,1,2,1],l=$-1,u=h-1,U=$*4;
for(var y=1;y<u;y++)for(var a=1;a<l;a++){var t=y*$+a,v=t*4,c=k.q_.W6(i,v,U,K),p=k.q_.W6(i,v,U,f),C=k.q_.W6(i,v+1,U,K),T=k.q_.W6(i,v+1,U,f),E=k.q_.W6(i,v+2,U,K),r=k.q_.W6(i,v+2,U,f);
d[v]=c*c+C*C+E*E;d[v+1]=c*p+C*T+E*r;d[v+2]=p*p+T*T+r*r}k.q_.ahY(d,$,h)};k.q_.W6=function(i,$,h,d){return i[$-h-4]*d[0]+i[$-h]*d[1]+i[$-h+4]*d[2]+i[$-4]*d[3]+i[$]*d[4]+i[$+4]*d[5]+i[$+h-4]*d[6]+i[$+h]*d[7]+i[$+h+4]*d[8]};
k.q_.ahY=function(i,$,h){function d(U,t,y){var a=t*4,v=y*4;U[v]=U[a];U[v+1]=U[a+1];U[v+2]=U[a+2]}var K=$-1,f=h-1;
d(i,$+1,0);d(i,2*$-2,$-1);for(var l=1;l<K;l++)d(i,$+l,l);for(var u=1;u<f;u++){d(i,u*$+1,u*$);d(i,u*$+$-2,u*$+$-1)}for(var l=1;
l<K;l++)d(i,(h-2)*$+l,(h-1)*$+l);d(i,(u-2)*$+1,(u-1)*$);d(i,(u-1)*$-2,u*$-1)};k.Ze=function(){function i(y,a,v,c){var p=new Float32Array(y*y),C=y/2;
for(var T=0;T<y;T++)for(var E=0;E<y;E++){var r=E+v-C,Y=T+c-C;p[T*y+E]=Math.max(0,Math.min(1,a+.5-Math.sqrt(r*r+Y*Y)))}return p}var $=[],d=null;
function h(y,a,v,c){var p=Math.floor(a*10),C=$[p],T=y*8,E=T>>>1;if(C==null){C=$[p]=[];var r=new bN(0,0,T,T),Y=y/2/(1+.2*a),S=Math.floor(y*p*.1);
for(var m=0;m<2;m++)for(var Q=0;Q<2;Q++){var z=i(T,Y,.25+Q*.5,.25+m*.5),n=0;k.$A.jl(z,z,r,S);while(z[T*E+n]<.005)n++;
if(n!=0)n--;var Z=2*(E-n),P=new bN(n,n,Z,Z),V=new Float32Array(Z*Z);for(var I=0;I<Z;I++)for(var q=0;
q<Z;q++)V[I*Z+q]=z[(n+I)*T+n+q];C.push([V,P])}}var X=Math.floor(v),B=Math.floor(c),e=v-X,F=c-B,s=e<.5?1:0,J=F<.5?1:0;
C=C[J*2+s];var P=C[1].clone();P.x+=X-E;P.y+=B-E;return[C[0],P]}function K(y,a,v){if(d==null){d=new Uint8Array(4e4);
for(var t=0;t<4e4;t++)d[t]=Math.min(255,~~(.5+255*k.NQ(t*(1/255))))}var c=y.length;for(var t=0;t<c;t++){var p=y[t],C=~~(255*p);
a[t]=d[C]<<24|v}}function f(y,a,v,c,p){var C=a.Js(c),T=Math.max(0,C.x-a.x),E=Math.max(0,C.x-c.x),r=Math.max(0,C.y-a.y),Y=Math.max(0,C.y-c.y),S=C.e,m=C.n;
for(var t=0;t<m;t++){var Q=(r+t)*a.e+T,z=(Y+t)*c.e+E;for(var n=0;n<S;n++){v[z+n]+=p*y[Q+n]}}}var l=-1;
function u(y,a,v,c,p){var C=Math.round(c[1]*a*v*.01),T=c[2],E=c[3],r=c[4],Y=c[5],S=c[6],m=c[7],Q=c[8],z=c[9],n=c[10]?c[10]:1,j=!1;
if(T!=l){$=[];l=T}var Z=Date.now(),P=new bN(0,0,a,v),V=new U(c[0]);if(p)y.fill(0);var I=new Float32Array(p?y.buffer:a*v);
for(var t=0;t<C;t++){var q=V.get()*a,X=V.get()*v,B=V.get()*E,e=V.get()*T*4,F=(V.get()+S)*Math.PI*2,s=V.get()*T*4,J=(V.get()+2*S)*Math.PI*2;
q+=z*(e*Math.cos(F)+s*Math.cos(J));X+=z*(e*Math.sin(F)+s*Math.sin(J));if(Q)X=X+S*v*n;var W=h(T,B,q,X%v),L=r,A=V.get();
if(m)L=.5+.5*r*(.5+.5*Math.sin((2*S+A)*2*Math.PI));f(W[0],W[1],I,P,L)}if(j)console.log(Date.now()-Z,"add floats");
Z=Date.now();var G=new Uint8Array(I.buffer);K(I,new Uint32Array(G.buffer),Y.Z<<16|Y.P<<8|Y.o);if(j)console.log(Date.now()-Z,"toInt");
Z=Date.now();if(!p){k.l.NU("scrn",G,P,y,P,P,1);if(j)console.log(Date.now()-Z,"blendOver")}}function U(y){this.Tv=123456789;
this.XG=987654321;this.z=4294967295;this.wj(y)}U.prototype.wj=function(t){this.Tv=123456789+t&this.z;
this.XG=987654321-t&this.z};U.prototype.get=function(){this.XG=36969*(this.XG&65535)+(this.XG>>16)&this.z;
this.Tv=18e3*(this.Tv&65535)+(this.Tv>>16)&this.z;var y=(this.XG<<16)+(this.Tv&65535)>>>0;y/=4294967296;
return y};return{Ir:u}}();k.HN={};k.HN.yz=function(i,$,h,d){var K=i[$*2],f=i[$*2+1],l=i[h*2],u=i[h*2+1],U=i[d*2],y=i[d*2+1];
return K*u+l*y+U*f-U*u-l*f-K*y};k.HN.y6=function(i,$){var h=[],d=[],K=[],f={};for(var t=0;t<$.length;
t+=3){var l=~~(t*(1/3)),u=$[t+0],U=$[t+1],a=$[t+2],v=k.HN.yz(i,u,U,a);if(v>0){var c=U;U=a;a=c}var p=f[a+"-"+U],C=f[U+"-"+u],T=f[u+"-"+a],E=[a,p,l,null],r=[U,C,l,E],Y=[u,T,l,r];
E[3]=Y;if(p)p[1]=E;if(C)C[1]=r;if(T)T[1]=Y;f[a+"-"+u]=Y;f[u+"-"+U]=r;f[U+"-"+a]=E;h[u]=r;K[t]=r;h[U]=E;
K[t+1]=E;h[a]=Y;K[t+2]=Y;d[l]=r}return{$C:h,pS:d,EE:K}};k.HN.a8F=function(i){var $=[],h=i.pS;for(var t=0;
t<h.length;t++){var d=h[t];$.push(d[0]);d=d[3];$.push(d[0]);d=d[3];$.push(d[0])}return $};k.HN.ana=function(i,$,h,d){var K=i[$*2],f=i[$*2+1],l=i[h*2],u=i[h*2+1],U=i[d*2],y=i[d*2+1],a=l-K,v=u-f,c=U-K,p=y-f,C=a*(K+l)+v*(f+u),T=c*(K+U)+p*(f+y),E=2*(a*(y-u)-v*(U-l));
if(Math.abs(E)<1e-5){var r=Math.min(K,l,U),Y=Math.min(f,u,y),S=(Math.max(K,l,U)-r)*.5,m=(Math.max(f,u,y)-Y)*.5;
return[r+S,Y+m,S*S+m*m,1]}var Q=(p*C-v*T)/E,z=(a*T-c*C)/E,S=Q-K,m=z-f;return[Q,z,S*S+m*m,0]};k.HN.af0=function(i,$,h){var d=h[1],K=h[3],f=K[3],l=d[3],u=l[3],U=h[2],y=d[2],a=h[0],v=d[0],c=K[0],p=l[0],C=k.HN.ana(i,v,p,c),T=i[a*2]-C[0],E=i[a*2+1]-C[1],r=T*T+E*E>C[2]&&C[3]==0&&k.HN.yz(i,p,a,c)<0&&k.HN.yz(i,c,v,p)<0;
if(r){h[0]=c;d[0]=p;h[3]=f;f[3]=l;l[3]=h;d[3]=u;u[3]=K;K[3]=d;K[2]=y;l[2]=U;$.pS[y]=u;$.pS[U]=f;$.$C[v]=l;
$.$C[a]=K}return r};k.HN.adz=function(i,$,h){var d=i[$*2]-i[h*2],K=i[$*2+1]-i[h*2+1];return Math.sqrt(d*d+K*K)};
k.HN.aiO=function(i,$,h){var d=h[1],K=h[3],f=K[3],l,u,U=h[2],y,a=h[0],v=f[0],c=K[0],p;if(d){l=d[3];u=l[3];
y=d[2];p=l[0]}var C=i.length>>>1;i[2*C]=(i[2*v]+i[2*a])*.5;i[2*C+1]=(i[2*v+1]+i[2*a+1])*.5;if(!0){var T=U,E=h,r=$.pS.length,Y=[C,null,T,E],S=[c,Y,r,f];
Y[1]=S;var m=[C,null,r,S];K[3]=Y;f[3]=m;f[2]=r;$.pS[T]=K;$.pS[r]=m;$.$C[a]=K;$.$C[c]=f;$.EE.push(Y,S,m)}if(d){var Q=y,z=d,n=r+1;
m[1]=z,z[1]=m;var Z=[C,null,Q,z],P=[p,Z,n,u];Z[1]=P;var V=[C,E,n,P];E[1]=V;l[3]=Z;u[3]=V;u[2]=n;$.pS[Q]=l;
$.pS[n]=u;$.$C[v]=l;$.$C[p]=u;$.EE.push(Z,P,V)}$.$C[C]=E};k.HN.MY=function(i,$){var h=0;while(!0){var d=h;
for(var t=0;t<$.EE.length;t++){var K=$.EE[t];if(K[1]==null)continue;var f=k.HN.af0(i,$,K);if(f){h++;
break}}if(d==h)break}return h!=0};k.HN.aru=function(i,$,h,d){var K=0;for(var t=0;t<d;t++){var f=null,l=0;
for(var u=0;u<$.EE.length;u++){var U=$.EE[u],y=k.HN.adz(i,U[0],U[3][3][0])*(U[1]?1:2);if(y>l){f=U;l=y}}if(l>h){k.HN.aiO(i,$,f);
K++}}return K!=0};k.HN.ajY=function(i,$){var h=[],c=0;for(var t=0;t<i.length;t++)h.push(0);for(var t=0;
t<$.EE.length;t++){var d=$.EE[t],K=d[0],f=d[3][3][0],l=i[K*2],u=i[K*2+1],U=i[f*2],y=i[f*2+1],a=l-U,v=u-y;
h[K*2]+=-a;h[K*2+1]+=-v;h[f*2]+=a;h[f*2+1]+=v}for(var t=0;t<i.length;t+=2){var p=t>>>1,C=$.$C[p],d=C,T=!0;
do{if(d[1]==null){T=!1;break}d=d[1][3]}while(d!=C);if(T){var E=.02;i[t]+=E*h[t];i[t+1]+=E*h[t+1];c+=E*(h[t]*h[t]+h[t+1]*h[t+1])}}return c};
k.HN.akh=function(i,$,h){var d=k.p.nP(i),K=k.HN.y6(i,$);k.HN.MY(i,K);for(var f=0;f<300;f++){var l=!1,u=!1;
l=k.HN.aru(i,K,h,5);if(l)u=k.HN.MY(i,K);var U=k.HN.ajY(i,K);if(!l&&!u&&U<1e-4){break}}return k.HN.a8F(K)};
k.AF={};k.AF.u9=function(i){var $=i.v3,h=i.Qy,d=i.NX,K=i.Rg,f=i.eH,l=i.tI,u=i.zZ,U=k.eE.Po,Y,S,m=0;function y(b4){var jU=new Array(b4);
for(var t=0;t<b4;t++)jU[t]=0;return jU}var a=h.length>>>1,v=y($.Gb*2),c=y($.Gb),p=y($.Gb),C=Date.now();
for(var t=0;t<i.bo.length;t++){var T=$.a1t+t,E=$.DD*(l[t*2]+u[t*2]),r=$.DD*(l[t*2+1]+u[t*2+1]);v[T*2]=E;
v[T*2+1]=r;c[T]=E;p[T]=r}$.ag6.$q(K,$.asS.Po(v),.01,Y,S);for(var t=0;t<$.akw.EE.length;t++){var Q=$.akw.EE[t],z=Q[3][3][0],n=Q[0],Z=Q[3][0],P=Q[1]?Q[1][3][0]:Z;
if(Q[1]&&z>n)continue;var V=h[z*2],I=h[z*2+1],q=h[n*2],X=h[n*2+1],B=K[z*2],e=K[z*2+1],F=K[n*2],s=K[n*2+1],J=K[Z*2],W=K[Z*2+1],L=K[P*2],A=K[P*2+1],j=[B,e,F,s,J,W];
if(Q[1])j.push(L,A);var G=U($.anX[m],j),O=G[0],o=G[1],N=1/Math.sqrt(O*O+o*o);O*=N;o*=N;var w=q-V,kv=X-I;
c[m]=O*w+o*kv;p[m]=-o*w+O*kv;m++}var g=new Array(a),b=new Array(a);for(var t=0;t<a;t++){g[t]=f[t*2];
b[t]=f[t*2+1]}$.adV.$q(g,$.axw.Po(c),.5);$.adV.$q(b,$.axw.Po(p),.5);for(var t=0;t<a;t++){f[t*2]=g[t];
f[t*2+1]=b[t]}};k.AF.fn=function(i){var $=i.Qy,h=i.NX,d=i.bo,K=k.eE.multiply,f=Date.now(),l=k.HN.y6($,h),u=$.length>>>1,U=0,C=0,o=1e3;
for(var t=0;t<l.EE.length;t++)U+=l.EE[t][1]?.5:1;var y=U+d.length,a=[],v=new k.KM(y*2,u*2),c=new k.KM(y,u),p=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],T=[],E=[];
for(var t=0;t<l.EE.length;t++){var r=l.EE[t],Y=r[3][3][0],S=r[0],m=r[3][0],Q=r[1]?r[1][3][0]:m;if(r[1]&&Y>S)continue;
var z=$[Y*2],n=$[Y*2+1],Z=$[S*2],P=$[S*2+1],V=$[m*2],I=$[m*2+1],q=$[Q*2],X=$[Q*2+1],B=[[z,n,1,0],[n,-z,0,1],[Z,P,1,0],[P,-Z,0,1],[V,I,1,0],[I,-V,0,1]];
if(r[1])B.push([q,X,1,0],[X,-q,0,1]);var e=k.eE.Nj(B),F=K(linear.invert(K(e,B)),e);F.pop();F.pop();a.push(F);
var s=Z-z,J=P-n,W=p[r[1]?1:0];W=k.eE.JI(W,K([[s,J],[J,-s]],F));var L=[Y*2,Y*2+1,S*2,S*2+1,m*2,m*2+1,Q*2,Q*2+1],A=r[1]?8:6,j=[];
for(var G=0;G<A;G++)j.push([L[G],W[0][G],W[1][G]]);j.sort(function(jU,_){return jU[0]-_[0]});for(var O=0;
O<2;O++){for(var G=0;G<A;G++){T[G]=j[G][0];E[G]=j[G][1+O]}v._Q(E,T,A)}if(Y<S)c._Q([-1,1],[Y,S],2);else c._Q([1,-1],[S,Y],2);
C++}for(var t=0;t<d.length;t++){var N=d[t];v._Q([o],[N*2],1);v._Q([o],[N*2+1],1);c._Q([o],[N],1)}var w=v.Nj(),kv=w.R8(w),g=c.Nj(),b=g.R8(g);
return{a1t:U,Gb:y,asS:w,ag6:kv,axw:g,adV:b,akw:l,anX:a,DD:o}};k.AF.avf=function(i,$,h,d,K){var f=new bN(0,0,$,h),l=k.Q(f.O());
k.pO(i,l,3);k.round(l,70);var u=k.WG(l,f),U=[.1,.065,.035][d]*Math.max(u.e,u.n),y=K+1,a=$+y*2,v=h+y*2,c=new bN(-y,-y,a,v),p=k.Q(c.O());
k.Zc(l,f,p,c);var C=p.slice(0);for(var T=0;T<K;T++){for(var E=1;E<v-1;E++){for(var r=1;r<a-1;r++){var t=E*a+r;
C[t]=p[t-a]|p[t-1]|p[t]|p[t+1]|p[t+a]}}var Y=C;C=p;p=Y}var S=ch.kL(p,a,v,Math.round(u.O()*5e-4)),m=ch.iW(S),Q=new ej(1,0,0,1,-y,-y);
for(var t=0;t<m.length;t++){var z=m[t];k.p.D(z.path.C,Q,z.path.C);z.Qy=k.AF.a4M(z.path);z.NX=k.p.a8d(z.Qy);
z.NX=k.HN.akh(z.Qy,z.NX,U)}return m};k.AF.a4M=function(i){var $=[],h=i.C,d=i.H.length-1,K=0,f=0;for(var l=0;
l<d;l++){var t=l*6,u=h[t+6]-h[t+0],U=h[t+7]-h[t+1],y=Math.ceil(Math.sqrt(u*u+U*U));for(var a=0;a<y;a++){var v=a/y,c=1-v,p=c*c*c*h[t+0]+3*c*c*v*h[t+2]+3*c*v*v*h[t+4]+v*v*v*h[t+6],C=c*c*c*h[t+1]+3*c*c*v*h[t+3]+3*c*v*v*h[t+5]+v*v*v*h[t+7];
$.push(p,C);K=p;f=C}}$=k.p.tw($,1);var T=[],E=$.length;for(var t=0;t<E;t+=2){var C=$.pop(),p=$.pop();
T.push(p,C)}return T};k.AF.asd=function(i,$,h,d){function K(Z,P,V,I,q){var X=q[Z*2]-q[P*2],B=q[Z*2+1]-q[P*2+1],e=Math.sqrt(X*X+B*B);
if(V[Z].indexOf(P)==-1){V[Z].push(P);I[Z].push(e)}if(V[P].indexOf(Z)==-1){V[P].push(Z);I[P].push(e)}}var f=i.length>>>1,l=new Array(f);
if(h.length==0){l.fill(0);return l}var u=new Array(f),U=new Array(f);for(var t=0;t<f;t++){u[t]=[];U[t]=[]}for(var t=0;
t<$.length;t+=3){K($[t],$[t+1],u,U,i);K($[t],$[t+2],u,U,i);K($[t+1],$[t+2],u,U,i)}var y=new Float64Array(f*2),a=new Uint32Array(f*2);
y.fill(1e9);var v=new Uint8Array(f);for(var c=0;c<h.length;c++){v.fill(0);var p=["---",[0,h[c]]];while(p.length!=1){var C=k.W5.kR(p),T=C[0],E=C[1];
if(v[E]==1)continue;var r=E<<1;if(T<y[r]){y[r+1]=y[r];a[r+1]=a[r];y[r]=T;a[r]=c}else if(T<y[r+1]){y[r+1]=T;
a[r+1]=c}v[E]=1;var Y=u[E],S=U[E];for(var t=0;t<Y.length;t++){var m=Y[t];if(v[m]!=1){k.W5.qn(p,[T+S[t],m])}}}}for(var t=0;
t<f;t++){var r=t<<1,Q=y[r],z=y[r+1],n=1/(Q+z);l[t]=(1-Q*n)*d[a[r]]+(1-z*n)*d[a[r+1]]}return l};k.AF.aeM=function(i){var $={H:[],C:[]},h=[i];
while(h.length!=0){var d=h.pop(),K=d.yg;if(d.amX instanceof Array||d.afL instanceof Array){$.H.push("M","L","L","L","Z");
$.C.push(K[0],K[1],K[2],K[1],K[2],K[3],K[0],K[3])}else h.push(d.amX,d.afL)}return $};k.AF.vi=function(i,$,h,d,K,f,l,u,U,y){var a=Math.round(y.length/3),v=new Array(a);
for(var t=0;t<a;t++)v[t]=t;v.sort(function(p,C){return U[y[p*3]]-U[y[C*3]]});for(var t=0;t<a;t++){var c=v[t]*3;
k.AF.aaq(y[c]*2,y[c+1]*2,y[c+2]*2,l,u,i,$,h,d,K,f)}};k.AF.aaq=function(i,$,h,d,K,f,l,u,U,y,a){var v=k.AF.JA,c=[i,$,h,1.2,1.2,1.2,0],p=[0,0,0,0],C=K[i],T=K[i+1],E=K[$],r=K[$+1],Y=K[h],S=K[h+1],m=Math.max(0,Math.min(l-1,d[i])),Q=Math.max(0,Math.min(l-1,d[$])),z=Math.max(0,Math.min(l-1,d[h])),n=Math.max(0,Math.min(u-1,d[i+1])),Z=Math.max(0,Math.min(u-1,d[$+1])),P=Math.max(0,Math.min(u-1,d[h+1])),V=E-C,I=r-T,q=Y-C,X=S-T,B=1/(V*X-q*I+1e-9),e=Math.max(0,Math.floor(Math.min(C,E,Y))),F=Math.min(y,Math.ceil(Math.max(C,E,Y))),s=Math.max(0,Math.floor(Math.min(T,r,S))),J=Math.min(a,Math.ceil(Math.max(T,r,S)));
for(var W=s;W<J;W++)for(var L=e;L<F;L++){var A=L+.5-C,j=W+.5-T,G=(A*X-q*j)*B,O=(V*j-A*I)*B;if(G>=0&&O>=0&&G+O<=1){var o=1-G-O,N=m*o+Q*G+z*O,w=n*o+Z*G+P*O;
k.K.uH(N,w,f,l,u,p);k.AF.aw9(p,U,W*y+L<<2)}}};k.AF.aw9=function(i,$,h){var d=$[h],K=$[h+1],f=$[h+2],l=$[h+3],u=1-i[3]*(1/255);
$[h]=~~(.5+i[0]+d*u);$[h+1]=~~(.5+i[1]+K*u);$[h+2]=~~(.5+i[2]+f*u);$[h+3]=~~(.5+i[3]+l*u)};k.AF.JA=function(){var i=function(h,d,K,f){var l=f[0],u=f[1],U=f[2],y=h[l+0],a=h[l+1],v=h[u+0],c=h[u+1],p=h[U+0],C=h[U+1],T=v-y,E=c-a,r=p-y,Y=C-a,S=d-y,m=K-a,Q=T*Y-r*E,z=1/(Q+1e-9),n=(S*Y-r*m)*z,Z=(T*m-S*E)*z;
if(n>=0&&Z>=0&&n+Z<=1){f[3]=1-n-Z;f[4]=n;f[5]=Z;return 1}return 0},$=function(h,d,K,f){var l=[0,0,0,0,0,0];
for(var t=0;t<d.length;t+=3){l[0]=d[t]*2;l[1]=d[t+1]*2;l[2]=d[t+2]*2;if(i(h,K,f,l)==1)return!0}return!1};
return{amp:i,a40:$}}();k.n_={};k.n_.av1=function(i,$,h){var d=k.Q($*h*4),K=!1;k.K.KU(i,$,h,d,[h,$,0,1,0,1,0,0]);
return[k.n_.i0(i,$,h,K),k.n_.i0(d,h,$,K)]};k.n_.D=function(i,$){var h=!1,d=i[0],K=i[1],f=d[1],l=d[2],u=d[3],U=$.e,y=$.n;
if(l==U&&u==y)f=f.slice(0);else if(u!=y){var a=k.Q(l*y*4);k.n_.aL(K,y,a,h);f=k.Q(l*y*4);k.K.KU(a,y,l,f,[l,y,0,1,0,1,0,0]);
if(l!=U){d=k.n_.i0(f,l,y,h);f=k.Q(U*y*4);k.n_.aL(d,U,f,h)}}else if(l!=U){f=k.Q(U*u*4);k.n_.aL(d,U,f,h)}return f};
k.n_.i0=function(i,$,h,d){var K=Date.now(),f=new Uint16Array($*h),l=1;k.n_.aqc(i,$,h,f);var u=Math.ceil($/l),U=new Uint32Array(l),y=new Uint32Array(l),u=Math.floor($/l);
for(var a=0;a<l;a++)y[a]=a<l-1?u:$-(l-1)*u;for(var v=0;v<h;v++){var t=v*$;for(var a=0;a<l;a++){var u=y[a];
for(var c=0;c<u;c++)U[a]+=f[t+c];t+=u}}if(d){console.log(Date.now()-K,"cost");K=Date.now()}var p=new Uint32Array($),C=new Uint32Array($),T=new Uint32Array($*h);
for(var c=0;c<$;c++){T[(h-1)*$+c]=f[(h-1)*$+c]}for(var v=h-2;v>=0;v--){var E=v*$;for(var a=0;a<l;a++){var u=y[a];
T[E]=f[E]+Math.min(T[E+$],T[E+$+1]);for(var c=1;c<u-1;c++){var t=E+c;T[t]=f[t]+Math.min(T[t+$-1],Math.min(T[t+$],T[t+$+1]))}E+=u-1;
T[E]=f[E]+Math.min(T[E+$-1],T[E+$]);E++}}if(d){console.log(Date.now()-K,"Building M");K=Date.now()}function r(I,q){return I<q?I:q}function Y(t,I){var q=C[t],X=T[I],B=~~(q*X*1e-4);
return B}var S=new Uint8Array($*h),m=new Uint32Array($);for(var t=0;t<$;t++){p[t]=t;C[t]=f[t]}for(var v=1;
v<h;v++){var Q=0,E=v*$;for(var a=0;a<l;a++){var u=y[a],t=E;m[Q]=Y(Q,t);var z=m[Q]+Y(Q+1,t+1),n=Y(Q,t+1)+Y(Q+1,t);
m[Q+1]=r(z,n);for(var c=2;c<u;c++){var t=E+c,Z=m[Q+c-1]+Y(Q+c-1,t-1),P=m[Q+c-2]+Y(Q+c-1,t-2)+Y(Q+c-2,t-1);
m[Q+c]=r(Z,P)}var c=u-1;while(c>=2){var t=E+c,Z=m[Q+c-1]+Y(Q+c-1,t-1),P=m[Q+c-2]+Y(Q+c-1,t-2)+Y(Q+c-2,t-1);
if(m[Q+c]==Z){S[t-$]=1;c-=1}else{S[t-$]=0;S[t-$-1]=2;c-=2}}var t=E;if(c==0){S[t-$]=1}else{if(m[Q+1]==z){S[t+1-$]=1;
S[t-$]=1}else{S[t+1-$]=0;S[t-$]=2}}E+=u;Q+=u}k.n_.axj(v,$,S,f,p,C,!0,K)}if(d){console.log(Date.now()-K,"Matching");
K=Date.now()}var V=f;return[UZIP.adler(i,0,i.length),i,$,h,l,y,U,p,C,S,V]};k.n_.aL=function(i,$,h,d){var K=i.slice(0),f=K.shift(),l=K.shift(),u=K.shift(),U=K.shift(),y=K.shift(),a=K.shift(),v=K.shift(),c=K.shift(),p=K.shift().slice(0),C=K.shift(),T=K.shift(),E=Date.now(),r=Math.abs(u-$),Y=Math.floor(r/y),S=new Uint32Array(y),Q=0,z=1e9,Z=0,P=0,V=0;
for(var m=0;m<y;m++)S[m]=m<y-1?Y:r-(y-1)*Y;T.fill(0);for(var n=0;n<u;n++){Q=Math.max(Q,p[n]);z=Math.min(z,p[n])}for(var m=0;
m<y;m++){var I=a[m],Y=S[m];for(var q=0;q<Y;q++){var X=0,B=1e9;for(var n=0;n<I;n++)if(p[P+n]<B){B=p[P+n];
X=P+n}if($<u)p[X]=1e9;else p[X]*=1.2;if(V<u/3)Z+=B;var e=c[X],F=T[e],s=F<65280?65280:F+1;if(s<65280)throw"e";
for(var J=0;J<U;J++){var t=J*u+e;T[t]=s;e+=C[t]-1}V++}P+=I}if(d){console.log(Date.now()-E,"Removing best seams");
E=Date.now()}function W(t,A){var j=t<<2,G=A<<2;h[j]=l[G];h[j+1]=l[G+1];h[j+2]=l[G+2];h[j+3]=l[G+3]}for(var J=0;
J<U;J++){var L=0,t=J*u;for(var n=0;n<$;n++,L++){if($<u){while(T[t+L]==65280)L++;W(J*$+n,J*u+L)}else{W(J*$+n,J*u+L);
while(T[t+L]>=65280){T[t+L]--;n++;W(J*$+n,J*u+L)}}}}if(d){console.log(Date.now()-E,"Shifting image pixels");
E=Date.now()}};k.n_.axj=function(i,$,h,d,K,f){var l=0,t=i*$;while(l<$){if(h[t-$]==1){f[l]=f[l]+d[t];
l++;t++}else{var u=K[l];K[l]=K[l+1];K[l+1]=u;var U=f[l];f[l]=f[l+1]+d[t];f[l+1]=U+d[t+1];l+=2;t+=2}}};
k.n_.aqc=function(i,$,h,d){function K(i,t,U){var v=t<<2,c=U<<2,p=i[v]-i[c],C=i[v+1]-i[c+1],T=i[v+2]-i[c+2];
return Math.abs(p)+Math.abs(C)+Math.abs(T)}for(var f=1;f<$;f++){var l=K(i,f,f-1);d[f-1]+=l;d[f]+=l}for(var u=1;
u<h;u++){var U=u*$,l=K(i,U,U-$);d[U]+=l;d[U-$]+=l;for(var f=1;f<$;f++){var t=u*$+f,y=K(i,t,t-1),a=K(i,t,t-$);
d[t-$]+=a;d[t-1]+=y;d[t]+=a+y}}for(var u=0;u<h;u++){d[u*$]*=2;d[u*$+$-1]*=2}for(var t=0;t<d.length;t++)if(d[t]==0)d[t]=1};
k.dr=function(){var i=0,$=0,d=15,f=256;function h(a,v,c,p,C,T){var E=(C-1)*v,r=T*v;return a[r+p]-a[r+c-1]-a[E+p]+a[E+c-1]}var K=Math.round(d/8),l=[];
function u(a,v){for(var c=0;c<v.length;c++){var p=v[c],C=0,T=0,E=a[p.xn],r=E.MB,Y=E.DD,S=E.mJ;for(var m=-d;
m<=d;m++)for(var Q=-d;Q<=d;Q++){var z=Q+p.alJ,n=m+p.ajg;if(Q*Q+m*m>d*d||z<0||n<0||z>=Y||n>=Y)continue;
var Z=r[n*Y+z];C+=Q*Z;T+=m*Z}p.Ns=Math.atan2(T,C)}}function U(a,v,c,p,C){var T=~~(a+.5),E=~~(v+.5);return h(c,p,T-K,T+K,E-K,E+K)}function y(a,v,c,p,C){i=p;
$=C;if(l.length==0){var T=new k.l.S1(16200817),S=8,m=0;function E(jU){var V=jU[0]-jU[2],I=jU[1]-jU[3];
return V*V+I*I}function r(){var jU=0,_=0;while(jU===0)jU=T.get();while(_===0)_=T.get();return Math.sqrt(-2*Math.log(jU))*Math.cos(2*Math.PI*_)}var Y=r,Q=[];
while(m!=f){var z=Math.max(-d,Math.min(d,Y()*S)),n=Math.max(-d,Math.min(d,Y()*S)),Z=Math.max(-d,Math.min(d,Y()*S)),P=Math.max(-d,Math.min(d,Y()*S)),V=z-Z,I=n-P,q=Math.sqrt(V*V+I*I);
if(q<3||q>12)continue;l.push(z,n,Z,P);m++}}var X=20;for(var B=0;B<v.length;B++){var e=v[B],F=a[e.xn],s=F.qa,c=F.MB,p=F.DD,C=F.mJ,J=e.alJ,W=e.ajg,L=e.Ns,A=Math.cos(L),j=Math.sin(L),G=new Uint8Array(f>>>3);
e.B6=G;for(var t=0;t<f;t++){var O=t*4,z=l[O+0],n=l[O+1],Z=l[O+2],P=l[O+3],o=A*z-j*n,N=j*z+A*n,w=A*Z-j*P,kv=j*Z+A*P,g=U(J+o,W+N,s,p,C),b=U(J+w,W+kv,s,p,C);
G[t>>>3]|=(g<b?0:1)<<(t&7)}}}return{auA:u,a9e:y}}();k.a2K=function(){function i($,h){var d=[[9]],K=Date.now(),f=[];
for(var l=0;l<$.length;l++){var u=$[l],U=u.qa,y=u.DD,a=u.mJ,p=9,S=1,e=24;if(U==null)continue;var v=new Float32Array(y*a),c=new Uint8Array(y*a),C=p>>>1,T=C>>>1,E=Math.round(p/3);
if(E!=p/3)throw"e";var r=1/(p*p),Y=1.2*(p/9);for(var m=C+1;m<a-C;m+=S)for(var Q=C+1;Q<y-C;Q+=S){var z=k.gQ(U,y,Q-T,Q+T,m-C,m+C)-3*k.gQ(U,y,Q-T,Q+T,m-C+E,m+C-E),n=k.gQ(U,y,Q-C,Q+C,m-T,m+T)-3*k.gQ(U,y,Q-C+E,Q+C-E,m-T,m+T),Z=Q-C+1,P=Q+C-1,V=m-C+1,I=m+C-1,q=k.gQ(U,y,Z,Q-1,V,m-1)+k.gQ(U,y,Q+1,P,m+1,I)-k.gQ(U,y,Q+1,P,V,m-1)-k.gQ(U,y,Z,Q-1,m+1,I),X=(n*z-.9*q*(.9*q))*(r*r);
v[m*y+Q]=Math.abs(X);c[m*y+Q]=X<0?0:1}var B=y*S;for(var m=e;m<a-e;m+=S)for(var Q=e;Q<y-e;Q+=S){var t=m*y+Q,F=v[t];
if(F<16)continue;if(v[t-S]>=F||v[t+S]>=F)continue;if(v[t-B-S]>=F||v[t-B]>=F||v[t-B+S]>=F)continue;if(v[t+B-S]>=F||v[t+B]>=F||v[t+B+S]>=F)continue;
f.push({x:~~(Q*u.ZJ+.5),y:~~(m*u.ZJ+.5),alJ:Q,ajg:m,xn:l,L:F,awT:c[t],qc:Y})}}if(h!=null){f.sort(function(O,o){return o.L-O.L});
f=f.slice(0,h)}return f;var s=[];for(var t=0;t<f.length;t++){var J=!0,W=f[t];for(var L=0;L<f.length;
L++){var A=f[L];if(L!=t&&A.L>W.L&&(A.xn==W.xn+1||A.xn==W.xn-1)){var j=W.x-A.x,G=W.y-A.y;if(j*j+G*G<5){J=!1;
break}}}if(J)s.push(W)}console.log(f.length,s.length);return s}return{ac8:i}}();k.Ut={};k.Ut.aet=function(i){var $=i.length,h=k.Ut.$b(i,!1),K=0,f=1;
throw"e";var d=[];for(var t=0;t<$;t++)d[t]=k.Ut.e5(h[t]);var l=i[0][1],u=k.Ut.match(h[K],h[f],d[f]);
console.log(u.length);var U=Math.max(Math.min(u.length,40),u.length*.54);U=Math.min(U,200);var y=u.slice(0,U),a=k.Kf.apQ(h[K],h[f],y,l.e,l.n),v=k.Kf.amm(a,[0,0,0],1),c=l.e/2,p=l.n/2,C=1/Math.max(c,p);
for(var t=0;t<1;t++){var T=y[t],E=h[K][T[0]],r=h[f][T[1]],Y=k.Kf.aq1(v,C*(E.x-c),C*(E.y-p),C*(r.x-c),C*(r.y-p))}var S=k.Kf.a6J(a,l),m=[];
for(var t=0;t<2;t++){var Q=S[t],z=[Q[0][0],Q[0][1],Q[0][2],Q[1][0],Q[1][1],Q[1][2],Q[2][0],Q[2][1]],n=D.vA.N6(i[t],null,z);
m.push([n.buffer,n.rect])}return[k.Ut.avh(m[0],m[1],h[K],h[f],y,a,S,l)]};k.Ut.lS=function(i,$){var h=i.length,d=!1,K=Date.now(),f=k.Ut.$b(i,!1,1e4);
if(d)console.log("Descriptors ready",Date.now()-K);K=Date.now();for(var t=0;t<h;t++){var l=i[t][1];for(var u=0;
u<f[t].length;u++){f[t][u].x+=l.x;f[t][u].y+=l.y}}if(d)console.log("shifted",Date.now()-K);K=Date.now();
var U=[];for(var t=0;t<h;t++)U[t]=k.Ut.e5(f[t]);if(d)console.log("trees built",Date.now()-K);K=Date.now();
var y=[];for(var t=0;t<h-1;t++)for(var u=t+1;u<h;u++){var a=k.Ut.match(f[t],f[u],U[u]);if(d)console.log("Matches found",t,u,a.length);
a=a.slice(0,a.length>>>1);if(a.length<10)return null;var v=k.Ut.a1Y(f[t],f[u],a,2);y.push([t,u,a,v])}y.sort(function(P,V){return V[2].length-P[2].length});
if(d)console.log("Matches found",Date.now()-K);K=Date.now();var c=[],p=new UnionFind(h);for(var t=0;
t<y.length;t++){var C=y[t],T=p.find(C[0]),E=p.find(C[1]);if(T!=E){c.push(C);p.link(T,E)}}var r=[];for(var t=0;
t<h;t++)r[t]=[1,0,0,0,1,0,0,0];var Y=[0],S=new Uint8Array(h);S[Y[0]]=1;while(Y.length!=0){var E=Y.pop(),v=r[E],m=[];
for(var t=0;t<c.length;t++){var C=c[t],Q=C[0],z=C[1];if(Q==E&&S[z]==0){r[z]=k.K.hW(v,C[3]);Y.push(z);
S[z]=1}if(z==E&&S[Q]==0){r[Q]=k.K.hW(v,k.K.Sp(C[3]));Y.push(Q);S[Q]=1}}}if($==null){var n=[];for(var t=0;
t<h;t++)n.push([r[t][2],t]);n.sort(function(P,V){return P[0]-V[0]});$=n[n.length>>>1][1]}var Z=k.K.Sp(r[$]);
for(var t=0;t<h;t++)r[t]=k.K.hW(r[t],Z);if(d)console.log("Transforms reordered",Date.now()-K);K=Date.now();
return r};k.Ut.$b=function(i,$,h){var d=[],K=!1;for(var t=0;t<i.length;t++){var f=i[t][0],l=i[t][1],u=l.e,U=l.n,y=k.Q(l.O());
k.xw(f,y);var a=Date.now(),v=k.Ut.abm(y,l,!0);if(K)console.log("Pyramid built ---------------",Date.now()-a);
a=Date.now();var c=k.a2K.ac8(v,h);if(K)console.log("SURF Generation",Date.now()-a);a=Date.now();if(!$){k.dr.auA(v,c);
if(K)console.log("ORB Orientations",Date.now()-a);a=Date.now();k.dr.a9e(v,c,y,u,U);if(K)console.log("ORB Descriptors",Date.now()-a);
a=Date.now()}d.push(c)}return d};k.Ut.abm=function(i,$,h){var d=[],K=[i,$];k.V0(K);if(h){var f=k.pf(i,$),l=f.rect,u=[f.Yz,l];
k.V0(u)}for(var t=0;t<K.length;t++){var U=K[2*t],y=K[2*t+1],a=y.e,v=y.n,c=Math.min(a,v);if(c<30)break;
if(c<1600)d.push({MB:U,DD:a,mJ:v,ZJ:1<<t,qa:k.Wq(U,a,v)});if(!h)continue;var U=u[2*t],y=u[2*t+1],a=y.e,v=y.n,c=Math.min(a,v);
if(c<30)break;if(c<1600)d.push({MB:U,DD:a,mJ:v,ZJ:(1<<t)*3/2,qa:k.Wq(U,a,v)})}return d};k.Ut.a1Y=function(i,$,h,d){var K=Date.now(),f,l=0,u=0,U=h.length,y=new Float64Array(2);
for(var a=0;a<3e3;a++){var v=~~(Math.random()*U),c=~~(Math.random()*U),p=~~(Math.random()*U),C=~~(Math.random()*U),B=0,e=0;
if(v==c||v==p||v==C||c==p||c==C||p==C)continue;var T=h[v],E=h[c],r=h[p],Y=h[C],S=i[T[0]],m=$[T[1]],Q=i[E[0]],z=$[E[1]],n=i[r[0]],Z=$[r[1]],P=i[Y[0]],V=$[Y[1]],I=[S.x,S.y,Q.x,Q.y,n.x,n.y,P.x,P.y],q=[m.x,m.y,z.x,z.y,Z.x,Z.y,V.x,V.y],X=k.K.I0(I,q);
if(X[0]==0&&X[1]==0&&X[3]==0&&X[4]==0)continue;var F=U-l+2;for(var t=0;t<U&&t-B<F;t++){var s=i[h[t][0]],J=$[h[t][1]];
k.K.c0(J.x,J.y,X,y);var W=y[0]-s.x,L=y[1]-s.y,A=W*W+L*L;if(A<d){B++;e+=A}}if(B>l||B==l&&e<u){f=X;l=B;
u=e}}return f};var f3=new Uint8Array(256);for(var t=0;t<256;t++){var c$=0,b4=t;while(b4!=0){b4=b4&b4-1;
c$++}f3[t]=c$}k.Ut.a89=function(i,$,h){var d=0,K=i.length;for(var t=0;t<K&&d<h;t++)d+=f3[i[t]^$[t]];
return d};k.Ut.ai9=function(i,$,h,top,d){if(d[h]==1)return;var K=k.Ut.a89(i.B6,$.B6,top[0]);if(K<top[0]){if(K<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=K;top[3]=h}else{top[0]=K;top[1]=h}}d[h]=1};k.Ut.e5=function(i){var $=[],h=[],d=[[],[]],K=4;
for(var t=0;t<i.length;t++)(i[t].awT==0?$:h).push(t);for(var f=0;f<2;f++){var l=new Array(K),u=[],U=f==0?$:h,y=U.length/256,a=[];
for(var v=0;v<32;v++){var c=new Array(256),T=0;for(var p=0;p<256;p++)c[p]=[];for(var p=0;p<U.length;
p++){var C=U[p];c[i[C].B6[v]].push(C)}for(var p=0;p<256;p++)T+=Math.abs(c[p].length-y);a.push([T,v,c])}a.sort(function(E,r){return E[0]-r[0]});
var u=[],l=[];d[f]=[u,l];for(var t=0;t<K;t++){u.push(a[t][1]);l.push(a[t][2])}}return d};k.Ut.match=function(i,$,h){var d=[],K=new Uint16Array($.length);
K.fill(65535);var f=new Uint8Array($.length),top=new Uint32Array(4),l=[];for(var u=0;u<i.length;u++){var U=i[u],y=U.B6;
top.fill(1e6);f.fill(0);var a=h[U.awT];for(var v=0;v<a[1].length;v++){var c=a[1][v][y[a[0][v]]];for(var p=0;
p<c.length;p++){var C=c[p];k.Ut.ai9(U,$[C],C,top,f)}}if(top[2]<50&&top[2]<top[0]*.5){var T=K[top[3]];
if(T==65535){K[top[3]]=d.length;d.push([u,top[3],top[2]])}else if(top[2]<d[T][2]){d[T]=[u,top[3],top[2]]}}}d.sort(function(E,r){return E[2]-r[2]});
return d};k.Ut.ahy=function(i){var $=new bN;for(var t=0;t<i.length;t++)$=$.rt(i[t][1]);var h=k.Q($.O()*4);
for(var t=0;t<i.length;t++)k.l.NU("norm",i[t][0],i[t][1],h,$,$,1);return[h,$]};k.Ut.avh=function(i,$,h,d,K,f,l,u){var U=i[1].clone(),y=U.clone();
U.x=U.y=0;var a=$[1].clone(),v=a.clone();a.x=a.y=0;a.x=U.e;var c=U.rt(a),p=v.y-y.y,C=k.Q(c.O()*4);k.mC(i[0],U,C,c);
k.mC($[0],new bN(a.x,a.y+p,a.e,a.n),C,c);var T=document.createElement("canvas");T.width=c.e;T.height=c.n;
var E=T.getContext("2d");E.lineWidth=.5;E.putImageData(new ImageData(new Uint8ClampedArray(C.buffer),c.e,c.n),0,0);
if(f){var r=f[0],Y=k.eE.Nj(r),S=U.e,m=u.e;for(var t=0;t<K.length;t++){var Q=K[t],i=h[Q[0]],$=d[Q[1]];
E.strokeStyle="#"+"ff0000";E.beginPath();var z=k.Kf.a1A(Y,l[0],$,0,m),n=k.Kf.a1A(r,l[1],i,0,m);E.moveTo(-y.x+z[0],-y.y+z[1]);
E.lineTo(-y.x+z[2],-y.y+z[3]);E.moveTo(S-v.x+n[0],-v.y+p+n[1]);E.lineTo(S-v.x+n[2],-v.y+p+n[3]);E.stroke()}}if(K){var Z=K.length;
for(var t=0;t<Z;t++){var Q=K[t],i=h[Q[0]],$=d[Q[1]];E.strokeStyle="#"+"ffff00"}}var P=new Uint8Array(E.getImageData(0,0,c.e,c.n).data.buffer);
if(!1){for(var V=0;V<2;V++){var I=V==0?h:d,q=V*U.e;for(var t=0;t<I.length;t++){var X=I[t],B=~~X.x,e=~~X.y,F=(e*c.e+B+q)*4;
P[F+1]=P[F+2]=X.anF*60;P[F+0]=0;P[F+3]=255}}}return[P,c]};k.stack={};k.stack.stack=function(i,$,h){var d=i.length,K=$.length;
if(d==1){$.set(i[0]);return}if(h=="avrg"||h=="stdv"||h=="summ"||h=="vari"){var f=1/d;for(var t=0;t<K;
t++){var l=0;for(var u=0;u<d;u++)l+=i[u][t];var U=~~(l*f+.5);if(h=="avrg"||(t&3)==3)$[t]=U;else if(h=="summ")$[t]=255*Math.pow(Math.min(255,l)*(1/255),1/2.4);
else{var y=0;for(var u=0;u<d;u++){var a=i[u][t]-U;y+=a*a}var v=Math.sqrt(y*f)*(1/255);if(h=="stdv")$[t]=255*Math.pow(v,1/2.4);
else $[t]=255*Math.pow(v*v,1/2.4)}}}else if(h=="maxx"){for(var t=0;t<K;t++){var c=0;for(var u=0;u<d;
u++)c=Math.max(c,i[u][t]);$[t]=c}}else if(h=="minn"){for(var t=0;t<K;t++){var c=255;for(var u=0;u<d;
u++)c=Math.min(c,i[u][t]);$[t]=c}}else if(h=="medn"||h=="rang"){var p=function(r,Y){return r-Y},C=new Array(d),T=0,E=0;
if((d&1)==0){E=d>>>1;T=E-1}else{T=E=d>>>1}for(var t=0;t<K;t++){for(var u=0;u<d;u++)C[u]=i[u][t];C.sort(p);
if(h=="medn")$[t]=C[T]+C[E]>>>1;else $[t]=(t&3)==3?C[d-1]:C[d-1]-C[0]}}else console.log(h)};k.SU={};
k.SU.a7w=function(i,$,h,d){var K=Date.now(),f=new Uint32Array($*h),l=new Uint8Array($*h);while(!0){l.fill(0);
f.fill(0);var u=[],U=0;for(var y=0;y<h;y++){for(var a=0;a<$;a++){var t=y*$+a;if(l[t]==0){var v=u.length,c=k.SU.R1(i,$,h,a,y,l,f,v);
u.push([v,a,y,c[0],c[1],i[t]]);if(c[0]<d)U++}}}if(U==0)break;var p=u.length,C=new UnionFind(p),T=[];
for(var t=0;t<p;t++)T.push([]);for(var t=0;t<p;t++){var c=u[t],E=c[4],r=0,Y=0;if(c[3]>=d)continue;var v=c[0];
for(var S=0;S<E.length;S+=2){var m=f[E[S+1]*$+E[S]],Q=u[m];if(Q[3]>Y){Y=Q[3];r=m}}if(C.find(v)!=C.find(r)){C.link(v,r);
T[v].push(r);T[r].push(v)}}var z=new Uint32Array(p);z.fill(4294967295);var n=new Uint32Array(p);for(var t=0;
t<p;t++){if(z[t]!=4294967295||T[t].length==0)continue;var Z=[t],P=[t],V=t,I=u[t][3];while(P.length!=0){var q=P.pop(),X=T[q];
for(var S=0;S<X.length;S++){var B=X[S];if(Z.indexOf(B)==-1){Z.push(B);P.push(B);var e=u[B];if(e[3]>I){I=e[3];
V=B}}}}for(var S=0;S<Z.length;S++){z[Z[S]]=V;var F=u[V];n[Z[S]]=i[F[2]*$+F[1]]}}for(var y=0;y<h;y++)for(var a=0;
a<$;a++){var t=y*$+a,s=z[f[t]];if(s!=4294967295)i[t]=n[s]}}};k.SU.R1=function(i,$,h,d,K,f,l,u){var U=[d,K],y=i[K*$+d],a=0,v=[];
f[K*$+d]=1;while(U.length!=0){var c=U.pop(),p=U.pop(),t=c*$+p;l[t]=u;a++;if(c!=h-1)if(i[t+$]==y){if(f[t+$]==0){U.push(p,c+1);
f[t+$]=1}}else v.push(p,c+1);if(c!=0)if(i[t-$]==y){if(f[t-$]==0){U.push(p,c-1);f[t-$]=1}}else v.push(p,c-1);
if(p!=$-1)if(i[t+1]==y){if(f[t+1]==0){U.push(p+1,c);f[t+1]=1}}else v.push(p+1,c);if(p!=0)if(i[t-1]==y){if(f[t-1]==0){U.push(p-1,c);
f[t-1]=1}}else v.push(p-1,c)}return[a,v]};k.SU.a9S=function(i,$,h,d,K){var f=k.SU.IY(i.buffer,$,h).uU,l=Date.now(),u=[];
for(var t=0;t<f.length;t++){var U=f[t],y=1;for(var a=0;a<y;a++)u.push(U.sl)}var v=new Uint32Array(u),c=UPNG.quantize.getKDtree(new Uint8Array(v.buffer),d),p=[$,1,-$,-1,$+1,-$+1,-$-1,$-1,$+$,2,-$-$,-2,$+$-1,$+$+1,$+2,-$+2,-$-$+1,-$-$-1,-$-2,$-2,$+$+2,-$-$+2-$-$-2,$+$-2],C=new Uint8Array($*h),T=i;
for(var E=0;E<h;E++)for(var r=0;r<$;r++){var t=E*$+r<<2,Y=T[t]*(1/255),S=T[t+1]*(1/255),m=T[t+2]*(1/255),Q=T[t+3]*(1/255),z=k.SU.RP(c,Y,S,m,Q,K);
if(z==null){var n=[],Z=0;while(Z<20){var P=E*$+r+p[Z]<<2,V=T[P]*(1/255),I=T[P+1]*(1/255),q=T[P+2]*(1/255),X=T[P+3]*(1/255),B=k.SU.RP(c,V,I,q,X,.005);
if(B!=null){if(n.indexOf(B)==-1){n.push(B);B.Vr=1}else B.Vr++}Z++}n.sort(function(Q,m){return m.Vr-Q.Vr});
while(n.length!=0&&n[n.length-1].Vr<3)n.pop();if(n.length==0)z=k.SU.RP(c,Y,S,m,Q,100);else if(n.length==1)z=n[0];
else if(n.length==2){var e=n[0],F=n[1],s=e.est.q,J=F.est.q,W=J[0]-s[0],L=J[1]-s[1],A=J[2]-s[2],j=J[3]-s[3],G=Y-s[0],O=S-s[1],o=m-s[2],N=Q-s[3],w=W*W+L*L+A*A+j*j,kv=G*G+O*O+o*o+N*N,g=(G*W+O*L+o*A+N*j)/w,b=kv-g*g*w;
if(b<.5)z=g<.5?e:F;else{z=k.SU.RP(c,Y,S,m,Q,100)}}else{var e=n[0],F=n[1],jU=n[2],s=e.est.q,J=F.est.q,_=jU.est.q,cY=s[0]-_[0],j3=s[1]-_[1],aS=s[2]-_[2],bL=s[3]-_[3],cQ=J[0]-_[0],cK=J[1]-_[1],el=J[2]-_[2],gF=J[3]-_[3],fj=_[0]-Y,i3=_[1]-S,eT=_[2]-m,eV=_[3]-Q,hr=cY*cY+j3*j3+aS*aS+bL*bL,it=cY*cQ+j3*cK+aS*el+bL*gF,f8=fj*cY+i3*j3+eT*aS+eV*bL,i$=cY*cQ+j3*cK+aS*el+bL*gF,gS=cQ*cQ+cK*cK+el*el+gF*gF,hT=fj*cQ+i3*cK+eT*el+eV*gF,gL=1/(it*i$-hr*gS),g=(gS*f8-hT*it)*gL,iu=(hT*hr-f8*i$)*gL,dB=1-g-iu,jt=Math.max(g,iu,dB);
if(jt==g)z=e;else if(jt==iu)z=F;else z=jU}}C[t>>2]=z.ind}return{NX:C,uU:c[1]}};k.SU.IY=function(i,$,h){var d=[],K={},f=$-1,l=h-1,u=0,U=new Uint32Array(i),y=[-$-1,-$,-$+1,-1,1,$-1,$,$+1,$+$,2,-$-$,-2,$+$-1,$+$+1,$+2,-$+2,-$-$+1,-$-$-1,-$-2,$-2,$+$+2,-$-$+2-$-$-2,$+$-2];
for(var a=1;a<l;a++)for(var v=1;v<f;v++){var c=a*$+v,p=U[c],C=!0;for(var t=0;t<8;t++)C=C&&U[c+y[t]]==p;
if(C){u++;var T=K[p];if(T==null){K[p]=d.length;d.push({sl:p,fT:1})}else d[T].fT++}}return{uU:d,amd:u}};
k.SU.RP=function(i,$,h,d,K,f){var l=UPNG.quantize.getNearest(i[0],$,h,d,K);return k.SU.amZ(l,$,h,d,K)<f?l:null};
k.SU.amZ=function(i,$,h,d,K){var f=i.est.q,l=$-f[0],u=h-f[1],U=d-f[2],y=K-f[3];return l*l+u*u+U*U+y*y};
k.SU.TW=function(){function i(r,Y,S,m,Q,z){var n=[],Z=z,P=z,V=z>>>2;for(var I=0;I<Q;I++)for(var q=0;
q<m;q++){var X=~~((q+.5)*Z),B=~~((I+.5)*P),e=1e9,F=Math.max(0,X-V),s=Math.min(Y,X+V+1),J=Math.max(0,B-V),W=Math.min(S,B+V+1);
for(var L=J;L<W;L++)for(var A=F;A<s;A++){var j=$(r,Y,A,L);if(j<e){X=A;B=L;e=j}}var G=(B*Y+X)*4;n.push(X,B)}return n}function $(r,Y,S,m){var Q=(m*Y+S)*4,z=Y*4,n=h(r,Q-4,Q)+h(r,Q,Q+4),Z=h(r,Q-z,Q)+h(r,Q,Q+z);
return n+Z}function h(r,Y,S){var m=r[Y]-r[S],Q=r[Y+1]-r[S+1],z=r[Y+2]-r[S+2];return m*m+Q*Q+z*z}var d=0,K=0;
function f(r,Y,S,m){K++;if(m<d)d=m;r[m].push(Y,S)}function l(r){K--;while(r[d].length==0)d++}function u(r,Y,S,m,Q){d=0;
K=0;var z=Y*S,n=Math.round(Math.min(Y,S)/(m?m:50)),F=0,s=16;if(n==0)n=1;var Z=(Q?Q:30)/n,P=Math.floor(Y/n),V=Math.floor(S/n),I=new Uint16Array(z);
for(var t=0;t<z;t++)I[t]=65535;var q=i(r,Y,S,P,V,n),X=q.length>>>1;if(X>65535)throw X;var B=[];for(var t=0;
t<1e3+S;t++)B.push([]);var e=[0,1,0,-1,-1,0,1,0],J=Math.min(V,5),W=new Uint32Array(X*6);for(var L=0;
L<V;L+=J){var A=Math.min(L+J+1,V);for(var j=L;j<A;j++)for(var G=0;G<P;G++){var t=j*P+G,O=t*2,o=q[O+1]<<16|q[O];
f(B,o,t,q[O+1]>>>s)}var N=Math.min(S,A*n);if(L+J>=V)N=S;while(K!=0){l(B);var w=B[d].pop(),kv=B[d].pop(),g=kv>>>16,b=kv&65535,t=g*Y+b;
if(I[t]==65535){var jU=w*6,_=t<<2;I[t]=w;W[jU]+=r[_];W[jU+1]+=r[_+1];W[jU+2]+=r[_+2];W[jU+3]+=b;W[jU+4]+=g;
W[jU+5]++;var cY=g>>>s;if(g!=N-1&&I[t+Y]==65535)f(B,g+1<<16|b,w,U(r,Y,Z,b,g+1,W,jU)+cY);if(g!=0&&I[t-Y]==65535)f(B,g-1<<16|b,w,U(r,Y,Z,b,g-1,W,jU)+cY);
if(b!=0&&I[t-1]==65535)f(B,g<<16|b-1,w,U(r,Y,Z,b-1,g,W,jU)+cY);if(b!=Y-1&&I[t+1]==65535)f(B,g<<16|b+1,w,U(r,Y,Z,b+1,g,W,jU)+cY)}}if(N!=g){var j3=(L+J)*P;
W.fill(0,j3*6,(j3+P)*6);for(var g=(L+J-2)*n;g<N;g++)for(var b=0;b<Y;b++){var t=g*Y+b;if(I[t]>=j3){I[t]=65535}}}}return{NX:I,lg:X,ul:W}}k.SU.Lk=function(r,Y,S,m,Q){var z=r.lg,n=Y*S,Z=r.ul,P=r.NX,V=p(m,P,z,n),I=new UnionFind(z),s=0;
for(var q=1;q<S;q++)for(var X=1;X<Y;X++){var t=q*Y+X,B=P[t],e=0;if((e=P[t-1])!=B&&V[e]==V[B]&&y(Z,0,B*6,e*6)<Q)I.link(B,e);
if((e=P[t-Y])!=B&&V[e]==V[B]&&y(Z,0,B*6,e*6)<Q)I.link(B,e)}var F=new Uint16Array(z);F.fill(65535);var J=new Uint16Array(z);
for(var t=0;t<z;t++){var W=I.find(t);if(F[W]==65535)F[W]=s++;J[t]=F[W]}var L=new Uint16Array(n);for(var t=0;
t<n;t++)L[t]=J[P[t]];return{NX:L,lg:s}};k.SU.afZ=function(r,Y,S,m){var Q=k.Q(S),z=Y.length,n=0;for(var t=0;
t<z&&n!=3;t++){var Z=m[t];if(Z==0||Z==255){var P=Y[t],V=2-(Z>>>7);Q[P]=n=Q[P]|V}}return n!=3};function U(r,Y,S,m,Q,z,n){var Z=(Q*Y+m)*4,P=z[n+5],V=1/P,I=r[Z]*P-z[n],q=r[Z+1]*P-z[n+1],X=r[Z+2]*P-z[n+2],B=m*P-z[n+3],e=Q*P-z[n+4],F=Math.sqrt(I*I+q*q+X*X),s=Math.sqrt(B*B+e*e);
return~~((F+S*s)*V+.5)}function y(r,Y,S,m){var Q=1/r[S+5],z=1/r[m+5],n=r[S]*Q-r[m]*z,Z=r[S+1]*Q-r[m+1]*z,P=r[S+2]*Q-r[m+2]*z,V=r[S+3]*Q-r[m+3]*z,I=r[S+4]*Q-r[m+4]*z,q=Math.sqrt(n*n+Z*Z+P*P),X=Math.sqrt(V*V+I*I);
return~~(q+Y*X+.5)}function a(r,Y,S){var m=k.h9(r,new bN(0,0,Y,S)),Q=m.rect.e,z=m.rect.n,n=u(m.Yz,Q,z),Z=n.NX,P=Date.now(),V=new Uint16Array(Y*S);
V.fill(65535);for(var I=0;I<z;I++){for(var q=0;q<Q;q++){var X=I*Q+q,t=(I<<1)*Y+(q<<1),B=Z[X];if(Z[X-Q]!=B||Z[X-1]!=B||Z[X+1]!=B||Z[X+Q]!=B)B=65535;
V[t]=B;V[t+1]=B;V[t+Y]=B;V[t+Y+1]=B}}n.NX=V;return n}function v(r,Y){var t=0,S=r.length;while(t!=S&&r[t]!=Y)t+=2;
return t==S?-1:t}function c(r,t){if(t==r.length-2){r.pop();r.pop()}else{r[t+1]=r.pop();r[t]=r.pop()}}k.SU.anp=function(r,Y,S,m,Q){var z=new Uint32Array(Q*4400),$=[];
for(var t=0;t<Q;t++)$.push([]);for(var n=0;n<S;n++)for(var Z=0;Z<Y;Z++){var t=n*Y+Z,P=t<<2,V=m[t],I=0,q=r[P]>>>4,X=r[P+1]>>>4,B=r[P+2]>>>4;
z[V*4400+(q<<8|X<<4|B)]++;z[V*4400+4096]++;z[V*4400+4100+(q<<4|X)]++;z[V*4400+4360+q]++;if(Z!=0&&(I=m[t-1])!=V&&v($[V],I)==-1){$[V].push(I,0);
$[I].push(V,0)}if(n!=0&&(I=m[t-Y])!=V&&v($[V],I)==-1){$[V].push(I,0);$[I].push(V,0)}}for(var t=0;t<Q;
t++){var B=$[t];for(var e=0;e<B.length;e+=2)B[e+1]=E(z,t,B[e])}return[z,$]};function p(r,Y,S,m){var Q=k.Q(S);
for(var t=0;t<m;t++){var z=r[t];if(z==0||z==255)Q[Y[t]]=2-(z>>>7)}return Q}k.SU.aeb=function(r,Y,S,m,Q,z,n){var Z=Y*S,P=n[0],$=n[1],V=new UnionFind(m),I=p(Q,r,m,Z),q=-1,X=!0,B=0;
for(var t=0;t<m;t++)if(I[t]==1){if(q==-1)q=t;else V.link(t,q)}if(q==-1){for(var t=0;t<Z;t++)z[t]=Q[t]==255?255:0;
return}while(X){while(X){X=!1;for(var t=0;t<m;t++){if(I[t]==0){var e=C($[t]);if(I[e]==1){I[t]=I[e];X=!0;
V.link(t,e)}}}}X=!0;B=0;while(X){X=!1;for(var t=0;t<m;t++){if(I[t]==0){var e=C($[t]);if(I[e]==0){var F=t*4400,s=e*4400;
for(var J=0;J<4400;J+=2){P[F+J]+=P[s+J];P[F+J+1]+=P[s+J+1]}T($,P,t,e);B++;I[e]=3;X=!0;V.link(t,e)}}}}X=B!=0}var W=V.find(q);
for(var t=0;t<m;t++)I[t]=V.find(t)==W?255:0;for(var t=0;t<Z;t++){z[t]=I[r[t]]}for(var t=0;t<Z;t++){var e=Q[t];
if(e==0||e==255)z[t]=e}};function C(r){var Y=0,S=0,m=r.length;for(var Q=0;Q<m;Q+=2){var z=r[Q+1];if(z>S){S=z;
Y=Q}}return r[Y]}function T($,r,Y,S){var m=$[Y],Q=$[S];c(m,v(m,S));c(Q,v(Q,Y));for(var t=0;t<Q.length;
t+=2){var z=Q[t],n=$[z];c(n,v(n,S));if(v(n,Y)==-1){n.push(Y,0);m.push(z,0)}}for(var t=0;t<m.length;t+=2){var z=m[t],n=$[z],Z=E(r,Y,z);
m[t+1]=Z;n[v(n,Y)+1]=Z}}function E(r,Y,S){var m=0,Q=4096,z=Y*4400,n=S*4400;for(var Z=0;Z<16;Z++){if(r[z+4360+Z]==0||r[n+4360+Z]==0)continue;
for(var P=0;P<16;P++){var V=Z<<4|P;if(r[z+4100+V]==0||r[n+4100+V]==0)continue;var I=z+(V<<4),q=n+(V<<4);
for(var t=0;t<16;t++)m+=Math.sqrt(r[I+t]*r[q+t])}}var X=m/Math.sqrt(r[z+Q]*r[n+Q]);return~~(999.99999*X)}return u}();
k.q1={};k.q1.acL=function(){var i=11,$=7,h=i>>>1,b4=$>>>1,d=2,K=2e3/d,f=[],u=null,U="";function l(a,v,c){var p=(a[v+0]-a[c+0])*(1/255),C=(a[v+1]-a[c+1])*(1/255),T=(a[v+2]-a[c+2])*(1/255),E=(a[v+3]-a[c+3])*(1/255),r=p*p*.125+C*C*.25+T*T*.5+E*E;
return f[~~(r*K)]}function y(a,v,c,p,C,T){var E=Date.now(),r=k.Q(v*c);k.xw(a,r);var Y=UZIP.adler(r,0,v*c);
if(Y!=U){var S=k.Wq(r,v,c);u=k.Q(v*c*4);U=Y;var m=[1,1/9,1/25,1/49,1/81];for(var Q=0;Q<c;Q++)for(var z=0;
z<v;z++)for(var t=0;t<4;t++){var n=Math.max(1,z-t),Z=Math.min(v-1,z+t),P=Math.max(1,Q-t),V=Math.min(c-1,Q+t),I=k.gQ(S,v,n,Z,P,V);
if(isNaN(I))throw z+","+Q+","+t+","+I;u[(Q*v+z)*4+t]=I*m[t]}}if(i8.ph){var q=i8.W1(0,v,c);q.set(a);var X=i8.W1(1,v,c);
X.set(u);var B=i8.W1(2,v,c);i8.dY(B);i8.filter.YR({type:i8.filter.a5K,aQ:new Float32Array([1/v,1/c]),a4v:X.Wd,aaX:C,abp:T},q.Wd);
B.get(p)}else{for(var t=0;t<2e3;t++)f[t]=Math.exp(-(t/2e3)*d*(100+(1-C)*(1-C)*1e4));var e=b4+2;for(var Q=e;
Q<c-e;Q++)for(var z=e;z<v-e;z++){var F=0,s=0,J=0,W=0;for(var L=0;L<i;L++)for(var A=0;A<i;A++){var j=z+A-h,G=Q+L-h;
if(j==z&&G==Q||j<e||G<e||j>=v-e||G>=c-e)continue;var O=l(u,(Q*v+z)*4,(G*v+j)*4),o=G*v+j<<2;F+=O*a[o+0];
s+=O*a[o+1];J+=O*a[o+2];W+=O}if(W==0){continue}var N=1/W,w=(Q*v+z)*4;p[w+0]=~~((1-T)*N*F+T*p[w+0]);p[w+1]=~~((1-T)*N*s+T*p[w+1]);
p[w+2]=~~((1-T)*N*J+T*p[w+2])}}}return y}();var ch=function(){function i(){this.O=0;this.Kj=0;this.yY={};
this.dW=[];this.wK=1e5;this.Pw=1e5;this.Gx=-1;this.hq=-1;this.color=0}function $(b4){this.G8=b4;this.I_=new Array(b4);
this.sl=new Array(b4*6);this.asn=0;this.RT=new Array(b4*2);this.alpha=new Array(b4);this.FN=new Array(b4);
this.ts=new Array(b4)}function h(K,f,l,u){function U(E,r,K,f){return K[f*r+E]}function y(t){var n=K.length;
while(t<n&&K[t]==0)t++;return t<n?t:-1}function a(E,r,n){for(var t=2;t<5;t++){var Z=0;for(var P=-t+1;
P<=t-1;P++){Z+=U(E+P,r+t-1,K,f)==n?1:-1;Z+=U(E+t-1,r+P-1,K,f)==n?1:-1;Z+=U(E+P-1,r-t,K,f)==n?1:-1;Z+=U(E-t,r+P,K,f)==n?1:-1}if(Z>0)return 1;
else if(Z<0)return 0}return 0}function v(n,C){var T=new i,E=n,r=C,Z=0,P=1,V;T.color=K[C*f+n];T.sign=U(n,C,K,f)==T.color?"+":"-";
while(1){T.dW.push(E,r);if(E>T.Gx)T.Gx=E;if(E<T.wK)T.wK=E;if(r>T.hq)T.hq=r;if(r<T.Pw)T.Pw=r;T.Kj++;E+=Z;
r+=P;T.O-=E*P;if(E==n&&r==C)break;var I=U(E+(Z+P-1>>1),r+(P-Z-1>>1),K,f)==T.color,q=U(E+(Z-P-1>>1),r+(P+Z-1>>1),K,f)==T.color;
if(q&&!I){if(u.Bn=="right"||u.Bn=="black"&&T.sign=="+"||u.Bn=="white"&&T.sign=="-"||u.Bn=="majority"&&a(E,r,T.color)||u.Bn=="minority"&&!a(E,r,T.color)){V=Z;
Z=-P;P=V}else{V=Z;Z=P;P=-V}}else if(q){V=Z;Z=-P;P=V}else if(!I){V=Z;Z=P;P=-V}}return T}var c=0,p=[];
while(!0){var c=y(c);if(c==-1)break;var C=Math.floor(c/f),T=v(c-C*f,C);for(var t=0;t<T.dW.length-2;t+=2){var E=T.dW[t],r=T.dW[t+1],Y=r*f+E;
if(E==T.dW[t+2]&&r+1==T.dW[t+3]&&K[Y]!=0)ch.fill(Y,K,f,0)}if(T.O>u.acN)p.push(T)}for(var t=0;t<p.length;
t++)p[t].parent=-1;var S=Date.now();for(var t=1;t<p.length;t++){var m=p[t];for(var Q=t-1;Q>=0;Q--){var z=p[Q];
if(m.wK<z.wK||m.Gx>z.Gx||m.Pw<z.Pw||m.hq>z.hq)continue;if(!ch.yL(z.dW,m.dW[0]+.5,m.dW[1]+.5))continue;
m.parent=Q;break}}return p}function d(K,f){function l(Z,P,V,I,q){this.x=Z;this.y=P;this.Xi=V;this.Ve=I;
this.Pv=q}function u(Z,b4){return(b4+Z)%b4}function U(Z,P,V,I){return Z*I-V*P}function y(Z,P,V,I){return Z*V+P*I}function a(Z,P,V){if(Z<=V)return Z<=P&&P<V;
else return Z<=P||P<V}function v(Z,P,V){var I=0;I+=P*Z[0]*P;I+=P*Z[1]*V;I+=P*Z[2];I+=V*Z[3]*P;I+=V*Z[4]*V;
I+=V*Z[5];I+=Z[6]*P;I+=Z[7]*V;I+=Z[8];return I}function c(Z,P,V){return P+Z*(V-P)}function p(Z,P,V,I){var q=Math.sign(V-Z),X=-Math.sign(I-P);
return q*(V-Z)-X*(I-P)}function C(Z,P){return Math.sqrt(Z*Z+P*P)}function T(Z,P,V,I,q){var X=1-Z;return X*X*X*P+3*(X*X*Z)*V+3*(Z*Z*X)*I+Z*Z*Z*q}function E(Z,P,V,I,q,X,B,e){var F=U(Z,P,B,e),s=U(V,I,B,e),J=U(q,X,B,e),W=F-2*s+J,L=-2*F+2*s,A=F,j=L*L-4*W*A;
if(W==0||j<0)return-1;var G=Math.sqrt(j),O=(-L+G)/(2*W),o=(-L-G)/(2*W);if(O>=0&&O<=1)return O;else if(o>=0&&o<=1)return o;
else return-1}function r(n){var t,Z,P;n.Kk=n.dW[0];n.asp=n.dW[1];n._M=[];var V=n._M;V.push(new l(0,0,0,0,0));
for(t=0;t<n.Kj;t++){Z=n.dW[t<<1]-n.Kk;P=n.dW[(t<<1)+1]-n.asp;V.push(new l(V[t].x+Z,V[t].y+P,V[t].Xi+Z*P,V[t].Ve+Z*Z,V[t].Pv+P*P))}}function Y(n){var b4=n.Kj,Z=n.dW,P,V=new Array(b4),I=new Array(b4),q=new Array(4),X,B,e,F,s,J,W,L,A,j,G,t,O,o,N,w,kv,g,b=0;
n.xf=new Array(b4);for(t=b4-1;t>=0;t--){if(Z[t<<1]!=Z[b<<1]&&Z[(t<<1)+1]!=Z[(b<<1)+1])b=t+1;I[t]=b}for(t=b4-1;
t>=0;t--){var jU=u(t+1,b4)<<1;q[0]=q[1]=q[2]=q[3]=0;P=(3+3*(Z[jU]-Z[t<<1])+(Z[jU+1]-Z[(t<<1)+1]))/2;
q[P]++;X=0;B=0;e=0;F=0;b=I[t];o=t;while(1){G=0;P=(3+3*Math.sign(Z[b*2]-Z[o*2])+Math.sign(Z[b*2+1]-Z[o*2+1]))/2;
q[P]++;if(q[0]&&q[1]&&q[2]&&q[3]){V[t]=o;G=1;break}A=Z[b*2]-Z[t*2];j=Z[b*2+1]-Z[t*2+1];if(U(X,B,A,j)<0||U(e,F,A,j)>0){break}if(Math.abs(A)<=1&&Math.abs(j)<=1){}else{s=A+(j>=0&&(j>0||A<0)?1:-1);
J=j+(A<=0&&(A<0||j<0)?1:-1);if(U(X,B,s,J)>=0){X=s;B=J}s=A+(j<=0&&(j<0||A<0)?1:-1);J=j+(A>=0&&(A>0||j<0)?1:-1);
if(U(e,F,s,J)<=0){e=s;F=J}}o=b;b=I[o];if(!a(b,t,o)){break}}if(G==0){W=Math.sign(Z[b*2]-Z[o*2]);L=Math.sign(Z[b*2+1]-Z[o*2+1]);
A=Z[o*2]-Z[t*2];j=Z[o*2+1]-Z[t*2+1];N=U(X,B,A,j);w=U(X,B,W,L);kv=U(e,F,A,j);g=U(e,F,W,L);O=1e7;if(w<0){O=Math.floor(N/-w)}if(g>0){O=Math.min(O,Math.floor(-kv/g))}V[t]=u(o+O,b4)}}O=V[b4-1];
n.xf[b4-1]=O;for(t=b4-2;t>=0;t--){if(a(t+1,V[t],O)){O=V[t]}n.xf[t]=O}for(t=b4-1;a(u(t+1,b4),O,n.xf[t]);
t--){n.xf[t]=O}}function S(n){function Z(n,t,P){var b4=n.Kj,A=n.dW,j=n._M,G,O,o,N,w,I,kv,g,L,b,jU,_,cY,j3,aS=0;
if(P>=b4){P-=b4;aS=1}if(aS==0){G=j[P+1].x-j[t].x;O=j[P+1].y-j[t].y;N=j[P+1].Ve-j[t].Ve;o=j[P+1].Xi-j[t].Xi;
w=j[P+1].Pv-j[t].Pv;I=P+1-t}else{G=j[P+1].x-j[t].x+j[b4].x;O=j[P+1].y-j[t].y+j[b4].y;N=j[P+1].Ve-j[t].Ve+j[b4].Ve;
o=j[P+1].Xi-j[t].Xi+j[b4].Xi;w=j[P+1].Pv-j[t].Pv+j[b4].Pv;I=P+1-t+b4}jU=(A[t<<1]+A[P<<1])/2-A[0];_=(A[(t<<1)+1]+A[(P<<1)+1])/2-A[1];
j3=A[P<<1]-A[t<<1];cY=-(A[(P<<1)+1]-A[(t<<1)+1]);kv=(N-2*G*jU)/I+jU*jU;g=(o-G*_-O*jU)/I+jU*_;L=(w-2*O*_)/I+_*_;
b=cY*cY*kv+2*cY*j3*g+j3*j3*L;return Math.sqrt(b)}var t,P,V,I,b4=n.Kj,q=new Array(b4+1),X=new Array(b4+1),B=new Array(b4),e=new Array(b4+1),F=new Array(b4+1),s=new Array(b4+1),J,W,L;
for(t=0;t<b4;t++){L=u(n.xf[u(t-1,b4)]-1,b4);if(L==t){L=u(t+1,b4)}if(L<t){B[t]=b4}else{B[t]=L}}P=1;for(t=0;
t<b4;t++){while(P<=B[t]){e[P]=t;P++}}t=0;for(P=0;t<b4;P++){F[P]=t;t=B[t]}F[P]=b4;V=P;t=b4;for(P=V;P>0;
P--){s[P]=t;t=e[t]}s[0]=0;q[0]=0;for(P=1;P<=V;P++){for(t=s[P];t<=F[P];t++){W=-1;for(I=F[P-1];I>=e[t];
I--){J=Z(n,I,t)+q[I];if(W<0||J<W){X[t]=I;W=J}}q[t]=W}}n.ay3=V;n.af_=new Array(V);for(t=b4,P=V-1;t>0;
P--){t=X[t];n.af_[P]=t}}function m(n){function Z(n,t,J,B,e,bL){var b4=n.Kj,cQ=n._M,cK=0,L;while(J>=b4){J-=b4;
cK+=1}while(t>=b4){t-=b4;cK-=1}while(J<0){J+=b4;cK-=1}while(t<0){t+=b4;cK+=1}var el=cQ[J+1].x-cQ[t].x+cK*cQ[b4].x,gF=cQ[J+1].y-cQ[t].y+cK*cQ[b4].y,fj=cQ[J+1].Ve-cQ[t].Ve+cK*cQ[b4].Ve,i3=cQ[J+1].Xi-cQ[t].Xi+cK*cQ[b4].Xi,eT=cQ[J+1].Pv-cQ[t].Pv+cK*cQ[b4].Pv,W=J+1-t+cK*b4;
B[bL]=el/W;B[bL+1]=gF/W;var eV=(fj-el*el/W)/W,hr=(i3-el*gF/W)/W,it=(eT-gF*gF/W)/W,f8=(eV+it+Math.sqrt((eV-it)*(eV-it)+4*hr*hr))/2;
eV-=f8;it-=f8;if(Math.abs(eV)>=Math.abs(it)){L=Math.sqrt(eV*eV+hr*hr);if(L!=0){e[bL]=-hr/L;e[bL+1]=eV/L}}else{L=Math.sqrt(it*it+hr*hr);
if(L!=0){e[bL]=-it/L;e[bL+1]=hr/L}}if(L==0){e[bL]=e[bL+1]=0}}var P=n.ay3,V=n.af_,b4=n.Kj,I=n.dW,q=n.Kk,X=n.asp,B=new Array(P*2),e=new Array(P*2),F=new Array(P),s=new Array(3),t,J,W,L,O,o,N,w,kv,g,b;
n.yY=new $(P);for(t=0;t<P;t++){J=V[u(t+1,P)];J=u(J-V[t],b4)+V[t];B[t<<1]=0;B[(t<<1)+1]=0;e[t<<1]=0;e[(t<<1)+1]=0;
Z(n,V[t],J,B,e,t<<1)}for(t=0;t<P;t++){F[t]=[0,0,0,0,0,0,0,0,0];var A=e[t<<1]*e[t<<1]+e[(t<<1)+1]*e[(t<<1)+1],j=1/A;
if(A!=0){s[0]=e[(t<<1)+1];s[1]=-e[t<<1];s[2]=-s[1]*B[(t<<1)+1]-s[0]*B[t<<1];for(L=0;L<3;L++){F[t][L*3+0]=s[L]*s[0]*j;
F[t][L*3+1]=s[L]*s[1]*j;F[t][L*3+2]=s[L]*s[2]*j}}}var G=[0,0,0,0,0,0,0,0,0];for(t=0;t<P;t++){G[0]=G[1]=G[2]=G[3]=G[4]=G[5]=G[6]=G[7]=G[8]=G[9]=0;
var jU=I[V[t]<<1]-q,_=I[(V[t]<<1)+1]-X,cY=0,j3=0;J=u(t-1,P);for(L=0;L<9;L+=3){G[L+0]=F[J][L+0]+F[t][L+0];
G[L+1]=F[J][L+1]+F[t][L+1];G[L+2]=F[J][L+2]+F[t][L+2]}while(1){var aS=G[0]*G[4]-G[1]*G[3];if(aS!=0){cY=(-G[2]*G[4]+G[5]*G[0])/aS;
j3=(G[2]*G[3]-G[5]*G[0])/aS;break}if(G[0]>G[4]){s[0]=-G[1];s[1]=G[0]}else if(G[4]){s[0]=-G[4];s[1]=G[3]}else{s[0]=1;
s[1]=0}var A=s[0]*s[0]+s[1]*s[1],j=1/A;s[2]=-s[1]*_-s[0]*jU;for(L=0;L<3;L++){G[L*3+0]+=s[L]*s[0]*j;G[L*3+1]+=s[L]*s[1]*j;
G[L*3+2]+=s[L]*s[2]*j}}O=Math.abs(cY-jU);o=Math.abs(j3-_);if(O<=.5&&o<=.5){n.yY.RT[t<<1]=cY+q;n.yY.RT[(t<<1)+1]=j3+X;
continue}N=v(G,jU,_);kv=jU;g=_;if(G[0]!=0){for(b=0;b<2;b++){j3=_-.5+b;cY=-(G[1]*j3+G[2])/G[0];O=Math.abs(cY-jU);
w=v(G,cY,j3);if(O<=.5&&w<N){N=w;kv=cY;g=j3}}}if(G[4]!=0){for(b=0;b<2;b++){cY=jU-.5+b;j3=-(G[3]*cY+G[5])/G[4];
o=Math.abs(j3-_);w=v(G,cY,j3);if(o<=.5&&w<N){N=w;kv=cY;g=j3}}}for(L=0;L<2;L++){for(W=0;W<2;W++){cY=jU-.5+L;
j3=_-.5+W;w=v(G,cY,j3);if(w<N){N=w;kv=cY;g=j3}}}n.yY.RT[t<<1]=kv+q;n.yY.RT[(t<<1)+1]=g+X}}function Q(n){var Z=n.yY.G8,P=n.yY,t,V,I,q,X,B,e,F,s;
for(t=0;t<Z;t++){V=u(t+1,Z);I=u(t+2,Z);var J=P.RT[t<<1],W=P.RT[(t<<1)+1],L=P.RT[I<<1],A=P.RT[(I<<1)+1],j=P.RT[V<<1],G=P.RT[(V<<1)+1],O=c(.5,L,j),o=c(.5,A,G);
X=p(J,W,L,A);if(X!=0){q=U(j-J,G-W,L-J,A-W)/X;q=Math.abs(q);B=q>1?1-1/q:0;B=B*(1/.75)}else{B=4/3}P.FN[V]=B;
var N=3*V<<1;if(B>=f.ahd){P.I_[V]=0;P.sl[N+0]=P.sl[N+1]=0;P.sl[N+2]=j;P.sl[N+3]=G;P.sl[N+4]=O;P.sl[N+5]=o}else{if(B<.55){B=.55}else if(B>1){B=1}var w=.5+.5*B;
P.I_[V]=1;P.sl[N]=c(w,J,j);P.sl[N+1]=c(w,W,G);P.sl[N+2]=c(w,L,j);P.sl[N+3]=c(w,A,G);P.sl[N+4]=O;P.sl[N+5]=o}P.alpha[V]=B;
P.ts[V]=.5}P.aqE=1}function z(n){function Z(){this.MN=0;this.a6=0;this.To=0;this.BX=0;this.Gn=0;this.Zw=0;
this.qc=0;this.alpha=0}function P(n,t,J,gS,hT,kv,g){var I=n.yY.G8,gL=n.yY.sl,iu=n.yY.RT;if(t==J)return 1;
var dB=t,j=u(t+1,I),jt=u(dB+1,I),i3=iu[t<<1],eT=iu[(t<<1)+1],ka=iu[j<<1],eQ=iu[(j<<1)+1],dv=kv[jt];if(dv==0)return 1;
var cT=C(i3-ka,eT-eQ);for(dB=jt;dB!=J;dB=jt){var jt=u(dB+1,I),eY=u(dB+2,I),gl=iu[jt<<1],dY=iu[(jt<<1)+1],gE=iu[eY<<1],cs=iu[(eY<<1)+1];
if(kv[jt]!=dv)return 1;if(Math.sign(U(ka-i3,eQ-eT,gE-gl,cs-dY))!=dv)return 1;if(y(ka-i3,eQ-eT,gE-gl,cs-dY)<cT*C(gl-gE,dY-cs)*-.999847695156)return 1}var au=u(t,I)*3+2<<1,b8=u(t+1,I)<<1,jw=u(J,I)<<1,ek=u(J,I)*3+2<<1,bL=gL[au],cQ=gL[au+1],cj=iu[b8],jJ=iu[b8+1],hp=iu[jw],dW=iu[jw+1],h4=gL[ek],er=gL[ek+1],b=iu[0],jU=iu[1];
au=J*3+2<<1;var hG=gL[au],i_=gL[au+1],G=g[J]-g[t];G-=U(hG-b,i_-jU,hG-b,i_-jU)/2;if(t>=J){G+=g[I]}var aK=cj-bL,bG=jJ-cQ,dx=hp-bL,aH=dW-cQ,cU=h4-bL,kr=er-cQ,cL=U(aK,bG,dx,aH),aj=U(aK,bG,cU,kr),js=U(dx,aH,cU,kr),ey=cL+js-aj;
if(aj==cL)return 1;var w=js/(js-ey),N=aj/(aj-cL),dr=aj*w/2;if(dr==0)return 1;var df=G/dr,O=2-Math.sqrt(4-df/.3);
gS.a6=c(w*O,bL,cj);gS.To=c(w*O,cQ,jJ);gS.BX=c(N*O,h4,hp);gS.Gn=c(N*O,er,dW);gS.alpha=O;gS.Zw=w;gS.qc=N;
cj=gS.a6;jJ=gS.To;hp=gS.BX;dW=gS.Gn;gS.MN=0;for(dB=u(t+1,I);dB!=J;dB=jt){jt=u(dB+1,I);var af=iu[dB<<1],cB=iu[(dB<<1)+1],gl=iu[jt<<1],dY=iu[(jt<<1)+1];
w=E(cj-bL,jJ-cQ,hp-cj,dW-jJ,h4-hp,er-dW,gl-af,dY-cB);if(w<-.5)return 1;var iq=T(w,bL,cj,hp,h4),cV=T(w,cQ,jJ,dW,er),cT=C(gl-af,dY-cB);
if(cT==0)return 1;var gf=U(gl-af,dY-cB,iq-af,cV-cB)/cT;if(Math.abs(gf)>hT)return 1;if(y(gl-af,dY-cB,iq-af,cV-cB)<0||y(af-gl,cB-dY,iq-gl,cV-dY)<0){return 1}gS.MN+=gf*gf}for(dB=t;
dB!=J;dB=jt){jt=u(dB+1,I);var au=dB*3+2<<1,b8=jt*3+2<<1,ge=gL[au],da=gL[au+1],aO=gL[b8],eb=gL[b8+1];
w=E(cj-bL,jJ-cQ,hp-cj,dW-jJ,h4-hp,er-dW,aO-ge,eb-da);if(w<-.5)return 1;var iq=T(w,bL,cj,hp,h4),cV=T(w,cQ,jJ,dW,er),cT=C(aO-ge,eb-da);
if(cT==0)return 1;var gf=U(aO-ge,eb-da,iq-ge,cV-da)/cT,ag=U(aO-ge,eb-da,iu[jt<<1]-ge,iu[(jt<<1)+1]-da)/cT;
ag*=.75*n.yY.alpha[jt];if(ag<0){gf=-gf;ag=-ag}if(gf<ag-hT)return 1;if(gf<ag){gS.MN+=(gf-ag)*(gf-ag)}}return 0}var V=n.yY,I=V.G8,q=V.RT,X=new Array(I+1),B=new Array(I+1),e=new Array(I+1),F=new Array(I+1),s,t,J,W,L=new Z,A,j,G,O,o,N,w,kv=new Array(I),g=new Array(I+1);
for(t=0;t<I;t++){if(V.I_[t]=="CURVE"){var b=q[u(t-1,I)<<1],jU=q[(u(t-1,I)<<1)+1],_=q[t<<1],cY=q[(t<<1)+1],j3=q[u(t+1,I)<<1],aS=q[(u(t+1,I)<<1)+1];
kv[t]=Math.sign(U(_-b,cY-jU,j3-_,aS-cY))}else{kv[t]=0}}G=0;g[0]=0;var bL=V.RT[0],cQ=V.RT[1];for(t=0;
t<I;t++){j=u(t+1,I);if(V.I_[j]=="CURVE"){O=V.alpha[j];var cK=t*3+2<<1,el=j*3+2<<1,gF=V.sl[cK],fj=V.sl[cK+1],i3=q[j<<1],eT=q[(j<<1)+1],eV=V.sl[el],hr=V.sl[el+1];
G+=.3*O*(4-O)*U(i3-gF,eT-fj,eV-gF,hr-fj)/2;G+=U(gF-bL,fj-cQ,eV-bL,hr-cQ)/2}g[t+1]=G}X[0]=-1;B[0]=0;e[0]=0;
for(J=1;J<=I;J++){X[J]=J-1;B[J]=B[J-1];e[J]=e[J-1]+1;for(t=J-2;t>=0;t--){W=P(n,t,u(J,I),L,f.anq,kv,g);
if(W){break}if(e[J]>e[t]+1||e[J]==e[t]+1&&B[J]>B[t]+L.MN){X[J]=t;B[J]=B[t]+L.MN;e[J]=e[t]+1;F[J]=L;L=new Z}}}s=e[I];
o=new $(s);N=new Array(s);w=new Array(s);J=I;for(t=s-1;t>=0;t--){var it=u(J,I),f8=t*3+0<<1,i$=it*3+0<<1;
if(X[J]==J-1){o.I_[t]=V.I_[it];o.sl[f8]=V.sl[i$];o.sl[f8+1]=V.sl[i$+1];o.sl[f8+2]=V.sl[i$+2];o.sl[f8+3]=V.sl[i$+3];
o.sl[f8+4]=V.sl[i$+4];o.sl[f8+5]=V.sl[i$+5];o.RT[t<<1]=V.RT[it<<1];o.RT[(t<<1)+1]=V.RT[(it<<1)+1];o.alpha[t]=V.alpha[it];
o.FN[t]=V.FN[it];o.ts[t]=V.ts[it];N[t]=w[t]=1}else{o.I_[t]="CURVE";o.sl[f8]=F[J].a6;o.sl[f8+1]=F[J].To;
o.sl[f8+2]=F[J].BX;o.sl[f8+3]=F[J].Gn;o.sl[f8+4]=V.sl[i$+4];o.sl[f8+5]=V.sl[i$+5];o.RT[t<<1]=c(F[J].qc,V.sl[i$+4],q[it<<1]);
o.RT[(t<<1)+1]=c(F[J].qc,V.sl[i$+5],q[(it<<1)+1]);o.alpha[t]=F[J].alpha;o.FN[t]=F[J].alpha;N[t]=F[J].qc;
w[t]=F[J].Zw}J=X[J]}for(t=0;t<s;t++){j=u(t+1,s);o.ts[t]=N[t]/(N[t]+w[j])}o.aqE=1;n.yY=o}for(var t=0;
t<K.length;t++){var n=K[t];r(n);Y(n);S(n);m(n);Q(n);if(f.ajS)z(n)}}return{akO:h,afV:d}}();ch.kL=function(i,$,h,d){var K={Bn:"minority",acN:d,ajS:!0,ahd:1,anq:.2},f=ch.akO(i,$,h,K);
ch.afV(f,K);return f};ch.iW=function(i){var $=[];for(var t=0;t<i.length;t++){var h=i[t],d=h.yY,K=["M"],f=[d.sl[(d.G8-1)*6+4],d.sl[(d.G8-1)*6+5]];
for(var l=0;l<d.G8;l++){var u=l*6;if(d.I_[l]==1){K.push("C");for(var U=0;U<6;U++)f.push(d.sl[u+U])}else if(d.I_[l]==0){K.push("L");
for(var U=2;U<4;U++)f.push(d.sl[u+U])}}K.push("Z");$.push({parent:h.parent,color:h.color,path:{C:f,H:K}})}return $};
ch.yL=function(i,$,h){var b4=i.length>>1,d,K=i[2*b4-3]-h,f=i[2*b4-2]-$,l=i[2*b4-1]-h,u=l>K,U=0;for(var t=0;
t<b4;t++){d=f;K=l;f=i[2*t]-$;l=i[2*t+1]-h;if(K==l)continue;u=l>K}for(var t=0;t<b4;t++){d=f;K=l;f=i[2*t]-$;
l=i[2*t+1]-h;if(K<0&&l<0)continue;if(K>0&&l>0)continue;if(d<0&&f<0)continue;if(K==l&&Math.min(d,f)<=0)return!0;
if(K==l)continue;var y=d+(f-d)*-K/(l-K);if(y==0)return!0;if(y>0)U++;if(K==0&&u&&l>K)U--;if(K==0&&!u&&l<K)U--;
u=l>K}return(U&1)==1};ch.fill=function(i,$,h,d){var K=$[i],f=[i],l=0;while(l<f.length){var u=f[l];l++;
$[u]=d;if($[u-h]==K){f.push(u-h);$[u-h]=254}if($[u-1]==K){f.push(u-1);$[u-1]=254}if($[u+1]==K){f.push(u+1);
$[u+1]=254}if($[u+h]==K){f.push(u+h);$[u+h]=254}}};var jd=function(){function i(U){return Math.max(0,Math.min(1,U))}function $(U,y,a,v){var c=Math.sin(v),p=Math.cos(v),C=1/Math.sqrt(U*U+y*y+a*a);
U*=C;y*=C;a*=C;return[U*U*(1-p)+p,U*y*(1-p)-a*c,U*a*(1-p)+y*c,U*y*(1-p)+a*c,y*y*(1-p)+p,y*a*(1-p)-U*c,U*a*(1-p)-y*c,y*a*(1-p)+U*c,a*a*(1-p)+p]}function h(U,y){var a=y<0?-y:y;
if(U>1)U=.99;U=U*.99;var v=Math.pow(a/5,.16),c=Math.pow(2,a<1?a:1+(a-1)*.8);if(y<0)c=1/c;U=v*(1-Math.pow(1-U,c))+(1-v)*U;
return U}function d(U,y){var a=y/100;U=U*.99;U=a*(.5-.5*Math.cos(U*Math.PI))+(1-a)*U;return U}var K=k.xP.NL($(1,1,1,-.3)),f=k.xP.Sp(K);
function l(U,y,a,v,c,p,C){var T=U[a],E=U[a+1],r=U[a+2],Y=k.xP.yf(K,[T,E,r,1]);T=Y[0];E=Y[1];r=Y[2];T=h(T,v);
E=h(E,v);r=h(r,v);var Y=k.xP.yf(f,[T,E,r,1]);T=Y[0];E=Y[1];r=Y[2];T=i(T);E=i(E);r=i(r);T=d(T,c);E=d(E,c);
r=d(r,c);var S=fR.a67(T,E,r,p);T=S[0];E=S[1];r=S[2];T=i(T);E=i(E);r=i(r);if(C){var m=new Uint8Array(4);
m[0]=~~(.5+T*255);m[1]=~~(.5+E*255);m[2]=~~(.5+r*255);f2.kG(C,m,m,new bN(0,0,1,1));T=m[0]/255;E=m[1]/255;
r=m[2]/255}y[a]=T;y[a+1]=E;y[a+2]=r}function u(U,y,a,v,c,p){var C=c.Temp?c.Temp.v:0,T=c.Tint?c.Tint.v:0,E=c.Ex12?c.Ex12.v:0,r=c.Cr12?c.Cr12.v:0,Y=c.Vibr?c.Vibr.v:0,S=c.Strt?c.Strt.v:0,m=fR.bS(C,T),Q=null;
E+=m.a5J;if(Y!=0||S!=0)Q=f2.Bd("vibA",{Strt:c.Strt,vibrance:c.Vibr});console.log(Q);var z=Date.now();
if(p){var n=Math.pow(2,E),Z=U.length;E=0;var P=new Float32Array(4e3);for(var t=0;t<4e3;t++){var V=t*(1/1e3);
V=k.NQ(V);V*=n;V=k.Jy(V);V=i(V);P[t]=V}for(var t=0;t<Z;t+=3){v[t]=P[~~(U[t]*1e3)];v[t+1]=P[~~(U[t+1]*1e3)];
v[t+2]=P[~~(U[t+2]*1e3)]}console.log(Date.now()-z,"Exposure normalizing");z=Date.now()}else v.set(U);
if(E!=0||r!=0||C!=0||T!=0||Q){var I=17,q=1/(I-1),X=I*I*I,B=new Array(X*3);for(var e=0;e<I;e++)for(var F=0;
F<I;F++)for(var s=0;s<I;s++){var t=e*I*I+F*I+s,J=t*3;B[J]=e*q;B[J+1]=F*q;B[J+2]=s*q}for(var t=0;t<X;
t++)l(B,B,t*3,E,r,m,Q);console.log(Date.now()-z,"making LUT");z=Date.now();ICC.U.applyLUTFloat(B,I,v,v);
console.log(Date.now()-z,"applying LUT");z=Date.now()}}return u}();function jn(){}jn.cL=function(i){var $=new Uint8Array(i),h=0,d={pd:[],ut:[],list:[]},K=M.fd($,h);
h+=2;if(K<=2){return jn.a8G($)}var f=M.fd($,h);h+=2;var l=M.uX($,h,8);h+=8;var u=M.v($,h);h+=4;if(u>0)d.pd=jn.cy($,h,u,f,K);
h+=u;var U=M.uX($,h,8);h+=8;var y=M.v($,h);h+=4;if(y>0)d.ut=eq.ar($,h,y);h+=y;var a=M.uX($,h,8);h+=8;
var v=M.v($,h);h+=4;if(v>0){var c={};eR.jc($,c,h+4);d.list=c.Brsh.v}h+=v;var p=d.list;for(var t=0;t<p.length;
t++){bk.xy.check(p[t].v)}return d};jn.hO=function(i,$){i.v.Nm.v=$};jn.a8G=function(i){var $={pd:[],ut:[],list:[]},h=0,d=M.fd(i,h);
h+=2;var K=M.fd(i,h);h+=2;for(var t=0;t<K;t++){var f=M.fd(i,h);h+=2;var l=M.v(i,h);h+=4;var u=h;if(f==2){var U={};
$.pd.push(U);var y=M.v(i,u);u+=4;var a=M.fd(i,u);u+=2;if(d==2){var v=M.Yw(i,u);u+=4+v.length*2+2}U.id=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f";
u++;u+=8;U.gZ=M.YJ(i,u);u+=16;var c=M.fd(i,u);u+=2;var p=i[u];u++;var C=eJ.Nd(!1,c,i,U.gZ.e,U.gZ.n,u,p);
jn.cH(U,C);var T=bk.rw(U.id),E=T.Brsh.v;E.Dmtr.v.val=U.gZ.e;E.Spcn.v.val=a;$.list.push({t:"Objc",v:T})}h+=l}return $};
jn.t6=function(i){var $=new av,h=0,d=0;M.oo($,h,6);h+=2;M.oo($,h,2);h+=2;M.Mh($,h,"8BIMsamp");h+=8;h+=4;
d=h;h=jn.uz($,h,i.pd);M.S2($,d-4,h-d);M.Mh($,h,"8BIMpatt");h+=8;h+=4;d=h;h=eq.UM($,h,i.ut);M.S2($,d-4,h-d);
var K={classID:"null",Brsh:{t:"VlLs",v:i.list}};M.Mh($,h,"8BIMdesc");h+=8;h+=4;d=h;M.S2($,h,16);h+=4;
h+=eR.EF($,K,h);M.S2($,d-4,h-d);return $.data.slice(0,h).buffer};jn.cy=function(i,$,h,d,K){var f=M.v,l=M.YJ,u=$+h,U=[];
while($<u){var y={};U.push(y);var a=f(i,$);$+=4;var v=$,c=M.LE(i,$);$+=c.length;y.id=c.tZ;if(d==1){$+=9;
y.gZ=l(i,$);$+=16}else{$+=7;var p=f(i,$);$+=4;y.gZ=l(i,$);$+=16;var C=f(i,$);$+=4;$+=C*4;var T=f(i,$);
$+=4;var E=f(i,$);$+=4;var r=l(i,$);$+=16}var Y=M.fd(i,$);$+=2;var S=i[$];$+=1;var m=eJ.Nd(!1,Y,i,y.gZ.e,y.gZ.n,$,S);
jn.cH(y,m);if(a%4!=0)a+=4-a%4;$=v+a}return U};jn.cH=function(i,$){var h=i.gZ.clone();h.x=h.y=0;i.Jz=[$,h]};
jn.uz=function(i,$,h){var d=M.S2,K=M._6;for(var t=0;t<h.length;t++){var f=h[t],l=$+4,U=56,a=1;$+=4;M.$h(i,$,f.id);
$+=f.id.length+2;i.w1($,1);i.data[$]=1;$+=3;d(i,$,3);$+=4;var u=$;$+=4;K(i,$,f.gZ);$+=16;d(i,$,U);$+=4;
$+=U*4;d(i,$-4,1);var y=$;$+=4;d(i,$,8);$+=4;K(i,$,f.gZ);$+=16;M.oo(i,$,8);$+=2;i.w1($,1);i.data[$]=a;
$++;var v=f.Jz[0];i.w1($,f.gZ.O()*2);$=eJ.Cm(!1,v,i.data,f.gZ.e,f.gZ.n,$,a);i.w1($,8);$+=8;var c=$-l;
d(i,l-4,c);d(i,u,c-49);d(i,y,c-305);if(c%4!=0)$+=4-c%4}return $};function hI(){}hI.cL=function(i,$){var h=new Uint8Array(i),d=[],K=0,f=M.fd(h,K);
K+=2;if(f!=4){throw"Unknown version of curves: "+f}var l=M.fd(h,K);K+=2;for(var t=0;t<l;t++){var u=hI.eN(h,K);
K+=2+2*u.length;d.push(u)}if(K!=h.length){var U=M.uX(h,K,4);K+=4;var y=M.fd(h,K);K+=2;var a=M.fd(h,K);
K+=2;if(a!=0)throw"extra curves for channels"}var v=hI.nd(d,0);v.presetKind={t:"long",v:3};v.presetFileName={t:"TEXT",v:$.split("/").pop().split(".")[0]};
return[v]};hI.JC=function(i,$,h){var d=$,K=[],f=i[$];$+=3;var l=M.v(i,$);$+=4;for(var t=0;t<4;t++){var u=l>>>t&1;
if(u){if(f==0){var U=hI.eN(i,$);$+=2+2*U.length}else{var U=hI.ao1(i,$);$+=256}K.push(U)}else K.push(f==0?[0,0,255,255]:hI.asg())}var y=hI.nd(K,f);
return y};hI.nd=function(i,$){var h=d1.U9("curv");for(var t=0;t<4;t++){if($==0){var d=i[t],K=[];for(var f=0;
f<d.length;f+=2)K.push(k.qt.o3(d[f],d[f+1],!0));hI.Jc(h,t,K)}else hI.Jc(h,t,i[t])}return h};hI.pI=function(i,$,h){var d=[];
for(var t=0;t<4;t++){var K=hI.Fj(h,t);if(K.length==256)d.push(K);else{var f=[];for(var l=0;l<K.length;
l++)f.push(K[l].v.Hrzn.v,K[l].v.Vrtc.v);d.push(f)}}var u=$,U=d[0].length==256?1:0;i.w1($,3);i.data[$]=U;
i.data[$+1]=0;i.data[$+2]=1;$+=3;M.S2(i,$,15);$+=4;for(var t=0;t<4;t++){var y=d[t];if(U==0){hI.amr(i,$,y);
$+=2+2*y.length}else{hI.ace(i,$,y);$+=256}}return $-u};hI.asg=function(){var i=[];for(var t=0;t<256;
t++)i.push(t);return i};hI.Jc=function(i,$,h){var d=dO.hu("CrvA",$);if(h.length<256)d.Crv={t:"VlLs",v:h};
else{d.Mpng={t:"VlLs",v:[]};for(var t=0;t<256;t++)d.Mpng.v[t]={t:"long",v:h[t]}}d={t:"Objc",v:d};var K=i.Adjs.v,f=dO.q5(K,$);
if(f==-1)K.push(d);else K[f]=d};hI.Fj=function(i,$){var h=i.Adjs.v,d=dO.q5(h,$);if(d==-1){if(h.length==0||h[0].v.Crv)return[k.qt.o3(0,0,!0),k.qt.o3(255,255,!0)];
if(h[0].v.autoMachineLearning||h[0].v.AuCo)return[k.qt.o3(0,0,!0),k.qt.o3(128,160,!0),k.qt.o3(255,255,!0)];
var K=[];for(var t=0;t<256;t++)K.push(t);return K}var f=h[d].v;if(f.Crv)return f.Crv.v;if(f.Mpng){var K=[];
for(var t=0;t<256;t++)K.push(f.Mpng.v[t].v);return K}return[k.qt.o3(0,0,!0),k.qt.o3(255,255,!0)]};hI.eN=function(i,$){var h=[],d=M.fd(i,$);
$+=2;for(var K=0;K<d;K++){var f=M.fd(i,$);$+=2;var l=M.fd(i,$);$+=2;h.push(l,f)}return h};hI.amr=function(i,$,h){var d=h.length/2;
M.oo(i,$,d);$+=2;for(var K=0;K<d;K++){M.oo(i,$,h[K*2+1]);$+=2;M.oo(i,$,h[K*2+0]);$+=2}};hI.ao1=function(i,$){var h=[];
for(var t=0;t<256;t++)h.push(i[$+t]);return h};hI.ace=function(i,$,h){i.w1($,256);for(var t=0;t<256;
t++)i.data[$+t]=h[t]};function dm(){}dm.JC=function(i,$,h){var d={},K=M.fd(i,$);$+=2;d.L4=i[$]==1;$++;
$++;d.su=[M.Sb(i,$),M.Sb(i,$+2),M.Sb(i,$+4)];$+=6;d.mL=[M.Sb(i,$),M.Sb(i,$+2),M.Sb(i,$+4)];$+=6;d.Xt=[];
for(var t=0;t<6;t++){var f={};f.z8=[M.Sb(i,$),M.Sb(i,$+2),M.Sb(i,$+4),M.Sb(i,$+6)];$+=8;f.bA=[M.Sb(i,$),M.Sb(i,$+2),M.Sb(i,$+4)];
$+=6;d.Xt.push(f)}var l=d1.U9("hue2"),u=d;if(l.Clrz==null)l.Clrz={t:"bool",v:!1};l.Clrz.v=u.L4;for(var t=0;
t<7;t++){var U=t==0?u.L4?u.su:u.mL:u.Xt[t-1];dm.Jc(l,t,U)}return l};dm.afE=function(i){return{classID:"Hst2",H:{t:"long",v:i[0]},Strt:{t:"long",v:i[1]},Lght:{t:"long",v:i[2]}}};
dm.q5=function(i,$){for(var t=0;t<i.length;t++){var h=i[t].v.LclR;if($==0&&h==null||h!=null&&h.v==$)return t}return-1};
dm.Jc=function(i,$,h){var d=$==0?h:h.bA,K=dm.afE(d);if($!=0){var f=h.z8;K.LclR={t:"long",v:$},K.BgnR={t:"long",v:f[0]};
K.BgnS={t:"long",v:f[1]};K.EndS={t:"long",v:f[2]};K.EndR={t:"long",v:f[3]}}K={t:"Objc",v:K};var l=i.Adjs.v,u=dm.q5(l,$);
if(u==-1)l.push(K);else l[u]=K};dm.Fj=function(i,$){var h=i.Adjs.v,d=dm.q5(h,$);if(d==-1){if($==0)return[0,0,0];
else return[{z8:[315,345,15,45],bA:[0,0,0]},{z8:[15,45,75,105],bA:[0,0,0]},{z8:[75,105,135,165],bA:[0,0,0]},{z8:[135,165,195,225],bA:[0,0,0]},{z8:[195,225,255,285],bA:[0,0,0]},{z8:[255,285,315,345],bA:[0,0,0]}][$-1]}var K=h[d].v,f=[K.H.v,K.Strt.v,K.Lght.v];
if($==0)return f;return{bA:f,z8:[K.BgnR.v,K.BgnS.v,K.EndS.v,K.EndR.v]}};dm.pI=function(i,$,h){var d={L4:h.Clrz?h.Clrz.v:!1,Xt:[]};
d.su=d.mL=dm.Fj(h,0);for(var t=1;t<7;t++)d.Xt.push(dm.Fj(h,t));var K=2+2+12+6*14,f=i.data;i.w1($,K);
M.fq(f,$,2);$+=2;f[$]=d.L4?1:0;$++;$++;M.yJ(f,$+0,d.su[0]);M.yJ(f,$+2,d.su[1]);M.yJ(f,$+4,d.su[2]);$+=6;
M.yJ(f,$+0,d.mL[0]);M.yJ(f,$+2,d.mL[1]);M.yJ(f,$+4,d.mL[2]);$+=6;for(var t=0;t<6;t++){var l=d.Xt[t].z8,u=d.Xt[t].bA;
M.yJ(f,$+0,l[0]);M.yJ(f,$+2,l[1]);M.yJ(f,$+4,l[2]);M.yJ(f,$+6,l[3]);$+=8;M.yJ(f,$+0,u[0]);M.yJ(f,$+2,u[1]);
M.yJ(f,$+4,u[2]);$+=6}return K};function dO(){}dO.cL=function(i){var $=new Uint8Array(i),h=2,d=[];for(var t=0;
t<29;t++){var K=[];d.push(K);for(var f=0;f<5;f++)K.push(M.fd($,h+t*10+f*2))}h+=29*10;if(h<$.length){var l=M.uX($,h,4);
h+=4;var u=M.fd($,h);h+=2;var U=M.fd($,h);h+=2;var y=U-29;for(var t=0;t<y;t++){var K=[];d.push(K);for(var f=0;
f<5;f++)K.push(M.fd($,h+t*10+f*2))}}var a=d1.U9("levl");for(var t=0;t<4;t++)dO.Jc(a,t,d[t]);return a};
dO.hu=function(i,t){var $=["Cmps","Rd","Grn","Bl"],h={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:$[t]}}]};
return{classID:i,Chnl:h}};dO.q5=function(i,$){var h={Cmps:0,Rd:1,Grn:2,Bl:3};for(var t=0;t<i.length;
t++){var d=i[t].v,K=h[d.Chnl.v[0].v.enum];if(K==$)return t}return-1};dO.Jc=function(i,$,h){var d=dO.hu("LvlA",$);
d.Inpt={t:"VlLs",v:[{t:"long",v:h[0]},{t:"long",v:h[1]}]};d.Otpt={t:"VlLs",v:[{t:"long",v:h[2]},{t:"long",v:h[3]}]};
d.Gmm={t:"doub",v:h[4]/100};d={t:"Objc",v:d};var K=i.Adjs.v,f=dO.q5(K,$);if(f==-1)K.push(d);else K[f]=d};
dO.Fj=function(i,$){var h=[0,255,0,255,100],d=i.Adjs.v,K=dO.q5(d,$);if(K==-1)return h;var f=d[K].v;if(f.Inpt){h[0]=f.Inpt.v[0].v;
h[1]=f.Inpt.v[1].v}if(f.Otpt){h[2]=f.Otpt.v[0].v;h[3]=f.Otpt.v[1].v}if(f.Gmm){h[4]=Math.round(f.Gmm.v*100)}return h};
dO.t6=function(i,$){var h=[],d=0;for(var t=0;t<4;t++)h.push(dO.Fj($,t));while(h.length<29)h.push([0,255,0,255,100]);
i.w1(0,2+10*29);M.fq(i.data,d,2);d+=2;for(var t=0;t<29;t++){var K=h[t];for(var f=0;f<5;f++)M.fq(i.data,d+t*10+f*2,K[f])}d+=29*10;
if(h.length==29)return d;i.w1(d,8+10*(h.length-29));M.vI(i.data,d,"Lvls");d+=4;M.fq(i.data,d,3);d+=2;
M.fq(i.data,d,h.length);d+=2;var l=h.length-29;for(var t=0;t<l;t++){var K=h[29+t];for(var f=0;f<5;f++)M.fq(i.data,d+t*10+f*2,K[f])}d+=10*l;
return d};function fV(){}fV.cL=function(i){var $=new Uint8Array(i),h=2,d={n$:[],B7:[]},K=M.uX($,h,4);
h+=4;var f=M.fd($,h);h+=2;var l=M.v($,h);h+=4;d.n$=eq.ar($,h,l);h+=l;var u=M.v($,h);h+=4;for(var t=0;
t<u;t++){var U=M.v($,h);h+=4;var y=h,a={lp:{},z3:{}};d.B7.push(a);h+=4;h+=eR.jc($,a.lp,h);h+=4;h+=eR.jc($,a.z3,h);
h=y+U;var v=a.z3.blendOptions,c=a.z3.Lefx;if(v&&Object.keys(v.v).length>1){}if(c){if(c.v.masterFXSwitch==null)c.v.masterFXSwitch={t:"bool",v:!0};
fT.pi(c.v)}}return d};fV.hO=function(i,$){i.lp.Nm.v=$};fV.t6=function(i){var $=new av,h=0;M.oo($,h,2);
h+=2;M.Mh($,h,"8BSL");h+=4;M.oo($,h,3);h+=2;var d=h;h+=4;h=eq.UM($,h,i.n$);M.S2($,d,h-d-4);var K=i.B7.length;
M.S2($,h,K);h+=4;for(var t=0;t<K;t++){h+=4;var f=h,l=i.B7[t];M.S2($,h,16);h+=4;h+=eR.EF($,l.lp,h);var u=l.z3.Lefx;
if(u){l.z3.Lefx=JSON.parse(JSON.stringify(u));fT.fM(l.z3.Lefx.v)}M.S2($,h,16);h+=4;h+=eR.EF($,l.z3,h);
if(u)l.z3.Lefx=u;M.S2($,f-4,h-f)}return $.data.slice(0,h).buffer};function gB(){}gB.JC=function(i,$,h){var d=M.fd(i,$);
$+=2;var K={};K.AG=M.fd(i,$)==1;$+=2;K.LZ=[];for(var t=0;t<10;t++){var f=[];K.LZ.push(f);for(var l=0;
l<4;l++)f.push(M.Sb(i,$+l*2));$+=8}var u=d1.U9("selc");u.Mthd.v.CrcM=K.AG?"Absl":"Rltv";for(var t=1;
t<10;t++)gB.Jc(u,t-1,K.LZ[t]);return u};gB.B2="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
gB.hu=function(i,t){var $=["Cmps","Rd","Grn","Bl"],h={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:$[t]}}]};
return{classID:i,Chnl:h}};gB.q5=function(i,$){var h=gB.B2;for(var t=0;t<i.length;t++){var d=i[t].v,K=h.indexOf(d.Clrs.v.Clrs);
if(K==$)return t}return-1};gB.Jc=function(i,$,h){var d=["Cyn","Mgnt","Ylw","Blck"],K={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:gB.B2[$]}}};
for(var f=0;f<4;f++)K[d[f]]={t:"UntF",v:{type:"#Prc",val:h[f]}};K={t:"Objc",v:K};var l=i.ClrC.v,u=gB.q5(l,$);
if(u==-1)l.push(K);else l[u]=K};gB.Fj=function(i,$){var h=[0,0,0,0],d=i.ClrC.v,K=gB.q5(d,$);if(K==-1)return h;
var f=["Cyn","Mgnt","Ylw","Blck"];for(var t=0;t<4;t++)if(d[K].v[f[t]])h[t]=d[K].v[f[t]].v.val;return h};
gB.pI=function(i,$,h){var d={AG:h.Mthd.v.CrcM=="Absl",LZ:[[0,0,0,0]]};for(var t=0;t<9;t++)d.LZ.push(gB.Fj(h,t));
i.w1($,84);M.fq(i.data,$,1);$+=2;M.fq(i.data,$,d.AG?1:0);$+=2;for(var t=0;t<10;t++){var K=d.LZ[t];for(var f=0;
f<4;f++)M.yJ(i.data,$+f*2,K[f]);$+=8}return 84};function fC(){}fC.U9=function(){return{yg:new bN(0,0,50,50),lp:"",gG:"play",i:k.A.jY.As([.1,.1,.9,.5,.1,.9],0)}};
fC.cL=function(i){i=new Uint8Array(i);var $=0,h=[],d=Date.now(),K=M.uX(i,0,4);$+=4;var f=M.v(i,$);$+=4;
var l=M.v(i,$);$+=4;for(var t=0;t<l;t++){var u=M.Yw(i,$);$+=u.length*2+4+2;if((u.length&1)==0)$+=2;$=fC.KE(i,$,u,h)}return h};
fC.KE=function(i,$,h,d){var K=M.v(i,$);$+=4;var f=M.v(i,$);$+=4;var l=$,u=M.LE(i,l).tZ;l+=u.length+1;
var U=M.YJ(i,l);l+=16;var y=fC.B9(i,l,f-(l-$)),a=k.A.nK(y),v=k.p.nP(a),c=1/v.e,p=1/v.n;k.A.mu(y,new ej(c,0,0,p,-v.x*c,-v.y*p));
d.push({gG:h,lp:u,i:y,yg:U});$+=f;return $};fC.hO=function(i,$){i.gG=$};fC.t6=function(i){var $=new av,h=0;
M.Mh($,h,"cush");h+=4;M.S2($,h,2);h+=4;M.S2($,h,i.length);h+=4;for(var t=0;t<i.length;t++){var d=i[t],K=d.gG+"\0";
M.mT($,h,K);h+=4+K.length*2;if((K.length&1)==1)h+=2;M.S2($,h,1);h+=4;h+=4;var f=h;M.$h($,h,d.lp);h+=d.lp.length+1;
M._6($,h,d.yg);h+=16;$.w1(h,d.i.length*26);fC.Dk($.data,h,d.i,1,1);h+=d.i.length*26;var l=h-f;if((l&3)!=0)l+=4-(l&3);
M.S2($,f-4,l);h=f+l}return $.data.slice(0,h).buffer};fC.a95=function(i){var $=[];for(var t=0;t<i.length;
t++){var h=i[t],d=h.type,K={type:d};$.push(K);if(d==6){}else if(d==8)K.all=h.all;else if(d==0||d==3){K.length=h.length;
K.frule=h.N0;K.third=h.Ur;K.prmA=h.Qb;K.prmB=h.Vb}else{K.c=[h.Q2.x,h.Q2.y,h.F.x,h.F.y,h.ua.x,h.ua.y]}}return $};
fC.LC=function(i){var $=[];for(var t=0;t<i.length;t++){var h=i[t],d=h.type,K={type:d};$.push(K);if(d==6){}else if(d==8)K.all=h.all;
else if(d==0||d==3){K.length=h.length;K.N0=h.frule;K.Ur=h.third;K.Qb=h.prmA;K.Vb=h.prmB}else{var f=h.c;
K.Q2=new cq(f[0],f[1]);K.F=new cq(f[2],f[3]);K.ua=new cq(f[4],f[5])}}return $};fC.B9=function(i,$,h,d,K){if(d==null)d=1;
if(K==null)K=1;function f(T,E,r){var Y=M.a98(T,E)*r,S=Math.round(Y);return Math.abs(Y-S)<1e-6?S:Y}var l=M.Sb,u=[],U=Math.floor(h/26);
for(var t=0;t<U;t++){var y=$+t*26,a={},v=0;u.push(a);a.type=l(i,y);y+=2;if(a.type==6){v=24}if(a.type==8){a.all=l(i,y);
y+=2;v=22}if(a.type==0||a.type==3){a.length=l(i,y);y+=2;a.N0=l(i,y);y+=2;a.Ur=l(i,y);y+=2;a.Qb=M.v(i,y);
y+=4;a.Vb=M.v(i,y);y+=4;v=10}if(a.type==1||a.type==2||a.type==4||a.type==5){var c,p;p=f(i,y,K);y+=4;
c=f(i,y,d);y+=4;a.Q2=new cq(c,p);p=f(i,y,K);y+=4;c=f(i,y,d);y+=4;a.F=new cq(c,p);p=f(i,y,K);y+=4;c=f(i,y,d);
y+=4;a.ua=new cq(c,p);v=0}for(var C=0;C<v;C++)if(i[y+C]!=0){console.log("Unexpected non-zero byte!",a,C,i[y+C])}}return u};
fC.Dk=function(i,$,h,d,K){var f=M.yJ,l=M.aU,u=h.length;for(var t=0;t<u;t++){var U=$+t*26,y=h[t];f(i,U,y.type);
U+=2;if(y.type==6){}if(y.type==8)f(i,U,y.all);if(y.type==0||y.type==3){f(i,U,y.length);U+=2;f(i,U,y.N0);
U+=2;f(i,U,y.Ur);U+=2}if(y.type==1||y.type==2||y.type==4||y.type==5){l(i,U,y.Q2.y/K);U+=4;l(i,U,y.Q2.x/d);
U+=4;l(i,U,y.F.y/K);U+=4;l(i,U,y.F.x/d);U+=4;l(i,U,y.ua.y/K);U+=4;l(i,U,y.ua.x/d);U+=4}}};function dN(){}dN.cL=function(i){var $=new Uint8Array(i),h=[],d=0;
d=dN.Bu($,d,h);if(d+3<$.length){h=[];d=dN.Bu($,d,h)}return h};dN.Bu=function(i,$,h){var d=M.fd,K=M.Sb,f=d(i,$);
$+=2;var l=d(i,$);$+=2;for(var t=0;t<l;t++){var u=dN.cE(i,$);$+=10;if(f==2){u.rU=M.Yw(i,$);$+=4+u.rU.length*2+2}h.push(u)}return $};
dN.cE=function(i,$){var h=M.fd,d=M.Sb,K=h(i,$),p=null;$+=2;var f=h(i,$);$+=2;var l=h(i,$);$+=2;var u=h(i,$);
$+=2;var U=h(i,$);$+=2;var y=1/65535,a=255/65535,v=100/65535,c=255/1e4;if(K==0)p={o:f*a,P:l*a,Z:u*a};
else if(K==1){p=k.ub(f*y,l*y,u*y);p.o*=255;p.P*=255;p.Z*=255}else if(K==2)p=k.M.zk({classID:"CMYC",Cyn:{t:"doub",v:100-f*v},Mgnt:{t:"doub",v:100-l*v},Ylw:{t:"doub",v:100-u*v},Blck:{t:"doub",v:100-U*v}});
else if(K==7){var C=k.FY(f/100,d(i,$-6)/100,d(i,$-4)/100);p=C}else if(K==8){p={o:255-f*c,P:255-l*c,Z:255-u*c}}else throw"e "+K+", ";
return p};dN.t6=function(i){var $=new av,h=0,d=M.oo;d($,h,2);h+=2;d($,h,i.length);h+=2;for(var t=0;t<i.length;
t++){var K=i[t];$.w1(h,10);dN.O1($.data,h,K);h+=10;var f=(K.rU?K.rU:"")+"\0";M.mT($,h,f);h+=4+f.length*2}return $.data.slice(0,h).buffer};
dN.hO=function(i,$){i.rU=$};dN.O1=function(i,$,h){var d=65535/255,K=M.fq;K(i,$,0);K(i,$+2,Math.round(h.o*d));
K(i,$+4,Math.round(h.P*d));K(i,$+6,Math.round(h.Z*d));K(i,$+8,0)};function db(){}db.cL=function(i){var $=new Uint8Array(i),h=4,d={};
d.Q8=M.Yw($,h);h+=4+d.Q8.length*2+2;d.exp=$[h++]==1;d.Os=[];var K=M.v($,h);h+=4;for(var t=0;t<K;t++){var f={};
d.Os.push(f);f.zH=M.fd($,h);h+=2;f.shift=$[h++]==1;f.alI=$[h++]==1;f.color=M.fd($,h);h+=2;f.Q8=M.Yw($,h);
h+=4+f.Q8.length*2+2;f.exp=$[h++]==1;f.Os=[];var l=M.v($,h);h+=4;for(var u=0;u<l;u++){var U={};f.Os.push(U);
U.exp=$[h++]==1;U.w=$[h++]==1;U.anY=$[h++]==1;U.a1K=$[h++];var y=M.uX($,h,4);h+=4;if(y=="TEXT"){U.Fs=db.gg($,h);
h+=4+U.Fs.length}else if(y=="long"){U.Fs=M.uX($,h,4);h+=4}else throw"e";U.t$=db.gg($,h);h+=4+U.t$.length;
var a=M.$I($,h);h+=4;if(a==-1){U.B6={};var v=eR.jc($,U.B6,h);h+=v}}}console.log(d);var c=new Uint8Array(db.t6(d));
for(var t=0;t<c.length;t++)if(c[t]!=$[t]&&M.uX($,t+1,4)!="None"){console.log($.length,c.length);var p=4*(t>>>2)-16;
console.log(M.qu($,p,64));console.log(M.qu(c,p,64));console.log($.slice(p,p+64));console.log(c.slice(p,p+64));
throw"i"}return[d]};db.gg=function(i,$){var h=M.v(i,$);return M.uX(i,$+4,h)};db.Lc=function(i,$,h){M.S2(i,$,h.length);
M.Mh(i,$+4,h)};db.t6=function(i){var $=new av,h=0;M.S2($,h,16);h+=4;M.mT($,h,i.Q8+"\0");h+=4+i.Q8.length*2+2;
$.w1(h,1);$.data[h++]=i.exp?1:0;var d=i.Os.length;M.S2($,h,d);h+=4;for(var t=0;t<d;t++){var K=i.Os[t];
M.oo($,h,K.zH);h+=2;$.w1(h,2);$.data[h++]=K.shift?1:0;$.data[h++]=K.alI?1:0;M.oo($,h,K.color);h+=2;M.mT($,h,K.Q8+"\0");
h+=4+K.Q8.length*2+2;$.w1(h,1);$.data[h++]=K.exp?1:0;var f=K.Os.length;M.S2($,h,f);h+=4;for(var l=0;
l<f;l++){var u=K.Os[l];$.w1(h,4);$.data[h++]=u.exp?1:0;$.data[h++]=u.w?1:0;$.data[h++]=u.anY?1:0;$.data[h++]=u.a1K;
var U="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(u.Fs)!=-1;M.Mh($,h,U?"long":"TEXT");h+=4;
if(!U){db.Lc($,h,u.Fs);h+=4+u.Fs.length}else{M.Mh($,h,u.Fs);h+=4}db.Lc($,h,u.t$);h+=4+u.t$.length;M.M5($,h,u.B6?-1:0);
h+=4;if(u.B6){var y=eR.EF($,u.B6,h);h+=y}}}return $.data.slice(0,h).buffer};function ir(){}ir.cL=function(i){var $=new Uint8Array(i),h=0,d=M.v($,h),U;
h+=4;var K=M.uX($,h,8);h+=8;var f=M.Li($,h);h+=4;var l=M.Li($,h);h+=4;var u=M.Li($,h);h+=4;if(d==2){U=new Float32Array(i,32,i.byteLength-32>>>2)}else if(d==3||d==4){U=new Float32Array(l*u*2);
var y=0,a=0,v=!0;h=d==3?32:16+8+40;while(h<$.length){var c=M.Li($,h);h+=4;if(v)a+=c;else{for(var t=0;
t<c;t++){U[y+a+t<<1]=M.Qd($,h);U[(y+a+t<<1)+1]=M.Qd($,h+4);h+=8}a+=c}v=!v;if(c!=0&&a==l){y+=l;a=0;v=!0;
if(y==l*u)break}}}else throw"unknown Mesh version: "+d;return{DD:l,mJ:u,map:U}};ir.ef=function(i){var $=i.DD,h=i.mJ,d=i.map,K=new Uint8Array(32+h*$*8+h*8),f=0,l=0;
M.N$(K,f,3);f+=4;M.vI(K,f,"yfqLhseM");f+=8;M.tl(K,f,2);f+=4;M.tl(K,f,$);f+=4;M.tl(K,f,h);f+=4;M.tl(K,f,0);
f+=4;M.tl(K,f,1);f+=4;for(var u=0;u<h;u++){M.tl(K,f,0);f+=4;M.tl(K,f,$);f+=4;for(var U=0;U<$;U++){M.xA(K,f,d[l]);
M.xA(K,f+4,d[l+1]);l+=2;f+=8}}return K.buffer};function a1(){}a1.cL=function(i){var $=new Uint8Array(i),h=0,d=M.uX($,h,4);
h+=4;var K=M.fd($,h);h+=2;var f=M.v($,h);h+=4;var l=[];for(var t=0;t<f;t++){var u=M.v($,h);h+=4;var U={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
l.push(U);var y=M.Yw($,h);U.Nm.v=y;h+=4+y.length*2+2;var a=M.fd($,h);h+=2;var v=M.fd($,h);h+=2;for(var c=0;
c<v;c++){var p=k.qt.o3(0,0,!0);p.v.Vrtc.v=M.fd($,h);h+=2;p.v.Hrzn.v=M.fd($,h);h+=2;U.Crv.v.push(p)}if(u==1){}else if(u==2){for(var c=0;
c<v;c++){U.Crv.v[c].v.Cnty.v=$[h]==1;h+=1}}else throw"error";var C=M.v($,h);h+=4;var T=M.v($,h);h+=4}return l};
a1.hO=function(i,$){i.Nm.v=$};a1.t6=function(i){var $=new av,h=0;M.Mh($,h,"8BFS");h+=4;M.oo($,h,1);h+=2;
M.S2($,h,i.length);h+=4;for(var t=0;t<i.length;t++){M.S2($,h,2);h+=4;var d=i[t];M.mT($,h,d.Nm.v+"\0");
h+=4+d.Nm.v.length*2+2;M.oo($,h,2);h+=2;var K=d.Crv.v.length;M.oo($,h,K);h+=2;for(var f=0;f<K;f++){var l=d.Crv.v[f];
M.oo($,h,l.v.Vrtc.v);h+=2;M.oo($,h,l.v.Hrzn.v);h+=2}$.w1(h,K);for(var f=0;f<K;f++){$.data[h]=d.Crv.v[f].v.Cnty.v;
h++}M.S2($,h,0);h+=4;M.S2($,h,0);h+=4}return $.data.slice(0,h).buffer};function eq(){}eq.cL=function(i){var $=new Uint8Array(i),h=4,d=M.fd($,h);
h+=2;var K=M.v($,h);h+=4;var f=[];for(var t=0;t<K;t++){var l={};f.push(l);h=eq.px($,h,l)}return f};eq.hO=function(i,$){i.name=$};
eq.t6=function(i){var $=new av,h=0;M.Mh($,h,"8BPT");h+=4;M.oo($,h,1);h+=2;M.S2($,h,i.length);h+=4;for(var t=0;
t<i.length;t++){h=eq.nh($,h,i[t])}return $.data.slice(0,h).buffer};eq.ar=function(i,$,h){var d=$+h,K=[];
while($<d){var f={},l=M.v(i,$);$+=4;var u=$;$=eq.px(i,$,f);if(!f.Jz[1].NT())K.push(f);if(l%4!=0)l+=4-l%4;
$=u+l}return K};eq.UM=function(i,$,h){for(var t=0;t<h.length;t++){var d=h[t];$+=4;var K=$;$=eq.nh(i,$,d);
var f=$-K;M.S2(i,K-4,f);if(f%4!=0)K+=4-f%4;$=K+f}return $};eq.px=function(i,$,h){var d=M.v(i,$);$+=4;
if(d!=1)alert("Unknown version of pattern");var K=M.v(i,$);$+=4;if(K!=1&&K!=2&&K!=3)console.log("Unsupported mode of pattern: "+K);
var f=M.fd(i,$);$+=2;var l=M.fd(i,$);$+=2;var u=new bN(0,0,l,f);h.name=M.Yw(i,$);$+=4+2*h.name.length+2;
var U=i[$];$++;h.id=M.uX(i,$,U);$+=h.id.length;var y=-1;if(K==2){y=$;$+=3*256+4}var a=new k.UT(l*f);
$=eq.a0j(i,$,a);if(K==2){for(var t=0;t<a.o.length;t++){var v=3*a.o[t];a.o[t]=i[y+v+0];a.P[t]=i[y+v+1];
a.Z[t]=i[y+v+2]}}var c=k.Q(u.O()*4);k.ko(a,c);h.Jz=[c,u];return $};eq.nh=function(i,$,h){var d=h.Jz[0],K=h.Jz[1];
M.S2(i,$,1);$+=4;M.S2(i,$,3);$+=4;M.oo(i,$,K.n);$+=2;M.oo(i,$,K.e);$+=2;M.mT(i,$,h.name+"\0");$+=4+2*h.name.length+2;
M.oC(i,$,h.id.length);$++;M.Mh(i,$,h.id);$+=h.id.length;var f=new k.UT(K.O());k.dI(d,f);$=eq.a16(i,$,f,K);
return $};eq.a0j=function(i,$,h){var d=$,K={gZ:null,rB:[],aro:null,i3:null},f=M.v(i,$);$+=4;var l=M.v(i,$);
$+=4;K.gZ=M.YJ(i,$);$+=16;var u=M.v(i,$);$+=4;for(var t=0;t<u+2;t++){var U=M.v(i,$);$+=4;if(U==0)continue;
var y=M.v(i,$);$+=4;if(y==0)continue;var a=M.v(i,$);$+=4;var v=M.YJ(i,$);$+=16;var c=M.fd(i,$);$+=2;
var p=i[$];$++;var C=eJ.Nd(!1,a,i,v.e,v.n,$,p);if(t<u)K.rB.push(C);if(t==u)K.aro=C;if(t==u+1)K.i3=C;
$+=y-23}if(!K.gZ.NT()){if(K.rB[0])h.o=K.rB[0];if(K.rB[1])h.P=K.rB[1];else h.P=K.rB[0].slice(0);if(K.rB[2])h.Z=K.rB[2];
else h.Z=K.rB[0].slice(0);if(K.i3)h.Pi=K.i3;else h.Pi.fill(255)}return $};eq.a16=function(i,$,h,d){var K=$,f={gZ:d,rB:[h.o,h.P,h.Z],aro:null,i3:h.Pi};
M.S2(i,$,3);$+=4;M.S2(i,$,0);$+=4;M._6(i,$,d);$+=16;M.S2(i,$,24);$+=4;for(var t=0;t<24+2;t++){var l=$,u=t<3||t==25?1:0;
M.S2(i,$,u);$+=4;if(u==0)continue;M.S2(i,$,0);$+=4;M.S2(i,$,8);$+=4;M._6(i,$,d);$+=16;M.oo(i,$,8);$+=2;
M.oC(i,$,1,1);$++;var U=t<3?f.rB[t]:f.i3;i.w1($,d.O()+2);$=eJ.Cm(!1,U,i.data,d.e,d.n,$,1);M.S2(i,l+4,$-l-8)}M.S2(i,K+4,$-K-8);
return $};function i2(){}i2.cL=function(i){var $=new Uint8Array(i),h=0;if($[0]==71)return i2.alA($);
var d=M.uX($,h,4);h+=4;var K=M.fd($,h);h+=2;var f=[];if(K<=3){var l=M.fd($,h);h+=2;for(var t=0;t<l;t++){var u=$[h++],U=M.uX($,h,u);
h+=u;var y=i2.qd($,h,U),a=y[0];h=y[1];f.push(a)}}else{var y={},v=eR.jc($,y,h+4),c=y.GrdL.v;for(var t=0;
t<c.length;t++)f[t]=c[t].v.Grad.v}return f};i2.hO=function(i,$){i.Nm.v=$};i2.t6=function(i){var $=new av,h=0;
M.Mh($,h,"8BGR");h+=4;M.oo($,h,5);h+=2;M.S2($,h,16);h+=4;var d={classID:"null",GrdL:{t:"VlLs",v:[]}},K=d.GrdL.v;
for(var t=0;t<i.length;t++)K[t]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:i[t]}}};
h+=eR.EF($,d,h);return $.data.slice(0,h).buffer};i2.qd=function(i,$,h){var d={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:h},Trns:{t:"VlLs",v:[]}},K=M.fd(i,$);
$+=2;if(K==0)throw"e";for(var t=0;t<K;t++){var f=M.v(i,$),l=M.v(i,$+4),u=dN.cE(i,$+8),U={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:u.o},Grn:{t:"doub",v:u.P},Bl:{t:"doub",v:u.Z}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:f},Mdpn:{t:"long",v:l}}};
d.Clrs.v.push(U);$+=20}var y=M.fd(i,$);$+=2;for(var t=0;t<y;t++){var f=M.v(i,$),l=M.v(i,$+4),a=M.fd(i,$+8),U={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*a/255)}},Lctn:{t:"long",v:f},Mdpn:{t:"long",v:l}}};
d.Trns.v.push(U);$+=10}var v=M.fd(i,$);$+=2;if(v!=2)throw v;d.Intr.v=M.fd(i,$);$+=2;var c=M.fd(i,$);
$+=2;if(c!=32)throw"e";return[d,$]};i2.aj7=function(i,$,h){var d=h.Clrs.v.length;M.oo(i,$,d);$+=2;for(var t=0;
t<d;t++){var K=h.Clrs.v[t];M.S2(i,$,K.v.Lctn.v);M.S2(i,$+4,K.v.Mdpn.v);M.oo(i,$+8,0);var f=k.M.Aw(k.M.zk(K.v.Clr.v)),l=[f.Rd.v,f.Grn.v,f.Bl.v,0];
for(var u=0;u<4;u++)M.oo(i,$+10+u*2,Math.round(65535*(l[u]/255)));$+=20}var U=h.Trns.v.length;M.oo(i,$,U);
$+=2;for(var t=0;t<U;t++){var K=h.Trns.v[t];M.S2(i,$,K.v.Lctn.v);M.S2(i,$+4,K.v.Mdpn.v);M.oo(i,$+8,Math.round(255*K.v.Opct.v.val/100));
$+=10}M.oo(i,$,2);$+=2;M.oo(i,$,h.Intr.v);$+=2;M.oo(i,$,32);$+=2;return $};i2.alA=function(i){var $=M.kV(i,0,i.length).split("\n"),h=parseFloat($[2]),d=[],K=JSON.parse(et.MO[et.order.indexOf("GrFl")]).Grad.v;
K.Intr.v=0;K.Nm.v=$[1];for(var t=0;t<h;t++){var f=$[3+t].split(" ").map(parseFloat),l=f[11],u=f[12];
d.push([f[0],f.slice(3,6),f[6]]);if(u!=0){var U=k._U(f[3],f[4],f[5]),y=k._U(f[7],f[8],f[9]),a=U.mJ,v=y.mJ;
if(u==1&&a>v)v++;if(u==2&&a<v)a++;var c=Math.round(Math.abs(v-a)*7);if(c>1)for(var p=0;p<c;p++){var C=1-(p+1)/(c+1),T=1-C,E=k.ub(C*a+T*v,C*U.qc+T*y.qc,C*U.Pr+T*y.Pr);
d.push([C*f[0]+T*f[2],[E.o,E.P,E.Z],C*f[6]+T*f[10]])}}d.push([f[2],f.slice(7,10),f[10]])}d.sort(function(r,Y){return r[0]-Y[0]});
k.M.wX(d,K);return[K]};function bm(){}bm.cL=function(i){var $=new Uint8Array(i),h=[],d=[],K=[],f=[],l=[],u=0,U=M.uX($,u,4);
u+=4;var y=M.v($,u);u+=4;var a=M.v($,u);u+=4;while(u<$.length){var v=M.uX($,u,4);u+=4;var c=M.uX($,u,4);
u+=4;var p=M.v($,u);u+=4;if(c=="tppa"){d=eq.ar($,u,p);u+=p}else if(c=="tpbd"){K=jn.cy($,u,p,1,1);u+=p}else if(c=="tptp"){var C=M.v($,u);
u+=4;for(var t=0;t<C;t++){var T=M.Yw($,u);u+=6+T.length*2;u+=4;var E={};u+=eR.jc($,E,u);h.push([T,E])}while((u&3)!=0)u++}else if(c=="tpsh"){var r=u,Y=$.slice(u,u+p);
while(u<r+p){var S=M.v($,u);u+=4;u=fC.KE($,u,"Shape",f)}u=r+p}else if(c=="tpst"){var r=u;u+=4;while(u<r+p){var m=M.v($,u);
u+=4;var Q=u,z=M.v($,u);u+=4;var E={lp:{},z3:{}};l.push(E);u+=4;u+=eR.jc($,E.lp,u);u+=4;u+=eR.jc($,E.z3,u);
u=Q+m;var n=E.z3.Lefx;if(n){if(n.v.masterFXSwitch==null)n.v.masterFXSwitch={t:"bool",v:!0};fT.pi(n.v)}}u=r+p}else{console.log($.slice(u-8,u+64));
console.log(M.uX($,u-8,64));throw c}}return{pd:K,ut:d,list:h,arb:f,B7:l}};bm.hO=function(i,$){i[0]=$};
bm.t6=function(i){var $=new av,h=0;M.Mh($,h,"8BTP");h+=4;M.S2($,h,3);h+=4;M.S2($,h,1);h+=4;var d=[i.ut,i.pd,i.list];
for(var t=0;t<3;t++){if(d[t].length==0)continue;M.Mh($,h,"8BIM");h+=4;var K=["tppa","tpbd","tptp"][t];
M.Mh($,h,K);h+=4;var f=h;h+=4;if(K=="tppa"){h=eq.UM($,h,i.ut)}else if(K=="tpbd"){h=jn.uz($,h,i.pd)}else if(K=="tptp"){M.S2($,h,i.list.length);
h+=4;for(var l=0;l<i.list.length;l++){var u=i.list[l];M.mT($,h,u[0]+"\0");h+=6+u[0].length*2;M.S2($,h,16);
h+=4;h+=eR.EF($,u[1],h)}}M.S2($,f,h-f-4);while((h&3)!=0)h++;$.w1(h,0)}return $.data.slice(0,h).buffer};
function en(){}en.cL=function(i,$){var h=new Uint8Array(i),d;if(M.v(h,0)==h.length)d="icc";else if(h[0]=="<".charCodeAt(0))d="look";
else if(M.gr(h,"LUT_3D_SIZE")!=-1)d="cube";else d="3DL";if(d!="icc"){var K=en.a4E(h,d),f=en.abJ(K[0],K[1]);
h=f}var l=[];for(var t=0;t<h.length;t++)l.push(h[t]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:$?$:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:l}}]};
en.t6=function(i){var $=i[0],h=new Uint8Array($.profile.v);return h.buffer};en.hO=function(i,$){i.Nm.v=$};
en.abJ=function(i,$){var h=new av,d=128;h.w1(0,128);var K=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var t=0;t<K.length;t++)h.data[t]=K[t];var f=["desc","A2B0"],l=f.length,u=128+4+l*12;M.S2(h,d,l);
d+=4;for(var U=0;U<l;U++){var y=f[U];M.Mh(h,d,y);d+=4;M.S2(h,d,u);d+=4;var a=u;if(y=="desc"){M.Mh(h,a,"mluc");
a+=4;a+=4;M.S2(h,a,1);a+=4;M.S2(h,a,12);a+=4;M.Mh(h,a,"enUS");a+=4;var v="ICC by Photopea\0",c=v.length*2+2;
M.S2(h,a,c);a+=4;M.S2(h,a,28);a+=4;h.w1(a,c);for(var t=0;t<v.length;t++)h.data[a+t*2+1]=v.charCodeAt(t);
a+=c}if(y=="A2B0"){M.Mh(h,a,"mAB ");a+=4;a+=4;h.w1(a,4);h.data[a]=3;h.data[a+1]=3;a+=4;h.w1(a,4*5);a+=4*3;
M.S2(h,a,a+8-u);a+=4;a+=4;h.w1(a,20);h.data[a]=i;h.data[a+1]=i;h.data[a+2]=i;a+=16;h.data[a]=2;a+=4;
var p=i*i*i*3;h.w1(a,p*2);for(var t=0;t<p;t++)M.fq(h.data,a+t*2,Math.max(0,Math.min(65535,Math.round($[t]*65535))));
a+=p*2}var C=a-u;while((C&3)!=0)C++;M.S2(h,d,C);d+=4;u+=C}M.S2(h,0,u);return h.data.slice(0,u)};en.a4E=function(i,$){$="LUTFormat"+$.toUpperCase();
var h=[],d=0,K=M.kV(i,0,i.length),f="";for(var t=0;t<i.length&&f=="";t++){if(i[t]==10)f="\n";else if(i[t]==13){f="\r";
if(i[t+1]==10)f+="\n"}}if($=="LUTFormatCUBE"){var l=K.split(f);for(var t=0;t<l.length;t++){if(l[t]==""||l[t][0]=="#")continue;
var u=l[t].split(" "),U=u[0];if(U=="LUT_3D_SIZE"){d=parseInt(u[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(U)!=-1)continue;
h.push(parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2]))}h=en.sc(d,h)}else if($=="LUTFormat3DL"){var l=K.split(f),y=1/4095;
for(var t=0;t<l.length;t++){var a=l[t];if(a==""||a=="3DMESH"||a.startsWith("Mesh")||a[0]=="#")continue;
var u=a.split(" "),U=u[0];if(d==0){d=u.length;continue}h.push(parseFloat(u[0])*y,parseFloat(u[1])*y,parseFloat(u[2])*y)}}else if($=="LUTFormatLOOK"){var v=new DOMParser,c=v.parseFromString(K,"text/xml"),p=c.getElementsByTagName("LUT")[0],C=p.children[0].textContent;
d=parseInt(JSON.parse(C));var T=p.children[1].textContent;T=T.replace(/"/g,"").replace(/\s/g,"");var E=3*d*d*d,r=E*4,Y=new Uint8Array(r);for(var t=0;t<r;t++){var S=T.charCodeAt(t*2),m=T.charCodeAt(t*2+1),Q=S<58?S-48:S-55,z=m<58?m-48:m-55;Y[t]=(Q<<4)+z}for(var t=0;t<E;t++)h.push(M.Qd(Y,t<<2));h=en.sc(d,h)}else throw $;return[d,h]};en.awO=function(i,$,h){var d=["#Created by www.Photopea.com","TITLE \""+h+"\"","","#LUT size","LUT_3D_SIZE "+$,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],K=6;
for(var t=0;t<i.length;t+=3){d.push(i[t].toFixed(K)+" "+i[t+1].toFixed(K)+" "+i[t+2].toFixed(K))}d.push("");
return M.Mr(d.join("\n")).buffer};en.sc=function(i,$){var h=[],d=i*i*i;for(var t=0;t<d;t++)h.push(0,0,0);
for(var K=0;K<i;K++)for(var f=0;f<i;f++)for(var l=0;l<i;l++){var t=3*(l+f*i+K*i*i),u=3*(K+f*i+l*i*i);
h[u]=$[t];h[u+1]=$[t+1];h[u+2]=$[t+2]}return h};function eR(){}eR.jc=function(i,$,h,d,K){var f=h,l;if(K==null)K=0;
var u=M.v(i,h);if(u==0){l="";h+=4}else{l=M.Yw(i,h);h+=4+2*l.length+2}if(l!="")$.__name=l;$.classID=eR.sP(i,h);
if(d)console.log("\t".repeat(K),"- reading descriptor",$.classID,h);h+=eR.hN(i,h);var U=M.$I(i,h);h+=4;
for(var t=0;t<U;t++){var y=eR.sP(i,h);h+=eR.hN(i,h);var a=eR.q8(i,h,d,K);$[y]=a;h+=a.size;delete a.size}return h-f};
eR.EF=function(i,$,h,d){var K=h,f=$.__name;if(f==null)f="";f+="\0";M.mT(i,h,f);h+=4+2*f.length;eR.Mq(i,h,$.classID);
h+=eR.hN(i.data,h);M.M5(i,h,Object.keys($).length-1-($.__name==null?0:1));h+=4;for(var l in $){if(l=="classID")continue;
if(l=="__name")continue;eR.Mq(i,h,l);h+=eR.hN(i.data,h);h+=eR.x8(i,h,$[l])}return h-K};eR.q8=function(i,$,h,d){var K=$,f=M.uX(i,$,4);
$+=4;var l={size:0,t:f,v:null};if(h)console.log("\t".repeat(d),"reading key",f,K);switch(f){case"obj ":case"VlLs":l.v=[];
var u=M.v(i,$);$+=4;for(var t=0;t<u;t++){var U=eR.q8(i,$,h,d+1);$+=U.size;delete U.size;l.v.push(U)}break;
case"UntF":l.v={type:M.uX(i,$,4),val:M.VM(i,$+4)};$+=12;break;case"doub":l.v=M.VM(i,$);$+=8;break;case"bool":l.v=i[$]==1;
$+=1;break;case"long":l.v=M.$I(i,$);$+=4;break;case"comp":l.v=M.$I(i,$+4);$+=8;break;case"Objc":l.v={};
var y=eR.jc(i,l.v,$,h,d+1);$+=y;break;case"TEXT":var a=M.v(i,$);if(a==0){l.v="";$+=4}else{l.v=M.Yw(i,$);
$+=4+l.v.length*2+2}break;case"enum":var v=eR.sP(i,$);$+=eR.hN(i,$);var c=eR.sP(i,$);$+=eR.hN(i,$);l.v={};
l.v[v]=c;break;case"tdta":var p=M.$I(i,$);$+=4;l.v=[];for(var t=0;t<p;t++)l.v.push(i[$+t]);$+=p;break;
case"ObAr":var C=M.v(i,$);$+=4;var T=M.Yw(i,$);$+=4+2*T.length+2;if(T!="")throw T;var E=eR.sP(i,$);$+=4+Math.max(4,E.length);
l.v={classID:E,arr:[]};var r=M.v(i,$);$+=4;for(var t=0;t<r;t++){var E=eR.sP(i,$);$+=4+Math.max(4,E.length);
var v=M.uX(i,$,4);$+=4;var Y=M.uX(i,$,4);$+=4;var S={id:E,type:v,uID:Y,arr:[]};l.v.arr.push(S);var m=M.v(i,$,4);
$+=4;for(var Q=0;Q<m;Q++){var z=M.VM(i,$);$+=8;S.arr.push(z)}}break;case"Pth ":var n=$,p=M.v(i,$);$+=4;
var Z=M.uX(i,$,4);$+=4;var P=M.Li(i,$);$+=4;var V=M.ax6(i,$);$+=4+V.length*2;l.v={sig:Z,pth:V};break;
case"Clss":case"type":case"rele":var V=M.Yw(i,$);$+=4+V.length*2+2;var I=eR.sP(i,$);$+=4+Math.max(4,I.length);
l.v={classID:I};if(V!="")l.v.__name=V;if(f=="rele"){l.v.val=M.$I(i,$);$+=4}break;case"prop":case"Enmr":case"indx":case"name":var q=eR.iO[f],V=M.Yw(i,$);
$+=4+V.length*2+2;if(V.length!=0){console.log(f,V);throw"e"}l.v={};for(var t=0;t<q.length;t++){var I=eR.sP(i,$);
$+=4+Math.max(4,I.length);l.v[q[t]]=I}if(f=="name"){var V=M.Yw(i,$);$+=4+V.length*2+2;l.v.val=V}if(f=="indx"){l.v.val=M.v(i,$);
$+=4}break;case"alis":var p=M.v(i,$);$+=4;l.v=M.uX(i,$,p);$+=p;break;default:{console.log("unknown oskey: "+f+", "+K);
throw"e";return l}}if(h){console.log("\t".repeat(d),l.v);console.log("\t".repeat(d),"======",$)}l.size=$-K;
return l};eR.iO={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
eR.x8=function(i,$,h){var d=$,K=h.t;h=h.v;M.Mh(i,$,K);$+=4;switch(K){case"obj ":case"VlLs":M.M5(i,$,h.length);
$+=4;for(var f=0;f<h.length;f++){var l=eR.x8(i,$,h[f]);$+=l}break;case"UntF":M.Mh(i,$,h.type);M.YP(i,$+4,h.val);
$+=12;break;case"doub":M.YP(i,$,h);$+=8;break;case"bool":M.oC(i,$,h?1:0,1);$+=1;break;case"long":M.M5(i,$,h);
$+=4;break;case"comp":M.M5(i,$+4,h);$+=8;break;case"Objc":var l=eR.EF(i,h,$);$+=l;break;case"TEXT":M.mT(i,$,h+"\0");
$+=4+h.length*2+2;break;case"enum":var u=Object.keys(h)[0],U=h[u];eR.Mq(i,$,u);$+=eR.hN(i.data,$);eR.Mq(i,$,U);
$+=eR.hN(i.data,$);break;case"tdta":M.S2(i,$,h.length);$+=4;M.Pm(i,$,h);$+=h.length;break;case"ObAr":M.S2(i,$,h.arr[0].arr.length);
$+=4;M.mT(i,$,"\0");$+=6;eR.Mq(i,$,h.classID);$+=4+Math.max(4,h.classID.length);M.S2(i,$,h.arr.length);
$+=4;for(var t=0;t<h.arr.length;t++){var y=h.arr[t];eR.Mq(i,$,y.id);$+=4+Math.max(4,y.id.length);M.Mh(i,$,y.type);
$+=4;M.Mh(i,$,y.uID);$+=4;M.S2(i,$,y.arr.length);$+=4;for(var f=0;f<y.arr.length;f++){M.YP(i,$,y.arr[f]);
$+=8}}break;case"Pth ":var a=h.pth.length*2+4+8;M.S2(i,$,a);$+=4;M.Mh(i,$,h.sig);$+=4;M._X(i,$,a);$+=4;
M.ast(i,$,h.pth);$+=h.pth.length*2+4;break;case"Clss":case"type":case"rele":var v=h.__name;if(v==null)v="";
M.mT(i,$,v+"\0");$+=4+v.length*2+2;var c=h.classID;eR.Mq(i,$,c);$+=4+Math.max(4,c.length);if(K=="rele"){M.M5(i,$,h.val);
$+=4}break;case"prop":case"Enmr":case"indx":case"name":var p=eR.iO[K];M.S2(i,$,1);$+=6;for(var t=0;t<p.length;
t++){var c=h[p[t]];eR.Mq(i,$,c);$+=4+Math.max(4,c.length)}if(K=="name"){M.mT(i,$,h.val+"\0");$+=4+h.val.length*2+2}if(K=="indx"){M.S2(i,$,h.val);
$+=4}break;case"alis":var a=h.length;M.S2(i,$,a);$+=4;M.Mh(i,$,h);$+=a;break;default:console.log("unknown oskey: "+K);
$=d;break}return $-d};eR.sP=function(i,$){var h=M.$I(i,$);if(h>1e3)throw"e";if(h==0)h=4;return M.uX(i,$+4,h).trim()};
eR.hN=function(i,$){var h=M.$I(i,$);return h==0?8:4+h};eR.Mq=function(i,$,h){var d="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),K=4<h.length||d.indexOf(h)!=-1;
M.M5(i,$,K?h.length:0);M.Mh(i,$+4,h);if(h.length<4&&!K){var f="";for(var t=h.length;t<4;t++)f+=" ";M.Mh(i,$+4+h.length,f)}};
eR.ap7=function(i){var $={};for(var h in i){if(h=="classID")$[h]=i[h];else if(h=="__name")$[h]=i[h];
else $[h]=eR.U5(i[h])}return $};eR.U5=function(i){if(i.Zw=="Objc")return eR.ap7(i.v);else if(i.Zw=="VlLs"){var $=[];
for(var t=0;t<i.v.length;t++)$.push(eR.U5(i.v[t]));return $}else if(i.Zw=="UntF")return i.v.val;else return i.v};
function fT(){}fT.Ds=function(i,$,h,d,K,f){while($<h){var l=M.uX(i,$,4);$+=4;if(l!="8BIM"&&l!="8B64"){console.log("layer information signature error! "+l,"PSB = "+K);
alert("Error in PSD file: wrong signature.");return h}var u=M.uX(i,$,4);$+=4;var U=M.v(i,$);$+=4;var y=K&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(u)!=-1;
if(y){U=U<<32|M.$I(i,$);$+=4}var a=["lrFX","PlLd"];if(a.indexOf(u)!=-1){if(U%4!=0)U+=4-U%4;$+=U;continue}switch(u){case"iOpa":d[u]=i[$];
break;case"brst":d[u]=[1,1,1];for(var t=0;t<U;t+=4)d[u][M.v(i,$+t)]=0;break;case"knko":d[u]=i[$];break;
case"infx":d[u]=i[$];break;case"clbl":d[u]=i[$];break;case"lmgm":d[u]=i[$];break;case"vmgm":d[u]=i[$];
break;case"fcmy":d[u]=i[$];break;case"lyid":d[u]=M.v(i,$);break;case"lsct":d[u]={type:M.v(i,$)};if(U>=12)d[u].R$=M.uX(i,$+8,4);
break;case"lsdk":d.lsct={type:M.v(i,$)};break;case"lyvr":d[u]=M.v(i,$);break;case"lnsr":var v={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
d[u]=M.uX(i,$,4);break;case"lspf":d[u]=M.v(i,$);break;case"lclr":d[u]=M.fd(i,$);break;case"luni":d[u]=M.QV(i,$);
break;case"fxrp":d[u]=new cq(M.VM(i,$),M.VM(i,$+8));break;case"artb":case"artd":d[u]={};eR.jc(i,d[u],$+4);
break;case"SoCo":d[u]={};eR.jc(i,d[u],$+4);break;case"GdFl":d[u]={};eR.jc(i,d[u],$+4);fT.oa(d[u],u);
break;case"PtFl":d[u]={};eR.jc(i,d[u],$+4);fT.oa(d[u],u);break;case"CgEd":d[u]={};eR.jc(i,d[u],$+4);
break;case"brit":var c=d.brit=d1.U9("brit"),p={};c.Brgh.v=M.Sb(i,$);c.Cntr.v=M.Sb(i,$+2);c.useLegacy.v=!1;
break;case"levl":var C=i.buffer.slice($,$+U);d[u]=dO.cL(C);break;case"curv":d[u]=hI.JC(i,$,U);break;
case"expA":var T=M.fd(i,$),E=d[u]=d1.U9("expA");E.Exps.v=M.N_(i,$+2);E.Ofst.v=M.N_(i,$+6);E.gammaCorrection.v=M.N_(i,$+10);
break;case"vibA":d[u]={};eR.jc(i,d[u],$+4);break;case"hue2":d[u]=dm.JC(i,$,U);break;case"blnc":var E=d[u]=d1.U9(u);
E.PrsL.v=i[$+18]==1;var r=["ShdL","MdtL","HghL"];for(var t=0;t<3;t++)for(var Y=0;Y<3;Y++)E[r[t]].v[Y].v=M.Sb(i,$+t*6+Y*2);
break;case"blwh":var S={};eR.jc(i,S,$+4);var E=d1.U9(u),m="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var t=0;t<m.length;t++){E[m[t]]=S[m[t]];delete S[m[t]]}d[u]=E;break;case"phfl":var E=d[u]=d1.U9(u),Q=E.Clr.v,T=M.fd(i,$);
if(T==3){var z=[M.v(i,$+2),M.v(i,$+6),M.v(i,$+10)],n=32768,Z=k.RV(z[0]/n,z[1]/n,z[2]/n);Q.Lmnc.v=Z.GE;
Q.A.v=Z.Pi;Q.B.v=Z.Z}if(T==2){var P=M.fd(i,$+2);if(P!=7)throw"e";Q.Lmnc.v=M.Sb(i,$+4)/100;Q.A.v=M.Sb(i,$+6)/100;
Q.B.v=M.Sb(i,$+8)/100}var V=$+2+(T==3?12:10);E.Dnst.v=M.v(i,V);V+=4;E.PrsL.v=i[V]==1;break;case"mixr":var I={fY:M.fd(i,$+2)==1,L:[]};
for(var t=0;t<20;t++)I.L.push(M.Sb(i,$+4+t*2));d[u]=f2.aaE(I);break;case"clrL":case"rplc":d[u]={};eR.jc(i,d[u],$+6);
break;case"nvrt":d[u]={};break;case"post":d[u]=d1.U9("post");d[u].Lvls.v=M.fd(i,$);break;case"thrs":d[u]=d1.U9("thrs");
d[u].Lvl.v=M.fd(i,$);break;case"grdm":var q=$,X=i[$+2]==1,B=i[$+3]==1;q+=4;var e=M.uX(i,q,4);if(e=="Perc"||e=="Gcls"||e=="Lnr ")q+=4;
var F=M.QV(i,q);q+=4+F.length*2;var s=i2.qd(i,q,F),J=s[0];q=s[1];var W=M.fd(i,q);q+=2;var L=M.v(i,q);
q+=4;var A=M.fd(i,q)==1;q+=2;var j=M.fd(i,q)==1;q+=2;var G=M.v(i,q);q+=4;var O=M.fd(i,q);q+=2;var o=[],N=[];
for(var t=0;t<4;t++){o.push({t:"long",v:~~(M.fd(i,q+t*2)*100/32768)});N.push({t:"long",v:~~(M.fd(i,q+t*2+8)*100/32768)})}q+=16;
var w=M.fd(i,q);q+=2;if(W==1)J={classID:"Grdn",Nm:{t:"TEXT",v:F},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:A},VctC:{t:"bool",v:j},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:L},Smth:{t:"long",v:G},Mnm:{t:"VlLs",v:o},Mxm:{t:"VlLs",v:N}};
var kv=d1.U9("grdm");kv.Rvrs.v=X;kv.Grad.v=J;d[u]=kv;break;case"selc":d[u]=gB.JC(i,$,U);break;case"vmsk":case"vsms":var g=d.vmsk=new H.LF,b=M.$I(i,$+4),jU=(b>>0&1)==1;
g.sE=(b>>1&1)==0;g.isEnabled=(b>>2&1)==0;g.i=fC.B9(i,$+8,U-8,f.e,f.n);break;case"shmd":d[u]={};var _=M.v(i,$),V=$+4;
for(var t=0;t<_;t++){var l=M.uX(i,V,4);V+=4;var cY=M.uX(i,V,4);V+=4;var j3=i[V];V++;if(Math.max(i[V],i[V+1])!=0)throw"e";
V+=3;var aS=M.v(i,V);V+=4;if(cY=="cust"||cY=="cmls"||cY=="extn"||cY=="mlst"){var bL=M.v(i,V);if(bL!=16)V+=4;
if(M.v(i,V)==16){var S={};eR.jc(i,S,V+4,!1);d[u][cY]=S;if(cY=="cmls")D.Re.a3D(d[u][cY])}}else{console.log("unknown shmd key: "+cY+", size: "+aS)}V+=aS}break;
case"shpa":var T=M.v(i,$),cQ=M.v(i,$+4);if(cQ!=0)console.log("some patterns present!");break;case"TySh":var cK=d[u]={},T=M.fd(i,$);
cK.D=M.GU(i,$+2);var el=M.fd(i,$+2+48);cK.BZ={};var gF=eR.jc(i,cK.BZ,$+56),fj=jP.agE();for(var i3 in fj)if(cK.BZ[i3]==null)cK.BZ[i3]=fj[i3];
cK.sT={};var eT=eR.jc(i,cK.sT,$+56+gF+6);cK.MX=M.a5F(i,$+56+gF+6+eT);cK.$D=je.cL(cK.BZ.EngineData.v);
jP.atq(cK.$D.EngineDict.StyleRun.RunArray);if(cK.$D.ResourceDict==null)cK.$D.ResourceDict=JSON.parse(JSON.stringify(cK.$D.DocumentResources));
delete cK.BZ.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var eV=M.v(i,$),hr=M.v(i,$+4);d.lmfx={};
var gF=eR.jc(i,d.lmfx,$+8);fT.pi(d.lmfx);break;case"FMsk":d[u]=M.ed(i,$,U);break;case"Txt2":d[u]={};
d[u].raw=M.ed(i,$,U);d[u].vG=e1.cL(d[u].raw);break;case"Patt":d[u]=eq.ar(i,$,U);break;case"SoLd":var it=M.uX(i,$,4),f8=M.v(i,$+4),i$=M.v(i,$+8);
d[u]={};var gS=eR.jc(i,d[u],$+12);if(d[u].nonAffineTransform==null)d[u].nonAffineTransform=JSON.parse(JSON.stringify(d[u].Trnf));
if(d[u].Impr==null)d[u].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var f8=M.v(i,$);
d[u]={};var gS=eR.jc(i,d[u],$+4);break;case"vscg":var cY=M.uX(i,$,4),f8=M.v(i,$+4);d[cY]={};var gS=eR.jc(i,d[cY],$+8);
fT.oa(d[cY],cY);break;case"vogk":var hT=M.v(i,$),f8=M.v(i,$+4);d[u]={};var gS=eR.jc(i,d[u],$+8);d[u]=d[u].keyDescriptorList.v;
for(var t=0;t<d[u].length;t++){var gL=d[u][t].v;if(!k.X.zl(gL))continue;if(gL.keyOriginBoxCorners==null){var iu=k.X.QU(gL);
gL.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var dB=[iu[0],iu[1],iu[2],iu[1],iu[2],iu[3],iu[0],iu[3]];
if(gL.keyOriginType.v==4)dB=k.X.Ty(k.X.aS(gL),gL.keyOriginLineWeight.v);k.X.Ne(gL,"keyOriginBoxCorners",dB)}}break;
case"lnk2":case"lnkD__":case"lnk3__":d[u]=[];var q=$;while(q<$+U){var jt=new H.I1;d[u].push(jt);var ka=M.WH(i,q);
q+=8;var eQ=q;jt.type=M.uX(i,q,4);q+=4;if(jt.type!="liFD"){alert("Unknown Linked Layer type: "+jt.type);
break;throw jt.type}jt.XY=M.v(i,q);q+=4;var dv=M.LE(i,q);q+=1+dv.tZ.length;jt.$0=dv.tZ;jt.Wo=M.Yw(i,q);
q+=4+jt.Wo.length*2+2;jt.$M=M.uX(i,q,4);q+=4;jt.$U=M.uX(i,q,4);q+=4;var cT=M.WH(i,q);q+=8;jt.open=i[q];
q+=1;if(jt.open!=0){var eY={},gF=eR.jc(i,eY,q+4);if(gF%4!=0)gF+=4-gF%4;console.log(eY);q+=gF+4}jt.open=0;
jt.raw=M.ed(i,q,cT);q=eQ+ka;if(ka%4!=0)q+=4-ka%4}break;case"FEid":var q=$;d[u]=[];var gl=q+U,T=M.v(i,q);
q+=4;while(q<gl){q+=4;var ka=M.v(i,q);q+=4;var s={};d[u].push(s);s.id=M.LE(i,q).tZ;q+=s.id.length+1;
var T=M.v(i,q);q+=4;q+=4;var dY=M.v(i,q);q+=4;s.rect=M.YJ(i,q);q+=16;var gE=M.v(i,q);q+=4;var cs=M.v(i,q);
q+=4;var au=new k.UT(0);for(var t=0;t<cs+2;t++){var b8=M.v(i,q);q+=4;if(b8!=0){q+=4;var jw=M.v(i,q),ek=null;
q+=4;if(t<3||t==25)ek=eJ.Ck(!0,gE,i,s.rect.e,s.rect.n,q,jw);if(t==0)au.o=ek;if(t==1)au.P=ek;if(t==2)au.Z=ek;
if(t==25)au.Pi=ek;q+=jw}}s.buffer=k.Q(s.rect.O()*4);k.ko(au,s.buffer);k.Dl(s);var cj=i[q];q++;if(cj!=0){s.z=new H.k$;
s.z.rect=M.YJ(i,q);q+=16;q+=4;var jJ=M.v(i,q);q+=4;s.z.channel=eJ.Ck(!0,gE,i,s.z.rect.e,s.z.rect.n,q,jJ);
s.z.color=255;s.z.HH();q+=jJ}if(ka%4!=0)q+=4-ka%4}break;case"Lr16":b_.Xx(f,i,$);break;case"Anno":d[u]=[];
var hp=$,dW=$+4,cQ=M.v(i,dW);dW+=4;for(var t=0;t<cQ;t++){var ka=M.v(i,dW);dW+=4;var h4=M.uX(i,dW,4);
dW+=4;if(h4!="txtA")throw h4;var er=i[dW++],hG=i[dW++],i_=M.fd(i,dW);dW+=2;var aK=M.YJ(i,dW);dW+=16;
var bG=M.YJ(i,dW);dW+=16;var Q=dN.cE(i,dW);dW+=10;var dx=M.LE(i,dW);dW+=dx.length;var aH=M.LE(i,dW);
dW+=aH.length;var cU=M.LE(i,dW);dW+=cU.length;var kr=M.v(i,dW);dW+=4;var cL=M.uX(i,dW,4);dW+=4;var aj=M.v(i,dW);
dW+=4;var js=M.bD(i,dW+2,aj-2>>1);dW+=aj;d[u].push([aK.x,aK.y,Q,dx.tZ,js])}break;default:break}var ey="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(ey.indexOf(u)==-1)if(U%4!=0)console.log("size not multiple of 4!!!",u);if(u!="luni"&&u!="TySh"&&u!="tySh"&&u!="lfx2"&&u!="iOpa")if(U%4!=0)U+=4-U%4;
$+=U}var p=d.CgEd;if(p){var c=d.brit;if(c){c.Brgh.v=p.Brgh?p.Brgh.v:0;c.Cntr.v=p.Cntr?p.Cntr.v:0;c.useLegacy.v=p.useLegacy?p.useLegacy.v:0}delete d.CgEd}var dr=[];
for(var t=0;t<dr.length;t++)delete d[dr[t]];return $};fT.uN=function(i,$,h,d,K){for(var f in h)if(h[f]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+f+"\" tag was present with a null value.");delete h[f]}for(var f in h){var l=d&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(f)!=-1,U=0;
M.Mh(i,$,l?"8B64":"8BIM");$+=4;var u=$;M.Mh(i,$,f);$+=4;M.M5(i,$,0);$+=l?8:4;switch(f){case"iOpa":M.oC(i,$,h[f],1);
U=4;break;case"brst":U=0;for(var t=0;t<3;t++)if(h[f][t]==0){M.S2(i,$+U,t);U+=4}break;case"knko":M.oC(i,$,h[f],1);
U=4;break;case"infx":M.oC(i,$,h[f],1);U=4;break;case"clbl":M.oC(i,$,h[f],1);U=4;break;case"lmgm":M.oC(i,$,h[f],1);
U=4;break;case"vmgm":M.oC(i,$,h[f],1);U=4;break;case"fcmy":M.oC(i,$,h[f],1);U=4;break;case"lyid":M.S2(i,$,h[f]);
U=4;break;case"lsct":M.S2(i,$,h[f].type);U=4;if(h[f].R$){M.Mh(i,$+4,"8BIM");M.Mh(i,$+8,h[f].R$);U=12}break;
case"lyvr":M.S2(i,$,h[f]);U=4;break;case"lnsr":M.Mh(i,$,h[f]);U=4;break;case"lspf":M.S2(i,$,h[f]);U=4;
break;case"lclr":M.oo(i,$,h[f]);U=8;break;case"luni":M.mT(i,$,h[f]);U=4+2*h[f].length;break;case"fxrp":M.YP(i,$,h[f].x);
M.YP(i,$+8,h[f].y);U=16;break;case"artb":case"artd":M.S2(i,$,16);U=eR.EF(i,h[f],$+4)+4;break;case"SoCo":M.S2(i,$,16);
U=eR.EF(i,h[f],$+4)+4;break;case"GdFl":M.S2(i,$,16);U=eR.EF(i,h[f],$+4)+4;break;case"PtFl":M.S2(i,$,16);
U=eR.EF(i,h[f],$+4)+4;break;case"CgEd":var y={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},a=y,v=h[f];
a.Brgh.v=v.Brgh.v;a.Cntr.v=v.Cntr.v;a.useLegacy.v=v.useLegacy.v;M.S2(i,$,16);U=eR.EF(i,y,$+4)+4;break;
case"brit":i.w1($,8);U=8;break;case"levl":var c=new av;U=dO.t6(c,h[f]);M.Pm(i,$,c.data);break;case"curv":U=hI.pI(i,$,h[f]);
break;case"expA":U=14;i.w1($,14);M.fq(i.data,$,1);M.k8(i.data,$+2,h[f].Exps?h[f].Exps.v:0);M.k8(i.data,$+6,h[f].Ofst?h[f].Ofst.v:0);
M.k8(i.data,$+10,h[f].gammaCorrection?h[f].gammaCorrection.v:1);break;case"vibA":M.S2(i,$,16);U=eR.EF(i,h[f],$+4)+4;
break;case"hue2":U=dm.pI(i,$,h[f]);break;case"blnc":U=19;i.w1($,U);var p=["ShdL","MdtL","HghL"];for(var t=0;
t<3;t++){var C=h[f][p[t]].v;for(var T=0;T<3;T++)C.push(M.yJ(i.data,$+t*6+T*2,C[T].v))}i.data[$+18]=h[f].PrsL.v?1:0;
break;case"blwh":var y={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},E="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var t=0;t<E.length;t++){y[E[t]]=h[f][E[t]]}M.S2(i,$,16);U=eR.EF(i,y,$+4)+4;break;case"phfl":M.oo(i,$,2);
var r=h[f].Clr.v;M.oo(i,$+2,7);M.oo(i,$+4,Math.round(r.Lmnc.v*100));M.oo(i,$+6,Math.round(r.A.v*100));
M.oo(i,$+8,Math.round(r.B.v*100));M.oo(i,$+10,0);var Y=$+2+10;i.w1(Y,5);M.N$(i.data,Y,h[f].Dnst.v);Y+=4;
i.data[Y]=h[f].PrsL.v?1:0;Y++;U=Y-$;break;case"mixr":U=44;i.w1($,U);var S=f2.rs(h[f]);M.fq(i.data,$,1);
M.fq(i.data,$+2,S.fY?1:0);for(var t=0;t<20;t++)M.yJ(i.data,$+4+t*2,S.L[t]);break;case"clrL":case"rplc":M.oo(i,$,1);
M.S2(i,$+2,16);U=eR.EF(i,h[f],$+6)+6;break;case"nvrt":U=0;break;case"post":M.oo(i,$,h[f].Lvls.v);U=2;
break;case"thrs":M.oo(i,$,h[f].Lvl.v);U=2;break;case"grdm":var m=h[f].Rvrs?h[f].Rvrs.v:!1,Q=!1,z=867527939,n=!1,Z=!1,P=2048,V=[0,0,0,0],I=[32768,32768,32768,32768],q=h[f].Grad.v,X,B,e=q.Clrs==null?1:0;
if(e==0){X=q;B=JSON.parse(et.Rq.au1).v}else{X=d1.U9("grdm").Grad.v;B=q}i.w1($,4);M.fq(i.data,$,1);i.data[$+2]=m?1:0;
i.data[$+3]=Q?1:0;var F=$+4;M.mT(i,F,q.Nm.v);F+=4+q.Nm.v.length*2;F=i2.aj7(i,F,X);M.oo(i,F,e);F+=2;M.S2(i,F,B.RndS.v);
F+=4;M.oo(i,F,B.ShTr.v?1:0);F+=2;M.oo(i,F,B.VctC.v?1:0);F+=2;M.S2(i,F,B.Smth.v);F+=4;M.oo(i,F,3);F+=2;
for(var t=0;t<4;t++)M.oo(i,F+t*2,V[t]);F+=8;for(var t=0;t<4;t++)M.oo(i,F+t*2,I[t]);F+=8;F+=2;U=F-$;break;
case"selc":U=gB.pI(i,$,h[f]);break;case"FMsk":M.Pm(i,$,h[f]);U=h[f].length;break;case"Txt2":var s=new av,J=e1.ef(h[f].vG,s),W=k.Q(J,!0);
for(var t=0;t<J;t++)W[t]=s.data[t];M.Pm(i,$,W);U=W.length;break;case"vmsk":var L=h[f],A=0;M.S2(i,$,3);
if(!L.sE)A+=1<<1;if(!L.isEnabled)A+=1<<2;M.S2(i,$+4,A);U=8;var j=L.i.length;i.w1($+8,j*26);fC.Dk(i.data,$+8,L.i,K.e,K.n);
U+=j*26;break;case"shmd":M.S2(i,$,Object.keys(h[f]).length);var Y=$+4;for(var G in h[f]){M.Mh(i,Y,"8BIM");
Y+=4;M.Mh(i,Y,G);Y+=4;M.S2(i,Y,0);Y+=4;M.S2(i,Y,0);Y+=4;M.S2(i,Y,16);Y+=4;var O=eR.EF(i,h[f][G],Y);if(O%4!=0)O+=4-O%4;
M.S2(i,Y-8,O+4);Y+=O}U=Y-$;break;case"TySh":var Y=$;M.Hu(i,Y,1);Y+=2;var o=h[f],s=new av;o.$D.DocumentResources=JSON.parse(JSON.stringify(o.$D.ResourceDict));
var J=je.ef(o.$D,s),W=k.Q(J,!0);for(var t=0;t<J;t++)W[t]=s.data[t];o.BZ.EngineData={t:"tdta",v:W};var N=o.$D.EngineDict.Editor.Text;
o.BZ.Txt.v=N.substring(0,N.length-1);M.aan(i,Y,o.D);Y+=48;M.Hu(i,Y,50);Y+=2;M.S2(i,Y,16);Y+=4;Y+=eR.EF(i,o.BZ,Y);
M.Hu(i,Y,1);Y+=2;M.S2(i,Y,16);Y+=4;Y+=eR.EF(i,o.sT,Y);M.alS(i,Y,o.MX);Y+=16;U=Y-$;break;case"lmfx":M.S2(i,$,0);
M.S2(i,$+4,16);var y=JSON.parse(JSON.stringify(h[f])),w=!1;fT.fM(y);for(var t=0;t<et.CE.length;t++)if(y[et.CE[t]]!=null)w=!0;
M.Mh(i,u,w?"lmfx":"lfx2");U=eR.EF(i,y,$+8)+8;break;case"Patt":var Y=eq.UM(i,$,h[f]);U=Y-$;break;case"SoLd":M.Mh(i,$,"soLD");
M.S2(i,$+4,4);M.S2(i,$+8,16);U=eR.EF(i,h[f],$+12)+12;break;case"vstk":case"pths":M.S2(i,$,16);U=eR.EF(i,h[f],$+4)+4;
break;case"vscg__":M.Mh(i,$,h[f].key);M.S2(i,$+4,16);U=eR.EF(i,h[f].L,$+8)+8;break;case"vogk":M.S2(i,$,1);
M.S2(i,$+4,16);k.X.atm(h[f]);for(var t=0;t<h[f].length;t++){var kv=h[f][t].v.keyOriginResolution;if(kv)kv.v=K._m}var g={classID:"null",keyDescriptorList:{t:"VlLs",v:h[f]}};
U=eR.EF(i,g,$+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var F=$;for(var t=0;t<h[f].length;t++){var b=h[f][t],jU=F;
M.M4(i,F,0);F+=8;M.Mh(i,F,b.type);F+=4;M.S2(i,F,b.XY);F+=4;i.w1(F,1);i.data[F]=b.$0.length;F++;M.Mh(i,F,b.$0);
F+=b.$0.length;M.mT(i,F,b.Wo+"\0");F+=4+b.Wo.length*2+2;M.Mh(i,F,b.$M);F+=4;M.Mh(i,F,b.$U);F+=4;M.M4(i,F,b.raw.length);
F+=8;i.w1(F,1);i.data[F]=b.open;F++;M.Pm(i,F,b.raw);F+=b.raw.length;M.S2(i,F,1);F+=4;F+=11;var _=F-jU-8;
M.M4(i,jU,_);if(_%4!=0){i.w1(F,4-_%4);F+=4-_%4}}U=F-$;break;case"FEid":var F=$;M.S2(i,F,3);F+=4;for(var cY=0;
cY<h[f].length;cY++){var j3=h[f][cY];F+=4;var aS=F;F+=4;M.$h(i,F,j3.id);F+=j3.id.length+1;M.S2(i,F,1);
F+=4;var bL=k.Q(j3.rect.O()),cQ=j3.rect,cK=k.Q(cQ.O());F+=4;var el=F;F+=4;M._6(i,F,cQ);F+=16;M.S2(i,F,8);
F+=4;M.S2(i,F,24);F+=4;for(var t=0;t<24+2;t++){var gF=-1;if(t==0)gF=0;if(t==1)gF=1;if(t==2)gF=2;if(t==25)gF=3;
M.S2(i,F,gF!=-1?1:0);F+=4;if(gF!=-1){k.pO(j3.buffer,bL,gF);k.Zc(bL,j3.rect,cK,cQ);F+=4;var fj=F;F+=4;
i.w1(F,cQ.O()+2);F=eJ.Jk(!0,cK,i.data,cQ.e,cQ.n,F,3);M.S2(i,fj,F-(fj+4))}}M.S2(i,el,F-(el+4));i.w1(F,1);
i.data[F]=j3.z?1:0;F++;if(j3.z!=null){var i3=cQ,eT=k.Q(i3.O());eT.fill(j3.z.color);k.Zc(j3.z.channel,j3.z.rect,eT,i3);
M._6(i,F,i3);F+=16;F+=4;var eV=F;F+=4;i.w1(F,i3.O()+2);F=eJ.Jk(!0,eT,i.data,i3.e,i3.n,F,3);M.S2(i,eV,F-(eV+4))}var _=F-(aS+4);
M.S2(i,aS,_);if(_%4!=0)F+=4-_%4}U=F-$;break;case"Anno":var hr=$,it=h[f].length;M.oo(i,hr,2);M.oo(i,hr+2,1);
hr+=4;M.S2(i,hr,it);hr+=4;for(var t=0;t<it;t++){var f8=h[f][t],i$=f8[0],gS=f8[1],hT=hr;hr+=4;M.Mh(i,hr,"txtA");
hr+=4;i.w1(hr,2);i.data[hr]=1;i.data[hr+1]=28;hr+=2;M.oo(i,hr,1);hr+=2;M._6(i,hr,new bN(i$,gS,17,21));
hr+=16;M._6(i,hr,new bN(i$+8,gS+10,241,141));hr+=16;i.w1(hr,10);dN.O1(i.data,hr,f8[2]);hr+=10;hr+=M.$h(i,hr,f8[3]);
hr+=M.$h(i,hr,"");hr+=M.$h(i,hr,"D:20211012120233+01'00'");var gL=f8[4].length*2;M.S2(i,hr,12+2+gL);
hr+=4;M.Mh(i,hr,"txtC");hr+=4;M.S2(i,hr,2+gL);hr+=4;i.w1(hr,2);i.data[hr]=254;i.data[hr+1]=255;hr+=2;
M.agU(i,hr,f8[4]);hr+=gL;M.S2(i,hT,hr-hT)}U=hr-$;break;default:console.log("unknown layer tag: "+f+", size: "+U);
$-=12;continue}var iu=["Txt2","artd","extd","pths"];if(iu.indexOf(f)==-1)if(U%4!=0)U+=4-U%4;if(l)M.M4(i,$-8,U);
else M.S2(i,$-4,U);if(f!="luni"&&f!="TySh")if(U%4!=0)U+=4-U%4;$+=U}return $};fT.pi=function(i){for(var t=0;
t<et.order.length;t++){var $=et.order[t],h=et.CE[t];if(i[h]==null)i[h]={t:"VlLs",v:[]};if(i[$]!=null){i[h].v.push(i[$]);
delete i[$]}var d=[];for(var K=0;K<i[h].v.length;K++){var f=i[h].v[K];if(f.v.present==null||f.v.present.v==!0)d.push(f)}i[h].v=d}};
fT.fM=function(i){for(var t=0;t<et.order.length;t++){var $=et.order[t],h=et.CE[t],d=i[h].v.length;if(d==0){delete i[h];
continue}if(d==1){i[$]=i[h].v[0];delete i[h];continue}}};fT.oa=function(i,$){if($=="GdFl"){if(i.Angl==null)i.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(i.Algn==null)i.Algn={v:!0,t:"bool"};if(i.Scl==null)i.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(i.Ofst==null)i.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(i.Rvrs==null)i.Rvrs={v:!1,t:"bool"};if(i.Dthr==null)i.Dthr={v:!1,t:"bool"}}if($=="PtFl"){if(i.Algn==null)i.Algn={v:!0,t:"bool"};
if(i.Angl==null)i.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(i.Scl==null)i.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(i.phase==null)i.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};fT.clone=function(i,$){var h={};
if(i=="TySh"){h.D=$.D.clone();h.BZ=JSON.parse(JSON.stringify($.BZ));h.sT=JSON.parse(JSON.stringify($.sT));
h.MX=$.MX.clone();h.$D=JSON.parse(JSON.stringify($.$D));if($.add)h.add={vmsk:$.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify($.add.vogk))};
return h}else if(i=="fxrp")return $.clone();else if(i=="vmsk")return $.clone();else return JSON.parse(JSON.stringify($))};
function cx(i,$){}cx.cL=function(i,$,h,d){d=cx.auQ(i,$,h,d);return d};cx.ef=function(i,$,h,d,K){d=cx.ayl(i,$,h,d,K);
return d};cx.auQ=function(i,$,h,d){var K=d;i.rect=M.YJ(h,d);d+=16;var f=M.fd(h,d);d+=2;i.ix=[];var l=$.yl;
for(var t=0;t<f;t++){i.ix[t]={id:M.Sb(h,d),length:(l?M.WH:M.v)(h,d+2)};d+=l?10:6}var u=M.uX(h,d,4);d+=4;
if(u!="8BIM"){console.log("Invalid Blend mode signature: "+u);alert("Error in Photoshop file: wrong signature.");
throw"e"}i.R$=M.uX(h,d,4);d+=4;i.opacity=h[d];d+=1;i.sD=h[d]==1;d+=1;i.pM=h[d];d+=1;if(h[d]!=0)console.log("error in filler!");
d+=1;var U=M.v(h,d);d+=4;var y=d;d=cx.auw(i,h,d);d=cx.ajb(i,h,d);var a=M.LE(h,d);i.name=a.tZ;d+=a.length;
if(a.length%4!=0)d+=4-a.length%4;d=fT.Ds(h,d,y+U,i.add,l,$);if(i.add.lsct){if(i.add.lsct.R$)i.R$=i.add.lsct.R$;
i.add.lsct=i.add.lsct.type}return d};cx.ayl=function(i,$,h,d,K){var f=d;M._6(h,d,i.rect);d+=16;var l=i.asj();
M.oo(h,d,l.length);d+=2;var u=$.yl;K.push(d);for(var t=0;t<l.length;t++){M.Hu(h,d,l[t]);if(u)M.M4(h,d+2,0);
else M.S2(h,d+2,0);d+=u?10:6}M.Mh(h,d,"8BIM");d+=4;M.Mh(h,d,i.R$);d+=4;M.oC(h,d,i.opacity,1);d+=1;M.oC(h,d,i.sD?1:0,1);
d+=1;M.oC(h,d,i.pM,1);d+=1;M.oC(h,d,0,1);d+=1;var U=d;M.S2(h,d,0);d+=4;var y=d;d=cx.a6I(i,h,d);d=cx.ay9(i,h,d);
var a=M.$h(h,d,i.name.slice(0,255));d+=a;if(a%4!=0)d+=4-a%4;if(i.add.lsct){i.add.lsct={type:i.add.lsct};
if(i.R$=="pass"){i.add.lsct.R$="pass";i.R$="norm"}}if(i.R$=="pass")i.add.lsct={type:i.add.lsct,R$:"pass"};
if(i.add.brit)i.add.CgEd=i.add.brit;d=fT.uN(h,d,i.add,u,$);delete i.add.CgEd;if(i.add.lsct){if(i.add.lsct.R$)i.R$=i.add.lsct.R$;
i.add.lsct=i.add.lsct.type}var v=d-y;M.S2(h,U,v);return d};cx.auw=function(i,$,h){var d=M.v($,h);h+=4;
if(d==0)return h;var K=h;i.z=new H.k$;i.z.rect=M.YJ($,h);h+=16;i.z.color=$[h];h+=1;var f=cx.T$(i.z,$,h);
h+=1;if(f){var l=!1,u=255,U=0,y=255,a=0;for(var t=0;t<i.ix.length;t++)if(i.ix[t].id==-3)l=!0;if(l){i.oe=cx.kK($,h);
h+=18}var v=h,c=$[h];h++;if(c>>0&1){u=$[h];h++}if(c>>1&1){U=M.VM($,h);h+=8}if(c>>2&1){y=$[h];h++}if(c>>3&1){a=M.VM($,h);
h+=8}if((h-v&1)==1)h++;i.M_=[u,U,y,a]}else{if(d==20)h+=2;else{i.oe=cx.kK($,h);h+=18}}return K+d};cx.a6I=function(i,$,h){M.S2($,h,0);
h+=4;if(i.z==null)return h;var d=i.MQ(),K=i.add.vmsk,f=h,l=!0;M.S2($,h,0);M._6($,h,i.z.rect);h+=16;M.oC($,h,i.z.color);
h+=1;cx.TJ(i.z,$,h,l);h+=1;if(l){if(i.oe){cx.avS($,h,i.oe);h+=18}M.oC($,h,15);h+=1;M.oC($,h,d?d.Hw:255);
h+=1;M.YP($,h,d?d.Dc:0);h+=8;M.oC($,h,K?K.Hw:255);h+=1;M.YP($,h,K?K.Dc:0);h+=8;h++}M.S2($,f-4,h-f);return h};
cx.kK=function(i,$){var h=new H.k$;cx.T$(h,i,$);$+=1;h.color=i[$];$+=1;h.rect=M.YJ(i,$);$+=16;return h};
cx.avS=function(i,$,h){cx.TJ(h,i,$,!1);$+=1;M.oC(i,$,h.color);$+=1;M._6(i,$,h.rect);$+=16};cx.T$=function(i,$,h){var d=$[h];
i.sE=(d>>0&1)==0;i.isEnabled=(d>>1&1)==0;i.bs=(d>>3&1)==1;return d>>4&1};cx.TJ=function(i,$,h,d){var K=0;
if(!i.sE)K+=1<<0;if(!i.isEnabled)K+=1<<1;if(i.bs)K+=1<<3;if(d)K+=1<<4;M.oC($,h,K)};cx.ajb=function(i,$,h){var d=M.v($,h);
h+=4;for(var t=0;t<d;t++)i.$z[t]=$[h+t];return h+d};cx.ay9=function(i,$,h){M.S2($,h,i.$z.length);h+=4;
$.w1(h,40);for(var t=0;t<40;t++){$.data[h+t]=i.$z[t]}return h+40};function eJ(){}eJ.cL=function(i,$,h,d){d=eJ.ax3($,$.yl,$.zr,$.jt,i,h,d);
return d};eJ.t6=function(i,$,h,d,K,f){d=eJ.aeD(i,$,h,d,K,f);return d};eJ.ax3=function(i,$,h,d,K,f,l){var u=K.ix,U={},y=l;
for(var t=0;t<u.length;t++){var a=u[t],v=a.id,c=a.length,p;if(v==-3)p=K.oe.rect;else if(v==-2)p=K.z.rect;
else p=K.rect;var C=eJ.Ck($,h,f,p.e,p.n,l,c);l+=c;if(v==-3)K.oe.channel=C;else if(v==-2)K.z.channel=C;
else U["c"+v]=C}var T=new k.UT(0);T.Pi=null;if(d==3){T.o=U.c0;T.P=U.c1;T.Z=U.c2;T.Pi=U["c-1"]}else if(d==1){T.o=U.c0;
T.P=U.c0;T.Z=U.c0;T.Pi=U["c-1"]}else if(d==4){var E=i.ME.r1039,r=U.c0,Y=U.c1,S=U.c2,m=U.c3;if(E){var Q=E.akM,z=17;
if(Q==null){var n=ICC.R(E.buffer);console.log(n);Q=E.akM=ICC.U.sampleLUT(n,z)}var Z={o:r,P:Y,Z:S,Pi:m},P=k.Q(r.length*4);
k.ko(Z,P);k.Sp(P);ICC.U.applyLUT4(Q,z,P,P);k.dI(P,Z)}else{for(var t=0;t<r.length;t++){var V=1-r[t]*(1/255),I=1-Y[t]*(1/255),q=1-S[t]*(1/255),X=1-m[t]*(1/255),B=UDOC.C.cmykToRgb([V,I,q,X]);
r[t]=B[0]*255;Y[t]=B[1]*255;S[t]=B[2]*255}}T.o=r;T.P=Y;T.Z=S;T.Pi=U["c-1"]}if(T.o==null)T.o=k.Q(0);if(T.Pi==null&&T.o!=null){T.Pi=T.o.slice(0);
T.Pi.fill(255)}if(T.P==null)T.P=T.o.slice(0);if(T.Z==null)T.Z=T.o.slice(0);K.buffer=k.Q(Math.max(0,K.rect.O()*4));
k.ko(T,K.buffer);return l};eJ.aeD=function(i,$,h,d,K,f){var l=$.asj(),u=new k.UT($.rect.O());k.dI($.buffer,u);
for(var t=0;t<l.length;t++){var U=l[t],y,a;if(U==-3)y=$.oe.rect;else if(U==-2)y=$.z.rect;else y=$.rect;
if(U==-3)a=$.oe.channel;if(U==-2)a=$.z.channel;if(U==-1)a=u.Pi;if(U==0)a=u.o;if(U==1)a=u.P;if(U==2)a=u.Z;
h.w1(d,y.O()*3+4);var v=d;d=eJ.Jk(i,a,h.data,y.e,y.n,d,f[1]?3:1);var c=d-v;if(i)M.J4(h.data,K+t*10+2,c);
else M.N$(h.data,K+t*6+2,c)}return d};eJ.Ck=function(i,$,h,d,K,f,l){var u=M.fd(h,f);f+=2;return eJ.Nd(i,$,h,d,K,f,u,l-2)};
eJ.Jk=function(i,$,h,d,K,f,l){M.yJ(h,f,l);f+=2;f=eJ.Cm(i,$,h,d,K,f,l);return f};eJ.Nd=function(i,$,h,d,K,f,l,u){var U,y=d*K*($>>>3),a=y&3,v=y+(a==0?0:4-a);
if(u<=0){return k.Q(v)}if(l>3){console.log("unknown compression: "+l,d,K,d*K,u);l=0}if(l==0){if(f+v<=h.length)U=h.slice(f,f+v);
else{U=k.Q(y);for(var t=0;t<y;t++)U[t]=h[f+t]}f+=y}else if(l==1){U=k.Q(y);var c=i?4:2,p=eJ.QB(h,U,d,K,f,f+c*K,c);
f+=c*K+p}else if(l==2||l==3){var C=new Uint8Array(h.buffer,f+2,u-6),T=k.Q(v);UZIP.inflateRaw(C,T);if(l==3){if($==8)for(var E=0;
E<K;E++){var r=E*d+1,Y=r+d-1,S=T[r-1];for(var m=r;m<Y;m++){S+=T[m];T[m]=S&255}}else for(var E=0;E<K;
E++){var r=E*d+1,Y=r+d-1,S=T[2*r-2]<<8|T[2*r-1];for(var m=r;m<Y;m++){var z=m<<1;S+=T[z]<<8|T[z+1];T[z]=S>>>8;
T[z+1]=S&255}}}if(T.length==v)U=T;else{U=k.Q(v);for(var t=0;t<T.length;t++)U[t]=T[t]}}if($==16){var n=k.Q(d*K);
for(var t=0;t<y;t+=2)n[t>>>1]=U[t];U=n}return U};eJ.Cm=function(i,$,h,d,K,f,l){var u=d*K;if(l==0)for(var t=0;
t<u;t++)h[f++]=$[t];else if(l==1){var U=i?4:2,y=eJ.zz($,h,d,K,f,f+U*K,U);f+=U*K+y}else if(l==2||l==3){if(l==3){var a=new Uint8Array($.length);
for(var v=0;v<K;v++){var c=v*d+1,p=c+d-1,C=$[c-1];a[c-1]=C;for(var T=c;T<p;T++){a[T]=$[T]+(256-C)&255;
C=$[T]}}$=a}h[f]=120;h[f+1]=156;f+=2;var E=pako.deflateRaw($,{ai2:4});M.BB(h,f,E);f+=E.length+4}else console.log("Unknown compression: "+l);
return f};eJ.QB=function(i,$,h,d,K,f,l){if(!(i instanceof Uint8Array)||!($ instanceof Uint8Array))throw"e";
var u=f,U=d|0;if(l==2)for(var t=0;t<U;t++){var y=M.fd(i,K+(t<<1));eJ.AR(i,f,y,$,t*h,h);f+=y}else for(var t=0;
t<U;t++){var y=M.v(i,K+(t<<2));eJ.AR(i,f,y,$,t*h,h);f+=y}return f-u};eJ.zz=function(i,$,h,d,K,f,l){var u=f;
if(l==2)for(var t=0;t<d;t++){var U=eJ.ne(i,t*h,h,$,f);M.fq($,K+t*2,U);f+=U}else for(var t=0;t<d;t++){var U=eJ.ne(i,t*h,h,$,f);
M.N$($,K+t*4,U);f+=U}return f-u};eJ.ne=function(i,$,b4,h,d){var K,f,l,u,U,c$,y;u=$+b4;for(l=$,f=d;b4>0;
l=K,b4-=c$){y=b4<128?b4:128;if(l<=u-3&&i[l+1]==i[l+0]&&i[l+2]==i[l+0]){for(K=l+3;K<l+y&&i[K]==i[l+0];
)++K;c$=K-l;h[f++]=1+256-c$;h[f++]=i[l+0]}else{for(K=l;K<l+y;)if(K<=u-3&&i[K+1]==i[K+0]&&i[K+2]==i[K+0])break;
else++K;c$=K-l;h[f++]=c$-1;for(var t=0;t<c$;t++)h[f+t]=i[l+t];f+=c$}}return f-d};eJ.AR=function(i,$,h,d,K,f){for(var l=0;
l<h;){var b4=i[$++];if(b4>=128){var u=i[$++],U=K+(257-b4);d.fill(u,K,U);K=U;l+=2}else{for(var t=0;t<=b4;
t++)d[K+t]=i[$+t];$+=b4+1;K+=b4+1;l+=1+1+b4}}};function b_(){}b_.B1=function(i,$,h){return;var d="",K=$;
while(K!=0){var f=K%1e3+"";while(f.length<3)f="0"+f;d=(d==""?f:f+" ")+d;K=Math.floor(K/1e3)}while(d.startsWith("0")&&d!="0")d=d.slice(1);
while(d.length<11)d=" "+d;console.log("===",d,"\t".repeat(i),": "+h)};b_.apG=function(i){var $={ME:{}},d=0,K=0,u;
$.yl=!1;$.zr=8;var h=new Uint8Array(i);K=b_.J$($,h,d);d=K;K=b_.G2($,h,d);d=K;var f=M.v(h,d);d+=4+f;var l=$.yl?8:4;
if($.yl)u=M.WH(h,d);else u=M.v(h,d);d+=l+u;K=b_.Yg($,h,d);return[{kp:new bN(0,0,$.e,$.n),data:$.buffer.buffer}]};
b_.cL=function(i,$){$.yl=!1;$.zr=8;var h=new Uint8Array(i),d=0,K=0,A,bL=!1,cQ=!0,cK=!1,el=0,df=0;K=b_.J$($,h,d);
b_.B1(0,K-d,"PSD Header");d=K;K=b_.G2($,h,d);b_.B1(0,K-d,"Color Mode Data");d=K;K=b_.a5Q($,h,d);b_.B1(0,K-d,"Image Resources");
d=K;K=b_.a9t($,h,d);b_.B1(0,K-d,"Layer And Mask Info");d=K;K=b_.Yg($,h,d);b_.B1(0,K-d,"Merged Image");
d=K;if($.B.length==0){var f=$.Dw();f.DN("Background");$.B.push(f);f.buffer=$.buffer.slice(0);f.rect=new bN(0,0,$.e,$.n)}if($.ME.r1005){$._m=M.acb($.ME.r1005,0)}if($.ME.r1026){var h=$.ME.r1026;
for(var t=0;t<h.length;t+=2){var K=$.B[t>>>1];if(K)K.nM=M.fd(h,t)}}if($.ME.r1072){var h=$.ME.r1072;for(var t=0;
t<h.length;t++){var K=$.B[t];if(K)K.wf=h[t]==1}}if($.ME.r1032){$.C9=b_.zc($.ME.r1032,0)}delete $.ME.r1036;
$.h6($.ME.r1039);if($.ME.r1050){var l=M.v,u=$.ME.r1050,U=M.v(u,0);if(U==6){var y=4,a=M.YJ(u,y);y+=16;
var v=M.QV(u,y);y+=4+v.length*2;var c=l(u,y);y+=4;var p=$.ky;for(var t=0;t<c;t++){var C=D.Zo.l7(),E;
p.push(C);C=C.v;C.sliceID.v=l(u,y);y+=4;C.groupID.v=l(u,y);y+=4;var T=l(u,y);y+=4;if(T==1){E=l(u,y);
y+=4}var v=M.QV(u,y);y+=4+v.length*2;var r=l(u,y);y+=4;var Y=[l(u,y),l(u,y+4),l(u,y+8),l(u,y+12)];y+=16;
D.Zo.Yr(p,p.length-1,Y);var S=C.url.v=M.QV(u,y);y+=4+S.length*2;var m=C.null.v=M.QV(u,y);y+=4+m.length*2;
var Q=C.Msge.v=M.QV(u,y);y+=4+Q.length*2;var z=C.altTag.v=M.QV(u,y);y+=4+z.length*2;C.cellTextIsHTML.v=u[y]==1;
y++;var n=C.cellText.v=M.QV(u,y);y+=4+n.length*2;var Z=l(u,y);y+=4;var P=l(u,y);y+=4;var V=u.slice(y,y+4);
y+=4;if(T!=2)p.pop()}}else if(U==8){var I={};eR.jc(u,I,8,!1);var u=$.ky=I.slices.v;for(var t=0;t<u.length;
t++){if(u[t].v.origin.v.ESliceOrigin!="userGenerated"){u.splice(t,1);t--}}}}if($.ME.r1058){var q=$.ME.r1058,X=UTIF.decode(q.buffer,{parseMN:!1,debug:!1});
aX.qB(X[0],$.Y3);delete $.ME.r1058}if($.ME.r1060){var B=M.kV($.ME.r1060);aX.agS(B,$.Y3);delete $.ME.r1060}if($.ME.r1065){var h=$.ME.r1065;
$.wh={};eR.jc(h,$.wh,4,!1)}if($.ME.r1069){var h=$.ME.r1069,e=[];for(var t=2;t<h.length;t+=4){var E=M.v(h,t);
for(var F=0;F<$.B.length;F++){var K=$.B[F];if(K.add.lyid==E&&K.add.lsct!=3)e.push(F)}}$.g=e}if($.ME.r1025){var s=$.ME.r1025;
delete $.ME.r1025;var J=fC.B9(s,0,s.length,$.e,$.n),W=new H.LF;W.i=J;$.w3[0]=hR.SG("Working Path",{vmsk:W})}var L=$.add.pths;
delete $.add.pths;var j=$.ME.r3000;if(j){A={};eR.jc(j,A,4,!1);delete $.ME.r3000}if(L){var G=L.pathSymmetrySelectedPath;
if(G){var O=L.pathList.v[G.v].v,o=O.pathUnicodeName.v;$.dV=o.startsWith("Tile Symmetry")}}for(var N=0;
N<=997;N++){var w="r"+(2e3+N),s=$.ME[w];if(s==null)break;var J=fC.B9(s,0,s.length,$.e,$.n),o="Path "+N;
if(L){var kv=L.pathList.v[N].v;o=kv.pathUnicodeName.v;if(o=="Tile Symmetry 1")continue}var g=A?A.keyRootDescriptorList.v[N].v.keyDescriptorList.v:H.Yt(J),W=new H.LF;
W.i=J;$.w3.push(hR.SG(o,{vmsk:W,vogk:g}));delete $.ME[w]}delete $.yl;var b=$.ME.r7000,jU=$.ME.r7001;
if(b){var _=M.kV(b);$.H0=b_.ew(_)}if(jU){var _=M.kV(jU);$.OH=b_.o$(_)}delete $.ME.r7000;delete $.ME.r7001;
var cY=new bN(0,0,$.e,$.n),j3=$.add.Txt2,aS=j3;if(aS){aS=aS.vG;if(aS._DocumentResources==null)aS=g4.aeA(aS)}var gF=-1;
for(var t=0;t<$.B.length;t++){var K=$.B[t],fj=K.add.lsct,i3=K.add.vmsk,eT=K.MQ();if(fj==gX.ZH){el++;
K.add.lspf=0}else if(fj==gX.DU||fj==gX.qC)el--;if(K.name==""){K.name="Layer "+(t+1);cK=!0}if(cK&&K.BT()&&K.R$=="norm")K.R$="pass";
if(K.Hm()&&K.Hi($).z){var eV=K.Hi($);eV.z.isEnabled=K.add.SoLd.filterFX.v.filterMaskEnable.v}if(i3&&K.A$()){var hr=et._T.default;
if(K.add.vstk==null)K.add.vstk=JSON.parse(JSON.stringify(hr));else{var it="strokeStyleLineDashSet";if(K.add.vstk[it]==null)K.add.vstk[it]=JSON.parse(JSON.stringify(hr[it]))}K.add.vstk.strokeStyleResolution.v=$._m}if(i3&&(K.add.vogk==null||k.A.P6(i3.i)!=K.add.vogk.length))K.Yt();
if(!1){var f8=K.add.vogk,i$=!0;for(var gS=0;gS<f8.length;gS++){var hT=f8[gS].v.keyShapeInvalidated;if(hT==null||hT.v==!1)i$=!1}if(i$)K.Yt()}if(K.add.SoLd&&K.rect.NT()){console.log("redrawing smart instance");
K.u8($)}if(eT==null&&K.z!=null){if(K.z.bs==!1){K.z.bs=!0;K.oe=K.z.clone()}}eT=K.MQ();if(K.M_){var hr=K.M_,W=i3;
if(eT){eT.Hw=hr[0];eT.Dc=hr[1]}if(W){W.Hw=hr[2];W.Dc=hr[3]}K.M_=null}if(eT!=null&&i3!=null&&(eT.Dc+i3.Dc!=0||eT.Hw+i3.Hw!=2*255))K.ET($);
else if(i3!=null&&!K.A$())K.ET();else if(eT&&eT.Hw!=255&&K.A$())K.ET($);var gL=K.add.artb;if(gL&&gL.artboardBackgroundType==null)gL.artboardBackgroundType={t:"long",v:1};
if(gL&&el!=0)delete K.add.artb;var iu=K.add.vstk;if(K.A$()&&(K.rect.NT()||i3&&i3.Dc!=0||iu&&!iu.fillEnabled.v&&(!iu.strokeEnabled.v||iu.strokeStyleLineWidth.v.val==0)))K.RA($);
if(K.add.TySh){bL=!0;if(!K.rect.NT())cQ=!1}if(K.add.TySh&&aS){gF++;var dB=K.add.TySh.$D,jt=jP.__(dB),ka=aS._DocumentObjects._TextObjects;
if(ka.length<=gF){console.log("Txt2 incomplete");continue}var eQ=ka[gF]._Model,dv=eQ._StyleRun?eQ._StyleRun._RunArray:[],cT=dB.EngineDict.StyleRun.RunArray;
for(var eY=0;eY<cT.length;eY++){var gl=cT[eY].StyleSheet.StyleSheetData;if(dv[eY]==null)continue;var dY=dv[eY]._RunData._StyleSheet._Features;
if(dY&&dY._BaselineDirection)gl.BaselineDirection=parseInt(dY._BaselineDirection.slice(1));if(dY&&dY._FillBackgroundFlag)gl._FillBackgroundFlag=dY._FillBackgroundFlag;
if(dY&&dY._FillBackgroundColor){var gE=dY._FillBackgroundColor,cs=gE._Color._Values.slice(0);for(var F=0;
F<4;F++)cs[F]=parseFloat(cs[F].slice(1));gl._FillBackgroundColor={Type:1,Values:cs}}if(dY&&dY._LineWidth)gl._LineWidth=parseFloat(dY._LineWidth.slice(1))}var au=dB.EngineDict.ParagraphRun.RunArray,b8=eQ._ParagraphRun._RunArray;
if(b8==null)b8=[];var jw=Math.min(b8.length,au.length);for(var F=0;F<jw;F++){var ek=au[F].ParagraphSheet.Properties,cj=aS._DocumentResources._ParagraphSheetSet._Resources,jJ=b8[F]._RunData._ParagraphSheet;
if(typeof jJ=="string")jJ=cj[parseInt(jJ.slice(1))]._Resource;var hp=jJ._Parent==null?jJ:cj[parseInt(jJ._Parent.slice(1))]._Resource;
jJ=jJ._Features;hp=hp._Features;var dW=jJ._ParagraphDirection;if(dW==null)dW=hp._ParagraphDirection;
if(dW)ek._Direction=parseInt(dW.slice(1));if(jJ._ComposerEngine)ek._ComposerEngine=parseInt(jJ._ComposerEngine.slice(1))}if(eQ._AlternateGlyphRun){var b8=eQ._AlternateGlyphRun._RunArray,jw=b8.length,h4=dB.EngineDict.AlternateGlyphRun=jP.a82();
for(var F=0;F<jw;F++){var jJ=b8[F],er={},hG=jJ._RunData._AlternateGlyphSheet;if(hG)er.Glyph=parseInt(hG._Glyph.slice(1));
h4.RunArray.push(er);h4.RunLengthArray.push(parseInt(jJ._Length.slice(1)))}}var i_=aS._DocumentResources,aK=i_._TextFrameSet._Resources,bG=aK[gF]._Resource,dx=bG._Data,aH=new ej(1,0,0,1,0,0);
if(bG._0){var cU=parseFloat(bG._0[0].slice(1)),kr=parseFloat(bG._0[1].slice(1));aH.translate(cU,kr)}if(jt){aH.translate(jt[0],jt[1]);
jP.pt(dB,[0,0,jt[2]-jt[0],jt[3]-jt[1]])}else{if(bG._Bezier&&bG._Bezier._Points){var J=bG._Bezier._Points,cU=parseFloat(J[0].slice(1)),kr=parseFloat(J[1].slice(1));
if(cU!=0||kr!=0){aH.translate(cU,kr)}}}if(bG._Data&&bG._Data._FrameMatrix){var cL=bG._Data._FrameMatrix;
cL=cL.map(function(iq){return parseFloat(iq.slice(1))});aH.concat(new ej(cL[0],cL[1],cL[2],cL[3],cL[4],cL[5]))}aH.concat(K.add.TySh.D);
K.add.TySh.D=aH;var r=dx._Type?parseInt(dx._Type.slice(1)):0;if(r==2||r==1&&dx._PathData&&dx._PathData._Spacing=="i-3")if(bG._Bezier){var aj=function(iq){return parseFloat(iq.slice(1))},J=bG._Bezier._Points.map(aj);
if(jt)k.p.D(J,new ej(1,0,0,1,-jt[0],-jt[1]),J);var js=dx._PathData?dx._PathData._Reversed:!1,ey=dx._TextOnPathTRange;
if(ey==null)ey=["f-3","f-3"];dB.Curve={Points:J,TextOnPathTRange:ey.map(aj),Reversed:js==null?!1:js};
K.add.TySh.add={vmsk:new H.LF,vogk:null};jP.rX(K.add.TySh)}if(dx._LineOrientation=="i2")dB._LineOrientation=2}}D.Re.lO($,!0);
var dr={},af=[];for(var t=0;t<$.B.length;t++){var cB=$.B[t].add.lyid;if(cB==null)continue;var df=Math.max(df,cB);
if(dr[cB]!=null)af.push(t);else dr[cB]=!0}for(var t=0;t<af.length;t++)$.B[af[t]].add.lyid=df+1+t};b_.zc=function(i,$){var h=M.v(i,$+12),d=[];
for(var t=0;t<h;t++){var K=i[$+16+t*5+4],f=M.$I(i,$+16+t*5)/32;d.push([K,f])}return d};b_.ew=function(i){var $=new DOMParser,h=$.parseFromString(i,"text/xml").firstChild.children[0],d=h.getElementsByTagName("variables");
if(d.length==0)return[];d=d[0].children;var K=[],f="varName trait docRef placementMethod align valign clip".split(" ");
for(var l=0;l<d.length;l++){var u=d[l],U={};K.push(U);for(var y=0;y<f.length;y++){var a=f[y],v=u.getAttribute(a);
if(v==null)continue;U[a]=v}}return K};b_.o$=function(i){var $=new DOMParser,h=$.parseFromString(i,"text/xml").firstChild.children,d=[[]];
if(h==null)return d;for(var t=0;t<h.length;t++){var K=h[t],f=[];d.push(f);for(var l=0;l<K.children.length;
l++){var u=K.children[l];if(t==0)d[0].push(u.tagName);f.push(u.textContent)}}return d};b_.ef=function(i,$,h){D.Re.ZN(i);
D.Re.lO(i,!1);i.yl=h[3]==!0;var d=[],K=[],C=0,E=1,z=16,cK=0;for(var t=0;t<i.B.length;t++){var f=i.B[t];
if(f.Hm()&&f.Hi(i).z){f.add.SoLd.filterFX.v.filterMaskEnable.v=f.Hi(i).z.isEnabled}if(f.add.TySh){var l=f.add.TySh.$D,u=jP.dO(l);
f.add.TySh.BZ.TextIndex={t:"long",v:d.length};d.push(l);if(u==2)jP.QQ(f.add.TySh)}var U=f.add.vstk;if(U)U.strokeStyleResolution.v=i._m;
if(f.A$()||h[2]&&f.add.SoLd){K[t]=[f.rect,f.buffer];f.rect=new bN;f.buffer=k.Q(0);if(f.add.SoLd){var y=f.Hi(i);
if(y!=null){K[t].push(y.buffer);y.buffer=k.Q(y.buffer.length)}}}}if(d.length>0){var a=i.add.Txt2?i.add.Txt2.vG:null;
if(i.add.Txt2==null)i.add.Txt2={};i.add.Txt2.vG=iR.ajm(d,null,a)}var v=[i.add.lnk2,i.add.FEid,i.add.Patt],c=i.apX(i.B);
i.auH(c);i.ME.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);M.Eb(i.ME.r1005,0,i._m);M.Eb(i.ME.r1005,8,i._m);
if(i.Z7()){i.ME.r1022=new Uint8Array([0,3+i.kY.length-1,0])}else delete i.ME.r1022;var p=new Uint8Array(i.B.length*2),T=new Uint8Array(i.B.length);
for(var t=0;t<i.B.length;t++){var f=i.B[t],r=f.nM,Y=f.wf?1:0;M.fq(p,t*2,r);T[t]=Y;if(r>C)C=r;if(Y==0)E=0}if(C>0)i.ME.r1026=p;
if(E<1)i.ME.r1072=T;var S=i.C9,m=S.length,Q=i.ME.r1032=k.Q(16+5*m,!0);M.N$(Q,0,1);M.N$(Q,4,576);M.N$(Q,8,576);
M.N$(Q,12,m);for(var t=0;t<m;t++){M.yj(Q,z,Math.round(S[t][1]*32));Q[z+4]=S[t][0];z+=5}if(h[0]!=!0){var n=[i.buffer,new bN(0,0,i.e,i.n)],Z=0;
k.SL(n);while(n[Z+1].O()>200*200)Z+=2;var P=em.Q_("jpg"),V=n[Z+1],I=new Uint8Array(P.Pa([[n[Z].buffer]],V.e,V.n)),Q=i.ME.r1036=k.Q(28+I.length);
M.N$(Q,0,1);M.N$(Q,4,V.e);M.N$(Q,8,V.n);M.N$(Q,12,V.e*3);M.N$(Q,16,V.O()*3);M.N$(Q,20,I.length);M.fq(Q,24,24);
M.fq(Q,26,1);Q.set(I,28)}var q=k.ym(i.buffer),X=[];if(q)X.push({name:"Transparency",Co:{o:255,P:0,Z:0},Gu:100,Ww:1});
X=X.concat(i.kY);delete i.ME.r1045;delete i.ME.r1006;delete i.ME.r1077;var B=new av;z=0;var e=new Uint8Array(4+X.length*13);
e[3]=1;for(var t=0;t<X.length;t++){var F=X[t],s=F.name+"\0";M.mT(B,z,s);z+=4+s.length*2;var J=4+t*13;
dN.O1(e,J,F.Co);e[J+11]=F.Gu;e[J+12]=F.Ww}i.ME.r1045=B.data.slice(0,z);i.ME.r1077=e;for(var t=0;t<i.ky.length;
t++)i.ky[i.ky.length-t-1].v.sliceID.v=2+t*3;var W={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:i.ky}},B=new av;
M.S2(B,0,8);M.S2(B,4,16);var L=eR.EF(B,W,8);i.ME.r1050=B.data.slice(0,L+8);var B=new av;M.S2(B,0,16);
var L=eR.EF(B,i.wh,4);i.ME.r1065=B.data.slice(0,L+4);var A=i.g;Q=i.ME.r1069=k.Q(2+A.length*4,!0);M.fq(Q,0,A.length);
for(var t=0;t<A.length;t++)M.N$(Q,2+4*t,i.B[A[t]].add.lyid);delete i.ME.r1058;delete i.ME.r1060;if(Object.keys(i.Y3).length!=0){var j=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
aX.v0(i.Y3,j[0],h[0]&&h[1]);i.ME.r1058=new Uint8Array(UTIF.encode(j));var G=aX.auG(i.Y3);i.ME.r1060=M.Mr(G)}var O=[],o=[],N=i.w3.slice(0);
if(i.dV){var w=fC.LC([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),kv=new H.LF;
kv.i=w;N.push(hR.SG("Tile Symmetry 1",{vmsk:kv,vogk:H.Yt(w)}))}for(var t=0;t<N.length;t++){var g=N[t],w=g.add.vmsk.i;
if(t==0&&w.length==2)continue;var b=k.Q(w.length*26);fC.Dk(b,0,w,i.e,i.n);var jU=t==0?1025:2e3+t-1;i.ME["r"+jU]=b;
if(t!=0){var _={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:g.name}};if(g.name=="Tile Symmetry 1")_.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
O.push({t:"Objc",v:_});o.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:g.add.vogk}}})}}if(O.length!=0){i.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:O}};
if(i.dV)i.add.pths.pathSymmetrySelectedPath={t:"long",v:O.length-1};o={classID:"null",keyRootDescriptorList:{t:"VlLs",v:o}};
var B=new av;M.S2(B,0,16);var L=eR.EF(B,o,4);i.ME.r3000=B.data.slice(0,L+4)}else{delete i.add.pths;delete i.ME.r3000}if(i.H0.length!=0){var cY="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var t=0;t<i.H0.length;t++){var j3=i.H0[t],aS=[];for(var jU in j3)aS.push(jU+"=\""+j3[jU]+"\"");cY+="<variable "+aS.join(" ")+">\n</variable>\n"}cY+="</variables>\n</variableSet>\n</variableSets>";
i.ME.r7000=M.Mr(cY)}if(i.OH.length!=0){var cY="<sampleDataSets psdPath=\""+i.name+"\">\n";for(var t=1;
t<i.OH.length;t++){var bL=i.OH[t];cY+="<sampleDataSet dataSetName=\"Data Set "+t+"\">\n";for(var cQ=0;
cQ<bL.length;cQ++)cY+="<"+i.OH[0][cQ]+">"+bL[cQ].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+i.OH[0][cQ]+">\n";
cY+="</sampleDataSet>\n"}cY+="</sampleDataSets>";i.ME.r7001=M.Mr(cY)}cK=b_.akv(i,$,cK,3+X.length);cK=b_.ahQ(i,$,cK);
cK=b_.ac0(i,$,cK);cK=b_.a0D(i,$,cK,h,q);cK=b_.a9N(i,$,cK,h[0],q);var el=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var t=0;t<el.length;t++)delete i.ME["r"+el[t]];for(var t=0;t<i.B.length;t++){var f=i.B[t];if(f.A$()||h[2]&&f.add.SoLd){f.rect=K[t][0];
f.buffer=K[t][1];if(K[t][2]){var y=f.Hi(i);K[t].push(y.buffer);y.buffer=K[t][2]}}}i.auH(v);D.Re.lO(i,!0);
delete i.yl;return cK};b_.J$=function(i,$,h){var d=M.uX($,h,4);h+=4;if(d!="8BPS")alert("invalid header signature: "+d);
var K=M.fd($,h);h+=2;i.yl=K==2;if(K!=1&&K!=2)alert("invalid version: "+K);h+=6;i.ru=M.fd($,h);h+=2;i.n=M.$I($,h);
h+=4;i.e=M.$I($,h);h+=4;i.zr=M.fd($,h);h+=2;i.jt=M.fd($,h);h+=2;return h};b_.akv=function(i,$,h,d){$.w1(0,64);
M.vI($.data,h,"8BPS");h+=4;M.fq($.data,h,i.yl?2:1);h+=2;M.N$($.data,h,0);h+=4;M.fq($.data,h,0);h+=2;
M.fq($.data,h,d);h+=2;M.yj($.data,h,i.n);h+=4;M.yj($.data,h,i.e);h+=4;M.fq($.data,h,8);h+=2;M.fq($.data,h,3);
h+=2;return h};b_.G2=function(i,$,h){var d=M.$I($,h);h+=4;if(d!=0)i.Z$=$.slice(h,h+d);h+=d;return h};
b_.ahQ=function(i,$,h){M.M5($,h,0);h+=4;return h};b_.a5Q=function(i,$,h){var d=M.v($,h),K=0;h+=4;var f=[];
while(K<d){var l=M.uX($,h+K,4);K+=4;var u=M.fd($,h+K);K+=2;var U=M.LE($,h+K);K+=U.length;if(l=="MeSa"&&(u==7e3||u==7001)){}else if(l!="8BIM"){f.push(u);
console.log("Unknown Image Resources signature: "+l+", ID: "+u)}var y=M.v($,h+K);K+=4;if(i.ME["r"+u]!=null)console.log("--- two resources with same ID");
i.ME["r"+u]=M.ed($,h+K,y);K+=y+(y&1)}for(var t=0;t<f.length;t++)delete i.ME["r"+f[t]];return h+d};b_.ac0=function(i,$,h){var d=h,l=0;
h+=4;var K=[];for(var f in i.ME){K.push(parseInt(f.slice(1)))}K.sort(function(v,c){return v-c});for(var t=0;
t<K.length;t++){var u=K[t];M.Mh($,h+l,u==7e3||u==7001?"MeSa":"8BIM");l+=4;M.oo($,h+l,u);l+=2;var U=M.$h($,h+l,"");
l+=U;var y=i.ME["r"+u],a=y.length;M.S2($,h+l,a);l+=4;M.Pm($,h+l,y);l+=a;if(a%2==1)l++}M.S2($,d,l);return h+l};
b_.a9t=function(i,$,h){var d=h,K,f,l=i.yl?8:4;if(i.yl)K=M.WH($,h);else K=M.v($,h);h+=l;if(K==0)return d+l;
f=b_.apx(i,$,h);b_.B1(1,f-h,"Layer Info");h=f;f=b_.awW(i,$,h);b_.B1(1,f-h,"Global Layer Mask Info");
h=f;f=fT.Ds($,h,d+l+K,i.add,i.yl,i);b_.B1(1,f-h,"Project Add Info");h=f;return d+l+K};b_.a0D=function(i,$,h,d,K){var f=h;
M.S2($,h,0);h+=4;if(i.yl){M.S2($,h,0);h+=4}h=b_.a3K(i,$,h,d,K);h=b_.aka(i,$,h);h=fT.uN($,h,i.add,i.yl,i);
if(i.yl)M.M4($,f,h-f-8);else M.S2($,f,h-f-4);return h};b_.apx=function(i,$,h){var d,K=i.yl?8:4;if(i.yl)d=M.WH($,h);
else d=M.v($,h);h+=K;if(d!=0)b_.Xx(i,$,h);return h+d};b_.Xx=function(i,$,h){var d=M.Sb($,h);h+=2;var K=Math.abs(d);
for(var t=0;t<K;t++){var f=new H;h=cx.cL(f,i,$,h);i.B[t]=f}var l=new bN(0,0,i.e,i.n);for(var t=0;t<K;
t++){var u=i.B[t],U=u.MQ(),y=eJ.cL(u,i,$,h);if(y-h>8)b_.B1(2,y-h,"Lay: "+u.getName());h=y;b_.rN(u,l);
if(U)b_.rN(U,l)}};b_.rN=function(i,$){var h=i.rect.O(),d=i.rect.Js($),K=d.O()/h;if(h>2e3*3e3&&K<.5){if(i.buffer){var f=k.Q(d.O()*4);
k.mC(i.buffer,i.rect,f,d);i.buffer=f;i.rect=d}else{var f=k.Q(d.O());k.Zc(i.channel,i.rect,f,d);i.channel=f;
i.rect=d}alert("Removing hidden parts of layers")}};b_.a3K=function(i,$,h,d,K){var f=h,l=i.yl;h+=l?8:4;
h=b_.an4(i,$,h,d,K);var u=h-f-(l?8:4);if(u%2!=0)u++;if(l)M.M4($,f,u);else M.S2($,f,u);return f+u+(l?8:4)};
b_.an4=function(i,$,h,d,K){var f=i.B.length;M.Hu($,h,K?-f:f);h+=2;var l=[];for(var t=0;t<f;t++)h=cx.ef(i.B[t],i,$,h,l);
for(var t=0;t<f;t++)h=eJ.t6(i.yl,i.B[t],$,h,l[t],d);return h};b_.awW=function(i,$,h){var d=M.v($,h);
h+=4;h+=d;return h};b_.aka=function(i,$,h){var d=M.S2($,h,0);h+=4;return h};b_.Yg=function(i,$,h){var d=i.jt,K="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),f=[1,1,1,3,4,1,1,3],l,T;
if(d!=3){if(d==1||d==2||d==4)console.log("Project will be converted from "+K[d]+" to "+K[3]+" mode.");
else{alert("Color mode "+K[d]+" is not supported yet :(")}if(d==4)i.add.fcmy=1}if(i.ME.r1045){l=[];var u=i.ME.r1045,U=0;
while(U<u.length){var y=M.Yw(u,U);l.push(y);U+=4+2+y.length*2}}var a=f[d]+(l==null||l[0]=="Transparency"?1:0),v=i.e,c=i.n,p=v*c,C=M.fd($,h);
h+=2;i.buffer=k.Q(p*4);k.MK(i.buffer,4278190080);var E=h;for(var r=0;r<i.ru;r++){if(C==0){T=eJ.Nd(i.yl,i.zr,$,v,c,h,C);
h+=p*(i.zr>>>3)}else if(C==1){T=k.Q(p);var Y=i.yl?4:2;if(r==0)h+=i.ru*c*Y;h+=eJ.QB($,T,v,c,E+r*c*Y,h,Y)}else{console.log("unknown compression of image data: ",C);
return}if(r<a){k.k1(T,i.buffer,r);if(i.ru==1&&r==0){k.k1(T,i.buffer,1);k.k1(T,i.buffer,2)}}else{var S=new H.k$,m=r-a,Q=r-f[i.jt];
S.name=l?l[Q]:"Alpha";if(S.name=="Quick Mask"){S.$$=!0;i.o7.push(m)}S.rect=new bN(0,0,v,c);S.channel=T;
S.color=0;S.HH();i.kY[m]=S;if(i.ME.r1077){var u=i.ME.r1077.slice(4+Q*13);S.Co=dN.cE(u,0);S.Gu=u[11];
S.Ww=u[12];if(S.Ww==2)S.$$=!0}}}i.ru=4;if(i.jt==2)for(var t=0;t<p;t++){var z=t*4,n=i.buffer[z];i.buffer[z]=i.Z$[0+n];
i.buffer[z+1]=i.Z$[256+n];i.buffer[z+2]=i.Z$[512+n]}return h};b_.a9N=function(i,$,h,d,K){var f=1,l=16,u=i.e,U=i.n,a,v;
M.oo($,h,f);h+=2;var y=u*U;if(!d){v=new k.UT(u*U);k.dI(i.buffer,v);var c=v.o,p=v.P,C=v.Z,T=v.Pi;for(var t=0;
t<y;t++){var E=T[t]*(1/255);c[t]=~~(c[t]*E+255*(1-E));p[t]=~~(p[t]*E+255*(1-E));C[t]=~~(C[t]*E+255*(1-E))}}else a=k.Q(y);
var r=[a,a,a];if(!d)r=[v.o,v.P,v.Z];if(K)r.push(d?a:v.Pi);for(var t=0;t<i.kY.length;t++){r.push(i.kY[t].os(new bN(0,0,i.e,i.n)))}var Y=h;
for(var S=0;S<r.length;S++){$.w1(h,u*U+4);a=r[S];if(f==0||f==2||f==3)h=eJ.Cm(i.yl,a,$.data,u,U,h,f);
else{var m=i.yl?4:2;if(S==0)h+=r.length*U*m;var Q=h;h+=eJ.zz(a,$.data,u,U,Y+S*U*m,h,m)}}return h};function je(){}je.cL=function(i){var $={};
je.uY(i,$,0,0);return $};je.ef=function(i,$){var h=0;h=je.$a(i,$,h,0);return h};je.uY=function(i,$,h,d){while(i[h]!="<".charCodeAt(0))h++;
h+=2;while(!0){if(i[h]=="/".charCodeAt(0)){h++;var K=M.indexOf(i," ".charCodeAt(0),h,h+50),f=M.indexOf(i,"\n".charCodeAt(0),h,h+50);
if(f==-1)f=Infinity;if(K==-1)K=Infinity;var l=Math.min(f,K),u=M.uX(i,h,l-h),U=je.Cx(i,l+1,d+1,u);$[u]=U.L;
h=l+1;h+=U.size}else if(i[h]==">".charCodeAt(0)){h+=2;break}else{var y=i[h];if(y==10||y==9||y==32)h++;
else{console.log("unknown byte: "+y+", char: "+String.fromCharCode(y),h);h++}}}return h};je.$a=function(i,$,h,d){M.Mh($,h,"<<\n");
h+=3;var K=je.a3_;for(var f in i){M.oC($,h,"\t".charCodeAt(0),d+1);h+=d+1;M.Mh($,h,"/"+f);h+=1+f.length;
if(K(i[f])||i[f]instanceof Array){M.Mh($,h," ");h++}else{M.Mh($,h,"\n");h++;M.oC($,h,"\t".charCodeAt(0),d+1);
h+=d+1}h=je.$w(i[f],$,h,d+1);M.Mh($,h,"\n");h++}M.oC($,h,"\t".charCodeAt(0),d);h+=d;M.Mh($,h,">>");h+=2;
return h};je.Cx=function(i,$,h,d){var K=$,f={size:0,L:0};while(!0){while(i[$]==" ".charCodeAt(0)||i[$]=="\t".charCodeAt(0)||i[$]=="\n".charCodeAt(0))$++;
if(i[$]=="<".charCodeAt(0)){f.L={};$=je.uY(i,f.L,$,h+1);break}else if(i[$]=="(".charCodeAt(0)){$+=3;
var l=$;while(!0){if(i[l-1]!="\\".charCodeAt(0)&&i[l]==")".charCodeAt(0)&&(i[l+1]=="\n".charCodeAt(0)||i[l+1]==" ".charCodeAt(0)))break;
else l++}f.L=M.Vx(i,$,l);$=l+2;break}else if(i[$]=="[".charCodeAt(0)){$++;f.L=[];while(i[$]==" ".charCodeAt(0)||i[$]=="\t".charCodeAt(0)||i[$]=="\n".charCodeAt(0))$++;
while(i[$]!="]".charCodeAt(0)){var u=je.Cx(i,$,h+1,d);f.L.push(u.L);$+=u.size;while(i[$]==" ".charCodeAt(0)||i[$]=="\t".charCodeAt(0)||i[$]=="\n".charCodeAt(0))$++}$++;
break}else{var U=M.indexOf(i," ".charCodeAt(0),$,$+50),y=M.indexOf(i,"\n".charCodeAt(0),$,$+50);if(y==-1)y=Infinity;
if(U==-1)U=Infinity;var a=M.uX(i,$,Math.min(U,y)-$).trim(),v=parseFloat(a);if(!isNaN(v)){f.L=parseFloat(a);
$=Math.min(U,y)+1;break}else if(a=="true"||a=="false"){f.L=a=="true";$=Math.min(U,y)+1;break}else if(a=="null"||a=="NaN"||a=="undefined"){f.L=0;
$=Math.min(U,y)+1;break}else{console.log("unknown identifier: "+a);throw"e"}$=Math.min(U,y)+1}}f.size=$-K;
return f};je.$w=function(i,$,h,d){if(i instanceof Array){var K=i.length==0||typeof i[0]=="number";if(K){M.Mh($,h,"[ ");
h+=2;for(var t=0;t<i.length;t++){var f=i[t]+" ";M.Mh($,h,f);h+=f.length}M.Mh($,h,"]");h+=1}else{M.Mh($,h,"[\n");
h+=2;for(var t=0;t<i.length;t++){M.oC($,h,"\t".charCodeAt(0),d);h+=d;h=je.$w(i[t],$,h,d);M.Mh($,h,"\n");
h++}M.oC($,h,"\t".charCodeAt(0),d);h+=d;M.Mh($,h,"]");h+=1}}else if(i instanceof Object){h=je.$a(i,$,h,d)}else if(typeof i=="string"){M.Mh($,h,"(");
h++;M.oC($,h,254);h++;M.oC($,h,255);h++;h=M.U7($,h,i);M.Mh($,h,")");h+=1}else{var f=i+"";M.Mh($,h,f);
h+=f.length}return h};je.a3_=function(i){var $=typeof i;return $=="string"||$=="number"||$=="boolean"};
function e1(){}e1.cL=function(i){var $={};e1.BK(i,$,0,0);return $};e1.ef=function(i,$){var h=0;M.Mh($,h," ");
h++;h=e1.WY(i,$,h,0);h--;$.w1(h,2);$.data[h]=$.data[h+1]=0;h+=2;return h};e1.uY=function(i,$,h,d){while(i[h]!="<".charCodeAt(0)){h++;
console.log("\u0161ipka")}h+=2;h=e1.BK(i,$,h,d);return h};e1.$a=function(i,$,h,d){M.Mh($,h,"<< ");h+=3;
h=e1.WY(i,$,h,d);M.Mh($,h,">>");h+=2;return h};e1.bM=function(i){return i==9||i==10||i==32};e1.BK=function(i,$,h,d){while(!0){while(e1.bM(i[h])||i[h]==0)h++;
if(h>=i.length)break;if(i[h]=="/".charCodeAt(0)){h++;var K=h;while(!e1.bM(i[K]))K++;var f=M.uX(i,h,K-h);
h=K+1;var l=e1.Cx(i,h,d,f);$["_"+f]=l.L;h+=l.size}else if(i[h]==">".charCodeAt(0)){h+=2;break}else{var u=i[h];
console.log(M.uX(i,h,h+100));console.log("unknown byte: "+u+", char: "+String.fromCharCode(u)+", offset: "+h);
h++;throw"e";return-1}}return h};e1.WY=function(i,$,h,d){for(var K in i){var f=K.substring(1,K.length);
M.Mh($,h,"/"+f);h+=1+f.length;M.Mh($,h," ");h++;h=e1.$w(i[K],$,h,d+1);M.Mh($,h," ");h++}return h};e1.Cx=function(i,$,h,d){var K=$,f={type:"",size:0,L:0};
while(e1.bM(i[$]))$++;if(i[$]=="<".charCodeAt(0)){f.type="Object";f.L={};$=e1.uY(i,f.L,$,h+1)}else if(i[$]=="(".charCodeAt(0)){f.type="String";
$++;if(i[$]==")".charCodeAt(0)){f.L="e";$++}else{$+=2;var l=$,u=0;while(!0){if(i[l]==")".charCodeAt(0)&&i[l-1]!="\\".charCodeAt(0))break;
else l+=1}f.L="s"+M.Vx(i,$,l);$=l+2}}else if(i[$]=="[".charCodeAt(0)){$++;f.L=[];f.type="Array";while(e1.bM(i[$]))$++;
while(i[$]!="]".charCodeAt(0)){var U=e1.Cx(i,$,h+1,d);if(U==-1)return-1;f.L.push(U.L);$+=U.size;delete U.size;
while(e1.bM(i[$]))$++}$++}else{var y=$;while(!e1.bM(i[y]))y++;var a=M.uX(i,$,y-$),v=parseFloat(a);if(!isNaN(v)&&a.indexOf(".")!=-1){f.type="Float";
var c=parseFloat(a);f.L="f"+c}else if(!isNaN(v)&&a.indexOf(".")==-1){f.type="Integer";f.L="i"+parseInt(a)}else if(a=="true"||a=="false"){f.type="Boolean";
f.L=a=="true"}else if(a.charAt(0)=="/"){f.type="BString";f.L=a}else if(a=="NaN"){f.type="Float";f.L="f0"}else{console.log("unknown value",JSON.stringify(a));
throw"e"}$=y+1}f.size=$-K;return f};e1.a5V=function(i){if(i==Math.round(i))return i+".0";var $=i.toFixed(5);
while($.endsWith("0")&&$[$.length-2]!=".")$=$.slice(0,$.length-1);if(0<i&&i<1)$=$.slice(1);if(-1<i&&i<0)$="-"+$.slice(2);
return $};e1.$w=function(i,$,h,d){var K=typeof i=="string"?i.charAt(0):"";if(i instanceof Array){M.Mh($,h,"[ ");
h+=2;for(var t=0;t<i.length;t++){h=e1.$w(i[t],$,h,d);M.Mh($,h," ");h++}M.Mh($,h,"]");h+=1}else if(i instanceof Object){h=e1.$a(i,$,h,d)}else if(K=="e"){M.Mh($,h,"()");
h+=2}else if(K=="s"){M.Mh($,h,"(");h++;M.oC($,h,254);h++;M.oC($,h,255);h++;h=M.U7($,h,i.substring(1));
M.Mh($,h,")");h++}else if(K=="/"){M.Mh($,h,i);h+=i.length}else if(K=="f"){var f=parseFloat(i.substring(1)),l=e1.a5V(f);
M.Mh($,h,l);h+=l.length}else if(K=="i"){M.Mh($,h,i.substring(1));h+=i.length-1}else{var l=i+"";M.Mh($,h,l);
h+=l.length}return h};function M(){}M.a7B=function(b4){var i="";for(var t=3;t>=0;t--)i+=String.fromCharCode(b4>>t*8&255);
return i};M.ar6=function(i){var b4=0;for(var t=i.length-1;t>=0;t--)b4|=i.charCodeAt(t)<<(3-t)*8;return b4};
M.indexOf=function(i,$,h,d){if(h==null)h=0;if(d==null)d=i.length;d=Math.min(d,i.length);for(var t=h;
t<d;t++)if(i[t]==$)return t;return-1};M.gr=function(i,$,h){if(h==null)h=0;var d=$.length,K=i.length-d;
if(typeof $=="string"){var f=[];for(var t=0;t<d;t++)f.push($.charCodeAt(t));$=f}if($.length>0){var l=$[0];
for(var t=h;t<K;t++)if(i[t]==l){var u=!0;for(var U=1;U<d;U++)if($[U]!=i[t+U]){u=!1;break}if(u)return t}}return-1};
M.Vx=function(i,$,h){var d=[],f="";while($<h){var K=i[$++];if(K=="\\".charCodeAt(0))d.push(i[$++]);else d.push(K)}for(var t=0;
t<d.length;t+=2)f+=String.fromCharCode(d[t]<<8|d[t+1]);return f};M.ara=function(i,$,h){var d=new Uint8Array(2);
for(var t=0;t<h.length;t++){M.fq(d,0,h.charCodeAt(t));if(d[0]==")".charCodeAt(0)||d[0]=="(".charCodeAt(0)||d[0]=="\\".charCodeAt(0)){i[$]="\\".charCodeAt(0);
$++}i[$]=d[0];$++;if(d[1]==")".charCodeAt(0)||d[1]=="(".charCodeAt(0)||d[1]=="\\".charCodeAt(0)){i[$]="\\".charCodeAt(0);
$++}i[$]=d[1];$++}return $};M.U7=function(i,$,h){i.w1($,4*h.length);return M.ara(i.data,$,h)};M.fP=function(i,$,h){var d="";
for(var t=0;t<h;t++){var K=i[$++]|i[$++]<<8;d+=String.fromCharCode(K)}return d};M.bD=function(i,$,h){var d="";
for(var t=0;t<h;t++){var K=i[$++]<<8|i[$++];d+=String.fromCharCode(K)}return d};M.a8k=function(i,$,h){for(var t=0;
t<h.length;t++){var d=h.charCodeAt(t);M.jk(i,$+2*t,d)}};M.SY=function(i,$,h){for(var t=0;t<h.length;
t++){var d=h.charCodeAt(t);M.fq(i,$+2*t,d)}};M.agU=function(i,$,h){i.w1($,2*h.length);M.SY(i.data,$,h)};
M.aas=function(i,t,$){var h=[],d=0,K=0;$+=t;while(t<$){d=i[t++];if((d&128)==0)K=d;else if((d&224)==192){K=(d&31)<<6;
d=i[t++];K|=d&63}else if((d&240)==224){K=(d&15)<<12;d=i[t++];K|=(d&63)<<6;d=i[t++];K|=d&63}else if((d&248)==240){K=(d&7)<<18;
d=i[t++];K|=(d&63)<<12;d=i[t++];K|=(d&63)<<6;d=i[t++];K|=d&63}else throw"e";h.push(K)}return h};M.KX=window.TextDecoder?new window.TextDecoder("utf8"):null;
M.kV=function(i,$,h){if($==null)$=0;if(h==null)h=i.length;if(M.KX&&$==0&&h==i.length)return M.KX.decode(i);
var d=M.aas(i,$,h),K=d.length;for(var t=0;t<K;t++)d[t]=String.fromCharCode(d[t]);return d.join("")};
M.y5=window.TextEncoder?new window.TextEncoder("utf8"):null;M.Mr=function(i){if(M.y5)return M.y5.encode(i);
var $=new Uint8Array(i.length*4),h=M.Ue(i,$,0);return $.slice(0,h)};M.Ue=function(i,$,h){var d=i.length,t=0;
for(var K=0;K<d;K++){var f=i.charCodeAt(K);if((f&4294967295-(1<<7)+1)==0){$[h+t]=f;t++}else if((f&4294967295-(1<<11)+1)==0){$[h+t]=192|f>>6;
$[h+t+1]=128|f>>0&63;t+=2}else if((f&4294967295-(1<<16)+1)==0){$[h+t]=224|f>>12;$[h+t+1]=128|f>>6&63;
$[h+t+2]=128|f>>0&63;t+=3}else if((f&4294967295-(1<<21)+1)==0){$[h+t]=240|f>>18;$[h+t+1]=128|f>>12&63;
$[h+t+2]=128|f>>6&63;$[h+t+3]=128|f>>0&63;t+=4}else throw"e"}return t};M.xR=function(i,$){var h=M.v(i,$),d=M.kV(i,$+4,h-1);
return{qc:d,AP:4+h}};M.ax6=function(i,$){var h=M.Li(i,$),d=M.fP(i,$+4,h);return d};M.QV=function(i,$){var h=M.v(i,$),d=M.bD(i,$+4,h);
return d};M.Yw=function(i,$){var h=M.v(i,$),d=M.bD(i,$+4,h-1);return d};M.aiP=function(i,$,h){M.tl(i,$,h.length);
$+=4;M.a8k(i,$,h)};M.a8N=function(i,$,h){M.N$(i,$,h.length);$+=4;M.SY(i,$,h)};M.mT=function(i,$,h){i.w1($,4+2*h.length);
M.a8N(i.data,$,h)};M.ast=function(i,$,h){i.w1($,4+2*h.length);M.aiP(i.data,$,h)};M.qu=function(i,$,h){var d=[];
for(var t=0;t<h;t++)d.push(String.fromCharCode(i[$+t]));return d};M.a49=function(i,$,h){var d=!1,K=i.length-h.length;
for(var t=$;t<K;t++){for(var f=0;f<h.length;f++){if(i[t+f]!=h.charCodeAt(f))break;if(f==h.length-1)return t}}};
M.uX=function(i,$,h){var d="";for(var t=0;t<h;t++)d+=String.fromCharCode(i[$+t]);return d};M.vI=function(i,$,h){for(var t=0;
t<h.length;t++)i[$+t]=h.charCodeAt(t)};M.Mh=function(i,$,h){i.w1($,h.length);M.vI(i.data,$,h)};M.abg=function(i,$,h){var d="";
for(var t=0;t<h;t++){var K=i[$+t];if(K<10)d+="  ";else if(K<100)d+=" ";d+=K+", "}return d};M.fd=function(i,$){return i[$]<<8|i[$+1]};
M.fq=function(i,$,b4){i[$]=b4>>8&255;i[$+1]=b4&255};M.oo=function(i,$,b4){i.w1($,4);M.fq(i.data,$,b4)};
M.acb=function(i,$){var h=M.fd(i,$),d=M.fd(i,$+2);return h+d*(1/65536)};M.Eb=function(i,$,b4){var h=Math.floor(b4),d=Math.floor((b4-h)*65536);
M.fq(i,$,h);M.fq(i,$+2,d)};M.pF=function(i,$){return i[$+1]<<8|i[$]};M.jk=function(i,$,b4){i[$+1]=b4>>8&255;
i[$]=b4&255};M.U1=function(i,$,b4){i.w1($,4);M.jk(i.data,$,b4)};M.Sb=function(i,$){M.Ah[0]=i[$+1];M.Ah[1]=i[$];
return M.Us[0]};M.A6=function(i,$){M.Ah[0]=i[$];M.Ah[1]=i[$+1];return M.Us[0]};M.yJ=M.fq;M.Hu=M.oo;M.$I=function(i,$){M.SD[0]=i[$+3];
M.SD[1]=i[$+2];M.SD[2]=i[$+1];M.SD[3]=i[$];return M.Jg[0]};M.yj=function(i,$,b4){M.Jg[0]=b4;i[$+3]=M.SD[0];
i[$+2]=M.SD[1];i[$+1]=M.SD[2];i[$+0]=M.SD[3]};M.M5=function(i,$,b4){i.w1($,4);M.yj(i.data,$,b4)};M.Ep=function(i,$,h,d){h[d+0]=i[$+0];
h[d+1]=i[$+1];h[d+2]=i[$+2];h[d+3]=i[$+3]};M.Li=function(i,$){M.Ep(i,$,M.SD,0);return M.Oy[0]};M.tl=function(i,$,b4){M.Oy[0]=b4;
M.Ep(M.SD,0,i,$)};M._X=function(i,$,b4){i.w1($,4);M.tl(i.data,$,b4)};M.q7=function(i,$){M.Ep(i,$,M.SD,0);
return M.Jg[0]};M.apj=function(i,$,b4){M.Jg[0]=b4;M.Ep(M.SD,0,i,$)};M.a12=function(i,$,b4){i.w1($,4);
M.apj(i.data,$,b4)};M.v=function(i,$){var h=i[$]*(256*256*256)+(i[$+1]<<16|i[$+2]<<8|i[$+3]);return h};
M.N$=function(i,$,b4){i[$]=b4>>24&255;i[$+1]=b4>>16&255;i[$+2]=b4>>8&255;i[$+3]=b4>>0&255};M.S2=function(i,$,b4){i.w1($,4);
M.N$(i.data,$,b4)};M.WH=function(i,$){return M.v(i,$)<<32|M.v(i,$+4)};M.J4=function(i,$,b4){M.N$(i,$,b4>>16>>16);
M.N$(i,$+4,b4&4294967295)};M.M4=function(i,$,b4){i.w1($,8);M.J4(i.data,$,b4)};M.VM=function(i,$){var h=new Uint8Array(8);
for(var t=0;t<8;t++)h[t]=i[$+7-t];var d=new Float64Array(h.buffer);return d[0]};M.Z9=function(i,$){var h=new Uint8Array(8);
for(var t=0;t<8;t++)h[t]=i[$+t];var d=new Float64Array(h.buffer);return d[0]};M.q9=function(i,$,b4){var h=new Float64Array(1);
h[0]=b4;var d=new Uint8Array(h.buffer);for(var t=0;t<4;t++){var K=d[t];d[t]=d[7-t];d[7-t]=K}for(var t=0;
t<8;t++)i[$+t]=d[t]};M.YP=function(i,$,b4){i.w1($,8);M.q9(i.data,$,b4)};M.N_=function(i,$){M.SD[0]=i[$+3];
M.SD[1]=i[$+2];M.SD[2]=i[$+1];M.SD[3]=i[$+0];return M.Y$[0]};M.Qd=function(i,$){M.SD[0]=i[$+0];M.SD[1]=i[$+1];
M.SD[2]=i[$+2];M.SD[3]=i[$+3];return M.Y$[0]};M.k8=function(i,$,b4){M.Y$[0]=b4;i[$+0]=M.SD[3];i[$+1]=M.SD[2];
i[$+2]=M.SD[1];i[$+3]=M.SD[0]};M.a3n=function(i,$,b4){i.w1($,4);M.k8(i.data,$,b4)};M.xA=function(i,$,b4){M.Y$[0]=b4;
i[$+0]=M.SD[0];i[$+1]=M.SD[1];i[$+2]=M.SD[2];i[$+3]=M.SD[3]};M.aja=function(i,$,b4){i.w1($,4);M.xA(i.data,$,b4)};
M.a98=function(i,$){var h=M.$I(i,$),d=h*(1/(1<<24));return d};M.aU=function(i,$,h){var d=Math.floor(h*(1<<24));
M.yj(i,$,d)};M.auW=function(i,$,h){i.w1($,4);M.aU(i.data,$,h)};M.LE=function(i,$){var h=i[$],d=M.uX(i,$+1,h);
h+=1-h%2;return{tZ:d,length:h+1}};M.atG=function(i,$,h){var d=h.length;i[$]=d;M.vI(i,$+1,h);if(d%2==0){i[$+1+d]=0;
++d}return d+1};M.$h=function(i,$,h){i.w1($,h.length+2);return M.atG(i.data,$,h)};M.GU=function(i,$){var h=new ej;
h.Pi=M.VM(i,$+0*8);h.Z=M.VM(i,$+1*8);h.sl=M.VM(i,$+2*8);h.Zn=M.VM(i,$+3*8);h.wQ=M.VM(i,$+4*8);h.FQ=M.VM(i,$+5*8);
return h};M.V3=function(i,$,h){M.q9(i,$+0*8,h.Pi);M.q9(i,$+1*8,h.Z);M.q9(i,$+2*8,h.sl);M.q9(i,$+3*8,h.Zn);
M.q9(i,$+4*8,h.wQ);M.q9(i,$+5*8,h.FQ)};M.aan=function(i,$,h){i.w1($,48);M.V3(i.data,$,h)};M.a5F=function(i,$){var h=M.N_(i,$),d=M.N_(i,$+4),K=M.N_(i,$+8),f=M.N_(i,$+12);
return new bN(h,d,K-h,f-d)};M.av5=function(i,$,h){M.k8(i,$,h.x);M.k8(i,$+4,h.y);M.k8(i,$+8,h.x+h.e);
M.k8(i,$+12,h.y+h.n)};M.alS=function(i,$,h){i.w1($,16);M.av5(i.data,$,h)};M.YJ=function(i,$){var h=M.$I(i,$),d=M.$I(i,$+4),K=M.$I(i,$+8),f=M.$I(i,$+12);
return new bN(d,h,f-d,K-h)};M.vf=function(i,$,h){M.yj(i,$,h.y);M.yj(i,$+4,h.x);M.yj(i,$+8,h.y+h.n);M.yj(i,$+12,h.x+h.e)};
M._6=function(i,$,h){i.w1($,16);M.vf(i.data,$,h)};M.ed=function(i,$,h){var d=new Uint8Array(h);for(var t=0;
t<h;t++)d[t]=i[$+t];return d};M.BB=function(i,$,h){i.set(h,$)};M.Pm=function(i,$,h){i.w1($,h.length);
M.BB(i.data,$,h)};M.a4n=function(i,$,h,b4){if(!b4)b4=1;for(var t=0;t<b4;t++)i[$+t]=h};M.oC=function(i,$,h,b4){if(!b4)b4=1;
i.w1($,b4);M.a4n(i.data,$,h,b4)};M.Us=new Int16Array(1);M.Ah=new Uint8Array(M.Us.buffer);M.Jg=new Int32Array(1);
M.Oy=new Uint32Array(M.Jg.buffer);M.SD=new Uint8Array(M.Jg.buffer);M.Y$=new Float32Array(M.Jg.buffer);
function eh(){}eh.cL=function(i,$){var h=new Uint8Array(i),d=0,K=M.uX(h,d,9),u=4,U=100;d+=9;var f=M.uX(h,d,4);
d+=4;d++;$.e=M.v(h,d);d+=4;$.n=M.v(h,d);d+=4;var l=M.v(h,d);d+=4;if(l!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(f)==-1){U=M.v(h,d);d+=4;if(parseInt(f.slice(1))>=7){U=U}else alert("Unknown XCF version: "+f);
u=8}var y={};d=eh.E8(h,d,y);var a=[];d=eh.Ib(h,d,a,u);var v=[];d=eh.Ib(h,d,v,u);$.aj=0;for(var t=0;t<a.length;
t++)eh.amH(h,a[t],$,y,u,U);while($.aj>0){$.B.push($.U4());$.aj--}$.B.reverse();delete $.aj;$.buffer=k.Q($.e*$.n*4);
if($.B.length==0)console.log("No layers!!!");for(var t=0;t<v.length;t++){var c=eh.ht(h,v[t],y,u,U);if(c.lL[iX.aq9])$.J={channel:c.MB,rect:new bN(0,0,$.e,$.n)}}};
eh.amH=function(i,$,h,d,K,f){var l=h.Dw(),u=M.v(i,$),v=0;$+=4;var U=M.v(i,$);$+=4;l.rect=new bN(0,0,u,U);
var y=M.v(i,$);$+=4;var a=M.xR(i,$);$+=a.AP;l.DN(a.qc);var c={};$=eh.E8(i,$,c);if(c[iX.zN]){var p=c[iX.zN];
v=p.length/4-1}if(c[iX.W8]){l.rect.x=M.$I(c[iX.W8],0);l.rect.y=M.$I(c[iX.W8],4)}if(c[iX.wO]){l.opacity=M.v(c[iX.wO],0)}if(c[iX.a1T]){l.add.lsct=gX.DU;
l.pM=24}if(c[iX.IO]){var C=M.v(c[iX.IO],0);l.R$=iX.ajN[C];if(l.BT()&&l.R$=="norm")l.R$="pass"}if(c[iX.YX]){if(M.v(c[iX.YX],0)==0)l.pM+=2}if(c[iX.rx]){var T=M.v(c[iX.rx],0);
l.add.lsct=T&1==1?gX.DU:gX.qC}if(c[iX.mr]){var E=c[iX.mr];for(var r in E){var Y=E[r];if(r=="gimp-text-layer"){var S=eh.asx(Y),m=S.text,Q=S.font,z=S.color,n=S["font-size"];
if(m==null&&S.markup){var Z=new DOMParser,P=Z.parseFromString(S.markup,"image/svg+xml");while(P.firstChild!=null&&P.firstChild.tagName!=null){P=P.firstChild;
var V=P.getAttribute("font"),I=P.getAttribute("foreground"),q=P.getAttribute("size");if(V!=null)Q=V;
if(I!=null){I=CSS.cE(I);z=[1,I.o/255,I.P/255,I.Z/255]}if(q!=null){n=""+parseFloat(q)/245}}m=P.textContent}l.add.lnsr="rend";
l.add.TySh=jP.Aj(0,0);l.add.TySh.MX=new bN(0,0,100,100);l.add.TySh.D=new ej(1,0,0,1,l.rect.x,l.rect.y);
var X=l.add.TySh.$D;jP.uE(X,0,m);var B=jP.Zg(X,0,0),e=S.justify,F=S["line-spacing"];if(z)B.TL.FillColor={Type:1,Values:[1,parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])]};
if(n){n=Math.round(parseFloat(n));B.TL.FontSize=n;l.add.TySh.D.FQ+=Math.min(17,n*.17)}if(F){F=Math.round(parseFloat(F)+B.TL.FontSize*1.2);
B.TL.Leading=F;B.TL.AutoLeading=!1}if(e)B.OU.Justification=["left","right","center","fill"].indexOf(e);
if(Q&&Q!="Sans-serif"){var s=Q.toLowerCase(),J="bold italic semi extra regular condensed light".split(" "),W=s.length;
for(var t=0;t<J.length;t++){var L=s.indexOf(J[t]);if(L!=-1&&L<W&&s[L-1]==" ")W=L}if(W!=s.length)Q=Q.slice(0,W-1).split(" ").join("")+"-"+Q.slice(W).split(" ").join("");
jP.Qr(B,Q)}jP.jV(X,0,m.length,B);var A=S["box-width"],j=S["box-height"],G=A?parseFloat(A):l.rect.e,O=j?parseFloat(j):l.rect.n;
jP.tA(X,1);jP.pt(X,[0,0,Math.ceil(G),Math.ceil(O)])}else console.log("Unknown property "+r)}}while(h.aj>v){h.B.push(h.U4());
h.aj--}h.aj=v;if(l.add.lsct==gX.DU||l.add.lsct==gX.qC)h.aj++;var o=K==4?M.v:M.WH,N=o(i,$);$+=K;var w=o(i,$);
$+=K;if(l.zp()){l.buffer=k.Q(l.rect.O()*4);var kv=new k.UT(l.rect.O());eh.q2(i,N,kv,d,K,f);k.ko(kv,l.buffer)}if(w!=0){l.z=new H.k$;
var g=eh.ht(i,w,d,K,f);l.z.channel=g.MB;l.z.rect=l.rect.clone();if(c[iX.wp])l.z.isEnabled=M.v(c[iX.wp],0)==1;
l.z.color=l.z.channel[0];l.z.HH()}if(l.BT())l.rect=new bN;h.B.push(l)};eh.asx=function(i){var $="("+M.kV(i,0,i.length-1)+")",h=[],d={};
eh.oZ($,1,h);eh.ani(h,d);return d};eh.ani=function(i,$){for(var t=0;t<i.length;t++){var h=i[t],d=h[0];
if(h.length==2)$[d]=h[1];else $[d]=h.slice(1)}};eh.oZ=function(i,$,h){while(!0){if($>=i.length)throw"e";
var d=i.charAt($);$++;if(d=="("){var K=[];$=eh.oZ(i,$,K);h.push(K)}else if(d==" "||d=="\n"||d=="\r"){}else if(d==")")return $;
else if(d=="\""){var f=$;while(!0){var l=i[$];$++;if(l=="\"")break;if(l=="\\")$++}h.push(JSON.parse(i.slice(f-1,$)))}else{var f=$-1;
while(i[$]!=" "&&i[$]!=")")$++;h.push(i.slice(f,$))}}};eh.ht=function(i,$,h,d,K){var f=M.v(i,$);$+=4;
var l=M.v(i,$);$+=4;var u=M.xR(i,$);$+=u.AP;var U={};$=eh.E8(i,$,U);var y=new k.UT(f*l),a=d==4?M.v:M.WH,v=a(i,$);
$+=d;eh.q2(i,v,y,h,d,K);return{MB:y.o,lL:U}};eh.q2=function(i,$,h,d,K,f){var l=M.v(i,$);$+=4;var u=M.v(i,$);
$+=4;var U=M.v(i,$);$+=4;var y=K==4?M.v:M.WH,a=y(i,$);$+=K;eh.awt(i,a,h,d,U,K,f)};eh.awt=function(i,$,h,d,K,f,l){var u=M.v(i,$),a=0,t=0;
$+=4;var U=M.v(i,$);$+=4;var y=new bN(0,0,u,U);if(l==100||l==150)a=1;else if(l==200||l==250)a=2;else if(l==300||l==350)a=4;
else if(l==500||l==550)a=2;else if(l==600||l==650)a=4;else if(l==700||l==750)a=8;else{alert("unsupported bit depth "+l);
throw"e"}var v=K/a,a=Math.round(K/v),c=[];$=eh.Ib(i,$,c,f);var p=new k.UT(64*64*a),C=new bN,T=d[iX.alF][0],E=[p.o,p.P,p.Z,p.Pi];
if(v==3)p.Pi.fill(255);var r=Date.now();for(var Y=0;Y<U;Y+=64)for(var S=0;S<u;S+=64){var m=Math.min(u-S,64),Q=Math.min(U-Y,64),z=m*Q;
C.WI(S,Y,m,Q);eh.a7U(i,c[t++],z*a,T,v,E);if(l==100||l==150){}else if(l==250){for(var n=0;n<v;n++){var Z=E[n];
for(var P=0;P<z;P++){var V=Z[P]<<8|Z[z+P];Z[P]=Math.min(V>>>8,255)}}}else if(l==600){var I=eh.afb(),q=new Uint32Array(1),X=new Float32Array(q.buffer);
for(var n=0;n<v;n++){var Z=E[n];for(var P=0;P<z;P++){q[0]=Z[P]<<24|Z[z+P]<<16|Z[(z<<1)+P]<<8|Z[(z<<1)+z+P]<<0;
var B=X[0];if(B<0)B=0;else if(B>1)B=1;Z[P]=I[~~(.5+B*1e3)]}}}else console.log("unknown data format",l);
k.Lb(p,C,h,y)}};eh.afb=function(){var i=eh.adg;if(i!=null)return i;i=eh.adg=new Uint8Array(1001);for(var t=0;
t<1001;t++)i[t]=~~(.49+255*k.Jy(t*.001));return i};eh.a7U=function(i,$,h,d,K,f){if(d==1){for(var l=0;
l<K;l++){var u=f[l],U=0;while(U<h){var b4=i[$];$++;if(b4<127){var y=i[$];$++;b4++;for(var t=0;t<b4;t++)u[U+t]=y}else if(b4==127){var a=i[$];
$++;var v=i[$];$++;var y=i[$];$++;b4=a<<8|v;for(var t=0;t<b4;t++)u[U+t]=y}else if(b4==128){var a=i[$];
$++;var v=i[$];$++;b4=a<<8|v;for(var t=0;t<b4;t++)u[U+t]=i[$+t];$+=b4}else{b4=256-b4;for(var t=0;t<b4;
t++)u[U+t]=i[$+t];$+=b4}U+=b4}}}else if(d==2){var c=pako.inflate(i.slice($)),p=Math.round(c.length/h);
for(var t=0;t<h;t++){var C=t*p;f[0][t]=c[C];f[1][t]=c[C+1];f[2][t]=c[C+2];f[3][t]=p==3?255:c[C+3]}}else alert("Unknown compression "+d)};
eh.Ib=function(i,$,h,d){var K=d==4?M.v:M.WH;while(!0){var f=K(i,$);$+=d;if(f==0)break;else h.push(f)}return $};
eh.E8=function(i,$,h){while(!0){var d=M.v(i,$);$+=4;var K=M.v(i,$);$+=4;if(d==iX.ae_)break;else if(d==iX.mr)h[d]=eh.ati(i,$,$+K);
else h[d]=M.ed(i,$,K);$+=K}return $};eh.ati=function(i,$,h){var d={};while($<h){var K=M.xR(i,$);$+=K.AP;
var f=M.v(i,$);$+=4;if(f!=1)console.log("unknown flags",f);var l=M.v(i,$);$+=4;d[K.qc]=M.ed(i,$,l);$+=l}return d};
var iX={ae_:0,afu:1,atf:2,a8f:3,aq9:4,atO:5,wO:6,IO:7,YX:8,al9:9,aoQ:10,wp:11,adm:12,axL:13,a0O:14,W8:15,a5f:16,alF:17,ann:18,avK:19,a4K:20,mr:21,a7D:22,alY:23,a1P:24,akT:25,aic:26,ah6:27,a6K:28,a1T:29,zN:30,rx:31,a0i:32,ajW:33,al7:34,a7a:35,aoy:36,ai_:37,arD:38,ao7:0,awY:1,aeU:2,ayj:3,a1I:1,abZ:2,agv:0,avZ:1,aa$:1};
iX.ajN="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var iM=function(){var i=!1,$,h,S;function d(){var z=M.uX($,h,4);h+=4;return z[3]+z[2]+z[1]+z[0]}function K(){var z=M.uX($,h,4);
h+=4;return z}function f(){var z=$[h];h+=1;return z}function l(){var z=M.pF($,h);h+=2;return z}function u(){var z=M.Li($,h);
h+=4;return z}function U(){var z=M.q7($,h);h+=4;return z}function y(){var z=M.Li($,h);h+=8;return z}function a(){var z=M.Qd($,h);
h+=4;return z}function v(){var z=M.Z9($,h);h+=8;return z}function c(){var z=M.pF($,h),n=M.kV($,h+2,z);
h+=2+z;return n}function p(){var z=M.Li($,h),n=M.kV($,h+4,z);h+=4+z;return n}function C(z){h=z;var n=[];
while(h!=0){var Z=K();if(Z!="#FT4"&&Z!="#FT3"&&Z!="#FT2")throw Z;var P=y(),V=y(),I=y(),q=y(),X=y(),B=u(),e=u(),F=u(),s=l(),J=f(),W={};
n.push(W);for(var t=0;t<B;t++){var L=u(),A=f();if(A!=0&&A!=1&&A!=2)throw A;var j=[];if(A==0||A==1){var G=y(),O=y(),o=y(),N=u(),w=f(),kv=u(),g=Z!="#FT4"?0:u(),b=null;
if(Z=="#FAT"||Z=="#FT2"){switch(w){case 1:w=1;break;case 2:w=65;break;case 3:w=129;break;case 4:w=193;
break;default:w=0;break}}if(A==0)b=c();j=[G,O,o,w,b]}W["i"+L]=[A,j]}for(var t=0;t<s;t++){var jU=l(),_=l(),cY=y(),j3=M.uX($,h,jU);
h+=jU}h=P}n.reverse();for(var aS=1;aS<n.length;aS++){var W=n[aS],bL=n[aS]=JSON.parse(JSON.stringify(n[aS-1]));
for(var cQ in W){var cK=W[cQ];if(cK[0]==0)bL[cQ]=cK;else if(cK[0]==1){cK[1][4]=bL[cQ][1][4];bL[cQ]=cK}else if(cK[0]==2)delete bL[cQ]}}var el=n.pop(),gF=[];
for(var cQ in el)gF.push(el[cQ][1]);gF.sort(function(fj,i3){return fj[0]-i3[0]});return gF}function T(z,n,Z,P){while(h<$.length){var V=f(),B=null;
if(V==0){if(P){var I=f();if(I!=2){var q=d()}if(I==0)h+=4;P=!1;continue}else{break}}var X=d();if(i)console.log("  ".repeat(n),V,V&127,X,z._type);
if(V>127)B=E(V,n,Z);else B=r(V,n,Z);z[X]=B}}function E(z,n,Z){var P=[];z=z&127;if(z==43)h+=4;var V=u();
if(z==50){var I=d(),q=l();if(q!=1)throw"e";for(var t=0;t<V;t++){var X={_status:"NotShared",_type:I};
P.push(X);var B=f();if(B!=1)throw B;T(X,n+1,Z)}}else for(var t=0;t<V;t++){P.push(r(z,n,Z));if(z==42)z=2}return P}function r(z,n,Z){var P=null;
if(z==49){P={};var V=f();if(V!=0){var I=u();if(Z==null){P._id=I;P._status=["Shared","Link"][V-1]}if(Z&&V==2)P=Z[I];
if(V==1){if(Z)Z[I]=P;var q=f(),X=!1;if(q>1)throw q;P._type=d();if(i)console.log("  ".repeat(n),"new",P._type,q,h);
if(q==0){while(!0){var B=l();if(B!=0&&B!=1&&B!=2&&B!=4)throw B;if($[h]!=0){X=!0;break}var e=l();if(e==512)break;
var F=d();if(e==256)break}}T(P,n+1,Z,X)}}}else if(z==50){P={_status:"NotShared"};if(f()==1){P._type=d();
h+=2;T(P,n+1,Z)}}else if(z==1)P={type:"byte",value:f()};else if(z==2)P={type:"uint16",value:l()};else if(z==3)P={type:"uint32",value:u()};
else if(z==4)P={type:"uint64",value:y()};else if(z==7)P={type:"int32",value:U()};else if(z==8)P={type:"int64",value:y()};
else if(z==9)P={type:"float32",value:a()};else if(z==10)P={type:"float64",value:v()};else if(z==21)P={type:"Vec2i",value:[u(),u()]};
else if(z==23)P={type:"Vec4i",value:[u(),u(),u(),u()]};else if(z==33)P={type:"Vec4f",value:[a(),a(),a(),a()]};
else if(z==36)P={type:"Vec2",value:[v(),v()]};else if(z==38)P={type:"Vec4",value:[v(),v(),v(),v()]};
else if(z==40)P={type:"Vec6",value:[v(),v(),v(),v(),v(),v()]};else if(z==41)P={type:"bool",value:f()!=0};
else if(z==42)P={type:"Enum",value:u()};else if(z==43)P={type:"string",value:p()};else if(z==44){var s=l();
P={type:"curv16",value:[v(),s==12?[f(),f(),f(),f()]:[u(),u()]]}}else if(z==45){var s=u();P={type:"buff",value:$.slice(h,h+s)};
h+=s}else if(z==47){P={type:"uint32",value:u()}}else if(z==48){var J=[],W=l();if(W!=1)throw W;if($[h]==135){var L=E(f(),n+1,Z),A=E(f(),n+1,Z),j=E(f(),n+1,Z);
J=[L,A,j]}else{var G=1;if($[h]==3){f();G=u()}for(var t=0;t<G;t++){if(f()!=41)throw"e";var I=f();if(I!=0&&I!=1)throw I;
if(f()!=172)throw"e";var O=u(),o=l(),N=[];J.push(N);if(o!=18)throw o;if(O>2e3)throw O;for(var w=0;w<O;
w++)N.push([v(),v(),f(),f()])}}h++;P={type:"curve",value:J}}else if(z==51){P={type:"EmbeddedData"};P[d()]=p()}else if(z==52)P={type:"uint32",value:u()};
else if(z==56)P={type:"Color32",value:[f(),f(),f(),f()]};else if(z==60)P={type:"ColorGRAY",value:[a(),a()]};
else if(z==68)P={type:"ColorRGBA",value:[a(),a(),a(),a()]};else if(z==72)P={type:"ColorCMYK",value:[a(),a(),a(),a(),a()]};
else{throw z}return z==49||z==50||z==51?P:P.value}function Y(z){var n=0,Z=z.length;for(var t=0;t<Z;t++)z[t]=n=n+z[t]&255}function m(z){$=z;
h=4;var n=u(),Z=K();if(Z!="nsrP")throw Z;var Z=K();if(Z!="#Inf")throw Z;var P=y();S=y();var V=y(),I=y(),q=y(),X=u(),B=u(),Z=K();
if(Z!="Prot")throw Z;var X=u(),e=C(P),F={},s=Date.now();for(var J=0;J<e.length;J++){var W=e[J],L=W[3],o=null;
h=W[0];var Z=K();if(Z!="#Fil")throw Z;var A=L>>>5&1,j=L&3,G=L&192;switch(G){case 64:G=1;A=0;break;case 128:G=2;
break;case 192:G=3;break;default:G=0;A=0}var O=new Uint8Array($.buffer,h,W[2]);if(j==0)o=O;else if(j==1)o=pako.inflate(O);
else if(j==2)o=em.MZ.Ql(O,W[1]);else throw j;if(A==0){if(G==1)Y(o);if(G==2)throw"e"}else throw A;F[W[4]]=o}return F}function Q(z){var n=m(new Uint8Array(z));
$=n["doc.dat"];h=16;var Z={};T(Z,0,[]);return[n,Z,S]}return{a73:Q}}();function e0(){}e0.cL=function(){function i(p,C){var T=Date.now(),E=iM.a73(p),r=E[0],Y=E[1],S=E[2],m=Y.DocR,Q=m.DfSz,z=m.Chld;
if(z.length!=1)throw"e";var n=z[0],Z=n.SprB;z=n.Chld;C.e=~~Z[2];C.n=~~Z[3];C.buffer=k.Q(C.e*C.n*4);var P=[0,{}];
for(var t=0;t<z.length;t++)K(z[t],C,r,new ej,P,0);C.Bw(P[0]);console.log(Date.now()-T,"Document created");
T=Date.now()}function $(p){return new ej(p[0],p[3],p[1],p[4],p[2],p[5])}function h(p,C){var T=C.Xfrm;
T=T?$(T):new ej;T.concat(p);return T}function d(p){var C={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[p];
return C?C:"norm"}function K(p,C,T,E,r,Y){var S=p._type,m=p.Chld,Q=C.Dw();Q.DN(p.Desc==null||p.Desc==""?S=="Grup"?"Folder":"Layer":p.Desc);
Q.DJ(p.Visi);Q.opacity=Math.round(255*p.Opac);if(p.FOpc!=1)Q.add.iOpa=Math.round(255*p.FOpc);var z=p.Blnd;
if(z!=null)Q.R$=d(z);var n=h(E,p),Z=S=="ShpN"||S=="PCrv";if(m){C.B.push(C.U4());Q.add.lsct=gX.DU;Q.R$="pass";
Q.pM=24;if(S=="ShpN"){var P=p.ShpB;Q.th(new bN(P[0]+n.wQ,P[1]+n.FQ,P[2]-P[0],P[3]-P[1]));r[0]++;Q.add.artb.Clr={t:"Objc",v:k.M.Aw({o:255,P:255,Z:255})}}for(var t=0;
t<m.length;t++)K(m[t],C,T,n,r,Y+1)}else if(S=="Rstr"||S=="ImgN"||S=="MRst"){var V=p.Bitm,I=V.Bckg,q=Date.now(),X;
if(I==null){X=y(V,T,r[1]);Q.rect=X[2].clone();Q.buffer=X[1].slice(0);Q.rect.x+=n.wQ;Q.rect.y+=n.FQ}if(I||n.Qa()!=1){var B,e=0,F=0;
if(I){var s=T[I.Data],J=M.gr(s,"ataD")+4,W=M.Li(s,J);J+=4;B=s.slice(J,J+W)}else{e=Q.rect.x-n.wQ;F=Q.rect.y-n.FQ;
if(X[3]==null)X[3]=new Uint8Array(em.Q_("PNG").Pa([[Q.buffer.buffer]],Q.rect.e,Q.rect.n));B=X[3].slice(0)}var L=C.UJ(B,Q.getName(),0,0);
L.pM=Q.pM;L.opacity=Q.opacity;Q=L;var A=new ej;A.translate(e,F);A.concat(n);var j=Q.rect.clone();j.x=j.y=0;
var G=k.p.Hg(j).C;k.p.D(G,A,G);Q.add.SoLd.Trnf=D.vA.j7(G);Q.add.SoLd.nonAffineTransform=D.vA.j7(G);Q.u8(C,!1)}}else if(S=="TxtA"||S=="TxtF"){Q.add.lnsr="rend";
Q.add.TySh=jP.Aj(0,0);Q.add.TySh.MX=new bN(0,0,100,100);var O=p.TxtH.FrmB,o=new ej,g=0;o.translate(O[0],O[1]);
o.concat(n);Q.add.TySh.D=o;var N=Q.add.TySh.$D,w=p.StSt,kv=w.Blok;if(kv.length!=1)throw"e";for(var b=0;
b<kv.length;b++){var jU=kv[b],_=g,cY=0,j3=jU.Glyp.Utf8;j3=j3.replace(/\u2028/g,"\n");j3=j3.replace(/\u2029/g,"\n");
j3=j3.slice(0,j3.length-1);jP.uE(N,g,j3);g+=j3.length;var aS=jU.GAtt.Runs,bL=jU.PAtt.Runs[0],cQ=bL.Item.Ints[0];
for(var cK=0;cK<aS.length;cK++){var el=aS[cK],gF=el.Indx,fj=el.Item,i3=fj.Objs,eT=jP.Zg(N,_,1);eT.OU.Justification=cQ==0?0:cQ==1?2:1;
jP.Qr(eT,fj.DFnt.Post);eT.TL.FontSize=fj.Doub[0];for(var t=0;t<i3.length;t++){var eV=i3[t];if(eV._type=="FDsc"){var hr=eV.FDeF;
if(hr._type=="FilS"){var it=U(hr.Colr);eT.TL.FillColor={Type:1,Values:[1,it[0],it[1],it[2]]}}}}jP.jV(N,_+cY,_+Math.min(gF,j3.length),eT);
cY=gF}}jP.tA(N,1);jP.pt(N,[0,0,Math.round(O[2]-O[0]),Math.round((O[3]-O[1])*1.2)]);C.Od=!0}else if(Z){Q.pM|=16;
var f8=Q.add.vstk=JSON.parse(JSON.stringify(et._T.default));f8.strokeEnabled.v=!1;var i$=Q.add.vmsk=f(p);
k.A.mu(i$.i,n);if(p.BFFl){var gS=p.BFFl[0].FDeF,hT=gS._type;if(hT=="FilS")Q.add.SoCo={classID:"null",Clr:u(gS.Colr)};
else if(hT=="FilG"){var gL=Q.add.GdFl=JSON.parse(et.MO[et.order.indexOf("GrFl")]);l(gS,gL)}else if(hT=="FilN"){Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:0,P:0,Z:0})}};
f8.fillEnabled.v=!1}else console.log(hT)}if(p.LILn){var iu=p.LILn[0].LDeL,dB=iu.Wght;if(dB!=0){f8.strokeEnabled.v=!0;
f8.strokeStyleLineWidth.v.val=dB;var gS=p.LIFl[0].FDeF,hT=gS._type;if(hT=="FilS")f8.strokeStyleContent.v.Clr=u(gS.Colr);
else if(hT=="FilN")f8.strokeEnabled.v=!1}}Q.Yt();Q.ET(C)}else console.log(S);var jt=p.AdCh,ka=[];if(jt)for(var t=0;
t<jt.length;t++){var eQ=jt[t],dv=eQ._type;if(dv=="ShpN"||dv=="PCrv"){var i$=Q.add.vmsk=f(eQ),cT=h(n,eQ);
k.A.mu(i$.i,cT);Q.Yt();Q.ET(C)}else if(eQ.AdjP){var eY=eQ.AdjP,gl=eY._type,dY={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[gl];
if(dY==null){console.log(eY);continue}var gE=d1.K7(dY,{});ka.push(gE);var cs=gE.v.Fltr.v;if(gl=="LevP"){var au=dO.Fj(cs,0);
au[0]=eY.OutB*255;au[1]=eY.OutW*255;dO.Jc(cs,0,au)}else if(gl=="WhBP"){var au=dO.Fj(cs,2);au[4]=100+eY.WBTi*20;
dO.Jc(cs,2,au);var au=dO.Fj(cs,3);au[4]=100+eY.WBTi*200;dO.Jc(cs,3,au)}else if(gl=="HSSP"){var au=dm.Fj(cs,0);
au[0]=Math.round(eY.HueA*256);au[1]=Math.round(eY.SatA*256);au[2]=Math.round(eY.LumA*256);dm.Jc(cs,0,au)}else if(gl=="RecP"){cs.Clrz.v=!0;
var au=dm.Fj(cs,0);au[0]=Math.round(eY.RecH*100);au[1]=Math.round(eY.RecS*100);au[2]=Math.round(eY.RecL*100);
dm.Jc(cs,0,au)}else if(gl=="B&CP"){cs.Brgh.v=Math.round(eY.Brig*100);cs.Cntr.v=Math.round(eY.Ctrs*100-100)}else if(gl=="PosP"){cs.Lvls.v=eY.Post}else if(gl=="VibP"){cs.vibrance.v=eY.Vibr-100;
cs.Strt.v=Math.round(eY.Satu*100)}else if(gl=="ExpP"){cs.Exps.v=eY.Expo;cs.gammaCorrection.v=eY.Gamm/2.2}else if(gl=="ThrP"){cs.Lvl.v=Math.round(eY.Thre*255)}else if(gl=="CrvP"){var jw=eY.Mast["Cnt "],ek=eY.Mast.Vals,au=hI.Fj(cs,0),cj=au[0];
for(var jJ=0;jJ<jw;jJ++){var hp=au[jJ]=JSON.parse(JSON.stringify(cj));hp.v.Hrzn.v=Math.round(ek[jJ]*255);
hp.v.Vrtc.v=Math.round(ek[4+jJ]*255)}hI.Jc(cs,0,au)}}else console.log(eQ)}if(ka.length!=0&&Q.add.SoLd){Q.add.SoLd.filterFX=d1.as();
C.G6({id:Q.add.SoLd.placed.v,rect:new bN,buffer:k.Q(1),z:new H.k$});Q.add.SoLd.filterFX.v.filterFXList.v=ka;
Q.u8(C,!1)}var dW=p.FiEf;if(dW&&dW.length!=0){var h4=Q.add.lmfx=JSON.parse(et.default);for(var t=0;t<et.order.length;
t++)h4[et.CE[t]]={t:"VlLs",v:[]};for(var er=0;er<dW.length;er++){var hG=dW[er],i_=hG._type,aK={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[i_],gL=aK?JSON.parse(et.MO[et.order.indexOf(aK)]):null;
if(i_=="ColO"){gL.Clr=u(hG.Colr)}else if(i_=="GrdO"){l(hG.GrFl.FDeF,gL)}else if(i_=="Shad"||i_=="InnS"||i_=="OutG"||i_=="InnG"){gL.Clr=u(hG.Colr);
gL.blur.v.val=Math.round(hG.Radi/2.4);if(hG.Offs!=null){gL.Dstn.v.val=hG.Offs;gL.lagl.v.val=Math.round(180-hG.Angl*180/Math.PI);
gL.uglg.v=!1}}else if(i_=="Strk"){gL.Clr=u(hG.Colr);gL.Sz.v.val=Math.round(hG.Radi)}else if(i_=="PhgB"||i_=="BevE"){gL.blur.v.val=Math.round(hG.Radi);
if(i_=="BevE")gL.bvlS.v.BESl="PlEb"}else if(i_=="Gaus"){if(Z&&hG.Enab){Q.add.vmsk.Dc=hG.Radi/2.4;Q.add.vmsk.D3=!0;
Q.Yt();Q.ET(C)}}if(aK){gL.enab.v=hG.Enab;if(gL.Md&&hG.BlnM!=null)gL.Md.v.BlnM=ca.ml(d(hG.BlnM));if(gL.Opct&&hG.Opac!=null)gL.Opct.v.val=Math.round(hG.Opac*100);
var bG=et.CE[et.order.indexOf(aK)];h4[bG].v.unshift({t:"Objc",v:gL})}}}C.B.push(Q)}function f(p){var C=new H.LF,T=p._type;
if(T=="PCrv"){var E=p.Crvs.Data,r=[],Y=[];for(var t=0;t<E.length;t++){var S=E[t];if(S.length%3!=1){S=S.slice(1,S.length-1)}for(var m=0;
m<S.length;m++){var Q=S[m],z=Q[2];if(z!=0)r.push(m==0?"M":"C");Y.push(Q[0],Q[1])}}C.i=k.p.Kg({C:Y,H:r},!0)}else{var n=p.ShpB,Z=p.Shpe,P=Z._type,V=n[2]-n[0];
if(P=="ShpE"){C.i=k.A.jY.lQ(n[0],n[1],n[2]-n[0],n[3]-n[1])}else if(P=="ShNR"){var I=[0,0,0,0];if(Z.CTyp){I=Z.ShCR.slice(0);
for(var t=0;t<4;t++)I[t]*=n[2]-n[0]}C.i=k.A.jY.Rect(n[0],n[1],n[2]-n[0],n[3]-n[1],I)}else if(P=="ShpT"){C.i=k.p.Kg({H:["M","L","L","Z"],C:[n[0],n[3],n[2],n[3],n[0]+V*.5,n[1]]},!0)}else if(P=="ShTz"){C.i=k.p.Kg({H:["M","L","L","L","Z"],C:[n[0]+V*Z.PosL,n[1],n[0]+V*Z.PosR,n[1],n[2],n[3],n[0],n[3]]},!0)}else{console.log("--",P);
C.i=k.A.jY.Rect(n[0],n[1],n[2]-n[0],n[3]-n[1],[0,0,0,0])}}return C}function l(p,C){var T=p.Grad,E=T.Cols;
C.Type.v.GrdT=p.Type==0?"Lnr":"Rdl";var r=[];for(var t=0;t<E.length;t++){var Y=U(E[t]);r.push([T.Posn[t][0],Y])}C.Grad.v.Intr.v=0;
k.M.wX(r,C.Grad.v);var S=T.Posn,m=new cq(S[0][0],S[0][1]),Q=new cq(S[1][0],S[1][1]);if(p.Type==0)m=new cq((m.x+Q.x)/2,(m.y+Q.y)/2);
k.M.EU(m,Q,new bN(0,0,1,1),C)}function u(p){var C=U(p);return{t:"Objc",v:k.M.Aw({o:C[0]*255,P:C[1]*255,Z:C[2]*255})}}function U(p){var C=p._col,T=p._type;
if(T=="HSLA"){var E=k.Lm(C[0],C[1],C[2]);return[E.o,E.P,E.Z,C[3]]}else if(T=="RGBA")return C;else if(T=="CMYK"){var r=1-C[3];
return[(1-C[0])*r,(1-C[1])*r,(1-C[2])*r]}else if(T=="GRAY")return[C[0],C[1],C[2]];else{console.log(C);
throw T}}function y(p,C,T){var E=p.Frmt,I="";if(E!=0&&E!=4&&E!=6)throw E;var r=p.BmpW,Y=p.BmpH,S=E==4?5:E==0?4:1,m=Math.ceil(r/256),Q=Math.ceil(Y/256),z=new bN(0,0,m,Q),n=new bN;
for(var t=0;t<S;t++){var Z=new Uint8Array(p["Sta"+(t+1)]),P=k.WG(Z,z);n=n.rt(P)}var V=[];for(var t=0;
t<S;t++){var Z=new Uint8Array(p["Sta"+(t+1)]),q=k.Q(n.O());k.Zc(Z,z,q,n);V[t]=[];for(var X=0;X<q.length;
X++)V[t][X]=q[X];I+=JSON.stringify(V[t])+","+JSON.stringify(p["Idx"+(t+1)])+","}if(T[I]==null){var B=n.e*256,e=n.n*256,F=new Array(S);
for(var t=0;t<S;t++){var Z=F[t]=new Uint8Array(B*e);a(Z,p["Idx"+(t+1)],V[t],C,B,e)}var s=k.Q(B*e*4);
if(E==0)k.ko({o:F[0],P:F[1],Z:F[2],Pi:F[3]},s);else if(E==4){for(var t=0;t<F[0].length;t++){var J=t*4,W=F[0][t]*(1/255),L=F[1][t]*(1/255),A=F[2][t]*(1/255),j=F[3][t]*(1/255),G=UDOC.C.cmykToRgb([W,L,A,j]);
s[J]=G[0]*255;s[J+1]=G[1]*255;s[J+2]=G[2]*255;s[J+3]=F[4][t]}}else{s.fill(255);k.ai(F[0],s)}var O=new bN(0,0,B,e),o={buffer:s,rect:O};
k.Dl(o);T[I]=[o.rect,o.buffer]}var P=T[I][2]=T[I][0].clone();P.x+=n.x*256;P.y+=n.y*256;return T[I]}function a(p,C,T,E,r,Y){var S=0,m=r>>>8,Q=Y>>>8;
for(var z=0;z<Q;z++)for(var n=0;n<m;n++){var Z=n*256,P=z*256,V=z*m+n,I=P*r+Z,q=T[V];if(q<=1)v(p,I,0,r,256,256);
else if(q==2)v(p,I,4294967295,r,256,256);else if(q==4){var X=C[S];S++;var B=E[X.Data.DatI],e=X.Rect;
if(e==null)e=[0,0,256,256];v(p,I,0,r,256,256);c(p,(P+e[1])*r+Z+e[0],B,e[1]*256+e[0],r,256,e[2]-e[0],e[3]-e[1])}else console.log(q)}}function v(p,C,T,E,r,Y){var S=C+E*Y;
for(;C<S;C+=E){var m=C+r;for(var Q=C;Q<m;Q++){p[Q]=T}}}function c(p,C,T,E,r,Y,S,m){var Q=C+r*m,z=E+Y*m;
for(;C<Q&&E<z;C+=r,E+=Y){for(var t=0;t<S;t++)p[C+t]=T[E+t]}}return i}();function as(){}as.cL=function(i,$){var h=as,d=hP.parse(i),f=0;
if(d.pages.length>1)console.log(d.pages.length,"pages");var K=[],l=new bN;for(var u=0;u<d.pages.length;
u++){var U=d.pages[u],y=U.layers,a=h.nP(y,u),c=!1;if(a.O()>8e3*8e3||a.e>3e4||a.n>3e4){h.Ek(y,!0);var v=h.nP(y,u);
if(v.O()>=a.O())h.Ek(y,!1)}a=h.nP(y,u);for(var p=0;p<y.length;p++){var C=y[p];if(h.L3(C)=="artboard")c=!0}if(!c){console.log("no artboard");
var T={};for(var E in U)T[E]=U[E];T._class="group";U.layers=[T]}K.push(a.clone());if(a.NT())continue;
a.x=0;a.y=f;f+=a.n+200;l=l.rt(a)}var r={};if(d.foreignSymbols)for(var t=0;t<d.foreignSymbols.length;
t++){var Y=d.foreignSymbols[t].symbolMaster;r[Y.symbolID]={n7:Y}}h.V5(d.pages,r,$);for(var S in r){var C=r[S].n7,m=h.pL(C.layers)}var Q=as.sR(l,8192*8192);
$.Od=!0;$.e=Math.round(l.e/Q);$.n=Math.round(l.n/Q);$.buffer=k.Q($.e*$.n*4);$.Bw(d.pages[0].layers.length);
$.Bl={};$.Rd=[];f=0;for(var u=0;u<d.pages.length;u++){var z=d.pages[u],a=K[u],n=new ej(Q,0,0,Q,a.x,a.y-f);
h.tN(z.layers,$,n,d,r,{},[]);f+=a.n+200}delete $.Bl;delete $.Rd;if(Q!=1)alert("File scaled down "+Q+"x");
$.a8l()};as.aie=0;as.L3=function(i){return i._class?i._class:i.$class};as.sR=function(i,$){var h=1;while(Math.round(i.e/h)*Math.round(i.n/h)>$||Math.max(Math.round(i.e/h),Math.round(i.n/h))>3e4)h++;
if(h!=1&&!window.confirm("Your image is quite large ("+i.e+" x "+i.n+" px).\n"+"Press OK to scale it down "+h+"x, or Cancel to keep the size."))h=1;
return h};as.nP=function(i,$){var h=[],d=as;for(var K=0;K<i.length;K++){var f=i[K],l=d.YJ(f.frame);if($==0||d.L3(f)=="artboard")h.push(l)}return k.rect.Dv(h)};
as.Ek=function(i,$){var h=[],d=as;for(var K=0;K<i.length;K++){var f=i[K],l=d.YJ(f.frame);l.e+=150;l.n+=150;
h.push(l)}var u=k.rect.Dv(h);k.rect.aac(h,$);var U=k.rect.Dv(h);if(U.O()*1.5<u.O()||u.e>3e4&&U.e<=3e4||u.n>3e4&&U.n<=3e4){alert("Re-arranging artboards");
for(var K=0;K<i.length;K++){var y=h[K],f=i[K],a=f.frame;a.x=y.x;a.y=y.y}}};as.V5=function(i,$,h){var d=as;
for(var K=0;K<i.length;K++){var f=i[K],l=d.L3(f);if(["page","artboard","group"].indexOf(l)!=-1)d.V5(f.layers,$,h);
else if(l=="symbolMaster")$[f.symbolID]={n7:f}}};as.pL=function(i){var $=as;for(var h=0;h<i.length;h++){var d=i[h],K=$.L3(d),f=null;
if(["page","artboard","group"].indexOf(K)!=-1)f=$.pL(d.layers);if(K=="symbolMaster"||K=="symbolInstance")f=d;
if(f!=null)return f}return null};as.tN=function(i,$,h,d,K,f,l){var u=as,U=[];for(var y=0;y<i.length;
y++){var a=i[y],v=a.frame?u.YJ(a.frame):null,c=a.style,r="",n=null,Z=!1;if(c==null){console.log("no styles")}var p=u.b3(a,h),C=u.L3(a),T=C=="shapeGroup"||C=="shapePath"||C=="rectangle"||C=="oval"||C=="triangle"||C=="polygon",E=["page","artboard","group"].indexOf(C)!=-1;
if(C=="shapeGroup"){for(var t=0;t<a.layers.length;t++)if(u.L3(a.layers[t])=="shapeGroup")E=!0}var Y=a.exportOptions;
if(Y){var S=Y.exportFormats;if(S==null)S=Y.sizes;if(C!="artboard"&&(S&&S.length!=0)){var m=S[0].scale}}var Q=$.Dw();
Q.DJ(a.isVisible);var z=a.name;if(!(typeof z=="string"))z=C;Q.DN(r+z.slice(0,250));if(c!=null)n=u.a9x(d,$,c,v,p,Q.getName(),T||C=="artboard"||E);
if(C=="rectangle"&&c&&c.fills&&c.fills[0]){var P=c.fills[0];if(P.fillType==4&&P.patternFillType>1&&P.image!=null)Z=!0}if(a.shouldBreakMaskChain){while(U.length!=0)u.RN(U.pop(),$)}if(E){Q.add.lsct=a.layerListExpandedType==2?gX.DU:gX.qC;
Q.R$="pass";Q.pM=24;Q.DJ(a.isVisible);$.B.push($.U4());if(C=="artboard"){var V=v.clone(),I=p.Qa();V.x=-Math.floor(p.wQ/I);
V.y=-Math.floor(p.FQ/I);V.e=Math.floor(V.e/I);V.n=Math.floor(V.n/I);Q.th(V);var q=a.backgroundColor,X=q?{o:255*q.red,P:255*q.green,Z:255*q.blue}:{o:255,P:255,Z:255};
Q.add.artb.Clr={t:"Objc",v:k.M.Aw(X)};Q.add.artb.artboardBackgroundType={t:"long",v:4}}u.tN(a.layers,$,p,d,K,f,l)}else if(T&&!Z){Q.add.vmsk=new H.LF;
Q.add.vstk=JSON.parse(JSON.stringify(et._T.default));Q.add.vstk.strokeEnabled.v=!1;var B=n!=null&&n.frameFXMulti.v.length==1,e=c?c.fills:null,F=c?u.sN(d,e,v,p,Q.getName(),$,u.fO(l,a.do_objectID+"_image")):[];
if(F.length==0){if(B)Q.add.vstk.fillEnabled.v=!1;else Q.add.iOpa=0;Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:0,P:0,Z:0})}}}else{var s=F[0],J=null,W=null;
if(s.type=="SoFi"){J="SoCo";W=et.sF}if(s.type=="GrFl"){J="GdFl";W=et.ce}if(s.type=="patternFill"){J="PtFl";
W=et.V1}if(J!=null){Q.add[J]={classID:"null"};for(var t=0;t<W.length;t++){var L=W[t];Q.add[J][L]=s.L.v[L]}var A=s.L.v.Opct.v.val;
if(B&&A==0)Q.add.vstk.fillEnabled.v=!1;else Q.add.iOpa=Math.round(255*A/100)}}Q.pM|=16;Q.add.vmsk.i=u.h7(a.layers?a.layers:[a],a.layers?p:h);
var j=c?c.blur:null;if(j&&j.isEnabled&&j.type<=1)Q.add.vmsk.Dc=j.radius;if(Q.add.vmsk.i.length==2){console.log("shape with no content:",Q.getName())}if(B){var G=n.frameFXMulti.v[0].v,O=Q.add.vstk,o=c.borders[0];
n.frameFXMulti.v=[];eN.aft(G,O);var N=c.borderOptions,w=c.miterLimit;if(N){var kv=N.dashPattern;O.strokeStyleLineCapType.v.strokeStyleLineCapType=et._T.xe[N.lineCapStyle];
O.strokeStyleLineJoinType.v.strokeStyleLineJoinType=et._T.join[N.lineJoinStyle];if(kv)O.strokeStyleLineDashSet.v=eN.bq(kv,1/G.Sz.v.val);
if(w!=null)O.strokeStyleMiterLimit.v=w}}Q.Yt();Q.ET($)}else if(C=="bitmap"||Z){if(!Z&&a.image==null)continue;
var g=Z?c.fills[0]:null,b=Z?g.image.bdata:a.image.bdata,jU=$.UJ(b,Q.getName(),0,0);jU.pM=Q.pM;Q=jU;var j=c?c.blur:null,_=c?c.colorControls:null;
if(j||_){Q.add.SoLd.filterFX=d1.as();$.G6({id:Q.add.SoLd.placed.v,rect:new bN,buffer:k.Q(1),z:new H.k$});
var e=Q.add.SoLd.filterFX.v.filterFXList.v;if(j){var cY=d1.K7("GsnB",{});cY.v.enab.v=j.isEnabled;cY.v.Fltr.v.Rds.v.val=j.radius;
e.push(cY)}if(_){var j3=_.brightness,aS=_.contrast,bL=_.hue,cQ=_.saturation;if(bL!=0||cQ!=1){var cY=d1.K7("hue2",{});
cY.v.enab.v=_.isEnabled;dm.Jc(cY.v.Fltr.v,0,[Math.round(bL*180/Math.PI),Math.round((cQ-1)*100),0]);e.push(cY)}if(j3!=0||aS!=1){var cY=d1.K7("brit",{});
cY.v.enab.v=_.isEnabled;aS=aS-1;if(aS>0)aS/=2;var cK=cY.v.Fltr.v;cK.Brgh.v=Math.round(j3*255);cK.Cntr.v=Math.round(aS*255);
cK.useLegacy.v=!0;e.push(cY)}}}if(Z){var el=g.patternFillType;if(el==3){var gF=Q.rect.e/Q.rect.n,fj=v.e/v.n;
if(gF<fj){p.translate(-(v.e*(1-gF/fj))/2,0);p.scale(fj/gF,1)}else{p.translate(0,-(v.n*(1-fj/gF))/2);
p.scale(1,gF/fj)}}}v.x=v.y=0;var i3=k.p.Hg(v).C;p.Sp();k.p.D(i3,p,i3);Q.add.SoLd.Trnf=D.vA.j7(i3);Q.add.SoLd.nonAffineTransform=D.vA.j7(i3);
Q.u8($,!1)}else if(C=="text"){if(a.attributedString==null)continue;var eT=p.clone(),eV,hr,hT=0;eT.Sp();
eT.Pi=eT.Zn=Math.min(eT.Pi,eT.Zn);Q.add.lnsr="rend";Q.add.TySh=jP.Aj(0,0);Q.add.TySh.MX=new bN(0,0,v.e,v.n);
Q.add.TySh.D=eT;var it=a.attributedString;if(it.archivedAttributedString)it=it.archivedAttributedString;
var f8=it.NSString;if(f8==null)f8=it.string;if(f8==null)f8="";if(f8["NS.string"])f8=f8["NS.string"];
if(f[a.do_objectID]!=null)f8=f[a.do_objectID];var i$=u.fO(l,a.do_objectID+"_stringValue");if(i$)f8=i$.value;
if(it.attributes!=null){eV=[];hr=[];var gS=it.attributes;for(var t=0;t<gS.length;t++){eV.push(gS[t].length,t);
hr.push(gS[t].attributes)}}else if(it.NSAttributeInfo==null){eV=[f8.length,0];hr=[it.NSAttributes]}else{eV=it.NSAttributeInfo["NS.data"];
hr=it.NSAttributes;eV=as.ait(eV,hr)}for(var t=0;t<eV.length;t+=2)hT+=eV[t];if(hT!=f8.length){while(hT>f8.length){eV[eV.length-2]--;
hT--;if(eV[eV.length-2]==0){eV.pop();eV.pop()}}eV[eV.length-2]+=f8.length-hT}f8=f8.replace(/\u2028/g,"\n");
f8=f8.replace(/\u2029/g,"\n");f8=f8.replace(/\r/g,"\n");var gL=Q.add.TySh.$D;jP.uE(gL,0,f8);if(f8!=""){var iu=a.textBehaviour,dB=c.textStyle,jt=dB?dB.verticalAlignment:0,ka=u.alp(gL,eV,hr,f8),I=eT.Qa(),eQ=jP.Zg(gL,0,1),eY=0;
if(eQ.TL.Font){var dv=eQ.A8[eQ.TL.Font].Name;if(dv=="FontAwesome"||dv=="Ionicons")ka*=.87}var cT=eQ.TL.AutoLeading?0:eQ.TL.Leading*.6,gl=Math.max(ka,cT)*I,dY=v.e,gE=v.n;
if(iu==0){jP.tA(gL,0);var au=jP.sd(eQ.OU);if(au==1)eY=dY*I;if(au==2)eY=dY*I*.5;if(jt==0)gl*=1;else gl*=.9}else{jP.tA(gL,1);
jP.pt(gL,[0,0,Math.round(dY),Math.round(gE)]);if(iu==2&&jt==0)gl=gl*.2;else if(iu==2&&jt==1){gl=I*.5*(gE-eQ.TL.FontSize)}else if(iu==1&&jt==0)gl=gl*.2;
else gl=gl*.35}Q.add.TySh.D.translate(eY,gl)}}else if(C=="symbolInstance"||C=="symbolMaster"){var b8=a.symbolID;
if(f[a.do_objectID])b8=f[a.do_objectID].symbolID;var jw=u.fO(l,a.do_objectID+"_symbolID");if(jw)b8=jw.value;
if(b8=="")continue;var cj={};for(var L in f)cj[L]=f[L];if(a.overrides)for(var L in a.overrides)cj[L]=a.overrides[L];
var hp=l.slice(0);if(a.overrideValues)hp=hp.concat(a.overrideValues);var dW=K[b8];if(dW==null){console.log("Unknown master master",a.symbolID);
continue}var h4=as.YJ(dW.n7.frame),er=h4.e/v.e,hG=h4.n/v.n,i_=p.clone();i_.scale(er,hG);Q.add.lsct=gX.qC;
Q.R$="pass";Q.pM=24;Q.DJ(a.isVisible);$.B.push($.U4());var aK=dW.n7;if($.Rd.indexOf(aK)==-1){$.Rd.push(aK);
u.tN(aK.layers,$,i_,d,K,cj,hp);$.Rd.pop()}}else if(C=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+C,a);continue}if(c&&c.contextSettings){var bG=c.contextSettings,dx=bG.blendMode;
if(dx<u.JJ.length){Q.R$=ca.bj[ca.kD.indexOf(u.JJ[dx])];if(E&&Q.R$=="norm")Q.R$="pass"}Q.opacity=Math.round(Q.opacity*bG.opacity)}if(n!=null){Q.add.lmfx=n}$.B.push(Q);
if(a.hasClippingMask&&i.length>1){U.push(Q);$.B.push($.U4())}}while(U.length!=0)u.RN(U.pop(),$)};as.fO=function(i,$){for(var t=0;
t<i.length;t++)if(i[t].overrideName.startsWith($))return i[t]};as.ait=function(i,$){var h=0,d=[];while(h+1<i.length){var K=i[h];
h++;if(K>127){K+=128*(i[h]-1);h++;if(i[h-1]>127){K+=128*(i[h]-1);h++}}var f=i[h];h++;d.push(K,f)}return d};
as.alp=function(i,h,d,K){var f=as,l=0,v=0,c=0;for(var t=0;t<K.length;t++){var u=K.charCodeAt(t),U=1473<=u&&u<=1479||1488<=u&&u<=1514||1520<=u&&u<=1524,y=1569<=u&&u<=1594||1600<=u&&u<=1749;
if(U||y)l++}var a=l>K.length/2;for(var t=0;t<h.length;t+=2){var p=h[t],z=14,n="DejaVuSans";if(p==0)continue;
var C=h[t+1],T=d[C],E=jP.Zg(i,v,v+p-1),r=T.NSColor;if(r==null){var r=T.MSAttributedStringColorDictionaryAttribute;
if(r==null)r=T.MSAttributedStringColorAttribute;if(r==null)r="0 0 0";else r=[r.red,r.green,r.blue].join(" ")}else if(f.L3(r)=="MSArchivedColor")r=r.dr+" "+r.dg+" "+r.db;
else if(r.NSRGB){r=r.NSRGB;r=M.uX(r,0,r.length-1)}else if(r.NSCMYK){r=r.NSCMYK;r=M.uX(r,0,r.length-1);
r=r.split(" ").map(parseFloat);var Y=1-r[0],S=1-r[1],m=1-r[2],Q=1-r[3];r=Y*Q+" "+S*Q+" "+m*Q}else if(r.NSWhite){r="1 1 1"}r=r.split(" ");
E.TL.FillColor={Type:1,Values:[1,parseFloat(r[0]),parseFloat(r[1]),parseFloat(r[2])]};var Z=T.MSAttributedStringFontAttribute;
if(T.NSFont){z=T.NSFont.NSSize;n=T.NSFont.NSName}else if(Z){if(Z.attributes){Z=Z.attributes;z=Z.size;
n=Z.name}else{var P=Z.NSFontDescriptorAttributes;if(P==null)P=Z.UIFontDescriptorAttributes;Z=P;z=Z.NSFontSizeAttribute;
n=Z.NSFontNameAttribute}if(n==null)n="DejaVuSans"}var c=Math.max(c,z);E.TL.FontSize=Math.round(z);jP.Qr(E,n);
var V=T.NSKern;if(V==null)V=T.kerning;if(V!=null)E.TL.Tracking=Math.round(1e3*V/z);if(T.NSUnderline!=null)E.TL.Underline=T.NSUnderline>0;
var I=T.NSStrikethrough;if(I==null)I=T.strikethroughStyle;if(I!=null)E.TL.Strikethrough=I>0;if(T.MSAttributedStringTextTransformAttribute==1)E.TL.FontCaps=2;
var q=T.NSParagraphStyle;if(q==null)q=T.paragraphStyle;if(q){var X=q.paragraphSpacing;if(X!=null){E.OU.SpaceAfter=X}var B=q.NSAlignment;
if(B==null)B=q.alignment;if(B!=null){var e=0;if(!1){}else if(B==1)e=1;else if(B==2)e=2;else if(B==4)e=0;
else{e=B;console.log("unknown align",B)}if(a&&e<2)e=1-e;E.OU.Justification=e}var F=q.NSMinLineHeight;
if(F==null)F=q.minimumLineHeight;if(F!=null){E.TL.AutoLeading=!1;E.TL.Leading=F}}E.OU._Direction=a?1:0;
jP.jV(i,v,v+p,E);v+=p}return c};as.a9x=function(i,$,h,d,K,f,l){var u=as,U=JSON.parse(et.default),y=!1;
for(var t=0;t<et.order.length;t++)U[et.CE[t]]={t:"VlLs",v:[]};var a=h.fills,v=u.sN(i,a,d,K,f,$);for(var c=0;
c<2;c++){var p=h[["shadows","innerShadows"][c]];if(p==null)continue;var C=["DrSh","IrSh"][c],T=et.CE[et.order.indexOf(C)];
for(var t=0;t<p.length;t++){var E=p[t];if(!E.isEnabled)continue;if(E.contextSettings.opacity==0||E.color.alpha==0)continue;
var r=JSON.parse(et.MO[et.order.indexOf(C)]);U[T].v.unshift({t:"Objc",v:r});y=!0;r.Clr.v=u.cE(E.color);
r.blur.v.val=Math.round(E.blurRadius/K.Qa());var Y=K.clone();Y.wQ=Y.FQ=0;Y.Sp();var S=Y.hb(new cq(E.offsetX,E.offsetY)),m=Math.sqrt(S.x*S.x+S.y*S.y);
r.Dstn.v.val=Math.round(m);r.lagl.v.val=Math.round(Math.atan2(S.y,-S.x)*(180/Math.PI));if(r.layerConceals)r.layerConceals.v=v.length!=0;
u.LA(E,r)}}var Q=h.borders;if(Q!=null&&(v.length==0||h.blur==null||!h.blur.isEnabled))for(var t=0;t<Q.length;
t++){var z=Q[t];if(!z.isEnabled)continue;var r=JSON.parse(et.MO[et.order.indexOf("FrFX")]),T=et.CE[et.order.indexOf("FrFX")];
U[T].v.unshift({t:"Objc",v:r});y=!0;r.Clr.v=u.cE(z.color);if(z.fillType!=0&&z.gradient){var n=u.YH(z.gradient,d,K,f),Z=["Type","Angl","Ofst","Scl"];
for(var t=0;t<Z.length;t++)r[Z[t]]=n[Z[t]];r.Grad.v=n.Grad.v;r.PntT.v.FrFl="GrFl"}r.Sz.v.val=z.thickness/K.Qa();
r.Styl.v.FStl=["CtrF","InsF","OutF"][z.position];u.LA(z,r)}for(var t=l?1:0;t<v.length;t++){var P=v[t],T=et.CE[et.order.indexOf(P.type)];
U[T].v.unshift(P.L);y=!0}return y?U:null};as.sN=function(i,$,h,d,K,f,l){if($==null)return[];var u=as,U=[];
for(var t=0;t<$.length;t++)if($[t].isEnabled)U.push($[t]);$=U;var y=[];for(var t=0;t<$.length;t++){var a=$[t],v=null,c=null;
if(a.fillType==0){v="SoFi";var p=JSON.parse(et.MO[et.order.indexOf("SoFi")]);c={t:"Objc",v:p};c.v.Clr.v=u.cE(a.color)}else if(a.fillType==1){v="GrFl";
c={t:"Objc",v:u.YH(a.gradient,h,d,K)}}else if(a.fillType==4&&a.image!=null){var C=a.image;if(l)C=l.value;
var T=em.X0(C.bdata.buffer);if(T!=null&&T!="pdf"&&T!="eps"){var E,z=0,n=0,Z=0;if(f.Bl[C.key])E=f.Bl[C.key];
else{var r=em.Q_(T).u2(C.bdata)[0],Y=r.kp.clone();E={};E.id=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f";E.name="someImage";
E.Jz=[new Uint8Array(r.data),Y];f.pk(E);f.Bl[C.key]=E}var S=E.Jz[1],p=JSON.parse(et.MO[et.order.indexOf("patternFill")]);
v="patternFill";c={t:"Objc",v:p};var m=a.patternFillType,Q=a.patternTileScale;p.Algn.v=!0;p.Ptrn.v.Idnt.v=E.id;
if(m==0){z=Q*S.e/Math.min(S.e,S.n);n=-d.wQ;Z=-d.FQ}else{z=Math.max(h.e/S.e,h.n/S.n);n=-d.wQ-(S.e*z-h.e)/2;
Z=-d.FQ-(S.n*z-h.n)/2}p.Scl.v.val=100*z*(1/d.Qa());p.phase.v.Hrzn.v=Math.round(n/d.Qa());p.phase.v.Vrtc.v=Math.round(Z/d.Qa())}}else if(a.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",a.fillType);
if(v!=null){u.LA(a,c.v);y.push({type:v,L:c})}}return y};as.asU=function(i){var $=as,h=new bN(0,0,1,1);
i=i.slice(0);while(!0){var d=!1;for(var t=0;t<i.length-1;t++){var K=i[t],f=i[t+1],l=null,u=K.contextSettings;
if(K.fillType==0&&(u==null||u.opacity==1&&u.blendMode==0)&&K.color.alpha==1){var U="norm",y=1,u=f.contextSettings;
if(u){y=u.opacity;U=ca.Mp($.JJ[u.blendMode])}if(f.fillType==0){l=JSON.parse(JSON.stringify(f));$.I4(l.color,K.color,l.color,h,U,y)}if(f.fillType==1){l=JSON.parse(JSON.stringify(f));
var a=l.gradient.stops;for(var v=0;v<a.length;v++)$.I4(a[v].color,K.color,a[v].color,h,U,y)}if(l!=null&&l.contextSettings){var u=l.contextSettings;
u.opacity=1;u.blendMode=0}}if(l!=null){i.splice(t,0,l);d=!0;break}}if(!d||i.length<2)break}return i};
as.I4=function(i,$,h,d,K,f){var l=as,u=k.Q(4);l.ib(i,u);var U=k.Q(4);l.ib($,U);k.l.NU(K,u,d,U,d,d,f);
l.a0_(U,h)};as.ib=function(i,$){$[0]=255*i.red;$[1]=255*i.green;$[2]=255*i.blue;$[3]=255*i.alpha};as.a0_=function(i,$){$.red=i[0]/255;
$.green=i[1]/255;$.blue=i[2]/255;$.alpha=i[3]/255};as.RN=function(i,$){i=i.clone();i.pM=24;i.DN("Mask by "+i.getName());
$.B.push(i);i.add.lsct=gX.DU;i.add.lyid=$.XE();delete i.add.lmfx;delete i.add.SoCo;delete i.add.GdFl;
delete i.add.PtFl;delete i.add.iOpa;if(i.add.vmsk)i.add.vmsk.D3=!0;i.Yt();i.ET($);if((i.pM&16)==16)i.pM-=16;
if((i.pM&2)==2)i.pM-=2;i.R$="pass";i.opacity=255};as.JJ="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
as.YH=function(i,$,h,d){h=h.clone();h.Sp();h.wQ=h.FQ=0;var K=h.Qa(),c=0,p=0;h.scale(1/K,1/K);var f=as,l=JSON.parse(et.MO[et.order.indexOf("GrFl")]),u=l.Grad.v;
u.Intr.v=0;if(i==null)return l;var U=i.gradientType,y=f.VE(i.from),a=f.VE(i.to);y.offset(-.5,-.5);a.offset(-.5,-.5);
y=h.hb(y);a=h.hb(a);var v=Math.atan2(-(a.y-y.y),a.x-y.x);l.Type.v.GrdT=["Lnr","Rdl","Angl"][U];l.Scl.v.val=100*cq.ED(y,a);
if(U==0){l.Angl.v.val=180/Math.PI*v;l.Scl.v.val=100*cq.ED(y,a);c=(y.x+a.x)/2;p=(y.y+a.y)/2}if(U==1){l.Scl.v.val=200*cq.ED(y,a);
c=y.x;p=y.y}if(U==2){l.Angl.v.val=180/Math.PI*(v-Math.PI/2)}var C=l.Ofst.v;C.Hrzn.v.val=c*100;C.Vrtc.v.val=p*100;
var T=[];for(var t=0;t<i.stops.length;t++){var E=i.stops[t],r=E.color;T.push([E.position,r?[r.red,r.green,r.blue]:[0,0,0],r.alpha])}k.M.wX(T,u);
return l};as.LA=function(i,$){var h=as,d=1,K=i.contextSettings;if(K!=null){$.Md.v.BlnM=h.JJ[K.blendMode];
d*=K.opacity}else $.Md.v.BlnM=h.JJ[0];$.enab.v=i.isEnabled;if($.uglg!=null)$.uglg.v=!1;if(i.color!=null)d*=i.color.alpha;
$.Opct.v.val=Math.round(d*100)};as.cE=function(i){return k.M.Aw(i?{o:i.red*255,P:i.green*255,Z:i.blue*255}:{o:0,P:0,Z:0})};
as.h7=function(i,$){var h=as,d=[{type:6},{type:8,all:0}];for(var K=0;K<i.length;K++){var f=i[K],l=f.booleanOperation,u=0,U=f._class,C=!1;
if(U=="group"||U=="text"||U=="symbolInstance"||U=="slice"){console.log(U+" inside ShapeGroup");continue}if(l==-1)u=0;
else if(l==0)u=1;else if(l==1)u=2;else if(l==2)u=3;else if(l==3)u=0;if(K==0)u=1;var y=as.YJ(f.frame),a=h.b3(f,$),v=f.path?f.path:f,c=[{type:0,length:0,N0:u,Ur:2,Qb:0,Vb:0}],p=v.points;
for(var t=0;t<p.length;t++){var T=p[t],E=h.VE(T.curveTo),r=h.VE(T.point),Y=h.VE(T.curveFrom);C=C||T.hasCurveFrom&&!Y.Rl(r)||T.hasCurveTo&&!E.Rl(r)}var S=[];
if(!C){var m=[],b4=p.length;if(b4==0)continue;for(var t=0;t<b4;t++){S[t]=p[t].cornerRadius;var T=h.VE(p[t].point);
m.push(T.x,T.y)}a.scale(1/y.e,1/y.n);a.Sp();k.p.D(m,a,m);c=k.A.jY.As(m,S).slice(2);c[0].N0=u}else{var Q=p.length;
c[0].length=Q;for(var t=0;t<Q;t++){var T=p[t],z=T.curveMode,n=h.VE(T.point);c[1+t]={type:z==2||z==4?1:2,Q2:T.hasCurveTo?h.VE(T.curveTo):n.clone(),F:n,ua:T.hasCurveFrom?h.VE(T.curveFrom):n.clone()}}a.scale(1/y.e,1/y.n);
a.Sp();k.A.mu(c,a);var S=[];for(var t=0;t<Q;t++){var T=p[t],z=T.curveMode,Z=T.cornerRadius;if(z==1&&Z!=0)S.push(Z);
else S.push(0)}}if(!v.isClosed)for(var t=0;t<c.length;t++)c[t].type+=3;d=d.concat(c);var P=h.L3(f);if(a.Z==0&&a.sl==0){var V=a.wQ,I=a.FQ,q=V+a.Pi,X=I+a.Zn,B=[V,I,q,X]}}return d};
as.b3=function(i,$){var h=$.clone(),d=i.frame?as.YJ(i.frame):null;if(d)h.translate(-d.x-d.e/2,-d.y-d.n/2);
if(i.isFlippedHorizontal)h.scale(-1,1);if(i.isFlippedVertical)h.scale(1,-1);h.rotate(-i.rotation*(Math.PI/180));
if(d)h.translate(d.e/2,d.n/2);return h};as.VE=function(i){i=i.slice(1,i.length-1).split(",");return new cq(parseFloat(i[0]),parseFloat(i[1]))};
as.YJ=function(i){return new bN(i.x,i.y,i.width,i.height)};as.vf=function(i){return{_class:"rect",constrainProportions:!1,x:i.x,y:i.y,width:i.e,height:i.n}};
function fN(){}fN.cL=function(i,$){var h=Date.now(),d=fN,K=UZIP.parse(i),f=JSON.parse(M.kV(K.manifest)),l=JSON.parse(M.kV(K["resources/graphics/graphicContent.agc"])).resources,u=[],U=[],y=f.children;
for(var t=0;t<y.length;t++){var a=y[t];if(a.name=="artwork"){var v=a.children;for(var c=0;c<v.length;
c++){var p=v[c],C=JSON.parse(M.kV(K["artwork/"+p.path+"/graphics/graphicContent.agc"])),T=C.children;
if(T.length==0){}else if(T.length==1){if(p["uxdesign#bounds"]){p._node=T[0];u.push(p)}}else{var E=T[0],r=E.transform,Y=E.shape;
if(Y==null)Y={x:0,y:0,width:1e3,height:1e3};if(Y.type=="path"){var S=k.p.DS(Typr.U.SVGToPath(Y.path).crds);
Y={x:S.x,y:S.y,width:S.e,height:S.n}}Y=JSON.parse(JSON.stringify(Y));if(r){Y.x+=r.tx;Y.y+=r.ty}p["uxdesign#bounds"]=Y;
p._node={type:"artboard",artboard:{children:T}};U.push(p)}}}}if(u.length==0)u=U;var m=[],Q=new bN;for(var t=0;
t<u.length;t++){var p=u[t],z=as.YJ(p["uxdesign#bounds"]);m.push(z);Q=Q.rt(z)}var n=as.sR(Q,8192*8192);
$.Od=!0;$.e=Math.round(Q.e/n);$.n=Math.round(Q.n/n);$.buffer=k.Q($.e*$.n*4);$.Bw(u.length);var Z=new ej(n,0,0,n,Q.x,Q.y);
$.Bl={};for(var t=0;t<u.length;t++){var p=u[t],z=as.YJ(p["uxdesign#bounds"]),P=p._node,V=Z.clone(),I=z.clone(),q=V.Qa();
V.translate(-z.x,-z.y);I.x=-Math.floor(V.wQ/q);I.y=-Math.floor(V.FQ/q);I.e=Math.floor(I.e/q);I.n=Math.floor(I.n/q);
V.translate(z.x,z.y);fN.SV(P,$,V,l,K,I);var X=$.B[$.B.length-1];X.DN(p.name);X.th(I);if(t!=u.length-1)X.add.lsct=gX.qC}delete $.Bl};
fN.GU=function(i){if(i==null)return new ej;return new ej(i.a,i.b,i.c,i.d,i.tx,i.ty)};fN.SV=function(i,$,h,d,K,f){var l=fN,u=i.type,U=i[u],y=i.style,a=l.GU(i.transform),C,T="none",E,r="none",Y,S;
a.Sp();var v=h.clone();v.concat(a);var c=$.Dw(),p=i.name;c.DN(p?p.slice(0,250):"Layer");if(i.visible!=null)c.DJ(i.visible);
if(y){C=y.stroke;T=C?C.type:"none";E=y.fill;r=E?E.type:"none";Y=y.filters;S=y.clipPath;if(S&&d.clipPaths[S.ref])S=d.clipPaths[S.ref].children;
else S=null;if(y.opacity)c.opacity=Math.round(255*y.opacity);if(r=="solid"&&E.color.alpha)c.opacity=Math.round(c.opacity*E.color.alpha);
if(Y){c.add.lmfx=l.arR(Y);for(var t=0;t<Y.length;t++)if(Y[t].type=="uxdesign#blur"){var m=Y[t],Q=m.params,z=Q.brightnessAmount;
if(z==null)z=0;z=Math.abs(z/100);if((m.visible==null||m.visible==!0)&&Q.backgroundEffect)c.opacity=Math.round(c.opacity*(z+(1-z)*Q.fillOpacity))}}if(r=="pattern"&&E.pattern.meta.ux.uid=="")r="none"}if(S==null&&i.meta&&i.meta.ux&&i.meta.ux.clipPathResources)S=i.meta.ux.clipPathResources.children;
if(u=="artboard"||u=="group"){if(S){var n=S[0],Z=n.shape,P=Z!=null&&Z.type=="rect"&&Z.width*Z.height>1e6;
if(n.type!="text"&&!P){if(Z){var a=l.GU(n.transform);a.Sp();var V=v.clone();V.concat(a);c.add.vmsk=new H.LF;
c.add.vmsk.i=l.h7(Z);V=V.clone();V.Sp();k.A.mu(c.add.vmsk.i,V);c.Yt();c.ET($)}}else if(!P)alert("Clipping by text has been ignored")}c.add.lsct=gX.DU;
c.R$="pass";c.pM=24;if(i.visible!=null)c.DJ(i.visible);$.B.push($.U4());var I=U.children,q=E;if(q)q=q.color;
if(q)q=q.value;if(E){if(u=="artboard"&&r=="solid"){c.th(new bN(0,0,10,10));c.add.artb.Clr={t:"Objc",v:k.M.Aw({o:q.r,P:q.g,Z:q.b})};
c.add.artb.artboardBackgroundType={t:"long",v:4}}else{var X=$.Dw();X.DN("BACKGROUND");X.pM|=16;X.add.vstk=JSON.parse(JSON.stringify(et._T.default));
X.add.vmsk=new H.LF;X.add.vmsk.i=l.h7({type:"rect",x:f.x,y:f.y,width:f.e,height:f.n});l.x_(E,r,v,f,f,X,$,d,K);
X.Yt();X.ET($);$.B.push(X)}}for(var t=0;t<I.length;t++){fN.SV(I[t],$,v,d,K,f)}}else if(u=="shape"&&(U.type=="rect"&&(U.r==null||U.r==0)||U.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(U.path)))&&r=="pattern"&&(Math.abs(U.width/U.height-E.pattern.width/E.pattern.height)<.01||y.fill.pattern.meta.ux.scaleBehavior=="fill")){var B=E.pattern,e=B.meta.ux,F=e.uid,s=K["resources/"+F];
if(s==null){console.log(B);return}var J=$.UJ(s,c.getName(),0,0);J.pM=c.pM;J.opacity=c.opacity;c=J;var W=k.A.eu(l.h7(U),null),L=k.p.Hg(new bN(0,0,B.width,B.height)).C,A=new ej;
A.scale(B.width/W.e,B.height/W.n);if(e.offsetX)A.translate(-e.offsetX*B.width,0);if(e.offsetY)A.translate(0,-e.offsetY*B.height);
v.concat(A);v.Sp();k.p.D(L,v,L);c.add.SoLd.Trnf=D.vA.j7(L);c.add.SoLd.nonAffineTransform=D.vA.j7(L);
c.u8($,!1)}else if(u=="shape"){c.pM|=16;c.add.vstk=JSON.parse(JSON.stringify(et._T.default));c.add.vmsk=new H.LF;
c.add.vmsk.i=l.h7(U);var W=k.A.eu(c.add.vmsk.i,null),V=v.clone();V.Sp();k.A.mu(c.add.vmsk.i,V);var j=k.A.eu(c.add.vmsk.i,null);
if(T=="none"){}else{var G=C.color.value,O,o;O="SoFi";var N=JSON.parse(et.MO[et.order.indexOf("SoFi")]);
o={t:"Objc",v:N};o.v.Clr.v=k.M.Aw({o:G.r,P:G.g,Z:G.b});var w=C.align,kv=C.cap;if(w==null)w="center";
var g=c.add.vstk;g.strokeEnabled.v=!0;g.strokeStyleLineWidth.v.val=C.width;if(w)g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=et._T.QY[["inside","center","outside"].indexOf(w)];
if(kv)g.strokeStyleLineCapType.v.strokeStyleLineCapType=et._T.xe[["butt","round","square"].indexOf(kv)];
var b=["SoFi","GrFl","patternFill"].indexOf(O),jU=[et.sF,et.ce,et.V1][b];g.strokeStyleContent.v={classID:et._T.u$[0]};
var _=g.strokeStyleContent.v={classID:et._T.u$[b]};for(var t=0;t<jU.length;t++)_[jU[t]]=o.v[jU[t]]}if(Y)for(var t=0;
t<Y.length;t++)if(Y[t].type=="uxdesign#blur"&&Y[t].visible){var cY=Y[t];c.add.vmsk.Dc=cY.params.blurAmount}l.x_(E,r,v,W,j,c,$,d,K);
c.Yt();c.ET($)}else if(u=="text"&&i.text){var j3=i.text,aS=j3.frame,bL=y.font,cQ=y.textAttributes,a=v.clone(),eT=0;
a.Sp();c.add.lnsr="rend";c.add.TySh=jP.Aj(0,0);c.add.TySh.MX=new bN(0,0,100,100);c.add.TySh.D=a;var cK=c.add.TySh.$D,el=j3.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
jP.uE(cK,0,el);if(el!=""){var gF=jP.Zg(cK,0,1),fj=bL.postscriptName;if(fj==null)fj=bL.family;jP.Qr(gF,fj);
gF.TL.FontSize=Math.round(bL.size);if(E){var G=E.color.value;gF.TL.FillColor={Type:1,Values:[1,G.r/255,G.g/255,G.b/255]}}if(cQ){if(cQ.paragraphAlign)gF.OU.Justification=["left","right","center"].indexOf(cQ.paragraphAlign);
if(cQ.letterSpacing)gF.TL.Tracking=Math.round(cQ.letterSpacing);if(cQ.lineHeight){gF.TL.AutoLeading=!1;
gF.TL.Leading=Math.round(cQ.lineHeight)}}jP.jV(cK,0,el.length,gF)}var i3=i.meta.ux.rangedStyles;if(i3)for(var t=0;
t<i3.length;t++){var U=i3[t],eV=Math.min(U.length,el.length-eT);if(t==i3.length-1)eV=el.length-eT;var gF=jP.Zg(cK,eT,eT+eV),fj=U.postscriptName;
if(fj==null)fj=U.family;if(fj!=null)jP.Qr(gF,fj);var hr=U.textScript,it=U.underline,f8=U.fontSize,m=U.fill,i$=U.textTransform;
if(hr&&hr!="none")gF.TL.FontBaseline=hr=="superscript"?1:2;if(it!=null)gF.TL.Underline=it;if(f8!=null)gF.TL.FontSize=Math.round(f8);
if(i$!=null)gF.TL.FontCaps=i$=="uppercase"?2:0;if(i$=="lowercase"){jP.UF(cK,eT,eT+eV);jP.uE(cK,eT,el.slice(eT,eT+eV).toLowerCase())}if(m!=null){var gS=m.value;
gF.TL.FillColor={Type:1,Values:[1,(gS>>>16&255)/255,(gS>>>8&255)/255,(gS>>>0&255)/255]}}jP.jV(cK,eT,eT+eV,gF);
eT+=eV}if(aS.type=="area"||aS.type=="autoHeight"){var hT=aS.width,gL=aS.height;jP.tA(cK,1);jP.pt(cK,[0,0,hT,gL!=null?gL:hT*2])}}else if(u=="syncRef"){var iu=i.syncSourceGuid,dB=d.meta.ux.symbols,ka=l.Uo(dB,iu);
if(ka){var eQ=v.clone();eQ.concat(l.GU(ka.transform));fN.SV(ka,$,eQ,d,K,f)}return}else console.log(u,i);
$.B.push(c)};fN.Uo=function(i,$){for(var t=0;t<i.length;t++){var h=i[t],d=h.group;if(h.id==$)return h;
if(d){var K=fN.Uo(d.children,$);if(K)return K}}return null};fN.h7=function(i){var $=i.type,h=[{type:6},{type:8,all:0}];
if($=="rect"){var d=i.r,K=i.x,f=i.y,l=i.width,u=i.height;h=k.A.jY.Rect(K,f,l,u,d?d:0)}else if($=="circle"){var d=i.r;
h=k.A.jY.lQ(i.cx-d,i.cy-d,2*d,2*d)}else if($=="ellipse"){var U=i.rx,y=i.ry;h=k.A.jY.lQ(i.cx-U,i.cy-y,2*U,2*y)}else if($=="path"||$=="compound"){var a=Typr.U.SVGToPath(i.path);
h=k.p.Kg({H:a.cmds,C:a.crds},!1)}else if($=="line"){var v=i.x1,c=i.x2,p=i.y1,C=i.y2;h=k.A.jY.As([v,p,c,C],0,!0)}else if($=="polygon"){var T=i.points,E=[];
for(var t=0;t<T.length;t++)E.push(T[t].x,T[t].y);h=h.concat(k.A.jY.As(E,0,!1).slice(2))}else console.log($,i);
return h};fN.arR=function(i){var $=JSON.parse(et.default);for(var t=0;t<et.order.length;t++)$[et.CE[t]]={t:"VlLs",v:[]};
for(var t=0;t<i.length;t++){var h=i[t],d=h.type,K=h.params,f=h.visible;if(d=="dropShadow"){var l=et.CE[et.order.indexOf("DrSh")],u=JSON.parse(et.MO[et.order.indexOf("DrSh")]);
$[l].v.unshift({t:"Objc",v:u});var U=K.dropShadows;if(U.length!=1)throw"e";var y=U[t],a=y.color,v=a.value,c=y.dx,p=y.dy;
u.Clr.v=k.M.Aw({o:v.r,P:v.g,Z:v.b});u.Opct.v.val=Math.round((a.alpha!=null?a.alpha:1)*100);u.uglg.v=!1;
u.enab.v=f!=null?f:!0;u.lagl.v.val=Math.round(180/Math.PI*Math.atan2(p,-c));u.Dstn.v.val=Math.round(Math.sqrt(c*c+p*p));
u.blur.v.val=Math.round(y.r*2.3)}}return $};fN.x_=function(i,$,h,d,K,f,l,u,U){var y=fN;if($=="none"){f.add.vstk.fillEnabled.v=!1;
f.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:0,P:0,Z:0})}}}else{var a,v,c;if($=="solid"){var p=i.color.value;
a="SoCo";v=et.sF;var C=JSON.parse(et.MO[et.order.indexOf("SoFi")]);c={t:"Objc",v:C};c.v.Clr.v=k.M.Aw({o:p.r,P:p.g,Z:p.b})}else if($=="gradient"){a="GdFl";
v=et.ce;var C=JSON.parse(et.MO[et.order.indexOf("GrFl")]),T=C.Grad.v,m,Q,z;T.Intr.v=0;var E=i[$],r=E.ref?u.gradients[E.ref]:E.meta.ux.gradientResources,Y=["linear","radial","angular"].indexOf(r.type),S=r.stops;
C.Type.v.GrdT=["Lnr","Rdl","Angl"][Y];if(Y==0){var m=new cq(E.x1,E.y1),Q=new cq(E.x2,E.y2);m.x=Q.x+.5*(m.x-Q.x);
m.y=Q.y+.5*(m.y-Q.y)}else{var m=new cq(E.cx,E.cy),Q=new cq(E.cx+E.r,E.cy)}z=K;if(E.units=="objectBoundingBox"){var n=new ej(d.e,0,0,d.n,d.x,d.y);
m=n.hb(m);Q=n.hb(Q)}var n=y.GU(E.transform);m=n.hb(m);Q=n.hb(Q);n=h.clone();n.Sp();m=n.hb(m);Q=n.hb(Q);
k.M.EU(m,Q,z,C);var Z=[];for(var t=0;t<S.length;t++){var P=S[t],V=P.color,p=V.value,I=V.alpha;if(I==null)I=1;
Z.push([P.offset,[p.r/255,p.g/255,p.b/255],I])}k.M.wX(Z,T);c={t:"Objc",v:C}}else if($=="pattern"){a="PtFl";
v=et.V1;var C=JSON.parse(et.MO[et.order.indexOf("patternFill")]),L;c={t:"Objc",v:C};var q=i[$],X=q.meta.ux,B=X.uid,e=U["resources/"+B].buffer,F=X.flipX,s=X.flipY,J=B+F+s,W=em.X0(e);
if(l.Bl[J])L=l.Bl[J];else{var A=new bN(0,0,q.width,q.height),j;if(A.NT()||W==null){A=new bN(0,0,1,1);
j=new ArrayBuffer(4)}else{var G=em.Q_(W);if(G.LW){var O=new hR;G.u2(e,O);j=O.Fy().buffer}else{try{var o=G.u2(e)[0];
j=o.data;A=o.kp}catch(e_){j=new ArrayBuffer(A.O()*4)}}}L={};L.id=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f";
L.name="someImage";L.Jz=[new Uint8Array(j),A];if(F)k.K.Xo(L.Jz[0].slice(0),L.Jz[0],A.e,A.n);if(s)k.K.ac5(L.Jz[0].slice(0),L.Jz[0],A.e,A.n);
l.pk(L);l.Bl[J]=L}var N=h.clone();N.Sp();N.translate(d.x,d.y);var w=d.e,kv=d.n,g=L.Jz[1].e,b=L.Jz[1].n,jU=Math.max(w/g,kv/b);
if(X.scale)jU*=X.scale;var _=new ej;_.translate(-g/2,-b/2);_.scale(1/g,1/b);if(X.offsetX!=null)_.translate(X.offsetX,X.offsetY);
_.scale(g,b);_.scale(jU,jU);_.translate(w/2,kv/2);_.concat(N);eN.afG(L,C,0,0,1e3,_)}else console.log($);
if(a!=null){f.add[a]={classID:"null"};for(var t=0;t<v.length;t++){var cY=v[t];f.add[a][cY]=c.v[cY]}}}};
function dj(){}dj.cL=function(i,$,h){if(h&&h[0]==null)h=null;i=new Uint8Array(i);var d,p=1;if(i[0]==255&&i[1]==254)d=M.fP(i,2,(i.length>>>1)-1);
else d=M.kV(i,0,i.length);var K=new DOMParser,f=K.parseFromString(d,"image/svg+xml"),l=f.getElementsByTagName("style")[0];
if(l)l=Typr.U.SVG.cssMap(l.textContent);else l={};var u=f.firstChild;while(u.tagName!="svg")u=u.nextSibling;
var U=new bN(0,0,100,100),y=u.getAttribute("viewBox"),a=u.getAttribute("width"),v=u.getAttribute("height");
if(y){var c=dj.Mv(y);U.x=c[0];U.y=c[1];U.e=c[2];U.n=c[3]}else if(a!=null||v!=null){U.e=a!=null?parseFloat(a):parseFloat(v);
U.n=v!=null?parseFloat(v):parseFloat(a)}U=k.p.Ip(U);while(h&&Math.max(U.e*p,U.n*p)<Math.max(h[0],h[1]))p++;
while(h==null&&Math.max(U.e,U.n)*p>8192)p*=.5;$.Od=!0;$.e=~~(U.e*p);$.n=~~(U.n*p);$.buffer=k.Q($.e*$.n*4);
var C=new ej(p,0,0,p,-U.x*p,-U.y*p),T={z3:dj.n0(u),a79:l,$Y:0};dj.Xx(f,u.children,$,C,T,new ej,0);if($.B.length==0){var E=$.Dw();
E.DN("Layer");$.B.push(E)}};dj.Mv=function(i){var $=" ";if(i.indexOf(",")!=-1)$=",";return i.split($).map(parseFloat)};
dj.Xx=function(i,$,h,d,K,f,l,u){var U=dj,y=["display","opacity","fill-opacity","filter"];for(var a=0;
a<$.length;a++){var v=$[a],c=v.tagName,p=v.getAttribute("id"),E=13,Q=1,Z="clip-path",P=null,J=0;if(p==null)p=v.getAttribute("data-name");
var C=U.n0(v,K.a79);for(var T in K.z3)if(y.indexOf(T)==-1&&C[T]==null)C[T]=K.z3[T];if(C["font-size"])E=U.kN(C["font-size"],E);
if(v.getAttribute("dx"))d.wQ+=U.kN(v.getAttribute("dx"),E);if(v.getAttribute("dy"))d.FQ+=U.kN(v.getAttribute("dy"),E);
var r=U.d$(v);r.concat(d);var Y=v.getAttribute("visibility"),S=C.display,m=h.Dw();if(Y=="hidden"||S=="none")m.DJ(!1);
m.DN(p!=null?p.split(":::")[0]:"Layer");if(C.opacity)Q*=parseFloat(C.opacity);if(C["fill-opacity"]){var z=parseFloat(C["fill-opacity"]);
if(z!=0)Q*=z}m.opacity=Math.round(255*Q);if(C["mix-blend-mode"]){var n=ca.qT.indexOf(C["mix-blend-mode"]);
if(n!=-1)m.R$=ca.bj[n]}if(v.getAttribute(Z)==null)Z="mask";if(v.getAttribute(Z)!=null){var V=v.getAttribute(Z);
V=V.slice(4,V.length-1);var I=i.getElementById(V.slice(1));if(I){var q=I.children;P=h.Dw();P.DN("Clip-Path"+(p?": "+p:""));
P.add.lsct=l<2?gX.DU:gX.qC;P.R$="pass";P.pM=24;var X=P.add.vmsk=new H.LF;h.B.push(h.U4());var B=[];if(I.getAttribute(Z)){var V=I.getAttribute(Z);
V=V.slice(4,V.length-1);B=i.getElementById(V.slice(1)).children}for(var t=0;t<q.length;t++){var e=U.d$(q[t]);
e.concat(r);var F=U.h7(h,i,q[t],!1).slice(2);k.A.mu(F,e);X.i=X.i.concat(F)}for(var t=0;t<B.length;t++){var e=U.d$(q[t]);
e.concat(r);var F=U.h7(h,i,B[t],!1).slice(2);for(var s=0;s<F.length;s++)if(F[t].N0!=null)F[t].N0=3;k.A.mu(F,e);
X.i=X.i.concat(F)}P.Yt();P.ET();l++}}if(C.filter&&C.filter!="none"){var W=C.filter,A,j,G,o=!1,N=!1,w=!1;
W=W.slice(5,W.length-1);var L=i.getElementById(W),O=[0,0,0,.5],kv=r.Qa();if(L)for(var t=0;t<L.children.length;
t++){var g=L.children[t];if(g.tagName=="feGaussianBlur"){o=!0;A=parseFloat(g.getAttribute("stdDeviation"))*kv}if(g.tagName=="feColorMatrix"){var b=g.getAttribute("values");
if(b){b=b.split(" ").map(parseFloat);O=[b[4],b[9],b[14],b[18]]}}if(g.tagName=="feComposite"){w=!0}if(g.tagName=="feOffset"){N=!0;
var jU=g.getAttribute("dx"),_=g.getAttribute("dy");j=parseFloat(jU?jU:0)*kv;G=parseFloat(_?_:0)*kv}}if(w||N){var cY=w?"IrSh":"DrSh";
if(cY=="IrSh"){m.add.iOpa=0}var j3=JSON.parse(et.MO[et.order.indexOf(cY)]);j3.blur.v.val=Math.round(A*2.4);
var aS=Math.sqrt(j*j+G*G);j3.uglg.v=!1;j3.Dstn.v.val=Math.round(aS);j3.lagl.v.val=Math.round(Math.atan2(G,-j)*(180/Math.PI));
j3.Clr.v=k.M.Aw({o:O[0]*255,P:O[1]*255,Z:O[2]*255});j3.Opct.v.val=Math.round(O[3]*100);U.i_(m,et.CE[et.order.indexOf(cY)],j3)}else if(o)J=A}if(c=="g"||c=="a"||c=="svg"||c=="switch"||(c=="text"||c=="textPath")&&v.children.length>0||c=="symbol"&&u){if(c=="text")f=U.SM(v,f);
var bL=v.getAttribute("viewBox"),cQ=v.getAttribute("width"),cK=v.getAttribute("height");if(bL&&cQ&&cK){var el=dj.Mv(bL),gF=U.SM(v),fj=new ej;
fj.translate(-el[0],-el[1]);fj.scale(parseFloat(cQ)/el[2],parseFloat(cK)/el[3]);fj.translate(gF.wQ,gF.FQ);
fj.concat(r);r=fj}var i3=v.children.length,eT=K.z3;K.z3=C;var eV=K.$Y;K.$Y=Math.max(K.$Y,J);var hr=c!="text"&&c!="textPath"||i3>1;
if(hr){var it=m.ji();m.add.lsct=l<2&&it&&(p==null||!p.endsWith(":::"))?gX.DU:gX.qC;m.R$="pass";m.pM=24;
m.DJ(it);h.B.push(h.U4())}U.Xx(i,v.children,h,r,K,f,l+1);if(hr)h.B.push(m);else{var f8=h.B[h.B.length-1];
f8.opacity=m.opacity;f8.R$=m.R$}K.$Y=eV;K.z3=eT}else if(c=="use"){var fj=U.SM(v);fj.concat(r);var i$=U.uj(v),gS=i.getElementById(i$.slice(1));
if(gS){var eT=K.z3;K.z3=C;if(C.filter)gS.setAttribute("filter",C.filter);U.Xx(i,[gS],h,fj,K,f,l+1,!0);
K.z3=eT}}else if(c=="path"||c=="rect"||c=="circle"||c=="ellipse"||c=="polygon"||c=="polyline"||c=="line"){m.pM|=16;
m.add.vmsk=new H.LF;m.add.vstk=JSON.parse(JSON.stringify(et._T.default));m.add.vstk.strokeEnabled.v=!1;
var hT=m.add.vstk,X=m.add.vmsk,gL=C.fill,iu=gL=="none"||C["fill-opacity"]&&parseFloat(C["fill-opacity"])==0;
X.i=U.h7(h,i,v,C["fill-rule"]=="evenodd",iu);k.A.mu(X.i,r);var dB=k.A.eu(X.i),jt=C.stroke,ka=C["stroke-width"],eQ=C["stroke-dasharray"],cT=C["stroke-linejoin"],eY=C["stroke-linecap"],gl=C["paint-order"];
if(jt==null||jt=="none"||jt=="null"){}else{var dY=U.IU(i,jt,r,dB,h),gE=["SoFi","GrFl","patternFill"].indexOf(dY.type),cs=dY.L.v.Opct.v,jw=1;
if(cs.val!=100){m.opacity=Math.round(m.opacity*cs.val/100);cs.val=100}var au=[et.sF,et.ce,et.V1][gE],b8=hT.strokeStyleContent.v={classID:et._T.u$[gE]};
for(var t=0;t<au.length;t++)b8[au[t]]=dY.L.v[au[t]];ka=ka?parseFloat(ka):1;if(gl&&gl.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){jw=2;
ka/=2}hT.strokeEnabled.v=!0;if(cT)hT.strokeStyleLineJoinType.v.strokeStyleLineJoinType=et._T.join[["miter","round","bevel"].indexOf(cT)];
if(eY)hT.strokeStyleLineCapType.v.strokeStyleLineCapType=et._T.xe[["butt","round","square"].indexOf(eY)];
hT.strokeStyleLineWidth.v.val=ka*r.Qa();hT.strokeStyleLineAlignment.v.strokeStyleLineAlignment=et._T.QY[jw];
hT.strokeStyleOpacity.v.val=100*(C["stroke-opacity"]?parseFloat(C["stroke-opacity"]):1);if(eQ!=null&&eQ!="none")hT.strokeStyleLineDashSet.v=eN.bq(eQ.split(",").map(parseFloat),1/ka)}if(iu){m.add.vstk.fillEnabled.v=!1;
m.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:0,P:0,Z:0})}}}else{var dY=U.IU(i,gL,r,dB,h),ek=null,cj=null;
if(dY.type=="SoFi"){ek="SoCo";cj=et.sF}if(dY.type=="GrFl"){ek="GdFl";cj=et.ce}if(dY.type=="patternFill"){ek="PtFl";
cj=et.V1}if(ek!=null){var cs=dY.L.v.Opct.v;if(cs.val!=100){m.opacity=Math.round(m.opacity*cs.val/100);
cs.val=100}m.add[ek]={classID:"null"};for(var t=0;t<cj.length;t++){var T=cj[t];m.add[ek][T]=dY.L.v[T]}}}var jJ=Math.max(J,K.$Y);
if(jJ!=0)m.add.vmsk.Dc=jJ;m.Yt();m.ET(h);h.B.push(m)}else if((c=="text"||c=="tspan")&&v.textContent!=""){f=U.SM(v,f);
var fj=f.clone(),G=0;fj.concat(r);if(v.children.length>0){var hp=U.n0(v.children[0],K.a79);for(var T in hp)if(y.indexOf(T)==-1)C[T]=hp[T]}var dW=C["xml:space"],h4=v.textContent;
if(dW=="preserve")h4=h4.replace(/\t/g," ").replace(/\n/g," ");if(p==null)m.DN(h4);m.add.lnsr="rend";
m.add.TySh=jP.Aj(0,0);m.add.TySh.MX=new bN(0,0,100,100);m.add.TySh.D=fj.clone();var er=m.add.TySh.$D;
jP.uE(er,0,h4);var gL=C.fill,hG=C["font-weight"],i_=C["font-family"],aK=C["text-decoration"],jt=C.stroke,ka=C["stroke-width"],bG=C["dominant-baseline"];
if(bG=="text-before-edge")G=E;else if(bG=="middle")G=E/2;else if(bG=="hanging")G=E;if(G!=0)m.add.TySh.D.translate(0,G);
var dx=jP.Zg(er,0,1);if(gL&&gL!="none"){var O=CSS.cE(gL);dx.TL.FillColor={Type:1,Values:[1,O.o/255,O.P/255,O.Z/255]}}if(aK=="underline")dx.TL.Underline=!0;
dx.TL.FontSize=Math.round(E);jP.Qr(dx,"LiberationSans");if(hG=="bold")jP.Qr(dx,"LiberationSans-Bold");
if(i_){i_=i_.split(",")[0].trim();if(i_[0]=="\"")i_=i_.slice(1);if(i_[i_.length-1]=="\"")i_=i_.slice(0,i_.length-1);
var aH=i_+":"+(hG?hG:"normal"),cU={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(cU[aH])jP.Qr(dx,cU[aH]);else jP.Qr(dx,i_)}if(C["text-anchor"])dx.OU.Justification=["start","end","middle"].indexOf(C["text-anchor"]);
jP.jV(er,0,h4.length,dx);if(jt==null||jt=="none"){}else{var j3=JSON.parse(et.MO[et.order.indexOf("FrFX")]);
j3.Clr.v=k.M.Aw(CSS.cE(jt));j3.Sz.v.val=Math.round(parseFloat(ka)*fj.Qa());U.i_(m,"frameFXMulti",j3)}h.B.push(m)}else if(c=="image"){var i$=U.uj(v);
if(i$&&i$.slice(0,4)=="data"){var kr=em.yT(i$),cL=kr,aj=h.UJ(cL,m.getName(),0,0);aj.pM=m.pM;m=aj;var js=m.rect.clone();
js.x=js.y=0;var ey=v.getAttribute("width"),dr=v.getAttribute("height");if(ey)js.e=parseFloat(ey);if(dr)js.n=parseFloat(dr);
var df=U.SM(v);df.concat(r);var af=k.p.Hg(js).C;k.p.D(af,df,af);m.add.SoLd.Trnf=D.vA.j7(af);m.add.SoLd.nonAffineTransform=D.vA.j7(af);
m.u8(h,!1);h.B.push(m)}}else console.log("unknown tag: "+c,v.children.length,v.textContent.length);if(P!=null){h.B.push(P);
l--}}};dj.i_=function(i,$,h){var d=i.add.lmfx;if(d==null){var d=i.add.lmfx=JSON.parse(et.default);for(var t=0;
t<et.order.length;t++)d[et.CE[t]]={t:"VlLs",v:[]}}d[$].v.push({t:"Objc",v:h})};dj.h7=function(i,$,h,d,K){var f=dj,l=[{type:6},{type:8,all:0}],u=h.tagName;
if(u=="use"){var U=f.uj(h),y=$.getElementById(U.slice(1)),a=new ej;if(y.tagName!="rect")a=f.SM(y);a.concat(f.d$(y));
l=f.h7(i,$,y,d,K);k.A.mu(l,a)}else if(u=="path"){var v=h.getAttribute("d");if(v==null)return l;var c=Typr.U.SVGToPath(v);
l=k.p.Kg({C:c.crds,H:c.cmds},d,K)}else if(u=="rect"){var p=h.getAttribute("rx"),C=f.SM(h),T=new cq(0,0);
f.d8("width",h,i,T,!0);f.d8("height",h,i,T,!1);l=k.A.jY.Rect(C.wQ,C.FQ,T.x,T.y,p?parseFloat(p):0)}else if(u=="circle"||u=="ellipse"){var E=[0,0,0,0],r=["cx","cy","rx","ry","r"];
for(var t=0;t<5;t++){var Y=h.getAttribute(r[t]);if(Y){Y=parseFloat(Y);if(t<4)E[t]=Y;else E[2]=E[3]=Y}}l=k.A.jY.lQ(E[0]-E[2],E[1]-E[3],2*E[2],2*E[3])}else if(u=="polygon"||u=="polyline"||u=="line"){var S;
if(u=="line")S=[h.getAttribute("x1"),h.getAttribute("y1"),h.getAttribute("x2"),h.getAttribute("y2")].map(parseFloat);
else S=h.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
l=k.A.jY.As(S,0,u!="polygon")}return l};dj.kN=function(i,$){if(i.charAt(i.length-1)=="m")return $*parseFloat(i.slice(0,i.length-2));
else return parseFloat(i)};dj.IU=function(i,$,h,d,K){var f,l,u=dj,U=JSON.parse(et.MO[et.order.indexOf("SoFi")]),y=$!=null?$.indexOf("("):-1;
if(y!=-1){var a=$.indexOf(")"),v=$.slice(0,y).trim(),c=$.slice(y+1,a).trim();if(c.charAt(0)=="'")c=c.slice(1,c.length-1);
if(v=="url"){if(c.charAt(0)=="#"){var p=i.getElementById(c.slice(1));if(p&&p.tagName.toLowerCase().endsWith("gradient")){var C=u.YH(i,p,h,d);
f="GrFl";l={t:"Objc",v:C}}else if(p&&p.tagName.toLowerCase()=="pattern"&&p.children[0]&&p.children[0].tagName=="use"){f="SoFi";
l={t:"Objc",v:U};var T=p.children[0],E=u.d$(T),r=u.uj(T),Y=i.getElementById(r.slice(1)),S=em.yT(u.uj(Y)).buffer,m=em.Q_(em.X0(S)),Q=m.u2(S)[0],z={};
z.id=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f";z.name="someImage";z.Jz=[new Uint8Array(Q.data),Q.kp];K.pk(z);
var U=JSON.parse(et.MO[et.order.indexOf("patternFill")]);U.Scl.v.val=Math.round(100*d.e*E.Pi);var n=U.phase.v;
n.Hrzn.v=Math.round(d.x+E.wQ*d.e);n.Vrtc.v=Math.round(d.y+E.FQ*d.n);U.Ptrn.v.Idnt.v=z.id;f="patternFill";
l={t:"Objc",v:U}}else{f="SoFi";l={t:"Objc",v:U}}}else console.log("unknown url",c)}else if(v=="rgb"||v=="rgba"){f="SoFi";
l={t:"Objc",v:U};l.v.Clr.v=k.M.Aw(CSS.cE($));if(v=="rgba")l.v.Opct.v.val=Math.round(100*parseFloat($.split(",").pop()))}else console.log("unknown fill",$)}else{f="SoFi";
l={t:"Objc",v:U};var Z=CSS.cE($);l.v.Clr.v=k.M.Aw(Z);if(Z.Pi!=null)l.v.Opct.v.val=Math.round(100*Z.Pi/255)}return{type:f,L:l}};
dj.d$=function(i){var $=new ej,h=i.getAttribute("transform");if(h)$=dj.Ct(h);var d=i.getAttribute("style");
if(d!=null){var K={};dj.ML(K,d,["transform"]);d=K.transform;if(d)$.concat(dj.Ct(d))}return $};dj.SM=function(i,$){var h=new ej,d=i.getAttribute("x"),K=i.getAttribute("y");
if(d)h.wQ=parseFloat(d);else if($)h.wQ=$.wQ;if(K)h.FQ=parseFloat(K);else if($)h.FQ=$.FQ;return h};dj.Ct=function(i){var $=Typr.U.SVG.readTrnf(i);
return new ej($[0],$[1],$[2],$[3],$[4],$[5])};dj.n0=function(i,$){var h={},d="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var t=0;t<d.length;t++){var K=i.getAttribute(d[t]);if(K!=null&&K!="inherit")h[d[t]]=K}var f=i.getAttribute("class");
if($!=null&&f!=null&&$["."+f]!=null)dj.ML(h,$["."+f],d);var l=i.getAttribute("id");if($!=null&&l!=null&&$["#"+l]!=null)dj.ML(h,$["#"+l],d);
var u=i.getAttribute("style");if(u!=null)dj.ML(h,u,d);return h};dj.ML=function(i,$,h){$=$.trim().split(";");
for(var t=0;t<$.length;t++){var d=$[t].split(":"),K=d[0]?d[0].trim():"",f=d[1]?d[1].trim():"";for(var l=0;
l<h.length;l++)if(K==h[l]&&f!="inherit")i[h[l]]=f}};dj.uj=function(i){var $=i.getAttribute("xlink:href");
if($==null)$=i.getAttribute("href");if($==null)$=i.getAttribute("xl:href");return $};dj.d8=function(i,$,h,d,K){var f=$.getAttribute(i);
if(f==null)return;var l=parseFloat(f);if(f.endsWith("%"))l*=(K?h.e:h.n)/100;if(K)d.x=l;else d.y=l};dj.YH=function(i,$,h,d){var K=dj,f=K.d8,l=new ej,u=$.getAttribute("gradientTransform"),p=!1;
if(u)l=K.Ct(u);l.concat(h);var U=JSON.parse(et.MO[et.order.indexOf("GrFl")]),y=U.Grad.v;y.Intr.v=0;var a=$.tagName,v=new cq(0,0),c=new cq(d.e,0);
if(a=="linearGradient"){U.Type.v.GrdT="Lnr";f("x1",$,d,v,!0);f("y1",$,d,v,!1);f("x2",$,d,c,!0);f("y2",$,d,c,!1);
v.x=c.x+.5*(v.x-c.x);v.y=c.y+.5*(v.y-c.y)}if(a=="radialGradient"){U.Type.v.GrdT="Rdl";if($.getAttribute("cx"))v.x=parseFloat($.getAttribute("cx"));
if($.getAttribute("cy"))v.y=parseFloat($.getAttribute("cy"));c.WI(v.x,v.y);if($.getAttribute("r"))c.x+=parseFloat($.getAttribute("r"))}var C=$;
while(!0){if(C.getAttribute("gradientUnits")=="userSpaceOnUse")p=!0;var T=K.uj(C);if(T==null)break;C=i.getElementById(T.slice(1))}if(p){v=l.hb(v);
c=l.hb(c)}else{v.x=d.x+v.x*d.e;v.y=d.y+v.y*d.n;c.x=d.x+c.x*d.e;c.y=d.y+c.y*d.n}k.M.EU(v,c,d,U);var E=$.children;
if(E.length==0){var r=K.uj($);if(r==null)throw"gradient has no stops";var Y=i.getElementById(r.slice(1));
if(Y==null){console.log(r.slice(1))}else{var S=K.YH(i,Y,l,d);U.Grad=S.Grad}}else{var m=[];for(var t=0;
t<E.length;t++){var Q=E[t],z=K.n0(Q),n=z["stop-color"],Z=z["stop-opacity"],P=Q.getAttribute("offset");
if(n==null)n="#000000";Z=Z==null?1:parseFloat(Z);var V=P?parseFloat(P):0;if(P.endsWith("%"))V/=100;n=CSS.cE(n);
if(n.Pi!=null)Z*=n.Pi/255;m.push([V,[n.o/255,n.P/255,n.Z/255],parseFloat(Z)])}k.M.wX(m,y)}return U};
dj.t6=function(){var i=null,$=null,h="",d="";function K(n,Z,P){var V=[],B=" { ",e=" } ",F=!1;$=Z;d=Z.VN?"":"\t";
h=Z.VN?"":" ";var I=Z.auD,q=Z.a9P;V.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+n.e+" "+n.n+"\" width=\""+I+"\" height=\""+q+"\">");
if(!Z.VN)V.push(f(1)+"<title>"+Y(n.name.split(".")[0])+"</title>");var X={sA:[],Os:[],dB:0,JV:0,FV:0,Hb:{},va:{},Pb:0,B7:{},amE:{},od:0,SB:[]};
C(n,X,n.root.children,1,Z,P);if(X.sA.length!=0){V.push(f(1)+"<defs>");V=V.concat(X.sA);V.push(f(1)+"</defs>")}V.push(f(1)+"<style>");
if(Z.VN){B="{";e="}"}for(var t=0;t<n.B.length;t++)if(n.B[t].add.TySh)F=!0;if(F&&!Z.agT&&!Z.avv)V.push(f(2)+"tspan"+B+"white-space:pre"+e);
for(var s in X.B7)V.push(f(2)+"."+s+B+X.B7[s]+e);V.push(f(1)+"</style>");V=V.concat(X.Os);V.push("</svg>");
V=V.join(Z.VN?"":"\n");return M.Mr(V)}function f(b4){var n="";for(var t=0;t<b4;t++)n+=d;return n}function l(b4,n){if(n==null)n=1;
var Z=""+parseFloat(b4.toFixed(n));if(Z.startsWith("0."))Z=Z.slice(1);return Z}function u(n,Z){var P=n.add.lmfx;
if(P)P=P[Z].v[0];if(P)P=P.v;if(P&&!P.enab.v)P=null;return P}function U(n,Z){var P=u(n,"frameFXMulti");
if(P){var V=P.Sz.v.val;if(P.Styl.v.FStl=="OutF"){Z.push("paint-order:stroke fill markers");V*=2}p(Z,CSS.lo(P.Clr.v),1);
if(V!=1)Z.push("stroke-width: "+V);Z.push("stroke-linejoin: round;")}}var y="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function a(n){var Z=y.length,P="";for(var V=1;V<10;V++){var I=(Z-10)*~~Math.pow(Z,V-1);if(n<I){for(var t=0;
t<V;t++){var q=t==V-1?10:0,X=Z-q,B=n%X;P=y[B+q]+P;n=Math.floor((n-B)/X)}break}n-=I}return P}function v(n,Z,P,V){if(n.length!=0){if(V==null)V="s";
var I=n.join(";"),q=Z.amE[I];if(q==null){q=$.VN?a(Z.od):V+Z.od;Z.od++;Z.amE[I]=q;Z.B7[q]=I}if(P)P.push(q);
return q}}function c(n){if($.VN&&n.length==7&&n[0]=="#"){if(n[1]==n[2]&&n[3]==n[4]&&n[5]==n[6])n="#"+n[1]+n[3]+n[5]}return n}function p(n,Z,P){Z=c(Z);
if(Z!="#000"||P==1)n.push((P==0?"fill:":"stroke:")+h+Z)}function C(n,Z,P,V,I,q){var X=!1;for(var B=0;
B<P.length;B++){var e=P[B].a,F=e.add.lsct;if(!e.sD&&P[B+1]&&P[B+1].a.sD&&e.A$()&&e.add.vmsk){var s=[];
m(e,e.add.vmsk,Z,s);Z.Os.push(f(V)+"<g "+s[0]+">");V++;X=!0}else if(!e.sD&&P[B-1]&&P[B-1].a.sD&&X){V--;
Z.Os.push(f(V)+"</g>");X=!1}var J=e.add.vmsk,W=e.add.vogk,L=e.add.vstk,A=e.add.TySh;if(J&&!J.isEnabled)J=L=null;
var j=[];if(!I.hidden&&!e.ji())continue;var G=e.opacity/255,O=e.add.iOpa?e.add.iOpa/255:1;if(e.BT()){G*=O;
O=1}if(G!=1)j.push("opacity:"+h+l(G));if(O!=1)j.push("fill-opacity:"+h+l(O));if(e.R$!="norm"){var o=ca.qT[ca.bj.indexOf(e.R$)];
if(o!=null)j.push("mix-blend-mode:"+h+o)}if(!e.ji())j.push("display:"+h+"none");var s=[],N=[],w=e.getName(),kv=w.indexOf(" .");
if(!I.VN)s.push("id=\""+Y(w)+"\"");var g=eN.S4(e.add.lmfx,e.add),b=g[0],jU=g[1];if(e.BT()){var _=P[B].children;
if(!(_.length==1&&_[0].a.add.SoLd&&!I.gY)){if(i&&e.getName().split("-").length==3){i.push({dx:e.getName(),Kj:0,h3:[]})}m(e,J,Z,s);
if(j.length!=0)s.push("style=\""+j.join(";")+"\"");var cY=r(s,N),j3=I.VN&&cY=="";if(!j3)Z.Os.push(f(V)+"<g"+(cY==""?"":" "+cY)+">");
C(n,Z,_,V+1,I,q);if(!j3)Z.Os.push(f(V)+"</g>")}}else if(e.A$()&&J==null){var aS=new bN(0,0,n.e,n.n);
Q(n,j,e.add,Z,aS,I);if(j.length!=0)s.push("style=\""+j.join(";")+"\"");Z.Os.push(f(V)+"<rect width=\""+n.e+"\" height=\""+n.n+"\" "+r(s,N)+"/>")}else if(J&&e.add.SoLd==null){var aS=k.A.eu(J.i,null,!0),bL,cQ=null,cK=0,el;
Q(n,j,e.add,Z,aS,I);v(j,Z,N);if(W.length!=0){bL=W[0].v;cQ=bL.keyOriginType;if(cQ)cQ=cQ.v;if(cQ==2){var gF=k.X.Bs(bL);
cK=gF[0];for(var t=0;t<3;t++)if(cK!=gF[t+1])cQ=null}}if(W.length==1&&cQ==5){var aS=k.X.QU(bL),fj=(aS[0]+aS[2])/2,i3=(aS[1]+aS[3])/2,eT=fj-aS[0],eV=i3-aS[1],hr=Math.abs(eT-eV)<.01,it=hr?"r=\""+l(eT)+"\"":"rx=\""+l(eT)+"\" ry=\""+l(eV)+"\"";
el="<"+(hr?"circle":"ellipse")+" "+r(s,N)+" cx=\""+l(fj)+"\" cy=\""+l(i3)+"\" "+it+"/>"}else if(W.length==1&&cQ==2&&cK!=0){var aS=k.X.QU(bL),f8=aS[0],i$=aS[1],gS=aS[2]-aS[0],hT=aS[3]-aS[1],gL="";
if(f8!=0)gL+=" x=\""+l(f8)+"\"";if(i$!=0)gL+=" y=\""+l(i$)+"\"";gL+=" width=\""+l(gS)+"\"";gL+=" height=\""+l(hT)+"\"";
gL+=" rx=\""+l(cK)+"\"";el="<rect "+r(s,N)+gL+"></rect>"}else{var iu=k.A.uM(J.i,1);if(iu.RG!=0){s.push("fill-rule=\"evenodd\"")}el="<path "+r(s,N)+" d=\""+iu.Ai+"\"/>"}Z.Os.push(f(V)+el);
if(i&&i[i.length-1]){var dB=k.p.nF(J.i);dB.C=dB.C.map(Math.round);var jt=i[i.length-1];jt.Kj+=JSON.stringify(dB).length;
jt.h3.push([j[0].split("#").pop(),dB])}}else if(A&&I.agT){h=I.VN?"":" ";var ka=A.$D,eQ=new kd(ka,q),cT=null;
if(b)cT=CSS.lo(b.Clr.v);if(jU){var aS=e.rect.clone();z(jU,Z,aS,I);cT="url(#g"+Z.dB+")"}if(cT)j.push("fill:"+h+cT);
U(e,j);var eY=bM.iZ(eQ,A),gl=k.p.nk(eY);for(var dY in gl){var gE=j.slice(0),cs=N.slice(0),au=s.slice(0);
if(cT==null){p(gE,dY.slice(0,7),0);if(dY.length>7){var b8=dY.slice(7).split("-");console.log(b8);p(gE,b8[1],1);
if(b8[2]!="1")gE.push("stroke-width:"+h+b8[2])}}v(gE,Z,cs);var jw=gl[dY],b8=Typr.U.pathToSVG({crds:jw.C,cmds:jw.H},1);
Z.Os.push(f(V)+"<path "+r(au,cs)+(I.VN?"":" "+E(A))+" d=\""+b8+"\"/>")}}else if(A&&!I.avv){var ka=A.$D,ek=A.D.clone(),cT=null;
j.push("transform:"+h+S(ek));var cj=jP.Gs(ka),eQ=new kd(ka,q);U(e,j);if(j.length!=0)s.push("style=\""+j.join(";")+"\"");
Z.Os.push(f(V)+"<text "+r(s,N)+" >");if(b)cT=CSS.lo(b.Clr.v);if(jU){var aS=e.rect.clone();aS.x-=ek.wQ;
aS.y-=ek.FQ;z(jU,Z,aS,I);cT=" url(#g"+Z.dB+")"}for(var t=0;t<eQ.OU.length;t++){var jJ=eQ.OU[t];if(jJ.gP.length==1&&jJ.gP[0].I3)continue;
for(var hp=0;hp<jJ.Go.length;hp++){var dW=jJ.Go[hp],i3=jJ.$Z.y+dW.$Z.y,h4=jJ.gP[dW.start].start,er=jJ.gP[dW.end-1].end,hG=jP.ahD(ka,h4,er),i_="";
for(var aK=0;aK<hG.length;aK++){var bG=eQ.zV(h4),dx=hG[aK],aH=jP.Zg(ka,h4,h4),cU=aH.A8[aH.TL.Font].Name,dY=jP.zk(aH.TL.FillColor),kr=Math.round(aH.TL.FontSize),cL=cj.slice(h4,h4+dx);
if(aH.TL.FontCaps==2)cL=cL.toUpperCase();var aj=new ej;aj.translate(bG.gZ.x,-i3);var js=[];CSS.a2v(js,aH,null,!0,!0,cT);
var ey=v(js,Z,null,"t");ey=ey?" class=\""+ey+"\"":"";var fj=bG.gZ.x,dr=T(aH,cL);i_+="<tspan "+(aK==0?"x=\""+l(bG.gZ.x)+"\"":"")+" y=\""+l(i3)+"\""+ey+dr+">"+Y(cL)+"</tspan>";
h4+=dx}Z.Os.push(f(V+1)+i_)}}Z.Os.push(f(V)+"</text>")}else if(e.add.SoLd&&I.gY){var df=e.add.SoLd,af=df.Idnt.v,cB=0,iq=df.Crop?df.Crop.v:null;
if(Z.va[af]!=null)cB=Z.va[af];else{Z.Pb++;cB=Z.Pb;Z.va[af]=Z.Pb;var cV=n.hI(af,iq),da="";if(cV==null)return;
var gf=cV.eZ,ge=em.X0(cV.raw.buffer);if(ge=="pdf"){var aO=new hR("h");em.Q_("PDF").u2(cV.raw.buffer,aO);
aO.hh();aO.Z8();aO.U();aO.kX();if(df.Crop&&df.Crop.v==1){D.Xw.Xk(aO,aO.root.bL(aO,!0))}var eb=em.Q_("SVG").Pa(aO,aO.e,aO.n,null,{SB:q});
da="data:image/svg+xml;base64,"+em.bg(eb)}else if(ge=="jpg"||ge=="png"||ge=="gif"||ge=="svg"){var ag={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
da="data:"+ag[ge]+";base64,"+em.bg(cV.raw.buffer)}else{da=em.xJ(gf[0].buffer,gf[1].e,gf[1].n)}Z.sA.push(f(2)+"<image width=\""+gf[1].e+"\" height=\""+gf[1].n+"\" id=\"img"+cB+"\" href=\""+da+"\"/>")}var dX=k.K.Px(df),gP=[];
m(e,J,Z,gP);if(gP.length!=0)Z.Os.push(f(V)+"<g "+r(gP,N)+">");if(j.length!=0)s.push("style=\""+j.join(";")+"\"");
var cm=r(s,N);Z.Os.push(f(V)+"<use "+cm+" href=\"#img"+cB+"\" transform=\""+S(dX)+"\"/>");if(gP.length!=0)Z.Os.push(f(V)+"</g>")}else if(!e.rect.NT()&&(I.gY||A)){if(j.length!=0)s.push("style=\""+j.join(";")+"\"");
var cm=r(s,N),gO=e.buffer;if(b)gO=eN.a0A(gO,b,e.rect);var bO=e.rect;Z.Pb++;var da=em.xJ(gO.buffer,bO.e,bO.n,"png",null,!0);
Z.sA.push(f(2)+"<image "+E(A)+" width=\""+e.rect.e+"\" height=\""+e.rect.n+"\" id=\"img"+Z.Pb+"\" href=\""+da+"\"/>");
Z.Os.push(f(V)+"<use "+cm+" href=\"#img"+Z.Pb+"\" x=\""+bO.x+"\" y=\""+bO.y+"\"/>")}}if(X){V--;Z.Os.push(f(V)+"</g>");
X=!1}}function T(n,Z){var P=n.TL.Tracking,V="";if(P!=null&&P!=0){P=Math.round(P*n.TL.FontSize/1e3);V=" dx=\"0";
for(var I=1;I<Z.length;I++)V+=" "+P;V+="\" "}return V}function E(n){if(n==null)return"";var Z=n.$D,P=jP.Gs(Z);
P=Y(P.slice(0,P.length-1));return"aria-label=\""+P+"\" "}function r(n,Z){if(Z.length!=0)n.push("class=\""+Z.join(" ")+"\"");
return n.join(" ")}function Y(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function S(n){var Z=[n.Pi,n.Z,n.sl,n.Zn,n.wQ,n.FQ];
for(var t=0;t<6;t++)Z[t]=l(Z[t],3);return"matrix("+Z.join(",")+")"}function m(n,Z,P,V){if(Z||n.add.artb){var I;
if(Z)I=k.A.uM(Z.i).Ai;else{var q=n.Ik(),X=k.p.Hg(q);I=Typr.U.pathToSVG({crds:X.C,cmds:X.H},1)}P.FV++;
V.push("clip-path=\"url(#cp"+P.FV+")\"");P.sA.push(f(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+P.FV+"\">");
P.sA.push(f(3)+"<path d=\""+I+"\"/>");P.sA.push(f(2)+"</clipPath>")}}function Q(n,Z,P,V,I,q){var X=P.vstk,B=P.vmsk,e=P.lmfx,F=[];
if(B&&B.Dc!=0){var s=l(B.Dc);if(V.Hb[s]==null){V.JV++;V.Hb[s]=V.JV;V.sA.push(f(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+V.JV+"\"> <feGaussianBlur stdDeviation=\""+s+"\"/> </filter>")}F.push("url(#f"+V.Hb[s]+")")}if(e)for(var t=0;
t<et.order.length;t++){var J=et.order[t],W=et.CE[t],L=e[W].v;for(var A=0;A<L.length;A++){var j=L[A].v,G=j.classID;
if(!j.enab.v)continue;if(G=="OrGl"||G=="DrSh"){V.JV++;F.push("url(#f"+V.JV+")");var O=0,o=0,N=j.blur.v.val/2.4,w=j.Opct.v.val/100;
if(G=="DrSh"){var kv=j.uglg&&j.uglg.v?n.Hk():j.lagl.v.val;kv=kv*(Math.PI/180);var g=j.Dstn.v.val;O=-Math.cos(kv)*g;
o=Math.sin(kv)*g}if(G=="OrGl")w/=j.Inpr.v.val/100;var b="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+V.JV+"\" >";
b+="<feDropShadow dx=\""+O+"\" dy=\""+o+"\" stdDeviation=\""+N+"\" flood-color=\""+CSS.lo(j.Clr.v)+"\" flood-opacity=\""+l(w)+"\"/>";
b+="</filter>";V.sA.push(f(2)+b)}}}if(F.length!=0)Z.push("filter:"+h+F.join(" "));var jU=eN.S4(e,P),_=jU[0],cY=jU[1];
if(X&&!X.fillEnabled.v)Z.push("fill:"+h+"none");else if(_){var j3=CSS.lo(_.Clr.v);p(Z,j3,0)}else if(cY){z(cY,V,I,q);
p(Z,"url(#g"+V.dB+")",0)}if(X==null||!X.strokeEnabled.v)X=eN.No(e);if(X&&X.strokeEnabled.v){var aS=X.strokeStyleContent.v,bL=aS.classID;
if(bL=="solidColorLayer")p(Z,CSS.lo(aS.Clr.v),1);else{z(aS,V,I,q);p(Z,"url(#g"+V.dB+")",1)}var cQ=et._T.xe.indexOf(X.strokeStyleLineCapType.v.strokeStyleLineCapType),cK=et._T.join.indexOf(X.strokeStyleLineJoinType.v.strokeStyleLineJoinType),el=X.strokeStyleOpacity.v.val/100,gF=X.strokeStyleLineWidth.v.val,fj=et._T.QY.indexOf(X.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(fj==2){gF*=2;Z.push("paint-order:stroke fill markers")}var i3=X.strokeStyleLineDashSet.v,eT=[];for(var t=0;
t<i3.length;t++)eT.push(Math.round(i3[t].v.val*gF));if(cQ!=0)Z.push("stroke-linecap:"+h+["butt","round","square"][cQ]);
if(cK!=0)Z.push("stroke-linejoin:"+h+["miter","round","bevel"][cK]);if(el!=1)Z.push("stroke-opacity:"+h+l(el));
if(gF!=1)Z.push("stroke-width:"+h+l(gF));if(eT.length!=0)Z.push("stroke-dasharray:"+h+eT.join(","))}}function z(n,Z,P,V){Z.dB++;
var I=n.Grad.v,q=JSON.parse(JSON.stringify(I.Clrs.v)),X=JSON.parse(JSON.stringify(I.Trns.v)),B=n.Ofst.v,e=n.Type.v.GrdT,F=e=="Rdl"||e=="Dmnd"?1:0,s=(F==1?"radial":"linear")+"Gradient",J=k.M.gk(n,P),L="";
if(F==0){J[0].x=J[1].x+2*(J[0].x-J[1].x);J[0].y=J[1].y+2*(J[0].y-J[1].y)}var W=f(2)+"<"+s+" id=\"g"+Z.dB+"\"";
if(V.VN){if(Z.dB==1)Z.sA.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");L=" href=\"#P\""}else L=" gradientUnits=\"userSpaceOnUse\"";
if(F==0)Z.sA.push(W+" x1=\""+l(J[0].x)+"\" y1=\""+l(J[0].y)+"\" x2=\""+l(J[1].x)+"\" y2=\""+l(J[1].y)+"\""+L+">");
if(F==1)Z.sA.push(W+" cx=\""+l(J[0].x)+"\" cy=\""+l(J[0].y)+"\" r=\""+l(cq.ED(J[0],J[1]))+"\""+L+">");
var A=n.Rvrs.v,j=k.M.ID(I,A);for(var t=0;t<j.length;t++){var G=j[t],O=G[0],o=G[1],N=G[2];N=N==1?"":" stop-opacity=\""+l(N)+"\"";
var w=O==0&&V.VN?"":" offset=\""+l(O)+"\"",kv=CSS.O1({o:o[0]*255,P:o[1]*255,Z:o[2]*255});kv=V.VN&&kv=="#000000"?"":" stop-color=\""+c(kv)+"\"";
Z.sA.push(f(3)+"<stop"+w+kv+N+"/>")}Z.sA.push(f(2)+"</"+s+">")}dj.V3=S;return K}();dj.jY=function(i,$,h,d,K){var f=[],l=dj.jY,u=!1,U={DD:i,mJ:$,be:[!0,!0,!0],bv:!1,wj:h,ash:0};
U.HB=Math.round(Math.max(i,$)*(.02+l.cB(U)*.03));U.By=l.alr(U);U.FJ=l.a6d(U.By,(l.cB(U)<.5?-1:1)*(.2+l.cB(U)*.3));
if(l.cB(U)<.5){var y=U.By;U.By=U.FJ;U.FJ=y}U.ar7=l.cB(U)<.4&&l.a0U(U.FJ,{o:1,P:1,Z:1})>.3;U.awG=l.cB(U)<.5?0:1;
f.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+i+" "+$+"\" width=\""+i+"\" height=\""+$+"\">");
U.N2=d[Math.floor(l.OZ(U)*d.length)];U.oI=d[Math.floor(l.OZ(U)*d.length)];f.push("<style>");f.push("@font-face {  font-family: "+U.N2[2]+";  src: url(rsrc/fonts/"+U.N2[5]+");  }");
f.push("@font-face {  font-family: "+U.oI[2]+";  src: url(rsrc/fonts/"+U.oI[5]+");  }");f.push("</style>");
var a=[0,0,i,$],v=a;if(K==null)f.push("<path style=\"fill: "+l.fN(U.By)+"\" d=\""+l.Rect(a[0],a[1],a[2]-a[0],a[3]-a[1])+"\" id=\"Background\" />");
else{U.bv=!0;l._0(U,a,f,K)}if(l.cB(U)<.25&&!U.bv){U.be[0]=U.be[2]=!1;l.atY(a,U,f);v=a}else if(l.cB(U)<.25||U.bv)v=a;
else{var c=.52+l.cB(U)*.2;if(l.cB(U)<.5)c=1-c;var p=a.slice(0),C=a.slice(0);if(l.cB(U)<.5)p[2]=C[0]=Math.round(c*i);
else p[3]=C[1]=Math.round(c*$);if(l.cB(U)<.5){var y=p;p=C;C=y}v=p;l.awb(U,C,f,K)}l.a4j(U,v,f);f.push("</svg>");
f=f.join("\n");var T=k.Q(Math.round(f.length*1.5)),E=M.Ue(f,T,0);return[T.buffer.slice(0,E),U.s$]};dj.jY.atY=function(i,$,h){var d=dj.jY,K=i[2]-i[0],f=i[3]-i[1];
if(d.cB($)<.5){h.push("<path id=\"Border\" style=\"fill: "+d.fN($.FJ)+"\" d=\""+d.ao9(i[0],i[1],i[2]-i[0],i[3]-i[1],$.HB)+"\" />")}else if(d.cB($)<-.4){d.ac2($,i,h)}else{var l=d.cB($)<.5?0:1,u=(l==0?f:K)/4,U=d.o_($,l,i,h,u,!0),U=d.o_($,l+2,i,h,u,!0,U)}};
dj.jY.a4j=function(i,$,h){var d=dj.jY,K="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),f=2*Math.floor(d.cB(i)*K.length/2),l=$[2]-$[0],u=$[3]-$[1],y=0,v=0;
i.rH=(i.DD+l)*.5*(.04+d.cB(i)*.05);i.rH=Math.min(i.rH,u*.4,l*.12);i.rH=Math.round(i.rH);var U=Math.min(i.rH*K[f].length*(.35+.3*d.cB(i)),l*.9),a=($[1]+$[3])/2,c=k.ZQ(i.By)<.85?{o:1,P:1,Z:1}:{o:.1,P:.1,Z:.1};
if(d.cB(i)<.25&&i.be[0]){v=0;y=$[0]+i.HB}else if(d.cB(i)<.33&&i.be[2]){v=2;y=$[2]-i.HB}else{v=1;y=($[0]+$[2])/2}var p=c.o==1?"0,0,0":"255,255,255",C=i.bv&&d.cB(i)<1;
if(C){var T=$[0],E=l,r=a-i.rH*1.1,Y=i.rH*2.2,S=.7;if(v==1&&d.cB(i)<.5){T=r=.2*Math.min(l,u);E=l-2*r;
Y=u-r-r}else if(d.cB(i)<.7){T=r=0;E=l;Y=u;S=.25}h.push("<path id=\"Strip\" style=\"fill: rgb("+p+"); opacity: "+S+"\" d=\""+d.Rect(T,r,E,Y)+"\" />")}if(d.cB(i)<.4){var m=i.rH*.07;
m*=1.5+d.cB(i)*1;if(v==-1&&l/u<3&&!C){h.push("<path id=\"Bar-bottom\" style=\"fill: "+d.fN(c)+"\" d=\""+d.Rect(y-U/2,a+i.rH*1.1-m/2,U,m)+"\" />");
h.push("<path id=\"Bar-top\"    style=\"fill: "+d.fN(c)+"\" d=\""+d.Rect(y-U/2,a-i.rH*1.1-m/2,U,m)+"\" />")}if(v!=1){h.push("<path id=\"Bar\" style=\"fill: "+d.fN(c)+"\" d=\""+d.Rect(y-m/2,a-i.rH*.8,m,i.rH*.8*2)+"\" />");
y+=(v==0?1:-1)*i.rH/3}}var Q=i.rH*.4;h.push(d.Vz(K[f+1],y,a+Q*1.6,Q,c,v,i.oI));h.push(d.Vz(K[f],y,a+i.rH*.04,i.rH,c,v,i.N2))};
dj.jY.awb=function(i,$,h,d){var K=$[2]-$[0],f=$[3]-$[1],l=Math.max(K,f),u=Math.min(K,f),U=dj.jY;if(l/u<5&&!i.bv&&!1){U._0(i,$,h,d)}else if(U.cB(i)<0)h.push("<path style=\"fill: "+U.fN(i.FJ)+"\" d=\""+U.Rect($[0],$[1],K,f)+"\" />");
else{var y=0;if($[3]!=i.mJ)y=0;if($[2]!=i.DD)y=3;if($[0]!=0)y=1;if($[1]!=0)y=2;var a=y+2&3;if(l/u<3){var v=U.a8M(a),c=v[Math.round(U.cB(i)*(v.length-1))],p=c.dx.slice(0,4),C=p.indexOf(1);
c=JSON.parse(JSON.stringify(c));var T=-1;if(p!="0000"){var E=new ej;if(c.dx[5]=="0"){if(C==3&&y==1){T=1;
E.scale(-1,1)}else T=C}else{var r=a;while(r==a)r=Math.floor(U.cB(i)*4)&3;E.rotate((-C+r)*Math.PI/2)}U.D(c,E)}var Y=U.nP(c),S=K-2*i.HB,m=f-2*i.HB;
if(T!=-1){if((T&1)==0)m-=i.HB;else S-=i.HB}var Q=Math.min(S/Y.e,m/Y.n),z=new ej;z.translate(-Y.x,-Y.y);
z.scale(Q,Q);var n=(K-Y.e*Q)/2,Z=(f-Y.n*Q)/2;if(T!=-1){if(T==3)n=0;if(T==0)Z=0;if(T==1)n=K-Y.e*Q;if(T==2)Z=f-Y.n*Q}z.translate($[0]+n,$[1]+Z);
U.Eq(i,c,z,i.FJ,h)}else{U.o_(i,y,$,h,1e9)}}};dj.jY._0=function(i,$,h,d){var K=$[2]-$[0],f=$[3]-$[1],l=Math.max(K,f),u=Math.min(K,f),U=dj.jY,y=U.OZ(i),a,v,c,p=d[0]instanceof ArrayBuffer;
if(p){a="data:image/jpg;base64,"+bU.EQ(d[0]);v=d[1];c=d[2]}else{var C=Math.floor(y*d.length),T=d[C];
i.s$=T;a=T.webformatURL;v=T.webformatWidth;c=T.webformatHeight}var E=$[0],r=$[1],Y=K,S=f;if(K/f>v/c){S=Y*c/v;
r=r-(S-f)/2}else{Y=S*v/c;E=E-(Y-K)/2}if(p){h.push("<defs>");h.push("<image width=\""+v+"\" height=\""+c+"\" id=\"Background\" href=\""+a+"\" />");
h.push("</defs>");var m=Y/v;h.push("<use href=\"#Background\" transform=\""+dj.V3(new ej(m,0,0,m,E,r))+"\" />")}else{var Q="cp"+Math.random();
h.push("<clipPath id=\""+Q+"\">");h.push("<path style=\"fill: "+U.fN(i.FJ)+"\" d=\""+U.Rect($[0],$[1],K,f)+"\" />");
h.push("</clipPath>");h.push("<image  clip-path=\"url(#"+Q+")\" xlink:href=\""+a+"\" x=\""+E+"\" y=\""+r+"\" width=\""+Y+"\" height=\""+S+"\" />")}};
dj.jY.Vz=function(i,$,h,d,K,f,l){var u=dj.jY;return"<text x=\""+$+"\" y=\""+h+"\" style=\"fill:"+u.fN(K)+"; font-size:"+d+"px; text-anchor:"+["start","middle","end"][f]+"; font-family:"+l[2]+";\"><tspan>"+i+"</tspan></text>"};
dj.jY.Eq=function(i,$,h,d,K){var f=dj.jY,l=[];for(var t=0;t<$.h3.length;t++){l.push(d);if(i.ar7){d=(t&1)==i.awG?{o:1,P:1,Z:1}:l[0]}}K.push("<g id=\""+$.dx.split("-")[2]+":::\" style=\"transform: "+dj.V3(h)+";\" >");
for(var t=0;t<$.h3.length;t++){var u=$.h3[t];d=l.pop();K.push("<path style=\"fill: "+(d?f.fN(d):"#"+u[0])+"\" d=\""+Typr.U.pathToSVG({crds:u[1].C,cmds:u[1].H})+"\" />")}K.push("</g>")};
dj.jY.ac2=function(i,$,h){var d=dj.jY,K=dj.jY._2,f=[];for(var t=0;t<K.length;t++){var l=K[t],u=l.dx.slice(0,4);
if(u!="1001")continue;f.push(l)}var l=f[Math.floor(d.cB(i)*f.length)];if(d.cB(i)<.5)d.D(l,new ej(0,1,1,0,0,0));
var U=$[3]-$[1],y=$[2]-$[0],a=d.nP(l),v=.7*Math.min(y,U,.5*Math.max(y,U))/Math.max(a.e,a.n),c=new ej;
c.scale(v,v);if(d.cB(i)<.5){c.scale(1,-1);c.translate(0,U)}d.Eq(i,l,c,i.FJ,h);c.rotate(Math.PI);c.translate(y,U);
d.Eq(i,l,c,i.FJ,h)};dj.jY.a8M=function(i){var $=dj.jY._2,h=[];for(var t=0;t<$.length;t++){var d=$[t],K=d.dx.slice(0,4);
if(K=="0000"){h.push(d);continue}if(["1000","0100","0010","0001"].indexOf(K)==-1)continue;var f=K.indexOf("1");
if(d.dx[5]=="0"&&i==f&&f!=3)continue;h.push(d)}return h};dj.jY.o_=function(i,$,h,d,K,f,l){var u=dj.jY._2,U=dj.jY,y=[],Y,S;
for(var t=0;t<u.length;t++){var a=u[t],v=a.dx.slice(0,4);if(["1110","1101","1011","0111"].indexOf(v)==-1)continue;
var c=v.indexOf("0")+2&3;if(a.dx[5]=="0")if(f==!0||$!=c&&!($==1&&c==3))continue;y.push(a)}var p=l!=null?l:Math.floor(U.cB(i)*y.length),a=y[p],a=JSON.parse(JSON.stringify(a)),v=a.dx.slice(0,4),c=v.indexOf("0")+2&3;
if(c==3&&$==1)k.D(a,new ej(1,0,0,-1,0,1e3));var C=new ej;C.translate(-500,-500);C.rotate(-c*Math.PI/2);
C.translate(500,500);U.D(a,C);var T=h[3]-h[1],E=h[2]-h[0],r=U.nP(a);if(r.y<0){r.n+=r.y;r.y=0}if(r.y>0){r.n+=r.y;
r.y=0}if(($&1)==0){S=T;Y=E}else{Y=T;S=E}var m=Math.min(Math.min(.5+.5*U.cB(i))*Math.min(E,T),K)/r.n,Q=Math.ceil(Y/(1e3*m)),z=new ej,n=new ej;
n.scale(m,m);if($==0||$==2){n.translate(-(E/2),-(T/2));n.rotate(-$*Math.PI/2);n.translate(E/2+h[0],T/2+h[1])}else{n.rotate(Math.PI/2);
n.scale(1,-1);n.translate(h[0],h[1]);if($==1){n.scale(-1,1);n.translate(E,0)}}d.push("<g id=\"Border-"+["top","right","bottom","left"][$]+":::\">");
for(var t=0;t<Q;t++){var Z=z.clone();Z.concat(n);U.Eq(i,a,Z,i.FJ,d);z.translate(1e3-2,0)}d.push("</g>");
return p};dj.jY.Rect=function(i,$,h,d){return Typr.U.pathToSVG({crds:[i,$,i+h,$,i+h,$+d,i,$+d],cmds:["M","L","L","L","Z"]})};
dj.jY.ao9=function(i,$,h,d,K){var f=[i,$,i+h,$,i+h,$+d,i,$+d];i+=K;$+=K;h-=2*K;d-=2*K;f.push(i,$,i,$+d,i+h,$+d,i+h,$);
return Typr.U.pathToSVG({crds:f,cmds:"M L L L Z M L L L Z".split(" ")})};dj.jY.a6d=function(i,$){var h=k.xV(i.o,i.P,i.Z);
h.AP=Math.max(.1,Math.min(.9,h.AP+$));return k.Lm(h.mJ,h.qc,h.AP)};dj.jY.aaj=function(i,$){var h=k.xV(i.o,i.P,i.Z);
h.mJ+=$;return k.Lm(h.mJ,h.qc,h.AP)};dj.jY.aaK=function(i){var $=k.xV(i.o,i.P,i.Z);$.AP=1-$.AP;return k.Lm($.mJ,$.qc,$.AP)};
dj.jY.a0U=function(i,$){var h=i.o-$.o,d=i.P-$.P,K=i.Z-$.Z;return Math.sqrt(h*h+d*d+K*K)};dj.jY.alr=function(i){var $=dj.jY;
return{o:$.cB(i),P:$.cB(i),Z:$.cB(i)}};dj.jY.fN=function(i){return CSS.O1({o:i.o*255,P:i.P*255,Z:i.Z*255})};
dj.jY.nP=function(i){var $=i.h3,h=new bN;for(var t=0;t<$.length;t++)h=h.rt(k.p.nP($[t][1].C));return h};
dj.jY.D=function(i,$){var h=i.h3;for(var t=0;t<h.length;t++)k.p.D(h[t][1].C,$,h[t][1].C)};dj.jY.cB=function(i){i.ash++;
var $=i.ash&3;if($==0)i.wj=dj.jY.tf(i.wj);var h=i.wj>>>8*$&255;return h*(.99999999/255)};dj.jY.OZ=function(i){var $=dj.jY.tf(i.wj);
i.wj=dj.jY.tf($);return $*(1/4294967295)};dj.jY.tf=function(i){i=(i^61^i>>>16)>>>0;i=i+(i<<3)>>>0;i=(i^i>>>4)>>>0;
i=i*668265261>>>0;i=(i^i>>>15)>>>0;return i};dj.jY._2=[{dx:"0001-0-bird",h3:[["4b3c34",{H:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),C:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{H:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),C:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{H:"M C C C C C C C C C C C C L Z".split(" "),C:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{dx:"0001-0-bird2",h3:[["ff7f2a",{H:"M L L L Z M L L L Z".split(" "),C:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{H:"M C C C C C C C C C C C L Z".split(" "),C:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{H:"M C C C C C C L Z M C C Z".split(" "),C:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{H:"M L L L Z M L L L Z".split(" "),C:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{H:"M L C C C C C C C C L Z".split(" "),C:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{H:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),C:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{dx:"0000-1-flower",h3:[["7a59a2",{H:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),C:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{dx:"0000-1-flower",h3:[["d13777",{H:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),C:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{dx:"0000-1-flower",h3:[["ffac42",{H:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),C:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{dx:"0000-1-flower",h3:[["d04040",{H:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{dx:"0000-1-flower",h3:[["ec7272",{H:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),C:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{H:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),C:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{dx:"0000-0-hearts",h3:[["d17070",{H:"M C C C C C C C C C L Z".split(" "),C:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{H:"M C C C C C C C C C L Z".split(" "),C:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{H:"M C C C C C C C C C L Z".split(" "),C:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{dx:"0000-0-anchor",h3:[["2a3b66",{H:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),C:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{dx:"0000-1-leaf",h3:[["fbb600",{H:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),C:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{dx:"0000-1-acorn",h3:[["a05a2c",{H:"M C C C C C C C L Z".split(" "),C:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{H:"M C C C C C C C C C C C Z".split(" "),C:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{dx:"0000-0-skull",h3:[["808080",{H:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),C:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{dx:"0000-0-ghost",h3:[["e6e6e6",{H:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),C:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{H:"M C C C C Z M C C C C Z".split(" "),C:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{dx:"1001-1-rose",h3:[["9e1460",{H:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),C:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{H:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),C:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{dx:"1001-1-curls",h3:[["53a7ab",{H:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{H:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{dx:"0111-0-pines",h3:[["e9e9e9",{H:"M C C C C C C C C L L L Z".split(" "),C:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{H:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),C:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{dx:"0111-0-flowers",h3:[["8cae40",{H:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),C:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{H:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{dx:"1101-1-confetti",h3:[["e789ff",{H:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{H:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{dx:"1101-1-branch",h3:[["7f500b",{H:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),C:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{dx:"1101-1-sticks",h3:[["ec7272",{H:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{H:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{dx:"1101-1-dots",h3:[["ec7272",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{H:["M","C","C","Z"],C:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{dx:"1101-1-strips",h3:[["ffc88c",{H:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{H:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{H:["M","C","C","Z"],C:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{dx:"1101-1-circs",h3:[["ec7272",{H:"M C C C C Z M C C C C Z".split(" "),C:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{H:"M C C C C Z M C C C C Z".split(" "),C:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{H:["M","C","C","Z"],C:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{dx:"1101-1-squares",h3:[["014ea7",{H:"M L L L L Z M L L L L Z".split(" "),C:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{H:"M L L L L Z M L L L L Z".split(" "),C:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{H:["M","C","C","Z"],C:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{dx:"1101-0-christmas",h3:[["014ea7",{H:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{H:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var hP={};hP.parse=function(i){var $=new Uint8Array(i),h=null;if($[0]==80&&$[1]==75){var d=Date.now(),K=UZIP.parse($.buffer),h=K["document.json"];
h=JSON.parse(M.kV(h,0,h.length));hP.oL(h,K)}else{var f=iQ.parse(i);h=hP.Gy(f[2][0][1])}return h};hP.oL=function(i,$){var h=typeof i;
if(h=="string"||h=="number"||h=="boolean")return i;if(i instanceof Array){for(var t=0;t<i.length;t++)i[t]=hP.oL(i[t],$);
return i}var d=i._class;if(d==null)return i;if(d=="MSJSONFileReference"){var K=i._ref;if(!1){}else if($[K+".json"]!=null){var f=$[K+".json"],l=f.length;
for(var t=0;t<l;t++)if(f[t]==11||f[t]==3)f[t]=32;var u=M.kV(f,0,l);i=JSON.parse(u)}else if($[K+".png"]!=null)return{key:K.split("/").pop(),bdata:$[K+".png"]};
else if($[K+".jpg"]!=null)return{key:K.split("/").pop(),bdata:$[K+".jpg"]};else if($[K+".pdf"]!=null)return{key:K.split("/").pop(),bdata:$[K+".pdf"]};
else if($[K]!=null)return{key:K.split("/").pop(),bdata:$[K]};else{console.log(i,$);return}}else if(d=="MSAttributedString"){var u=atob(i.archivedAttributedString._archive),U=u.length-1,y=new Uint8Array(U);
for(var t=0;t<U;t++)y[t]=u.charCodeAt(t);i.archivedAttributedString=hP.Gy(y)}for(var a in i)i[a]=hP.oL(i[a],$);
return i};hP.ja=function(i,$,h,d){if(i instanceof Uint8Array)return null;if(d.indexOf(i)!=-1)return null;
d.push(i);if(i==$)return h;for(var K in i){h.push(K);var f=hP.ja(i[K],$,h,d);if(f){console.log(i,f);
throw"e"}h.pop()}};hP.Gy=function(i){var $=aA.parse(i,0),h=$.$objects,d=new Uint8Array(h.length),K=hP.Zx(h,d,$.$top.root);
for(var t=0;t<h.length;t++)if(d[t]==0&&t!=0){console.log(t,h[t]);hP.ja(K,t,[],[])}for(var t=0;t<h.length;
t++){var f=h[t];if(f._class&&(f._class=="bitmap"||f._class=="fill"&&f.fillType==4&&(f.image||f.imageSHA))){var l=f.image,u=f.imageSHA,U=null,y=null;
if(l=="$null")l=null;if(u=="$null")u=null;if(l&&l.data){y=l.sha1["NS.bytes"];y=btoa(M.uX(y,0,y.length));
U=l.data instanceof Uint8Array?l.data:l.data["NS.bytes"]}else if(l==null&&u==null){var a=em.Q_("PNG").Pa([[k.Q(4).buffer]],1,1);
U=new Uint8Array(a)}else{var v=(K.assets?K.assets.imageCollection:K.images).images;if(u)y=u instanceof Uint8Array?u:u["NS.bytes"];
else y=l.sha1["NS.bytes"];y=btoa(M.uX(y,0,y.length));var U=v[y].data;if(U["NS.bytes"])U=U["NS.bytes"]}U=new Uint8Array(U.buffer.slice(U.byteOffset,U.byteOffset+U.length));
delete f.imageSHA;f.image={key:y,bdata:U}}}return K};hP.a9H=function(i){return i.slice(0,11)=="MSImmutable"?"MS"+i.slice(11):i};
hP.Zx=function(i,$,h){var d=i[h];if($[h]==1){return d}$[h]=1;if(typeof d=="string")return d;if(typeof d=="number")return d;
if(typeof d=="boolean")return d;if(d instanceof Array)return d;if(d instanceof Uint8Array){return d}if(i[d.$class]==null){if(d.$class==null&&d["NS.data"]!=null)return d;
console.log(h,d);throw"e"}var K=i[d.$class],f=hP.a9H(K.$classname);$[d.$class]=1;d.$class=f;if(hP.Nv[f]){delete d.$class;
d._class=hP.Nv[f]}var l=hP.Zx;if(f=="NSMutableArray"||f=="NSArray"){var u=[];if(d["NS.objects"]!=null)for(var t=0;
t<d["NS.objects"].length;t++)u.push(l(i,$,d["NS.objects"][t]));else for(var t=0;d["NS.object."+t]!=null;
t++)u.push(l(i,$,d["NS.object."+t]));i[h]=u;return u}if(f=="NSDictionary"||f=="NSMutableDictionary"){var U={$class:f};
if(d["NS.keys"]!=null)for(var t=0;t<d["NS.keys"].length;t++){var y=l(i,$,d["NS.keys"][t]);if(y instanceof Uint8Array)y=btoa(hP.Fz.uX(y,0,y.length));
else if(typeof y!="string"&&typeof y!="number")y=btoa(hP.Fz.uX(y["NS.bytes"],0,y["NS.bytes"].length));
U[y]=l(i,$,d["NS.objects"][t])}else for(var t=0;d["NS.key."+t]!=null;t++){var y=l(i,$,d["NS.key."+t]);
if(y instanceof Uint8Array)y=btoa(hP.Fz.uX(y,0,y.length));else if(typeof y!="string"&&typeof y!="number")y=btoa(hP.Fz.uX(y["NS.bytes"],0,y["NS.bytes"].length));
U[y]=l(i,$,d["NS.object."+t])}for(var a in d)delete d[a];for(var a in U)d[a]=U[a];return d}if(f=="NSURL")return{$class:f,base:l(i,$,d["NS.base"]),relative:l(i,$,d["NS.relative"])};
if(hP.akK.indexOf(f)!=-1){i[h]=l(i,$,d.array_do);return i[h]}if(d.do_objectID!=null)d.do_objectID=l(i,$,d.do_objectID);
if(hP.a2j.indexOf(f)!=-1)return d;var v=hP.apP[f];if(v==null){console.log(i,d);throw"unknown class "+f}for(var t=0;
t<v.length;t++)if(d[v[t]]!=null)d[v[t]]=l(i,$,d[v[t]]);if(f=="MSTextLayer"){var c=d,p,C,T,E;if(c.attributedString)p=c.attributedString.archivedAttributedString;
else p=c.storage;E=p.NSString;if(typeof E!="string")E=M.kV(E["NS.bytes"],0,E["NS.bytes"].length);if(p.NSAttributeInfo)C=p.NSAttributeInfo["NS.bytes"];
else{var r=E.length,Y=[];while(r>0){var S=Math.min(100,r);Y.push(S,0);r-=S}C=new Uint8Array(Y)}T=p.NSAttributes instanceof Array?p.NSAttributes:[p.NSAttributes];
var m={$class:"NSAttributedString",NSString:E,NSAttributes:T};c.attributedString={_class:"MSAttributedString",archivedAttributedString:m};
m.NSAttributeInfo={$class:"NSMutableData","NS.data":C};delete c.storage}return d};hP.Fz={fd:function(i,$){return i[$+1]<<8|i[$]},v:function(i,$){return i[$+3]<<24|i[$+2]<<16|i[$+1]<<8|i[$]},uX:function(i,$,h){var d="";
for(var t=0;t<h;t++)d+=String.fromCharCode(i[$+t]);return d}};hP.Nv={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
hP.akK=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
hP.a2j="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
hP.apP={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var aA={};aA.parse=function(i,$){var h=M.uX(i,$,8);$+=8;var d=aA.parse.ab1(i,i.length-31),K=[];if(d.YA==1){var $=i.length-31-d.YA*d.hC;
for(var t=0;t<d.hC;t++)K.push(i[$+t])}else if(d.YA==2){var $=i.length-31-d.YA*d.hC;for(var t=0;t<d.hC;
t++)K.push(M.fd(i,$+t*2))}else if(d.YA==4){var $=i.length-31-d.YA*d.hC;for(var t=0;t<d.hC;t++)K.push(M.v(i,$+t*4))}else{throw"e"}var f=aA.parse.Zx(i,K,d.root,d);
return f};aA.parse.Zx=function(i,$,h,d){var K=aA.Fz,f=d.akQ,l=f==4?K.v:f==2?K.fd:K.asE,u=aA.parse,U=$[h],y=i[U],a=y>>4,v=y&15,p=null;
U+=1;if([4,5,6,10,12,13].indexOf(a)!=-1&&v==15){var c=u.$I(i,U);U+=c.Kj;v=c.L}if(!1){}else if(a==0)p=v==8?!1:v==9?!0:null;
else if(a==1)p=u.$I(i,U-1).L;else if(a==2)p=1<<v==4?M.N_(i,U):M.VM(i,U);else if(a==3)p=M.VM(i,U);else if(a==4)p=new Uint8Array(i.buffer,U,v);
else if(a==5)p=M.uX(i,U,v);else if(a==6)p=M.bD(i,U,v);else if(a==8){p=0;for(var t=0;t<v+1;t++)p=p<<8|i[U+t]}else if(a==10){p=[];
for(var t=0;t<v;t++)p.push(u.Zx(i,$,l(i,U+f*t),d))}else if(a==12){p=[];for(var t=0;t<v;t++)p.push(u.Zx(i,$,l(i,U+f*t),d))}else if(a==13){p={};
for(var t=0;t<v;t++){var C=u.Zx(i,$,l(i,U+f*t),d),T=u.Zx(i,$,l(i,U+f*(v+t)),d);p[C]=T}}else throw"unknown mask "+a;
return p};aA.parse.$I=function(i,$){var h=1<<(i[$]&15),d=0;for(var t=0;t<h;t++)d=d<<8|i[$+1+t];return{L:d,Kj:h+1}};
aA.parse.ab1=function(i,$){var h={};$+=6;h.YA=i[$];$++;h.akQ=i[$];$++;$+=4;h.hC=M.v(i,$);$+=4;$+=4;h.root=M.v(i,$);
$+=4;$+=4;h.aae=M.v(i,$);$+=4;return h};aA.Fz={asE:function(i,$){return i[$]},fd:function(i,$){return i[$]<<8|i[$+1]},v:function(i,$){return i[$]<<24|i[$+1]<<16|i[$+2]<<8|i[$+3]},uX:function(i,$,h){var d="";
for(var t=0;t<h;t++)d+=String.fromCharCode(i[$+t]);return d}};var iQ={parse:function(i){var $=new Uint8Array(i),h=iQ.J$($),d=[],K=new Uint8Array($.length),f=[];
d.push(f);iQ.i9($,h,1,K,f);for(var t=0;t<f.length;t++){var l=[];d.push(l);iQ.i9($,h,f[t][3],K,l);f[t][3]=t+1}return d},i9:function(i,$,h,d,K){h--;
var f=h*$.zM+(h==0?100:0),l=i[f],u=iQ.fd(i,f+1);if(u!=0)throw"free block in a page";var U=iQ.fd(i,f+3),y=iQ.fd(i,f+5);
if(y==0)y=65536;var a=i[f+7],v=iQ.fd(i,f+8);if(l==2||l==5)f+=4;else v=0;for(var c=0;c<U;c++){var p=h*$.zM+iQ.fd(i,f+8+2*c),C=-1,T=0,E=0,r=0;
if(l==2||l==5){C=iQ.v(i,p);p+=4}if(l==2||l==10||l==13){T=iQ.Ak(i,p);p+=T.Kj}if(l==5||l==13){E=iQ.Ak(i,p);
p+=E.Kj}if(l==5){iQ.i9(i,$,C,d,K);continue}var Y=$.zM-(h==0?100:0),S=T.Pr,m=l==13?Y-35:Math.floor((Y-12)*64/255)-23,Q=Math.floor((Y-12)*32/255)-23,z=Q+(S-Q)%(Y-4);
if(S<=m){iQ.pv(i,p,d,0,S)}else{var n=z<=m?z:Q,Z=0;iQ.pv(i,p,d,0,n);Z+=n;r=iQ.v(i,p+n);while(r!=0){var P=(r-1)*$.zM;
r=iQ.v(i,P);var V=Math.min($.zM-4,S-Z);iQ.pv(i,P+4,d,Z,V);Z+=V}}K.push(iQ.aam(d,S))}},aam:function(i,$){var h=0,d=iQ.Ak(i,h);
h+=d.Kj;var K=[],f=[];while(h<d.Pr){var l=iQ.Ak(i,h);h+=l.Kj;K.push(l.Pr)}if(h!=d.Pr)throw"e";for(var t=0;
t<K.length;t++){var l=K[t];if(!1){}else if(l==0)f.push(null);else if(l==1){f.push(iQ.a4p(i,h));h+=1}else if(l==2){f.push(iQ.Sb(i,h));
h+=2}else if(l==3){f.push(iQ.aay(i,h));h+=3}else if(l==4){f.push(iQ.$I(i,h));h+=4}else if(l==7){f.push(iQ.aj0(i,h));
h+=16}else if(l==8)f.push(0);else if(l==9)f.push(1);else if(l>=12&&(l&1)==0){var u=l-13>>1,U=new Uint8Array(u);
iQ.pv(i,h,U,0,u);f.push(U);h+=u}else if(l>=13&&(l&1)==1){var u=l-12>>1;f.push(iQ.kV(i,h,u));h+=u}else throw"unknonw type "+l}return f},J$:function(i){if(!(i[18]==1&&i[19]==1&&i[20]==0&&i[21]==64&&i[22]==32&&i[23]==32))throw"unexpected SQL3 header";
var $={Kb:iQ.uX(i,0,15),zM:iQ.fd(i,16),ayh:iQ.v(i,24),size:iQ.v(i,28),a7e:iQ.v(i,32),a4k:iQ.v(i,36),a64:iQ.v(i,40),aiN:iQ.v(i,44),agy:iQ.v(i,48),ab9:iQ.v(i,52),a9G:iQ.v(i,56),ao0:iQ.v(i,60),a7W:iQ.v(i,64)!=0,aov:iQ.v(i,68),ain:iQ.v(i,92),amV:iQ.v(i,96)};
if($.zM==1)$.zM=65536;if($.a9G!=1)throw"unsupported text encoding "+$.a9G;return $},anB:function(i,$){return i[$]<<16|i[$+1]<<8|i[$+2]},aay:function(i,$){var h=iQ.anB(i,$),d=h&8388608;
return d?-(16777215-h+1):h},a4p:function(i,$){iQ.b1[0]=i[$];return iQ.at4[0]},$I:function(i,$){var h=iQ.b1;
for(var t=0;t<4;t++)h[t]=i[$+3-t];return iQ.avi[0]},Sb:function(i,$){var h=iQ.b1;h[0]=i[$+1];h[1]=i[$];
return iQ.apa[0]},fd:function(i,$){return i[$]<<8|i[$+1]},v:function(i,$){return i[$]<<24|i[$+1]<<16|i[$+2]<<8|i[$+3]},aj0:function(i,$){var h=iQ.b1;
for(var t=0;t<8;t++)h[t]=i[$+7-t];return iQ.ayB[0]},Ak:function(i,$){var h=$,b4=0;while(!0){var d=i[$];
$++;b4=b4*128+(d&127);if(d<128)break}return{Pr:b4,Kj:$-h}},uX:function(i,$,h){var d="";for(var t=0;t<h;
t++)d+=String.fromCharCode(i[$+t]);return d},kV:function(i,$,h){var d="";for(var t=0;t<h;t++)d+="%"+iQ.al8(i[$+t].toString(16));
return decodeURIComponent(d)},pv:function(i,$,h,d,K){if(i[$+K-1]==null||h[d+K-1]==null){console.log($,d,K);
throw"e"}for(var t=0;t<K;t++)h[d+t]=i[$+t]},al8:function(b4){return b4.length<2?"0"+b4:b4}};iQ.b1=new Uint8Array(8);
iQ.at4=new Int8Array(iQ.b1.buffer);iQ.apa=new Int16Array(iQ.b1.buffer);iQ.avi=new Int32Array(iQ.b1.buffer);
iQ.ayB=new Float64Array(iQ.b1.buffer);function kg(i,$,h){this.f7=i;this.YQ=$;this.af2=h;this.eg=new cq(0,0);
this.t2=-1;this.$e=0;this.NM=0;this.n4=new bN;this.e8=[];this._3=null;this.ai6=null;this.ud=null;this.a4=null;
this.Cu=null;this.aoD=null}kg.prototype.StartPage=function(i,$,h,d,K){var f=this.YQ,l=f.Qa(),u=1,U=(h-i)*(d-$);
if(K!=null)U=K;while(U*l*l/(u*u)>2*8192*8192)u++;f.scale(1/u,1/u);this.ai6=[i,$,h,d];var u=f.Qa();i=Math.round(i*u);
$=Math.round($*u);h=Math.round(h*u);d=Math.round(d*u);var y=this.f7,a=this.ud;if(a==null){f.wQ=-i}else{var v=a[2]-a[0]+30,c=Math.round(h-i)+30;
if(this.eg.x+v+c>8192){f.wQ=-i;this.eg.x=0;this.eg.y+=this.NM+120;this.NM=0}else{f.wQ+=v;this.eg.x+=v}}f.FQ=this.eg.y+(this.af2?d:-$);
this.NM=Math.max(this.NM,Math.round(d-$));this.ud=[i,$,h,d];this.a4Z=[];y.B.push(y.U4())};kg.prototype.StartTGroup=function(i){var $=this.f7;
$.B.push($.U4());var h=kg.Uz[i.bmode];if(h==null)h="norm";var d=$.Dw();d.DN("<Group>");d.add.lsct=gX.DU;
d.R$=h=="norm"?"pass":h;d.pM=24;d.opacity=Math.round(255*i.ca);this.a4Z.push(d)};kg.prototype.EndTGroup=function(){this.f7.B.push(this.a4Z.pop())};
kg.prototype.Uc=function(){var i=this.f7,$=i.B[i.B.length-1];return $};kg.prototype.na=function(){var i=JSON.parse(JSON.stringify(et._T.default));
i.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";i.strokeEnabled.v=!1;
i.fillEnabled.v=!1;return i};kg.prototype.uh=function(){var i=this.f7,$=i.Dw();$.DN("Path "+i.B.length);
this.f7.B.push($);$.pM|=16;$.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:0,P:0,Z:0})}};$.add.vmsk=new H.LF;
$.add.vstk=this.na();return $};kg.prototype.Jj=function(i){var $={C:i.crds,H:i.cmds},h=k.p.Kg($,!1);
k.A.mu(h,this.YQ);return h};kg.a3J=function(i,$){for(var t=0;t<i.length;t++)if(i[t].N0!=null)i[t].N0=$};
kg.akc=function(i){return Math.sqrt(Math.abs(i[0]*i[3]-i[1]*i[2]))};kg.GD=function(i){return k.M.Aw({o:i[0]*255,P:i[1]*255,Z:i[2]*255})};
kg.a2=function(i){return new ej(i[0],i[1],i[2],i[3],i[4],i[5])};kg.prototype.Stroke=function(i){if(this.t2!=-1&&this.t2!=this.$e)return;
if(i.pth.cmds.length<=1)return;var $=this.Jj(i.pth);if($.length<=2)return;this.Cw(i);kg.a3J($,-1);$[2].N0=1;
var h=kg.GD(i.COLR),d=this.Uc(),K=this.na();kg.Xp(K,i,this.YQ.Qa(),h);var f=d!=null&&d.add.vmsk!=null&&!d.BT(),l=f&&!d.add.vstk.strokeEnabled.v&&H.LF.aju(d.add.vmsk.i,$,!0),u=f&&!d.add.vstk.fillEnabled.v&&JSON.stringify(K)==JSON.stringify(d.add.vstk);
if(u){d.add.vmsk.i=d.add.vmsk.i.concat($.slice(2))}else if(l){d.add.vstk=K;K.fillEnabled.v=!0}else{d=this.uh();
d.add.vmsk.i=$;d.add.vstk=K}};kg.Xp=function(i,$,h,d){i.strokeEnabled.v=!0;i.strokeStyleMiterLimit.v=$.mlimit;
i.strokeStyleLineDashSet.v=eN.bq($.dash,1/$.lwidth);i.strokeStyleLineDashOffset.v.val=$.doff;i.strokeStyleLineJoinType.v.strokeStyleLineJoinType=et._T.join[$.ljoin];
i.strokeStyleLineCapType.v.strokeStyleLineCapType=et._T.xe[$.lcap];i.strokeStyleLineWidth.v.val=Math.max(.4,$.lwidth*kg.akc($.ctm)*h);
i.strokeStyleContent.v.Clr.v=d};kg.prototype.Fill=function(i,$){if(this.t2!=-1&&this.t2!=this.$e)return;
if(i.ca==0)return;var h=i.pth.cmds;if(h.length==0)return;if(h.length==2&&JSON.stringify(h)=="[\"M\",\"L\"]")return;
var d=k.p.nP(i.pth.crds),K=k.p.nP(i.cpth.crds);if(d.Js(K).NT())return;var f=i.pth,l=UDOC.G.isBox(f,[d.x,d.y,d.x+d.e,d.y+d.n]),u=i.cpth,U=UDOC.G.isBox(u,[K.x,K.y,K.x+K.e,K.y+K.n]);
if(l&&U&&d.O()>K.O()*2){var y=d.Js(K),a=y.x,v=y.y,c=a+y.e,p=v+y.n;f={cmds:["M","L","L","L","Z"],crds:[a,v,c,v,c,p,a,p]};
d=y}else if(this.a4==null&&UDOC.G.isBox(f,[d.x,d.y,d.x+d.e,d.y+d.n])&&d.PH(K)){f=u;d=K}else this.Cw(i);
var C=this.Jj(f),T=k.p.Hg(d);k.p.D(T.C,this.YQ,T.C);d=k.p.nP(T.C);var E=kg.Z2(i.colr,this.YQ,d),r=this.Uc(),Y=r!=null&&r.opacity==Math.round(255*i.ca)&&r.add.vstk!=null&&!r.add.vstk.strokeEnabled.v&&r.add.SoCo&&E.type=="SoFi"&&JSON.stringify(r.add.SoCo.Clr.v)==JSON.stringify(E.L.v.Clr.v);
if(Y){var S=!1;for(var t=0;t<C.length;t++){if(C[t].N0==0||C[t].N0==2)S=!0}if(S){var m=k.p.nP(k.A.nK(r.add.vmsk.i)),Q=k.p.nP(k.A.nK(C));
Y=m.Js(Q).NT()}}if(Y){var z=r.add.vmsk.i;for(var t=2;t<C.length;t++)z.push(C[t])}else{r=this.uh();delete r.add.SoCo;
r.add.vmsk.i=H.LF.t0(C);kg.x_(i.colr,r,this.YQ,d);kg.xb(i,r)}};kg.x_=function(i,$,h,d){var K=kg.Z2(i,h,d),f=null,l=null;
$.add.vstk.fillEnabled.v=!0;if(K.type=="SoFi"){f="SoCo";l=et.sF}if(K.type=="GrFl"){f="GdFl";l=et.ce}if(K.type=="patternFill"){f="PtFl";
l=et.V1}if(f!=null){$.add[f]={classID:"null"};for(var t=0;t<l.length;t++){var u=l[t];$.add[f][u]=K.L.v[u]}}};
kg.prototype.Cw=function(i){var $=this.f7,h=i.cpth,d=h.cmds.join(""),K=h.crds,f=d+" "+K.join(","),l=UDOC.G.isBox(h,this.ai6);
if(l&&this.a4==null)return;if(f==this.a4)return;this.hk();if(!l){this.a4=f;$.B.push($.U4());var u=$.Dw();
u.DN("Mask");u.add.lsct=gX.qC;u.R$="pass";u.pM=24;var U=u.add.vmsk=new H.LF;U.i=this.Jj(i.cpth);if(UDOC.G.isBox(h)){this.Cu=k.A.eu(U.i);
this.Cu.ol(3,3)}else this.Cu=null;this.aoD=u}};kg.prototype.hk=function(){var i=this.f7;if(this.a4!=null){var $=i.B.length-1,t=$,h=!1;
while(t>=0&&i.B[t].add.lsct!=gX.ZH)t--;var d=this.Cu;if(d){var K=new bN,f=$;while(f>t){K=i.B[f].ys(this.f7,!1,!0);
f--}h=d.PH(K)}if(h){this.e8.splice(t,1);i.B.splice(t,1)}else{i.B.push(this.aoD)}this.a4=null}};kg.Z2=function(i,$,h){var d,K;
if(i.length!=null){d="SoFi";var f=JSON.parse(et.MO[et.order.indexOf("SoFi")]);K={t:"Objc",v:f};K.v.Clr.v=kg.GD(i)}else{var l=kg.amW(i,$,h);
d="GrFl";K={t:"Objc",v:l}}return{type:d,L:K}};kg.amW=function(i,$,h){var d=JSON.parse(et.MO[et.order.indexOf("GrFl")]),K=d.Grad.v;
K.Intr.v=0;var f=kg.a2(i.mat);f.concat($);var l=new cq(0,0),u=new cq(h.e,0),U=i.crds;if(i.typ=="rad"){d.Type.v.GrdT="Rdl";
var y=.7;l.x=(1-y)*U[0]+y*U[3];l.y=(1-y)*U[1]+y*U[4];u.x=l.x;u.y=l.y;u.x+=Math.max(U[2],U[5])}else{d.Type.v.GrdT="Lnr";
l.x=U[0];l.y=U[1];u.x=U[2];u.y=U[3];l.x=u.x+.5*(l.x-u.x);l.y=u.y+.5*(l.y-u.y)}l=f.hb(l);u=f.hb(u);k.M.EU(l,u,h,d);
var a=i.grad;k.M.wX(a,K);return d};kg.prototype.PutText=function(i,$,h,d){var K=$.charCodeAt(0),p=null;
if(this.t2!=-1&&this.t2!=this.$e)return;if($.length==0||$.length==1&&(K==0||K==8203))return;this.Cw(i);
var f=this.f7,l=i.font,u=Math.round(255*i.ca);if(i.font.Tmode==3)u=0;var U=kg.a2(i.ctm);U.concat(this.YQ);
var y=kg.a2(l.Tm);y.concat(U);var a=y.Qa(),v=new ej(1/a,0,0,-1/a,0,0);v.concat(y);var c=l.Tfs*a,C=f.B.length-1;
while(C>=0&&f.B[C].add.TySh==null)C--;if(v.Z*v.Z+v.sl*v.sl<.001&&d==null&&C>=0&&f.B[C].add.TySh&&f.B[C].opacity==u){var T=f.B[C],E=this.e8[C],r=T.add.TySh.D,Y=(r.wQ+E.L7-v.wQ)/c,S=Math.abs(Y),m=$.indexOf(" ")==-1,Q=r.Pi==v.Pi&&r.Z==v.Z&&r.sl==v.sl&&r.Zn==v.Zn,z=Q&&Math.abs(E.rG-v.FQ)<1e-5&&S<.6,n=v.FQ-E.rG;
if(z){p=T;E.L7=v.wQ-r.wQ;if(Y>.2&&m&&[".",",","?",":","!"].indexOf($)==-1)$=" "+$}else if(Q&&Math.abs(v.wQ-r.wQ)<1e-5&&0<n&&n<c*1.7&&E.axD==c){p=T;
this.z$(E);E.rG=v.FQ;$="\n"+$}}if(p==null){C=f.B.length;this.e8[C]={rl:[],L7:0,rG:v.FQ,wc:"",axD:c};
p=f.Dw();f.B.push(p);p.add.lnsr="rend";p.add.TySh=jP.Aj(0,0);p.add.TySh.D=v}var E=this.e8[C];E.L7+=h*c;
E.wc+=$;var Z=p.add.TySh.$D,P=jP.Gs(Z);if(d){jP.tA(Z,1);var V=[0,0,Math.ceil(d[0]*a),Math.ceil(d[1]*a)];
jP.pt(Z,V)}var I=P.length-1,q=I+$.length;jP.uE(Z,I,$);if(this._3==null)this._3=jP.Zg(Z,I,I);var X=this._3;
X.TL.FontSize=Math.round(c);X.TL.Tracking=Math.round(l.Tc*100);X.TL.Underline=l.Tun==1;X.TL.FillColor={Type:1,Values:[1,i.colr[0],i.colr[1],i.colr[2]]};
if(l.Tal!=null)X.OU.Justification=l.Tal;if(E.rl.length!=0){X.TL.AutoLeading=!1;X.TL.Leading=E.rG-E.rl[E.rl.length-1].y}var B=l.Tf;
B=B.replace(/#2B/g,"+");B=B.replace(/#2C/g,"-");B=B.split("+").pop();var e={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(e[B])B=e[B];jP.Qr(X,B);jP.jV(Z,I,q-1,X);p.dw();p.opacity=u};kg.prototype.z$=function(i){i.rl.push({DD:i.L7,Zw:i.wc.slice(i.rl.length==0?0:1)+"\n",y:i.rG,qc:i.axD});
i.L7=0;i.wc=""};kg.prototype.Cv=function(i,$,h){return new Uint8Array(em.Q_("PNG").Pa([[i.buffer,0]],$,h))};
kg.prototype.PutImage=function(i,$,h,d,K,f,l){if(this.t2!=-1&&this.t2!=this.$e)return;var u=this.f7,U=i.font.Tmode;
if(U==7&&u.B[u.B.length-1].add.TySh){return}this.Cw(i);var y=kg.a2(i.ctm);y.concat(this.YQ);var a=new ej(1/h,0,0,-1/d,0,1);
a.concat(y);y=a;$=kg.a6X($,h,d,f,!1);if(K)K=kg.a6X(K,h,d,l,!0);if(K==null){if($.length==h*d*4)$=this.Cv($,h,d)}else{$=this.aoR($,h,d,f,!1);
K=this.aoR(K,h,d,l,!0);var v=k.Q(h*d);k.pO(K,v,0);k.k1(v,$,3);$=this.Cv($,h,d)}var c=u.UJ($,"Bitmap",0,0),p=c.rect.clone();
p.x=p.y=0;var C=k.p.Hg(p).C;k.p.D(C,y,C);c.add.SoLd.Trnf=D.vA.j7(C);c.add.SoLd.nonAffineTransform=D.vA.j7(C);
c.u8(u,!1);kg.xb(i,c);u.B.push(c)};kg.xb=function(i,$){$.opacity=Math.round(255*i.ca);var h=kg.Uz[i.bmode];
if(h==null)console.log("Unknown blend mode",h);else $.R$=h};kg.Uz={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
kg.avt=function(i){if(i=="pass")i="norm";for(var $ in kg.Uz)if(kg.Uz[$]==i)return $};kg.a6X=function(i,$,h,d,K){var f=em.X0(i.buffer);
if(f=="jpg"){try{i=new Uint8Array(em.Q_("JPG").acm(i.buffer))}catch(e_){i=new Uint8Array($*h*4)}}else if(f=="jb2"){i=new Uint8Array(em.Q_("JPG").u2(i.buffer,d,K)[0].data)}else if(i.length!=$*h*4){var l=new Uint8Array($*h*4),u=Math.ceil($/8),U=new Uint8Array(h*u);
UTIF.decode._decodeG4(i,0,i.length,U,0,$,1);var y=U[0]==(K?255:0);for(var a=0;a<h;a++){var v=u*a;for(var c=0;
c<$;c++){var t=a*$+c,p=t*4,C=(U[v+(c>>3)]>>7-(c&7)&1)*255;if(y)C=255-C;l[p]=C;l[p+1]=C;l[p+2]=C;l[p+3]=255}}i=l}return i};
kg.prototype.aoR=function(i,$,h,d,K){if(i.length!=$*h*4){var f=em.X0(i.buffer);if(f=="jb2")throw"e";
var l=em.Q_(f);if(l==null||f=="tga")l=em.Q_("jpg");i=new Uint8Array(l.u2(i,d,K)[0].data)}return i};kg.prototype.ShowPage=function(){var i=this.f7;
this.$e++;var $=this.ud;this.hk();var h=i.Dw();i.B.push(h);var d=new bN(Math.round(this.eg.x),Math.round(this.eg.y),Math.round($[2]-$[0]),Math.round($[3]-$[1]));
if(d.NT())d.e=d.n=2e3;this.n4=this.n4.rt(d);h.th(d);h.add.artb.artboardBackgroundType.v=1;h.DN("Page "+this.$e);
h.add.lsct=gX.qC;h.R$="pass";h.pM=24};kg.prototype.Print=function(i){console.log("Print:",i)};kg.prototype.Done=function(){var i=this.f7;
if(this.$e==1)i.B[i.B.length-1].add.lsct=gX.DU;i.Bw(this.$e);for(var t=0;t<i.B.length;t++){var $=i.B[t],h=$.add.vmsk,d=$.add.TySh,K=this.e8[t];
$.Yt();if(h){var f=!1;for(var l=0;l<h.i.length;l++){var u=h.i[l];if((u.type==0||u.type==3)&&u.length>32767)f=!0}if(f){i.B.splice(t,1);
t--;continue}}$.ET(i);if(d&&K.rl.length!=0){this.z$(K);var U=d.$D,y=K.rl.length,a=K.rl[0],v=0,c=0;for(var l=0;
l<y;l++)v=Math.max(v,K.rl[l].DD);jP.tA(U,1);d.D.FQ-=a.qc*.7;jP.pt(U,[0,0,Math.ceil(v*1.1),Math.ceil(K.rl[y-1].y-a.y+a.qc*2)])}if(d){var U=d.$D;
jP.aaY(U);var p=jP.Gs(U).split("\n");for(var l=0;l<p.length-1;l++){var C=p[l],T=0;for(var E=0;E<C.length;
E++){var r=C.charCodeAt(E);if(1473<=r&&r<=1524)T++}if(T>C.length/2){p[l]=C.split("").reverse().join("");
var Y=U.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties;Y._Direction=1;Y.Justification=jP.sd(Y)}}jP._I(U,p.join("\n"))}}i.Od=!0;
i.e=this.n4.e;i.n=this.n4.n;i.buffer=k.Q(this.n4.O()*4)};var eF={};eF.yM=null;eF.t6=function(i,$,h,d,K,f){if(K==null)K=i.e;
if(f==null)f=i.n;eF.yM=i;var l=!1,u=[i.root],U=i.root.children;if(i.add.artd){l=!0;for(var t=0;t<U.length;
t++)if(U[t].a.add.artb==null)l=!1;if(l)u=U}var y=new bN(0,0,i.e,i.n),a=$[0];a=a.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
a=a.split(" ");var v=[];for(var t=0;t<a.length;t++){var c=a[t];if(c=="-"){var p=v.pop(),C=parseInt(a[t+1]);
while(p<C){v.push(p);p++}}else v.push(parseInt(c))}a=v;for(var t=0;t<a.length;t++)if(isNaN(a[t])||a[t]<1||a[t]>u.length){a.splice(t,1);
t--}var T=K/i.e,E=f/i.n,r=T*72/i._m,Y=E*72/i._m,S=$[5];if(S==null)S=0;var m=72*S,Q=72*S;for(var z=0;
z<u.length;z++){var t=z;if($[2])t=u.length-1-z;if(a.length!=0&&a.indexOf(t+1)==-1)continue;var n=u[t],Z=l?n.a.Ik():y;
if(!n.a.ji())continue;var P=Math.round(Z.e*r+2*m),V=Math.round(Z.n*Y+2*Q);h.StartPage(0,0,P,V);var I=UDOC.getState([[0,0,P,V]]),q=new ej;
q.translate(-Z.x,-Z.y-Z.n);q.scale(r,-Y);q.translate(m,Q);if(l){var X=n.a.add.artb,B=X.artboardBackgroundType.v;
if(B!=1&&B!=3){var e=n.a.wx(),F=m,s=Q,J=F+Z.e,W=s+Z.n;I.colr=[(e>>>0&255)/255,(e>>>8&255)/255,(e>>>16&255)/255];
I.pth={cmds:["M","L","L","L","Z"],crds:[F,s,J,s,J,W,F,W]};h.Fill(I)}}if($[3]){var L=i.Fy();if(!y.Rl(Z)){L=k.Q(Z.O()*4);
k.mC(i.Fy(),y,L,Z)}var A=i.fZ();if(A)ICC.U.applyLUT(A[i.add.fcmy==1?5:3],A[2],L,L);if($[1]!=100){var j=em.Q_("JPG").Pa([[L.buffer]],Z.e,Z.n,[$[1]]);
L=new Uint8Array(j)}var G=new ej;G.translate(Z.x,Z.y);eF.Tr(I,h,L,Z,G,q)}else{eF.amS(i,n,I,h,q,$,d);
if(m!=0){var F=m,s=Q,J=F+Z.e,W=s+Z.n,O=J+m,o=W+m;I.ca=1;I.colr=[1,1,1];I.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,o,O,o,O,0,F,s,J,s,J,W,F,W]};
h.Fill(I)}}h.ShowPage()}h.Done();eF.yM=null};eF.Y0=function(i){i=k.M.zk(i);return[i.o/255,i.P/255,i.Z/255]};
eF.amS=function(i,$,h,d,K,f,l){var u=$.a,U=u.add.lsct,y=u.add.lmfx,a=u.add.vmsk,v=u.add.vstk,c=u.add.TySh,r,Y;
if(!u.ji())return;var p=u.opacity/255,C=u.add.iOpa!=null?u.add.iOpa/255:1;h.bmode=kg.avt(u.R$);var T=h.ca;
h.ca=h.CA=p*C;var E=y;if(E)E=E.solidFillMulti.v[0];if(E)E=E.v;if(E&&!E.enab.v)E=null;var S=u.rect;if(u.Wx()&&(!u.BT()||u.A0&&u.A0.sk)){if(u.BT()){r=u.A0.sk;
S=u.A0.alC}else{r=k.Q(u.rect.O());k.pO(u.buffer,r,3)}Y=eN.KZ(y,u.add.fxrp,r,S,i,S).type;var m=["DrSh","OrGl"];
if(C!=1||v&&!v.fillEnabled.v){var Q=r.slice(0);k.Sp(Q);for(var t=0;t<m.length;t++){var z=Y[m[t]];for(var n=0;
n<z.length;n++){var Z=z[n],P=Z.G_.clone();P.x+=S.x;P.y+=S.y;k.cj(Q,S,Z.Yz,P)}}}}if(Y)eF.agj(u,r,S,Y,h,d,K,f,!0);
if(u.BT()){var V=u.opacity/255*(u.add.iOpa?u.add.iOpa/255:1),I=V!=1||u.R$!="pass";if(I)d.StartTGroup(h);
for(var t=0;t<$.children.length;t++)eF.amS(i,$.children[t],h,d,K,f,l);if(I)d.EndTGroup()}else if(a&&u.A$()&&u.add.PtFl==null){var q=a.i,X=k.A.eu(q),B=!1;
if(v.fillEnabled.v){var e=eN.S4(y,u.add),F=e[0],s=e[1];h.colr=eF.XJ(F?F:s,K,X);B=!0}var J=eN.No(y);if(!v.strokeEnabled.v&&J)v=J;
var W=k.p.Va(q,v.strokeEnabled.v),L=W.Ai;k.p.D(L.C,K,L.C);h.pth={cmds:L.H,crds:L.C};eF.abB(d,h,B,v,K,X,W.RG!=0)}else if(c&&f[4]){var A=c.$D,j=new kd(A,l),L=bM.iZ(j,c),G=k.p.nk(L),O=eN.No(y);
for(var o in G){var N=parseInt(o.slice(1,7),16),w=0;h.colr=E?eF.Y0(E.Clr.v):eF.a5S(N);var kv=G[o];k.p.D(kv.C,K,kv.C);
kv=k.p.at5(kv);h.pth={cmds:kv.H,crds:kv.C};var v=O;if(o.length>7){v=JSON.parse(JSON.stringify(et._T.default));
var g=o.slice(7).split("-"),N=parseInt(g[1].slice(1),16),b=eF.a5S(N);v.strokeEnabled.v=!0;v.strokeStyleLineWidth.v.val=parseFloat(g[2]);
v.strokeStyleContent.v.Clr.v=E?E.Clr.v:k.M.Aw({o:b[0]*255,P:b[1]*255,Z:b[2]*255});v.strokeStyleMiterLimit.v=parseFloat(g[2])}eF.abB(d,h,!0,v,K,null,!1)}}else if(c){var A=JSON.parse(JSON.stringify(c.$D));
jP.aaY(A);var jU=c.D.clone(),_=new ej(1,0,0,-1,0,0);_.concat(jU);_.concat(K);var cY=jP.Gs(A),j=new kd(A,l);
for(var t=0;t<j.OU.length;t++){var j3=j.OU[t];if(j3.gP.length==1&&j3.gP[0].I3)continue;for(var n=0;n<j3.Go.length;
n++){var aS=j3.Go[n],bL=j3.$Z.y+aS.$Z.y,cQ=j3.gP[aS.start].start,cK=j3.gP[aS.end-1].end,el=jP.ahD(A,cQ,cK);
for(var gF=0;gF<el.length;gF++){var fj=j.zV(cQ),i3=el[gF],eT=jP.Zg(A,cQ,cQ),eV=eT.A8[eT.TL.Font].Name;
h.font.Tf=eV;var o=jP.zk(eT.TL.FillColor);h.colr=E?eF.Y0(E.Clr.v):[o.o/255,o.P/255,o.Z/255];var hr=h.font.Tfs=Math.round(eT.TL.FontSize),it=cY.slice(cQ,cQ+i3);
if(eT.TL.FontCaps==2)it=it.toUpperCase();var f8=new ej;f8.translate(fj.gZ.x,-bL);f8.concat(_);h.ctm=[f8.Pi,f8.Z,f8.sl,f8.Zn,f8.wQ,f8.FQ];
d.PutText(h,it,0);for(var i$=0;i$<2;i$++){var gS=eT.TL[i$==0?"Strikethrough":"Underline"];if(!gS)continue;
var hT=j.zV(cQ+i3-1),iu=i$==0?.27:-.2,dB=hr*iu,jt=hr*(iu+.07),w=hT.gZ.x+hT.gZ.e-fj.gZ.x,ka=[0,dB,w,dB,w,jt,0,jt];
k.p.D(ka,f8,ka);h.pth={cmds:["M","L","L","L","Z"],crds:ka};d.Fill(h)}h.ctm=[1,0,0,1,0,0];cQ+=i3}}}}else if(!u.rect.NT()){var eQ,cT,gl=!1,dY=new ej,gE=u.add.SoLd,cs=!0;
if(gE)cs=k.K.fg(k.K.bS(D.vA.O7(gE.Trnf)));if(gE&&cs){var au=gE.Idnt.v,b8=i.hI(au,gE.Crop?gE.Crop.v:null),cj="";
if(b8==null)return;var jw=b8.eZ,ek=em.X0(b8.raw.buffer);if(f[6].indexOf(ek)!=-1){eQ=b8.raw;gl=!0}else eQ=jw[0];
cT=jw[1];dY=k.K.Px(gE)}else{eQ=u.buffer;cT=u.rect;dY.translate(cT.x,cT.y)}if(E&&!gl)eQ=eN.a0A(eQ,E,cT);
eF.Tr(h,d,eQ,cT,dY,K);if(E&&gl){var ka=[0,0,cT.e,0,cT.e,cT.n,0,cT.n];k.p.D(ka,dY,ka);k.p.D(ka,K,ka);
var hp=JSON.parse(JSON.stringify(h));hp.ca=E.Opct.v.val/100;hp.pth={cmds:["M","L","L","L","Z"],crds:ka};
hp.colr=eF.Y0(E.Clr.v);d.Fill(hp)}}h.ca=h.CA=T;if(Y)eF.agj(u,r,S,Y,h,d,K,f,!1)};eF.abB=function(i,$,h,d,K,f,l){var u=!1,U=0,y=0;
if(d&&d.strokeEnabled.v){var a=d.strokeStyleContent.v,v=d.strokeStyleLineDashSet.v;U=et._T.QY.indexOf(d.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
$.COLR=eF.XJ(a,K,f);y=d.strokeStyleLineWidth.v.val*K.Qa();$.mlimit=d.strokeStyleMiterLimit.v;$.doff=d.strokeStyleLineDashOffset.v.val;
$.ljoin=et._T.join.indexOf(d.strokeStyleLineJoinType.v.strokeStyleLineJoinType);$.lcap=et._T.xe.indexOf(d.strokeStyleLineCapType.v.strokeStyleLineCapType);
$.dash=[];for(var t=0;t<v.length;t++)$.dash.push(v[t].v.val*$.lwidth);if($.dash.length==1&&$.dash[0]==0)$.dash=[];
u=!0}var p=U==2;if(h&&!p)i.Fill($,l);if(u){$.lwidth=y*(U==2?2:1);i.Stroke($)}if(h&&p)i.Fill($,l)};eF.acW=function(i){var $=eF.yM;
if($==null)return i;var h=$.fZ();if(h&&$.add.fcmy){var d=new Uint8Array(4);d[0]=.5+i[0]*255;d[1]=.5+i[1]*255;
d[2]=.5+i[2]*255;ICC.U.applyLUT(h[$.add.fcmy==1?5:3],h[2],d,d);i=[d[0]/255,d[1]/255,d[2]/255]}return i};
eF.Y0=function(i){i=k.M.zk(i);return eF.acW([i.o/255,i.P/255,i.Z/255])};eF.a5S=function(i){return eF.acW([(i>>>16&255)/255,(i>>>8&255)/255,(i&255)/255])};
eF.XJ=function(i,$,h){if(i.Clr)return eF.Y0(i.Clr.v);var d=i,K=d.Rvrs?d.Rvrs.v:!1,f=d.Type.v.GrdT,l,u=f=="Rdl"||f=="Dmnd"?"rad":"lin",U=k.M.gk(d,h),y=$.hb(U[0]),a=$.hb(U[1]);
if(u=="rad")l=[y.x,y.y,0,y.x,y.y,cq.ED(y,a)];else{y.WI(a.x+(y.x-a.x)*2,a.y+(y.y-a.y)*2);l=[y.x,y.y,a.x,a.y]}var v=k.M.ID(d.Grad.v,K);
return{typ:u,mat:[1,0,0,1,0,0],grad:v,crds:l}};eF.agj=function(i,$,h,d,K,f,l,u,U){var y=h.clone(),a=$;
if(i.add.TySh&&!u[3]&&!u[4])return;var v=K.ca,c=K.bmode;for(var t=et.order.length-1;t>=0;t--){var p=et.order[t];
if(p=="GrFl"||p=="SoFi")continue;if((i.add.vmsk||i.add.TySh)&&p=="FrFX")continue;var C=d[p],T=t>7||p=="FrFX";
if(T!=U)continue;for(var E=0;E<C.length;E++){var r=C[E];if(r.G_==null)r=r.C5?r.C5:r.Bf;var Y=r.G_.clone();
Y.offset(y.x,y.y);if(!T){if(!y.PH(Y)){var S=y.rt(Y),m=k.Q(S.O());k.Zc(a,y,m,S);a=m;y=S}k.cj(a,y,r.Yz,Y)}if(T&&p=="FrFX"&&r.hd)k.cj(r.hd,Y,r.Yz,Y);
var Q=new ej;Q.translate(Y.x,Y.y);K.ca=r.QP;K.bmode=kg.avt(r.eV);eF.Tr(K,f,r.Yz,Y,Q,l)}}K.ca=v;K.bmode=c};
eF.Tr=function(i,$,h,d,K,f){var l=new ej;l.scale(d.e,-d.n);l.translate(0,d.n);l.concat(K);l.concat(f);
i.ctm=[l.Pi,l.Z,l.sl,l.Zn,l.wQ,l.FQ];$.PutImage(i,h,d.e,d.n);i.ctm=[1,0,0,1,0,0]};var gk={};gk.cL=function(i){var $=new Uint8Array(i);
return gk.S6($,0)};gk.S6=function(i,$){var h=M.v,d=M.uX,K={$0:d(i,$,4),I:$+8,size:h(i,$+4)},f=K.$0=="FORM"||K.$0=="LIST"||K.$0=="CAT ";
if(f)K.u$=d(i,$+8,4);if(K.size<0||K.I+K.size>i.length)throw"e";if(f){K.sub=[];$+=12;var l=K.I+K.size;
while($<l){var u=gk.S6(i,$);K.sub.push(u);$+=8+u.size+(u.size&1)}}return K};var f1={};f1.cL=function(i,$){var h=new Uint8Array(i);
return f1.S6(h,0,$)};f1.S6=function(i,$,h){var d=M.Li,K=M.uX,f={$0:K(i,$,4),I:$+8,size:d(i,$+4)};if(h&&h[f.size]!=null)f.size=h[f.size];
if(f.$0=="RIFF"||f.$0=="LIST"){f.u$=K(i,$+8,4)}if(f.size<0||f.I+f.size>i.length)throw"e";if(f.$0=="RIFF"||f.$0=="LIST"&&(f.u$!="cmpr"&&f.u$!="stlt")){f.sub=[];
$+=12;var l=f.I+f.size;while($<l){var u=f1.S6(i,$,h);f.sub.push(u);$+=8+u.size+(u.size&1)}}return f};
var c5=function(){function i(o,N){var w=null;if(o.sub==null)return w;for(var t=0;t<o.sub.length;t++){var kv=o.sub[t];
if(kv.$0==N||kv.u$==N)w=kv}return w}function $(o){if(o==32)return 300;else if(o<49)return 0;else if(o<58)return 100*(o-48);
else if(o<65)return 0;return 100*(o-55)}var h;function d(o,N){var w=new Uint8Array(o);N.Od=!0;h={};var kv=M.uX(w,0,2);
if(kv=="WL"){alert("Unsupported CDR version")}else{var g,b,jU,j3,eT=300,it=0;if(kv=="PK"){b=UZIP.parse(w);
w=b["content/root.dat"];jU=M.kV(b["content/dataFileList.dat"]).split("\n")}g=f1.cL(w.buffer);console.log(g);
var _=$(w[11]),cY={data:w,I:0,Eg:_};cY.Ij=cY.Eg<600?16:32;n(w,cY,jU,b,g.sub,0);var aS=[];if(b){j3=i(g,"doc ");
K(j3);var bL=g.sub;for(var t=0;t<bL.length;t++)if(bL[t].u$=="page")aS.push(bL[t]);aS=aS.slice(1)}else if(i(g,"cmpr")==null){j3=i(g,"page");
aS.push(j3)}else{var cQ=i(g,"cmpr").sub;j3=cQ[0];aS=[cQ.slice(1)[1]];K(j3)}var cK=i(j3,"mcfg").L,el=cK.acC,gF=el.x*.1,fj=el.x*aS.length+gF*(aS.length-1),i3=el.y;
eT/=as.sR(new bN(0,0,Math.round(fj*eT),Math.round(i3*eT)),8192*8192);var eV=Math.round(fj*eT),hr=Math.round(i3*eT);
N.e=eV;N.n=hr;N.buffer=k.Q(N.e*N.n*4);for(var t=0;t<aS.length;t++){var f8=new ej(eT,0,0,-eT,el.x*eT/2+it,el.y*eT/2);
f(aS[t],j3,N,f8);var i$=N.B[N.B.length-1];i$.th(new bN(Math.round(it),0,Math.round(el.x*eT),Math.round(el.y*eT)));
i$.DN("Page "+(t+1));it+=el.x*eT+gF*eT}N.Bw(aS.length)}}function K(o){var N=i(o,"filt").sub,w=i(o,"otlt").sub,kv=i(o,"fntt");
if(kv)kv=kv.sub;o.Kp={};for(var t=0;t<N.length;t++)o.Kp[N[t].sub[0].L.id]=N[t].sub[0].L;o.so={};for(var t=0;
t<w.length;t++)o.so[w[t].L.id]=w[t].L;if(kv){o.fonts={};for(var t=0;t<kv.length;t++)o.fonts[kv[t].L.id]=kv[t].L}}function f(o,N,w,kv){var g=o.u$?o.u$:o.$0,b=i(o,"lgob"),jU=i(o,"txsm"),_=null,cY=null;
if(b){_=i(b,"trfl");cY=i(b,"loda")}else if(i(o,"lobj"))cY=i(o,"lobj");var j3=_?_.sub[0].eE.clone():new ej;
j3.concat(kv);var aS=w.Dw();if(g=="page"||g=="layr"||g=="grp "){aS.DN((g=="page"?"Page":"Group")+" "+w.B.length);
aS.add.lsct=gX.DU;aS.R$="pass";aS.pM=24;var bL=[];if(g=="page")bL=i(o,"gobj").sub;if(g=="layr")bL=o.sub.slice(2);
if(g=="grp ")bL=o.sub.slice(4);if(bL.length==0)return;w.B.push(w.U4());for(var t=bL.length-1;t>=0;t--)f(bL[t],N,w,kv)}else if(g=="obj "&&cY.L&&cY.L.path){var cQ,cK;
if(N.Kp){cQ=N.Kp[cY.L.aga];cK=N.so[cY.L.auy]}if(cQ==null)cQ=cY.L.ahG;if(cK==null)cK=cY.L.amz;aS=l(w,cY.L.path,kv,j3,cQ,cK)}else if(g=="obj "&&jU){var el=cY.L.as5,gF=cY.L.a9E,eT="";
aS.add.TySh=jP.Aj(0,0);var fj=j3.Qa();aS.add.TySh.D.translate(j3.wQ,j3.FQ);var i3=aS.add.TySh.$D,eV=jU.L.Ze;
if(eV==null)return;for(var t=0;t<eV.length;t++){var hr=eV[t],it=eT.length;eT+=hr.text+"\n";jP.uE(i3,it,hr.text+"\n");
var f8=u(hr.apd,N),i$=f8.as3,gS=N.fonts[i$.a3Z],hT=jP.Zg(i3,it,eT.length);if(f8.align==3)hT.OU.Justification=1;
else if(f8.align==2)hT.OU.Justification=2;else hT.OU.Justification=0;var gL=f8.fill.L;if(gS.xU)jP.Qr(hT,gS.xU);
hT.TL.FillColor={Type:1,Values:[1,gL[0],gL[1],gL[2]]};hT.TL.FontSize=Math.round(i$.fontSize*kv.Qa());
jP.jV(i3,it,eT.length-1,hT)}if(gF){jP.tA(i3,0)}else{jP.tA(i3,1);jP.pt(i3,[0,0,Math.round(el.x*j3.Pi),Math.round(-el.y*j3.Zn)])}aS.DN(eT.slice(0,10))}else{aS=null}if(aS)w.B.push(aS)}function l(o,N,w,kv,g,b){var jU=o.Dw();
jU.DN("Object "+o.B.length);jU.pM|=16;jU.add.vstk=JSON.parse(JSON.stringify(et._T.default));var _=jU.add.vstk;
_.strokeEnabled.v=!1;jU.add.vmsk=new H.LF;jU.add.vmsk.i=k.p.Kg(N,!1);k.A.mu(jU.add.vmsk.i,kv);var cY=g&&g.type!=0,j3=cY&&g.L!=null?g.L:[0,0,0];
kg.x_(j3,jU,kv,k.A.eu(jU.add.vmsk.i));_.fillEnabled.v=cY;if(b&&b.a11!=1){_.strokeEnabled.v=!0;_.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var aS=_.strokeStyleLineWidth.v.val=b.lineWidth*w.Qa(),bL=b.color;_.strokeStyleContent.v.Clr.v=k.M.Aw({o:bL[0]*255,P:bL[1]*255,Z:bL[2]*255});
if(b.SZ.length!=0)_.strokeStyleLineDashSet.v=eN.bq(b.SZ,4/aS);var cQ=b.apC,cK=b.acV;if(cK!=0){var el=N.C,t=el.length-4,gF=el[t],fj=el[t+1],i3=el[t+2],eT=el[t+3],eV=new ej;
eV.scale(.15,.15);eV.rotate(-Math.PI/2+Math.atan2(eT-fj,-(i3-gF)));eV.translate(i3,eT);eV.concat(kv);
var hr=l(o,h[cK],w,eV,bL,null);o.B.push(hr)}}jU.Yt();jU.ET(o);return jU}function u(o,N){var w=i(N,"stlt").L,kv=JSON.parse(JSON.stringify(w.bQ[o]));
if(kv.nw!=0){var g=w.bQ[kv.nw];for(var b in g)if(kv[b]==null||kv[b]==0)kv[b]=g[b];delete kv.nw}kv.align=w.aiA[kv.ac7];
kv.fill=N.Kp[w.au5[kv.aqS]];kv.alK=N.so[w.aaD[kv.adL]];kv.as3=w.abG[kv.a6t];return kv}function U(t){var b4=t.data[t.I];
t.I+=1;return b4}function y(t){var b4=M.pF(t.data,t.I);t.I+=2;return b4}function a(t){var b4=M.Li(t.data,t.I);
t.I+=4;return b4}function v(t){var b4=M.Li(t.data,t.I);t.I+=8;return b4}function c(t){var b4=M.A6(t.data,t.I);
t.I+=2;return b4}function p(t){var b4=M.q7(t.data,t.I);t.I+=4;return b4}function C(t){var b4=M.Z9(t.data,t.I);
t.I+=8;return b4}function T(t){if(t.I>=t.data.length)throw"e";var o=0;while(t.data[t.I+o]!=0)o++;var N=M.uX(t.data,t.I,o);
t.I+=o+1;return N}function E(t){var o="";while(!0){var N=y(t);if(N==0)break;o+=String.fromCharCode(N)}return o}function r(o){var N=a(o),w=(N&4294901760)>>>16,kv=(N&65535)/65535;
return w+kv}function Y(o){if(o.Eg<600)return Math.PI*c(o)/1800;return Math.PI*p(o)/18e7}function S(o){if(o.Eg<1500)return m(o);
else return C(o)/254e3}function m(o){if(o.Eg<600)return c(o)/1e3;else return p(o)/254e3}function Q(o){if(o.Eg<600)return y(o);
else return a(o)}function z(o){if(o.Eg<600)return c(o);else return p(o)}function n(o,N,w,kv,g,b){var jU,_,cY;
for(var j3=0;j3<g.length;j3++){var aS=N.Eg,bL=g[j3];N.data=o;N.I=bL.I+(bL.$0=="LIST"?4:0);if(kv&&bL.sub==null){jU=a(N);
_=a(N);cY=a(N);var cQ=y(N);if(cQ!=0)throw"e";var cK=y(N);if(cK>32)throw"e";N.I-=16;if(jU!=4294967295){N.data=kv["content/data/"+w[jU]];
N.I=cY}}if(bL.$0=="vrsn"){if(bL.size==16)N.I+=8;var el=y(N);N.Eg=el;console.log("Version",el);N.Ij=el<600?16:32}else if(bL.$0=="DISP"){}else if(bL.$0=="LIST"&&bL.u$=="cmpr"){var gF=a(N),fj=a(N),i3=a(N),eT=a(N),eV=new Uint8Array(N.data.buffer,N.I+8+2,gF-6-8),hr=pako.inflateRaw(eV),gS=0;
N.I+=gF;eV=new Uint8Array(N.data.buffer,N.I+8+2);var it=pako.inflateRaw(eV),f8=[];for(var i$=0;i$<it.length;
i$+=4)f8.push(M.Li(it,i$));bL.sub=[];while(gS<hr.length){var hT=f1.S6(hr,gS,f8);gS=hT.I+hT.size;bL.sub.push(hT)}var gL={data:hr,I:0,Eg:aS,Ij:N.Ij};
n(hr,gL,w,kv,bL.sub,b+1)}else if(bL.$0=="LIST"&&bL.u$=="stlt"||bL.$0=="stlt"){if(jU==4294967295)return;
var iu=N.I,ek=32;bL.L={};var dB=a(N);if(dB==0)return;bL.L.au5=e(N,aS>=1300);bL.L.aaD=e(N);bL.L.abG={};
var jt=a(N);for(var t=0;t<jt;t++){var ka=a(N);N.I+=aS<1e3?12:20;var eQ=y(N),dv=y(N);N.I+=8;var cT=m(N);
N.I+=aS<1e3?12:20;bL.L.abG[ka]={a3Z:eQ,a0Y:dv,fontSize:cT}}bL.L.aiA=e(N);var eY=a(N);N.I+=52*eY;var gl=a(N);
N.I+=152*gl;var dY=a(N);N.I+=784*dY;var gE=a(N);for(var t=0;t<gE;t++){N.I+=40;if(aS>1300)N.I+=4;if(aS>=1300){if(a(N))N.I+=68;
else N.I+=12}else{N.I+=20;if(aS>=1e3)N.I+=8;if(a(N))N.I+=8;N.I+=8}}var cs=a(N);bL.L.a2G={};for(var t=0;
t<cs;t++){var au=a(N),b8={};N.I+=12;b8.right=m(N);b8.aih=m(N);b8.left=m(N);bL.L.a2G[au]=b8}var jw=a(N);
if(aS>=1300)ek+=4;N.I+=ek*jw;var cj=a(N);N.I+=28*cj;if(aS>800){var jJ=a(N);N.I+=12*jJ}bL.L.bQ={};for(var t=0;
t<dB;t++){var hp=a(N),dW=a(N),h4={};h4.nw=a(N);N.I+=8;var er=a(N);if(aS>=1200)er*=2;N.I+=er;h4.aqS=a(N);
h4.adL=a(N);if(hp>1){h4.a6t=a(N);h4.ac7=a(N);h4.axK=a(N);h4.a2z=a(N);if(aS>800)h4.al4=a(N)}if(hp>2){h4.arQ=a(N);
h4.a1S=a(N);h4.awL=a(N);h4.amG=a(N);h4.agL=a(N)}bL.L.bQ[dW]=h4}}else if(bL.$0=="LIST")n(o,N,w,kv,bL.sub,b+1);
else if(bL.$0=="txsm"){bL.L={};if(aS<600)throw"e";if(aS<700)throw"e";if(aS>=1600){bL.L=B(N);return}if(aS>=1500)N.I+=37;
else N.I+=36;if(a(N)){if(aS<800)N.I+=32}if(aS<800)N.I+=4;bL.L.af1=a(N);bL.L.Ze=[];N.I+=48;if(aS>=800){if(a(N)){N.I+=32;
if(aS>=1300)N.I+=8}}if(aS>=1500)N.I+=12;var hp=a(N),hG=1,i_=!1;if(!hp){if(aS>=800)N.I+=4;if(aS>800)N.I+=2;
if(aS>=1400)N.I+=2;N.I+=24;if(aS<800)N.I+=8;hG=a(N)}for(var i$=0;i$<hG;i$++){var aK=a(N),t=0;if(aS>=1300&&hp)N.I++;
N.I++;var dB=a(N),bG=[];for(t=0;t<dB;t++){var dx=U(N),cU=0;U(N);var aH=U(N);if(aS>=800)cU=U(N);var h4={};
if(aH&1){h4.a3Z=y(N);var kr=y(N);if(kr)h4.a5a=kr}if(aH&2)N.I+=4;if(aH&4)h4.ajt=m(N);if(aH&8)N.I+=4;if(aH&16)N.I+=4;
if(aH&32)N.I+=4;if(aH&64){h4.aqS=a(N);if(aS>=1500)N.I+=48}if(aH&128){h4.adL=a(N)}if(cU&8){if(aS>=1300){var cL=a(N);
if(N.I+cL*2>=N.data.length){i_=!0;break}N.I+=cL*2}else N.I+=4}if(cU&32){var aj=U(N);if(aj)N.I+=52}if(dx==2)if(aS>=1300)N.I+=48;
bG.push(h4)}if(i_){break}var js=a(N);if(N.I+js*4>N.data.length)break;var ey=[];for(t=0;t<js;t++){var dr=0;
if(aS>=1200)dr=v(N)&4294967295;else dr=a(N);ey[t]=dr>>16|dr&1}var df=js;if(aS>=1200)df=a(N);var af=T(N);
bL.L.Ze.push({apd:aK,text:af,bQ:bG})}}else if(bL.$0=="arrw")bL.L=Z(N);else if(bL.$0=="font"){var cB=N.I,iq=y(N),cV=y(N),gf="";
N.I+=14;if(N.Eg>=1200)gf=E(N);else gf=T(N);bL.L={id:iq,apR:cV,name:gf};if(kv){var ge=cB+_;while(N.data[N.I]==0)N.I++;
N.I+=2;var da=E(N);while(N.data[N.I]==0)N.I++;while(N.data[N.I]<=2)N.I+=4;bL.L.xU=E(N)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(bL.$0)!=-1){}else if(bL.$0=="flgs")bL.L=a(N);
else if(bL.$0=="bbox"){var aO=m(N),eb=m(N),ag=m(N),dX=m(N);bL.L=new bN(aO,eb,ag-aO,dX-eb)}else if(bL.$0=="fild"){var gP=a(N),gO;
if(aS>=1300)N.I+=8;var cm=y(N);if(cm==0){}else if(cm==1){N.I+=aS>=1300?13:2;gO=G(N)}else if(cm==2){N.I+=aS>=1300?8:2;
var bO=U(N),gb=0;if(aS>=1300){N.I+=17;gb=c(N)}else if(aS>=600){N.I+=19;gb=p(N)}else{N.I+=11;gb=c(N)}var dk=Y(N),cw=.5+z(N),gN=.5+z(N)-.5;
if(aS>=600)N.I+=2;var ci=Q(N)&255,jq=U(N)/100;N.I++;var ea=Q(N)&65535;if(aS>=1300)N.I+=3;var kc=[];for(var t=0;
t<ea;t++){var jE=G(N);if(aS>=1400)N.I+=26;else if(aS>=1300)N.I+=5;var hc=(Q(N)&65535)/100;if(aS>=1300)N.I+=3;
kc.push([hc,jE])}gO={typ:bO==1?"lin":"rad",crds:[cw-Math.cos(dk)/2,gN-Math.sin(dk)/2,cw,gN],grad:kc,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",cm);
bL.L={id:gP,type:cm,L:gO}}else if(bL.$0=="outl"){var dL=a(N);if(aS>=1300){var a5=0,dd=0;while(a5!=1){N.I+=dd;
a5=a(N);dd=a(N)}}var a2=y(N),aW=y(N),fh=y(N);if(aS<1300&&aS>=600)N.I+=2;var he=m(N),g$=y(N)/100;if(aS>=600)N.I+=2;
var gd=Y(N);if(aS>=1300)N.I+=46;else if(aS>=600)N.I+=52;var gO=G(N);if(aS<600)N.I+=10;else N.I+=16;var dn=y(N),g5=N.I,g_=[];
for(var t=0;t<dn;++t)g_.push(y(N));if(aS<600)N.I=g5+20;else N.I=g5+22;var cC=a(N),gC=a(N);bL.L={id:dL,a11:a2,a0X:aW,ab6:fh,lineWidth:he,color:gO,SZ:g_,apC:cC,acV:gC}}else if(bL.$0=="mcfg"){if(1300<=aS)N.I+=12;
else if(900<=aS)N.I+=4;else if(600<=aS&&aS<700)N.I+=28;var g1=0,ba=0;if(aS<400){N.I+=2;var aO=m(N),eb=m(N),ag=m(N),dX=m(N);
g1=Math.abs(ag-aO);ba=Math.abs(dX-eb)}else{g1=m(N);ba=m(N)}bL.L={acC:new cq(g1,ba)}}else if(bL.$0=="loda"||bL.$0=="lobj"){var iu=N.I,dy=Q(N),iH=Q(N),cc=Q(N),a3=Q(N),jN=Q(N),cH=[],d9=[],t=0,ab=null;
N.I=iu+cc;while(t<iH)cH[t++]=Q(N);N.I=iu+a3;while(t>0)d9[--t]=Q(N);bL.L={};for(t=0;t<iH;t++){N.I=iu+cH[t];
var cz=d9[t];if(cz==30){if(aS>=400&&jN==1||aS<400&&jN==0){bL.L.path=X(N)}else if(aS>=400&&jN==2||aS<400&&jN==1){bL.L.path=q(N)}else if(aS>=400&&jN==3||aS<400&&jN==2){bL.L.path=W(N)}else if(jN==37){bL.L.path=J(N)}else if(aS>=400&&jN==4||aS<400&&jN==3){bL.L.a9E=F(N)}else if(aS>=400&&jN==6||aS<400&&jN==5){bL.L.as5=s(N)}else console.log(jN)}else if(cz==20){if(aS<400)bL.L.ahG=V(N);
else bL.L.aga=a(N)}else if(cz==10){if(aS<400)bL.L.amz=I(N);else bL.L.auy=a(N)}else if(cz==200)bL.L.aeq=Q(N);
else if(cz==100){if(aS<400)ab=P(N)}}if(ab&&bL.L.path)k.p.D(bL.L.path.C,ab,bL.L.path.C)}else if(bL.$0=="trfd"){var iu=N.I,dy=Q(N),iH=Q(N),cc=Q(N);
N.I=iu+cc;var cH=[];for(var t=0;t<iH;t++)cH[t]=Q(N);for(var t=0;t<iH;t++){N.I=iu+cH[t];if(aS>=1300)N.I+=8;
var bl=y(N);if(bl==8){var jK,hg,aO,hw,gy,eb;if(aS>=600)N.I+=6;if(aS>=500){jK=C(N);hg=C(N);aO=C(N)/(aS<600?1e3:254e3);
hw=C(N);gy=C(N);eb=C(N)/(aS<600?1e3:254e3)}else throw"e";bL.eE=new ej(jK,hw,hg,gy,aO,eb)}else console.log(bl)}}else if(!1){console.log(bL);
var d3=Math.min(bL.size,32);console.log(M.qu(o,bL.I,d3));console.log(M.abg(o,bL.I,d3))}}}function Z(o){var N=a(o);
o.I+=4;var w=y(o);o.I+=4;var kv=[];for(var g=0;g<w;g++)kv.push(U(o));o.I+=1;var b=[];for(var jU=0;jU<w;
jU++){var _=[];_[1]=m(o);_[0]=m(o);b.push(_)}var cY=A(b,kv);h[N]=cY}function P(o){var N=0,w=0,kv=0,g=0,b=0,jU=0;
if(o.Eg>=300){var _=o.I;o.I+=10;var cY=Q(o);o.I=_+cY;N=r(o);w=r(o);kv=p(o)/1e3;g=r(o);b=r(o);jU=p(o)/1e3}else{kv=m(o);
jU=m(o);N=r(o);w=r(o);kv+=r(o)/1e3;g=r(o);b=r(o);jU+=r(o)/1e3}return new ej(N,w,g,b,kv,jU)}function V(o){var N=U(o);
if(N==0)return null;else if(N==1)return G(o);else console.log(N)}function I(o){var N=U(o);N<<=1;var w=m(o),kv=y(o)/100,g=Y(o),b=G(o);
return{a11:N,lineWidth:w,color:b,SZ:[],apC:0,acV:0}}function q(o){var N=m(o),w=m(o),kv=Y(o),g=Y(o),b=k.p.nF(k.A.jY.lQ(0,0,N,w));
return b}function X(o){var N=o.Eg,w=S(o),kv=S(o),g=0,b=0,jU=0,_=0,cY=0,j3=1,aS=1;if(N<1500){_=S(o);jU=N<900?_:S(o);
b=N<900?_:S(o);g=N<900?_:S(o)}else{var bL=C(o);if(bL!=0)j3=bL;bL=C(o);if(bL!=0)aS=bL;var cQ=U(o);o.I+=7;
if(cQ==0){_=C(o);cY=U(o);o.I+=15;jU=C(o);o.I+=16;b=C(o);o.I+=16;g=C(o);var cK=Math.abs(w*j3/2),el=Math.abs(kv*aS/2);
_*=cK<el?cK:el;jU*=cK<el?cK:el;b*=cK<el?cK:el;g*=cK<el?cK:el}else{_=S(o);cY=U(o);o.I+=15;jU=S(o);o.I+=16;
b=S(o);o.I+=16;g=S(o)}}return k.p.nF(k.A.jY.Rect(0,0,w,kv,[g,b,jU,_]))}function B(o){var N=a(o),kv=0;
o.I+=37;var w=a(o);for(var t=0;t<w;t++){var g=a(o);kv=g;o.I+=48;var b=a(o);if(b==1)o.I+=12*4;else o.I+=8;
if(!N){o.I+=16;var jU=a(o);if(o.Eg>1600)o.I+=jU;else o.I+=jU*2}}var _={af1:kv,Ze:[]},cY=a(o);for(var j3=0;
j3<cY;j3++){var aS=a(o),i$="";o.I+=1;if(N)o.I+=1;var bL=a(o);if(o.Eg<1700)bL*=2;var cQ=M.uX(o.data,o.I,bL);
o.I+=bL;var cK=a(o);for(var t=0;t<cK;t++){o.I+=2;var el=y(o),gF=y(o);if(gF&4){var fj=a(o);fj*=2;o.I+=fj}if(el||gF&4){var i3=a(o);
if(o.Eg<1700)i3*=2;var eT=M.uX(o.data,o.I,i3);o.I+=i3}}var eV=a(o),hr=[];for(var t=0;t<eV;t++){var it=v(o)&4294967295;
hr[t]=it>>16|it&1}var f8=a(o);for(var t=0;t<eV;t++){var gS=hr[t],hT=0;if(gS==0||gS==2)hT=o.data[o.I++];
else if(gS==1||gS==3)hT=o.data[o.I++]+o.data[o.I++]*256;else throw gS;i$+=String.fromCharCode(hT)}var gL=i$.split("\r");
for(var t=0;t<gL.length;t++)_.Ze.push({text:gL[t],apd:aS,bQ:[]})}return _}function e(o,N){var w={},kv=a(o);
for(var t=0;t<kv;t++){var g=a(o);o.I+=4;var b=a(o);w[g]=b;if(N)o.I+=48}return w}function F(o){var N=m(o),w=m(o);
return new cq(N,w)}function s(o){o.I+=4;var N=m(o),w=m(o);return new cq(N,w)}function J(o){o.I+=4;var N=y(o)+y(o);
o.I+=16;var w=L(o,N);return w}function W(o){var N=y(o);o.I+=2;return L(o,N)}function L(o,N){var w=[],kv=[];
for(var t=0;t<N;t++)w.push([m(o),m(o)]);for(var t=0;t<N;t++)kv.push(U(o));return A(w,kv)}function A(o,N){var w={C:[],H:[]},kv=0,g=0,b=0;
for(var t=0;t<o.length;t++){var kv=o[t][0],g=o[t][1],jU=N[t];if(!(jU&64)&&!(jU&128)){w.C.push(kv,g);
w.H.push("M");b+=2}else if(jU&64&&!(jU&128)){w.C.push(kv,g);w.H.push("L");b+=2}else if(!(jU&64)&&jU&128){w.C.push(kv,g);
w.H.push("C");b+=6}else if(jU&64&&jU&128){w.C.push(kv,g)}}if(b!=w.C.length)throw"e";return w}function j(o,N){var w=M.Li;
N+=8;var kv=w(o,N);N+=4;var g=w(o,N);N+=4;N+=4*7;var b=N,jU=k.Q(kv*g*4);N+=1024;for(var _=0;_<g;_++)for(var cY=0;
cY<kv;cY++){var t=_*kv+cY,j3=(g-_-1)*kv+cY,aS=o[N+t]<<2,bL=j3<<2;jU[bL+0]=o[b+aS+2];jU[bL+1]=o[b+aS+1];
jU[bL+2]=o[b+aS+0];jU[bL+3]=255}return{Yz:jU,rect:new bN(0,0,kv,g)}}function G(o){var N=o.Eg,w=0,kv=0,g=0;
if(N>=500){w=y(o);if(w==1&&N>=1300)w=25;if(w==30){w=25;kv=30}else{kv=y(o);o.I+=4}g=a(o)}else if(N>=400)throw"e";
else{w=U(o);g=a(o)}return O(w,kv,g)}function O(o,N,w){var kv=[0,0,0];if(o==2||o==3||o==9||o==17){var g=[w>>>0&255,w>>>8&255,w>>>16&255,w>>>24&255];
if(o==2)for(var t=0;t<4;t++)g[t]=Math.round(255*g[t]/100);for(var t=0;t<4;t++)g[t]/=255;kv=UDOC.C.cmykToRgb(g)}else if(o==1||o==5){kv=[w>>>0&255,w>>>8&255,w>>>16&255];
for(var t=0;t<3;t++)kv[t]=kv[t]/255;if(o==5)kv.reverse()}else console.log("Unknown color model "+o,w,w.toString(16));
return kv}return{cL:d}}(),iP=function(){var i,$,h=new ArrayBuffer(4),d=new Uint8Array(h),K=new Uint32Array(h),f=new Float32Array(h);
function l(c,p){for(var C=0;C<c.length;C++)if(c[C][0]==p)return c[C]}function u(){var c=0,p=0,C=0;do{C=i[$++];
c|=(C&127)<<p;p+=7}while(C&128&&p<35);return c>>>0}function U(c,p,C,T,E){i=c;$=p;var r=T[0]=="mesg",Y=T[2],S={},m=1,Q=r?1e9:Y.length;
while(m<=Q){var z=m;if(r){z=u();if(z==0)break}var n=l(Y,z),Z=n[2],P=n[1]==1,V=P?u():1,I=new Array(V);
if(Z==3){if(!P)throw"e";I=i.slice($,$+V);$+=V}else for(var t=0;t<V;t++){var q;if((Z&1)==1){if(Z==1)q=i[$++]==1;
else if(Z==3)q=i[$++];else if(Z==5){var X=u();q=X&1?~(X>>>1):X>>>1}else if(Z==7)q=u();else if(Z==9){if(i[$]==0){q=0;
$++}else{d[0]=i[$];d[1]=i[$+1];d[2]=i[$+2];d[3]=i[$+3];var B=K[0];K[0]=B<<23|B>>>9;q=f[0];$+=4}}else if(Z==11){var e=y(i,$);
q=e[0];$+=e[1]+1}else throw Z}else{var F=C[Z>>>1];if(F[0]=="enum"){var s=i[$++];if(s>127)throw"e";q=F[2][s]}else{var J=U(i,$,C,F,E+1);
q=J[0];$=J[1]}}I[t]=q}S[n[3]]=P?I:I[0];m++}return[S,$]}function y(c,p){var C=p;while(c[C]!=0)C++;return[M.kV(c,p,C-p),C-p]}function a(c,p){var C=p;
while(c[C]!=0)C++;for(var t=p;t<C;t++)if(c[t]>127)throw"e";return M.uX(c,p,C-p)}function v(c){i=c;$=1;
var p=[];while($<c.length){var C=$,T=p.length,E=a(c,$);$+=E.length+1;var r=u();if(r>2)throw"e";var Y=u(),S=[];
for(var t=0;t<Y;t++){var m=a(c,$);$+=m.length+1;var Q=u(),z=u(),n=u();S.push(r==0?m:[n,z,Q,m])}p.push([["enum","strc","mesg"][r],E,S])}return p}return{a1O:v,ayb:U}}();
function ht(){}ht.cL=function(i,$){var h=new Uint8Array(i),d=8,K=M.Li(h,d),y=0,F=0;d+=4;var f=[];while(d<h.length){var l=M.Li(h,d);
d+=4;var u=h.slice(d,d+l);if(h[d]==137&&h[d+1]==80){}else u=UZIP.inflateRaw(u);f.push(u);d+=l}var U=iP.a1O(f[0]);
for(var t=0;t<U.length;t++)if(U[t][1]=="Message")y=t;var a=iP.ayb(f[1],0,U,U[y],0)[0],v={qg:{},A7:{},ahz:{}},c=a.nodeChanges;
for(var p=0;p<c.length;p++){var C=c[p],T=C.guid;v.A7[T.sessionID+","+T.localID]=C}for(var p=0;p<c.length;
p++){var C=c[p],T=C.parentIndex;if(T){var E=ht.Uo(v.A7,T.guid);if(E.children==null)E.children=[];E.children.push(C)}}var r=c[0],Y=r.children,S=new bN,m=[],Q=[];
for(var T=0;T<Y.length;T++){var z=Y[T],n=z.children;if(z.name=="Internal Only Canvas"||n==null)continue;
var Z=new bN;for(var t=0;t<n.length;t++){var P=n[t],V=P.transform,I=P.size;if(V.m00==1&&V.m10==0&&V.m01==0&&V.m11==1){var q=new bN(V.m02,V.m12,I.x,I.y);
Z=Z.rt(q)}}var X=S.n==0?0:S.n+100,B=Z.clone();B.x=0;B.y=X;S=S.rt(B);m[T]=Z;Q[T]=X}var e=as.sR(new bN(0,0,S.e,S.n),8192*8192);
$.e=Math.round(S.e/e);$.n=Math.round(S.n/e);$.buffer=k.Q($.e*$.n*4);for(var T=0;T<Y.length;T++){var z=Y[T],n=z.children;
if(z.name=="Internal Only Canvas"||n==null)continue;n.sort(ht.awE);var s=new ej(1,0,0,1,-m[T].x,Q[T]-m[T].y);
s.scale(1/e,1/e);for(var t=0;t<n.length;t++){var P=n[t];ht.SV(P,[],s,a.blobs,$,0,v);F++}}$.Bw(F);$.Od=!0;
if(e!=1)alert("File scaled down "+e+"x")};ht.SV=function(i,$,h,d,K,f,l){var u=ht,V=!1,I,B,e,F;$=JSON.parse(JSON.stringify($));
var U=i.overrideKey?i.overrideKey:i.guid;for(var t=0;t<$.length;t++){var y=$[t],a=y.guidPath.guids;if(u.ac6(a[0],U)){if(a.length==1){var v={};
for(var c in i)v[c]=y[c]!=null?y[c]:i[c];i=v}else y.guidPath.guids=a.slice(1)}}var p=i.type,C=i.children,T=i.size,E=i.effects,r=K.Dw();
r.DN(i.name);r.DJ(i.visible);r.opacity=Math.round(i.opacity*255);var Y=u.GU(i.transform),S=Y.clone();
S.concat(h);var m=new bN(Math.round(S.wQ),Math.round(S.FQ),Math.round(T.x*S.Qa()),Math.round(T.y*S.Qa()));
if(m.e==0||isNaN(m.e))m.e=100;if(m.n==0||isNaN(m.n))m.n=100;var Q=i.fillPaints,z=i.inheritFillStyleID;
if(z){var v=u.Uo(l.A7,z);if(v)Q=v.fillPaints}if(Q==null)Q=[];var Q=u.abq(Q),n=Q[0],Z=i.strokePaints,z=i.inheritFillStyleIDForStroke;
if(z){var v=u.Uo(l.A7,z);if(v)Z=v.fillPaints}if(Z==null)Z=[];var Z=u.abq(Z),P="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(p)!=-1;
if(P||p=="FRAME"){I=new H.LF;u.abL(i,d,I);V=k.A.VL(I.i);k.A.mu(I.i,S);var q=k.p.Ip(k.A.eu(I.i));if(!q.NT())m=q;
if(l.qg.og&&n){var X=H.LF.t0(l.qg.og.i);for(var t=2;t<X.length;t++)if(X[t].N0!=null)X[t].N0=3;I.i=I.i.concat(X.slice(2))}}if(n&&n.type=="IMAGE"){F=n.imageScaleMode;
B=u.Fy(d,n.image.dataBlob);var s=B.kp.e/B.kp.n,J=T.x/T.y;e=Math.abs(s-J)}if(p=="FRAME"){}else if(P&&V&&B&&(F=="FIT"||F=="FILL"&&e<=.05)){var W=d[n.image.dataBlob].bytes,L=K.UJ(W,r.getName(),0,0);
L.pM=r.pM;L.opacity=r.opacity;r=L;var A=new bN(0,0,T.x,T.y);if(F=="FIT"){var j=B.kp.e,G=B.kp.n,O=Math.min(T.x/j,T.y/G),o=j*O,N=G*O;
A=new bN(A.x+(A.e-o)/2,A.y+(A.n-N)/2,o,N)}var w=k.p.Hg(A).C;k.p.D(w,S,w);r.add.SoLd.Trnf=D.vA.j7(w);
r.add.SoLd.nonAffineTransform=D.vA.j7(w);var kv=[],E=i.effects,g=n.paintFilter;if(E)for(var t=0;t<E.length;
t++)if(E[t].type=="FOREGROUND_BLUR"){var b=E[t],jU=d1.K7("GsnB",{});kv.push(jU);jU.v.enab.v=b.visible;
jU.v.Fltr.v.Rds.v.val=b.radius/2.4}if(g&&g.exposure!=0){var jU=d1.K7("brit",{});kv.push(jU);jU.v.Fltr.v.Brgh.v=Math.round(g.exposure*160);
jU.v.Fltr.v.useLegacy.v=!0}if(g&&g.vibrance!=0){var jU=d1.K7("vibA",{});kv.push(jU);console.log(jU);
jU.v.Fltr.v.Strt.v=Math.round(Math.round(g.vibrance*100))}if(kv.length!=0){r.add.SoLd.filterFX=d1.as();
K.G6({id:r.add.SoLd.placed.v,rect:new bN,buffer:k.Q(1),z:new H.k$});r.add.SoLd.filterFX.v.filterFXList.v=kv}r.u8(K,!1);
u.abr(l,r,K)}else if(P){u.a7E(r,I,i,n,Z,S,m,d,K,l);if(E)for(var t=0;t<E.length;t++){var b=E[t];if(b.type!="FOREGROUND_BLUR")continue;
I.Dc=b.radius/2.4}r.Yt();r.ET(K)}else if(p=="TEXT"){var _=i.textData,cY=_.layoutSize,j3=["LEFT","RIGHT","CENTER"].indexOf(i.textAlignHorizontal);
r.add.lnsr="rend";r.add.TySh=jP.Aj(0,0);r.add.TySh.MX=new bN(0,0,100,100);var aS=S.clone();r.add.TySh.D=aS;
var bL=r.add.TySh.$D,cQ=_.characters;if(i.textCase=="TITLE"){for(var t=0;t<cQ.length;t++)if(t==0||cQ[t-1]==" "){var cK=cQ.slice(0,t),el=cQ.slice(t+1);
cQ=cK+cQ[t].toUpperCase()+el}}cQ=cQ.replace(/\u2028/g,"\n");cQ=cQ.replace(/\u2029/g,"\n");cQ=cQ.replace(/\r\n/g," \n");
jP.uE(bL,0,cQ);var gF=i.textAutoResize,fj=_.baselines;if(gF=="WIDTH_AND_HEIGHT"){var i3=j3==0?0:j3==1?cY.x:cY.x/2,eT=fj?fj[0].position.y:0;
aS.translate(i3*S.Qa(),eT*S.Qa());jP.tA(bL,0)}else if(gF=="HEIGHT"||gF=="NONE"||gF==null){var eT=fj?fj[0].position.y-i.fontSize*.7:0;
aS.translate(0,eT*S.Qa());jP.tA(bL,1);jP.pt(bL,[0,0,Math.round(cY.x),Math.round((gF=="NONE"?1.8:1)*cY.y)])}else throw gF;
if(cQ!=""){var eV=jP.Zg(bL,0,1);u.a1N(i,S,T,eV,r,d,K,l);jP.jV(bL,0,cQ.length,eV);var hr=_.characterStyleIDs,it=_.styleOverrideTable;
if(hr){hr=hr.slice(0);for(var t=0;t<hr.length;t++)if(cQ[t]=="\n")hr[t]=-t-1;var f8=[0],i$=0,gS=0;for(var t=0;
t<hr.length;t++){gS++;var hT=hr[t];if(t==0||hT==hr[t-1]){}else{f8.push(gS-1,t);gS=1}}f8.push(gS);for(var t=0;
t<f8.length;t+=2){var gL=f8[t],iu=f8[t+1];if(cQ[gL]=="\n")continue;var hT=hr[gL];if(hT!=0){var dB;for(var jt=0;
jt<it.length;jt++)if(it[jt].styleID==hT)dB=it[jt];var eV=jP.Zg(bL,gL,gL+1);u.a1N(dB,S,T,eV,r,d,K,l);
jP.jV(bL,gL,gL+iu-1,eV)}}}}}else if(p=="SYMBOL"){}else if(p=="INSTANCE"){var ka=i.symbolData,eQ=ka.symbolOverrides,v=u.Uo(l.A7,ka.symbolID);
if(v)C=v.children;else console.log(i.name,"symbol not found",ka.symbolID);$=$.slice(0);for(var t=0;t<eQ.length;
t++)$.push(eQ[t])}else console.log(p);if(!1){}else if(C&&!P){K.B.push(K.U4());var dv=!1,cT=f==0&&p!="SYMBOL"&&p!="INSTANCE";
if(cT){if(m.NT())console.log(m);r.th(m)}n=Q[Q.length-1];if(cT&&n&&n.type=="SOLID"){var eY=n.color;r.add.artb.artboardBackgroundType.v=4;
r.add.artb.Clr=u.cE(eY)}else if((n||Z[0])&&I){var gl=K.Dw();gl.DN("Background");u.a7E(gl,I,i,n,Z,S,m,d,K,l);
gl.Yt();gl.ET(K);K.B.push(gl);dv=!0}C.sort(u.awE);var dY=l.qg;l.qg={};for(var gE=0;gE<C.length;gE++)u.SV(C[gE],$,S,d,K,f+1,l);
l.qg=dY;r.add.lsct=!1?gX.DU:gX.qC;r.R$="pass";var cs=r.ji();r.pM=24;r.DJ(cs);var au=f!=0&&Q.length!=0&&!i.frameMaskDisabled&&i.containerSupportsFillStrokeAndCorners;
if(!dv&&au&&I){r.add.vmsk=I;r.Yt();r.ET(K)}else u.abr(l,r,K);K.B.push(r)}else if(i.mask){if(I){l.qg.og=I}}else{var b8=[],h4=1;
if(E)for(var jw=0;jw<E.length;jw++){var b=E[jw],ek=b.color,cj=b.type,jJ=["DROP_SHADOW","INNER_SHADOW"].indexOf(cj);
if(jJ!=-1){var hp=["DrSh","IrSh"][jJ],dW=JSON.parse(et.MO[et.order.indexOf(hp)]);b8.push([hp,dW]);dW.enab.v=b.visible;
dW.Md.v.BlnM=ca.ml(u.aaF(b.blendMode));dW.Opct.v.val=Math.round(100*ek.a);dW.blur.v.val=Math.round(b.radius*S.Qa());
dW.Clr=u.cE(ek);var i3=b.offset.x,eT=b.offset.y;dW.uglg.v=!1;dW.lagl.v.val=Math.round(180/Math.PI*Math.atan2(eT,-i3));
dW.Dstn.v.val=Math.round(Math.sqrt(i3*i3+eT*eT)*S.Qa())}}if(p=="TEXT"&&Q[0]&&Q[0].type!="SOLID")h4=0;
for(var t=h4;t<Q.length;t++){var er=Q[t],hG=u.aZ(i,er,S,m,d,K,l);if(hG[0]=="GdFl")b8.push(["GrFl",hG[1]]);
else if(hG[0]=="SoCo")b8.push(["SoFi",hG[1]]);else if(hG[0]=="PtFl")b8.push(["patternFill",hG[1]]);else throw hG}if(!P)for(var t=0;
t<Z.length;t++){var er=Z[t],hG=u.aZ(i,er,S,m,d,K,l);if(hG[0]=="SoCo"){var dW=JSON.parse(et.MO[et.order.indexOf("FrFX")]);
b8.push(["FrFX",dW]);dW.enab=hG[1].enab;dW.Opct=hG[1].Opct;dW.Md=hG[1].Md;dW.Clr=hG[1].Clr;dW.Sz.v.val=i.strokeWeight}}if(b8.length!=0){var i_=JSON.parse(et.default);
for(var t=0;t<et.order.length;t++)i_[et.CE[t]]={t:"VlLs",v:[]};for(var t=0;t<b8.length;t++){var aK=b8[t],hp=et.CE[et.order.indexOf(aK[0])];
i_[hp].v.unshift({t:"Objc",v:aK[1]})}if(C==null)r.add.lmfx=i_}K.B.push(r)}};ht.a7E=function(i,$,h,d,K,f,l,u,U,y){var a=ht;
i.pM|=16;i.add.vmsk=$;var v=i.add.vstk=JSON.parse(JSON.stringify(et._T.default)),c=a.aZ(h,d,f,l,u,U,y);
if(c[0]=="None"){v.fillEnabled.v=!1;i.add.SoCo=c[1]}else{a.fI(c,i);i.add[c[0]]=c[1]}var c=a.aZ(h,K[0],f,l,u,U,y);
if(c[0]!="None"){var v=i.add.vstk;v.strokeEnabled.v=!0;v.strokeStyleLineWidth.v.val=h.strokeWeight*f.Qa();
v.strokeStyleLineAlignment.v.strokeStyleLineAlignment=et._T.QY[["INSIDE","CENTER","OUTSIDE"].indexOf(h.strokeAlign)];
var p={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[c[0]],C=["SoFi","GrFl","patternFill"].indexOf(p),T=[et.sF,et.ce,et.V1][C];
v.strokeStyleContent.v={classID:et._T.u$[0]};var E=h.dashPattern;if(E)v.strokeStyleLineDashSet.v=eN.bq(E,1/h.strokeWeight);
var r=v.strokeStyleContent.v={classID:et._T.u$[C]};for(var t=0;t<T.length;t++)r[T[t]]=c[1][T[t]];if(!v.fillEnabled.v)a.fI(c,i)}};
ht.fI=function(i,$){var h=i[1].Opct.v.val;if(h!=100)$.opacity=Math.round($.opacity/255*(h/100)*255)};
ht.awE=function(i,$){var h=i.parentIndex.position,d=$.parentIndex.position;return h>d?1:-1};ht.abq=function(i){for(var t=1;
t<i.length;t++){var $=i[t];if($.type=="IMAGE"&&$.opacity==1){i=i.slice(t);break}}for(var t=0;t<i.length;
t++){var $=i[t],h=$.imageThumbnail;if($.type=="IMAGE"&&($.image==null||$.image.dataBlob==null)&&h&&h.dataBlob)$.image=h;
if(!$.visible||$.type=="IMAGE"&&$.image.dataBlob==null){i.splice(t,1);t--}}return i};ht.abr=function(i,$,h){if(i.qg.og){$.add.vmsk=i.qg.og.clone();
$.Yt();$.ET(h)}};ht.a1N=function(i,$,h,d,K,f,l,u){var U=i.fontSize,y=i.lineHeight,a=i.fontName,v=i.textAlignHorizontal,c=i.textTracking,p=i.textCase,C=i.textDecoration;
if(U==null)U=d.TL.FontSize;if(a)jP.Qr(d,a.postscript);if(U!=null)d.TL.FontSize=Math.round(U);if(C=="UNDERLINE")d.TL.Underline=!0;
if(c)d.TL.Tracking=Math.round(c*1e3);if(p)d.TL.FontCaps=p=="UPPER"?2:0;if(y&&(y.units!="PERCENT"||y.value!=100)){if(U==null)U=15;
var T=y.value;if(y.units=="PERCENT")T=1*U*T/100;if(y.units=="RAW")T=1*U*T;d.TL.AutoLeading=!1;d.TL.Leading=Math.round(T)}if(v)d.OU.Justification=["LEFT","RIGHT","CENTER"].indexOf(v);
var E=i.fillPaints,r=i.inheritFillStyleID;if(r){var Y=ht.Uo(u.A7,r);if(Y)E=Y.fillPaints}if(E&&E[0]){var S=ht.aZ(i,E[0],$,h,f,l,u);
if(S[0]=="SoCo"){var m=k.M.zk(S[1].Clr.v);d.TL.FillColor={Type:1,Values:[1,m.o/255,m.P/255,m.Z/255]};
ht.fI(S,K)}}};ht.aZ=function(i,$,h,d,K,f,l){var u=ht,U,y,a=i.size;if($){var v=$.type,c=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(v);
if(v=="SOLID"){U="SoCo";var p=$.color;y=JSON.parse(et.MO[et.order.indexOf("SoFi")]);y.Clr=u.cE(p)}else if(c!=-1){var C=JSON.parse(et.MO[et.order.indexOf("GrFl")]),T=C.Grad.v;
T.Intr.v=0;C.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][c];var E=[],r=$.stops;for(var t=0;t<r.length;t++){var Y=r[t],S=Y.color;
E.push([Y.position,[S.r,S.g,S.b],S.a])}k.M.wX(E,T);var m=u.GU($.transform);m.Sp();var Q=m.clone();if(a)Q.scale(a.x,a.y);
Q.concat(h);var z=new cq(0,.5),n=new cq(1,.5);z=Q.hb(z);n=Q.hb(n);if(!0){z.x=n.x+.5*(z.x-n.x);z.y=n.y+.5*(z.y-n.y)}k.M.EU(z,n,d,C);
if(c==3){if(Q.Pi*Q.Zn-Q.Z*Q.sl<0)C.Rvrs.v=!C.Rvrs.v}U="GdFl";y=C}else if(v=="IMAGE"){var C=JSON.parse(et.MO[et.order.indexOf("patternFill")]),m=u.GU($.transform);
m.Sp();var Z=$.image.dataBlob,P=l.ahz[Z];if(P==null){var V=u.Fy(K,Z);P=l.ahz[Z]={};P.id=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f";
P.Jz=[new Uint8Array(V.data),V.kp];if(m.Pi<0){var I=P.Jz[0].slice(0);k.K.Xo(I,P.Jz[0],V.kp.e,V.kp.n)}P.name="someImage";
f.pk(P)}if(m.Pi<0)m.Pi=-m.Pi;var q=["FILL","FIT","STRETCH","TILE"].indexOf($.imageScaleMode),X=q==3?$.scale:1;
eN.afG(P,C,a.x,a.y,q,h,m,X);U="PtFl";y=C}else throw v;if(y)y.Opct={t:"UntF",v:{type:"#Prc",val:Math.round($.opacity*100)}}}if(U==null||$.opacity<.001){U="None";
y={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:0,P:0,Z:0})}}}return[U,y]};ht.Fy=function(i,$){var h=i[$];
if(h.rslt)return h.rslt;var d=h.bytes.buffer,K=em.X0(d),f=em.Q_(K);try{h.rslt=f.u2(d)[0]}catch(e_){h.rslt={data:k.Q(4),kp:new bN(0,0,1,1)}}return h.rslt};
ht.abL=function(i,$,h){var d=i.type,K=i.size,f=i.cornerRadius,y;if(f==null)f=0;var l=K.x,u=K.y,U=[f,f,f,f],a=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var t=0;t<4;t++)if(i[a[t]]!=null)U[t]=i[a[t]];if(d=="RECTANGLE"||d=="ROUNDED_RECTANGLE"||d=="FRAME"){y=k.A.jY.Rect(0,0,l,u,U)}else if(d=="ELLIPSE"){var v=i.arcData,c=v?v.startingAngle:0,p=v?v.endingAngle:2*Math.PI,C=v?v.innerRadius:0;
if(c==0&&p>1.999*Math.PI)y=k.A.jY.lQ(0,0,l,u,0);else y=k.A.jY.ajj(l/2,u/2,u/2,c,p);if(C!=0&&C!=1){var T=H.LF.t0(y).slice(3);
T.reverse();for(var t=0;t<T.length;t++){var E=T[t],r=E.Q2;E.Q2=E.ua;E.ua=r}var Y=new ej;Y.translate(-l/2,-u/2);
Y.scale(C,C);Y.translate(l/2,u/2);k.A.mu(T,Y);y=y.concat(T);y[2].length*=2}}else if(d=="LINE"){y=k.A.jY.Rect(0,0,l,u,0);
y.pop();y.pop();y[2].length=2}else if(d=="STAR"){y=k.A.jY.NR(l/2,u/2,l/2,2*Math.PI*(1/4),5,0,i.starInnerScale)}else if(d=="REGULAR_POLYGON"){y=k.A.jY.o1(.5,.5,.5,Math.PI/2,i.count,0);
var S=new ej;S.scale(l,u);k.A.mu(y,S)}else if(d=="BOOLEAN_OPERATION"){y=[{type:6},{type:8,all:0}];var m=i.children,Q=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(i.booleanOperation);
if(Q==-1)throw i;if(m==null)m=[];for(var t=0;t<m.length;t++){var z=m[t],n=new H.LF,Z=ht.abL(z,$,n);if(n.i==null)continue;
k.A.mu(n.i,ht.GU(z.transform));y=y.concat(n.i.slice(2))}for(var t=3;t<y.length;t++)if(y[t].N0!=null)y[t].N0=Q}else if(d=="VECTOR"){var P,V,A=3;
if(!0){var I=i.vectorData;if(I==null)return;P=I.normalizedSize;V=I.vectorNetworkBlob}var q=$[V].bytes,X=new Uint32Array(q.buffer),B=new Float32Array(q.buffer),e=X[0],F=X[1],s=X[2],J=[],W=[],L=[],j=A+e*3,G=j+F*7;
for(var t=0;t<e;t++){var O=A+t*3,o=new cq(B[O+1],B[O+2]);J.push(o)}for(var t=0;t<F;t++){var N=j+t*7;
W.push([X[N+0],X[N+1],B[N+2],B[N+3],X[N+4],B[N+5],B[N+6]])}for(var t=0;t<s;t++){var w=X[G+1],kv=L[t]=[];
G+=2;for(var g=0;g<w;g++){var b=X[G++],jU=kv[g]=[];for(var _=0;_<b;_++)jU[_]=X[G+_];G+=b}}if(G!=X.length)throw"e";
if(s==0){var cY=-1;for(var t=0;t<F;t++){if(cY==-1){}else{var j3=-1;for(var g=t;g<F;g++)if(W[g][4]==cY)j3=g;
for(var g=t;g<F;g++)if(W[g][1]==cY)j3=g;if(j3!=-1){var aS=0,r=W[j3];W[j3]=W[t];W[t]=r;if(r[1]!=cY){aS=r[1];
r[1]=r[4];r[4]=aS;aS=r[2];r[2]=r[5];r[5]=aS;aS=r[3];r[3]=r[6];r[6]=aS}}}cY=W[t][4]}L.push([[]]);for(var t=0;
t<F;t++)L[0][0].push(t)}var bL=[],cQ=[];for(var cK=0;cK<L.length;cK++){for(var el=0;el<L[cK].length;
el++){var gF=L[cK][el],fj=0;if(gF.length>1){var i3=W[gF[0]],eT=W[gF[1]];fj=i3[4]==eT[1]?1:0}for(var t=0;
t<gF.length;t++){var eV=W[gF[t]],hr=1,f8=4;if(fj==0){hr=4;f8=1}var i$=J[eV[hr]],gS=J[eV[f8]];if(t==0){cQ.push("M");
bL.push(i$.x,i$.y)}cQ.push("C");bL.push(i$.x+eV[hr+1],i$.y+eV[hr+2],gS.x+eV[f8+1],gS.y+eV[f8+2],gS.x,gS.y)}}}y=k.p.Kg({C:bL,H:cQ},!1);
if(f!=0){var U=[],hT=y[2].length;for(var t=0;t<hT;t++)U.push(f);if(k.A.oP(y))k.A.NJ(y,2,U)}var gL=new ej;
gL.scale(P.x==0?1:K.x/P.x,P.y==0?1:K.y/P.y);k.A.mu(y,gL)}h.i=y};ht.Uo=function(i,$){return i[$.sessionID+","+$.localID]};
ht.ac6=function(i,$){return i.sessionID==$.sessionID&&i.localID==$.localID};ht.aaF=function(i){var $={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[i];
if($==null)throw i;return $};ht.cE=function(i){return{t:"Objc",v:k.M.Aw({o:i.r*255,P:i.g*255,Z:i.b*255})}};
ht.GU=function(i){var $=[i.m00,i.m10,i.m01,i.m11,i.m02,i.m12];for(var t=0;t<6;t++)if(Math.abs($[t])<1e-20)$[t]=0;
return new ej($[0],$[1],$[2],$[3],$[4],$[5])};function bC(){}bC.cL=function(){var i=M.uX;function $(p,C,T,E){var r=E?[]:{};
while(C<p.length-1&&p[C]!=125){var Y=i(p,C,3),S=i(p,C+3,1),m;C+=4;C++;if(S=="v"){var Q=$(p,C,T+1,Y=="ELM"||Y=="TIL");
m=Q.L;C=Q.I}else if(S=="i"||S=="f"){var z=C;while(p[z]!=125)z++;var n=i(p,C,z-C);m=S=="i"?parseInt(n,16):parseFloat(n);
C=z+1}else if(S=="s"){var Z=M.fd(p,C),n="";C+=2;for(var t=0;t<Z;t++)n+=String.fromCharCode(p[C+2*t+1]);
m=n;C=C+2*Z+1}else if(S=="b"){m=p[C]==49;C=C+2}else throw"e";if(E)r.push([Y,m]);else if(r[Y]==null)r[Y]=m;
else{if(!(r[Y]instanceof Array))r[Y]=[r[Y]];r[Y].push(m)}}C++;return{L:r,I:C}}function h(p,C){var T=d(p).slice(1),p=C.Clr.v;
p.Rd.v=T[0]*255;p.Grn.v=T[1]*255;p.Bl.v=T[2]*255}function d(p){return[(p>>>24&255)/255,(p>>>16&255)/255,(p>>>8&255)/255,(p>>>0&255)/255]}function K(p,C){var T=C&4278190080|(C&255)<<16|(C>>>8&255)<<8|C>>>16&255;
new Uint32Array(p.buffer).fill(T)}function f(p,C){var T=p.TSZ,E=p.WPX,r=p.HPX,Y=p.TIL,S=new bN(0,0,E,r),m=k.Q(E*r*4),Q=0;
for(var z=0;z<r;z+=T)for(var n=0;n<E;n+=T){var Z=new bN(n,z,T,T),P,V=Y[Q];if(V[0]=="TMC"){P=k.Q(Z.O()*4);
K(P,V[1])}else if(V[0]=="TID"){P=C[V[1]]}k.mC(P,Z,m,S);Q++}return[m,S]}function l(p,C){p=new Uint8Array(p);
var T=8,E,r={},F=0;while(T<p.length){var Y=M.v(p,T);T+=4;var S=i(p,T,4);T+=4;if(S=="mkTS"){var m=pako.inflate(p.slice(T,T+Y)),Q=$(m,0,0);
E=Q.L}else if(S=="mkBT"){var z=M.v(p,T+4),n=M.v(p,T+8),m=pako.inflate(p.slice(T+76,T+Y));if(n==0)for(var t=0;
t<m.length;t+=4){var Z=m[t],P=m[t+1],V=m[t+2],I=m[t+3];m[t+3]=Z;m[t+2]=I;m[t+1]=V;m[t]=P}else{var q=k.Q(m.length*4);
q.fill(255);k.ai(m,q);m=q}r[z]=m}T+=Y+4}var X=E.PDC,B=X?X instanceof Array?X:[X]:[E.MKB],e=new bN;for(var t=0;
t<B.length;t++){var s=B[t];e=e.rt(new bN(0,F,s.WID,s.HIT));F+=s.HIT+100}C.e=e.e;C.n=e.n;C.buffer=k.Q(e.O()*4);
C.Bw(B.length);F=0;for(var J=0;J<B.length;J++){C.B.push(C.U4());var s=B[J],W=s.WID,L=s.HIT,A=s.BGC,j=(s.LYL?s:E).LYL.LAY,o=3;
for(var t=0;t<j.length;t++)U(j[t],C,null,r,new ej(1,0,0,1,-s.XLC,-s.YLC+F));var G=C.Dw();C.B.push(G);
var O=new bN(0,F,W,L);F+=L+100;G.th(O);if(A>>>24!=0){var N=k.M.Aw({o:A>>>16&255,P:A>>>8&255,Z:A>>>0&255});
G.add.artb.Clr={t:"Objc",v:N};o=4}G.add.artb.artboardBackgroundType.v=o;G.DN(s.PGN?s.PGN:"Page "+(J+1));
G.add.lsct=gX.qC;G.R$="pass";G.pM=24}}function u(p,C,T){var E=p[C];return E instanceof Array?E[T]:E}function U(p,C,T,E,r){var Y=C.Dw();
if(p.VIS!=null)Y.DJ(p.VIS);if(p.VIF!=null)Y.DJ(p.VIF.VIS);if(p.OPA!=null)Y.opacity=Math.round(255*p.OPA/1e3);
Y.R$=p.CLL||T=="GRP"?"pass":"norm";if(p.BLD!=null){var S=p.BLD,m={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[S+""];
if(m==null)console.log(p.OBN,S);else Y.R$=m;if(S==30)Y.opacity>>>=1}if(p.CLL){Y.DN(p.LNM);C.B.push(C.U4());
var Q=p.CLL.CEL;if(Q.length==null)Q=[Q];for(var z=Q.length-1;z>=0;z--){var n=Q[z].ELM;for(var t=n.length-1;
t>=0;t--)U(n[t][1],C,n[t][0],E,r)}Y.add.lsct=p.DIS?gX.DU:gX.qC;Y.pM|=24}else if(T=="GRP"){var Z=Y.add.lmfx=a(p.EFL),P;
C.B.push(C.U4());var n=p.ELM;if(p.MNA){P=n[0][1];n=n.slice(1)}Y.DN("Group: "+n.length+" objects");for(var t=n.length-1;
t>=0;t--)U(n[t][1],C,n[t][0],E,r);if(P){if(p.MRX){var V=f(P,E),I=Y.z=new H.k$;I.rect=V[1].clone();I.rect.x=P.XLC;
I.rect.y=P.YLC+r.FQ;I.channel=k.Q(I.rect.O());k.pO(V[0],I.channel,0);k.Sp(I.channel)}else{y(Y,P,r);Y.Yt();
Y.ET(C)}}Y.add.lsct=gX.qC;Y.pM|=24}else if(T=="IMG"){Y.DN(p.OBN?p.OBN:"Bitmap");var V=f(p,E);Y.rect=V[1].clone();
Y.rect.x=p.XLC;Y.rect.y=p.YLC+r.FQ;Y.buffer=V[0]}else if(T=="TXT"){var q=p.TFS,X=q.TRN instanceof Array?q.TRN.length:1,s="",J="Arial",W=20,L=0;
Y.add.lnsr="rend";Y.add.TySh=jP.Aj(0,0);Y.add.TySh.MX=new bN(0,0,100,100);var B=new ej(1,0,0,1,p.LFT,p.TOP);
if(p.MTX){var e=p.MTX,I=new ej(e.M00,e.M01,e.M10,e.M11,e.M20,e.M21);B.concat(I)}B.concat(r);Y.add.TySh.D=B;
var F=Y.add.TySh.$D;for(var t=0;t<X;t++){var A=u(q,"TRN",t);if(A==null)continue;A=A.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
A=A.replaceAll("\x03","\n").replaceAll("\r","\n");jP.uE(F,s.length,A);var j=jP.Zg(F,0,1),G=u(q,"FON",t);
if(G)J=G;jP.Qr(j,J);var O=u(q,"PTS",t);if(O!=null)W=O;j.TL.FontSize=Math.round(W);var o=u(q,"LED",t);
if(o!=null){j.TL.Leading=o*W;j.TL.AutoLeading=!1}var N=u(q,"UND",t);if(N!=null){j.TL.Underline=N}var w=u(q,"ITL",t);
if(w!=null){j.TL.FauxItalic=w}var kv=u(q,"FCL",t);if(kv!=null)L=kv;j.TL.FillColor={Type:1,Values:d(L)};
var g=u(q,"JST",t);if(g!=null)j.OU.Justification=[0,2,1,3,5,4,6,7,8][g];jP.jV(F,s.length,s.length+A.length,j);
s+=A}Y.DN(s.slice(0,255));var b=p.RIT-p.LFT,jU=p.BOT-p.TOP;if(p.IMG){U(p.IMG,C,"IMG",E,r);var _=C.B.pop();
Y.buffer=_.buffer;Y.rect=_.rect.clone()}jP.tA(F,1);jP.pt(F,[0,0,b,jU])}else if(T=="PTH"){Y.DN(p.OBN?p.OBN:"Path");
Y.pM|=16;var cY=!1;y(Y,p,r);var j3=Y.add.vmsk,aS=Y.add.vstk,bL=k.A.eu(j3.i),cQ=p.PAT,cK=cQ.BPL,el=cQ.FPL,gF=cQ.TXF;
if(el&&el.FEF)j3.Dc+=el.FEF/2.4;if(cK){var fj=cK.CAT;aS.strokeEnabled.v=!0;aS.strokeStyleLineWidth.v.val=cK.BDI;
aS.strokeStyleLineAlignment.v.strokeStyleLineAlignment=et._T.QY[p.BRP];h(cQ.BCL,aS.strokeStyleContent.v);
if(fj!="bc_Basic"&&fj!="bc_Pencil")cY=!0}if(el==null){aS.fillEnabled.v=!1;Y.add.SoCo=JSON.parse(et.MO[et.order.indexOf("SoFi")]);
h(0,Y.add.SoCo)}else if(el.CAT=="fc_Solid"){Y.add.SoCo=JSON.parse(et.MO[et.order.indexOf("SoFi")]);h(p.PAT.FCL,Y.add.SoCo)}else if(el.CAT=="fc_Linear"||el.CAT=="fc_Circular"||el.CAT=="fc_Elliptical"){var i3=el.CAT=="fc_Linear",eT=Y.add.GdFl=JSON.parse(et.MO[et.order.indexOf("GrFl")]),eV=eT.Grad.v,hr=[],it=el.FGL,f8,i$=[];
if(it.FGY){var gS=it.FGY,f8=gS.FG0.FGI,i$=gS.FG1.FGI}else f8=it.FGV.FGI;for(var t=0;t<f8.length;t++){var hT=f8[t],gL=d(hT.FGC),iu=1;
if(i$.length==f8.length)iu=d(i$[t].FGC)[0];hr.push([hT.FGP,gL.slice(1),iu])}eT.Type.v.GrdT=i3?"Lnr":"Rdl";
k.M.wX(hr,eV);eV.Intr.v=0;var dB=p.PRI?p.PRI:p,jt=new cq(dB.PSX,dB.PSY),ka=new cq(dB.PEX,dB.PEY);if(el.CAT=="fc_Elliptical"&&dB.PFX!=null){var eQ=new cq(dB.PFX,dB.PFY),dv=cq.ED(jt,ka),cT=cq.ED(jt,eQ);
if(cT<dv){var eY=dv;dv=cT;cT=eY}ka=new cq(jt.x+(dv+cT)/2,jt.y);if(dv/cT<.5)cY=!0}if(i3){jt.x=(jt.x+ka.x)/2;
jt.y=(jt.y+ka.y)/2}k.M.EU(jt,ka,bL,eT)}else console.log(el.CAT);var Z=Y.add.lmfx=a(p.EFL,j3);if(el&&el.FTB!=0&&gF){var V=f(gF.MSK,E),gl={};
gl.id=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f";gl.name="someImage";gl.Jz=V;C.pk(gl);var dY=V[0];for(var t=0;
t<dY.length;t+=4){dY[t+3]=255-dY[t];dY[t]=dY[t+1]=dY[t+2]=255}var eT=JSON.parse(et.MO[et.order.indexOf("patternFill")]);
eT.Opct.v.val=Math.round(el.FTB/10);eT.Algn.v=!0;eT.Ptrn.v.Idnt.v=gl.id;Z.patternFillMulti.v.unshift({t:"Objc",v:eT})}if(cY&&p.IMG){U(p.IMG,C,"IMG",E,r);
var gE=C.B[C.B.length-1];gE.opacity=Y.opacity;return}Y.Yt();Y.ET(C)}else if(T=="URL")return;else{console.log("unknown layer type",T,p);
Y.DN("Layer")}C.B.push(Y)}function y(p,C,T){if(C.PBL==null)return;var E=p.add.vmsk=new H.LF,r=p.add.vstk=JSON.parse(JSON.stringify(et._T.default)),Y=C.PBL.PBP;
if(!(Y instanceof Array))Y=[Y];for(var S=0;S<Y.length;S++){var m=Y[S].PBT;if(m==null)continue;if(!(m instanceof Array))m=[m];
var Q=Y[S].ISC?0:3;E.i.push({type:Q,length:m.length,N0:0,Ur:2,Qb:0,Vb:0});for(var t=0;t<m.length;t++){var z=m[t],n=z.XLC,Z=z.YLC,P=[n,Z,n,Z,n,Z],V="XPC YPC XLC YLC XSC YSC".split(" ");
for(var I=0;I<6;I++){var q=V[I],X=z[q];if(X!=null)P[I]=X}E.i.push({type:Q+2,F:new cq(n,Z),Q2:new cq(P[0],P[1]),ua:new cq(P[4],P[5])})}}k.A.mu(E.i,T)}function a(p,C){var T=JSON.parse(et.default);
for(var t=0;t<et.order.length;t++)T[et.CE[t]]={t:"VlLs",v:[]};if(p==null)return T;var E=p.EPS;if(!(E instanceof Array))E=[E];
for(var t=0;t<E.length;t++){var r=E[t].DCE,Y={};for(var S=0;S<r.length;S++)Y[r[S].DCK]=r[S].DCV;if(Y.EffectIsVisible=="false")continue;
var m=Y.mkbFile_WriteOnly_TemporaryEffectUiName;if(m=="Gaussian Blur..."&&C){C.Dc+=parseFloat(Y.gaussian_blur_radius);
continue}var Q=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(m);if(Q==-1){continue}var z=["DrSh","ebbl","IrGl","OrGl"][Q],n=et.CE[et.order.indexOf(z)],Z=JSON.parse(et.MO[et.order.indexOf(z)]);
T[n].v.unshift({t:"Objc",v:Z});if(z=="DrSh"){Z.uglg.v=!1;v(Y,"ShadowDistance",Z,"Dstn");v(Y,"ShadowBlur",Z,"blur");
v(Y,"ShadowAngle",Z,"lagl",180);Z.Opct.v.val=100;c(Y,"ShadowColor",Z,"Clr")}if(z=="IrGl"){Z.Md.v.BlnM="Nrml";
var P=Y.MaskSoftness,V=Y.GlowWidth;if(P&&V){P=parseInt(P);V=parseInt(V);Z.blur.v.val=V+P;Z.Ckmt.v.val=Math.round(100*V/(V+P))}v(Y,"BevelContrast",Z,"Opct");
c(Y,"OuterBevelColor",Z,"Clr")}if(z=="OrGl"){Z.Md.v.BlnM="Nrml";var P=Y.MaskSoftness,V=Y.GlowWidth;if(P&&V){P=parseInt(P);
V=parseInt(V);Z.blur.v.val=V+P}v(Y,"BevelContrast",Z,"Opct");c(Y,"OuterBevelColor",Z,"Clr")}if(z=="ebbl"){Z.uglg.v=!1;
v(Y,"BevelWidth",Z,"blur");v(Y,"AngleSoftness",Z,"Sftn");v(Y,"BevelContrast",Z,"srgR");v(Y,"LightAngle",Z,"lagl")}}return T}function v(p,C,T,E,r){var Y=p[C];
if(r==null)r=0;if(Y)T[E].v.val=parseInt(Y)+r}function c(p,C,T,E){var r=p[C];if(r){r=r.slice(1);if(r.length==6)r=r+"ff";
if(r.length!=8)throw"e";var Y=d(parseInt(r,16)),S=T[E].v;S.Rd.v=Y[0]*255;S.Grn.v=Y[1]*255;S.Bl.v=Y[2]*255;
T.Opct.v.val=Math.round(T.Opct.v.val/100*Y[3]*100)}}return l}();function hd(){}hd.cL=function(){function i(X,B){var e=!1,F=Date.now(),s=Q(X,e);
if(e)console.log("part found",Date.now()-F);F=Date.now();var J=m(s),W=J.Layer,L=J.Header;if(e)console.log(J);
var A=W[0];A=J.Layer[0];if(e)console.log("document parsed",Date.now()-F);F=Date.now();J.Setup.Gradient=S(J.Setup.Gradient,s);
if(e)console.log("grads loaded",Date.now()-F);F=Date.now();J.Setup.Pattern=Y(J.Setup.Pattern,s);if(e)console.log("patts loaded",Date.now()-F);
F=Date.now();J.Setup.DocumentData=r(J.Setup.DocumentData,s).pop();if(e)console.log("docdata loaded",Date.now()-F);
F=Date.now();J.Setup.SVGFilter=r(J.Setup.SVGFilter,s);if(e)console.log("svgfilter loaded",Date.now()-F);
F=Date.now();var j=L.Cropmarks,G=L.BoundingBox.split(" ").map(parseFloat),O=L.ArtSize?L.ArtSize.split(" ").map(parseFloat):[G[2]-G[0],G[3]-G[1]];
B.e=Math.round(O[0]);B.n=Math.round(O[1]);var o=[1,0,0,1,-G[0]+(B.e-(G[2]-G[0]))/2,-G[1]+(B.n-(G[3]-G[1]))/2];
o[3]=-1;o[5]=B.n-o[5];if(j){j=j.split(" ").map(parseFloat);B.e=Math.round(j[2]-j[0]);B.n=Math.round(j[3]-j[1]);
o=[1,0,0,-1,-j[0],B.n+j[1]]}var N=J.Setup.DocumentData;if(N&&N[0]&&N[0].ArtboardArray){var w=N[0].ArtboardArray;
if(w.length!=1)console.log(w.length,"artboards");var kv=new bN,g=[];for(var t=0;t<w.length;t++){var b=w[t],jU=b.PositionPoint1,_=b.PositionPoint2,cY=jU[0],j3=Math.min(jU[1],_[1]),aS=_[0],bL=Math.max(jU[1],_[1]),cQ=new bN(cY,j3,aS-cY,bL-j3);
g.push(cQ);kv=kv.rt(cQ)}B.e=Math.round(kv.e);B.n=Math.round(kv.n);o[4]=-kv.x;o[5]=kv.y+B.n;if(w.length!=1){B.B.push(B.U4());
for(var t=0;t<g.length;t++){var b=w[t],cQ=g[t],cK=B.Dw();cK.DN(b.Name);B.B.push(cK);cK.add.SoCo=JSON.parse(et.MO[et.order.indexOf("SoFi")]);
var el=cK.add.SoCo.Clr.v;y(el,[1,1,1]);var cY=cQ.x,j3=cQ.y,aS=cY+cQ.e,bL=j3+cQ.n,gF=[cY,j3,aS,j3,aS,bL,cY,bL];
k.p.D(gF,v(o),gF);p(cK,{cmds:["M","L","L","L","Z"],crds:gF},B);cK.add.vstk=JSON.parse(JSON.stringify(et._T.default))}var cK=B.Dw();
cK.DN("_Artboards_");cK.add.lsct=gX.qC;cK.R$="pass";cK.pM=24;B.B.push(cK)}}if(N&&N[0]&&N[0]["#document"]){var fj=N[0]["#document"],i3=fj["xmlnode-children"][0];
if(i3&&i3["xmlnode-children"])i3=i3["xmlnode-children"][0];if(i3["xmlnode-nodename"]=="variableSets"){var eT=i3["xmlnode-children"][0]["xmlnode-children"],eV=eT[0],hr=eT[1],it=q(eV);
B.H0=b_.ew("<variableSets><variableSet>"+it+"</variableSet></variableSets>");if(hr){var f8=q(hr),i$=B.OH=b_.o$(f8);
for(var t=0;t<i$.length;t++)for(var gS=0;gS<i$[t].length;gS++)i$[t][gS]=i$[t][gS].trim()}}}var hT=as.sR(new bN(0,0,B.e,B.n),8192*8192);
while(B.e*B.n*hT*hT<800*800)hT*=2;B.e=Math.round(B.e*hT);B.n=Math.round(B.n*hT);B._m=Math.round(72*hT);
B.buffer=k.Q(B.e*B.n*4);for(var t=0;t<6;t++)o[t]*=hT;h=[0,0,0];d=[0,0,0];K="SoCo";for(var gL=0;gL<W.length;
gL++){var iu=W[gL];iu.Raster=$(iu,"Raster");iu.Place=$(iu,"Place");var dB=T(s,iu);f(B,dB,o,J,iu,s)}if(e)console.log("layers created",Date.now()-F);
F=Date.now()}function $(X,B){var e=X.Layer,F=X[B];if(F==null)F=[];if(e){for(var t=0;t<e.length;t++){var s=e[t],J=s[B]=$(s,B);
F=F.concat(J)}F.sort(function(W,L){return W._begin-L._begin})}return F}var h,d,K;function f(X,B,e,F,s,J){var W="",L=0,A="",j=!1,G={},O=UDOC.G,o=UDOC.getState(),N="norm",w=1,kv=!1,g=0,jU=null,_=!1,cY=0,j3=null,aS,bL,cQ=0,cK=0,el=0,i3=0,eT=!1;
o.ctm=e;var b=[],gF=[],fj=[];for(var eV=0;eV<B.length;eV++){var hr=B[eV],gS=1e9;if(hr[0]=="%"){if(hr=="%_/ArtDictionary :"&&cY==0)jU=[hr.slice(2)];
else if(jU!=null){if(hr=="%_"&&cY==0){var it=Z(jU)[0],f8=it.AI10_ArtUID;if(f8&&!f8.startsWith("XMLID"))X.B[X.B.length-1].DN(V(f8));
jU=null}else{jU.push(hr.slice(_?1:2));if(hr=="%_X=")cY++;if(hr=="%_X+")cY--;if(hr=="%_/Binary : /ASCII85Decode ,")_=!0;
if(_&&hr.endsWith("~>"))_=!1}}else if(j3){aS+=(aS==""?"":" ")+hr.slice(2);if(aS.endsWith("X#")){j3.push(aS.slice(0,aS.length-3));
aS=""}}continue}else if(hr=="/Mesh X!"){j3=[];aS="";continue}else if(hr=="/End X!"){l(j3,o,X);j3=null;
continue}var i$="Xa XR m l c f U u *U w J j M d".split(" "),hT=-1,gL=hr.indexOf("(")!=-1;for(var t=0;
t<i$.length;t++){var iu=hr.indexOf(" "+i$[t]+" ");if(iu!=-1&&iu<gS&&!gL){gS=iu;hT=t}}if(hT!=-1){j=!0;
var dB=gS+1+i$[hT].length;B[eV]=hr.slice(0,dB);var jt=B[eV+1];if(jt==null||jt[0]=="%"||hT>9)B.splice(eV+1,0,hr.slice(dB));
else B[eV+1]=(hr.slice(dB)+" "+jt).replace(/\s\s+/g," ");eV--;continue}hr=hr.trim();var ka=hr.split(" "),eQ=ka[ka.length-1],dv=eQ.toLowerCase(),cT=ka.map(parseFloat);
if(eQ=="m")O.moveTo(o,cT[0],cT[1]);else if(eQ=="L"||eQ=="l")O.lineTo(o,cT[0],cT[1]);else if(eQ=="V"||eQ=="v"||eQ=="Y"||eQ=="y")O.quadCurveTo(o,cT[0],cT[1],cT[2],cT[3]);
else if(eQ=="C"||eQ=="c")O.curveTo(o,cT[0],cT[1],cT[2],cT[3],cT[4],cT[5]);else if(eQ=="H"||eQ=="h"){if(eQ==dv)O.closePath(o);
b.push(JSON.parse(JSON.stringify(o.pth)))}else if(eQ=="Xy"){N=["norm","mul ","scrn","over","sLit",null,"div "][cT[0]];
w=cT[1];if(N==null){N="norm";console.log("unknown blend mode",cT[0])}}else if(eQ=="Xd"){var eY=X.B[X.B.length-1];
eY.opacity=Math.round(255*w);eY.R$=eY.BT()&&N=="norm"?"pass":N}else if(eQ=="AE")cQ=cT[0];else if(eQ=="Ae")cK=cT[0];
else if(eQ=="Xw")el=cT[0];else if(eQ=="*"){var gl=o.pth.crds,dY=o.ctm,iu=gl[0]==gl[2]?0:1;X.C9.push([iu,gl[iu]]);
O.newPath(o)}else if(eQ=="XN")bL=hr.split(" ")[0];else if(eQ=="XI"){var gE=s.Raster,cs,au;if(gE==null||gE.length==0){console.log("no Raster");
continue}if(hr!="XI"){continue}else{if(gE[L].Data==null){continue}var b8=gE[L++].Data,jw=b8._begin,ek=b8._end;
while(J[jw]!=88)jw++;jw+=3;cs=J.slice(jw,ek);au=B[eV-2].split(" ").map(parseFloat)}var cj=au.slice(8),jJ=cj[2],hp=cj[3],dW=jJ*hp,h4=k.Q(dW*4);
h4.fill(255);var er=cj[7],hG=cj[8],i_=cj[6],aK=Math.ceil(jJ*er*i_/8);if(er==1){if(i_==8)for(var t=0;
t<dW;t++)for(var bG=0;bG<3;bG++)h4[4*t+bG]=cs[t];else if(i_==1)for(var dx=0;dx<hp;dx++)for(var aH=0;
aH<jJ;aH++)for(var bG=0;bG<3;bG++)h4[4*(dx*jJ+aH)+bG]=255*(cs[dx*aK+(aH>>>3)]>>>7-(aH&7)&1);else throw i_}else if(er==3)for(var t=0;
t<dW;t++)for(var bG=0;bG<3;bG++)h4[4*t+bG]=cs[3*t+bG];else if(er==4||er==5)for(var t=0;t<dW;t++){var cU=c([cs[er*t+0]/255,cs[er*t+1]/255,cs[er*t+2]/255,cs[er*t+3]/255]);
h4[4*t+0]=cU[0]*255;h4[4*t+1]=cU[1]*255;h4[4*t+2]=cU[2]*255}else if(er==7)for(var t=0;t<dW;t++){h4[4*t+0]=cs[er*t+0];
h4[4*t+1]=cs[er*t+1];h4[4*t+2]=cs[er*t+2]}else console.log("unknown number of channels",er);if(hG==1){var kr=hp*aK;
for(var t=0;t<dW;t++)h4[4*t+3]=cs[kr+t]}var cL=k.LN(h4,jJ,hp)?"JPG":"PNG";if(jJ*hp<700*700)cL="PNG";
var aj=em.Q_(cL).Pa([[h4.buffer]],jJ,hp),js=X.UJ(new Uint8Array(aj),"<Image>",0,0);X.B.push(js);js.R$=N;
js.opacity=Math.round(255*w);js.DJ(el==0);var e=new ej;e.scale(1,-1);e.concat(v(au.slice(1)));e.concat(v(o.ctm));
var ey=js.rect.clone();ey.x=ey.y=0;var ka=k.p.Hg(ey).C;k.p.D(ka,e,ka);js.add.SoLd.Trnf=D.vA.j7(ka);js.add.SoLd.nonAffineTransform=D.vA.j7(ka);
js.u8(X,!1)}else if(eQ=="Ln"){W=U(hr)}else if(eQ=="u"||eQ=="q"||eQ=="Lb"){gF.push(cK==1);fj.push((eQ=="Lb"?1-cT[0]:el)==0);
if(kv)continue;X.B.push(X.U4())}else if(eQ=="U"||eQ=="Q"||eQ=="LB"){if(gF.length==0||fj.length==0)throw eV;
var dr=gF.pop(),df=fj.pop();if(eQ=="LB")dr=cQ==1;if(kv)continue;var js=X.Dw();js.DN((eQ=="U"?"<Group>":"<Clip Group>")+A);
if(eQ=="LB")js.DN(W);if(eQ=="Q"&&b.length!=0){var af=b.pop(),cB=UDOC.G.isBox(af,[0,0,X.e,X.n]);if(!cB)p(js,af,X)}js.add.lsct=dr?gX.DU:gX.qC;
js.R$="pass";js.pM=24;js.DJ(df);X.B.push(js);if(eT){if(X.B[X.B.length-3].getName()=="</Layer group>"){X.B.pop();
X.B.splice(X.B.length-2,1)}eT=!1}}else if(eQ=="Bb"||eQ=="Bh"||eQ=="BB"){}else if(eQ=="Bg"){var iq=F.Setup.Gradient,cV=iq[U(hr)];
if(cV==null){console.log("gradient not found");for(var gf in iq){cV=iq[gf];break}}K="GdFl";h=u(cV.Ww,cV.ahU)}else if(eQ=="Bm"||eQ=="Xm"){var ge=h.Type.v.GrdT;
if(ge=="Lnr"&&eQ!="Xm"||ge=="Rdl"&&eQ!="Bm")continue;var da=new cq(0,0),aO=new cq(1,0),eb=new ej;eb.concat(v(cT));
eb.concat(v(o.ctm));da=eb.hb(da);aO=eb.hb(aO);var ag=k.p.nP(o.pth.crds);if(ag.NT())ag=k.p.nP([da.x,da.y,aO.x,aO.y]);
if(ge=="Lnr"){da.x=(da.x+aO.x)/2;da.y=(da.y+aO.y)/2}k.M.EU(da,aO,ag,h)}else if(eQ=="p"){var dX=U(hr),gP=F.Setup.Pattern[dX];
if(gP.raw==null){var ag=gP.yg,jJ=Math.round(ag[2]-ag[0]),hp=Math.round(ag[3]-ag[1]),it=new hR;it.e=jJ;
it.n=hp;it.buffer=k.Q(jJ*hp*4);f(it,gP.rl,[1,0,0,-1,-gP.yg[0],hp+gP.yg[1]],F,s,J);gP.raw=new Uint8Array(em.Q_("PSD").Pa(it))}var cm=hr.slice(hr.indexOf(")")+2),gO=cm.slice(0,cm.indexOf("[")-1).split(" ").map(parseFloat),bO=cm.slice(cm.indexOf("[")+1,cm.indexOf("]")).split(" ").map(parseFloat);
K="patt";h=[dX,gO,bO]}else if(eQ=="J"||eQ=="j"||eQ=="w"||eQ=="M"||eQ=="d"){for(var t=1;t<ka.length;t++){var gb=ka[t],dk=cT[t-1];
if(gb=="w")o.lwidth=dk;if(gb=="j")o.ljoin=dk;if(gb=="J")o.lcap=dk;if(gb=="d"){var cw=hr.slice(hr.indexOf("[")+1,hr.indexOf("]")).trim();
if(cw.length!=0){var gN=cw.split(" ").map(parseFloat);o.dash=gN}else if(cw=="")o.dash=[]}}}else if(dv=="xa"||dv=="xx"){var ci=cT[4]==null?cT.slice(0,3):[cT[4],cT[5],cT[6]];
if(dv=="xx"&&cT[cT.length-2]==2)ci=c(cT);K="SoCo";if(eQ=="Xa"||eQ=="Xx")h=ci;else d=ci}else if(dv=="xk"){var ci,jq=cT[cT.length-2],ea=cT[cT.length-3];
if(jq==0)ci=c(cT);else if(jq==1){ci=[cT[4],cT[5],cT[6]];for(var t=0;t<3;t++)ci[t]=ea*1+(1-ea)*ci[t]}else throw hr;
K="SoCo";if(eQ=="Xk")h=ci;else d=ci}else if(dv=="k"||dv=="x"){if(dv=="x"){cT.pop();var kc=1-cT.pop();
for(var t=0;t<4;t++)cT[t]*=kc}var ci=c(cT);K="SoCo";if(eQ==dv)h=ci;else d=ci}else if(dv=="g"){var ci=[cT[0],cT[0],cT[0]];
K="SoCo";if(eQ==dv)h=ci;else d=ci}else if(dv=="n"){if(!kv)O.newPath(o)}else if(eQ=="*u"){kv=!0;g=0}else if(eQ=="*U"||dv=="s"||dv=="f"||dv=="b"){if(eQ!="*U"&&kv){if(dv=="f"||dv=="b")g|=1;
if(dv=="s"||dv=="b")g|=2;continue}if(eQ==dv)O.closePath(o);if(eQ=="*U"){kv=!1}var js;if(K=="patt"){var gP=F.Setup.Pattern[h[0]];
js=X.UJ(gP.raw,"<Pattern>",0,0);var ey=js.rect.clone();ey.x=ey.y=0;var ka=k.p.Hg(ey).C,bO=v(h[2]);bO.wQ=bO.FQ=0;
k.p.D(ka,bO,ka);js.add.SoLd.Trnf=D.vA.j7(ka);js.add.SoLd.nonAffineTransform=D.vA.j7(ka);js.u8(X,!1)}else{js=X.Dw();
js.pM|=16;var jE=js.add.vstk=JSON.parse(JSON.stringify(et._T.default));jE.strokeEnabled.v=jE.fillEnabled.v=!1;
if(K=="SoCo"){js.add.SoCo=JSON.parse(et.MO[et.order.indexOf("SoFi")]);var hc=js.add.SoCo.Clr.v;y(hc,h)}if(K=="GdFl")js.add.GdFl=h;
if(dv=="f"||dv=="b"||eQ=="*U"&&g&1)jE.fillEnabled.v=!0;if(dv=="s"||dv=="b"||eQ=="*U"&&g&2)kg.Xp(jE,o,1,kg.GD(d))}js.DN("<"+(eQ=="*U"?"Compound ":"")+"Path>"+A);
js.R$=N;js.opacity=Math.round(255*w);js.DJ(el==0);p(js,o.pth,X);X.B.push(js);O.newPath(o)}else if(eQ==","&&ka[0]=="/XMLUID"){var eY=X.B[X.B.length-1];
for(var t=0;t<X.H0.length;t++)if("("+X.H0[t].docRef+")"==ka[2])X.H0[t].docRef="id('"+eY.add.lyid+"')"}else if(eQ==","&&ka[1]=="/FreeUndo"){i3=cT[0]}else if(eQ==","&&ka[1]=="/StoryIndex"){var dL=F.Setup.TextDocument,gd=null;
if(!(dL instanceof Array))dL=F.Setup.TextDocument=E(dL,J);var a5=dL[0],dd=dL[2];if(a5._DocumentResources)a5=dL[0]=g4.ahW(a5);
else g4.aeA(a5);var js=X.Dw();js.add.lnsr="rend";js.add.TySh=jP.Aj(0,0);var a2=cT[0];if(i3==1){for(var t=1;
t<60;t++){var jt=B[eV+t];if(jt.endsWith("/StoryIndex ,")){a2=parseFloat(jt.slice(2,jt.indexOf(" ")));
eT=!0;break}}i3=0}var aW=iR.acc(a5),fh=js.add.TySh.$D=aW[a2];if(fh==null){console.log("text not found");
eT=!1;continue}js.DN(jP.Gs(fh).slice(0,50));js.R$=N;js.opacity=Math.round(255*w);js.DJ(el==0);var kc=a5._1._1[a2]._1._0[0]._0;
kc=parseInt(kc.slice(1));var he=a5._0._8._0,g$=he[kc]._0;if(g$._0)gd=a(g$._0);else if(g$._1)gd=a(g$._1._0);
else gd=a(g$._2._2).slice(3);if(gd.length!=2){var ag=k.p.nP(gd);gd=[ag.x,ag.y];if(ag.O()!=0){jP.tA(fh,1);
jP.pt(fh,[0,0,Math.round(ag.e),Math.round(ag.n)])}}var dn=new ej,g5=new ej(1,0,0,1,gd[0],gd[1]),g_=new ej(1,0,0,1,-dd[0],-dd[1]),cC=v(o.ctm),gC=new ej;
if(g$._2&&g$._2._2){var e=a(g$._2._2);gC=new ej(e[0],e[1],e[2],e[3],e[4],e[5])}dn.concat(g5);dn.concat(gC);
dn.concat(g_);dn.scale(1,-1);dn.concat(cC);js.add.TySh.D=dn;X.B.push(js);X.Od=!0}else if(eQ=="Tp"){G.eE=v(cT)}else if(eQ=="Tf"){G.font=ka[0].slice(2)}else if(eQ=="Tk"){var js=X.Dw();
js.add.lnsr="rend";var g1=js.add.TySh=jP.Aj(0,0),fh=g1.$D,eb=G.eE.clone(),dy=eb.Qa();eb.concat(v(o.ctm));
var iH=new ej(1/dy,0,0,-1/dy,0,0);iH.concat(eb);g1.D=iH;var cc=U(hr);js.DN(cc);jP.uE(fh,0,cc);var a3=jP.Zg(fh,0,cc.length);
a3.TL.FontSize=dy;a3.TL.FillColor={Type:1,Values:[1,h[0],h[1],h[2]]};jP.Qr(a3,G.font);jP.jV(fh,0,cc.length,a3);
X.B.push(js);X.Od=!0}else if(j&&cT.length>3){var jN=!1;for(var t=0;t<cT.length;t++)if(isNaN(cT[t]))jN=!0;
if(!jN)B[eV+1]=(hr+" "+B[eV+1]).replace(/\s\s+/g," ")}}}function l(X,B,e){var F=UDOC.G,s=[],J=[],W="/DeviceGray",L=1,A=[],j=1;
for(var G=0;G<X.length;G++){var O=X[G];if(O.endsWith(" /CS")){var o=O.indexOf("/NChannel"),N=O.indexOf("/Process");
if(O.startsWith("/DeviceRGB")){W="/DeviceRGB";L=3}else if(O.startsWith("/DeviceGray")){W="/DeviceGray";
L=1}else if(O.startsWith("/DeviceCMYK")){W="/DeviceCMYK";L=4;A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(o!=-1){W="/DeviceCMYK";
L=parseInt(O.slice(o-2,o-1));var w=1;for(var t=0;t<L;t++){w=O.indexOf("[",w);A[L-1-t]=O.slice(w+1,w+8).split(" ").map(parseFloat);
w++}}else if(N){W="/DeviceGray";L=1}else throw O}else if(O[0]=="["){var kv=O.indexOf("]"),g=O.slice(1,kv).split(" ").map(parseFloat),b=O.slice(kv+2),jU,_,cY,j3,aS,bL;
if(b=="/Size"||b=="/P"||b=="/R")continue;if(b=="/S"||b=="/A"){jU=g[0];_=g[1];cY=g[2];j3=g[3];aS=g[4];
bL=g[5]}else if(b=="/N"){var cQ=L+(j==1?0:1),cK;jU=g[cQ+0];_=g[cQ+1];cY=g[cQ+2];j3=g[cQ+3];aS=g[cQ+5];
bL=g[cQ+6];if(W=="/DeviceRGB")cK=g.slice(0,3);else if(W=="/DeviceGray")cK=[g[0],g[0],g[0]];else if(W=="/DeviceCMYK"){var el=[0,0,0,0];
for(var t=0;t<L;t++){var gF=g[t],fj=A[t];el[0]+=gF*fj[0];el[1]+=gF*fj[1];el[2]+=gF*fj[2];el[3]+=gF*fj[3]}cK=c(el)}else throw cK;
cK.push(g[L]);J.push([cK,jU,_])}else throw b;s.push([b,aS,bL,jU,_,cY,j3])}else if(O=="/E"){var i3=s.slice(0),eT=0;
for(var t=0;t<s.length;t++){var eV=s[t][0];if(eV=="/N"){eT++;continue}var hr=t,it=t+1;while(s[it][0]!="/N"&&it<s.length)it++;
if(eT==0||eT==3){for(var f8=0;f8<it-hr;f8++)i3[hr+f8]=s[it-1-f8]}else for(var f8=hr;f8<it;f8++){var i$=i3[f8],gS=i$[1];
i$[1]=i$[5];i$[5]=gS;gS=i$[2];i$[2]=i$[6];i$[6]=gS}t=it-1}s=[];for(var t=0;t<i3.length;t++){var i$=i3[t];
s.push(i$[1],i$[2],i$[3],i$[4],i$[5],i$[6])}var hT=s.length;F.moveTo(B,s[2],s[3]);for(var t=0;t<hT;t+=6){var cY=s[(t+4)%hT],j3=s[(t+5)%hT],aS=s[(t+6)%hT],bL=s[(t+7)%hT],jU=s[(t+8)%hT],_=s[(t+9)%hT];
F.curveTo(B,cY,j3,aS,bL,jU,_)}F.closePath(B);s=[]}else if(O.endsWith("/Version"))j=parseFloat(O[0])}var gL=e.Dw();
gL.pM|=16;gL.DN("<Mesh>");var iu=gL.add.vstk=JSON.parse(JSON.stringify(et._T.default));iu.strokeEnabled.v=!1;
if(J.length>=2){var dB=0,jt=0,ka=0;for(var t=0;t<J.length;t++)for(var f8=t+1;f8<J.length;f8++){var eQ=J[t][0],dv=J[f8][0],cT=eQ[0]-dv[0],eY=eQ[1]-dv[1],gl=eQ[2]-dv[2],dY=Math.sqrt(cT*cT+eY*eY+gl*gl);
if(dY>ka){ka=dY;dB=t;jt=f8}}var gE=J[dB],cs=J[jt],au=gL.add.GdFl=u(0,[[0,gE[0]],[1,cs[0]]]),b8=v(B.ctm),jw=b8.hb(new cq(gE[1],gE[2])),ek=b8.hb(new cq(cs[1],cs[2])),cj=k.p.nP(B.pth.crds);
jw.x=(jw.x+ek.x)/2;jw.y=(jw.y+ek.y)/2;k.M.EU(jw,ek,cj,au)}p(gL,B.pth,e);e.B.push(gL);F.newPath(B)}function u(X,B){var h=JSON.parse(et.MO[et.order.indexOf("GrFl")]),e=h.Grad.v;
e.Intr.v=0;h.Type.v.GrdT=["Lnr","Rdl"][X];k.M.wX(B,e);return h}function U(X){var B=X.indexOf(")");while(X[B-1]=="\\")B=X.indexOf(")",B+1);
return X.slice(X.indexOf("(")+1,B).replaceAll("\\","")}function y(X,h){X.Rd.v=h[0]*255;X.Grn.v=h[1]*255;
X.Bl.v=h[2]*255}function a(X){var B=[];for(var t=0;t<X.length;t++)B[t]=parseFloat(X[t].slice(1));return B}function v(X){return new ej(X[0],X[1],X[2],X[3],X[4],X[5])}function c(X){return UDOC.C.cmykToRgb(X)}function p(X,B,e){X.add.vmsk=new H.LF;
if(B.crds.length!=0)X.add.vmsk.i=C(B);X.Yt();X.ET(e)}function C(X){var B={C:X.crds,H:X.cmds},e=k.p.Kg(B,!1);
return e}function T(X,B){var e=[],j=0,N=0;for(var F=0;F<2;F++){var s=B[["Raster","Place"][F]];if(s){for(var t=0;
t<s.length;t++){var J=s[t][["Data","PlacedObjectPreview"][F]];if(J==null)continue;var W=J._begin,L=J._end;
if(W>L)W=L;e.push([W,L])}}}e.sort(function(kv,g){return kv[0]-g[0]});var A=[B._begin];for(var t=0;t<e.length;
t++){var G=e[t],W=G[0]+32;A.push(W,G[1]);j+=G[1]-W}A.push(B._end);var O=B._end-B._begin,o=new Uint8Array(O-j);
for(var t=0;t<A.length;t+=2){var W=A[t],w=A[t+1]-W;o.set(new Uint8Array(X.buffer,W,w),N);N+=w}return M.kV(o).split(/\r\n|\r|\n/)}function E(X,B){if(X==null)return[];
var e=T(B,X),F="",s="",J=0,W;for(var t=2;t<e.length;t++){var L=e[t];if(L[0]=="%"){if(J==0)F+=L.slice(1);
else s+=L.slice(1)}else if(L==";")J++;else if(L.endsWith("/RulerOrigin ,"))W=L.split(" ").slice(0,2).map(parseFloat)}var A=[F,s],j=[];
for(var t=0;t<2;t++){var G=A[t],O=new Uint8Array(G.length);M.vI(O,0,G);var o=FromPS.F.ASCII85Decode({buff:O,off:0}),N=e1.cL(o);
j.push(N)}j.push(W);return j}function r(X,B){if(X==null)return[];var e=T(B,X);e=e.slice(1);for(var t=0;
t<e.length;t++){var F=e[t];if(F[0]=="%")e[t]=F.slice(F[1]=="_"?2:1)}var s=Z(e);return s}function Y(X,B){var e={};
if(X==null)return e;for(var t=0;t<X.length;t++){var F=T(B,X[t]),s=F[1],J=U(s),W=s.slice(s.indexOf(")")+2).split(" ").map(parseFloat),L=[];
for(var A=2;A<F.length;A++)L.push(F[A].slice(2));e[J]={yg:W,rl:L}}return e}function S(X,B){var e={},F,s;
if(X==null)return e;var J=[];for(var t=0;t<X.length;t++){var W=T(B,X[t]);for(var L=0;L<W.length;L++){var A=W[L];
if(A.endsWith("%_Bs")){var j=A.slice(0,A.length-4);if(!j.endsWith(" "))j+=" ";A=j+"%_BS"}if(A[0]=="("){F=U(A);
var G=A.split(")"),O=G[1].split(" ");s=parseInt(O[1])}else if(A.endsWith("%_BS")){var G=A.split(" "),kv,g=1;
G.pop();G=G.map(parseFloat);var o=G.pop(),N=G.pop(),w=G.pop();if(w==0)kv=[G[0],G[0],G[0]];else if(w==2||w==4)kv=[G[4],G[5],G[6]];
else if(w==1||w==3)kv=c(G);else if(w==6){if(G.length==3)kv=[G[0],G[0],G[0]];else kv=c(G);g=G.pop()}else{throw w}J.push([o/100,kv,g,N/100])}else if(A=="BD"){for(var b=0;
b<J.length-1;b++)J[b][3]=J[b+1][3];J.sort(function(jU,_){return jU[0]-_[0]});e[F]={Ww:s,ahU:J};J=[]}}}return e}function m(X){var B="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),e=Date.now(),F=0,s=[],J={Header:{}},W=[J],L=X.length;
while(F<L){var A=F;while(A!=L&&X[A]!=13&&X[A]!=10){A++}if(X[F]==37&&X[F+1]==95&&X[F+2]==37)F+=2;if(X[F]==37&&(X[F+1]==37||X[F+1]==65)){var j=M.uX(X,F,A-F);
if(j=="%%EOF")break;if(j=="%%EndComments"||j=="%EndComments"||j=="%AI5_Begin_NonPrinting"||j=="%AI5_End_NonPrinting--"||j.startsWith("%AI17_Begin_Content_if_version_gt")||j=="%AI17_End_Versioned_Content"){}else{var G=j.indexOf("Begin"),O=Math.max(j.indexOf("_End"),j.indexOf("%End"));
if(G!=-1&&j[G-1]!="%"&&j[G-1]!="_")G=-1;if(G!=-1){var o=j.slice(G+5).split(":")[0],N={_begin:F,_end:F},w=W[W.length-1];
if(B.indexOf(o)!=-1){if(w[o]==null)w[o]=[];w[o].push(N)}else{if(w[o]!=null){console.log(W);throw j}w[o]=N}W.push(N);
if(j.startsWith("%%BeginData")){A=M.gr(X,"%%EndData",F)}else if(j=="%AI9_BeginDocumentData")A=M.gr(X,"%AI9_EndDocumentData",A);
else if(j=="%AI11_BeginTextDocument")A=M.gr(X,"%AI11_EndTextDocument",A)}else if(O!=-1){W.pop()._end=F}else if(W.length==1&&(j.startsWith("%AI")||j.startsWith("%%")&&j.indexOf(" ")!=-1)){var kv=1;
if(j.startsWith("%AI"))while(j[kv]!="_"&&kv<j.length)kv++;var g=j.indexOf(":");if(g==-1)g=j.indexOf(" ");
var b=j.slice(kv+1,g),jU=j.slice(g+1).trim();J.Header[b]=jU}}}F=A;if(X[F]==13)F++;if(X[F]==10)F++}return J}function Q(X,B){var e=Date.now(),F=new Uint8Array(X),s,J=F[2]==68;
if(B)console.log(!J?"EPS":"PDF");if(J){var W=M.gr(F,"/AIMetaData "),j3=!1,aS=!1;while(F[W]!=60)W--;W--;
var L=M.gr(F,">>",W),A=M.uX(F,W+2,L-W-2).split("/"),j=[];for(var t=0;t<A.length;t++){var G=A[t],O=G.startsWith("AIPrivateData"),o=G.startsWith("AIPDFPrivateData");
if(!O&&!o)continue;var N=G.trim().split(/\s+/),w=parseInt(N[1]),kv=parseInt(N[0].slice(O?13:16));j.push([kv,w])}if(B)console.log("--- map made",Date.now()-e);
e=Date.now();var g=FromPDF.indexOfXref(F),b=[],jU=FromPDF.readXrefTrail(F,g,b),_={buff:F,off:0},cY=new Array(j.length),bL=W;
for(var t=0;t<j.length;t++){var kv=j[t][0],w=j[t][1],cQ=FromPDF.getIndirect(w,0,_,b),cK=cQ.buff,el=cQ["/Filter"],gF=0;
if(el!=null&&typeof el=="string")el=[el];var fj=M.uX(cK,gF,gF+20);if(fj=="%AI12_CompressedData"){gF+=20;
j3=!0}else if(fj=="%AI24_ZStandard_Data"){gF+=20;aS=!0}cK=new Uint8Array(cK.buffer,cK.byteOffset+gF,cK.length-gF);
if(el)for(var i3=0;i3<el.length;i3++){var eT=el[i3];if(eT=="/FlateDecode")cK=pako.inflate(cK);else if(eT=="/ASCIIHexDecode")cK=FromPS.F.HexDecode({buff:cK,off:0});
else if(eT=="/ASCII85Decode")cK=FromPS.F.ASCII85Decode({buff:cK,off:0});else throw eT}cY[kv-1]=cK}if(B)console.log("--- arrays found",Date.now()-e);
e=Date.now();var eV=M.uX(cY[0],0,13);if(eV=="%%BoundingBox"||eV=="%AI7_Thumbnai")cY=cY.slice(1);if(eV=="%AI24_ZStanda"){cY[0]=cY[0].slice(20);
aS=!0}if(M.uX(cY[0],0,13)=="%AI12_Compres"){cY[0]=cY[0].slice(20);j3=!0}s=z(cY);if(B)console.log("--- concatenated",Date.now()-e);
e=Date.now();if(j3)s=UZIP.inflate(s);if(aS)s=em.MZ.Ql(s);if(B)console.log("--- inflated",Date.now()-e);
e=Date.now()}else{var hr=M.kV(F);if(hr.indexOf("%AI5_BeginLayer")!=-1){s=F}else{var it=hr.split(/[\n\r]+/),f8=[],i$=!1;
for(var gS=0;gS<it.length;gS++){var hT=it[gS].trim();if(hT=="%AI9_PrivateDataEnd"){i$=!1;break}else if(hT=="%AI9_DataStream"||hT=="%AI24_DataStream"){i$=!0}else if(i$)f8.push(hT.slice(1))}var gL=M.Mr(f8.join("")),iu=FromPS.F.ASCII85Decode({buff:gL,off:0});
if(iu[0]==120&&iu[1]==156)s=UZIP.inflate(iu);else s=em.MZ.Ql(iu)}}return s}function z(X){var B=0,F=0;
for(var t=0;t<X.length;t++)B+=X[t].length;var e=new Uint8Array(B);for(var t=0;t<X.length;t++){var s=X[t];
e.set(s,F);F+=s.length}return e}function n(X,B){for(var t=0;t<B.length;t++)if(X.startsWith(B[t]))return!0;
return!1}function Z(X){var B=[],e=[],top=-1,F,s=null,J=null,W=null,L=0;for(var A=0;A<X.length;A++){var j=X[A];
if(F){j=F+j;F=null}var G="\t".repeat(B.length);if(s!=null){s.push(j);if(j.endsWith("~>")){var O=M.Mr(s.join("")),o=FromPS.F.ASCII85Decode({off:0,buff:O});
B.push(o);e.push(!1);top++;s=null}}else if(W!=null){if(j=="X+"){if(L==1){B.push(W);e.push(!1);top++;
W=null}else L--}else if(j=="X=")L++;else W.push(j)}else if(J!=null){if(j=="/Def ; "){B.push(J);e.push(!1);
top++;J=null}else J.push(j)}else if(j=="/Binary : /ASCII85Decode ,"){s=[]}else if(j=="X="){W=[];L++}else if(j=="/FillStyle : 0 O"){J=["0 O"]}else if(j=="/SVGFilter :"||j=="; /Def ;")continue;
else if(j.startsWith("/XMLUIDREF :")){var N=P(j);B[top][N[4]]=N[2]}else if(j.startsWith("/")&&j[1].toUpperCase()!=j[1].toLowerCase()){if(j.startsWith("/XMLUID")){var N=P(j);
if(e[top])throw"e";B[top][N[4]]=N[2]}if(j.startsWith("/GObjRef")){var N=P(j);if(N.length==7){if(e[top])throw"e";
B[top][N[5]]=N[2]}else{if(!e[top])throw"e";B[top].push(N[2])}}else{var w=j.startsWith("/Array")||j.startsWith("/Document");
B.push(w?[]:{});e.push(w);top++}}else if(j.endsWith(",")){var kv,g,N=P(j);N.pop();if(N[0]==";"||N.length==1||j==" ,"){g=B.pop();
e.pop();top--;kv=e[top]?null:N.pop()}else{kv=e[top]?null:N.pop();var b=N.pop(),jU=N[0];if(b=="/Int")g=parseInt(jU);
else if(b=="/Real")g=parseFloat(jU);else if(b=="/Bool")g=jU=="1";else if(b=="/String"||b=="/UnicodeString")g=N.join("");
else if(b=="/RealMatrix"||b=="/RealPoint"||b=="/RealPointRelToROrigin")g=N.map(parseFloat);else throw b}if(e[top])B[top].push(g);
else B[top][kv]=g}else if(j==";"){}else if(j==""){}else{if(j.indexOf("/RealPoint")!=-1){}else if(j.startsWith("(")&&j.endsWith(")")){}else if(j.endsWith("/RealMatrix")){}else throw j;
F=F?F+j:j}}return B}function P(X){var B=0,e=[];while(B<X.length){var F=X[B],s=F.charCodeAt(0);if(F==" ")B++;
else if(F==","||F==";"||F==":"){e.push(F);B++}else if(F=="("){var J=B+1;while(!(X[J]==")"&&X[J-1]!="\\"))J++;
var W=X.slice(B+1,J);e.push(W);B=J+1}else if(F=="/"||F=="-"||48<=s&&s<=57){var J=B;while(X[J]!=" ")J++;
e.push(X.slice(B,J));B=J}else throw F}return e}function V(X){var B="";for(var t=0;t<X.length;t++){if(X[t]=="_"&&X[t+1]=="x"){var b4=parseInt(X.slice(t+2,t+4),16);
B+=String.fromCharCode(b4);t+=4}else if(X[t]=="_")B+=" ";else B+=X[t]}return B}function I(X){var B="xmlnode-nodename",e="xmlnode-nodevalue",F="xmlnode-attributes",s="xmlnode-children",J=X[B],W=X[F],L=X[s],A={_nam:J};
for(var j in W){var G=W[j];if(Object.keys(G[F]).length!=0||G[s].length!=0)throw"e";if(G[B]!=j)throw"e";
A[j]=G[e]}if(L.length==0)return A;var O=A.cln=[];for(var t=0;t<L.length;t++)O.push(I(L[t]));return A}function q(X){var B="xmlnode-nodename",e="xmlnode-nodevalue",F="xmlnode-attributes",s="xmlnode-children",J=X[B].split(":").pop().replace("#",""),W=X[F],L=X[s],A="<"+J;
for(var j in W)if(j!="xmlns"&&j!="xmlns:v")A+=" "+j.split(":").pop()+"=\""+W[j][e]+"\"";A+=">"+(L.length==0?"":"\n");
for(var t=0;t<L.length;t++)A+=q(L[t]);if(X[e])A+=X[e];return A+"</"+J+">\n"}return i}();function eL(){}eL.cL=function(){var i,$,h,d,K,r,Y,S;
function f(F){return M.Z9(i,F)}function l(F){return M.pF(i,F)}function u(F){return M.Li(i,F)}function U(F){return M.q7(i,F)}function y(F,s){var J=[];
for(var t=0;t<s;t++)J.push(u(F+t*4));return J}function a(F,s){var J=[];for(var t=0;t<s;t++)J.push(f(F+t*8));
return J}function v(F){return u((F+1)*4096-12)}function c(F){return u((F+1)*4096-8)}function p(F,$,s,J){if(d[F]==null)d[F]=[];
d[F].push([J,new Uint8Array(i.buffer,$,s)])}function C(F,s,J,W){var L=h[F],$=L*4096;$=$+u($+4096-24-12-s*4);
var A=l($),j=i[$+2],G=i[$+3];if(s!=j)throw j;if(G==0)p(W,$+4,J,9);else{var O=l($+6),o=u($+8);p(W,$+12,A-12,9);
C(o,O,J-(A-12),W)}}function T(){var F=u(352),s=u(F*4096+128),J=u(936);h=[];d={};K={};for(var t=0;t<1e9;
t++){var W=u(J*4096+128+t*4);if(W==0)break;var L=y(W*4096+128,4096-128-12>>>2);h=h.concat(L)}for(var A=0;
A<h.length;A++){var j=h[A],G=v(j);if(G!=6)continue;var $=j*4096,O=u($);$+=4;for(var t=0;t<O;t++){var o=u($);
$+=4;var N=u($);$+=4;var w=u($);$+=4;var kv=u($);$+=4;if(o==0)K[N]=w;else{var g=w&65535,b=w>>>16;if(b==0)p(N,kv*4096,g,8);
else C(kv,b,g,N)}}}var r={};for(var jU in d){var _=d[jU],cY=_.length;if(cY==1)r[jU]=_[0][1];else{var j3=0,$=0;
for(var t=0;t<cY;t++)j3+=_[t][1].length;var aS=r[jU]=new Uint8Array(j3);for(var t=0;t<cY;t++){aS.set(_[t][1],$);
$+=_[t][1].length}}}return r}function E($,F){var s=F?u($):l($),J="";$+=F?4:2;while(J.length<s){var W=i[$++],L=i[$++],A=0,j="";
W+=(L&15)*256;L=L&240;for(var t=0;t<W;t++){if(L==64)A=i[$++];else if(L==128)A=i[$++]|i[$++]<<8;else throw L;
j+=String.fromCharCode(A)}J+=j}return[J,$]}function m($,F,s){var J=y($,F);for(var t=0;t<F;t++){s.push(t);
if(J[t]>Y)throw"e";J[t]=z(J[t],s);s.pop()}return J}var Q={};function z(F,s){if(S.indexOf(F)!=-1)return r[F];
if(F==0)return null;if(r[F]==null)return null;if(!(r[F]instanceof Uint8Array))return r[F];var J=i,$=0;
i=r[F];S.push(F);var W=K[F].toString(16),L=r[F]={_type:e[W]?e[W]+":"+W:"typ-"+W,_eid:F};while($+8<i.length){var A=u($);
$+=4;var j=A.toString(16),G=u($);$+=4;var O=$+G;if($+G>i.length){L._bin=i;break}n(j,I,L,$,G,s);$=O}i=J;
S.pop();return L}function n(F,s,J,$,W,L){var A=s[F+":"+J._type];if(A==null)A=s[F];L.push(A?A[0]==""?F:A[0]:F);
if(A){var j=A[0],G=null,O=A[1];if(j=="")j=O+"-"+F;if(X[O]&&W!=X[O]){console.log(O);console.log(F,A);
console.log(i.slice($,$+W));throw"e"}if(O=="mat")G=a($,6);else if(O=="mmat")G=[z(u($),L),a($+6,6)];else if(O=="rect")G=a($,4);
else if(O=="mrct"){G=a($,4);G.push(l($+32))}else if(O=="doub")G=f($);else if(O=="pointArr"){var o=l($);
G=y($+2,o*2)}else if(O=="usrt")G=l($);else if(O=="uint")G=u($);else if(O=="pntr"||O=="ptr6"){G=z(u($),L)}else if(O=="bool2"){if(l($)!=0&&l($)!=1)throw l($);
G=l($)==1}else if(O=="bool4"){if(u($)!=0&&u($)!=1)throw F+","+u($);G=u($)==1}else if(O=="color"){if(W!=38&&W!=30)throw W;
var N=u($),w=l($+4);G=[N];for(var t=0;t<w;t++)G.push(f($+6+t*8))}else if(O=="path"){var kv=$+W;G=[];
var g=u($);$+=4;for(var t=0;t<g;t++){var b=[[]];G.push(b);var jU=u($);$+=4;for(var _=0;_<jU;_++){var N=u($);
$+=4;if(N<2){b[0].push([N,f($),f($+8),f($+16),f($+24),f($+32),f($+40)]);$+=48}else if(N==2){b[0].push([N,f($),f($+8)]);
$+=16}else throw N}b.push(l($));$+=2}}else if(O=="ptrAndList"){var cY=u($),j3=u($+4);G=m($+8,j3,L);G.unshift(z(cY,L))}else if(O=="ptrArray"||O=="ptrArrayX"){var aS=W>>2;
if(O=="ptrArray"){aS=u($);$+=4;if(W!=4+aS*4)throw W}G=m($,aS,L)}else if(O=="ptrArray2"){var aS=u($);
$+=4;G=m($,aS,L);$+=aS*4;aS=u($);$+=4;G.push(m($,aS,L))}else if(O=="cldrn"){var bL=u($),cQ=u($+4),aS=u($+8);
G={c:z(bL,L),Ps:z(cQ,L),wy:m($+12,aS,L)};if(W!=12+aS*4){console.log(F,sa);throw"e"}if(bL==0)throw bL}else if(O=="aprnc"){var aS=u($);
$+=4;G={};for(var t=0;t<aS;t++){var cK=u($),el=l($+4),gF=l($+6);$+=8;var fj=B[cK.toString(16)];if(fj==null)fj="prm-"+cK.toString(16);
else fj=V(fj);G[fj]=[];for(var _=0;_<gF;_++){var i3=u($),eT=l($+4),eV=null;$+=6;if(i3==28264)eV=f($);
else if(i3==28263)eV=u($);else if(i3==279)eV=z(u($),L);else if(i3==28261)eV=l($)==1;else if(i3==28265)eV=[f($),f($+4)];
else if(i3==83231)eV=E($+3)[0];else if(i3==28259||i3==28260||i3==23094||i3==67679){eV=i.slice($,$+eT)}else throw i3.toString(16);
G[fj].push(eV);$+=eT}}}else if(O=="lopts"){G={ap5:l($+0)==1,show:l($+2)==1,ays:l($+4)==1,Tc:u($+10),name:E($+21)[0]}}else if(O=="origin"){var kv=$+W;
if(i[$++]!=1)throw"e";var o=u($);$+=4;var hr=M.uX(i,$,o);$+=o;if(i[$++]!=1)throw"e";var it=i[$++];if(it!=1&&it!=53)throw it;
var f8=l($);$+=2;if(f8!=0&&f8!=1)throw f8;var i$=u($);$+=4;if(i$!=0&&i$!=1)throw i$;var gS=u($);$+=4;
if(gS!=0&&gS!=2&&gS!=3)throw gS;var hT=u($);$+=4;var gL=E($,!0);$=gL[1];gL=gL[0];var iu=u($),dB=u($+4);
$+=8;var jt=u($);$+=4;if(jt!=0)throw jt;var ka=u($);$+=4;$+=3;var eQ=E($)[0];$+=2+2+eQ.length;G={file:hr,id:gL,BC:eQ}}else if(O=="string")G=E($+3)[0];
else if(O=="relEnt"){var dv=l($);$+=2;G=[];for(var t=0;t<dv;t++)G.push([u($+t*8),z(u($+t*8+4),L)])}else if(O=="textData"){var kv=$+W,cT=u($);
$+=4;var cK=u($);$+=4;var w=l($);$+=2;var eY=[];for(var t=0;t<w;t++){var gl=u($);$+=4;if(cT==514)eY.push(E($,!0)[0]);
else if(cT==515){var dY=u($),F=u($+4),gE=Z($+8,L);eY.push([dY,z(F,L),gE])}else if(cT==516){var dY=u($),F=u($+4),cs=l($+8),gE=Z($+8,L);
eY.push([dY,z(F,L),gE])}else eY.push(i.slice($,$+gl));$+=gl}if(kv-$!=12)throw kv-$;G=eY}else if(O=="storyProps"){var au=u($);
if(l($+4)>1)throw"e";var b8=z(u($+6),L),w=u($+10),jw=z(u($+14+w*4),L);G={adK:au,a6N:b8,wy:m($+14,w,L),agu:jw,a4q:y($+14+w*4+4,4)}}else if(O=="styleProps")G=Z($,L);
else if(O=="bounds"){var ek=$,dv=u($);$+=4;G=[];for(var t=0;t<dv;t++){var cj=[];G.push(cj);for(var _=0;
_<4;_++)cj.push(f($+_*8));$+=32;cj.push(i[$]);$++}if($!=ek+W)throw"e"}else if(O=="columnPos"){var dv=u($);
$+=4;G=[a($,dv),f($+dv*8)];$+=dv*8+8}else if(O=="StyleName"){G=[u($+4)]}else if(O=="fontName"){var kv=$+W;
G=[l($)];$+=2;for(var t=0;t<2;t++){var hr=E($+3);$=hr[1];G.push(hr[0])}G.push(u($));$+=4;var jJ=l($);
$+=2;G.push(jJ);var hp=l($);$+=2;var dW=[];G.push(dW);for(var h4=0;h4<hp;h4++){var er=[];dW.push(er);
var hr=E($+3);$=hr[1];er.push(hr[0]);var hG=l($);$+=2;var hr=M.uX(i,$,hG);$+=hG;er.push(hr);for(var t=0;
t<3;t++){var hr=E($+3);$=hr[1];er.push(hr[0])}er.push(u($));$+=4;var hr=E($,!0);$=hr[1];er.push(hr[0])}if($+4!=kv)throw"e";
G.push(u($))}else throw O;if(J[j]!=null){console.log(j,J[j],G);console.log(L.slice(0));console.log(eid,F,$,J[j],A,G);
throw"e"}J[j]=G}else{var i_=i.slice($,$+W);J["prop-"+F]=i_}L.pop()}function Z($,F){var s=l($);$+=2;var J={};
for(var t=0;t<s;t++){var W=u($);$+=4;var L=W.toString(16),A=l($);$+=2;var j=l($);$+=2;for(var G=0;G<j;
G++){var O=u($);$+=4;var o=l($);$+=2;n(L,q,J,$,o,F);$+=o}}return J}function P(F){i=new Uint8Array(F);
r=T();var s=r[2147483649];s=M.kV(s,4,s.length-4);delete r[2147483649];Y=0;for(var J in r)Y=Math.max(Y,parseInt(J));
S=[];var W={};for(var J in r)W[J]=r[J];for(var J in r)z(parseInt(J),[]);return r}function V(F){F=F.split(" ").join("");
return F[0].toLowerCase()+F.slice(1)}var I={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},q={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},X={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},B={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},e={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return P}();function bf(){}bf.cL=function(){var i=0;function $(y,a){var v=eL.cL(y),V=1;i=0;var c=v[1],p=c.spreads,C=[],T=new bN;
for(var E=0;E<p.length;E++){var r=p[E],Y=r.children.wy,S=d(r),m=Y[0].children.wy,Q=new bN;for(var z=0;
z<m.length;z++){var n=m[z],Z=d(n);Z.concat(S);var P=h(n);P.offset(Z.wQ,Z.FQ);P=k.p.Ip(P);Q=Q.rt(P)}C.push(Q);
T=T.rt(Q)}while(Math.sqrt(T.O())*V<1e3)V++;a.e=T.e*V;a.n=T.n*V;a.buffer=new Uint8Array(4*a.e*a.n);a.Od=!0;
a.Bw(p.length);for(var E=0;E<p.length;E++){var r=p[E],Y=r.children.wy,I=a.Dw();I.pM=24;I.add.lsct=gX.DU;
I.DN("Artboard "+(E+1));var q=C[E].clone();q.offset(-T.x,-T.y);q.x*=V;q.y*=V;q.e*=V;q.n*=V;q=k.p.Ip(q);
I.th(q);I.R$="pass";a.B.push(a.U4());var S=d(r);S.translate(-T.x,-T.y);S.scale(V,V);var X={};for(var B=0;
B<Y.length-1;B++){var e=Y[B],F=e.children.wy,s=a.Dw(),J=e.layer.lopts;if(J.name=="Internal_pages_layer_name"||X[J.name])continue;
X[J.name]=!0;s.pM=24;s.add.lsct=gX.DU;s.DN(J.name);s.DJ(J.show);if(J.ap5)s.add.lspf=1<<31;s.R$="pass";
a.B.push(a.U4());for(var t=0;t<F.length;t++)l(F[t],a,S,v);a.B.push(s)}a.B.push(I)}}function h(y){var a=y.rect;
return new bN(a[0],a[1],a[2]-a[0],a[3]-a[1])}function d(y){var a=y.transform;return new ej(a[0],a[1],a[2],a[3],a[4],a[5])}function K(y){var a=y.color,v=y.parentFill,p;
if(a==null&&v)a=v.color;if(a==null){console.log("strange color",y);return[0,0,0]}var c=a[0];if(c==5)p=a.slice(1);
else if(c==6)p=UDOC.C.cmykToRgb(a.slice(1));else if(c==7){var C=k.FY(a[1],a[2],a[3]);p=[C.o/255,C.P/255,C.Z/255]}else{console.log(a);
throw c}return p}function f(y,a){var t=0,v=0;while(v+y[t][0]<=a){v+=y[t][0];t++}y=y[t][1].textData;t=0;
while(v+y[t][0]<=a){v+=y[t][0];t++}return y[t]}function l(y,a,v,c){var p=y.transform?d(y):new ej;p.concat(v);
v=p;var C=y.path,T=y.appearance,E=y.visible,r=y.children?y.children.wy:null,Y=a.Dw();if(E!=null)Y.DJ(E);
var S=r&&r.length==1&&r[0].bitmapFill,m=y["bool2-1623"]&&r&&r.length==1&&r[0].rect&&r[0]._type.startsWith("TextFrame");
if(S){Y.DN("bitmap");var Q=r[0],z=h(Q),n=d(Q);n.concat(v);var Z=Q.bitmapFill.bitmap;Z=c[Z]._bin;if(Z.length!=Z.buffer.byteLength)Z=Z.slice(0);
var P=a.UJ(Z,"img.jpg",0,0);P.pM=Y.pM;Y=P;var V=[0,0,z.e,0,z.e,z.n,0,z.n];k.p.D(V,n,V);Y.add.SoLd.Trnf=D.vA.j7(V);
Y.add.SoLd.nonAffineTransform=D.vA.j7(V);Y.u8(a,!1);var I=Q.path;if(I&&I.length!=0)Y.add.vmsk=U(I,n,T);
else if(C&&C.length!=0)Y.add.vmsk=U(C,v,T);Y.Yt();Y.ET(a)}else if(m){if(T&&T.strokeSwatch){var q=a.Dw();
u(q,a,T,C,v);a.B.push(q)}var X=r[0],z=h(X),n=d(X),b=0;n.concat(v);var B=X.children.wy[0],e=B.obj228,F=e[0].story[1],s=F.stoProps.a6N.relEnt,J=F.stoProps.wy[0].relEnt,W=F.stoProps.wy[1]["ptrArrayX-210"][0].textData,L=c[s[0][1].textData[0][1].name[0]],A=L?L.styProps:{};
W=W.join("").replace(/\r/g,"\n");var j=-1;while((j=W.indexOf("\uFFFC"))!=-1){W=W.slice(0,j)+(W[j-1]=="\n"?" ":" ")+W.slice(j+1)}Y.DN(W.slice(0,255));
Y.add.lnsr="rend";Y.add.TySh=jP.Aj(0,0);Y.add.TySh.MX=z;Y.add.TySh.D=n;var G=Y.add.TySh.$D;jP.uE(G,0,W);
var O=jP.Zg(G,0,W.length);O.TL.FontSize=10;jP.jV(G,0,W.length,O);var o=[];if(W.length!=0){var N=f(s,0),w=f(J,0),kv=1;
for(var t=1;t<W.length;t++){var C=f(s,t),g=f(J,t);if(C!=N||g!=w){o.push(kv);kv=0}N=C;w=g;kv++}if(kv!=0)o.push(kv)}for(var t=0;
t<o.length;t++){var jU=f(J,b),_=o[t],cY=Math.min(b+_,W.length-1),j3=jU[2],aS=jU[1].styProps;if(aS==null)aS={};
var bL=f(s,b),cQ=bL[1].styProps,cK=bL[2],el={};for(var gF in A)el[gF]=A[gF];for(var gF in cQ)el[gF]=cQ[gF];
for(var gF in cK)el[gF]=cK[gF];for(var gF in aS)el[gF]=aS[gF];for(var gF in j3)el[gF]=j3[gF];var O=jP.Zg(G,b,cY),fj=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],i3=fj.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var eT=0;eT<i3.length;eT++){var gF=i3[eT],eV=eT<fj.length?O.TL:O.OU;if(el[gF]!=null)eV[gF]=el[gF]}if(el.fillColor){var hr=K(el.fillColor);
O.TL.FillColor={Type:1,Values:[1].concat(hr)}}if(el.font){var it=el.font.name[5],f8=el.fontStyle;if(f8==null)f8="Regular";
for(var i$=0;i$<it.length;i$++)if(it[i$][0]==f8)jP.Qr(O,it[i$][1])}if(el.leading!=null&&el.leading>1){O.TL.Leading=el.leading;
O.TL.AutoLeading=!1}if(el.align!=null)O.OU.Justification=[0,2,1,6,3,5,4,0,0,0][el.align];jP.jV(G,b,cY,O);
b+=_}jP.tA(G,1);jP.pt(G,[0,0,Math.round(z.e),Math.round(z.n)])}else if(y._type.startsWith("Path")&&(r==null||r.length==0)&&C){u(Y,a,T,C,v)}else{var gS=y["prop-14526"];
if(r==null&&gS){var hT=c[M.Li(gS,20)];r=[hT]}if(r){if(C&&C.length!=0){Y.add.vmsk=U(C,v,T);Y.Yt();Y.ET(a)}Y.DN("group");
Y.pM=24;Y.add.lsct=gX.DU;a.B.push(a.U4());for(var t=0;t<r.length;t++)l(r[t],a,v,c)}}if(T){var gL=T.objectBlendingMode,iu=T.objectOpacity,dB=T.fillTint;
if(gL)Y.R$="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[gL[0]];
if(iu)Y.opacity=Math.round(Y.opacity*iu[0]/100);if(!S&&dB)Y.opacity=Math.round(Y.opacity*dB[0]/100)}if(y.name)Y.DN(y.name);
else if(T&&T.name)Y.DN(T.name[0]);a.B.push(Y)}function u(y,a,v,c,p){y.DN("path");y.pM|=16;var C=y.add.vstk=JSON.parse(JSON.stringify(et._T.default)),T=[0,0,0];
if(v){var E=v.strokeSwatch,r=v.fillSwatch,Y=v.strokeWeight;C.strokeEnabled.v=E!=null;C.fillEnabled.v=r!=null;
if(E){C.strokeStyleLineWidth.v.val=Y?Y[0]:1;T=K(E[0]);C.strokeStyleContent.v.Clr.v=k.M.Aw({o:T[0]*255,P:T[1]*255,Z:T[2]*255})}if(r){T=K(r[0])}}y.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:T[0]*255,P:T[1]*255,Z:T[2]*255})}};
y.add.vmsk=U(c,p,v);y.Yt();y.ET(a)}function U(y,a,v){var c=new H.LF,p=c.i;for(var C=0;C<y.length;C++){var T=y[C],E=T[0].length,r=T[1]==0,Y=r?0:3;
p.push({type:Y,length:E,N0:0,Ur:2,Qb:0,Vb:0});for(var t=0;t<E;t++){var S=T[0][t],m=S[0],Q=new cq(S[1],S[2]),z=new cq(S[3],S[4]),n=new cq(S[5],S[6]);
if(m==0||m==1)p.push({type:Y+2,Q2:Q,F:z,ua:n});else if(m==2)p.push({type:Y+2,Q2:Q,F:Q,ua:Q});else throw m}}k.A.mu(p,a);
return c}return $}();var D={};D.V=function(i){return window.devicePixelRatio||1};D.On=function(i,$){return($.abR=="touch"?12:8)*D.V()/i.u.N};
D.TK=function(i,$,h){this.name=i;this.id=$;this.DR=null;if(h!=null)this.lI=h};D.TK.prototype.d6=function(i,$,h,d,K){};
D.TK.prototype.enable=function(i,$,h,d,K,f){var l=new eU(x.E.k,!0);l.data={d:x.c.xY,hf:"default"};$.$(l)};
D.TK.prototype.disable=function(i,$,h,d,K){};D.TK.prototype.akV=function(i,$,h,d,K){return!1};D.TK.prototype.gE=function(i,$,h,d,K){};
D.TK.prototype.rQ=function(i,$,h,d,K){};D.TK.prototype.Zm=function(i,$,h,d,K){};D.TK.prototype.IQ=function(i,$,h,d,K,f){};
D.TK.prototype.wI=function(i,$,h,d,K){};D.TK.prototype.PS=function(i,$,h,d){};D.TK.prototype.Qi=function(i,$,h,d){};
D.TK.prototype.Oi=function(i,$){};D.TK.prototype.RU=function(i,$){};D.TK.prototype.oi=function(i,$,h,d,K){};
D.TK.prototype.aG=function(i,$){};D.TK.prototype.JL=function(i,$){return!1};D.TK.prototype.QH=function(i,$){return!1};
D.TK.prototype.uq=function(){return!1};D.TK.prototype.aT=function(i,$){return!0};D.TK.prototype.rP=function(){return null};
D.TK.prototype.W7=function(i,$,h){};D.TK.prototype.a3$=function(){return!1};D.TK.prototype.i2=function(i,$,h,d){};
D.TK.prototype.track=function(i){var $=new eU(x.E.jm,!0);$.data=i;i.mh=!0;this.DR.$($)};D.TK.ZO=function(i,$,h,d){var K=10*D.V()*(i.abR=="touch"?2:1),f=i.x+K,l=i.y-K,u=k.TA.Iy($.e,h._m,d,h.e,!0),U=k.TA.Iy($.n,h._m,d,h.n,!0);
while(u.length<U.length)u=" "+u;while(u.length>U.length)U=" "+U;D.TK.Wa(f,l,[e_.get([12,41]).charAt(0)+": "+u,e_.get([12,42]).charAt(0)+": "+U],h)};
D.TK.Wa=function(i,$,h,d){function K(y,T,E,r,Y,S){y.beginPath();y.moveTo(T,E+S);y.arcTo(T,E+Y,T+S,E+Y,S);
y.arcTo(T+r,E+Y,T+r,E+Y-S,S);y.arcTo(T+r,E,T+r-S,E,S);y.arcTo(T,E,T,E+S,S)}var f=D.V(),l=Math.round,u=l(11*f),U=D.TK.aqD,a=0;
if(U==null)U=D.TK.aqD=document.createElement("canvas");var y=U.getContext("2d");y.font=u+"px monospace";
for(var t=0;t<h.length;t++)a=Math.max(a,y.measureText(h[t]).width);var v=l(a+12*f),c=l((h.length*14+5)*f),p=new bN(i,$-c,v,c);
if(U.width!=v||U.height!=c){U.width=v;U.height=c;y.font=u+"px monospace"}y.clearRect(0,0,v,c);y.fillStyle="rgba(0,0,3,0.8)";
K(y,0,0,v,c,l(4*f));y.fill();y.fillStyle="rgba(255,255,255,1)";for(var t=0;t<h.length;t++)y.fillText(h[t],l(6*f),l((t+1)*13*f));
var C=[y.getImageData(0,0,v,c).data,p.clone()];if(d)d.R.B0=[C];return C};D.TK.aqD=null;D.MW="0";D.oN="1";
D.a6G="2";D.a6r="3";D.GK="5";D.a1_="6";D.a6e="7";D.$n="8";D.hY="9";D.ds="10";D.QR="11";D.M7="12";D.a7="13";
D.M$="14";D.y8="16";D.G4="18";D.B3="19";D.E4="20";D.AN="21";D.z9="22";D.nj="23";D.Al="24";D.lC="25";
D.zJ="27";D.a3="31";D.at7="32";D.amu="34";D.a3E="35";D.pj="36";D.yH="37";D.T_="38";D.WW="39";D.Zt="40";
D.rb="41";D.u_="42";D.rY="43";D.a5w="44";D.z2="47";D.ry="48";D.yo="51";D.dK="52";D.nD="54";D.Nk="55";
D.Kt="56";D.lw="57";D.gV="58";D.GC="59";D.MI="60";D.VB="61";D.Jl="70";D.Ey="100";D.vP="101";D.kT="102";
D.m4="103";D.ri="120";D.xT="230";D.adv="231";D.BL="232";D.$S="233";D.s1="234";D.QE="235";D.nr="236";
D.am8=function(i){var $=D.y9,h=null;for(var d in $)if($[d][1].indexOf(i[1].classID)!=-1)h=d;return h};
D.y9={};D.y9[D.nj]=["tools/brush",["PbTl"]];D.y9[D.Al]=["tools/pencil",["PcTl"]];D.y9[D.a3]=["tools/eraser",["ErTl"]];
D.Gg=function(i,$,h){D.TK.call(this,i,$,h);this.vw={brush:i?bk.rw():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.RM=null;this.xo=null;this.hG=null;this.Vp=null;this.Fi=null;this.Fl=null;this.a8=null;this.VA=null;
this.Eo=null;this.Lh=null;this.gT=null;this.H_=null;this.dF=null;this.hc=1;this.Rk=!1;this.Ku=null;this.caller=null};
D.Gg.prototype=new D.TK;D.Gg.prototype.QH=function(i,$){return i.Et&&$.j(ai.EW)};D.Gg.prototype.rQ=function(i,$,h,d,K){if(d.j(ai.rf)){this.Fl=new cq(K.x,K.y);
var f=this.vw.brush.Brsh.v,l=f.Dmtr.v.val,u=f.Hrdn!=null?f.Hrdn.v.val:-1;this.a8=[l,u,!0,JSON.parse(JSON.stringify(this.vw.brush)),K];
this.S7(h)}};D.Gg.prototype.jH=function(i,$,h){var d=this.a8,K=i.u.N,f=h.x-d[4].x,l=h.y-d[4].y,u=d[0],U=d[1],y=Math.abs(f)>Math.abs(l);
if(y&&d[2]){var a=Math.round(2*f/K);u+=a;h.x-=f-.5*a*K}if(!y&&!d[2]&&U!=-1){var a=Math.round(.25*l);
U+=a;h.y-=l-4*a}u=Math.max(1,u);U=d[1]==-1?-1:Math.max(0,Math.min(100,U));var v=d[3];v.Brsh.v.Dmtr.v.val=u;
if(U!=-1)v.Brsh.v.Hrdn.v.val=U;this.a8=[u,U,y,v,h];var c=kn.Rp(v,$.qX.pd,K),p=c[1];p.x=Math.round(this.Fl.x-p.e/2);
p.y=Math.round(this.Fl.y-p.n/2);i.R.f1=[c];var C=i.u._x(this.Fl.x,this.Fl.y);i.R.N3={dm:[],Fq:[C.x-u/2,C.y,C.x+u/2,C.y]};
if(U!=-1)i.R.N3.Fq.push(C.x+50/K,C.y-U/2,C.x+50/K,C.y+U/2);i.nU=!0};D.Gg.prototype.wI=function(i,$,h,d,K){if(this.id==D.E4||this.id==D.AN)return;
if(this.Fl){this.Fl=null;this.kH(JSON.parse(JSON.stringify(this.a8[3])));i.R.f1=[];i.R.N3=null;i.nU=!0;
return}var f=new eU(x.E.k,!0);f.data={d:x.c.zj,b:this.id,as4:"showBrushOpts",ST:new cq(K.jn+4,K.eM)};
$.$(f)};D.Gg.prototype.kH=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.vj,J0:dC.m_,U$:i};this.caller.$($)};
D.Gg.kg=function(i,$,h,d,K,f){if(i==null)i="FrgC";if($==null)$="norm";if(h==null)h=1;if(K==null)K=!1;
var l={classID:"Fl",Usng:{t:"enum",v:{FlCn:i}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(h*100)}},PrsT:{t:"bool",v:K},Md:{t:"enum",v:{BlnM:ca.ml($)}}};
if(i=="Clr")l.Clr={t:"Objc",v:d};if(i=="contentAware")l.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(i=="Ptrn")l.Ptrn={t:"Objc",v:f};return{Fs:"fill",B6:l}};D.Gg.prototype.d6=function(i,$,h,d,K){this.DR=$;
var f=h.o7.length;if(f==0&&!h.EX())return;var l=f!=0?-1-h.o7[0]:h.g[0],u=h.B[l];if(i.d=="fromAction"){var U=i.Uf,y=U.B6;
if(y&&y.null&&y.null.v[0]&&y.null.v[0].v.classID=="Path"){var a=h.iW(),v=a[0],c=a[1],p=v[c.length==0?0:c[0]].add.vmsk;
if(U.Fs=="fill"){var C=p.MQ(),T=K.Mz,E=this.vw,r=T>>16&255,Y=T>>8&255,S=T>>0&255;this.fp(h,u,C,r,Y,S,Math.round(E.opacity*255),E.bmode,"Fill Path")}else{for(var m=0;
m<1e3;m++){var Q=k.A.ec(p.i,m,!0);if(Q==-1){this.IQ(h,$,K,d,null);break}var z=p.i[Q],n=p.i.slice(Q,Q+1+z.length),Z=k.p.nF(n,!0).C,P=Z.slice(0,8);
for(var V=8;V<Z.length;V+=6)P.push(Z[V-2],Z[V-1],Z[V],Z[V+1],Z[V+2],Z[V+3],Z[V+4],Z[V+5]);var I={};I.Points=P;
I.TextOnPathTRange=p.h3.slice(0);var I=kd.Wy(I,2),q=I[0];if(m==0)this.gE(h,$,K,d,h.u.cV(q[0],q[1]));
else this.xo.moveTo(q[0],q[1]);for(var t=2;t<q.length;t+=2){var X=h.u.cV(q[t],q[t+1]);X.Et=!0;this.Zm(h,$,K,d,X,this.vw.flow)}}}}else if(U.Fs=="fill"){var B=y.PrsT?y.PrsT.v:!1,e=u?u.add.lspf:0;
if(B&&u){u.add.lspf=e==null?1:e|1}var F=(y.Opct?y.Opct.v.val:100)/100,s=y.Md?ca.Mp(y.Md.v.BlnM):"norm",J=y.Usng.v.FlCn;
if(J=="contentAware"){if(h.J==null){alert("Select an area to heal first.");return}if(!h.EX())return;
this.LV(h);this.cW(h,0);var W=h.J,L=k.Q(W.rect.O()*4);k.k1(W.channel,L,3);this.Dq(h,"sheal",L,W.rect,W.rect);
this.U(h,W.rect);this.finish(h,W.rect)}else if(J=="Ptrn"){var A=K.c$,j=h.J?h.J.rect.clone():new bN(0,0,h.e,h.n),G=k.Q(j.O()*4);
eN.C7(y,G,j,A,new cq(0,0));this.qv(h,u,h.J,G,"norm",[6,48,0,2])}else{var T;if(J=="FrgC")T=K.Mz;else if(J=="BckC")T=K.n9;
else if(J=="Blck")T=0;else if(J=="Wht")T=16777215;else if(J=="Gry")T=8421504;else if(J=="Clr"){var O=k.M.zk(y.Clr.v);
T=O.o<<16|O.P<<8|O.Z}var r=T>>16&255,Y=T>>8&255,S=T>>0&255;this.fp(h,u,h.J,r,Y,S,Math.round(255*F),s,[2,3])}if(B&&u){u.add.lspf=e==null?0:e}}else if(U.Fs=="delete"){var o=l<0?1:u.Tu,W=h.J,g;
if(W==null)return;var N=l<0?h.kY[-l-1]:o<=0?null:o==1?u.MQ():u.Hi(h).z,j=o<=0?u.rect:N.rect,w=o<=0?W.rect.Js(j):W.rect.clone();
if(w.NT())return;var kv=w.O();if(o<=0){g=k.Q(kv*4);k.mC(u.buffer,u.rect,g,w)}else{g=k.Q(kv);N.extend(w);
k.Zc(N.channel,N.rect,g,w)}if(0<=l&&u.A4(h,W)){if(o<=0){k.MK(g,0);k.mC(u.Nf.yg,u.Nf.us,g,w)}else{g.fill(255);
k.Zc(u.Nf.yg,u.Nf.us,g,w)}}else{if(o<=0){var b=k.Q(g.length>>2);k.pO(g,b,3);k.l.FS(k.N5(W.rect.O()),W.rect,b,w,W.channel,w,1);
k.k1(b,g,3)}else{var jU=k.Q(W.rect.O()),r=K.n9>>>16&255,Y=K.n9>>8&255,S=K.n9>>0&255;jU.fill(Math.round(k.DW(r,Y,S)));
k.l.FS(jU,W.rect,g,w,W.channel,w,1)}}this.HS(h,!0,[2,2],l,o,w,g)}}if(i.d=="stroke"){var _=i.aeS,W=h.J;
if(W==null){W={rect:u.rect.clone(),channel:k.Q(u.rect.O())};k.pO(u.buffer,W.channel,3)}var cY=eN.SS(_),j3=D.n1.ao2(W,Math.ceil(cY[0]),Math.ceil(cY[1])),T=k.M.zk(_.Clr.v),r=Math.round(T.o),Y=Math.round(T.P),S=Math.round(T.Z);
this.fp(h,u,j3,r,Y,S,Math.round(255*_.Opct.v.val/100),ca.Mp(_.Md.v.BlnM),[14,9])}if(i.d=="fillBMP"){this.qv(h,u,h.J,i.Vg,i.eV,i.Q8)}if(i.d=="draw"){var aS=i.c_,bL=aS.rect;
this.LV(h);var cQ=h.B[h.g[0]];if(i.a3C&&cQ&&cQ.Tu<=0&&h.o7.length==0){bL=D.Q4.axF(aS,h);cQ.buffer=aS.buffer.slice(0);
cQ.rect=bL.clone()}else{var cK=this.vw.bmode;this.vw.bmode="norm";this.Dq(h,"draw",aS.buffer,bL,bL.Js(new bN(0,0,h.e,h.n)));
this.vw.bmode=cK}this.U(h,bL);h.$x=!0;this.finish(h,bL,i.Q8,i.a3C)}};D.Gg.prototype.fp=function(i,$,h,d,K,f,l,u,U){var y=h==null?new bN(0,0,i.e,i.n):h.rect,a=l<<24|f<<16|K<<8|d<<0,v=k.Q(y.O()*4);
k.MK(v,a);this.qv(i,$,h,v,u,U)};D.Gg.prototype.qv=function(i,$,h,d,K,f){var l=i.o7.length!=0?-1-i.o7[0]:i.g[0],u=l<0?1:$.Tu,U=l<0?i.kY[-1-l]:u<=0?null:u==1?$.MQ():$.Hi(i).z,y=u<=0?$.rect:U.rect,a=h==null?new bN(0,0,i.e,i.n):h.rect,v=h==null?k.g9(i.e*i.n):h.channel,c=a.O(),p,C=null;
if(u<=0){p=k.Q(c*4);k.mC($.buffer,$.rect,p,a)}else{p=k.Q(c);U.extend(a);k.Zc(U.channel,U.rect,p,a)}if(h!=null)k.nO(v,d);
if(u>0){C=k.Q(c);k.xw(d,C)}if(0<=l&&h&&$.A4(i,h)){var T=$.Nf.QJ,E=$.Nf.QJ.slice(0);if(u<=0)k.pv(d,E);
else k.pv(C,E);var r=new dS([2,3],this);r.data={d:"drawtemp",a:i.g[0],uL:u,a9i:T,apM:E};i.JY(r);this.Oi(r.data,i)}else{if(u<=0){var Y;
if($.wC(0)){Y=k.Q(a.O());k.pO(p,Y,3)}k.l.NU(K,d,a,p,a,a,1);if($.wC(0))k.k1(Y,p,3)}else k.l.FS(C,a,p,a,v,a,1);
this.HS(i,!0,f,l,u,a,p)}};D.Gg.prototype.JL=function(i){if(ai.r8.indexOf(i)!=-1)return!0;return!1};D.Gg.prototype.PS=function(i,$,h,d){var K=this.vw.brush,f=d.j(ai.rf),l=f!=this.Rk,u=D.Gg.Ed(K,d);
if(u!=null)this.kH(u);if(!d.j(ai.PO)&&d.zO()!=-1){var U=ai.EV(Math.round(this.vw.opacity*100),d.zO())/100;
this.Af({opacity:U},$)}if(this.id==D.$n&&l&&i!=null){var y=this.vw.qsmode;if(y==2)y=i.J==null?0:1;else y=2;
this.Af({qsmode:y},$)}this.Rk=f;if(l){if(i)this.hc=i.u.N;this.S7(h,d)}};D.Gg.Ed=function(i,$){var h=i.Brsh.v.Dmtr.v.val,d=i.Brsh.v.Hrdn!=null?i.Brsh.v.Hrdn.v.val:-1,K=h,f=d,l=$.j(ai.EW);
if($.j(ai.Tz)){if(l)d=25*Math.floor((d-1)/25);else{if(h<=10)h--;else if(h<=50)h=5*Math.floor((h-1)/5);
else if(h<=100)h=10*Math.floor((h-1)/10);else if(h<=200)h=25*Math.floor((h-1)/25);else if(h<=400)h=50*Math.floor((h-1)/50);
else h=100*Math.floor((h-1)/100)}}if($.j(ai.yv)){if(l)d=25*Math.ceil((d+1)/25);else{if(h<10)h++;else if(h<50)h=5*Math.ceil((h+1)/5);
else if(h<100)h=10*Math.ceil((h+1)/10);else if(h<200)h=25*Math.ceil((h+1)/25);else if(h<400)h=50*Math.ceil((h+1)/50);
else h=100*Math.ceil((h+1)/100)}}h=Math.max(1,h);d=Math.max(0,Math.min(100,d));if(f==-1)d=-1;if(h!=K||d!=f){var u=JSON.parse(JSON.stringify(i));
u.Brsh.v.Dmtr.v.val=h;if(f!=-1)u.Brsh.v.Hrdn.v.val=d;return u}return null};D.Gg.prototype.S7=function(i,$,h,d){if(i.qX.list.length==0)return;
var K=this.id,f;if((K==D.zJ||K==D.B3||K==D.nj||K==D.Al)&&($!=null&&$.j(ai.rf)||this.vw.alt[0]))f="crosshair";
else{var l=this.hc,u=this.vw.brush;if((K==D.zJ||K==D.B3)&&h&&this.H_&&this.H_.length==this.gT.O()*4){var U=h.u._x(d.x,d.y),y=this.acd(U),a=this.H_,v=this.gT,c=new bN(v.x+y.x,v.y+y.y,v.e,v.n),p=kn.Rp(u,i.qX.pd,l),C=p[0],T=p[1],E=Math.ceil(T.e/l),r=new bN(Math.round(U.x-E/2),Math.round(U.y-E/2),E,E),Y=k.Q(r.O()*4),S,m;
k.mC(a,c,Y,r);if(l==1){S=Y;m=r}else{var Q=new ej(l,0,0,l,0,0),z=D.vA.$V([Y,r],Q,!0);m=T.clone();m.x=z.rect.x;
m.y=z.rect.y;if(m.Rl(z.rect))S=z.buffer;else{S=k.Q(m.O()*4);k.mC(z.buffer,z.rect,S,m)}}var n=this.vw.opacity/255;
for(var t=0;t<S.length;t+=4)S[t+3]=n*(C[t+3]*S[t+3]);kn.a3g(new Uint32Array(S.buffer),m,4278190080,4294967295);
f={s$:S,gZ:m,XK:new cq(m.e/2,m.n/2)}}else f=kn.EL(u,i.qX.pd,l,K==D.lC)}var Z=new eU(x.E.k,!0);Z.data={d:x.c.xY,hf:f};
if(this.caller)this.caller.$(Z)};D.Gg.prototype.enable=function(i,$,h,d){this.RM=h;this.caller=$;this.kH(JSON.parse(JSON.stringify(this.vw.brush)));
if(i&&i.u.N!=0)this.hc=i.u.N;this.S7(h,d)};D.Gg.prototype.aG=function(i,$){if($==dC.m_){this.vw.brush=i.qX.vL;
this.S7(i)}};D.Gg.prototype.oi=function(i,$,h,d,K){for(var f in i)this.vw[f]=i[f];if(this.vw.alt[0])this.S7(K,d,h)};
D.Gg.prototype.a90=function(i){var $=i.o7.length!=0?-1-i.o7[0]:i.g[0],h=i.B[$],d=$<0?1:h.Tu,K=$<0?i.kY[-$-1]:d<=0?null:d==1?h.MQ():h.Hi(i).z,f=K?K.channel:h.buffer,l=(K?K.rect:h.rect).clone();
return[h,d,K,f,l]};D.Gg.prototype.LV=function(i,$){this.dF=i.J==null?null:{rect:i.J.rect.clone(),channel:i.J.channel.slice(0)};
var h=this.a90(i),d=h[0],K=h[1],f=h[2];this.Lh=h[3];this.Eo=h[4];var l=new bN(0,0,i.e,i.n),u=l.rt(this.Eo);
if((this.Yv()&&K<=0||u.Rl(this.Eo))&&$!=!0)this.Lh=this.Lh.slice(0);else{if(f)f.extend(u);else d.extend(u)}};
D.Gg.prototype.cW=function(i,$){var h=this.a90(i),d=h[1],K=h[3],f=h[4],l=[K,f],u=$!=null?$:this.vw.sfrom;
if(d<=0&&u!=0){l[1]=new bN(0,0,i.e,i.n);l[0]=i.Fy(u==1&&i.g[0]!=i.B.length-1?i.g[0]:null).slice(0)}this.gT=l[1].clone();
this.H_=l[0].slice(0)};D.Gg.prototype.KP=function(i,$,h){if(i.j(ai.rf)){var d=new eU(x.E.s,!0);d.b=D.M$;
d.data={d:"pickhere",a9L:h};$.$(d);return!0}return!1};D.Gg.prototype.yP=function(i,$,h,d,K,f){if(this.id!=D.$n&&!i.EX(this.caller)){this.xo=null;
return}if(this.id!=D.$n&&this.xo)return;this.LV(i);var l=new bN(0,0,i.e,i.n),u=null;if(f!=null){var U=i.o7.length!=0?-1-i.o7[0]:i.g[0],y=i.B[U],a=U<0?i.kY[-U-1]:y.Tu<=0?null:y.Tu==1?y.MQ():y.Hi(i).z;
u=k.Q(l.O()*4);if(a)D.Gg.et(this.Lh,this.Eo,a.color,u,l);else k.mC(this.Lh,this.Eo,u,l)}var v=this.vw;
if(this.xo&&this.id==D.$n&&v.qsmode!=0&&i.J!=null){}else{var c=$.Mz,p=$.n9;if(this.Ku=="erase"){var C=c;
c=p;p=C}var T=this.id==D.$n?this.Eo:l;this.xo=new kn(v.brush,$.qX.pd,$.qX.ut,{kJ:K,KY:f,abz:v.smth*50/i.u.N,JU:this.id==D.Al||v.emode==1,dV:i.dV},c,p,T,u)}if(this.id==D.$n){this.xo.aox(v.brush,v.qsmode==2?0:16777215)}var E=i.u._x(d.x,d.y);
if(h.j(ai.EW)&&this.hG){var r=this.hG;this.xo.moveTo(r.x,r.y,d.iv);this.xo.lineTo(.001*r.x+.999*E.x,.001*r.y+.999*E.y,d.iv);
this.xo.lineTo(E.x,E.y,d.iv)}else this.xo.moveTo(E.x,E.y,d.iv);this.hG=E;this.Vp=E.clone();this.Fi=new jQ(E,i.u.rS)};
D.Gg.prototype.ZS=function(i,$,h){if(i&&i.u.N!=0&&i.u.N!=this.hc){this.hc=i.u.N;this.S7(h)}};D.Gg.prototype.SN=function(i,$,h,d){if(this.xo==null)return;
var K=i.B[i.g[0]],f=i.u._x(d.x,d.y),l=this.Fi.w_(f,h);if(l.Rl(this.hG))return 1;this.xo.lineTo(l.x,l.y,d.iv);
this.hG=l;if(this.id==D.zJ||this.id==D.B3){var u=this.mQ(),U=11;u=i.u.cV(f.x-u.x,f.y-u.y);var y=U>>>1,a=new bN(Math.round(u.x)-y,Math.round(u.y)-y,U,U),v=k.Q(a.O()*4);
k.MK(16777215);for(var t=0;t<U;t++)v[(t*U+y)*4+3]=v[(U*y+t)*4+3]=255;i.R.B0=[[v,a]];i.nU=!0}};D.Gg.prototype.Qi=function(i,$,h,d){if(h.Kw!=this.id)return;
if(this.id!=D.$n||i==null)return;if(i.J==null||i.g[0]!=this.aer){this.aer=i.g[0];this.Af({qsmode:0},$)}};
D.Gg.prototype.U=function(i,$){if(i.o7.length!=0){i.nU=!0;return}var h=i.B[i.g[0]];if($==null){$=this.xo.UH();
if(this.Yv()&&h.Tu<=0)$=$.Js(this.Eo)}var d=h.Tu;if(d==1||d==3){var K=Math.round((d==1?h.MQ():h.Hi(i).z).Dc*2.4);
$=$.clone();$.ol(K,K)}if($.NT())return;if(d<=0){h.U($)}if(d==1){h.MQ().D3=!0;h.ET(i,$)}if(d==3){h.U($)}i.U(i.root.El($,i,i.g[0],!0))};
D.Gg.prototype.IQ=function(i,$,h,d,K){if(this.xo==null)return;this.xo.finish();if(this.id!=D.G4&&this.id!=D.B3&&this.id!=D.$n)this.ni(i);
if(this.id==D.zJ||this.id==D.B3){i.R.B0=[];i.nU=!0}if(this.id==D.$n){var f=i.J;i.J=this.dF;var l=new eU(x.E.s,!0);
l.data={d:"setsel",Q8:this.name,J:f};l.b=D.oN;$.$(l);if(this.vw.qsmode==0)this.Af({qsmode:1},$)}else{this.finish(i,this.xo.Je());
this.xo=null;this.VA=null}this.dir=0};D.Gg.prototype.Af=function(i,$){for(var h in i)this.vw[h]=i[h];
var d=new eU(x.E.k,!0);d.data={d:x.c.zj,b:this.id,oB:i};$.$(d)};D.Gg.prototype.Yv=function(){var i=this.id;
return i==D.$n||i==D.a3||i==D.WW||i==D.Zt||i==D.rb||i==D.z9};D.Gg.prototype.finish=function(i,$,h,d,K){var f=i.o7.length!=0?-1-i.o7[0]:i.g[0],l=i.B[f],u=f<0?1:l.Tu,U=f<0?i.kY[-f-1]:u<=0?null:u==1?l.MQ():l.Hi(i).z,y=U?U.rect:l.rect,c;
if(this.Yv()||!y.Rl(this.Eo)){if(U==null){if(this.Yv())l.HH();else{var a=$.rt(this.Eo),v=k.Q(a.O()*4);
k.mC(l.buffer,l.rect,v,a);l.buffer=v;l.rect=a}}else U.HH();this.U(i,y)}if(u<=0){c=k.Q($.O()*4);k.mC(this.Lh,this.Eo,c,$)}else{c=k.Q($.O());
c.fill(U.color);k.Zc(this.Lh,this.Eo,c,$)}this.HS(i,!1,h?h:this.name,f,u,$,c,d,K)};D.Gg.prototype.HS=function(i,$,h,d,K,f,l,u,U){var y=l;
if(K>0){y=k.Q(f.O()*4);D.Gg.et(l,f,0,y,f)}var a=new dS(h,this);a.data=[{a:d,uL:K,gZ:f,tp:y}];if(u)a.data.JM=[i.J,null];
if(U)a.data.JM=[this.dF,i.J];i.JY(a);if($)this.Oi(a.data,i);else if(u)i.J=null;D.L1.a68(i,a.data)};D.Gg.prototype.RU=function(i,$){this.axW(i,$,!1)};
D.Gg.prototype.Oi=function(i,$){this.axW(i,$,!0)};D.Gg.prototype.axW=function(i,$,h){if(i.d=="drawtemp"){var d=h?i.apM:i.a9i,K=$.B[i.a];
K.Nf.QJ=d;K.W_($,0,0,$.J);K.U();$.$x=!0}else{D.L1.qz($,i);if(i.JM){$.J=i.JM[h?1:0];$.oM=!0}}$.U()};D.Gg.prototype.ni=function(i){this.Dq(i,this.Ku,this.xo.T9(),this.xo.bL(),this.xo.UH());
this.U(i)};D.Gg.prototype.Dq=function(i,$,h,d,K){var f=this.vw,l=i.B[i.g[0]],u=i.o7.length!=0?i.kY[i.o7[0]]:l.Tu<=0?null:l.Tu==1?l.MQ():l.Hi(i).z,U=k.Q(K.O()*4),y,a=l.wC(0);
if(u==null){if(this.id==D.AN&&$=="heal")k.mC(l.buffer,l.rect,U,K);else k.mC(this.Lh,this.Eo,U,K);if(a){y=k.Q(K.O());
k.pO(U,y,3)}}else{D.Gg.et(this.Lh,this.Eo,u.color,U,K)}if(i.J&&$!="qselect"){var v=K.Js(i.J.rect),c=k.Q(v.O()*4);
if($=="copy"){var p=k.Q(v.O());k.Zc(i.J.channel,i.J.rect,p,v);k.mC(U,K,c,v);k.l.Zv(h,d,c,v,p,v,0,v,1,!1)}else{k.mC(h,d,c,v);
k.cj(i.J.channel,i.J.rect,c,v)}h=c;d=v}function C(r,cK){var gF=Math.max(cK.x,Math.min(cK.x+cK.e-1,r.x)),fj=Math.max(cK.y,Math.min(cK.y+cK.n-1,r.y));
return new cq(gF,fj)}if($=="idraw"||$=="ierase"){if(this.VA==null)this.VA=k.Q(this.Eo.O());var T=this.vw.samp,E=this.RM.n9,r=C(this.hG,K),Y=T==0?r:this.Vp,S=Y.x,m=Y.y,Q=D.in.atb(this.Lh,this.Eo,[Y,new cq(S-2,m),new cq(S+2,m),new cq(S,m-2),new cq(S,m+2)]);
if(T==2)Q=[[E>>>16&255,E>>>8&255,E>>>0&255,255]];var z=D.in.adG(U,K,r,Q,this.vw.wconf),n=k.Q(K.O());
k.Zc(this.VA,this.Eo,n,K);k.mO.rt(z,n,n);k.Zc(n,K,this.VA,this.Eo);k.cj(n,K,h,d);$=$.slice(1)}if($=="erase"&&(D.L1.ad6(i)!=16777215||u))$="draw";
if($=="draw")k.l.NU(f.bmode,h,d,U,K,K,f.opacity);else if($=="erase"){var Z=k.Q(K.O()*4);k.mC(h,d,Z,K);
if(u==null){var P=k.Q(K.O());k.pO(Z,P,3);k.Kd(P,f.opacity);k.Sp(P);k.cj(P,K,U,K)}else{k.MK(Z,0,4278190080);
k.l.NU("norm",Z,K,U,K,K,f.opacity)}}else if($=="clone"||$=="heal"){var V=this.mQ(),I=this.gT.clone();
I.offset(V.x,V.y);var q=K.clone();q.ol(1,1);var X=k.Q(q.O()*4),B=k.Q(q.O());k.mC(h,d,X,q);k.pO(X,B,3);
k.MK(X,0);if(u==null){k.mC(this.H_,I,X,q);var e=k.Q(q.O());k.pO(X,e,3);k.d0(e,B)}else D.Gg.et(this.H_,I,u.color,X,q);
if($=="clone"){k.k1(B,X,3);k.l.NU(f.bmode,X,q,U,K,K,f.opacity)}if($=="heal"){var F=B.slice(0);k.round(F,20);
var s=k.Q(q.O()*4);if(u==null)k.mC(this.Lh,this.Eo,s,q);else D.Gg.et(this.Lh,this.Eo,u.color,s,q);k.l.Zv(X,q,s,q,F,q,0,q,1,!1);
k.yr.uB(s,F,q);k.l.Zv(s,q,U,K,B,q,0,K,1,!1)}}else if($=="dodge"||$=="burn"){var X=k.Q(K.O()*4),L=1,A=0,j=0,G=0;
k.mC(h,d,X,K);var J=K.O()*4,W=D.Gg.xk;if(this.Rk){if($=="dodge")$="burn";else $="dodge"}var O=f.rng;
if($=="dodge"){A=[1-L/2,1,1+L][O];j=[1,1/(1+L),1][O];G=[L/2,0,0][O]}if($=="burn"){A=[1/(1-L/2),1,1-L/2][O];
j=[1,1+L,1][O];G=[-(L/2)/(1-L/2),0,0][O]}for(var t=0;t<J;t+=4){var o=X[t+3];U[t+0]=W(U[t+0],A,j,G,o);
U[t+1]=W(U[t+1],A,j,G,o);U[t+2]=W(U[t+2],A,j,G,o)}}else if($=="sponge"||$=="redeye"){var X=k.Q(K.O()*4),B=k.Q(K.O());
k.mC(h,d,X,K);k.pO(X,B,3);k.pv(U,X);var N=f.smode;if(this.Rk)N=1-N;var w=d1.U9("hue2");if($=="sponge")dm.Jc(w,0,[0,[-50,46][N],[6,5][N]]);
else dm.Jc(w,1,{z8:[265,305,25,55],bA:[0,-90,-70]});var kv=f2.Bd("hue2",w);f2.kG(kv,X,X,K);k.l.Zv(X,K,U,K,B,K,0,K,1,!1)}else if($=="copy")k.mC(h,d,U,K);
else if($=="sheal"){var X=k.Q(K.O()*4),B=k.Q(K.O());k.mC(h,d,X,K);k.pO(X,B,3);X.fill(0);var g=this.H_,b=this.gT;
if(u){g=k.Q(b.O()*4);D.Gg.et(this.H_,b,0,g,b)}var jU=k.wG.uB(g,b,B,X,K);if(jU!=0)k.mC(g,b,X,K);if(this.vw.sfrom==0)k.mC(X,K,U,K);
else{k.mC(this.Lh,this.Eo,U,K);k.k1(B,X,3);k.l.NU("norm",X,K,U,K,K,1)}}else if($=="qselect"){var _=this.Eo,cY=_.e,j3=_.n,aS=cY*j3,bL=this.xo.T9(),Q=this.Lh,cQ=D.n1.rh,B=cQ.oq;
B.fill(128);for(var t=0;t<aS;t++){var cK=bL[t<<2],el=bL[(t<<2)+3];if(el==255&&(cK==0||cK==255))B[t]=cK}B[0]=B[cY-1]=0;
B[(j3>>>1)*cY]=B[(j3>>>1)*cY+cY-1]=0;D.YU.Zr(cQ,!0);i.J={rect:_,channel:cQ.J.slice(0)};i.oM=!0}if(u==null){if(a)k.k1(y,U,3);
k.mC(U,K,l.buffer,l.rect)}else D.Gg.CO(U,K,u)};D.Gg.mQ=function(){return null};D.Gg.xk=function(i,$,h,d,K){var f=i*(1/255),l=d+$*Math.pow(f,h),u=Math.round(l*K+f*(255-K));
return Math.max(0,Math.min(255,u))};D.Gg.et=function(i,$,h,d,K){var f=k.Q(K.O());f.fill(h);k.Zc(i,$,f,K);
d.fill(255);k.ai(f,d)};D.Gg.CO=function(i,$,h){var d=k.Q($.O());k.xw(i,d);k.Zc(d,$,h.channel,h.rect)};
D.n1=function(i,$,h){D.TK.call(this,i,$,h);this.vw={binop:0,feat:0,cstr:{Zw:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.to=new cq(-1,-1);this.q4=new cq(-1,-1);this.Qs="default";this.DR=null;this.CG=!1;this.Cf=new j$;
this.q3=!1;this.FA=null;this.iM=null;this.oA=!1;this.Dx=!1};D.n1.prototype=new D.TK;D.n1.prototype.a2A=function(){var i=this.vw,$=[i.binop,i.feat];
if(this.id==D.hY)$.push(i.wconf);return $};D.n1.prototype.a9Z=function(i,$,h){var d=this.vw;d.binop=i[0];
d.feat=i[1];d.wconf=i[2];this.ct(h)};D.n1.prototype.ct=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.zj,b:this.id,vw:this.vw};
i.$($)};D.n1.rh={key:""};D.n1.xp=function(i,$,h){var d={Fs:i,B6:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if($)d.B6.T=$;if(h!=null)d.B6.AntA={t:"bool",v:h};return d};D.n1.mz=function(i,$,h){return D.n1.xp("set",{t:"Objc",v:{classID:i,Top:{t:"UntF",v:{type:"#Pxl",val:$.y}},Left:{t:"UntF",v:{type:"#Pxl",val:$.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:$.y+$.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:$.x+$.e}}}},h)};
D.n1.Y7=function(i,$,h){var d=[],K=[],l="set";for(var t=0;t<i.length;t+=2){d.push(i[t]);K.push(i[t+1])}var f={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:d},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:K}]}}}};
if($)l=["set","addTo","subtractFrom","interfaceWhite"][$];return D.n1.xp(l,f,h)};D.n1.auo=function(i,$,h){var d={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:i.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:i.y}}}},K=D.n1.xp("set",d);
K.B6.Tlrn={t:"long",v:$[0]};K.B6.AntA={t:"bool",v:$[1]};K.B6.Cntg={t:"bool",v:$[2]};if(h==!0)K.B6.Mrgd={t:"bool",v:h};
return K};D.n1.Yy=function(i){return D.n1.xp("set",{t:"enum",v:{Ordn:i?"Al":"None"}})};D.n1.alT=function(i,$,h){var d={classID:"null"};
if(i!="border")d.selectionModifyEffectAtCanvasBounds={t:"bool",v:h};var K={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[i[0]];
d[K]={t:"UntF",v:{type:"#Pxl",val:$}};return{Fs:i,B6:d}};D.n1.ah0=function(i,$,h){var d={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},K={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:$}}]};
if(h)K.v.push({t:"name",v:{classID:"Lyr",val:h}});var f=[{classID:"null",null:d,T:K},{classID:"null",null:K,T:d},{classID:"null",null:K,From:d},{classID:"null",null:K,With:d}],l=["set","add","subtract","interfaceIconFrameDimmed"];
return{Fs:l[i],B6:f[i]}};D.n1.aeo=function(i,$){var h=new eU(x.E.k,!0);h.data={d:x.c.vj,J0:dC.MG};if(!$.T2)i.$(h);
h.data={d:x.c.vj,J0:dC.p9};if(!$.ZZ.AQ)i.$(h)};D.n1.prototype.d6=function(i,$,h,d,K){D.n1.aeo($,K);this.DR=$;
var f=i.d,l,u,U=new bN(0,0,h.e,h.n),iu=!1,dB,jt,ka,eQ;if(f=="fromAction"){var y=i.Uf,a=y.Fs,v=y.B6,c=v?v.selectionModifyEffectAtCanvasBounds:null,p=c&&c.v;
if(a=="colorRange"){if(v.Clrs){var C=v.Clrs.v.Clrs,T=0,E=255,r=["Shdw","Mdtn","Hghl"].indexOf(C),Q=.4;
if(r==0)E=60;else if(r==1){T=100;E=150}else T=190;var Y=["shadows","midtones","highlights"][r],S=v[Y+"LowerLimit"],m=v[Y+"UpperLimit"];
if(S)T=S.v;if(m)E=m.v;var z=v[Y+"Fuzziness"];if(z)Q=z.v/100;l=D.n1.Yb(h,T,E,Q,!0)}else{var T=v.Mnm.v,E=v.Mxm.v,Q;
T={GE:T.Lmnc.v,Pi:T.A.v,Z:T.B.v};E={GE:E.Lmnc.v,Pi:E.A.v,Z:E.B.v};Q=v.Fzns.v/200;l=D.n1.Yb(h,T,E,Q)}u=[7,8]}else if(a=="inverse"){if(h.J==null){alert("No selection!");
return}l={channel:k.Q(U.O()),rect:U};k.Zc(h.J.channel,h.J.rect,l.channel,l.rect);k.Sp(l.channel);u=[7,2]}else if(a=="expand"){var n=v.By.v.val,Z=h.J.rect.clone();
Z.ol(n,n);var P=k.Q(Z.O()),V=k.Q(Z.O());k.Zc(h.J.channel,h.J.rect,V,Z);k.style.stroke(V,P,Z,n);l={channel:P,rect:Z};
u=[7,4]}else if(a=="contract"){var n=v.By.v.val,I=h.J.rect.clone();I.ol(1,1);if(!p)I=I.Js(U);var V=k.Q(I.O()),q=k.Q(V.length);
k.Zc(h.J.channel,h.J.rect,V,I);k.Sp(V);k.style.stroke(V,q,I,n);k.Sp(q);l={channel:q,rect:I};k.HH(l);
u=[7,5]}else if(a=="border"){var n=v.Wdth.v.val;l=D.n1.ao2(h.J,n/2,n/2);u=[7,9]}else if(a=="feather"||a=="smoothness"){var n=v.Rds.v.val;
l=D.n1.als(h.J,n,a=="smoothness",U,p);u=a=="feather"?[7,6]:[19,3,0]}else if(a=="move"){var X=v.T.v,Z=h.J.rect.clone();
Z.x+=X.Hrzn.v.val;Z.y+=X.Vrtc.v.val;l={channel:h.J.channel,rect:Z};u=[7,7]}else{var B=v.null.v,e=v.AntA!=null&&v.AntA.v;
function F(h4){var er=h4.Top.v.val,gl=h4.Left.v.val;return new bN(gl,er,h4.Rght.v.val-gl,h4.Btom.v.val-er)}function s(h4){var er=h4[0].arr,hG=h4[1].arr,i_={C:[],H:[]};
for(var t=0;t<er.length;t++){i_.H.push(t==0?"M":"L");i_.C.push(er[t],hG[t])}i_.H.push("Z");return i_}var J=["set","addTo","subtractFrom","interfaceWhite"].indexOf(a),W=v.T?v.T.v:null;
if(W&&W.classID=="Elps"){l=this.aij(D.fw.a37(F(W)));u=[10,4]}else if(W&&W.classID=="Rctn"){var L=F(W);
l={channel:k.Q(L.O()),rect:L.clone()};l.channel.fill(255);u=[10,15]}else if(W&&W.classID=="ObSl"){var L=F(W),A=D.n1.rh,j=A.rect,G=A.oq,O=j.e,o=j.n,N=L.x-j.x,w=N+L.e-1,kv=Math.max(N,Math.min(w,N+w>>>1)),g=L.y-j.y,b=g+L.n-1,jU=Math.max(g,Math.min(b,g+b>>>1)),_=Math.max(N,0),cY=Math.min(w,O),j3=Math.max(g,0),aS=Math.min(b,o);
G.fill(128);if(0<=g)for(var bL=_;bL<cY;bL++)G[g*O+bL]=0;if(b<o)for(var bL=_;bL<cY;bL++)G[b*O+bL]=0;if(0<=N)for(var cQ=j3;
cQ<aS;cQ++)G[cQ*O+N]=0;if(w<O)for(var cQ=j3;cQ<aS;cQ++)G[cQ*O+w]=0;var cK=D.Xc.a0m,el=Math.round(L.e*cK),gF=Math.round(L.n*cK);
for(var bL=Math.max(0,kv-el);bL<Math.min(O,kv+el);bL++)G[jU*O+bL]=255;for(var cQ=Math.max(0,jU-gF);cQ<Math.min(o,jU+gF);
cQ++)G[cQ*O+kv]=255;D.YU.Zr(A,!0);l={channel:A.J.slice(0),rect:j.clone()};u=[10,44]}else if(W&&W.classID=="Plgn"){l=this.aij(s(W.Pts.v.arr));
u=[10,9]}else if(W&&W.classID=="Pnt"){l=D.in.an_(h,new cq(W.Hrzn.v.val,W.Vrtc.v.val),[v.Tlrn.v,e,v.Cntg==null||v.Cntg.v],v.Mrgd?v.Mrgd.v:!1);
u=[10,12]}else if(W&&W.Ordn=="None"){l=null;u=[7,1]}else if(W&&W.Ordn=="Al"){var fj=U;if(h.g.length!=0){var i3=h.root.$p(h.g[0]);
while(i3.parent&&i3.parent.parent)i3=i3.parent;if(i3.a.add.artb)fj=i3.a.Ik()}l={channel:k.Q(fj.O()),rect:fj};
l.channel.fill(255);u=[7,0]}else if(W&&W[0]&&W[0].v.keyID=="WrPt"){var eT={d:"frompath",ZP:[-1,0,0]};
this.d6(eT,$,h,d,K);return}else{var eV=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(a),hr=a=="set"?W:B,it=hr[0].v.enum,eT;
if(it=="Trsp"||it=="Msk"||it=="vectorMask"||it=="Trgt"){var f8=h.g[0];if(hr.length==2)f8=jV.Vu(h,hr[1]);
var i$=["Trsp","Msk","vectorMask"].indexOf(it);if(it=="Trgt"&&h.B[f8].Tu==1)i$=1;eT={d:"fromlayer",ZP:[f8,i$,eV]}}else{if(hr[0].t=="name"){var f8=0;
for(var t=0;t<h.kY.length;t++)if(h.kY[t].name==hr[0].v.val)f8=t;eT={d:"fromchannel",ZP:[-5-f8,0,eV]}}else{var gS=["RGB","Rd","Grn","Bl"].indexOf(it);
eT={d:"fromchannel",ZP:[-1-gS,0,eV]}}}this.d6(eT,$,h,d,K);return}if(!e&&l)k.round(l.channel);if(v.Fthr)l=D.n1.als(l,v.Fthr.v.val,!1);
if(a!="set"&&h.J!=null)l=k.mO.gi(l,h.J,J)}if(a=="expand"||a=="contract")if(!p&&!U.contains(l.rect)){var hT=l.rect.Js(U),gL=k.Q(hT.O());
k.Zc(l.channel,l.rect,gL,hT);l.channel=gL;l.rect=hT}}if(f=="qmask"){iu=!0;var dv=h.Z7(),cT=new bN(0,0,h.e,h.n);
if(dv){l=dv.rect.Rl(cT)&&k.ey(dv.channel,255)?null:{rect:dv.rect.clone(),channel:dv.channel.slice(0)};
dB=dv}else{l=null;jt=new H.k$;jt.color=0;jt.name="Quick Mask";jt.$$=!0;if(h.J){jt.rect=h.J.rect.clone();
jt.channel=h.J.channel.slice(0)}else{jt.rect=cT;jt.channel=k.Q(jt.rect.O());jt.channel.fill(255)}}u=[6,6,1];
h.$x=!0}if(f=="setsel"){l=i.J;u=i.Q8}if(f=="crange"){var T=i.yq,E=i.H5;l=D.n1.Yb(h,T,E,i.bn);u=[7,8]}if(f=="fromlayer"||f=="fromchannel"||f=="frompath"){var eY=i.ZP[0],i$=i.ZP[1],J=i.ZP[2];
if(f=="fromlayer"){if(eY==null)eY=h.g[0];var gl=h.B[eY];if(i$==0){var dY=gl.rect,gE=gl.buffer;if(dY.NT())return;
var au=k.Q(gE.length>>>2);k.pO(gE,au,3);l={channel:au,rect:dY.clone()}}else{if(gl.z==null)gl.ET(h);var b8=i$==1?gl.MQ():gl.z;
l=D.n1.afX(b8,U)}this.track(D.n1.ah0(J,["Trsp","Msk"][i$],gl.getName()))}else if(f=="frompath"){var jw=h.iW(),ek=jw[1],jw=jw[0],hp=!0;
if(eY==null)if(jw.length==0||ek.length==0)return;var cj=jw[ek[0]];if(eY!=null)for(var t=0;t<jw.length;
t++)if(jw[t].zH==eY)cj=jw[t];var b8=cj.add.vmsk.MQ(),jJ=b8.bL();if(jJ.O()==0)return;var au=b8.oT();if(i.ZP[3]!=null)hp=i.ZP[3];
if(!hp){au=au.slice(0);k.round(au)}ka=[JSON.stringify(h.LK),JSON.stringify(h.$H)];eQ=["[]","[]"];h.LK=[];
h.$H=[];l={channel:au,rect:jJ}}else{if(eY==null)eY=D.n1.a6p(h);l=D.n1.ak8(h,eY)}if(J!=0&&h.J)l=k.mO.gi(l,h.J,J);
u=[14,11]}if(l!=null&&k.ey(l.channel,0)){l=null;u=[7,1]}if(l)k.HH(l);var dW=new dS(u,this);dW.data={d:"changesel",dF:h.J,sG:l,Z7:iu,aut:dB,axt:jt,EZ:ka,apB:eQ};
h.JY(dW);this.Oi(dW.data,h)};D.n1.a6p=function(i){var $=0;if(i.o7.length!=0)$=-5-i.o7[0];else if(JSON.stringify(i.u.rB)=="[1,1,1]")$=-1;
else $=-2-i.u.rB.indexOf(1);return $};D.n1.ak8=function(i,$){var h,d=new bN(0,0,i.e,i.n);if(-5<$&$<0){var K=-$-1,f=i.Fy(),l=k.Q(d.O());
if(K==0)k.xw(f,l);else k.pO(f,l,K-1);h={channel:l,rect:d.clone()}}if($<-4){h=D.n1.afX(i.kY[-$-5],d)}return h};
D.n1.afX=function(i,$){var h,d;if(i.zk()==0){d=i.bL().clone();if(d.O()==0)return;h=i.oT()}else{d=$;h=k.Q(d.O());
i.os(d,h)}return{channel:h,rect:d}};D.n1.prototype.QH=function(i){return this.q3||i.Et&&this.id!=D.GK};
D.n1.prototype.Ru=function(i,$,h){var d=new eU($,!0);d.data=h;i.$(d)};D.n1.prototype.at3=function(i,$){var h=new eU(x.E.k,!0);
h.data={d:x.c.xY,hf:$};i.$(h)};D.n1.prototype.bL=function(i,$,h){$=i.J==null||this.Cf.yF(1)||this.Cf._O(1)?$:null;
var d=this.to,K=this.q4;if(h){d.x=Math.max(0,Math.min(i.e,d.x));d.y=Math.max(0,Math.min(i.n,d.y));K.x=Math.max(0,Math.min(i.e,K.x));
K.y=Math.max(0,Math.min(i.n,K.y))}var f=D.Eq.qi(d,K,$,!0,this.vw.cstr),l=f[0].x,u=f[0].y;return new bN(l,u,f[1].x-l,f[1].y-u)};
D.n1.prototype.gE=function(i,$,h,d,K){this.Dx=!0;if(this.cb())return;this.DR=$;this.CG=!1;this.Cf.gE(d);
this.to=i.u._x(K.x,K.y);this.to=D.NN.pn(i,this.to,h);if(this.a28(i,this.to,d)){this.q3=!0;this.FA=i.J.rect.clone();
return}this.k7(i,h,d,K);i.u.Br=new bN};D.n1.prototype.a28=function(i,$,h){var d=h.j(ai.EW),K=h.j(ai.rf);
if(i.J&&!d&&!K&&this.vw.binop==0)return k.G3($,i.J.channel,i.J.rect);return!1};D.n1.prototype.Zm=function(i,$,h,d,K){this.DR=$;
if(this.oA)return;var f=i.u._x(K.x,K.y);if(cq.ED(this.to,f)*i.u.N>5){this.CG=!0;this.Cf.Zm()}if(d.j(ai.tr)){if(this.iM==null)this.iM=new cq(f.x-this.to.x,f.y-this.to.y);
this.to.x=f.x-this.iM.x;this.to.y=f.y-this.iM.y}else this.iM=null;this.q4=f;if(!this.q3)this.q4=D.NN.pn(i,this.q4,h);
if(this.a28(i,this.q4,d))this.at3($,"move");else this.at3($,this.Qs);if(this.q3){var l=this.FA.clone();
l.x+=this.q4.x-this.to.x;l.y+=this.q4.y-this.to.y;var u=D.NN.gz(i,l,h);i.J.rect.x=Math.round(this.q4.x-this.to.x+this.FA.x+u[0]);
i.J.rect.y=Math.round(this.q4.y-this.to.y+this.FA.y+u[1]);i.oM=!0;D.NN.hQ(i,l,u);return}this.CX(i,h,d,K,$);
if(i.u.Br)i.u.Br=this.bL(i,d)};D.n1.prototype.cb=function(){return!1};D.n1.prototype.IQ=function(i,$,h,d,K,f){var l=this.Dx;
this.Dx=!1;if(f||!l)return;i.u.Br=null;this.q4=i.u._x(K.x,K.y);this.q4=D.NN.pn(i,this.q4,h);if(this.q3){this.q3=!1;
if(i!=null&&i.R.TM){i.R.TM=null;i.nU=!0}if(this.q4.Rl(this.to)&&this.XW()==0){this.Ru($,x.E.jm,D.n1.Yy());
return}this.acZ(i,this.FA,i.J.rect.clone());return}this.QA(i,h,d,K,$);D.n1.aeo($,h);this.Cf.IQ();this.T8($)};
D.n1.prototype.acZ=function(i,$,h){var d=i.au();if(d!=null&&d.b==this&&d.data.d=="movesel"){}else{d=new dS([7,7],this);
d.data={d:"movesel",bw:$};i.JY(d)}d.data.BG=h;this.Oi(d.data,i)};D.n1.prototype.rQ=function(i,$,h,d,K){this.oA=!0};
D.n1.prototype.wI=function(i,$,h,d,K){var f=new eU(x.E.k,!0);f.data={d:x.c.zj,b:this.id,zI:K,f7:i,bX:h};
$.$(f);this.oA=!1};D.n1.prototype.PS=function(i,$,h,d){this.Cf.PS(d);if(i!=null&&i.J!=null){var K=d.j$();
if(K.x!=0||K.y!=0){var f=i.J.rect.clone();f.x+=K.x;f.y+=K.y;this.acZ(i,i.J.rect.clone(),f)}}this.T8($)};
D.n1.prototype.T8=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.zj,b:this.id,QP:this.XW()};i.$($)};
D.n1.prototype.XW=function(){var i=this.Cf.yF(0),$=this.Cf._O(0);return D.n1.Rt(this.vw.binop,i,$)};
D.n1.Rt=function(i,$,h){if($)i=1;if(h)i=2;if($&&h)i=3;return i};D.n1.prototype.finish=function(i,$,h,d){var K=i.J,f=this.getSelection(i,$,h,d);
if(f==null)f=D.n1.Yy();else{var l=this.vw.feat,u=this.XW();if(l!=0)f.B6.Fthr={t:"UntF",v:{type:"#Pxl",val:l}};
if(u!=0&&u!=4)f.Fs=["","addTo","subtractFrom","interfaceWhite",""][u]}this.Ru(this.DR,x.E.jm,f);this.to.WI(-1,-1);
this.q4.WI(-1,-1)};D.n1.prototype.getSelection=function(i,$,h,d){return null};D.n1.prototype.k7=function(i,$,h,d){};
D.n1.prototype.CX=function(i,$,h,d){};D.n1.prototype.QA=function(i,$,h,d){};D.n1.prototype.RU=function(i,$){var h=i.d;
if(h=="changesel")$.J=i.dF;if(h=="movesel")$.J.rect=i.bw;if(i.Z7){if(i.aut){$.o7=[$.kY.length];$.kY.push(i.aut)}else{$.kY.pop();
$.o7=[]}}if(i.EZ){$.LK=JSON.parse(i.EZ[0]);$.$H=JSON.parse(i.EZ[1])}$.oM=!0};D.n1.prototype.Oi=function(i,$){var h=i.d;
if(h=="changesel")$.J=i.sG;if(h=="movesel")$.J.rect=i.BG;if(i.Z7){if(i.axt){$.o7=[$.kY.length];$.kY.push(i.axt)}else{$.kY.pop();
$.o7=[]}}if(i.EZ){$.LK=JSON.parse(i.apB[0]);$.$H=JSON.parse(i.apB[1])}$.oM=!0};D.n1.prototype.oi=function(i){this.vw=i.vw};
D.n1.prototype.aij=function(i){var $=k.p.DS(i.C);if($.NT())return null;var h=k.i8($.e,$.n);h.save();
h.beginPath();h.translate(-$.x,-$.y);Typr.U.pathToContext({cmds:i.H,crds:i.C},h);h.closePath();h.fill();
h.restore();var d=k.Q($.O()),K=h.getImageData(0,0,$.e,$.n);k.pO(K.data,d,3);return{rect:$,channel:d}};
D.n1.als=function(i,$,h,d,K){if(h)$=Math.round($*.7);var f=Math.ceil(2.6*$),l=i.rect.clone();l.ol(f,f);
if(d&&!K)l=l.Js(d);var u=k.Q(l.O()),U=k.Q(u.length);k.Zc(i.channel,i.rect,U,l);k.$A.WJ(U,u,l,$);if(h){var y=u.length;
for(var t=0;t<y;t++){var a=(u[t]-128)*$*2.5;u[t]=Math.max(0,Math.min(255,Math.round(128+a)))}}return{channel:u,rect:l}};
D.n1.ao2=function(i,$,h){var d=Math.max(1,Math.ceil(h)),K=i.rect.clone();K.ol(d,d);var f=K.O(),l={channel:k.Q(f),rect:K},u=k.Q(f);
k.Zc(i.channel,i.rect,u,l.rect);if(h!=0)k.style.stroke(u,l.channel,l.rect,h);else k.pv(u,l.channel);
var U=k.Q(f);k.Sp(u);if($!=0)k.style.stroke(u,U,l.rect,$);else k.pv(u,U);k.mO.Js(l.channel,U,l.channel);
return l};D.n1.Yb=function(i,$,h,d,K){var f=new bN(0,0,i.e,i.n),l=i.Fy();if(i.J){var u=i.J.rect.Js(f),U=k.Q(u.O()*4);
k.mC(l,f,U,u);f=u;l=U}var y=f.O(),a=k.Q(y),v=1/d;if(K){if($>=h)$=h-1;var c=$*(1-d),p=$,C=h,T=h+(255-h)*d,E=c==p?0:1/(p-c),r=C==T?0:1/(T-C);
for(var t=0;t<y;t++){var Y=t<<2,S=k.DW(l[Y],l[Y+1],l[Y+2]),m=0;if(S<c)m=0;else if(S<p)m=(S-c)*E;else if(S<=C)m=1;
else if(S<=T)m=1-(S-C)*r;else m=0;a[t]=l[Y+3]*m*m}}else for(var t=0;t<y;t++){var Y=t<<2,Q=k.Hq(l[Y],l[Y+1],l[Y+2]),m=k.Yq(Q,$,h,d,v);
a[t]=l[Y+3]*m}return{rect:f,channel:a}};D.jG=function(){D.Gg.call(this,[10,18],D.pj,"tools/blur");this.Ku="copy"};
D.jG.prototype=new D.Gg;D.jG.prototype.gE=function(i,$,h,d,K){var f=d.j(ai.rf)?kn.DH:kn.pj;this.yP(i,h,d,K,this.vw.strn,f);
if(this.xo==null)return;this.ni(i)};D.jG.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);
if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.GG=function(){D.Gg.call(this,[10,0],D.nj,"tools/brush");
this.Ku="draw"};D.GG.prototype=new D.Gg;D.GG.prototype.gE=function(i,$,h,d,K){if(this.KP(d,$,K))return;
this.yP(i,h,d,K,this.vw.flow);if(this.xo==null)return;this.ni(i)};D.GG.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);
if(this.Fl)this.jH(i,h,K);if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.xx=function(){D.Gg.call(this,[10,42],D.lC,"tools/crepl");
this.Ku="idraw";this.vw.bmode="hue "};D.xx.prototype=new D.Gg;D.xx.prototype.gE=function(i,$,h,d,K){if(this.KP(d,$,K))return;
this.yP(i,h,d,K,this.vw.flow);if(this.xo==null)return;this.ni(i)};D.xx.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);
if(this.Fl)this.jH(i,h,K);if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.yn=function(){D.Gg.call(this,[10,43],D.z9,"tools/redeye");
this.vw.smode=0;this.Ku="redeye"};D.yn.prototype=new D.Gg;D.yn.prototype.gE=function(i,$,h,d,K){this.yP(i,h,d,K,this.vw.flow);
if(this.xo==null)return;this.ni(i)};D.yn.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);
if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.Ci=function(){D.Gg.call(this,[10,38],D.Al,"tools/pencil");
this.Ku="draw"};D.Ci.prototype=new D.Gg;D.Ci.prototype.gE=function(i,$,h,d,K){if(this.KP(d,$,K))return;
this.yP(i,h,d,K,this.vw.flow);if(this.xo==null)return;this.ni(i)};D.Ci.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);
if(this.Fl)this.jH(i,h,K);if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.bE=function(){D.Gg.call(this,[10,22],D.Zt,"tools/burn");
this.Ku="burn"};D.bE.prototype=new D.Gg;D.bE.prototype.gE=function(i,$,h,d,K){this.yP(i,h,d,K,this.vw.expo/Math.E);
if(this.xo==null)return;this.ni(i)};D.bE.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);
if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.tx=function(i,$,h){D.Gg.call(this,i==""?null:i?i:[10,1],$?$:D.zJ,h?h:"tools/clone");
this.Ku="clone";this.XS=null;this.I=null};D.tx.prototype=new D.Gg;D.tx.prototype.gE=function(i,$,h,d,K){var f=this.vw,l=f.alt[0];
if(d.j(ai.rf)||d.j(ai.lg)||l){this.XS=i.u._x(K.x,K.y);this.I=null;if(l)this.Af({alt:[!1]},$);this.cW(i);
this.S7(h,d,i,K);return}if(this.XS==null){alert(e_.get([15,7,0]));return}this.S7(h,d);this.yP(i,h,d,K,this.vw.flow);
if(this.xo==null)return;this.I=this.acd(i.u._x(K.x,K.y));this.ni(i)};D.tx.prototype.acd=function(i){var $=this.I;
if($==null||!this.vw.algnd)$=new cq(Math.round(i.x-this.XS.x),Math.round(i.y-this.XS.y));return $};D.tx.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);
if(this.Fl)this.jH(i,h,K);if(this.xo==null){if(this.XS!=null)this.S7(h,d,i,K);return}if(!K.Et||this.XS==null)return;
this.SN(i,h,d,K);this.ni(i)};D.tx.prototype.mQ=function(){return this.I};D.Xw=function(i,$,h){D.TK.call(this,i,$,h);
this.eW={bH:{Zw:0,x:0,y:0},Xk:!1};this.WO=!1;this._N=null;this.cursor=null;this.ao4=0;this.fD=null;this.to=null;
this.Wp=null;this.cS=!1};D.Xw.prototype=new D.TK;D.Xw.prototype.uq=function(){return this._N!=null};
D.Xw.prototype.QH=function(i){return this.to!=null||this._N&&this._N.a2M()};D.Xw.prototype.gE=function(i,$,h,d,K){this.fD=K;
var f=i.u._x(K.x,K.y),l=this.eW.bH,u=l.Zw!=0?l.x/l.y:null,U=this.cS;this.cS=!1;if(this._N){var y=this._N.lP(f,i.u.N);
if(U&&y==null){this._N.clear(i);this._N=null}else{this._N.gE(i,h,d,f,u,!1,K);return}}this.to=D.NN.pn(i,f,h)};
D.Xw.prototype.Ka=function(i,$,h){if(h==null)h=[i.x,i.y,i.x+i.e,i.y,i.x+i.e,i.y+i.n,i.x,i.y+i.n];return new bR(h,!0,!1,this.id==D.QR,!0,$,this.id==D.QR?2:0,this.id==D.QR?4:3)};
D.Xw.prototype.S7=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.xY,hf:this.cursor};i.$($)};D.Xw.prototype.enable=function(i,$,h,d){this.DR=$;
this.cursor="crosshair";this.S7($);if(i!=null&&this._N==null){var K=i.J?{S3:"cropby",asY:3}:{S3:"config",eW:this.eW,awz:!0};
this.oi(K,$,i,d,h);if(i.J==null&&this.eW.bH.Zw==0)this.cS=!0}};D.Xw.prototype.Zm=function(i,$,h,d,K){this.fD=K;
var f=i.u._x(K.x,K.y);if(!K.Et){var l="crosshair";if(this._N){var u=this._N.lP(f,i.u.N,null,K);if(u)l=u;
else l="default"}if(l!=this.cursor){this.cursor=l;this.S7($)}}if(this._N)this._N.Zm(i,h,d,f);else if(this.to){if(this.WO){i.R.HQ={H:["M","L"],C:[this.to.x,this.to.y,f.x,f.y]}}else{var U=D.Eq.qi(this.to,D.NN.pn(i,f,h),d,!0,this.eW.bH),y=U[0].x,a=U[0].y,v=this.Wp=new bN(y,a,U[1].x-y,U[1].y-a);
i.R.HQ=k.p.Hg(v);D.TK.ZO(K,v,i,h)}i.nU=!0}};D.Xw.aaC=function(i,$,h){var d,K,u,U;if($<=h){d=$;K=h}else{d=h;
K=$}var f=i-Math.floor((i+Math.PI)/(2*Math.PI))*2*Math.PI;f=Math.abs(f);if(f>Math.PI/2)f=Math.PI-f;var l=d/(K*Math.sin(f)+d*Math.cos(f));
if($<=h){u=d*l;U=K*l}else{u=K*l;U=d*l}return{DD:u,mJ:U}};D.Xw.prototype.IQ=function(i,$,h,d,K){this.fD=K;
var f=i.u._x(K.x,K.y);if(this._N==null){var l=this.Wp;if(this.to&&(l||this.WO)){if(this.WO){var u=this.to,U=f;
if(u.x>U.x){var y=u;u=U;U=y}var u=Math.atan2(-(U.y-u.y),U.x-u.x),a=D.Xw.aaC(u,i.e,i.n),v=[0,0,a.DD,0,a.DD,a.mJ,0,a.mJ],c=new ej;
c.translate(-a.DD/2,-a.mJ/2);c.rotate(u);c.translate(i.e/2,i.n/2);k.p.D(v,c,v);this._N=this.Ka(l,!1,v);
i.R.HQ=null;this.WO=!1}else{var p=this.eW.bH;this._N=this.Ka(l,p.Zw!=0)}this._N.Ta(i,h);this.Wp=null;
this.Ru($,x.E.k,{d:x.c.zj,b:this.id,uZ:!0});this.to=null;i.R.B0=[];i.nU=!0}return}this._N.IQ(i,h,d,f);
this.Ru($,x.E.k,{d:x.c.zj,b:this.id,uZ:!0});var v=this._N.Og();if(Math.abs(v[0]-v[4])<2&&Math.abs(v[1]-v[5])<2){this.disable(i,$,null,d);
return}if(Date.now()-this.ao4<200&&this._N.WK(f)){this.vH(i,h);this.disable(i,$,h,d);return}this.ao4=Date.now()};
D.Xw.prototype.PS=function(i,$,h,d){var K=this._N;if(K==null||this.fD&&this.fD.Et)return;if(d.j(ai.iQ)){this.vH(i,h);
this.disable(i,$,h,d)}else if(d.j(ai.UY)){this.disable(i,$,h,d)}else K.PS(i,h,d)};D.Xw.asV=function(i,$,h){var d={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:i[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:i[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:i[1]+i[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:i[0]+i[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:$!=null?$:0}},Dlt:{t:"bool",v:h!=null?h:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{Fs:"crop",B6:d}};D.Xw.cr=function(i,$){if($==null)$=[!0,!0,!0,!0];var h={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][i]}}},d=["Top","Left","Btom","Rght"];
for(var t=0;t<4;t++)h[d[t]]={t:"bool",v:$[t]};return{Fs:"trim",B6:h}};D.Xw.aaW=function(i,$,h,d){var K={classID:"null"};
if(d!=null){K.Wdth={t:"UntF",v:{type:"#Pxl",val:i}};K.Hght={t:"UntF",v:{type:"#Pxl",val:$}};K.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][d]}}}if(h!=null)K.Rslt={t:"UntF",v:{type:"#Rsl",val:h}};
return{Fs:"imageSize",B6:K}};D.Xw.ake=function(i,$,h){if(h==null)h=4;var d=Math.floor(h/3),K=h%3;return{Fs:"canvasSize",B6:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:i}},Hght:{t:"UntF",v:{type:"#Pxl",val:$}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][K]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][d]}}}}};
D.Xw.prototype.d6=function(i,$,h,d,K){var f=new bN(0,0,h.e,h.n),l=[11,3],u=h._m,U=h.e/2,y=h.n/2,a=1,o,N,w;
if(i.d=="fromAction"){var v=i.Uf,c=v.Fs,p=v.B6,C=h.e/h.n,T=p.Wdth?p.Wdth.v.val:-1,E=p.Hght?p.Hght.v.val:-1,u=p.Rslt?p.Rslt.v.val:null,r=p.Wdth?p.Wdth.v.type:p.Hght?p.Hght.v.type:-1,Y=1,S;
if(r=="#Prc"){if(T!=-1)T=Math.round(h.e*T/100);if(E!=-1)E=Math.round(h.n*E/100)}if(c=="imageSize"){if(p.Intr){if(p.Intr.v.Intp=="Nrst")Y=0;
if(p.Intr.v.Intp=="bicubicSharper")Y=2;if(T==-1&&E==-1){var m=u/h._m;T=Math.round(h.e*m);E=Math.round(h.n*m)}if(p.CnsP&&p.CnsP.v){if(T==-1)T=Math.round(E*C);
if(E==-1)E=Math.round(T/C)}}else{if(r=="#Prc")u=Math.round(h._m*(h.e/T));else if(r==-1)u=Math.round(u);
else throw"e";T=h.e;E=h.n}S={d:"imgsize",ny:T,ok:E,V7:u,bu:Y}}else if(c=="canvasSize"){if(T==-1)T=h.e;
if(E==-1)E=h.n;if(p.Rltv&&p.Rltv.v==!0){if(p.Wdth)T+=h.e;if(p.Hght)E+=h.n}var Q=p.Vrtc?p.Vrtc.v.VrtL:"Cntr",z=p.Hrzn?p.Hrzn.v.HrzL:"Cntr";
S={d:"canvsize",ny:T,ok:E,kt:3*["Top","Cntr","Btom"].indexOf(Q)+["Left","Cntr","Rght"].indexOf(z)}}else if(c=="revealAll"){S={d:"revealAll"}}else if(c=="trim"){var n={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[p.trimBasedOn.v.trimBasedOn];
if(n==null)throw"e";var Z=["Top","Left","Btom","Rght"],P=[!0,!0,!0,!0];for(var t=0;t<4;t++)if(p[Z[t]])P[t]=p[Z[t]].v;
S={d:"trim",a9V:n,l_:P}}else if(c=="crop"){var V,I,q,X;if(p.T){var B=p.T.v,V=Math.round(B.Left.v.val),I=Math.round(B.Top.v.val),q=Math.round(B.Rght.v.val)-V,X=Math.round(B.Btom.v.val)-I}else{var e=h.B[h.g[0]],F=e.rect;
F=F.Js(new bN(0,0,h.e,h.n));V=F.x;I=F.y;q=F.e;X=F.n}S={d:"canvsize",ny:q,ok:X,I:new cq(V,I),ay6:p.Dlt!=null&&p.Dlt.v}}else console.log(v);
if(S)this.d6(S,$,h,d,K);return}else if(i.d=="imgsize"){f=new bN(0,0,i.ny,i.ok);if(i.V7)u=i.V7;a=i.bu}else if(i.d=="canvsize"){var s=i.kt!=null?i.kt:0;
f=new bN(0,0,i.ny,i.ok);var J=h.e-i.ny,W=h.n-i.ok,L=Math.round(J/2),A=Math.round(W/2);if(s==1||s==4||s==7)f.x=L;
if(s==2||s==5||s==8)f.x=J;if(s==3||s==4||s==5)f.y=A;if(s==6||s==7||s==8)f.y=W;if(i.I){f.x=i.I.x;f.y=i.I.y}}else if(i.d=="rot"&&(i.L+2*Math.PI)%(Math.PI/2)!=0){var j=k.p.Hg(f).C,G=new ej;
G.translate(-U,-y);G.rotate(i.L);G.translate(U,y);k.p.D(j,G,j);f=k.p.DS(j)}else if(i.d=="rot"&&i.L!=Math.PI&&i.L!=-Math.PI){f=new bN(U-h.n/2,y-h.e/2,h.n,h.e);
if((h.e+h.n&1)==1){U=Math.floor(U);y=Math.floor(y);f=new bN(U-Math.floor(h.n/2),y-Math.floor(h.e/2),h.n,h.e);
if((h.e&1)==1&&i.L!=-Math.PI/2)f.y--;if((h.n&1)==1&&i.L==-Math.PI/2)f.x--}}else if(i.d=="trim"){l=[11,12,0];
var O=h.Fy(),F=new bN(0,0,h.e,h.n);f=k.M6(O,F,i.a9V,i.l_);if(f.NT())f=F}else if(i.d=="cropbysel"){l=[11,12,1];
f=h.J.rect.clone()}else if(i.d=="revealAll"){l=[11,12,2];f=h.root.bL(h,!0)}var kv=i.d=="canvsize"&&i.ay6;
if(i.d=="imgsize"||i.d=="rot"||i.d=="scl"||kv){var g=new ej;if(i.d=="imgsize"){l=[11,10];g.scale(i.ny/h.e,i.ok/h.n);
w=h.KG();for(var t=0;t<w[0].length;t++)w[0][t][1]*=w[0][t][0]==0?g.Pi:g.Zn}else if(kv){}else{g.translate(-U,-y);
if(i.d=="rot")g.rotate(i.L);if(i.d=="scl")g.scale(i.L.x,i.L.y);g.translate(U,y);l=i.Q8}N=k.K.F0(g);o=this.eX(h,K,!0,N,a,kv?f:null)}else if(i.d=="auto-align"){if(h.g.length<2){alert("Select two or more layers.");
return}var b=[];for(var t=0;t<h.g.length;t++){var e=h.B[h.g[t]];if(!e.zp()&&e.add.SoLd==null){alert("Unsupported layer selected.");
return}if(e.rect.NT()){alert("Empty layer selected.");return}b.push([e.buffer,e.rect])}var jU=k.Ut.lS(b,0);
if(jU==null){alert("No similarity found.");return}N=jU[1];var _=h.g;h.g=h.g.slice(1);o=this.eX(h,K,!1,jU.slice(1),a);
h.g=_;f=h.root.bL(h,!0);l=[2,10,1]}var cY=new bN(0,0,h.e,h.n);if(!f.NT()&&(!f.Rl(cY)||o!=null)){var j3=new dS(l,this);
j3.data={ano:h._m,V7:u,Bx:o,A1:N,Y5:D.Xw.ac3(h,f,cY,o!=null)};if(w){j3.data.a1M=h.KG();j3.data.an7=w}D.Xw.afn(h,j3.data,f);
h.JY(j3);this.Oi(j3.data,h)}};D.Xw.ac3=function(i,$,h,d){if(i.ky.length==0)return null;var K=JSON.stringify(i.ky),f=JSON.parse(K);
D.Zo.ada(f,$,h,d);f=JSON.stringify(f);return[K,f]};D.Xw.prototype.eX=function(i,$,h,d,K,f){var l={B:[],T1:null,if:null};
if(h){for(var t=0;t<i.B.length;t++)l.B.push(t);for(var t=0;t<i.w3.length;t++)l.B.push(-1-t);for(var t=0;
t<i.kY.length;t++)l.B.push(-1e3-t)}else l.B=i.g.slice(0);l.T1=D.vA.H4(i,l.B,!0);D.vA.dk(i,$,l.B,l.T1,K,d,null,!0,f);
l.if=D.vA.H4(i,l.B,!0);return l};D.Xw.prototype.Oi=function(i,$){if(i.V7)$._m=i.V7;if(i.Y5)$.ky=JSON.parse(i.Y5[1]);
if(i.Bx){D.Xw.Pj($,k.K.g4(i.A1));D.vA.HP($,i.Bx.B,i.Bx.if);if(i.an7)$.N7(i.an7)}D.Xw.gW($,i)};D.Xw.prototype.RU=function(i,$){if(i.ano)$._m=i.ano;
if(i.Y5)$.ky=JSON.parse(i.Y5[0]);D.Xw.L8($,i);if(i._W)$.u.I.jZ(i._W);$.afa();if(i.Bx){var h=k.K.g4(i.A1).clone();
h.Sp();D.Xw.Pj($,h);D.vA.HP($,i.Bx.B,i.Bx.T1);if(i.a1M)$.N7(i.a1M)}};D.Xw.Pj=function(i,$){for(var t=0;
t<i.B.length;t++){var h=i.B[t];if(h.add.artb==null)continue;var d=k.p.Hg(h.Ik()).C;k.p.D(d,$,d);var K=k.p.DS(d);
h.th(K)}};D.Xw.SK=function(i){var $=new bN,h=0,d=i.root.children.length;for(var t=0;t<d;t++){var K=i.root.children[t].a;
if(K.add.artb==null)continue;$=$.rt(K.Ik());h++}var f=new bN(0,0,i.e,i.n);if(!$.NT()&&!f.Rl($))return $;
return null};D.Xw.Cp=function(i){var $=D.Xw.SK(i);if($)D.Xw.Xk(i,$,!0);return $};D.Xw.Xk=function(i,$,h){var d=i.e,K=i.n,f=$.e,l=$.n,u=$.x==0&&$.y==0;
if(u&&d==f&&K==l)return;i.e=f;i.n=l;var U=[];for(var t=0;t<i.B.length;t++)U.push(t);if(!u)D.NN.m8(i,U,null,-$.x,-$.y);
for(var t=0;t<i.B.length;t++){i.B[t].ET(i)}i.afa();if(h){var y=i.u.I,a=i.u.N;y.x+=Math.round(($.x+(f-d)/2)*a);
y.y+=Math.round(($.y+(l-K)/2)*a)}else i.u.I.WI(0,0);if(i.J)i.J.rect.offset(-$.x,-$.y);var v=i.KG();for(var c=0;
c<v[0].length;c++)if(v[1][c]==-1){var p=i.C9[c];p[1]-=p[0]==0?$.x:$.y}for(var t=0;t<i.kY.length;t++)i.kY[t].rect.offset(-$.x,-$.y)};
D.Xw.prototype.oi=function(i,$,h,d,K){if(i.S3=="commit"){this.vH(h,K);this.disable(h,$,null,d)}else if(i.S3=="cancel"){this.disable(h,$,null,d)}var f=null,l=new bN(0,0,h.e,h.n),u=this.eW.bH;
if(i.S3=="config"){this.eW=i.eW;u=this.eW.bH;if(h==null||!i.awz)return;f=l;if(u.Zw==1){var U=u.x/u.y;
if(f.e/U<f.n)f.n=Math.round(f.e/U);else f.e=Math.round(f.n*U)}if(u.Zw==2){f.e=u.x;f.n=u.y}f.x=Math.round((h.e-f.e)/2);
f.y=Math.round((h.n-f.n)/2)}if(i.S3=="straighten"){alert("Draw a line in the image.");this.WO=!0}if(i.S3=="cropby"){if(h==null)return;
var y=i.asY,f;if(y==0)f=h.root.bL(h,!0);if(y==1){if(h.g.length==0)alert("No layer is selected.");else{var a=h.root.$p(h.g[0]);
f=a.bL(h,!0)}}if(y==2){if(h.g.length==0)alert("No layer is selected.");else{f=k.M6(h.Fy(),l,0);if(f.NT())f=l.clone()}}if(y==3){if(h.J!=null)f=h.J.rect;
else alert("There is no selection.")}if(y==4){f=new bN(0,0,h.e,h.n)}}if(f&&f.NT())f=null;if(f!=null){this._N=this.Ka(f,u.Zw!=0);
this._N.Ta(h,K);this.Ru($,x.E.k,{d:x.c.zj,b:this.id,uZ:!0})}};D.Xw.prototype.vH=function(i,$){var h=this._N.Og(),d=k.p.DS(h),K=this.axl(i,h),f=!1,l=this.eW.bH,u=this.eW.Xk,U=l.x,y=l.y,c;
if(this.id==D.ds&&l.Zw==2&&K.O()!=U*y){K=new bN(K.x,K.y,U,y);f=!0}var a=k.K.bS(h,K);a=k.K.Sp(a);var v=k.K.fg(a),p=Math.atan2(a[3],a[0]);
if(Math.abs(p)>1e-9||!v||f||u)c=this.eX(i,$,!0,a,1,d);var C=new dS(this.name,this),T=new bN(0,0,i.e,i.n);
C.data={Bx:c,A1:a,_W:i.u.I.clone(),Y5:D.Xw.ac3(i,K,T,!1)};D.Xw.afn(i,C.data,K);i.JY(C);this.Oi(C.data,i);
this.track(D.Xw.asV([d.x,d.y,d.e,d.n],null,u))};D.Xw.afn=function(i,$,h){if(h==null)return;$.bw=new bN(0,0,i.e,i.n);
$.BG=h};D.Xw.gW=function(i,$){if($.BG==null)return;D.Xw.Xk(i,$.BG)};D.Xw.L8=function(i,$){if($.BG==null)return;
var h=$.bw.clone();h.offset(-$.BG.x,-$.BG.y);D.Xw.Xk(i,h)};D.Xw.prototype.axl=function(i,$){var h=k.K.bS($),d=k.K.fg(h),K=k.K.g4(h),f=K.wQ,l=K.FQ,u=Math.atan2(K.Z,K.Pi);
K.rotate(u);var U=new bN(f,l,K.Pi,K.Zn);if(!d){function y(S,t,m){var Q=S[t]-S[m],z=S[t+1]-S[m+1];return Math.sqrt(Q*Q+z*z)}var a=y($,0,2),v=y($,4,6),c=Math.max(a,v),p=y($,2,4),C=y($,6,0),T=Math.max(p,C),E=D.Xw.a4U($,i.e/2,i.n/2),r,Y;
if(isNaN(E)||E==Infinity||E==-Infinity||Math.min(E,1/E)<.1)E=(a+v)/(p+C);if(c/T>E){r=c*1;Y=r/E}else{Y=T*1;
r=Y*E}U.e=r;U.n=Y}U.x=Math.round(U.x);U.y=Math.round(U.y);U.e=Math.round(U.e);U.n=Math.round(U.n);return U};
D.Xw.a4U=function(i,$,h){var d=i[0]-$,K=i[1]-h,f=i[2]-$,l=i[3]-h,u=i[6]-$,U=i[7]-h,y=i[4]-$,a=i[5]-h,v=((K-a)*u-(d-y)*U+d*a-K*y)/((l-a)*u-(f-y)*U+f*a-l*y),c=((K-a)*f-(d-y)*l+d*a-K*y)/((U-a)*f-(u-y)*l+u*a-U*y),p=-((c*U-K)*(v*l-K)+(c*u-d)*(v*f-d))/((c-1)*(v-1));
function C(E){return E*E}var T=Math.sqrt((C(v-1)+C(v*l-K)/p+C(v*f-d)/p)/(C(c-1)+C(c*U-K)/p+C(c*u-d)/p));
if(v==1&&c==1)T=Math.sqrt((C(l-K)+C(f-d))/(C(U-K)+C(u-d)));return T};D.Xw.prototype.disable=function(i,$,h,d){if(i==null)return;
if(this._N)this._N.clear(i);this._N=null;this.Ru($,x.E.k,{d:x.c.zj,b:this.id,uZ:!1})};D.Xw.prototype.Ru=function(i,$,h,d){var K=new eU($,!0);
K.data=h;if(d)K.b=d;i.$(K)};D.adu=function(){D.Xw.call(this,[10,2],D.ds,"tools/rcrop")};D.adu.prototype=new D.Xw;
D.ayz=function(){D.Xw.call(this,[10,39],D.QR,"tools/pcrop")};D.ayz.prototype=new D.Xw;D.lE=function(){D.Gg.call(this,[10,21],D.WW,"tools/dodge");
this.Ku="dodge"};D.lE.prototype=new D.Gg;D.lE.prototype.gE=function(i,$,h,d,K){this.yP(i,h,d,K,this.vw.expo/Math.PI);
if(this.xo==null)return;this.ni(i)};D.lE.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);
if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.Cb=function(){D.Gg.call(this,[10,3],D.a3,"tools/eraser");
this.Ku="erase"};D.Cb.prototype=new D.Gg;D.Cb.prototype.gE=function(i,$,h,d,K){this.yP(i,h,d,K,this.vw.flow);
if(this.xo==null)return;this.ni(i)};D.Cb.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);
if(this.xo==null)return;if(!K.Et)return;var f=this.SN(i,h,d,K);this.ni(i)};D.LM=function(){D.Gg.call(this,[10,45],D.at7,"tools/beraser");
this.Ku="ierase"};D.LM.prototype=new D.Gg;D.LM.prototype.gE=function(i,$,h,d,K){if(this.KP(d,$,K))return;
this.yP(i,h,d,K,this.vw.flow);if(this.xo==null)return;this.ni(i)};D.LM.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);
if(this.Fl)this.jH(i,h,K);if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.xS=function(){D.n1.call(this,[10,15],D.oN,"tools/rselect");
this.Qs="crosshair"};D.xS.prototype=new D.n1;D.xS.prototype.CX=function(i,$,h,d){if(!d.Et||!this.CG)return;
var K=this.bL(i,h,!0);i.R.HQ=k.p.Hg(K);i.nU=!0;D.TK.ZO(d,K,i,$)};D.xS.prototype.QA=function(i,$,h,d){i.R.HQ=null;
i.R.B0=[];i.nU=!0;this.finish(i,$,h,d)};D.xS.prototype.getSelection=function(i,$,h,d){if(this.to.Rl(this.q4)||!this.CG)return null;
var K=this.bL(i,h,!0);if(K.NT())return null;return D.n1.mz("Rctn",K,this.vw.anta)};D.fw=function(){D.n1.call(this,[10,4],D.a6G,"tools/eselect");
this.Qs="crosshair"};D.fw.prototype=new D.n1;D.fw.prototype.CX=function(i,$,h,d){if(!d.Et||!this.CG)return;
var K=this.bL(i,h);i.R.HQ=D.fw.a37(K);i.nU=!0;D.TK.ZO(d,K,i,$)};D.fw.prototype.QA=function(i,$,h,d){i.R.HQ=null;
i.R.B0=[];i.nU=!0;this.finish(i,$,h,d)};D.fw.prototype.getSelection=function(i,$,h,d){if(this.to.Rl(this.q4)||!this.CG)return null;
var K=this.bL(i,h);if(!K.CF(new bN(0,0,i.e,i.n)))return null;return D.n1.mz("Elps",K,this.vw.anta)};
D.fw.a37=function(i){var $=i.x,h=i.y,d=i.x+i.e,K=i.y+i.n,f=($+d)/2,l=(h+K)/2,u=($-d)/2,U=(h-K)/2,y=.5522848,a={C:[f,l-U],H:["M","C","C","C","C"]};
a.C.push(f+y*u,l-U,f+u,l-y*U,f+u,l);a.C.push(f+u,l+y*U,f+y*u,l+U,f,l+U);a.C.push(f-y*u,l+U,f-u,l+y*U,f-u,l);
a.C.push(f-u,l-y*U,f-y*u,l-U,f,l-U);return a};D.Sv=function(i){D.TK.call(this,[10,5],i?D.m4:D.M$,"tools/eyedropper");
this.DK=null;this.ob=0;this.Hr=null;this.uQ=1;this.si=2;this.aa8=!0;this._E=!1};D.Sv.prototype=new D.TK;
D.Sv.prototype.QH=function(i){return i.Et};D.Sv.prototype.d6=function(i,$,h,d,K){if(i.d=="pickhere")this.Lz(h,$,K,null,i.a9L);
if(i.d=="supertool")this.DK=i.b};D.Sv.prototype.gE=function(i,$,h,d,K){var f=this.DK;if(f){f.gE(i,$,h,d,K);
return}this.ob=h.Mz;this.Hr=K;var l=this.Lz(i,null,h,d,K);this.S7(i,$,l,K)};D.Sv.prototype.Zm=function(i,$,h,d,K){var f=this.DK;
if(f){f.Zm(i,$,h,d,K);return}var l=this.Hr;if(l){var u=K.x-l.x,U=K.y-l.y,y=1,a=new cq(l.x+u*y,l.y+U*y),v=this.Lz(i,null,h,d,a);
this.S7(i,$,v,a,new cq(u*(1-y),U*(1-y)))}};D.Sv.prototype.S7=function(i,$,h,d,K){var f=this.aa8,l=this._E,y=12,a=11;
if(i.u.N>4)l=!1;if(!l&&!f)return;if(K==null)K=new cq(0,0);var u=new bN(0,0,i.e,i.n),U=i.Fy(),v=(y*2+1)*a,c=new cq(v/2,v/2),p=new bN(0,0,v,v),C=k.Q(p.O()*4),T=i.u._x(d.x,d.y),E=Math.floor(T.x),r=Math.floor(T.y),Y=new ej;
Y.scale(1/a,1/a);Y.translate(E-y,r-y);if(l)k.scale.p8(U,u,Y,C,p);var S=(y-3.4)*a,m=(y-1.7)*a,Q=y*a;for(var z=0;
z<v;z++)for(var n=0;n<v;n++){var Z=cq.ED(new cq(n,z),c);if(Z>S){if(f){var P=Math.max(0,S-Z+1),V=(z*v+n)*4,I=C[V+3]<<24|C[V]<<16|C[V+1]<<8|C[V+2],q=255<<24|(z<Q+a*.5?h:this.ob);
if(Z>m){P=Math.max(0,m-Z+1);I=q;q=4286611584}else if(!l){I=q&16777215}C[V+0]=(1-P)*(q>>>16&255)+P*(I>>>16&255);
C[V+1]=(1-P)*(q>>>8&255)+P*(I>>>8&255);C[V+2]=(1-P)*(q>>>0&255)+P*(I>>>0&255);C[V+3]=(1-P)*(q>>>24&255)+P*(I>>>24&255)}if(Z>Q){C[(z*v+n)*4+3]=Math.max(0,255*(Q-Z+1))}}}function X(t){var N=t<<2;
C[N]=0;C[N+1]=0;C[N+2]=0;C[N+3]=255}function B(t){var N=t<<2;C[N]=255;C[N+1]=255;C[N+2]=255;C[N+3]=255}var e=this.uQ*a+2,F=v-e>>>1,s=F+e-1;
if(l&&e<v)for(var t=0;t<e;t++){var J=F*v+F+t,W=s*v+F+t,L=(F+t)*v+F,A=(F+t)*v+s;X(J);X(W);X(L);X(A);if(t!=0&&t!=e-1){B(J+v);
B(W-v);B(L+1);B(A-1)}}if(!l)for(var t=-9;t<=9;t++){if(-3<t&&t<3)continue;var j=v>>>1,n=j*v+j+t,z=(j+t)*v+j;
B(n-v);X(n);B(n+v);B(z-1);X(z);B(z+1)}var G=D.TK.Wa(0,0,["#"+k._V(h),"RGB "+(h>>>16&255)+","+(h>>>8&255)+","+(h>>>0&255)]),u=G[1];
u.y=0;u.x=v-u.e>>>1;k.mC(G[0],u,C,p);var O={s$:C,gZ:p,XK:new cq(c.x+K.x,c.y+K.y)},o=new eU(x.E.k,!0);
o.data={d:x.c.xY,hf:O};$.$(o)};D.Sv.prototype.IQ=function(i,$,h,d,K,f){this.Lz(i,$,h,d,K);var l=this.DK;
if(l){l.IQ(i,$,h,d,K);return}if(this.Hr){this.Hr=null;if(f)this.Lz(i,$,h,d,K,this.ob);var u=new eU(x.E.k,!0);
u.data={d:x.c.xY,hf:"default"};$.$(u)}};D.Sv.prototype.Lz=function(i,$,h,d,K,f){if(f==null)f=D.Sv.rn(i,K,this.uQ,this.si);
var l=new eU(x.E.k);l.data={d:x.c.vj,J0:dC.xq,vC:d&&d.j(ai.rf)?1:0,L:f};if($)$.$(l);return f};D.Sv.rn=function(i,$,h,d){if(d==null)d=2;
var K=i.u._x($.x,$.y),f,l,u=i.g.length==1&&i.B[i.g[0]].Tu>0,U=i.o7.length!=0,m=0,Q=0,z=0;if(u||U){var y;
if(U)y=i.kY[i.o7[0]];else{var a=i.B[i.g[0]];y=a.Tu==1?a.MQ():a.aht()}l=y.bL();if(!l.dD(K))return y.color==0?0:16777215;
f=k.Q(l.O()*4);f.fill(255);var v=y.oT();k.ai(v,f)}else if(d==0&&i.g.length!=0){var a=i.B[i.g[0]];f=a.buffer;
l=a.rect}else{f=d==2?i.Fy():i.Fy(i.g[0]);l=new bN(0,0,i.e,i.n)}var c=Math.floor(K.x)-l.x,p=Math.floor(K.y)-l.y,C=(h-1)/2,T=Math.max(0,c-C),E=Math.max(0,p-C),r=Math.min(l.e,c+C+1),Y=Math.min(l.n,p+C+1),S=(r-T)*(Y-E);
for(var c=T;c<r;c++)for(var p=E;p<Y;p++){var t=4*(p*l.e+c);m+=f[t];Q+=f[t+1];z+=f[t+2]}m=Math.round(m/S);
Q=Math.round(Q/S);z=Math.round(z/S);return m<<16|Q<<8|z};D.Sv.prototype.oi=function(i){var $=i.vw;this.uQ=[1,3,5,11,31][$[0]];
this.si=$[1];this.aa8=$[2];this._E=$[3]};D.pK=function(){D.TK.call(this,[10,6],D.amu,"tools/gradient");
this.vw={M:JSON.parse(et.Rq.avD).v,z3:"Lnr",Gc:!1,a2W:!1,a42:"norm",kJ:1};this.VJ=!1;this.Ou=null};D.pK.prototype=new D.TK;
D.pK.prototype.enable=function(i,$,h,d){var K=new eU(x.E.k,!0);K.data={d:x.c.xY,hf:"default"};$.$(K)};
D.pK.prototype.oi=function(i){this.vw=i.J0};D.pK.prototype.gE=function(i,$,h,d,K){if(!i.EX())return;
this.Ou=i.u._x(K.x,K.y);this.Ou=D.NN.pn(i,this.Ou,h);this.VJ=!0};D.pK.prototype.Zm=function(i,$,h,d,K){if(!this.VJ)return;
var f=i.u._x(K.x,K.y);f=D.NN.pn(i,f,h);if(d.j(ai.EW))f=D.pK.yc(this.Ou,f);i.R.HQ={C:[this.Ou.x,this.Ou.y,f.x,f.y],H:["M","L"]};
i.R.xX=[this.Ou.x,this.Ou.y,f.x,f.y];i.nU=!0};D.pK.prototype.IQ=function(i,$,h,d,K){if(!this.VJ)return;
var f=i.B[i.g[0]],l=i.u._x(K.x,K.y);l=D.NN.pn(i,l,h);if(d.j(ai.EW))l=D.pK.yc(this.Ou,l);var u=l.JI(this.Ou),U=cq.IV(this.Ou,l,.5),y=Math.atan2(u.y,u.x),a=cq.ED(this.Ou,l),v=Math.sin(y),c=Math.cos(y);
if(a>2){var p;if(i.J)p=i.J.rect;else p=new bN(0,0,i.e,i.n);var C=k.Q(p.O()*4),T=this.vw,E=T.z3;if(E!="Lnr"){a*=2;
U=this.Ou}k.M.f2(T.M,C,p,[c*1/a,v*1/a,-v*1/a,c*1/a],U.x,U.y,T.Gc,et.M.types.indexOf(E),h.Mz,h.n9,null,T.a2W);
var r=Math.round(T.kJ*256),Y=C.length;if(r!=256)for(var t=0;t<Y;t+=4)C[t+3]=C[t+3]*r>>>8;var S=new eU(x.E.s);
S.b=D.a3;S.data={d:"fillBMP",Vg:C,eV:T.a42,Q8:this.name};$.$(S)}i.R.HQ=null;i.R.xX=[];i.nU=!0;this.VJ=!1};
D.pK.yc=function(i,$){if(i.Rl($))return i;var h=$.x-i.x,d=$.y-i.y,K=Math.abs(h),f=Math.abs(d);if(K>f)f=K/2>f?0:K;
if(f>K)K=f/2>K?0:f;K=h>0?K:-K;f=d>0?f:-f;var l=Math.sqrt(h*h+d*d)/Math.sqrt(K*K+f*f);return new cq(i.x+K*l,i.y+f*l)};
D.pK.eR=function(i,$,h,d,K,f,l){var u=new bN(0,0,$,h),U=k.Q($*h*4);k.by(U,$,h,4);var y=Math.sin(d),a=Math.cos(d),v=k.Q($*h*4);
k.M.f2(i,v,u,[a*1/$,y*1/$,-y*1/h,a*1/h],$/2,h/2,!1,0,K,f);k.l.NU("norm",v,u,U,u,u,1);return em.xJ(U.buffer,$,h,null,null,!0)};
D.pK.a6c=function(i,$,h){var d=JSON.parse(JSON.stringify(i));if(d.Clrs)for(var t=0;t<d.Clrs.v.length;
t++){var K=d.Clrs.v[t].v,f=K.Type.v.Clry;if(f=="UsrS")continue;var l=f=="FrgC"?$:h;K.Type.v.Clry="UsrS";
K.Clr={t:"Objc",v:k.M.Aw({o:l>>16&255,P:l>>8&255,Z:l&255})}}return d};D.KQ=function(){D.TK.call(this,[10,7],D.GC,"tools/hand");
this.Hr=new cq(0,0);this.Uv=null;this.gA=0};D.KQ.prototype=new D.TK;D.KQ.prototype.d6=function(i,$,h,d,K){var f=i.d;
if(f=="setcls"){h.u.rB=i.rB;h.nU=!0;h.u6=!0}if(f=="scroll"&&!d.j(ai.rf)){if(d.j(ai.PO))D.KQ.t4(h,h.u.I.x-i.Bb.y,h.u.I.y-i.Bb.x);
else D.KQ.t4(h,h.u.I.x-i.Bb.x,h.u.I.y-i.Bb.y)}};D.KQ.prototype.enable=function(i,$,h,d){this.Uv=null;
var K=new eU(x.E.k,!0);K.data={d:x.c.xY,hf:"grab"};$.$(K);if(i&&Date.now()-this.gA<300){K.type=x.E.s;
K.b=D.VB;K.data={d:"adapt",L:"fitscr"};$.$(K)}this.gA=Date.now()};D.KQ.prototype.gE=function(i,$,h,d,K){this.Uv=i.u.I.clone();
this.Hr.WI(K.x,K.y)};D.KQ.prototype.Zm=function(i,$,h,d,K){if(!K.Et)return;if(this.Uv==null)this.gE(i,$,h,d,K);
D.KQ.t4(i,this.Uv.x+(K.x-this.Hr.x),this.Uv.y+(K.y-this.Hr.y))};D.KQ.prototype.IQ=function(i,$,h,d,K){this.Uv=null};
D.KQ.t4=function(i,$,h){var d=i.u.N,K=i.u.Os,f=K.e,l=K.n,u=i.e*d,U=i.n*d,y=u<f&&U<l,a=f/2+u/2-64,v=l/2+U/2-64;
i.u.I.WI(Math.max(-a,Math.min(a,$)),Math.max(-v,Math.min(v,h)));i.u6=!0};D.hv=function(){D.TK.call(this,[10,47],D.MI,"tools/rview");
this.Hr=new cq(0,0);this.hG=null;this.CM=null;this.gA=0};D.hv.prototype=new D.TK;D.hv.prototype.enable=function(i,$,h,d){this.Uv=null;
var K=new eU(x.E.k,!0);K.data={d:x.c.xY,hf:"grab"};$.$(K);if(i&&Date.now()-this.gA<300&&i.u.rS!=0){i.u.rS=0;
i.nU=!0}this.gA=Date.now();if(i)this.cl(i,$)};D.hv.prototype.disable=function(i,$,h,d,K){if(i)this.cl(i,$)};
D.hv.prototype.i2=function(i,$,h,d){if(i)this.cl(i,$)};D.hv.prototype.gE=function(i,$,h,d,K){this.Hr.WI(K.x,K.y);
var f=i.u;this.hG=f._x(f.Os.e/2,f.Os.n/2);this.CM=f.CT();var l=f._x(f.Os.e/2,f.Os.n/2),u=Math.min(f.Os.e,f.Os.n)*.35/f.N,U=u*.2,y=l.x,a=l.y;
i.R.HQ={H:"M L L L L L".split(" "),C:[y,a,y,a-u,y+U,a,y,a+u,y-U,a,y,a-u]};i.nU=!0};D.hv.prototype.ab4=function(i){var $=i.u,h=$._x($.Os.e/2,$.Os.n/2);
i.R.HQ={H:["M","L"],C:[h.x,h.y,h.x,h.y-200]}};D.hv.prototype.Zm=function(i,$,h,d,K){if(!K.Et)return;
var f=i.u,l=this.hG,u=this.Hr,U=new cq(f.Os.e/2,f.Os.n/2),y=Math.atan2(K.y-U.y,K.x-U.x),a=Math.atan2(u.y-U.y,u.x-U.x),v=Math.atan2(this.CM.Z,this.CM.Pi),c=y-a,p=Math.PI/4;
if(d.j(ai.EW)){c=v+p*Math.round((c-v)/p)}this.aya(i,$,this.CM.clone(),l,c)};D.hv.prototype.IQ=function(i,$,h,d,K){i.R.HQ=null;
i.nU=!0};D.hv.prototype.oi=function(i,$,h,d){this.aya(h,$,null,null,i.Ns-h.u.rS);h.u.rS=i.Ns};D.hv.prototype.aya=function(i,$,h,d,K){var f=i.u;
if(h==null)h=f.CT();if(d==null)d=f._x(f.Os.e/2,f.Os.n/2);h.translate(-d.x,-d.y);h.rotate(K);h.translate(d.x,d.y);
f.akL(h);if(i.e*f.N<f.Os.e&&i.n*f.N<f.Os.n)f.I.WI(0,0);i.nU=!0;this.cl(i,$)};D.hv.prototype.cl=function(i,$){var h=new eU(x.E.k,!0);
h.data={d:x.c.zj,b:this.id,Ns:i.u.rS};$.$(h)};D.Mi=function(){D.tx.call(this,[10,25],D.B3,"tools/hbrush")};
D.Mi.prototype=new D.tx("");D.Mi.prototype.IQ=function(i,$,h,d,K){if(this.xo==null)return;this.Dq(i,"heal",this.xo.T9(),this.xo.bL(),this.xo.Je());
this.U(i,this.xo.Je());D.Gg.prototype.IQ.call(this,i,$,h,d,K);if(!this.vw.algnd)this.I=null};D.Qz=function(i){D.TK.call(this,i?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],i?D.ry:D.z2,i?"tools/vtype":"tools/htype");
this.po=[];this.bX=null;this.caller=null;this.Ab=1;this.PB=null;this.avH=0;this.oY=0;this.aqY=null;this.Ay=null;
this.l1=null;this.xK=null;this.yd=null;this.q6=null;this.a6b=null;this.Yn=null;this._N=null;this.TR=null;
this.ayy=null;this.oU=!1;this.Ef=!1;this.NC=!1;this.ER=null;this.k_=null;this.awp=null;this.Nq=!1;this.UE=!1;
this.K5=-1;this.G7=-1;this.JF=document.createElement("textarea");this.JF.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.JF.addEventListener("input",this.U_.bind(this),!1);this.JF.addEventListener("keydown",this.aop.bind(this),!1);
this.JF.addEventListener("keyup",this.a3c.bind(this),!1)};D.Qz.prototype=new D.TK;D.Qz.prototype.QH=function(i){return i.Et};
D.Qz.prototype.Qi=function(i,$,h,d){if(this.l1!=null||this.id==D.ry)return;this.caller=$;var K=this.ard(i);
if(K.length!=0){var f=null,l=[],u=[];for(var t=0;t<K.length;t++){var U=i.B[K[t]],y=U.add.TySh,a=0,v=jP.Gs(y.$D).length-2,c=jP.Zg(y.$D,a,v);
jP.z_(c,y.D.Qa());if(c.TL.Font!=null)c.TL.Font=c.A8[c.TL.Font].Name;f=c.A8;l.push(c.TL);u.push(c.OU)}var c={A8:f,TL:jP.hW(l),OU:jP.hW(u)};
if(c.TL.Font!=null)jP.Qr(c,c.TL.Font);this.ai3($,c,y)}};D.Qz.prototype.ard=function(i){var $=[];for(var t=0;
t<i.g.length;t++)if(i.B[i.g[t]]&&i.B[i.g[t]].add.TySh)$.push(i.g[t]);return $};D.Qz.prototype.d6=function(i,$,h,d,K){var f=i.d=="insertGlyph";
if((f||i.d=="insertText")&&this.l1){var l=f?String.fromCharCode(65533):i.L,u=this.JF,U=u.value,y=u.selectionStart,a=u.selectionEnd;
u.value=U.slice(0,y)+l+U.slice(a);u.selectionStart=u.selectionEnd=y+l.length;this.U_(null,f?i.L:null);
u.focus()}if(i.d=="updateStyles"){if(this.l1==null){var v=this.ard(h),c=!1;if(v.length!=0){this.ee(h,$,K,v);
for(var t=0;t<v.length;t++){var p=h.B[v[t]],C=p.add.TySh;jP.Td(C,this.Ab);this.l1=p;var T=jP.Gs(C.$D);
this.K5=0;this.G7=T.length-1;jP.jV(C.$D,this.K5,this.G7,this.di(K,C));var E=this.AA(h,K);if(E==!1)c=!0}if(c){this.Nq=!0;
return}this.Bo(h,$)}return}this.fs(K)}if(i.d.startsWith("warp")){var r=this.UE;if(i.d=="warp"||i.d=="warpCancel"){if(this.l1==null)return;
if(i.d=="warp")this.l1.add.TySh.sT=i.O$;else this.l1.add.TySh.sT=this.a6b;this.AA(h,K);if(!r)this.jF(h)}if(i.d!="warp")this.JF.focus();
if((i.d=="warpConfirm"||i.d=="warpCancel")&&r){this.UE=!1;if(i.d=="warpConfirm")this.Bo(h,$);else this.ZY(h,$)}}if(i.d=="editCurr"){if(K.Kw!=D.z2){this.PB=K.Kw;
var Y=new eU(x.E.k,!0);Y.data={d:x.c.ro,b:D.z2};$.$(Y)}if(this.l1!=null)this.disable(h,$,K,d);this.bX=K;
this.caller=$;this.ee(h,$,K,[i.hn]);var T=jP.Gs(this.l1.add.TySh.$D);this.K5=0;this.G7=T.length-1;this.jF(h);
this.ao();this.JF.focus()}if(i.d=="switchPntPrgr"){if(this.l1)return;var p=h.B[h.g[0]],C=p.add.TySh,S=C.D.Qa(),m=JSON.parse(JSON.stringify(C.$D)),Q=jP.dO(m),z=Q==1?jP.__(m):[0,0,Math.round(p.rect.e*1.05/S),Math.round(p.rect.n*1.25/S)],n=jP.Zg(m,0,0),Z=n.A8[n.TL.Font].Name,P=K.SB.BM(Z),V=[0,z[2],z[2]/2][n.OU.Justification%3],I=P?kd.Im(P,Z,n.TL):n.TL.FontSize*.8;
jP.tA(m,1-Q);if(Q==0){V=-V;I=-I;jP.pt(m,[0,0,z[2],z[3]])}var q=new ej(1,0,0,1,V,I);q.concat(C.D);this.d6({g5:h.g[0],d:"newED",hj:m,D:q,al3:[16,3,Q==1?0:1]},$,h,d,K)}if(i.d=="newED"){var p=h.B[i.g5],C=p.add.TySh,X=this.BV(h,[i.g5]);
C.$D=i.hj;if(i.D)C.D=i.D;if(bM.DB(C,K.SB,$)){bM.AA(p,K.SB,h);h.U()}else h.Od=!0;var B=new dS(i.al3?i.al3:this.name,this);
B.data={j4:X,Oo:this.BV(h,[i.g5])};h.JY(B)}if(i.d=="fromAction"){var e=i.Uf.B6.Usng.v,F=e.TxtC.v,s=[];
for(var t=0;t<2;t++){var J=F[t==0?"Hrzn":"Vrtc"].v,l=J.val;if(J.type=="#Prc")l=(t==0?h.e:h.n)*(l/100);
s[t]=l}this.dH(h,$,K,d,h.u.cV(s[0],s[1]));var p=h.B[h.g[0]],C=p.add.TySh,W=C.$D,U=jP.Gs(W);jP.UF(W,0,U.length-1);
jP.uE(W,0,e.Txt.v.replace(/\r/g,"\n"));U=jP.Gs(W);for(var Q=0;Q<2;Q++){var L=e[Q==0?"Txtt":"paragraphStyleRange"].v;
for(var t=0;t<L.length;t++){var A=L[t].v,y=A.From.v,a=Math.min(A.T.v-1,U.length-1);A=A[Q==0?"TxtS":"paragraphStyle"].v;
var j=jP.Zg(W,y,a),G=Q==0?j.TL:j.OU;for(var O in A){var o=A[O].v;if(O=="Sz")G.FontSize=Math.round(o.val);
else if(O=="fontPostScriptName")jP.Qr(j,o);else if(O=="Algn")G.Justification={Left:1,Cntr:2}[o.Alg];
else if(O=="leading")G.Leading=A[O].v.val;else if(O=="baselineShift")G.BaselineShift=A[O].v.val;else if(O=="autoLeading")G.AutoLeading=A[O].v;
else if(O=="syntheticBold")G.FauxBold=A[O].v;else if(O=="syntheticItalic")G.FauxItalic=A[O].v;else if(O=="Trck")G.Tracking=A[O].v;
else if(O=="verticalScale")G.VerticalScale=A[O].v/100;else if(O=="horizontalScale")G.HorizontalScale=A[O].v/100;
else if(O=="Clr")G.FillColor={Type:1,Values:[1,o.Rd.v/255,o.Grn.v/255,o.Bl.v/255]}}jP.jV(W,y,a,j)}}bM.AA(p,K.SB,h);
h.U();this.Bo(h,$)}};D.Qz.prototype.fs=function(i){var $=Math.min(this.K5,this.G7),h=Math.max(this.K5,this.G7),d=this.l1.add.TySh;
jP.Td(d,this.Ab);var K=this.di(i,d);jP.jV(d.$D,$,h-1,K);var f=this.caller.l3(),l=this.AA(f,i);if(l)this.jF(f);
if(document.activeElement.tagName.toLowerCase()!="input")this.JF.focus()};D.Qz.prototype.JL=function(i){return this.po.indexOf(i)!=-1};
D.Qz.prototype.enable=function(i,$,h,d){var K=this.JF;$.m.appendChild(K);this.Yn="default";this.S7($)};
D.Qz.prototype.uq=function(){return this.l1!=null};D.Qz.BU=function(i,$){for(var t=i.B.length-1;t>=0;
t--){var h=i.B[t];if(h.add.TySh&&h.rect.dD($)&&i.ans(t)){var d=h.wC(31);return d?-2:t}}return-1};D.Qz.prototype.gE=function(i,$,h,d,K){this.bX=h;
this.caller=$;var f=i.u._x(K.x,K.y),l=this.l1==null;if(l){var u=D.Qz.BU(i,f);if(u==-2){alert(e_.get([6,57,0]));
return}if(u>=0&&!d.j(ai.EW)){if(!bM.DB(i.B[u].add.TySh,h.SB,$)){alert("Fonts not loaded yet");return}this.ee(i,$,h,[u])}else{this.NC=!0;
this.ER=K;return}}var U=l?-1:jP.dO(this.l1.add.TySh.$D),y=this.TR?this.TR:this._N;if(y&&y.gE(i,h,d,f,null,null,K)&&k.O$.PJ(this.l1.add.TySh.sT)||!l&&k.p.Ga(f,this.l1.rect)>20/i.u.N&&(U==0||U==1)){this.oU=!0;
this.k_=f;this.awp=this.l1.add.TySh.D.clone();if(this.K5==-1&&this.G7==-1)this.K5=this.G7=this.Mk(f)}else{if(this.yd==null){alert("Fonts not loaded yet");
return}this.Ef=!0;this.K5=this.G7=this.Mk(f);var a=Date.now();if(a-this.avH>300)this.oY=0;this.oY++;
this.avH=a;if(this.oY==2)this.au4();if(this.oY==3)this.a7d();if(this.oY>1){this.Ef=!1}}this.ao();this.jF(i)};
D.Qz.prototype.ee=function(i,$,h,d){var K=i.B[d[0]];this.l1=K;this.Ru($,x.E.k,{d:x.c.zj,b:this.id,S3:"showactive"});
this.xK=d;i.g=d.slice(0);i.dU();i.zy=!0;this.q6=this.BV(i,d);this.R9(K.add.TySh);this.AA(i,h)};D.Qz.prototype.R9=function(i){if(jP.dO(i.$D)!=1)return;
var $=jP.__(i.$D);$=new bN(0,0,$[2]-$[0],$[3]-$[1]);var h=[$.x,$.y,$.x+$.e,$.y,$.x+$.e,$.y+$.n,$.x,$.y+$.n];
k.p.D(h,i.D,h);this._N=new bR(h,!1,!1,!1,!0)};D.Qz.prototype.au4=function(){var i=jP.Gs(this.l1.add.TySh.$D);
this.K5=this.al0(i,this.K5);this.G7=this.ayt(i,this.K5)};D.Qz.prototype.al0=function(i,$){var h=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",d=[];
for(var t=0;t<h.length;t++)d.push(h.charAt(t));var K=d.indexOf(i[$])==-1?!0:!1;for(var t=$-1;t>=0;t--)if(d.indexOf(i.charAt(t))!=-1==K)return t+1;
return 0};D.Qz.prototype.ayt=function(i,$){var h=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",d=[];for(var t=0;
t<h.length;t++)d.push(h.charAt(t));var K=d.indexOf(i[$])==-1?!0:!1;for(var t=$+1;t<i.length;t++)if(d.indexOf(i.charAt(t))!=-1==K)return t;
return i.length-1};D.Qz.prototype.a7d=function(){var i=this.yd.aow(this.K5);this.K5=i[0];this.G7=i[1]};
D.Qz.prototype.S7=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.xY,hf:this.Yn};i.$($)};D.Qz.prototype.Zm=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=this.l1;
if(!K.Et){var u="default",U=this._N,y=this.TR?this.TR:U;if(y&&k.O$.PJ(l.add.TySh.sT)){var a=y.lP(f,i.u.N,null,K);
if(a)u=a;else if(y==U&&U.WK(f))u="text"}else if(l&&k.p.Ga(f,l.rect)>20/i.u.N)u="move";else if(D.Qz.BU(i,f)>=0)u="text";
if(u!=this.Yn){this.Yn=u;this.S7($)}}var v=this.ER;if(this.NC&&Math.min(K.x-v.x,K.y-v.y)>4/i.u.N){this.NC=!1;
this.dH(i,$,h,d,K);l=this.l1;this.oU=!0;this._N=new bR(null,!1,!1,!1,!0);var c=i.u._x(this.ER.x,this.ER.y);
c.x=Math.round(c.x);c.y=Math.round(c.y);this._N.gE(i,h,d,c,null,null,K,i.u.rS)}if(this.oU){var p=l.add.TySh;
if(this.TR){this.TR.Zm(i,h,d,f);var C=k.K.g4(k.K.bS(this.TR.Og(),this.ayy));p.D=C;this.AA(i,h);jP.rX(p)}else if(this._N){this._N.Zm(i,h,d,f);
var T=p.D.clone(),E=Math.atan2(T.Z,T.Pi);T.rotate(E);var C=k.K.g4(k.K.bS(this._N.Og())),r=Math.atan2(C.Z,C.Pi);
C.rotate(r);if(!isNaN(C.Pi)&&C.Pi*C.Zn-C.Z*C.sl!=0){var Y=new bN(0,0,C.Pi/T.Pi,C.Zn/T.Zn),S=Math.round(Y.e),m=Math.round(Y.n),Q=p.$D.Curve;
if(Q){var z=jP.__(p.$D),n=new ej(S/z[2],0,0,m/z[3],0,0);k.p.D(Q.Points,n,Q.Points);jP.rX(p)}jP.pt(p.$D,[0,0,S,m]);
p.D=k.K.g4(k.K.bS(this._N.Og(),Y));this.AA(i,h);jP.rX(p)}}else{var Z=f.x-this.k_.x,P=f.y-this.k_.y;p.D=this.awp.clone();
var V=new cq(p.D.wQ+Z,p.D.FQ+P);V=D.NN.pn(i,V,h);p.D.wQ=V.x;p.D.FQ=V.y;this.AA(i,h)}}if(this.Ef)this.G7=this.Mk(f);
if(this.oU||this.Ef)this.jF(i)};D.Qz.prototype.dH=function(i,$,h,d,K){var f=i.iW(),l=f[0],u=f[1],U=i.Dw();
U.add.lnsr="rend";var y=i.B.slice(0);U.DN("Text layer "+y.length);this.l1=U;var a=i.g.length==0?i.B.length-1:i.g[i.g.length-1],v=a+1;
if(y[a].add.lsct==gX.DU)v--;this.q6={bb:y.slice(0),dF:i.g.slice(0)};y.splice(v,0,U);i.g=[v];this.K5=this.G7=0;
i.Lq(y);this.q6.mV=y.slice(0);this.q6.sG=i.g.slice(0);this.Ru($,x.E.k,{d:x.c.zj,b:this.id,S3:"showactive"});
var c=i.u._x(K.x,K.y),p=h.ta;console.log(p);if(this.id==D.ry){p=JSON.parse(JSON.stringify(p));p.TL.BaselineDirection=1}U.add.TySh=jP.Aj(c.x,c.y,p,i.u.rS);
var C=U.add.TySh,T=C.$D;if(this.id==D.ry)T._LineOrientation=2;jP.Td(C,this.Ab);if(K.Et)jP.tA(T,1);else{jP.tA(T,0);
var E=l[u.pop()],r=E?E.add.vmsk:null;if(r&&!d.j(ai.EW)){r=r.clone();var Y=r.i,m,Q;for(var t=0;t<Y.length;
t++)if(Y[t].N0!=null)Y[t].N0=0;var S=5/i.u.N;m=k.A.G3(r.i,c,!0,S);if(m.zH==-1)m=k.A.G3(r.i,c);if(m.zH!=-1){jP.tA(T,1);
var z=k.A.ec(Y,m.zH),n=k.A.sY(Y,m.zH)-1;Y=r.i=Y.slice(0,2).concat(Y.slice(z,z+n+1));r.g=[];C.add={vmsk:r,vogk:H.Yt(Y)};
T.Curve={};jP.QQ(C);if(m.qg!=null){var Z=kd.Wy(T.Curve);k.p.D(Z[0],C.D,Z[0]);var P=k.p.D$(Z[0],c.x,c.y),V=h.ta.OU.Justification;
if(V==2||V==5){var I=(Z[2][P]+Z[3]*.5)%Z[3];P=kd.C2(I,Z[2])}var q=Z[1][P];q=q%n;r.h3=[q,q];jP.QQ(C)}else this.R9(C)}}}return U};
D.Qz.prototype.IQ=function(i,$,h,d,K,f){if(f){this.NC=!1;return}if(this.l1==null&&!this.NC)return;var l=i.u._x(K.x,K.y),u=this.NC;
if(this.NC){this.NC=!1;this.dH(i,$,h,d,K);this.Ef=!0}if(this.oU||this.Ef){this.jF(i);this.ao();if(u)this.fs(h)}if(this.oU&&this._N)this._N.IQ(i,h,d,l);
this.oU=this.Ef=!1;this.JF.focus()};D.Qz.prototype.ao=function(){var i=this.l1.add.TySh,$=Math.min(this.K5,this.G7),h=Math.max(this.K5,this.G7),d,K;
if($==h){var f=jP.Gs(i.$D);if($==0||f.charAt($-1)=="\n")d=K=$;else d=K=$-1}else{d=$;K=h-1}var l=jP.Zg(i.$D,d,K);
jP.z_(l,i.D.Qa());this.ai3(this.caller,l,i)};D.Qz.prototype.ai3=function(i,$,h){this.Ru(i,x.E.k,{d:x.c.vj,J0:dC.v_,ta:$});
var d=this.Ab=jP.TV(h);this.Ru(this.caller,x.E.k,{d:x.c.zj,b:this.id,S3:"changeAA",gj:d})};D.Qz.prototype.asr=function(){var i=this.l1;
if(i&&!this.oU&&this.TR!=null){var $=this.caller.l3();this.TR.IQ($,this.bX,null,null);this.TR=null;this.R9(i.add.TySh);
this.jF($)}};D.Qz.prototype.disable=function(i,$,h,d){var K=this.l1;this.Bo(i,$)};D.Qz.prototype.oi=function(i,$,h,d,K){if(this.UE)return;
if(i.S3=="commit")this.Bo(h,$);if(i.S3=="cancel")this.ZY(h,$);if(i.S3=="changeAA"){this.Ab=i.gj;if(h!=null)this.d6({d:"updateStyles"},$,h,d,K)}if(i.S3=="showwarp"){if(h==null)return;
if(this.l1==null){var f=h.B[h.g[0]],l=f.add.TySh;if(l==null)return;this.ee(h,$,K,[h.g[0]]);this.JF.focus();
this.UE=!0}this.a6b=this.l1.add.TySh.sT;var u=new eU(x.E.k,!0);u.data={d:x.c.ZD,Kh:"textwarp"};$.$(u)}};
D.Qz.prototype.aG=function(i,$){if($!=dC.oX)return;if(this.Nq){this.Nq=!1;var h=this.caller.l3(),d=this.xK;
for(var t=0;t<d.length;t++){this.l1=h.B[d[t]];this.AA(h,i)}this.Bo(h,this.caller);return}if(this.l1)this.fs(i)};
D.Qz.prototype.di=function(i,$){var h=JSON.parse(JSON.stringify(i.ta));jP.z_(h,1/$.D.Qa());return h};
D.Qz.prototype.Oi=function(i,$){if(i.j4!=null)this.MH($,i.Oo);else this.a9K($,i.mV,i.sG)};D.Qz.prototype.RU=function(i,$){if(i.j4!=null)this.MH($,i.j4);
else this.a9K($,i.bb,i.dF)};D.Qz.prototype.MH=function(i,$){for(var t=0;t<$.length;t++){var h=$[t],d=h.g5,K=i.B[d];
K.buffer=h.tp;K.rect=h.gZ.clone();K.U();K.A0.Jz=null;K.A0.path=null;var f=K.add.TySh;f.sT=h.O$;f.MX=h.MX.clone();
f.D=h.D.clone();f.$D=JSON.parse(JSON.stringify(h.$D));K.dw()}i.U()};D.Qz.prototype.BV=function(i,$){var h=[];
for(var t=0;t<$.length;t++){var d=$[t],K=i.B[d],f=K.add.TySh;h.push({g5:d,D:f.D.clone(),O$:JSON.parse(JSON.stringify(f.sT)),MX:f.MX.clone(),$D:JSON.parse(JSON.stringify(f.$D)),tp:K.buffer.slice(0),gZ:K.rect.clone()})}return h};
D.Qz.prototype.a9K=function(i,$,h){i.g=h;i.Lq($);i.U();i.$x=!0};D.Qz.prototype.AA=function(i,$,h){if(h==null)h=!1;
var d=this.l1.add.TySh;if(!bM.DB(d,$.SB,this.caller))return!1;if(!h){var K=jP.Gs(d.$D);this.JF.value=K.slice(0,K.length-1)}var f=this.l1.rect,l=bM.AA(this.l1,$.SB,i);
this.yd=l[0];var u=l[1];if(k.O$.PJ(d.sT))d.MX=new bN;else{if(jP.dO(d.$D)==1){var U=jP.__(d.$D),b4=u.MX.y;
d.MX=new bN(0,b4,U[2]-U[0],U[3]-U[1]-b4)}else d.MX=u.MX}i.hh();i.U(i.root.El(u.gZ.rt(f),i,i.B.indexOf(this.l1)));
return!0};D.Qz.prototype.U_=function(i,$){if(this.l1==null||this.UE)return;var h=this.JF.selectionStart,d=this.l1.add.TySh,K=jP.Gs(d.$D),f=this.JF.value+"\n",l=Math.min(this.K5,this.G7),u=Math.max(this.K5,this.G7),c=!1;
this.K5=Math.min(h,l);if(f.length-h<K.length-this.G7)this.G7=K.length-f.length+h;if(K!=f){while(this.K5>0&&K.charAt(this.K5-1)!=f.charAt(this.K5-1))this.K5--}var U=K.substring(0,this.K5),y=K.substring(this.G7,K.length),a=f.substring(this.K5,f.length-y.length);
jP.UF(d.$D,this.K5,this.G7);jP.uE(d.$D,this.K5,a);if($!=null)jP.arh(d.$D,this.K5,$);var v=this.di(this.bX,d),p=-1,C=Array.from(a);
for(var t=0;t<C.length;t++)p=Math.max(p,C[t].codePointAt(0));if(p!=-1&&p>128&&p!=65533&&v.TL.Font!=null){var T=v.A8[v.TL.Font].Name,E=this.bX.SB.gU(p,T,v.A8);
if(T!=E){jP.Qr(v,E);c=!0}}if(this.Ay!=null&&a==this.Ay){var r=JSON.parse(this.aqY);v.TL=r.TL;v.A8=r.A8;
c=!0}jP.jV(d.$D,this.K5,this.K5+a.length-1,v);this.K5=this.G7=U.length+a.length;var Y=this.caller.l3(),S=this.AA(Y,this.bX,!0);
if(S)this.jF(Y,!0);if(c)this.ao()};D.Qz.prototype.a3c=function(i){var $=ai;if(!i.ctrlKey)this.asr();
i.stopPropagation()};D.Qz.prototype.aop=function(i){i.stopPropagation();var $=i.ctrlKey||i.metaKey,h=ai,U=0,y=0,m=0,e=!1;
if(this.l1==null||this.UE)return;if(this.l1==null)return;var d=this.caller.l3();if(this.TR==null&&$){var K=this.l1.add.TySh,f=jP.dO(K.$D),l;
if(f==1){l=jP.__(K.$D);l=new bN(0,0,l[2]-l[0],l[3]-l[1])}else l=this.yd.ep();var u=[l.x,l.y,l.x+l.e,l.y,l.x+l.e,l.y+l.n,l.x,l.y+l.n];
k.p.D(u,K.D,u);this.TR=new bR(u,!0,!0,!1,!1);this.ayy=l;this.jF(d)}if(h.xZ(i.code,h.Ju))U=1;if(h.xZ(i.code,h.RK))U=-1;
if(h.xZ(i.code,h.qO))y=-1;if(h.xZ(i.code,h.HF))y=1;var a=h.xZ(i.code,ai.J_),v=h.xZ(i.code,ai.auK);if(h.xZ(i.code,ai.iQ)&&$){this.Bo(d,this.caller);
return}if(h.xZ(i.code,ai.UY)){this.ZY(d,this.caller);return}if(h.xZ(i.code,ai.EY)){i.preventDefault();
var c=this.JF,p=c.value,C=c.selectionStart,T=c.selectionEnd;c.value=p.substring(0,C)+"\t"+p.substring(T);
c.selectionStart=c.selectionEnd=C+1;this.U_(null);return}var E=h.xZ(i.code,h.i6),r=h.xZ(i.code,h.s8);
if($&&(E||r)){i.preventDefault();var Y=new eU(x.E.s,!0);Y.b=D.VB;Y.data={d:"zoom",p6:E};this.caller.$(Y)}if(h.xZ(i.code,h.ti))m=1;
if(h.xZ(i.code,h.b4))m=-1;var Q=this.K5==this.G7,z=$&&i.shiftKey&&m!=0&&!Q;if(z||i.altKey&&U!=0){var n=JSON.parse(JSON.stringify(this.bX.ta));
if(z){var Z=n.TL.FontSize;if(Z==null)Z=16;n.TL.FontSize=Math.max(1,Z+m*(i.altKey?5:1))}else{if(Q){n.TL.Kerning+=20*U;
n.TL.AutoKerning=!1}else n.TL.Tracking+=20*U}i.preventDefault();var P=new eU(x.E.k,!0);P.data={d:x.c.vj,J0:dC.v_,ta:n};
this.caller.$(P);var Y=new eU(x.E.s,!0);Y.b=D.z2;Y.data={d:"updateStyles"};this.caller.$(Y);return}if((h.xZ(i.code,h.ui)||h.xZ(i.code,h.T3))&&$){var V=this.K5,I=this.G7;
if(V>I){var q=V;V=I;I=q}var K=this.l1.add.TySh,X=jP.Gs(K.$D);if(V!=I){this.Ay=X.slice(V,I);this.aqY=JSON.stringify(this.bX.ta)}}var B=jP.Gs(this.l1.add.TySh.$D);
if(U!=0||y!=0||a||v){i.preventDefault();var F=this.K5;if(U!=0){if($&&U==-1)F=this.al0(B,this.K5-1);else if($&&U==1)F=this.ayt(B,this.K5);
else{var c=this.JF,p=c.value;F=this.K5+U;if(F!=0&&p.codePointAt(F-1)>65535)F+=U}}else if(y!=0){var s=this.yd.zV(this.K5);
if(y==-1&&s.qE==0)F=0;else if(y==1&&s.qE==this.yd.a3z()-1)F=99999999999;else F=this.yd.a1J(new cq(s.gZ.x+s.gZ.e/2,0),s.qE+y)}else if(a){var J=this.K5-1;
while(J>0&&B.charCodeAt(J)!=10)J--;F=J==0?0:J+1}else if(v){var J=this.K5;while(J<B.length-1&&B.charCodeAt(J)!=10)J++;
F=J}F=Math.max(0,Math.min(B.length-1,F));if(i.shiftKey)this.K5=F;else this.K5=this.G7=F;e=!0}if(h.xZ(i.code,ai.c)&&$){this.K5=0;
this.G7=B.length-1;e=!0}if(e){this.ao();this.jF(d)}};D.Qz.a1E=function(i,$){var h=i.length;if(h!=$.length)return!1;
for(var t=0;t<h;t++)if(i[t].g5!=$[t].g5)return!1;return!0};D.Qz.prototype.Bo=function(i,$){if(this.l1==null)return;
this.l1.dw();var h=this.q6;if(h instanceof Array){var d=this.BV(i,this.xK),K=i.au();if(K!=null&&K.b==this&&K.data.j4&&D.Qz.a1E(K.data.j4,h))K.data.Oo=d;
else{var f=new dS(this.name,this);f.data={j4:h,Oo:d};i.JY(f)}}else{var f=new dS(this.name,this);f.data={bb:h.bb,mV:h.mV,dF:h.dF,sG:h.sG};
i.JY(f)}this.escape(i,$)};D.Qz.prototype.ZY=function(i,$){if(this.l1==null)return;if(this.q6 instanceof Array){this.MH(i,this.q6);
if(this.l1)jP.rX(this.l1.add.TySh)}else{i.g=this.q6.dF;i.Lq(this.q6.bb)}i.U();this.escape(i,$)};D.Qz.prototype.escape=function(i,$){this.asr();
this.l1=null;this.xK=null;this.yd=null;this._N=null;this.JF.blur();i.R.HQ=null;i.R.Tn=null;i.R.xX=[];
i.nU=!0;this.oU=!1;this.Ef=!1;this.K5=this.G7=-1;this.Ru($,x.E.k,{d:x.c.zj,b:this.id,S3:"hideactive"});
if(this.PB){var h=new eU(x.E.k,!0);h.data={d:x.c.ro,b:this.PB};$.$(h);this.PB=null}};D.Qz.prototype.Ru=function(i,$,h,d){var K=new eU($,!0);
K.data=h;if(d)K.b=d;i.$(K)};D.Qz.prototype.Mk=function(i){var $=this.l1.add.TySh,h=this.yd,d=$.D.clone();
d.Sp();var K=d.hb(i),f=jP.bL($,h),l=k.O$.A2($.sT,f),u=k.X2.a0$(l,K);if(u==null)u=new Float64Array(2);
K=new cq(f.x+u[0]*f.e,f.y+u[1]*f.n);if(h.UR){var U=h.UR.clone();U.Sp();K=U.hb(K)}var y=h.a1J(K);return y};
D.Qz.prototype.jF=function(i,$){if($==null)$=!1;var h=this.l1.add.TySh,d=jP.dO(h.$D),K=this.yd,f=K?jP.bL(h,K):null;
i.R.xX=[];i.R.HQ=null;i.R.Tn=null;var l=this.TR?this.TR:this._N;if(l){l.Ta(i,this.bX,!k.O$.PJ(h.sT));
var u=h.D.clone();u.Sp();if(K&&K.UR&&K.Ww==1){var U=K.UR.clone();U.Sp();u.concat(U)}k.p.D(i.R.xX,u,i.R.xX);
k.p.D(i.R.HQ.C,u,i.R.HQ.C);if(K&&K.UR==null&&K.adI()){var y=f.e-20,a=f.n+8;i.R.HQ.C.push(y,a,y+10,a,y+5,a-5,y+5,a+5);
i.R.HQ.H.push("M","L","M","L")}}else if(d==0)this.avG(i,h,K);else i.R.HQ={C:[],H:[]};var v=Math.min(this.K5,this.G7),c=Math.max(this.K5,this.G7);
if(!$){this.JF.selectionStart=v;this.JF.selectionEnd=c}if(K!=null){var p=function(l,m){var Q=l.x,z=l.y+l.n,n=new ej;
n.translate(-Q,-z);n.rotate(-m);n.translate(Q,z);l.y+=l.n*.27;var S=k.p.Hg(l);k.p.D(S.C,n,S.C);return S};
if(v==c){v=Math.max(v,0);var C=K.zV(v);if(C){var T=C.gZ,E=this.bX.ta.TL.FontSize;if(E!=null&&E!=0){E/=h.D.Qa();
T.y+=T.n-E;T.n=E}var r=K.ad4(v);if(r!=null&&r.Ex==1)T.x+=T.e;var Y=p(T,C.rS).C;i.R.HQ.H.push("M","L");
i.R.HQ.C.push(Y[0],Y[1]-1,Y[6],Y[7]-1)}}else{i.R.Tn={C:[],H:[]};for(var t=v;t<c;t++){var C=K.zV(t),S=p(C.gZ,C.rS);
k.p.concat(i.R.Tn,S)}}}i.R.HQ=bM.pV(i.R.HQ,h,K);i.R.Tn=bM.pV(i.R.Tn,h,K);i.R.xX=bM.pV({C:i.R.xX},h,K).C;
i.nU=!0};D.Qz.prototype.avG=function(i,$,h){if(h==null)return;i.R.xX.push(0,0);if(i.R.HQ==null)i.R.HQ={H:[],C:[]};
for(var t=0;t<h.OU.length;t++){var d=h.OU[t];for(var K=0;K<d.Go.length;K++){var f=d.Go[K],l=d.$Z.x+f.$Z.x+f.gZ.x,u=d.$Z.y+f.$Z.y+f.gZ.y+f.gZ.n;
i.R.HQ.H.push("M","L");i.R.HQ.C.push(l,u,l+f.gZ.e,u)}}i.nU=!0};D.aa4=function(){D.Qz.call(this,!0)};
D.aa4.prototype=new D.Qz;D.c8=function(){D.n1.call(this,[10,9],D.GK,"tools/lasso");this.Qs="crosshair";
this.iX=null;this.iK=null;this.k_=null};D.c8.prototype=new D.n1;D.c8.prototype.k7=function(i,$,h,d){this.iX=this.to;
this.iK={C:[this.iX.x,this.iX.y],H:["M"]}};D.c8.prototype.CX=function(i,$,h,d){this.k_=d;var K=this.iK;
if(K==null)return;if(!d.Et){if(this.iK!=null&&this.XT>1&&h.j(ai.rf)){K.C.pop();K.C.pop();K.C.push(this.q4.x,this.q4.y);
i.R.HQ=K;i.nU=!0}return}K.H.push("L");K.C.push(this.q4.x,this.q4.y);this.iX=this.q4;if(this.CG){i.R.HQ=K;
i.nU=!0}};D.c8.prototype.uq=function(){return this.iK!=null};D.c8.prototype.cb=function(){return this.iK!=null};
D.c8.prototype.PS=function(i,$,h,d){D.n1.prototype.PS.call(this,i,$,h,d);if(this.iK&&this.XT>1&&this.k_&&!this.k_.Et&&!d.j(ai.rf))this.abO(i,h,d)};
D.c8.prototype.QA=function(i,$,h,d){this.k_=d;var K=this.iK;if(K==null)return;if(this.XT>1&&h.j(ai.rf)){K.H.push("L");
K.C.push(this.q4.x,this.q4.y);return}this.abO(i,$,h)};D.c8.prototype.abO=function(i,$,h){this.finish(i,$,h,this.k_);
this.iK=null;i.R.HQ=null;i.nU=!0};D.c8.prototype.getSelection=function(i,$,h,d){if(this.to.Rl(this.q4)||!this.CG)return null;
return D.n1.Y7(this.iK.C,null,this.vw.anta)};D.NN=function(){D.TK.call(this,[10,11],D.MW,"tools/move");
this.nC=new cq(0,0);this.Ke=new cq(0,0);this.XX=null;this.Fi=null;this.zx=new cq(0,0);this.xM=null;this.RM=null;
this.DR=null;this.gA=0;this.Y2=null;this.In=[];this.oK=null;this.gs=null;this.VJ=!1;this.d=0;this.je=null;
this.ZM=null;this.tU=null;this.Rh=!1;this.vw={rM:!1,C6:!1,N3:!1};this.a3U=!1;this.a96=!1;this._N=null;
this.qA=null;this.awZ=null;var i=[];for(var t=0;t<k.TA.wU.length;t++)i.push({name:k.TA.wU[t],w:function($,h,d){return{Q0:h.ZZ.CP==d}}});
this.tL=new ew(i);this.tL.h("select",this.U6,this)};D.NN.prototype=new D.TK;D.TK.prototype.QH=function(i){return this.VJ&&this.d!=2};
D.NN.prototype.a3$=function(){return this.VJ&&(this.d==0||this.d==1)};D.NN.prototype.i2=function(i,$,h,d){this.FO(i,-this.zx.x,-this.zx.y);
this.zx.WI(0,0);this.fK(i,null,h);this.DA(i)};D.NN.prototype.rP=function(){var i=this.vw;return[i.rM?1:0,i.C6?1:0,i.N3?1:0]};
D.NN.prototype.W7=function(i,$,h){var d=this.vw;if(i&&i[0]!=null)d.rM=i[0]==1;if(i&&i[1]!=null)d.C6=i[1]==1;
if(i&&i[2]!=null)d.N3=i[2]==1;var K=new eU(x.E.k,!0);K.data={d:x.c.zj,b:this.id,Py:d,aug:$};h.$(K)};
D.NN.ame=function(i,$,h,d,K,f,l){if(l==null)l=[!1,!0];var u=i._8(null,K,!0),U,y;if(i.add.artd&&i.g.length==1&&i.B[i.g[0]].add.artb){var a=i.B[i.g[0]].Ik();
U=i.WN(u,a,a)[0]}else{var v=new bN(0,0,i.e,i.n),U=i.WN(u,l[0]?v:null,l[1]?null:v)[0];delete U.add.artd;
if(l[1]){var c=k.M6(U.Fy(),new bN(0,0,U.e,U.n),2);D.Xw.Xk(U,c)}}if(h!=1){var C=new bN(0,0,Math.round(U.e*h),Math.round(U.n*h));
D.Xw.Xk(U,C);var T=[];for(var t=0;t<U.B.length;t++)T.push(t);var E=D.vA.H4(U,T,!0);D.Xw.Pj(U,new ej(h,0,0,h,0,0));
D.vA.dk(U,d,T,E,1,k.K.F0(new ej(h,0,0,h,0,0)),null,!0);U.kX()}else if(y){U.U();U.kX()}var r=[];for(var t=0;
t<$.length;t++)if(U.e*U.n!=0)r.push(em.kW(U,$[t].toUpperCase(),null,null,f?f[t]:null,d));return r};D.NN.prototype.adQ=function(i,$,h,d,K){if(i==null||i.g.length==0)return;
var f=D.NN.ame(i,[$],h,d,null)[0],l=new eU(x.E.k,!0);l.data={d:x.c.Sx,data:f,name:i.B[i.g[0]].getName()+(h==1?"":"@"+h+"x")+"."+$};
K.$(l)};D.NN.prototype.oi=function(i,$,h,d,K){if(i.vC=="getPNG"){this.adQ(h,"png",i.ZJ,K,$)}else if(i.vC=="getSVG"){this.adQ(h,"svg",i.ZJ,K,$)}if(i.vC=="prms"){this.vw=i;
this.DA(h)}};D.NN.agp=function(i){var b4=i.length,h=0;i.sort(function(f,l){return f[0]+f[1]/2-(l[0]+l[1]/2)});
var $=i[b4-1][0]+i[b4-1][1]-i[0][0];for(var t=0;t<b4;t++)h+=i[t][1];var d=Math.round(($-h)/(b4-1)),K=i[0][0];
for(var t=0;t<b4;t++){i[t][0]=K;K+=i[t][1]+d}};D.NN.prototype.d6=function(i,$,h,d,K){var f=i.d;if(f=="trsl"){var l=Math.round(i.FH),u=Math.round(i.cT);
this.zx.WI(l,u);this.Ss(h,$,d,K,!1,i.a);this.FO(h,l,u);this.fK(h,null,K)}else if(f=="fcmy"||f=="fvec"){var U=["RGB","CMYK"][i.L]+" Color";
if(f=="fvec")U=["Raster","Vector"][i.L]+" Mode";var y=new dS(U,this);y.data={d:i.d,pp:h.add[f]==null?0:h.add[f],gj:i.L};
h.JY(y);this.Oi(y.data,h)}else if(f=="pview"){var f=new dS("Pattern Preview",this);f.data={d:i.d};h.JY(f);
this.Oi(f.data,h)}else if(f=="lockguides"){if(h)h.z7=!h.z7}else if(f=="gids"||f=="gidsFromLayer"){var a=i.ZM,v,c;
if(a==null)a=h.KG();if(f=="gids"){v=i.rO;var p=a[0].length,C=v[0].length;c=p==C?[23,2]:p>C?[23,3]:[23,4];
if(C==0)c=[11,15,0]}else if(f=="gidsFromLayer"){var T=[],E=[],r=h.ii();for(var t=0;t<h.g.length;t++){var Y=h.B[h.g[t]].rect;
if(Y.NT())continue;T.push([0,Y.x],[1,Y.y],[0,Y.x+Y.e],[1,Y.y+Y.n]);E.push(r,r,r,r)}c=[11,15,1];v=h.KG();
D.NN.RD(v,[T,E])}if(JSON.stringify(a)==JSON.stringify(v))return;var f=new dS(c,this);f.data={d:2,ZM:a,rO:v};
h.JY(f);this.Oi(f.data,h)}else if(f=="algn"){var S=i.L;if(h==null)return;if(h.g.length<2&&!(h.J!=null&&S!=3&&S!=7)){alert(e_.get([15,7,5]));
return}var m=h.J;h.J=null;var Y=m?m.rect:D.vA.bL(h);this.Ss(h,$,d,K,!1);if(!this.VJ)return;var Q=this.Y2,z={},n=[],Z=[],P=[];
for(var t=0;t<Q.length;t++){var V=Q[t];while(h.B[V].getName()=="</Layer group>")V++;var I=h.root.$p(V),q=I;
while(I.parent!=null){I=I.parent;if(Q.indexOf(I.index)!=-1)q=I}var X=Z.indexOf(q.index);if(X==-1){X=Z.length;
Z.push(q.index)}n[t]=X}var B=[],e=[],F=[];for(var t=0;t<Z.length;t++){var s=D.vA.bL(h,h._8(!0,Z[t]));
F.push(s);var J=S==3?[s.y,s.n]:[s.x,s.e];B[t]=J;e.push(J)}D.NN.agp(e);for(var t=0;t<Z.length;t++){var s=F[t],W=s.x,L=s.y;
if(S==0)W=Y.x;if(S==1)W=Y.x+(Y.e-s.e)/2;if(S==2)W=Y.x+(Y.e-s.e);if(S==3)L=B[t][0];if(S==4)L=Y.y;if(S==5)L=Y.y+(Y.n-s.n)/2;
if(S==6)L=Y.y+(Y.n-s.n);if(S==7)W=B[t][0];P.push(Math.round(W-s.x),Math.round(L-s.y))}var A=[];for(var t=0;
t<Q.length;t++){var j=n[t];A[2*t]=P[2*j];A[2*t+1]=P[2*j+1]}this.FO(h,0,0,null,A);var G=S==3||S==7?[20,4,6]:[20,4,S<3?S:S-1];
this.fK(h,null,K,A,G);h.J=m}else if(f=="disabAuto"){this.W7([!1],null,$)}};D.NN.RD=function(i,$){for(var t=0;
t<$[0].length;t++){var h=$[0][t],d=$[1][t],K=!1;for(var f=0;f<i[0].length;f++){var l=i[0][f],u=i[1][f];
if(h[0]==l[0]&&h[1]==l[1]&&d==u)K=!0}if(!K){i[0].push(h.slice(0));i[1].push(d)}}};D.NN.prototype.enable=function(i,$,h,d,K){this.RM=h;
this.DR=$;this.Rh=K?!0:!1;this.DA(i);this.S7("default",$);this.PS(i,$,h,d)};D.NN.prototype.disable=function(i,$,h,d){this.af3(i)};
D.NN.prototype.af3=function(i){if(i==null)return;if(this._N){this._N.clear(i);this._N=null}if(i.R.N3){i.R.N3=null;
i.nU=!0}if(i.R.TM){i.R.TM=null;i.nU=!0}if(i.R.W4[this.id]){delete i.R.W4[this.id];i.nU=!0}if(i.R.B0.length!=0){i.R.B0=[];
i.nU=!0}};D.NN.prototype.Qi=function(i,$,h,d){if(h.Kw!=this.id)return;this.DA(i)};D.NN.prototype.DA=function(i,$){if(i==null)return;
var h=this.vw;this.af3(i);if(!this.Rh){var d;if(h.C6||h.N3)d=k.p.Ip(D.vA.bL(i));if(h.C6&&!d.NT()){this._N=new bR([d.x,d.y,d.x+d.e,d.y,d.x+d.e,d.y+d.n,d.x,d.y+d.n],!0);
this._N.Ta(i,this.RM)}if(h.N3){var K=null,a=null,v=!1;if(i.ii()!=-1)K=i.B[i.ii()].Ik();else K=new bN(0,0,i.e,i.n);
i.R.N3={dm:[d],Fq:[]};var f=i.R.N3.Fq,l=d.x+d.e,u=d.y+d.n,U=d.x+Math.floor(d.e/2),y=d.y+Math.floor(d.n/2);
if($){var c=i.root.G3(new cq(Math.floor($.x),Math.floor($.y)));if(c){a=k.p.Ip(c.a.ys(i));if(a.CF(d)){v=(a.PH(d)||d.PH(a))&&!d.Rl(a);
if(!v)a=null}}}this.awd(d,f);if(a!=null){i.R.N3.dm.push(a);var p=a.x+a.e,C=a.y+a.n,T=a.x+Math.floor(a.e/2),E=a.y+Math.floor(a.n/2);
if(v){var r=U,Y=y;if(d.PH(a)){r=T;Y=E}f.push(d.x,Y,a.x,Y);f.push(l,Y,p,Y);f.push(r,d.y,r,a.y);f.push(r,u,r,C)}else{this.awd(a,f);
var S=u<a.y||C<d.y,m=l<a.x||p<d.x;if(l<a.x)f.push(l,y,a.x,y);if(p<d.x)f.push(p,y,d.x,y);if(u<a.y)f.push(U,u,U,a.y);
if(C<d.y)f.push(U,C,U,d.y);if(S&&!m){if(d.x<a.x)f.push(d.x,E,a.x,E);if(a.x<d.x)f.push(a.x,y,d.x,y)}}}else{if(d.y>K.y)f.push(U,K.y,U,d.y);
if(u<K.y+K.n)f.push(U,u,U,K.y+K.n);if(d.x>K.x)f.push(K.x,y,d.x,y);if(l<K.x+K.e)f.push(l,y,K.x+K.e,y)}i.nU=!0}}if(this.d==2&&this.VJ){var Q=new bN(0,0,i.e,i.n),z=i.ii();
if(z!=-1){var n=i.KG(),Z=n[1][this.Y2];if(Z==-1)Z=z;Q=i.B[Z].Ik()}var P=i.C9[this.Y2],V=P[0],I=(V==0?"X":"Y")+": "+k.TA.Iy(P[1]-(V==0?Q.x:Q.y),i._m,this.RM,V==0?Q.e:Q.n,!0);
D.TK.Wa(Math.round(this.XX.x)+10,Math.round(this.XX.y)-10,[I],i);i.nU=!0}if(this.d==3&&this.VJ){var q=k.p.Hg(this.je);
i.R.W4[this.id]={HQ:q};i.nU=!0}};D.NN.prototype.awd=function(i,$){var h=i.e,d=i.n,K=i.x+Math.floor(h*.2),f=i.y+Math.floor(d*.2);
$.push(K,i.y,K,i.y+d);$.push(i.x,f,i.x+h,f)};D.NN.prototype.S7=function(i,$){var h={d:x.c.xY,hf:i},d=new eU(x.E.k,!0);
d.data=h;$.$(d)};D.NN.prototype.CC=function(i){var $=this.qA.CK()[0],h=this.xM,d=this.awZ[$];this.aeN(h,d)};
D.NN.prototype.U6=function(i){var $=JSON.parse(JSON.stringify(this.RM.ZZ));$.CP=this.tL.CK()[0];var h=new eU(x.E.k,!0);
h.data={d:x.c.vj,J0:dC.Nc,gj:$};this.DR.$(h)};D.NN.prototype.wI=function(i,$,h,d,K){if(this.VJ)this.IQ(i,$,h,d,K);
this.xM=i;this.RM=h;this.DR=$;var f=i.u._x(K.x,K.y),l;if(D.NN.D_(h,K,i.u)){l=this.tL}else{if(this.qA)this.qA.removeEventListener("select",this.CC);
var u=[];i.root.G3(f,u);if(u.length==0)return;var U=[];this.awZ=u;for(var t=0;t<u.length;t++)U.push({name:i.B[u[t]].getName()});
l=this.qA=new ew(U);l.h("select",this.CC,this)}l.parent=$;l.f();l.update(i,h);var y=new eU(x.E.k,!0);
y.data={d:x.c.jT,dX:l,x:K.jn+2,y:K.eM+1};$.$(y)};D.NN.prototype.akV=function(i,$,h,d,K){var f=D.NN._F(i,K);
return f!=-1||D.NN.D_(h,K,i.u)};D.NN._F=function(i,$){if(i==null||i.add.artd==null)return-1;var h=i.u._x($.x,$.y),d=12*D.V()/i.u.N;
for(var t=0;t<i.B.length;t++){var K=i.B[t];if(!K.ji()||K.add.artb==null)continue;var f=K.Ik(),l=new bN(f.x,f.y-1.7*d,d*K.getName().length*.5,d);
if(l.dD(h))return t}return-1};D.NN.prototype.gE=function(i,$,h,d,K){var f=D.NN._F(i,K),l=D.NN.a9p(i,i.u._x(K.x,K.y));
if(f!=-1){i.g=[f];if(h.Kw==D.MW){var u=new eU(x.E.k);u.data={d:x.c.ro,b:D.Jl};$.$(u)}return}if(l!=-1){i.u.R4=l;
i.u6=!0;var u=new eU(x.E.k,!0);u.data={d:x.c.Q6,Kh:cA.gp.afW};$.$(u);return}this.XX=K;this.nC.WI(K.x,K.y);
this.Ke=i.u._x(K.x,K.y);this.Fi=new jQ(this.Ke);this.Ss(i,$,d,h,!0)};D.NN.D_=function(i,$,h,d){var K=k.TA.AD,f=h.Os.n;
return i.hT&&(0<$.x&&$.x<K||0<$.y&&$.y<K||d&&0<$.x&&$.x<4*K&&f-K<$.y&&$.y<f)};D.NN.prototype.Ss=function(i,$,h,d,K,f){var l,u=this.Ke,U=!1;
if(K){var y=d.T2&&d.ZZ.C9;if(D.NN.D_(d,this.nC,i.u)){l=i.KG();var a=i.KG(),v=null;if(this.nC.x<k.TA.AD){v=[0,u.x]}if(this.nC.y<k.TA.AD){v=[1,u.y]}a[0].push(v);
a[1].push(i.ii(!0));i.N7(a);if(!y){var c=new eU(x.E.k);if(!d.ZZ.C9){c.data={d:x.c.vj,J0:dC.x1};$.$(c)}if(!d.T2){c.data={d:x.c.vj,J0:dC.MG};
$.$(c)}y=!0}}var p=this.ak9(i,u);if(y&&p!=null&&!i.z7){this.d=2;this.ZM=l?l:i.KG();this.Y2=p;this.VJ=!0;
this.gs=D.vA.bL(i);return}if(i.o7.length!=0){this.d=4;this.gs=i.kY[i.o7[0]].rect.clone();this.VJ=!0;
return}if(this._N&&this._N.lP(u,i.u.N,!0,this.XX)!=null){var c=new eU(x.E.k);c.data={d:x.c.ro,b:D.Ey,a7h:!0};
$.$(c);return}if(i.J&&i.J.rect.dD(u)){var C=Math.round(u.x),T=Math.round(u.y),E=i.J.rect;U=i.J.channel[(T-E.y)*E.e+C-E.x]>128}if(!U&&(!this.Rh&&this.vw.rM||this.Rh&&this.vw.rM&&(h.j(ai.EW)||i.g.length<2))){var r=this.agA(i,u,h);
if(!r){i.g=[];i.$H=null;i.$x=i.Dh=!0;this.d=3;this.je=new bN;this.VJ=!0;return}}if(h.j(ai.rf)&&!U){var Y=new eU(x.E.s);
Y.b=D.$S;Y.data={d:H.kq,a06:!0};$.$(Y)}}if(i.o7.length!=0){this.d=4;this.gs=i.kY[i.o7[0]].rect.clone();
this.VJ=!0;return}this.Y2=i._8(f==null,f,null,!0);for(var t=0;t<this.Y2.length;t++){var S=this.Y2[t],m=i.B[S];
if(m.wC(2)||m.wC(31)||i.li(S)){alert(e_.get([6,57,0]));return}}if(i.add.artd&&K){var Q=this.Y2,z=!1;
for(var t=0;t<Q.length;t++)if(i.B[Q[t]].add.artb)z=!0;if(!z){this.oK=[i,i.B.slice(0),i.g.slice(0),-1];
this.Y2.sort(function(B,e){return B-e})}}this.In=D.NN.am6(i,this.Y2);this.d=0;if(i.J&&(!K||U)&&i.g.length==1&&i.EX(!1)){if(!i.avT()){this.VJ=!1;
return}var n=i.B[i.g[0]],Z=h.j(ai.rf);this.d=1;var P=i.history[i.oD];if(P.b==this&&P.data.d==1&&P.data.a==i.g[0]&&n.Tu==n.Nf.Tu&&!Z){this.tU=P}else{var V=n.Nf,I=!1,q;
if(!n.A4(i,i.J)||Z){I=!0;n.Di(i,i.J,Z)}if(n.Nf.Tu<=0){q=k.Q(n.Nf.QJ.length>>2);k.pO(n.Nf.QJ,q,3)}else q=i.J.channel.slice(0);
var X={rect:n.Nf.RG.clone(),channel:q};this.tU=new dS(Z?[12,53]:[12,54],this);this.tU.data={d:1,a:i.g[0],Nf:n.Nf,tD:V,GI:I,dF:i.J,sG:X,Zn:new cq(0,0)};
i.JY(this.tU);i.J=X;i.oM=!0}}this.VJ=!0;this.gs=D.vA.bL(i)};D.NN.prototype.agA=function(i,$,h){var d=i.root.G3(new cq(Math.floor($.x),Math.floor($.y)));
if(d){if(d.a.add.vmsk)i.nU=!0;var K=i.B.indexOf(d.a);if(h.j(ai.EW)){var f=i.g.indexOf(K);if(f==-1)i.g.push(K);
else if(i.g.length>1)i.g.splice(f,1)}else if(i.g.indexOf(K)==-1){this.aeN(i,K)}}return d!=null};D.NN.prototype.aeN=function(i,$){i.B[$].Tu=0;
i.g=[$];i.$H=null;i.dU();i.zy=!0;i.$x=!0};D.NN.a9p=function(i,$){var h=i.add.Anno;if(h==null||h.length==0)return-1;
var d=30/i.u.N;for(var t=0;t<h.length;t++)if(new bN(h[t][0],h[t][1],d,d).dD($))return t;return-1};D.NN.prototype.Zm=function(i,$,h,d,K){this.XX=K;
var f=i.u._x(K.x,K.y),p,C;if(this.Fi&&this.d<2)f=this.Fi.w_(f,d);if(!this.VJ){if(h.T2&&h.ZZ.C9&&i&&!i.z7){var l=this.ak9(i,f),u="default",U=D.NN._F(i,K);
if(l!=null)u=["col-resize","row-resize"][i.C9[l][0]];else if(this._N){var y=this._N.lP(f,i.u.N,null,K);
if(y)u=y}else if(U!=-1||D.NN.a9p(i,f)!=-1){u="pointer"}this.S7(u,$)}this.DA(i,f);return}var a=this.Ke,v=Math.round(f.x-a.x)-this.zx.x,c=Math.round(f.y-a.y)-this.zx.y;
if(this.gs){if(this.d==2){var T=[];if(i.J)T.push(i.J.rect);if(this.gs)T.push(this.gs);if(i.u.Br)T.push(i.u.Br);
f=D.NN.pn(i,f,h,[!1,T,!0])}else{C=this.gs.clone();C.offset(this.zx.x+v,this.zx.y+c);p=D.NN.gz(i,C,h);
var E=this.Fi.aao(d);if(E==1){p[0]=0;p[2]=1e9}if(E==2){p[1]=0;p[3]=1e9}v+=Math.round(p[0]);c+=Math.round(p[1])}}this.zx.x+=v;
this.zx.y+=c;var r=this.oK;if(r&&i==r[0]){i.Lq(r[1]);i.g=r[2].slice(0);r[3]=-1}this.FO(i,v,c,f,null,d.j(ai.EW));
if(r&&i==r[0]){var Y=this.gs.clone();Y.offset(this.zx.x,this.zx.y);var S=f,U=i.ii(),m=-1;for(var t=0;
t<i.B.length;t++){var Q=i.B[t];if(!Q.ji()||Q.add.artb==null)continue;var z=Q.Ik();if(z.dD(S))m=t}if(m!=-1&&m!=U){var n=D.Q4.N9(i,this.Y2,m,!0,null,!1);
i.Lq(n[0]);i.g=n[1];r[3]=m}}this.DA(i,f);if(p)D.NN.hQ(i,C,p)};D.NN.prototype.ak9=function(i,$){var h=D.On(i,this.XX);
$=[$.x,$.y];var d=i.KG(),K=i.ii();for(var t=0;t<d[0].length;t++){var f=d[0][t],l=d[1][t];if(l!=-1&&l!=K)continue;
if(Math.abs(f[1]-$[f[0]])<h)return t}return null};D.NN.prototype.FO=function(i,$,h,d,K,f){if(this.d==0){if(K)D.NN.St(i,this.Y2,this.In,K);
else D.NN.m8(i,this.Y2,this.In,$,h)}else if(this.d==1){var l=this.tU.data;l.Zn.offset($,h);D.NN.du(i,l.a,$,h)}else if(this.d==2){var u=1e-5;
if(f)u=i.u.N<=1?10:1;else if(i.u.N<=1)u=1;var U=u*Math.round(d.x/u),y=u*Math.round(d.y/u),a=[U,y],v=i.C9[this.Y2];
v[1]=a[v[0]]}else if(this.d==3){var c=this.Ke,p=k.p.DS([c.x,c.y,d.x,d.y]);this.je=p;var C=[];i.root.abC(p,C);
if(JSON.stringify(i.g)!=JSON.stringify(C)){i.g=C;i.$x=i.Dh=!0}}else if(this.d==4){for(var t=0;t<i.o7.length;
t++)i.kY[i.o7[t]].rect.offset($,h);i.nU=!0}};D.NN.du=function(i,$,h,d){var K=i.B[$];i.J.rect.offset(h,d);
K.W_(i,h,d,i.J);i.oM=!0;i.U()};D.NN.prototype.IQ=function(i,$,h,d,K,f){this.fK(i,K,h);this.DA(i);if(Date.now()-this.gA<300&&!f){var l=D.Qz.BU(i,i.u._x(K.x,K.y));
if(D.NN.D_(h,K,i.u,!0)){var u=new eU(x.E.k);if(K.y>i.u.Os.n-20){u.data={d:x.c.ZD,Kh:"doczoom",pp:i.u.N*100,l8:{_:x.E.s,b:D.VB,W:{d:"pzoom"}}}}else{u.data={d:x.c.ZD,Kh:"preferences"}}$.$(u)}else if(l>=0){var U=new eU(x.E.s,!0);
U.b=D.z2;U.data={d:"editCurr",hn:l};$.$(U)}}this.gA=Date.now();D.Xw.Cp(i)};D.NN.prototype.fK=function(i,$,h,d,K){if(!this.VJ)return;
this.VJ=!1;if(this.d==0){if(d){this.aoj(i,null,d,K)}else{if(this.zx.x==0&&this.zx.y==0)return;this.aoj(i,this.zx.clone())}i.u6=!0}else if(this.d==2){var f=0;
$=[$.x,$.y];var l=this.Y2,u=i.C9[l],f3=this.ZM[0].length,U=i.C9.length;if(h.hT&&$[u[0]]<k.TA.AD){var y=i.KG();
y[0].splice(l,1);y[1].splice(l,1);i.N7(y);f=1;if(f3==U-1)return}if(f3<U)f=2;var a=new dS([[23,2],[23,3],[23,4]][f],this);
a.data={d:2,ZM:this.ZM,rO:i.KG()};i.JY(a)}else if(this.d==4){var a=new dS([12,54],this);a.data={d:4,g:i.o7.slice(0),I:this.zx.clone()};
i.JY(a)}this.zx.WI(0,0)};D.NN.prototype.PS=function(i,$,h,d){var K=d.j$(i?i.u.rS:0);if(i!=null&&(K.x!=0||K.y!=0)){if(d.j(ai.rf)&&i.J==null){var f=new eU(x.E.s);
f.b=D.$S;f.data={d:H.kq,a06:!0};$.$(f)}this.zx.WI(K.x,K.y);this.Ss(i,$,d,h,!1);if(!this.VJ)return;this.FO(i,K.x,K.y);
this.fK(i,null,h);this.DA(i)}var l=d.j(ai.PO);if(!this.Rh&&this.a96!=l){if(l){this.a3U=this.vw.rM;this.vw.rM=!0}else{this.vw.rM=this.a3U}this.a96=l;
var u=new eU(x.E.k,!0);u.data={d:x.c.zj,b:this.id,Py:this.vw};$.$(u)}};D.NN.prototype.RU=function(i,$){if(i.d==0){var h=i.Rw;
if(h){$.Lq(h.bb);$.g=h.O2.slice(0);$.U();$.$x=!0}D.NN.St($,i.g,i.HZ,i.mx,!0);D.Xw.Cp($)}else if(i.d=="fcmy"||i.d=="fvec"){if(i.pp==0)delete $.add[i.d];
else $.add[i.d]=i.pp;$.nU=!0}else if(i.d=="pview"){$.dV=!$.dV;$.U()}else if(i.d==2){$.N7(i.ZM);$.nU=!0}else if(i.d==4){for(var t=0;
t<i.g.length;t++)$.kY[i.g[t]].rect.offset(-i.I.x,-i.I.y);$.nU=!0}else{var d=$.B[i.a];if(i.GI){d.$l($,i.tD);
$.J=i.dF;$.oM=!0;$.U();d.U()}else{D.NN.du($,i.a,-i.Zn.x,-i.Zn.y)}}};D.NN.prototype.Oi=function(i,$){if(i.d==0){D.NN.St($,i.g,i.HZ,i.mx);
var h=i.Rw;if(h){$.Lq(h.mV);$.g=h.mP.slice(0);$.U();$.$x=!0}D.Xw.Cp($)}else if(i.d=="fcmy"||i.d=="fvec"){if(i.gj==0)delete $.add[i.d];
else $.add[i.d]=i.gj;$.nU=!0}else if(i.d=="pview"){$.dV=!$.dV;$.U()}else if(i.d==2){$.N7(i.rO);$.nU=!0}else if(i.d==4){for(var t=0;
t<i.g.length;t++)$.kY[i.g[t]].rect.offset(i.I.x,i.I.y);$.nU=!0}else{var d=$.B[i.a];if(i.GI){d.Nf=i.Nf;
$.J=i.sG;D.NN.du($,i.a,0,0);d.U()}else{D.NN.du($,i.a,i.Zn.x,i.Zn.y)}}};D.NN.prototype.aoj=function(i,$,h,d){if(h){var K=!0;
for(var t=0;t<h.length;t++)if(h[t]!=0)K=!1;if(K)return}var f=i.history[i.oD],l=this.oK,u=l!=null&&l[3]!=-1&&l[0]==i;
if(!u&&h==null&&f.data&&f.b==this&&f.data.d==0&&JSON.stringify(f.data.g)==JSON.stringify(this.Y2)&&JSON.stringify(f.data.HZ)==JSON.stringify(this.In)){var U=f.data.mx,y=f.data.ajz.B6.T.v;
y.Hrzn.v.val+=$.x;y.Vrtc.v.val+=$.y;for(var t=0;t<U.length;t+=2){U[t]+=$.x;U[t+1]+=$.y}}else{if($==null)$=new cq(h[0],h[1]);
var a={Fs:"move",B6:{classID:"null",null:jV.uf("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:$.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:$.y}}}}}},v=null;
if(u)v={bb:l[1],O2:l[2],mV:i.B.slice(0),mP:i.g.slice(0)};this.oK=null;var c=new dS(d?d:[12,54],this);
if(h)c.data={d:0,g:this.Y2,HZ:this.In,Rw:v,mx:h};else c.data={d:0,g:this.Y2,HZ:this.In,Rw:v,mx:D.NN.avl(this.Y2,$.x,$.y)};
c.data.ajz=a;i.JY(c);this.track(a)}};D.NN.avl=function(i,$,h){var d=[];for(var t=0;t<i.length;t++)d.push($,h);
return d};D.NN.m8=function(i,$,h,d,K){D.NN.St(i,$,h,D.NN.avl($,d,K))};D.NN.St=function(i,$,h,d,K){if($.length==0)return;
if(h==null){h=[];for(var t=0;t<$.length;t++){h.push(i.B[$[t]].zA(i,!0))}}var f=new bN,l=new bN(0,0,i.e,i.n);
for(var t=0;t<$.length;t++){var u=d[2*t],U=d[2*t+1];if(K){u=-u;U=-U}var y=i.B[$[t]],a=h[t];if(y.add.fxrp&&(a.indexOf(0)!=-1||y.A$()))y.add.fxrp.offset(u,U);
for(var v=0;v<a.length;v++){var c=a[v];if(c==0){y.rect.offset(u,U);if(y.Hm()&&y.Hi(i))y.Hi(i).rect.offset(u,U);
if(y.add.artb){var p=y.Ik();p.offset(u,U);y.th(p);var C=y.add.artb.guideIndeces;C=C?C.v:[];for(var T=0;
T<C.length;T++){var E=i.C9[C[T].v];E[1]+=E[0]==0?u:U}}if(y.add.TySh){y.add.TySh.D.translate(u,U);if(y.add.TySh.add){y.add.TySh.add.vmsk.offset(u,U)}}if(y.add.SoLd){var r=new ej(1,0,0,1,u,U),Y=y.add.SoLd,S=D.vA.O7(Y.Trnf),m=D.vA.O7(Y.nonAffineTransform);
k.p.D(S,r,S);k.p.D(m,r,m);Y.Trnf=D.vA.j7(S);Y.nonAffineTransform=D.vA.j7(m);D.vA.asQ(Y,r)}}if(c==1)y.MQ().rect.offset(u,U);
if(c==2){y.add.vmsk.offset(u,U);if(y.add.vogk)k.X.D(y.add.vogk,[1,0,u,0,1,U,0,0],[]);if(y.A0.iK){var Q=y.A0.iK.Ai.C;
k.p.D(Q,new ej(1,0,0,1,u,U),Q)}}if(c==3){y.Hi(i).z.rect.offset(u,U);if(a.length==1)y.U()}}if(a.length>0){var z=y.add.GdFl;
if(z==null)z=y.add.PtFl;if(y.A$()&&!y.ZF()&&y.add.vmsk!=null&&k.A.ov(y.add.vmsk.i)&&y.add.vmsk.Hw==255&&(z==null||z.Algn&&z.Algn.v)){y.rect.offset(u,U)}else y.ET(i);
var n=i.root.El(y.ys(i),i,$[t]);if(y.add.artb)n=n.rt(y.Ik());f=f.rt(n);n.offset(-u,-U);f=f.rt(n);if(y.Wx()&&y.z&&y.z.color==255)f=f.rt(l);
y.agm()}}i.U(k.p.Ip(f))};D.NN.am6=function(i,$){var h=[];for(var t=0;t<$.length;t++){var d=i.B[$[t]];
h.push(d.zA(i))}return h};D.NN.hQ=function(i,$,h){var d=i.R.TM={C:[],H:[]},K=$.x+h[0],f=$.y+h[1];if(h[2]!=1e9){d.H.push("M","L");
d.C.push(h[2],f,h[2],f+$.n)}if(h[3]!=1e9){d.H.push("M","L");d.C.push(K,h[3],K+$.e,h[3])}i.nU=!0};D.NN.pn=function(i,$,h,d){var K=D.NN.aar(i,[[$.x],[$.y]],h,d);
return new cq($.x+K[0],$.y+K[1])};D.NN.gz=function(i,$,h,d,K){var f=K==!0?1:.5,l=D.NN.aar(i,[[$.x,$.x+Math.round($.e*f),$.x+$.e],[$.y,$.y+Math.round($.n*f),$.y+$.n]],h,d);
return l};D.NN.aar=function(i,$,h,d){if(d==null)d=[!0,null,!0];var K=[0,0,1e9,1e9];if(!h.CS)return K;
var f=JSON.parse(JSON.stringify($));for(var l=0;l<2;l++){var u=1e9,U=$[l],y=0;for(var a=0;a<U.length;
a++){var v=D.NN.aoq(i,U[a],f[1-l][a],l,h,d);if(v!=1e9)f[l][a]=v;if(v!=1e9&&Math.abs(v-U[a])<Math.abs(u)){u=v-U[a];
y=v}}if(u!=1e9){K[l]=u;K[l+2]=y}}return K};D.NN.aoq=function(i,$,h,d,K,f){var l=1e9,u=K.Yj,U=K.ZZ,y=[i.root];
while(y.length!=0&&u[2]){var a=y.pop(),v=a.a,c=v.rect;if(!v.ji())continue;if(a.children)for(var t=0;
t<a.children.length;t++)y.push(a.children[t]);if(i.g.indexOf(a.index)!=-1||c.NT())continue;if(d==0){var p=c.e,C=p>>>1;
if(Math.abs(c.x-$)<Math.abs(l-$))l=c.x;if(Math.abs(c.x+C-$)<Math.abs(l-$))l=c.x+C;if(Math.abs(c.x+p-$)<Math.abs(l-$))l=c.x+p}else{var T=c.n,E=T>>>1;
if(Math.abs(c.y-$)<Math.abs(l-$))l=c.y;if(Math.abs(c.y+E-$)<Math.abs(l-$))l=c.y+E;if(Math.abs(c.y+T-$)<Math.abs(l-$))l=c.y+T}}if(f[0]&&u[0]&&U.C9&&K.T2){var r=i.KG(),Y=r[0],S=r[1],m=i.ii();
for(var t=0;t<Y.length;t++)if((S[t]==-1||S[t]==m)&&Y[t][0]==d&&Math.abs(Y[t][1]-$)<Math.abs(l-$))l=Y[t][1]}if(u[1]&&U.eS&&K.T2){var Q=Math.round(k.TA.KT(U.hy,i._m,i.e,U.xO));
if(d==1&&U.ie==1){var z=h*.5*Math.sqrt(4/3),n;Q*=Math.sqrt(4/3);n=Math.round(($-z)/Q)*Q+z;if(Math.abs(n-$)<Math.abs(l-$))l=n;
n=Math.round(($+z)/Q)*Q-z;if(Math.abs(n-$)<Math.abs(l-$))l=n}else{var n=Math.round($/Q)*Q;if(Math.abs(n-$)<Math.abs(l-$))l=n}}var Z=i.ky;
if(u[3]&&U.ky&&K.T2&&Z.length!=0){for(var t=0;t<Z.length;t++){if(!f[2]&&i.Bg.indexOf(t)!=-1)continue;
var P=D.Zo.Tx(Z,t);for(var V=0;V<3;V+=2)if(P[V+d]!=$&&Math.abs(P[V+d]-$)<Math.abs(l-$))l=P[V+d]}}if(f[1])for(var I=0;
I<f[1].length;I++){var c=f[1][I],p=c.e,T=c.n,q=[c.x,c.y,c.x+(p>>>1),c.y+(T>>>1),c.x+p,c.y+T];for(var t=0;
t<6;t+=2)if(Math.abs(q[t+d]-$)<Math.abs(l-$))l=q[t+d]}if(u[4]){var c=new bN(0,0,i.e,i.n),m=i.ii();if(m!=-1)c=i.B[m].Ik();
var p=c.e,T=c.n,q=[c.x,c.y,c.x+(p>>>1),c.y+(T>>>1),c.x+p,c.y+T];for(var t=0;t<6;t+=2)if(Math.abs(q[t+d]-$)<Math.abs(l-$))l=q[t+d]}var X=Math.abs(l-$)<=4*D.V()/i.u.N?l:1e9;
return X};D.in=function(){D.n1.call(this,[10,12],D.hY,"tools/mwand");this.me=null};D.in.prototype=new D.n1;
D.in.prototype.rP=D.n1.prototype.a2A;D.in.prototype.W7=D.n1.prototype.a9Z;D.in.prototype.k7=function(i,$,h,d){this.me=d;
this.alo=this.vw.wconf[0];this.finish(i,$,h,d)};D.in.prototype.CX=function(i,$,h,d,K){if(!d.Et)return;
var f=new eU(x.E.s);f.b=D.BL;f.data={d:"h_stepbck"};K.$(f);var l=d.x-this.me.x,u=Math.max(0,Math.min(255,Math.round(this.alo+l/4)));
this.vw.wconf[0]=u;this.ct(K);this.finish(i,$,h,this.me)};D.in.prototype.QA=function(i,$,h,d,K){this.vw.wconf[0]=this.alo;
this.ct(K)};D.in.prototype.getSelection=function(i,$,h,d){var K=this.q4;K=i.u._x(d.x,d.y);var f=D.n1.auo(new cq(Math.floor(K.x),Math.floor(K.y)),this.vw.wconf,this.vw.sall);
return f};D.in.an_=function(i,$,h,d,K){if(i.g.length!=1){alert("More than one layer selected.");return null}var f=i.B[i.g[0]],l=null,u;
if(K)l=f.Tu<=0?null:f.Tu==1?f.MQ():f.Hi(i).z;if(l==null&&f.add.lsct!=null&&f.add.lsct!=gX.WF){alert("No layer selected.");
return null}if($.x<0||$.x>i.e||$.y<0||$.y>i.n)return null;var U=new bN(0,0,i.e,i.n);if(d){u=i.Fy()}else if(l==null&&U.Rl(f.rect))u=f.buffer;
else{u=k.Q(U.O()*4);if(l==null)k.mC(f.buffer,f.rect,u,U);else D.Gg.et(l.channel,l.rect,l.color,u,U)}var y=D.in.adG(u,U,$,null,h),a=k.WG(y,U),v=k.Q(a.O());
k.Zc(y,U,v,a);return{rect:a,channel:v}};D.in.atb=function(i,$,h){var d=$.e,K=$.n,l=0,u=0,U=0,y=0;i=new Uint32Array(i.buffer);
var f=[],a=h.length;for(var t=0;t<a;t++){var v=h[t],c=Math.round(v.x-.5-$.x),p=Math.round(v.y-.5-$.y);
c=Math.max(0,Math.min(d-1,c));p=Math.max(0,Math.min(K-1,p));var C=p*d+c,T=i[C];f.push([T&255,T>>8&255,T>>16&255,T>>>24])}return f};
D.in.adG=function(i,$,h,d,K){i=new Uint32Array(i.buffer);var f=$.e,l=$.n,u=f*l;if(d==null)d=D.in.atb(i,$,[h]);
var U=Math.round(h.x-.5-$.x),y=Math.round(h.y-.5-$.y),a=y*f+U,v=Date.now(),c=k.Q(f*l),p=K[0],C=1/p,T=K[1]&&p>0?255:0;
if(K[2]){var E=k.Q(c.length),r=new Uint32Array(u),Y=1;r[0]=U<<16|y;E[a]=1;while(Y>0){var S=r[Y-1];Y--;
var m=S>>>16,Q=S&65535,t=Q*f+m,z=D.in.S_(i[t],d);if(z>p){var n=T*(1-Math.max(0,Math.min(1,(z-p)*C)));
c[t]=~~n}else{c[t]=255;if(Q!=l-1&&E[t+f]==0){r[Y++]=m<<16|Q+1;E[t+f]=1}if(Q!=0&&E[t-f]==0){r[Y++]=m<<16|Q-1;
E[t-f]=1}if(m!=f-1&&E[t+1]==0){r[Y++]=m+1<<16|Q;E[t+1]=1}if(m!=0&&E[t-1]==0){r[Y++]=m-1<<16|Q;E[t-1]=1}}}}else{for(var t=0;
t<u;t++){var z=D.in.S_(i[t],d);if(z<=p)c[t]=255}for(var Q=0;Q<l;Q++)for(var m=0;m<f;m++){var t=Q*f+m;
if(c[t]==0&&(m>0&&(c[t-1]==255||Q>0&&c[t-f-1]==255||Q<l-1&&c[t+f-1]==255)||m<f-1&&(c[t+1]==255||Q>0&&c[t-f+1]==255||Q<l-1&&c[t+f+1]==255)||Q>0&&c[t-f]==255||Q<l-1&&c[t+f]==255)){var z=D.in.S_(i[t],d),n=T*(1-Math.max(0,Math.min(1,(z-p)*C)));
c[t]=~~n}}}return c};D.in.S_=function(i,$){var h=$.length,d=D.in.atT(i,$[0]),t=1;while(t!=h){d=Math.min(d,D.in.atT(i,$[t]));
t++}return d};D.in.atT=function(i,$){var h=i&255,d=i>>>8&255,K=i>>>16&255,f=i>>>24&255;if($[3]==0)return f<5?0:255;
var l=Math.max(Math.abs(h-$[0]),Math.max(Math.abs(d-$[1]),Math.abs(K-$[2])));return f==0?255:l};D.lR=function(i,$){if($)D.Gg.call(this);
else if(i)D.Gg.call(this,[10,49],D.AN,"tools/camove");else D.Gg.call(this,[10,26],D.E4,"tools/patch");
this.iX=null;this.iK=null;this.I=null;this.$Z=null;this.nG=new cq;this.fJ=null;this.iF=null};D.lR.prototype=new D.Gg;
D.lR.prototype.gE=function(i,$,h,d,K){var f=i.u._x(K.x,K.y);if(i.J&&k.G3(f,i.J.channel,i.J.rect)){var l=new bN(0,0,i.e,i.n),u=l.Js(i.J.rect);
if(!i.EX()||u.NT())return;if(!0){var U=k.Q(u.O());k.Zc(i.J.channel,i.J.rect,U,u);i.J={channel:U,rect:u}}this.LV(i);
this.cW(i);this.$Z=f;this.nG=new cq(f.x-i.J.rect.x,f.y-i.J.rect.y);this.iF=k.Q(i.J.rect.O()*4);this.iF.fill(255);
if(this.vw.patch==1){var y=i.B[i.g[0]];y.Di(i,i.J,!0);if(y.Nf==null)this.$Z=null}this.fJ=i.J.rect.clone()}else{this.iK={C:[f.x,f.y],H:["M"]};
this.iX=f}};D.lR.prototype.Zm=function(i,$,h,d,K){var f=i.u._x(K.x,K.y);if(this.$Z){if(this.vw.patch==1){if(i.o7.length==0){var l=i.B[i.g[0]].Nf,u=f.x-this.nG.x,U=f.y-this.nG.y;
D.NN.du(i,i.g[0],Math.round(u-l.RG.x),Math.round(U-l.RG.y))}}else this.axe(i,f,"clone")}if(this.iX){this.iK.H.push("L");
this.iK.C.push(f.x,f.y);this.iX=f;i.R.HQ=this.iK;i.nU=!0}};D.lR.prototype.IQ=function(i,$,h,d,K){var f=i.u._x(K.x,K.y);
if(this.$Z){var l=i.J.rect.clone();if(this.id==D.AN){var u=i.B[i.g[0]];u.$l(i,u.Nf);i.J.rect=this.fJ.clone();
var U=k.Q(i.J.rect.O()*4);k.k1(i.J.channel,U,3);this.Dq(i,"sheal",U,i.J.rect,i.J.rect);i.J.rect=l;l=l.rt(this.fJ)}this.axe(i,f,"heal");
this.finish(i,l,null,null,!0);i.U(l);this.$Z=null}if(this.iX){var y=D.n1.Rt(this.vw.setop,d.j(ai.EW),d.j(ai.rf)),a=new eU(x.E.jm,!0);
if(this.iK.C.length<=4)a.data=D.n1.Yy();else a.data=D.n1.Y7(this.iK.C,y);$.$(a);this.iX=null;i.R.HQ=null;
i.nU=!0}};D.lR.prototype.mQ=function(){return this.I};D.lR.prototype.oi=function(i,$,h,d,K){D.Gg.prototype.oi.call(this,i,$,h,d,K);
this.S7(K,d)};D.lR.prototype.S7=function(i,$){var h="auto;";if($!=null&&$.j(ai.EW)&&!$.j(ai.rf)||this.vw.setop=="union")h="copy";
var d=new eU(x.E.k,!0);d.data={d:x.c.xY,hf:h};if(this.caller)this.caller.$(d)};D.lR.prototype.axe=function(i,$,h){var d=new cq(Math.round(this.$Z.x-$.x),Math.round(this.$Z.y-$.y));
if(this.vw.patch==1)d.WI(-d.x,-d.y);this.I=d;this.Dq(i,h,this.iF,i.J.rect,i.J.rect);this.U(i,i.J.rect)};
D.aq3=function(){D.lR.call(this,!0);this.vw.patch=1};D.aq3.prototype=new D.lR(!0,!0);D.Wc=function(){D.Gg.call(this,[10,13],D.a3E,"tools/pbucket");
this.Xq=!1};D.Wc.prototype=new D.Gg;D.Wc.prototype.enable=function(i,$,h,d){var K=new eU(x.E.k,!0);K.data={d:x.c.xY,hf:"default"};
$.$(K)};D.Wc.prototype.aG=function(i,$){};D.Wc.prototype.gE=function(i,$,h,d,K){this.Xq=!0};D.Wc.prototype.IQ=function(i,$,h,d,K,f){var l=this.Xq;
this.Xq=!1;if(!l||f)return;if(this.KP(d,$,K))return;if(!i.EX())return;var u=i.u._x(K.x,K.y),U=D.in.an_(i,u,this.vw.wconf,this.vw.sall,!0);
if(U==null)return;var y=k.Q(U.rect.O()*4);k.MK(y,(h.Mz&255)<<16|(h.Mz>>8&255)<<8|(h.Mz>>16&255)<<0);
k.k1(U.channel,y,3);this.LV(i);this.Dq(i,"draw",y,U.rect,U.rect);this.U(i,U.rect);this.finish(i,U.rect)};
D.xr=function(){D.n1.call(this,[10,14],D.a1_,"tools/plasso");this.Qs="crosshair";this.po=[];this.Sq=null;
this.iK=null;this.a5E=0};D.xr.prototype=new D.n1;D.xr.prototype.disable=function(i,$,h,d){this.sy(i)};
D.xr.prototype.k7=function(i,$,h,d){this.po=[ai.X1,ai.A9]};D.xr.prototype.JL=function(i){return this.po.indexOf(i)!=-1};
D.xr.prototype.QH=function(i){return this.iK!=null};D.xr.prototype.cb=function(){return this.iK!=null};
D.xr.prototype.uq=function(){return this.iK!=null};D.xr.prototype.CX=function(i,$,h,d){if(this.iK==null)return;
var K=this.iK,f=K.C,l=f.length-2,u=this.q4;if(this.Cf._O(1)&&h.j(ai.rf)&&d.Et){f.push(0,0);K.H.push("L");
l+=2}else if(h.j(ai.EW))u=D.pK.yc(new cq(f[l-2],f[l-1]),u);f[l]=u.x;f[l+1]=u.y;i.R.HQ=K;i.nU=!0};D.xr.prototype.QA=function(i,$,h,d){var K=Date.now();
if(this.iK==null)this.iK={C:[this.q4.x,this.q4.y,this.q4.x,this.q4.y],H:["M","L"]};else{this.CX(i,$,h,d);
if(K-this.a5E<250||cq.ED(this.q4,new cq(this.iK.C[0],this.iK.C[1]))<D.On(i,d)){this.Sq=this.iK;this.finish(i,$,h,d);
this.sy(i);return}this.iK.H.push("L");this.iK.C.push(this.q4.x,this.q4.y)}this.a5E=K;i.R.HQ=this.iK};
D.xr.prototype.sy=function(i){this.iK=null;this.po=[];if(i!=null){i.R.HQ=null;i.nU=!0}};D.xr.prototype.PS=function(i,$,h,d){D.n1.prototype.PS.call(this,i,$,h,d);
if(d.j(ai.UY)&&this.iK==null&&this.Sq&&i.J!=null){var K=new eU(x.E.s);K.b=D.BL;K.data={d:"h_stepbck"};
$.$(K);this.k7(i,h,d,null);this.iK=this.Sq;return}if(this.iK==null)return;if(d.j(ai.X1)||d.j(ai.A9)){this.iK.C.pop();
this.iK.C.pop();this.iK.H.pop();this.CX(i,h,d)}if(d.j(ai.iQ)){if(this.iK.C.length>4){this.Sq=this.iK;
this.finish(i,h,d)}this.iK=null}if(d.j(ai.UY)){this.iK=null}i.R.HQ=this.iK;i.nU=!0};D.xr.prototype.getSelection=function(i,$,h,d){return D.n1.Y7(this.iK.C,null,this.vw.anta)};
D.I5=function(){D.n1.call(this,[10,10],D.a6e,"tools/mlasso");this.Qs="crosshair";this.po=[];this.i=[];
this.FW=[];this.Go=[];this.$F=null;this.ON=null;this.es=null;this.gA=0;this.AK=0};D.I5.prototype=new D.n1;
D.I5.prototype.disable=function(i,$,h,d){this.clear(i)};D.I5.prototype.QH=function(i){return this.i.length!=0};
D.I5.prototype.uq=function(){return this.i.length!=0};D.I5.prototype.JL=function(i){return this.po.indexOf(i)!=-1};
D.I5.prototype.k7=function(i,$,h,d){this.po=[ai.X1,ai.A9];var K=this.VV(this.to,i);if(this.i.length!=0&&(cq.ED(K,this.i[0])<D.On(i,d)||Date.now()-this.gA<300)){this.dG(i,this.i[0]);
this.finish(i,$,h);this.clear(i);return}this.gA=Date.now();if(this.i.length!=0)K=this.cq(K,i);else{var f=i.e,l=i.n,u=k.Q(f*l),U=i.Fy(),y=f*l*4;
for(var t=0;t<y;t+=4)u[t>>>2]=~~(.5+k.DW(U[t],U[t+1],U[t+2])*(U[t+3]*(1/255)));this.$F=k.Tf.aqU(u,f,l);
this.es=new Uint16Array(u.length)}this.dG(i,K);this.AK=h.j(ai.rf)?1:0;this.jb(i)};D.I5.prototype.dG=function(i,$){var h=this.i;
this.FW[h.length]=this.Go.length;if(h.length!=0){k.Tf.JR(this.ON,$.y*i.e+$.x);var d=this.nN(i,$);d.reverse();
var K=D.I5.a7F(i,d);this.Go=this.Go.concat(K)}h.push($);this.a1u(i)};D.I5.prototype.a1u=function(i){var $=this.i[this.i.length-1],h=$.y*i.e+$.x;
this.ON=k.Tf.apH(this.$F.fT,this.$F.AP,h);this.es.fill(0)};D.I5.prototype.VV=function(i,$){return new cq(Math.floor(Math.max(0,Math.min($.e-1,i.x))),Math.floor(Math.max(0,Math.min($.n-1,i.y))))};
D.I5.prototype.clear=function(i){this.Go=[];this.i=[];this.FW=[];this.$F=null;this.ON=null;this.es=null;
if(i!=null){i.R.HQ=null;i.R.xX=[];i.nU=!0}this.po=[]};D.I5.prototype.CX=function(i,$,h,d){var K=this.i,f=K.length;
if(f==0)return;var l=this.cq(this.VV(this.q4,i),i),u=this.nN(i,l);for(var t=0;t<u.length;t++){var U=u[t],y=new cq(U%i.e,Math.floor(U/i.e));
if(this.es[U]>30&&cq.ED(y,K[f-1])>20){this.dG(i,y);return}this.es[U]++}if(this.AK==1&&d.Et)this.dG(i,l);
this.jb(i)};D.I5.prototype.jb=function(i){var $=this.i;if($.length!=0){var h=this.cq(this.VV(this.q4,i),i),d=this.nN(i,h);
d.reverse();var K=D.I5.a7F(i,d),f=this.Go.concat(K),l=i.R.HQ={C:f,H:["M"]};for(var t=2;t<f.length;t+=2)l.H.push("L")}i.R.xX=[];
for(var t=0;t<$.length;t++)i.R.xX.push($[t].x+.5,$[t].y+.5);i.nU=!0};D.I5.prototype.QA=function(i,$,h,d){};
D.I5.prototype.PS=function(i,$,h,d){if(this.i.length==0)return;if(d.j(ai.X1)||d.j(ai.A9)){this.i.pop();
this.Go=this.Go.slice(0,this.FW[this.i.length]);this.FW.pop();if(this.i.length==0)this.clear(i);else this.a1u(i);
this.jb(i)}if(d.j(ai.iQ)){var K=this.VV(this.q4,i);this.dG(i,K);this.finish(i,h,d);this.clear(i)}if(d.j(ai.UY)){this.clear(i)}};
D.I5.prototype.getSelection=function(i,$,h,d){return D.n1.Y7(this.Go,null,this.vw.anta)};D.I5.prototype.nN=function(i,$){var h=this.i[this.i.length-1],d=h.y*i.e+h.x,K=$.y*i.e+$.x;
if(this.AK==1)return[K,d];var f=[K];while(K!=d){K=this.ON.cM[K];f.push(K);if(f.length>5e3){console.log(f);
throw"e"}}return f};D.I5.a7F=function(i,$){var h=[],d=i.e;for(var t=0;t<$.length;t++){var K=$[t];h.push(K%d+.5,Math.floor(K/d)+.5)}return h};
D.I5.prototype.cq=function(i,$){var h=$.e,d=$.n,K=i.clone(),l=3;k.Tf.JR(this.ON,i.y*h+i.x);var f=this.ON.u4[i.y*h+i.x];
for(var u=-l+1;u<l;u++)for(var U=-l+1;U<l;U++){var y=i.x+U,a=i.y+u;if(y<0||y>=h||a<0||a>=d)continue;
k.Tf.JR(this.ON,a*h+y);if(this.ON.u4[a*h+y]<f)K.WI(y,a)}return K};D.LR=function(){D.TK.call(this,[10,36],D.y8,"tools/ruler");
this.h3=null;this.Ad=null;this.cZ=null;this.Ht=null;this.aX=null};D.LR.prototype=new D.TK;D.LR.prototype.QH=function(i){return i.Et};
D.LR.prototype.enable=function(i,$,h,d){D.TK.prototype.enable.call(this,i,$,d,h);if(i)this.DA(i)};D.LR.prototype.disable=function(i,$,h,d){if(i)this.sy(i)};
D.LR.prototype.d6=function(i,$,h,d,K){this.h3=this.cZ=null;this.DA(h)};D.LR.prototype.gE=function(i,$,h,d,K){var f=D.On(i,K),l=i.u._x(K.x,K.y);
l.x=Math.round(l.x);l.y=Math.round(l.y);var u=this.h3;this.Ad=u?u.slice(0):null;var U=u&&cq.ED(l,u[0])<f,y=u&&cq.ED(l,u[1])<f,a=u&&u[2]&&cq.ED(l,u[2])<f;
if(U||y||a){if(d.j(ai.rf)&&u.length==2){if(y){var v=u[0];u[0]=u[1];u[1]=v}u[2]=u[0].clone();this.cZ=[2]}else this.cZ=[U?0:y?1:2]}else if(u&&D.LR.a6o(u[0],u[1],l)<f&&Math.min(u[0].x,u[1].x)-5<=l.x&&l.x<=Math.max(u[0].x,u[1].x)+5&&Math.min(u[0].y,u[1].y)-5<=l.y&&l.y<=Math.max(u[0].y,u[1].y)+5){this.cZ=[];
this.aX=[];for(var t=0;t<u.length;t++){this.cZ.push(t);this.aX.push(u[t].clone())}this.Ht=l}else{this.h3=[l.clone(),l.clone()];
this.cZ=[1]}};D.LR.prototype.Zm=function(i,$,h,d,K){if(this.cZ==null)return;var f=this.h3,l=this.cZ,u=i.u._x(K.x,K.y);
u.x=Math.round(u.x);u.y=Math.round(u.y);if(l.length>1){var U=u.x-this.Ht.x,y=u.y-this.Ht.y;for(var t=0;
t<f.length;t++){f[t]=this.aX[t].clone();f[t].offset(U,y)}}else{f[l[0]].WI(u.x,u.y);if(d.j(ai.EW)){f[l[0]]=D.pK.yc(f[1-l[0]],f[l[0]])}}this.DA(i);
this.Ru($,x.E.k,{d:x.c.zj,b:this.id,a8A:f[0],h5:f[1],IC:f[2],_m:i._m,acJ:i.e});i.u.Br=k.p.DS([f[0].x,f[0].y,f[1].x,f[1].y]);
console.log(i.u.Br)};D.LR.prototype.IQ=function(i,$,h,d,K,f){this.cZ=null;if(f){this.h3=this.Ad.slice(0);
this.DA(i)}};D.LR.prototype.Ru=function(i,$,h){var d=new eU($,!0);d.data=h;i.$(d)};D.LR.prototype.DA=function(i){var $=this.h3;
if($==null)this.sy(i);else{var h=[$[1].x,$[1].y,$[0].x,$[0].y],d=["M","L"];if($.length>2){h.push($[2].x,$[2].y);
d.push("L")}i.R.HQ={H:d,C:h};i.R.xX=h}i.nU=!0};D.LR.prototype.sy=function(i){i.R.HQ=null;i.R.xX=[]};
D.LR.a6o=function(i,$,h){var d=$.x-i.x,K=$.y-i.y,f=Math.abs(K*h.x-d*h.y+$.x*i.y-$.y*i.x),l=Math.sqrt(d*d+K*K);
return l==0?0:f/l};D.mK=function(){D.Gg.call(this,[10,19],D.yH,"tools/sharpen");this.Ku="copy"};D.mK.prototype=new D.Gg;
D.mK.prototype.gE=function(i,$,h,d,K){var f=this.vw.pdetail?kn.DH:kn.yH;if(d.j(ai.rf))f=kn.pj;this.yP(i,h,d,K,this.vw.strn,f);
if(this.xo==null)return;this.ni(i)};D.mK.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);
if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D._C=function(){D.Gg.call(this,[10,24],D.G4,"tools/shbrush");
this.Ku="draw";this.vw.opacity=.5};D._C.prototype=new D.Gg;D._C.prototype.gE=function(i,$,h,d,K){this.yP(i,h,d,K,1);
if(this.xo==null)return;this.cW(i);this.ni(i)};D._C.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);
if(this.Fl)this.jH(i,h,K);if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D._C.prototype.IQ=function(i,$,h,d,K){if(this.xo==null)return;
this.Dq(i,"sheal",this.xo.T9(),this.xo.bL(),this.xo.Je(),null);this.U(i,this.xo.Je());D.Gg.prototype.IQ.call(this,i,$,h,d,K)};
D.xI=function(){D.Gg.call(this,[10,20],D.T_,"tools/smudge");this.Ku="copy"};D.xI.prototype=new D.Gg;
D.xI.prototype.gE=function(i,$,h,d,K){this.yP(i,h,d,K,this.vw.strn,kn.T_);if(this.xo==null)return;this.ni(i)};
D.xI.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);if(this.xo==null)return;
if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.YO=function(){D.Gg.call(this,[10,23],D.rb,"tools/sponge");
this.Ku="sponge"};D.YO.prototype=new D.Gg;D.YO.prototype.gE=function(i,$,h,d,K){this.yP(i,h,d,K,this.vw.flow);
if(this.xo==null)return;this.ni(i)};D.YO.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);if(this.Fl)this.jH(i,h,K);
if(this.xo==null)return;if(!K.Et)return;this.SN(i,h,d,K);this.ni(i)};D.qq=function(){D.TK.call(this,[10,17],D.VB,"tools/zoom");
this.Sp=!1;this.p6=!0;this.Mw=0;this.nI=null;this.Ou=null;this.eb=0;this._W=null;this.lj=0;this.tL=new ew([{name:[8,0],oF:"Ctrl + +"},{name:[8,1],oF:"Ctrl + -",c6:!0},{name:[20,3],oF:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],oF:"Ctrl + 1"}],[{_:x.E.s,b:D.VB,W:{d:"zoom",p6:!0}},{_:x.E.s,b:D.VB,W:{d:"zoom",p6:!1}},{_:x.E.s,b:D.VB,W:{d:"adapt",L:"fitscr"}},{_:x.E.s,b:D.VB,W:{d:"adapt",L:"pixel"}}])};
D.qq.prototype=new D.TK;D.qq.prototype.wI=function(i,$,h,d,K){var f=this.tL;f.f();f.parent=$;f.update(i,h);
var l=new eU(x.E.k,!0);l.data={d:x.c.jT,dX:f,x:K.jn+2,y:K.eM+1};$.$(l)};D.qq.prototype.enable=function(i,$,h,d){this.Zq($,d);
if(i&&Date.now()-this.Mw<300)this.d6({d:"adapt",L:"pixel"},$,i,d,h);this.Mw=Date.now()};D.qq.prototype.gE=function(i,$,h,d,K){this.Ou=new cq(K.x,K.y);
this.eb=i.u.N;this._W=i.u.I.clone()};D.qq.prototype.Zm=function(i,$,h,d,K){if(this.Ou==null)return;var f=Math.exp(Math.log(this.eb)+(K.x-this.Ou.x)/64);
f=Math.max(.02,Math.min(D.qq.eA[0],f));i.u.N=this.eb;i.u.I=this._W.clone();this.d6({d:"zoom",N:f,XX:this.Ou},$,i,d,h)};
D.qq.prototype.IQ=function(i,$,h,d,K){if(cq.ED(this.Ou,K)<4){var f=this.aiM(d);this.d6({d:"zoom",p6:f,XX:K},$,i,d,h)}this.Ou=null};
D.qq.eA=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
D.qq.ahi=function(i,$,h,d){var K=1;while(i*K*1/2>h||$*K*1/2>d)K*=1/2;if(i*K*2/3>h||$*K*2/3>d)K*=1/2;
else if(i*K>h||$*K>d)K*=2/3;return K};D.qq.ajy=function(i,$){var h=D.qq.a3L(i);if($&&h==0)return i;if(!$&&h==D.qq.eA.length-1)return i;
return D.qq.eA[$?h-1:h+1]};D.qq.a3L=function(i){var $=0;while(D.qq.eA[$]>i)$++;return $};D.qq.b$=function(i,$,h,d){var K=i.x3;
if(d==0||d==null){d=D.qq.ajy(i.N,h);if(d==i.N)return}var f=i._x($.x,$.y);f.x=Math.max(0,Math.min(K.e,f.x));
f.y=Math.max(0,Math.min(K.n,f.y));if(!1){}else{var l=i.CT(),u=i.N/d;l.translate(-f.x,-f.y);l.scale(u,u);
l.translate(f.x,f.y);i.akL(l)}};D.qq.prototype.d6=function(i,$,h,d,K){if(i.d=="pzoom"){if(typeof i.L=="string")return;
i={d:"zoom",N:i.L/100}}var f=0,l=!1,u=null;if(i.d=="adapt"){var U=0;if(i.L=="pixel")U=1;if(i.L=="fitscr"){var U=0,y=h.u.Os.e,a=h.u.Os.n,v=new bN(0,0,h.e,h.n),c=k.p.Hg(v).C,p=new ej;
p.rotate(h.u.rS);k.p.D(c,p,c);var C=k.p.nP(c),T=K.hT?k.TA.AD+4:8;U=Math.min((y-T*2)/C.e,(a-T*2)/C.n);
h.u.I.WI(0,0)}u=new cq(Math.round(h.u.Os.e/2),Math.round(h.u.Os.n/2));f=U;D.qq.b$(h.u,u,l,f);h.u6=!0}if(i.d.startsWith("multi")){function E(I){var q=I[0].x-I[1].x,X=I[0].y-I[1].y;
return Math.sqrt(q*q+X*X)}function r(I){return new cq((I[0].x+I[1].x)/2,(I[0].y+I[1].y)/2)}var Y=i.wm,S=r(Y);
if(i.d=="multidown"){this.nI=[Y,h.u.N,h.u._x(S.x,S.y)]}else{var m=D.qq.eA;f=this.nI[1]*E(Y)/E(this.nI[0]);
f=Math.max(m[m.length-1],Math.min(m[0],f));if(f!=h.u.N)D.qq.b$(h.u,S,l,f);var Q=this.nI[2],z=h.u.cV(Q.x,Q.y),n=h.u.I;
n.x=Math.round(n.x+S.x-z.x);n.y=Math.round(n.y+S.y-z.y);h.u6=!0}}if(i.d=="scroll"){u=i.XX;this.lj+=i.Bb.y;
var Z=14;if(this.lj<-Z){l=!0;this.lj=Math.max(this.lj+Z,-(Z-1))}else if(this.lj>Z){l=!1;this.lj=Math.min(this.lj-Z,Z-1)}else return;
D.qq.b$(h.u,u,l,f);h.u6=!0}if(i.d=="zoom"){u=i.XX?i.XX:new cq(Math.round(h.u.Os.e/2),Math.round(h.u.Os.n/2));
if(i.N!=null)f=i.N;else l=i.p6;D.qq.b$(h.u,u,l,f);h.u6=!0}if(i.d=="mskView"){var P=h.B[h.g[0]];if(P.Tu<=0){P.Tu=1;
h.$x=!0}var V=P.Tu==3?P.Hi(h).z:P.MQ();if(i.L==0){h.u.rB=[1,1,1];V.$$=!1}if(i.L==1){h.u.rB=[1,1,1];V.$$=!0}if(i.L==2){h.u.rB=[0,0,0];
V.$$=!0}for(var t=0;t<h.kY.length;t++)h.kY[t].$$=!1;h.o7=[];h.nU=!0}};D.qq.prototype.PS=function(i,$,h,d){if(this.Sp!=d.j(ai.rf)){this.Sp=d.j(ai.rf);
var K={d:x.c.zj,b:this.id,Sp:this.Sp},f=new eU(x.E.k,!0);f.data=K;$.$(f);this.Zq($,d)}};D.qq.prototype.Zq=function(i,$){var h=new eU(x.E.k,!0),d=this.aiM($);
h.data={d:x.c.xY,hf:d?"zoom-in":"zoom-out"};i.$(h)};D.qq.prototype.oi=function(i,$,h,d){this.p6=i.p6;
this.Zq($,d)};D.qq.prototype.aiM=function(i){var $=this.p6;if(i.j(ai.tr)&&i.j(ai.PO))$=!0;if(this.Sp)$=!$;
return $};D.qq.aiI=function(i,$){if(i.j(ai.i6)||i.j(ai.a9l)){$.b=D.VB;$.data={d:"zoom",p6:!0}}if(i.j(ai.s8)){$.b=D.VB;
$.data={d:"zoom",p6:!1}}if(i.j(ai.Kq)){$.b=D.VB;$.data={d:"adapt",L:"fitscr"}}if(i.j(ai.iJ)){$.b=D.VB;
$.data={d:"adapt",L:"pixel"}}};D.cI=function(i,$,h){D.TK.call(this,i,$,h);this.pP=null;this.RM=null;
this.DR=null;this.abw=0};D.cI.prototype=new D.TK;D.cI.cF=function(i){var $={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},h=i==0?{classID:"null",null:$,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:$,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{Fs:i==0?"fill":"stroke",B6:h}};D.cI.prototype.enable=function(i,$,h,d,K){this.RM=h;var f=new eU(x.E.k,!0);
f.data={d:x.c.xY,hf:"default"};$.$(f)};D.cI.prototype.wI=function(i,$,h,d,K){var f=i.iW(),l=f[0],u=f[1];
if(u.length==0)return;var U=l[u[0]],y=U.add.vmsk,a=i.u._x(K.x,K.y),v=4*D.V()/i.u.N,c=new bN(a.x-v,a.y-v,v*2,v*2),p=k.A.vO(y.i,c)[0];
if(p.length!=0){y.ZL=p;i.nU=!0}var C=k.A.G3(y.i,a).zH;if(C!=-1){y.g=[C];i.nU=!0}var T=new eU(x.E.k,!0);
T.data={d:x.c.zj,b:this.id,zI:K,f7:i,bX:h};$.$(T)};D.cI.prototype.a3X=function(i,$){var h=new eU(x.E.k,!0);
h.data={d:x.c.vj,J0:dC.MG};if(!$.T2)i.$(h);h.data={d:x.c.vj,J0:dC.lJ};if(!$.ZZ.w3)i.$(h)};D.cI.prototype.Qi=function(i,$,h,d){if(h.Kw!=this.id)return;
if(i.g.length==0)return;var K=i.B[i.g[0]],f=K.add.vmsk,l=K.add.vstk,u=D.cI.wW(i,i.g[0]);this.pP=i;this.DR=$;
if(K.A$()&&f!=null&&(JSON.stringify(l)!=JSON.stringify(h.HM)||JSON.stringify(u)!=JSON.stringify(h.wk))){this.abw=Date.now();
var U=new eU(x.E.k,!0);U.data={d:x.c.vj,J0:dC.ae,L:u};$.$(U);U.data={d:x.c.vj,J0:dC.YK,L:l};$.$(U)}};
D.cI.prototype.aG=function(i,$){if(this.pP==null)return;if($==dC.mW||$==dC.ae||$==dC.YK){if(Date.now()-this.abw<50)return;
var h=$==dC.ae,d=this.pP,K=h?i.wk:i.HM,f=[],l=d.g;for(var t=0;t<l.length;t++){var u=l[t],U=d.B[u];if(!U.A$()||U.add.vmsk==null)continue;
f.push(u)}var y=new eU(x.E.s,!0);y.b=D.$S;y.data={d:H.O5,o5:f,Wj:h,L:K};if(f.length!=0)this.DR.$(y)}};
D.cI.prototype.afh=function(i){if(typeof i=="number"){var $=new eU(x.E.jm,!0);$.data=D.Eq.kg(0);$.data.B6.Usng.v.Type.v.Clr.v=k.M.Aw({o:i>>>16&255,P:i>>>8&255,Z:i>>>0&255});
this.DR.$($)}};D.cI.prototype.d6=function(i,$,h,d,K){this.DR=$;if(i.d=="newfill"){if(i.Ww==0){var f=new eU(x.E.k,!0);
f.data={d:x.c.ZD,Kh:"colorpicker",Co:K.Mz,gn:this.afh.bind(this)};$.$(f)}}else if(i.d=="pathedit"){var l=i.vC,u="",U=h.w3.slice(0),y=h.LK.slice(0),a=h.w3.slice(0),v=h.LK.slice(0);
if(l=="rnm"){var c=-1-i.zH,p=U[c],C=hR.SG(i.name,p.add);if(c!=0)a[c]=C;else{v=[a.length];a.push(C);a[0]=hR.SG("Work Path")}u="Rename"}else if(l=="new"){var C=hR.SG("Path "+U.length);
if(i.awU){var T=h.iW(),E=T[0],r=T[1],Y=E[r[0]];C.add.vmsk=Y.add.vmsk.clone();C.add.vogk=JSON.parse(JSON.stringify(Y.add.vogk));
if(Y.zH==-1){var m=a[v[0]]=hR.SG("Path "+U.length);m.name=Y.name;m.zH=Y.zH}}a.push(C);v=[a.length-1];
u="New"}else if(l=="del"){if(v.length==0)return;v.sort(function(B,N){return B-N});if(v[0]==0){a[0]=hR.SG(U[0].name);
v=v.slice(1)}var Q=0;while(v.length!=0){a.splice(v[0]-Q,1);v=v.slice(1);Q++}u="Delete"}else if(l=="fromsel"){var z=a[0]=hR.SG("Work Path");
v=[0];if(h.J==null)return;var n=h.J.channel.slice(0);for(var t=0;t<n.length;t++)n[t]=n[t]>128?2:1;var Z=h.J.rect.clone();
Z.ol(1,1);var P=k.Q(Z.O());k.Zc(n,h.J.rect,P,Z);var V=ch.kL(P,Z.e,Z.n,Math.round(Z.O()*5e-4)),E=ch.iW(V),I=new ej(1,0,0,1,-1+h.J.rect.x,-1+h.J.rect.y);
for(var t=0;t<E.length;t++)k.p.D(E[t].path.C,I,E[t].path.C);for(var t=0;t<E.length;t++){var q=E[t];if(q.color==1&&q.parent==-1)continue;
var X=k.p.Kg(E[t].path,!1);z.add.vmsk.i=z.add.vmsk.i.concat(X.slice(2))}z.add.vogk=H.Yt(z.add.vmsk.i);
u="Selection to"}var B=new dS(u+" Path",this);B.data={Ad:U,If:y,aav:a,My:v};if(l=="fromsel"){B.data.dF=h.J;
B.data.sG=null}h.JY(B);this.Oi(B.data,h)}else{var e=i.Q8,T=h.iW(i.d=="append"||i.d=="fromAction"),E=T[0],r=T[1],z=E[r[0]],F=z.add.vmsk,s=z.add.vogk,J=F.clone(),W=F.clone(),L=JSON.stringify(s);
if(i.d=="fromAction"){var A=i.Uf,j=A.Fs,G=A.B6,O=G.T;if(j=="set"){if(O){s.push(k.X.FF(O));W.i.push({type:0,N0:1,length:0});
k.X.b5(s,W);e=[12,76,0]}else throw G}else if(j=="draw"){s=[k.X.FF(G.Shp)];W.i.push({type:0,N0:1,length:0});
k.X.b5(s,W);D.cI.a9O(W.i,G.AntA.v,K.Mz,$);return}else throw j}else if(i.d=="remove"){if(i.Fc&&W.ZL.length!=0){W.i=k.A.acx(W.i,W.ZL,s,i.amn);
var o=k.A.P6(W.i);for(var t=0;t<W.g.length;t++)if(W.g[t]>=o){W.g.splice(t,1);t--}W.ZL=[];e="Delete Anchors"}else{if(W.g.length==0)return;
var Q=0;for(var t=0;t<W.g.length;t++){s.splice(W.g[t]+Q,1);Q--}W.i=k.A.aiW(W.i,W.g);W.g=[];W.ZL=[];if(e==null)e="Delete Paths"}}if(i.d=="append"){D.cI.ho(i.aeL,W,s)}this.c3(h,z.zH,W,s);
this.Fb(h,e,z.zH,J,W.clone(),null,L,JSON.stringify(s))}};D.cI.a9O=function(i,$,h,d){var K=new H.LF;K.i=K.i.concat(i.slice(2));
var f=K.MQ();if(!$)k.round(f.channel);var l=k.Q(f.rect.O()*4);k.MK(l,(h&255)<<16|(h>>8&255)<<8|(h>>16&255)<<0);
k.k1(f.channel,l,3);var u=new eU(x.E.s,!0);u.b=D.nj;u.data={d:"draw",c_:{buffer:l,rect:f.rect.clone()},Q8:this.name};
d.$(u)};D.cI.e4=function(i,$){var h=k.A.a9q(i.i,i.g),d=[];for(var t=0;t<i.g.length;t++)d.push(JSON.parse(JSON.stringify($[i.g[t]])));
return[h,d]};D.cI.ho=function(i,$,h){var d=k.A.P6($.i),K=k.A.P6(i[0]);$.i=$.i.concat(i[0].slice(2));
$.g=[];for(var t=0;t<K;t++)$.g.push(d+t);for(var t=0;t<K;t++)h.push(JSON.parse(JSON.stringify(i[1][t])))};
D.cI.prototype.JL=function(i,$){if($==null)return!1;var h=$.iW(),d=h[0],K=h[1];if(K.length==0)return!1;
var f=d[K[0]],l=f.add.vmsk;if(l&&l.g.length+l.ZL.length!=0)return[ai.X1,ai.A9].indexOf(i)!=-1};D.cI.prototype.PS=function(i,$,h,d){if(i==null)return;
var K=i.iW(),f=K[0],l=K[1];if(l.length==0)return;var u=f[l[0]],U=u.add.vmsk;if(d.j(ai.UY)||d.j(ai.iQ)||this.id==D.u_&&d.j(ai.k0)){U.ZL=[];
i.nU=!0}if(U.g.length!=0){var y=d.j$();if(y.x!=0||y.y!=0){var a=U.clone(),v=U.clone(),c=new ej(1,0,0,1,y.x,y.y),p=u.add.vogk,C=JSON.stringify(p);
if(d.j(ai.rf)){var T=D.cI.e4(v,p);D.cI.ho(T,v,p)}k.A.mu(v.i,c,v.g);k.X.D(p,k.K.F0(c),v.g);this.c3(i,u.zH,v,p);
this.Fb(i,"Move Paths",u.zH,a,v.clone(),!0,C,JSON.stringify(p))}if(d.j(ai.X1)||d.j(ai.A9))this.d6({d:"remove",Fc:this.id==D.u_},$,i,d,h)}};
D.cI.prototype.Fb=function(i,$,h,d,K,f,l,u){var U=new dS($,this);U.data={oG:h,wu:d,Xd:K,asz:f,amF:l,JK:u};
i.JY(U)};D.cI.prototype.Oi=function(i,$){if(i.oG!=null)this.c3($,i.oG,i.Xd.clone(),JSON.parse(i.JK));
else{$.w3=i.aav.slice(0);$.LK=i.My.slice(0);$.nU=$.$x=!0}if(i.dF||i.sG){$.J=i.sG;$.oM=!0}};D.cI.prototype.RU=function(i,$){if(i.oG!=null)this.c3($,i.oG,i.wu.clone(),JSON.parse(i.amF));
else{$.w3=i.Ad.slice(0);$.LK=i.If.slice(0);$.nU=$.$x=!0}if(i.dF||i.sG){$.J=i.dF;$.oM=!0}};D.cI.prototype.c3=function(i,$,h,d){var K=$<0?i.w3[-1-$]:$<1e6?i.B[$]:i.B[$-1e6].add.TySh,f=K.add.vmsk;
f.channel=null;f.D3=!0;if(f.oe){f.oe.channel=null;f.oe.D3=!0}K.add.vmsk=h;K.add.vogk=d;if(1e6<=$){jP.QQ(K);
var l=i.B[$-1e6],u=K,U=this.RM;bM.AA(l,U.SB);i.U()}else if(0<=$){h.D3=!0;K.ET(i);i.U()}i.nU=i.$x=!0};
D.cI.wW=function(i,$){var h=i.B[$],d=h.add.vstk,K=null;if(d&&!d.fillEnabled.v)K={$M:0};else if(h.add.SoCo)K={$M:1,DP:h.add.SoCo};
else if(h.add.GdFl)K={$M:2,DP:h.add.GdFl};else if(h.add.PtFl)K={$M:3,DP:h.add.PtFl};return K};D.cI.YI=function(i,$){var h=i.add.vmsk,d=i.add.vstk,K=$.$M;
if(d)d.fillEnabled.v=K!=0;if(K>0){var f=["SoCo","GdFl","PtFl"][K-1];for(var t=0;t<3;t++)delete i.add[["SoCo","GdFl","PtFl"][t]];
i.add[f]=$.DP}};D.Eq=function(i,$,h,d){D.cI.call(this,i,$,h);this.vw={shape:fC.U9(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{Zw:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ajc=d;this.FL=null;this.MU=null;this.fm=null;this.Cf=new j$};D.Eq.prototype=new D.cI;D.Eq.prototype.QH=function(i){return i.Et&&this.id!=D.rY};
D.Eq.prototype.enable=function(i,$,h,d,K){this.RM=h;var f=new eU(x.E.k,!0);f.data={d:x.c.xY,hf:"crosshair"};
$.$(f)};D.Eq.prototype.PS=function(i,$,h,d){D.cI.prototype.PS.call(this,i,$,h,d);this.Cf.PS(d);this.T8($,h)};
D.Eq.prototype.T8=function(i,$){var h=new eU(x.E.k,!0);h.data={d:x.c.zj,b:this.id,QP:this.XW($)};i.$(h)};
D.Eq.prototype.XW=function(i){var $=this.Cf.yF(0),h=this.Cf._O(0),d=D.n1.Rt(this.vw.binop,$,h);if(i.K1==1&&d==0)d=1;
return d};D.Eq.prototype.f9=function(i,$,h,d){};D.Eq.prototype.gE=function(i,$,h,d,K){var f=h.K1;if(f!=2)this.a3X($,h);
if(f==2&&!i.EX())return;var l=i.u._x(K.x,K.y);l=D.NN.pn(i,l,h);this.fm=[l.x,l.y];this.FL=l;this.MU=new cq(0,0);
this.Cf.gE(d)};D.Eq.prototype.a0f=function(i,$,h,d){var K=[this.FL.clone(),$.clone()];h=this.Cf.yF(1)||h.j(ai.EW)||this.Cf._O(1)?h:null;
if(this.ajc)K=D.Eq.qi(K[0],K[1],h,!0,this.vw.cstr);if(i)i.u.Br=new bN(K[0].x,K[0].y,K[1].x-K[0].x,K[1].y-K[0].y);
return this.f9(K[0],K[1],this.Cf.yF(1)&&h.j(ai.EW),this.fm,i.u,d)};D.Eq.prototype.ah1=function(i,$,h){var d=i.u._x($.x,$.y);
if(this.id==D.rY)return d;var K=this.vw.cstr;if(K.Zw==2){var f=new bN(d.x-K.x,d.y-K.y,K.x,K.y),l=D.NN.gz(i,f,h);
d.x+=l[0];d.y+=l[1];D.NN.hQ(i,f,l)}else d=D.NN.pn(i,d,h);return d};D.Eq.prototype.Zm=function(i,$,h,d,K){if(this.FL==null)return;
var f=this.fm,l=f.length,u=K?this.ah1(i,K,h):new cq(f[l-2],f[l-1]);if(d.j(ai.tr))this.FL=u.JI(this.MU);
else this.MU=u.JI(this.FL);f.push(u.x,u.y);if(this.vw.shape==null)this.vw.shape=h.DV[0];var U=this.a0f(i,u,d,!0)[0],y=k.p.nF(U);
i.R.HQ=y;if(this.id!=D.rY&&this.id!=D.Kt&&this.id!=D.lw)D.TK.ZO(K,i.u.Br,i,h);i.nU=!0;this.Cf.Zm()};
D.Eq.prototype.a34=function(i,$,h,d){var K=i[4].clone();if(d){K.x-=$/2;K.y-=h/2}if(this.id==D.Kt){$/=2;
h/=2;K.x+=$;K.y+=h;h=-h;$=0}var f=this.f9(K,new cq(K.x+$,K.y+h),!1,this.fm);this.a9v(i[0],i[1],i[2],f)};
D.Eq.prototype.a9v=function(i,$,h,d){var K=h.K1,f=new eU(x.E.jm,!0);if(K==0)f.data=D.Eq.awM(d[1],h);
else if(K==1){var l={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:d[1]};
f.data={Fs:"set",B6:l}}else{var l={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:d[1]};f.data={Fs:"draw",B6:l}}$.$(f);
if(d[1].v.classID=="customShape"&&d[1].v.Nm.v.startsWith("--")){var u=i.iW(),U=u[0],y=u[1],a=U[y.pop()],v=a.add.vmsk,c=a.add.vogk;
k.X.HU(c);var p=v.clone();p.i=d[0];this.c3(i,a.zH,p,c)}};D.Eq.prototype.IQ=function(i,$,h,d,K,f){if(this.FL==null)return;
var l=this.ah1(i,K,h),u=this.XW(h),U=h.K1,y=this.fm,a=y.length;if(this.id==D.rY&&a<=4){}else if(a<=4){l.x=Math.round(l.x);
l.y=Math.round(l.y);var v=new eU(x.E.k);v.data={d:x.c.ZD,Kh:"createshape",a01:this.a34.bind(this),arC:this.name,avB:[i,$,h,d,l]};
if(!f)$.$(v)}else if(a!=2){var c=this.a0f(i,l,d),p=c[0],C=i.iW(!0),T=C[0],E=C[1],r=E.length-1;if(U==1&&p.length>2||U==0&&u!=0&&r!=-1&&T[E[r]].zH>=0){p[2].N0=[1,2,3,0][u-1];
var Y=T[E.pop()],S=Y.add.vmsk,m=Y.add.vogk,Q=S.clone(),z=S.clone(),n=JSON.stringify(m);z.i=z.i.concat(p.slice(2));
z.g=[k.A.P6(z.i)-1];var Z=k.X.FF(c[1]);m.push(Z?Z:k.X.N5());this.c3(i,Y.zH,z,m);this.Fb(i,this.name,Y.zH,Q,z,null,n,JSON.stringify(m))}else if(U==0){this.a9v(i,$,h,c)}else if(U==2){D.cI.a9O(p,this.vw.anta,h.Mz,$)}}this.FL=null;
i.R.HQ=null;i.R.TM=null;i.R.B0=[];i.u.Br=null;i.nU=!0;this.Cf.IQ();this.T8($,h)};D.Eq.prototype.oi=function(i,$,h,d,K){for(var h in i)this.vw[h]=i[h]};
D.Eq.qi=function(i,$,h,d,K){var f=i.x,l=i.y,u=$.x,U=$.y;if(K&&K.Zw==2){if(d){u=Math.round(u);U=Math.round(U)}f=u-K.x;
l=U-K.y}else{var y=0;if(K&&K.Zw==1)y=K.y/K.x;else if(h&&h.j(ai.EW))y=1;if(y!=0){if(d){if(f<u)f=Math.floor(f);
else f=Math.ceil(f);if(l<U)l=Math.floor(l);else l=Math.ceil(l)}var a=Math.abs(u-f),v=Math.abs(U-l),c=a;
if(v/a<y)c*=v/a/y;u=u>f?f+c:f-c;U=U>l?l+c*y:l-c*y}if(h&&h.j(ai.rf)){f-=u-f;l-=U-l}}var i=new cq(f,l),$=new cq(u,U);
if(d)D.Eq.aqT(i,$);return[i,$]};D.Eq.aqT=function(i,$){if(i.x>$.x){var h=i.x;i.x=$.x;$.x=h}if(i.y>$.y){var h=i.y;
i.y=$.y;$.y=h}i.x=Math.floor(i.x);i.y=Math.floor(i.y);$.x=Math.ceil($.x);$.y=Math.ceil($.y)};D.Eq.acq=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
D.Eq.kg=function(i,$){var h=D.Eq.acq(),d=h.Usng.v.Type;if($==null){d.v=JSON.parse(JSON.stringify(et.FX[i]));
d.v.classID=["solidColorLayer","gradientLayer","patternLayer"][i]}else D.Q4.cu($,d.v,i);return{Fs:"make",B6:h}};
D.Eq.awM=function(i,$){var h=$.wk,d=JSON.parse(JSON.stringify($.HM));d.fillEnabled.v=h.$M!=0;var K=D.Eq.kg(Math.max(0,h.$M-1),h.DP);
K.B6.Usng.v.Shp=i;K.B6.Usng.v.strokeStyle={t:"Objc",v:d};return K};D.Rv=function(i){D.cI.call(this,i==0?[10,29]:[10,51],i==0?D.u_:D.a5w,i==0?"tools/pen":"tools/cpen");
this.AK=i;this.IP=null;this.IX=null;this.cd=null;this.aoY=0;this.jO=null;this.fH=!1;this.VD=!1;this.qo=!1;
this.D6=!1;this.Mw=0};D.Rv.prototype=new D.cI;D.Rv.prototype.QH=function(i){return this.IX!=null};D.Rv.prototype.PS=function(i,$,h,d){if(!d.j(ai.rf))this.qo=!1;
if(this.AK==1&&(d.j(ai.X1)||d.j(ai.A9))&&this.JL(ai.X1,i)){this.d6({d:"remove",Fc:!0},$,i,d,h);return}D.cI.prototype.PS.call(this,i,$,h,d)};
D.Rv.prototype.gE=function(i,$,h,d,K){this.IP=K;this.a3X($,h);var f=i.u._x(K.x,K.y),T,E;f.x=Math.round(f.x);
f.y=Math.round(f.y);var l=D.NN.pn(i,f,h),u=h.K1,U=this.aoY;if(u==2)u=0;var y=i.iW(u==1),a=y[0],v=y[1],c=a[v.pop()],p=c?c.add.vmsk:null;
if(u==0&&U!=0&&c&&c.zH>=0)u=1;var C=D.On(i,K);if(p)T=k.A.G3(p.i,f,!0,C);var r=d.j(ai.rf);if(u==0&&(p==null||p.ZL.length==0&&T.zH==-1)){var Y=new eU(x.E.jm,!0),m=k.X.sX("customShape",[0,0,1,1],null,null,null,"--");
Y.data=D.Eq.awM(m,h);$.$(Y);this.D6=!0;y=i.iW(!0);a=y[0];v=y[1];c=a[v.pop()];p=c.add.vmsk;p.i=p.i.slice(0,2)}var Q=c.add.vogk;
this.IX=p.clone();this.cd=JSON.stringify(Q);var z=p.i,n=k.A.P6(z);E=k.A.vO(p.i,new bN(f.x-C,f.y-C,C*2,C*2),p.ZL);
T=k.A.G3(p.i,f,!0,C);var Z=E[0].length+E[1].length+E[2].length;if(T.zH!=-1&&E[0].length==0){var P=k.A.ec(z,T.zH),V=z[P].length;
while(V<=T.qg){T.qg-=V;P+=V+1}var I={type:4,Q2:l.clone(),F:l.clone(),ua:l.clone()},q=P+2+T.qg,X=P+1+(1+T.qg)%V,B=z[q-1],e=z[X];
if(!B.F.Rl(B.ua)||!e.Q2.Rl(e.F)){var F=k.p.ae2(B.F,B.ua,e.Q2,e.F,T.ST);B.ua=F[0];I.Q2=F[1];I.F=F[2];
I.ua=F[3];e.Q2=F[4]}z.splice(q,0,I);z[P].length++;p.ZL=[q];if(this.AK==1){I.Q2.x+=2;this.w9(p)}}else if(Z!=0&&r){var s=0;
for(var t=0;t<3;t++)if(E[t].length!=0){s=E[t][0];this.VD=t==1;break}if(E[0].length!=0){var J=p.i.length-1,W=p.i[s];
W.ua=W.F.clone();var L=W.type>=3?3:0;if(s!=J){W.Q2=W.F.clone();W.type=L+1;this.qo=!0}else W.type=L+2}p.ZL=[s]}else if(E[0].length==1&&z[E[0][0]-1]&&(z[E[0][0]-1].F!=null||z[E[0][0]-1].type==0||z[E[0][0]-1].length==1)){var s=E[0][0];
if(this.AK==1){var A=z[s],j=A.F,G=Math.abs(k.p.aqJ(A.Q2.x,A.Q2.y,j.x,j.y,A.ua.x,A.ua.y));if(G>.01){A.Q2=j.clone();
A.ua=j.clone()}if(Date.now()-this.Mw<300){var O=A.Q2.Rl(j)&&A.ua.Rl(j);if(O)A.ua.offset(2,2);else{A.Q2=j.clone();
A.ua=j.clone()}this.Mw=0}else this.Mw=Date.now();p.ZL=[s];this.w9(p)}else{var P=k.A.ec(z,k.A.U3(z,s)),m=z[P],o=P+m.length;
if(s!=o||m.type==0){z[P].length--;z.splice(s,1);o--;if(m.length==0){z.splice(P,1);o=-1}}if(o!=-1)p.ZL=[o];
else p.ZL=[]}}else{var N=0;if(p.ZL.length!=1){p.g=[n];z.push({type:3,length:1,N0:[1,2,3,0][Math.max(0,U-1)],Ur:0,Qb:0,Vb:0});
N=z.length;Q.push(k.X.N5())}else{var A=p.ZL[0],w=k.A.U3(z,A),P=k.A.ec(z,w);A=P+z[P].length;if(cq.ED(f,z[P+1].F)<C){z[P].type=0;
p.ZL=[P+1];this.jO=l;this.fH=!0;this.c3(i,c.zH,p,Q);i.nU=!0;return}z[P].length++;N=A+1;if(A==P+1&&z[P].length!=2)N=P+1}if(d.j(ai.EW)&&z[N-1]&&z[N-1].F)l=D.pK.yc(z[N-1].F,l);
var I={type:4,Q2:l.clone(),F:l.clone(),ua:l.clone()};z.splice(N,0,I);p.ZL=[N];this.jO=l;if(this.AK==1){I.Q2.x+=2;
this.w9(p)}this.Mw=Date.now()}this.c3(i,c.zH,p,Q);i.nU=!0};D.Rv.prototype.w9=function(i){var $=i.i,h=i.ZL[0],d=k.A.ec($,k.A.U3($,h))+1,K=$[d-1].length;
if(K<3)return;var f=[],l=[];for(var t=0;t<5;t++){var u=d+(h-d-2+t+5*K)%K;l.push(u);var U=$[u].F;f.push(U.x,U.y)}var y=k.p.am2(f);
for(var t=1;t<4;t++){var a=t*4,v=$[l[t]],U=v.F,c=v.Q2.Rl(U)&&v.ua.Rl(U);if(!c){v.Q2.WI(y[a],y[a+1]);
v.ua.WI(y[a+2],y[a+3])}else{v.Q2=U.clone();v.ua=U.clone()}}};D.Rv.prototype.Zm=function(i,$,h,d,K){if(this.IX==null)return;
var f=this.IP;if(f&&cq.ED(f,K)<D.On({u:{N:1}},K))return;this.IP=null;var l=i.u._x(K.x,K.y),u=D.NN.pn(i,l,h),U=i.iW(h.K1==1),y=U[0],a=U[1],v=y[a.pop()],c=v.add.vmsk,p=c.i,C=p[c.ZL[0]];
if(this.AK==1){var T=C.F.Rl(C.Q2)&&C.F.Rl(C.ua);C.F=l.clone();C.Q2=l.clone();C.ua=l.clone();if(!T)C.Q2.x+=2;
this.w9(c)}else if(d.j(ai.tr)){if(d.j(ai.EW))u=D.pK.yc(this.jO,u);var E=C.F.JI(C.ua),r=C.Q2.JI(C.F);
C.ua=u;C.F=u.add(E);C.Q2=C.F.add(r)}else{if(d.j(ai.EW))u=D.pK.yc(C.F,u);if(this.VD){var Y=C.Q2;C.Q2=C.ua;
C.ua=Y}if(this.fH){var S=cq.ED(C.F,u),m=S==0?0:cq.ED(C.F,C.ua)/S;C.ua.x=C.F.x+m*(u.x-C.F.x);C.ua.y=C.F.y+m*(u.y-C.F.y)}else C.ua=u;
if(d.j(ai.rf)&&!this.qo)C.type=5;else{C.type=4;C.Q2=C.F.add(C.F.JI(u))}this.jO=u;if(this.VD){var Y=C.Q2;
C.Q2=C.ua;C.ua=Y}}this.c3(i,v.zH,c,v.add.vogk);i.nU=!0};D.Rv.prototype.IQ=function(i,$,h,d,K){if(this.IX==null)return;
var f=i.iW(h.K1==1),l=f[0],u=f[1],U=l[u.pop()],y=U.add.vmsk,a=U.add.vogk;if(this.fH){y.ZL=[];this.c3(i,U.zH,y,U.add.vogk)}var v=this.IX.i.length,c=y.i.length;
if(!this.D6)this.Fb(i,this.fH?"Close Path":(v==c?"Move":v<c?"Add":"Delete")+" Anchor Point",U.zH,this.IX,y.clone(),null,this.cd,JSON.stringify(a));
this.D6=!1;this.fH=!1;this.VD=!1;this.qo=!1;this.IX=null};D.Rv.prototype.oi=function(i,$,h,d,K){this.aoY=i.binop};
D.Hd=function(){D.Eq.call(this,[10,30],D.rY,"tools/fpen",!1)};D.Hd.prototype=new D.Eq;D.Hd.prototype.f9=function(i,$,h,d,K,f){var l=d.length-1,u=Math.sqrt((d[l-1]-d[0])*(d[l-1]-d[0])+(d[l]-d[1])*(d[l]-d[1]))<6/K.N;
return[k.A.Lk(d,u,f),k.X.sX("customShape",[0,0,1,1],null,null,null,"--")]};D.LJ=function(){D.cI.call(this,[10,27],D.yo,"tools/pselect");
this.sI=null;this.a1=!1;this.iK=null;this.IX=null;this.UU=null;this.cd=null;this.kM=null;this.gs=null;
this.a9=null;this.Fi=null};D.LJ.prototype=new D.cI;D.LJ.prototype.QH=function(i){return i.Et};D.LJ.prototype.gE=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=i.iW(),u=l[0],U=l[1],y,a;
for(var t=0;t<U.length;t++){var v=u[U[t]],c=v.add.vmsk,p=k.A.G3(c.i,f).zH;if(p!=-1){this.iK=y=v;a=p}for(var C=0;
C<c.h3.length;C++){var T=k.A.mb(c.i,c.h3[C]);if(T==null)continue;var E=cq.ED(T,f);if(E<4*D.V()/i.u.N){var r=i.B[v.zH-1e6].add.TySh,Y=r.$D.Curve,S=r.D,m=Y.Reversed;
Y.Reversed=!1;var Y=kd.Wy(r.$D.Curve);Y.Reversed=m;k.p.D(Y[0],S,Y[0]);this.a9=[Y,C,S.Pi*S.Zn-S.Z*S.sl];
this.iK=y=v;a=0}}if(this.a9)break}if(y!=null){var c=y.add.vmsk;c.ZL=[];var Q=c.g.indexOf(a);if(d.j(ai.EW)){if(Q==-1){c.g.push(a);
this.a1=!0}else c.g.splice(Q,1)}else{if(Q==-1)c.g=[a];this.a1=!0}this.gs=k.A.eu(c.i,c.g)}this.sI=f;this.Fi=new jQ(f);
i.$x=!0;i.nU=!0};D.LJ.prototype.Zm=function(i,$,h,d,K){if(this.sI==null)return;var f=i.u._x(K.x,K.y);
if(this.a1){f=this.Fi.w_(f,d);var l=this.iK;if(this.IX==null){this.IX=this.UU=l.add.vmsk.clone();this.cd=this.kM=JSON.stringify(l.add.vogk);
if(d.j(ai.rf)){var u=this.IX.clone(),U=JSON.parse(this.cd),y=D.cI.e4(u,U);D.cI.ho(y,u,U);this.UU=u;this.kM=JSON.stringify(U)}}var u=this.UU.clone(),U=JSON.parse(this.kM);
if(this.a9){var a=this.a9,v=a[0][0],c=k.p.D$(v,f.x,f.y);u.h3[a[1]]=a[0][1][c];var p=v[c*2],C=v[c*2+1],T=(v[c*2+2]-p)*(f.y-C)-(v[c*2+3]-C)*(f.x-p);
if(a[2]<0)T=-T;u.Gc=T>0}else{var E=this.gs.clone(),r=E.x,Y=E.y;E.offset(f.x-this.sI.x,f.y-this.sI.y);
E.x=Math.round(E.x);E.y=Math.round(E.y);var S=D.NN.gz(i,E,h),m=new ej(1,0,0,1,E.x-r+S[0],E.y-Y+S[1]);
k.A.mu(u.i,m,u.g);k.X.D(U,k.K.F0(m),u.g);D.NN.hQ(i,E,S)}this.c3(i,l.zH,u,U)}else{var Q=this.sI;i.R.HQ=k.p.Hg(new bN(Q.x,Q.y,f.x-Q.x,f.y-Q.y));
i.nU=!0}};D.LJ.prototype.IQ=function(i,$,h,d,K){if(this.sI==null)return;var f=i.u._x(K.x,K.y),l=this.iK,u=l?l.add.vmsk:null;
if(this.a1){var U=JSON.stringify(l.add.vogk);if(!this.sI.Rl(f))this.Fb(i,"Move Paths",l.zH,this.IX,u,null,this.cd,U);
if(i!=null&&i.R.TM){i.R.TM=null;i.nU=!0}}else{if(u){var y=this.sI,a=new bN(y.x,y.y,f.x-y.x,f.y-y.y),v=k.A.auc(u.i,a);
if(d.j(ai.EW)){for(var t=0;t<v.length;t++)if(u.g.indexOf(v[t])==-1)u.g.push(v[t])}else u.g=v}i.R.HQ=null;
i.nU=!0}this.sI=null;this.IX=null;this.a9=null;this.a1=!1;this.Fi=null};D.LJ.prototype.Qi=function(i,$,h,d){D.cI.prototype.Qi.call(this,i,$,h,d);
if(h.Kw!=this.id)return;if(i.g.length==0)return;var K=i.iW(),f=K[0],l=K[1];if(l.length==0)return;var u=f[l[0]],U=u.add.vmsk,y=u.add.vstk,a=u.add.vogk,v=new eU(x.E.k,!0);
v.data={d:x.c.zj,b:this.id,S3:"main",og:U?U:null,X:a};$.$(v)};D.LJ.prototype.oi=function(i,$,h,d,K){var f=i.ZP;
if(f.og){var l=h.iW(),u=l[0],U=l[1];if(U.length==0)return;var y=u[U[0]],a=y.add.vmsk.clone(),v=JSON.stringify(y.add.vogk),c=f.og;
this.c3(h,y.zH,c,f.X);var p=[18,5];if(a.i.length==c.i.length)p=a.g[0]==c.g[0]?"Fill Rule":"Path Order";
this.Fb(h,p,y.zH,a,c,null,v,JSON.stringify(f.X))}};D.Un=function(){D.cI.call(this,[10,28],D.dK,"tools/dselect");
this.Zf=-1;this.ra=-1;this.TE=null;this.sI=null;this.iK=null;this.IX=null;this.cd=null;this.pP=null;
this.gA=0;this.Lp={psnap:!1};this.Fi=null};D.Un.prototype=new D.cI;D.Un.prototype.QH=function(i){return i.Et};
D.Un.prototype.oi=function(i){this.Lp=i};D.Un.prototype.d6=function(i,$,h,d,K){if(i.d=="crnr"){if(h==null)return;
var f=h.iW(),l=f[0],u=f[1];if(u.length==0){alert("No paths selected");return}var U=l[u[0]],y=U.add.vmsk;
if(y.ZL.length==0){alert("No corners selected");return}for(var t=0;t<y.ZL.length;t++){var a=y.i[y.ZL[t]];
if(!a.F.Rl(a.ua)||!a.F.Rl(a.Q2)){alert("Only sharp corners can be rounded");return}}if(this.IX==null){this.IX=U.add.vmsk.clone();
this.cd=JSON.stringify(U.add.vogk);this.iK=U;this.pP=h}var v=new eU(x.E.k,!0);v.data={d:x.c.ZD,Kh:"cornerradius",pp:5,Fg:this.a7X.bind(this)};
$.$(v)}else D.cI.prototype.d6.call(this,i,$,h,d,K)};D.Un.prototype.a7X=function(i){if(i=="confirm"){var $=this.pP,h=this.iK,d=h.add.vmsk,K=h.add.vogk;
this.Fb($,[12,94,0],h.zH,this.IX,d,null,this.cd,JSON.stringify(K));this.sy();return}var d=this.IX.clone(),K=JSON.parse(this.cd),f=d.ZL;
if(i=="cancel"){}else{var l=[];for(var t=0;t<f.length;t++){var u=f[t],U=k.A.U3(d.i,u,!0),v=0;if(l.indexOf(U)!=-1)continue;
l.push(U);var y=k.A.ec(d.i,U,!0),a=d.i[y].length,c=[];for(var p=0;p<a;p++){var C=d.ZL.indexOf(y+p+1)==-1?0:i;
c.push(C);if(C!=0)v++}k.A.NJ(d.i,y,c);for(var p=0;p<f.length;p++)if(f[p]>y+a)f[p]+=v}this.pb(d,K);d.ZL=[]}this.c3(this.pP,this.iK.zH,d,K);
if(i=="cancel")this.sy()};D.Un.prototype.disable=function(i,$,h,d){this.E9(i)};D.Un.prototype.gE=function(i,$,h,d,K){this.E9(i);
var f=i.u._x(K.x,K.y),v,c,p;this.TE=f.clone();var l=i.iW(),u=l[0],U=l[1];if(U.length==0)return;var y=D.On(i,K),a=new bN(f.x-y,f.y-y,y*2,y*2);
for(var C=0;C<U.length;C++){v=this.iK=u[U[C]];c=v.add.vmsk;p=k.A.vO(c.i,a);if(p[0].length+p[1].length+p[2].length!=0)break}var T=[!1,!1,!1];
for(var t=0;t<3;t++){for(var E=0;E<p[t].length;E++){var r=p[t][E],Y=c.i[r];if(c.ZL.indexOf(r)!=-1||t==1&&c.ZL.indexOf(r-1)!=-1&&!Y.F.Rl(Y.Q2)||t==2&&c.ZL.indexOf(r+1)!=-1&&!Y.F.Rl(Y.ua)){p[t]=[r];
T[t]=!0;break}}}if(p[0].length!=0&&(T[0]||!T[1]&&!T[2])){var S=p[0][0],m=c.ZL.indexOf(S);if(d.j(ai.EW)){if(m==-1)c.ZL.push(S);
else{c.ZL.splice(m,1);i.nU=!0;return}}else if(m==-1)c.ZL=[S];this.Zf=S;this.ra=0}else if(p[1].length!=0&&T[1]){this.Zf=p[1][0];
this.ra=1}else if(p[2].length!=0&&T[2]){this.Zf=p[2][0];this.ra=2}else{var Q=k.A.G3(c.i,f,!0,y);if(Q.zH==-1)this.sI=f;
else{c.g=[Q.zH];c.ZL=[]}}if(this.IX==null){this.IX=v.add.vmsk.clone();this.cd=JSON.stringify(v.add.vogk)}this.Fi=new jQ(f);
i.nU=!0};D.Un.prototype.Zm=function(i,$,h,d,K){if(i==null)return;var f=i.u._x(K.x,K.y),l=this.iK;if(this.Zf!=-1){var u=this.IX.clone(),U=l.add.vogk,y=u.i[this.Zf];
y=[y.F,y.Q2,y.ua][this.ra];if(d.j(ai.EW)){if(this.ra==0){f=this.Fi.w_(f,d);f.x+=y.x-this.TE.x;f.y+=y.y-this.TE.y}else f=D.pK.yc(u.i[this.Zf].F,f)}else{if(this.Lp.psnap){f.x=Math.round(f.x);
f.y=Math.round(f.y)}f=D.NN.pn(i,f,h)}if(this.ra==0){var a=new ej(1,0,0,1,f.x-y.x,f.y-y.y);k.A.mu(u.i,a,null,u.ZL)}else{var v=u.i[this.Zf],c=v.Q2,p=v.ua;
if(this.ra==2){c=v.ua;p=v.Q2}if(d.j(ai.rf)&&(v.type==1||v.type==4))v.type++;c.WI(f.x,f.y);if(v.type==1||v.type==4){var C=cq.ED(c,v.F),T=cq.ED(p,v.F);
if(T!=0){p.x=v.F.x-(c.x-v.F.x)*(T/C);p.y=v.F.y-(c.y-v.F.y)*(T/C)}}}this.pb(u,U);this.c3(i,l.zH,u,U)}else if(this.sI!=null){var E=this.sI;
i.R.HQ=k.p.Hg(new bN(E.x,E.y,f.x-E.x,f.y-E.y));i.nU=!0}else{var r=i.iW(),Y=r[0],S=r[1],l,u,z;if(S.length==0)return;
var m=D.On(i,K),Q=new bN(f.x-m,f.y-m,m*2,m*2);for(var n=0;n<S.length;n++){l=Y[S[n]];u=l.add.vmsk;z=k.A.vO(u.i,Q);
if(z[0].length+z[1].length+z[2].length!=0)break}this.E9(i);for(var t=0;t<3;t++){for(var Z=0;Z<z[t].length;
Z++){var P=z[t][Z],V=u.i[P];V=t==0?V.F:t==1?V.Q2:V.ua;i.R.O6.push(i.R.yG.length>>>1);i.R.yG.push(V.x,V.y);
i.nU=!0}}}};D.Un.prototype.E9=function(i){if(i&&i.R.yG.length!=0){i.R.yG=[];i.R.O6=[];i.nU=!0}};D.Un.prototype.IQ=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=this.iK,u=l?l.add.vmsk:null,U=l?l.add.vogk:null;
if(this.Zf!=-1){if(Date.now()-this.gA<300){var y=u.i[this.Zf],a=this.ra,v=null;if(a==0){var c=y.Q2.Rl(y.F),p=y.ua.Rl(y.F);
if(!c&&!p){v="Anchor Type";if(y.type==1||y.type==4)y.type++;else{y.type--;y.ua=y.F.add(y.F.JI(y.Q2))}}else{v="Add Handles";
if(c&&p){y.Q2.x-=30;y.ua.x+=30}else if(c)y.Q2=y.F.add(y.F.JI(y.ua));else if(p)y.ua=y.F.add(y.F.JI(y.Q2))}}else{v="Remove Handle";
if(a==1)y.Q2.jZ(y.F);else y.ua.jZ(y.F)}this.pb(u,U);this.c3(i,l.zH,u,U);this.Fb(i,v,l.zH,this.IX,u,null,this.cd,JSON.stringify(U))}else if(!this.TE.Rl(f)){this.Fb(i,"Drag Anchors",l.zH,this.IX,u,null,this.cd,JSON.stringify(U))}this.gA=Date.now()}else if(this.sI!=null){var C=this.sI,T=new bN(C.x,C.y,f.x-C.x,f.y-C.y);
if(T.e<0)T.x+=T.e;if(T.n<0)T.y+=T.n;T.e=Math.abs(T.e);T.n=Math.abs(T.n);var E=k.A.vO(u.i,T);u.ZL=E[0].concat(d.j(ai.EW)?u.ZL:[]);
i.R.HQ=null}this.sy();i.nU=!0};D.Un.prototype.sy=function(){this.iK=null;this.IX=null;this.sI=null;this.Zf=this.ra=-1;
this.Fi=null};D.Un.prototype.pb=function(i,$){for(var t=0;t<i.ZL.length;t++){var h=k.A.U3(i.i,i.ZL[t]);
k.X.jC($,h)}};D.Un.prototype.PS=function(i,$,h,d){if(i==null)return;var K=i.iW(),f=K[0],l=K[1];if(l.length==0)return;
var u=f[l[0]],U=u.add.vmsk;if(U==null||U.ZL.length==0)return;var y=u.add.vogk,a=JSON.stringify(y),v=d.j$();
if(v.x!=0||v.y!=0){var c=U.clone(),p=U.clone(),C=new ej(1,0,0,1,v.x,v.y);k.A.mu(p.i,C,null,p.ZL);this.pb(p,y);
this.c3(i,u.zH,p,y);this.Fb(i,"Move Anchors",i.g[0],c,p.clone(),!0,a,JSON.stringify(y))}if(d.j(ai.X1)||d.j(ai.A9))this.d6({d:"remove",Fc:!0,amn:!0},$,i,d,h)};
D.Un.prototype.Fb=function(i,$,h,d,K,f,l,u){var U=i.au();if(f&&U!=null&&U.b==this&&U.data.asz&&U.data.oG==h&&JSON.stringify(U.data.wu.ZL)==JSON.stringify(d.ZL)){U.data.Xd=K;
U.data.JK=u}else{var U=new dS($,this);U.data={oG:h,wu:d,Xd:K,asz:f,amF:l,JK:u};i.JY(U)}};D.Rect=function(){D.Eq.call(this,[10,32],D.nD,"tools/rect",!0)};
D.Rect.prototype=new D.Eq;D.Rect.prototype.f9=function(i,$,h){var d=this.vw.crad,K=$.x-i.x,f=$.y-i.y;
return[k.A.jY.Rect(i.x,i.y,K,f,d),k.X.sX("Rctn",[i.x,i.y,$.x,$.y],[d,d,d,d])]};D.lQ=function(){D.Eq.call(this,[10,33],D.Nk,"tools/ellipse",!0)};
D.lQ.prototype=new D.Eq;D.lQ.prototype.f9=function(i,$,h){var d=$.x-i.x,K=$.y-i.y;return[k.A.jY.lQ(i.x,i.y,d,K),k.X.sX("Elps",[i.x,i.y,$.x,$.y])]};
D.HR=function(){D.Eq.call(this,[10,34],D.Kt,"tools/pshape",!1);this.vw.aopts=[!1,!0,50,100,0]};D.HR.prototype=new D.Eq;
D.HR.prototype.f9=function(i,$,h){var d=this.vw.pshape,K=this.vw.crad,f=this.vw.irad/100,l=this.vw.sides,u=this.vw.width,U=this.vw.aopts,y=this.vw.length,E;
$=$.clone();var a=i.x,v=i.y,c=$.x,p=$.y,C=Math.sqrt((c-a)*(c-a)+(p-v)*(p-v)),T=Math.atan2(-p+v,c-a);
if(h)T=Math.round(T*180/Math.PI/15)*15*Math.PI/180;if(d==0)E=k.A.jY.o1(a,v,C,T,l,K);if(d==1)E=k.A.jY.NR(a,v,C,T,l,K,f);
if(d==2)E=k.A.jY.QI(i.x,i.y,$.x,$.y,u,U);if(d==3)E=k.A.jY.anb(a,v,C,T,y);return[E,k.X.sX("customShape",[i.x,i.y,$.x,$.y],null,null,null,"--")]};
D.HR.prototype.PS=function(i,$,h,d){D.Eq.prototype.PS.call(this,i,$,h,d);var K=d.j$(),f=this.vw,l,u;
if(K.y!=0){var U=-K.y,y=f.pshape;if(y<2){l="sides";u=Math.max(3,Math.min(100,f.sides+U))}else if(y==2){l="width";
u=Math.max(1,Math.min(100,f.width+U))}else if(y==3){l="length";u=Math.max(4,Math.min(40,f.length+U))}}if(K.x!=0){l="pshape";
u=Math.max(0,Math.min(3,f.pshape+K.x))}if(l){var a=new eU(x.E.k,!0),v={};v[l]=u;f[l]=u;a.data={d:x.c.zj,b:this.id,vC:"vals",af7:v};
$.$(a);this.Zm(i,$,h,d)}};D.j9=function(){D.Eq.call(this,[10,35],D.lw,"tools/line",!1)};D.j9.prototype=new D.Eq;
D.j9.prototype.f9=function(i,$,h){var d=this.vw.width,K=this.vw.aopts;$=$.clone();if(h){$=D.pK.yc(i,$)}return[k.A.jY.QI(i.x,i.y,$.x,$.y,d,K),k.X.sX("Ln",null,null,[i.x,i.y,$.x,$.y],d,null,K)]};
D.Xz=function(){D.Eq.call(this,[10,31],D.gV,"tools/cshape",!0)};D.Xz.prototype=new D.Eq;D.Xz.prototype.f9=function(i,$,h){var d=this.vw.shape,K=d.yg.e/d.yg.n,f=H.LF.t0(d.i);
$=$.clone();var l=$.x-i.x,u=$.y-i.y;k.A.mu(f,new ej(l,0,0,u,i.x,i.y));return[f,k.X.sX("customShape",[i.x,i.y,$.x,$.y],null,null,null,d.gG)]};
D.vA=function(i,$,h){D.TK.call(this,i,$,h);this.de=0;this.B=null;this.GJ=null;this.bX=null;this.bu=1;
this.H9=!0;this.ac=!1;this.cursor=null;this.tD=null;this.dF=null;this.GI=!1;this.T1=null;this.adE=0;
this.ap=null;this.AK=0;this.bw=null;this._N=null;this.L2=null;this.k9=null;this.a7C=null;this.r_=null};
D.vA.prototype=new D.TK;D.vA.Fn=function(i,$){var h={classID:"null",null:jV.uf("Dcmn",!0)};if(i)h.Angl={t:"UntF",v:{type:"#Ang",val:$}};
else h.Axis={t:"enum",v:{Ornt:$}};return{Fs:i?"rotateEventEnum":"flip",B6:h}};D.vA.prototype.wI=function(i,$,h,d,K){var f=new eU(x.E.k,!0);
f.data={d:x.c.zj,b:this.id,zI:K,f7:i,bX:h};$.$(f);this.oA=!1};D.vA.prototype.QH=function(i){return this._N&&this._N.a2M()};
D.vA.prototype.d6=function(i,$,h,d,K){this.bX=K;if(i.d=="again"&&this.ap==null)return;if(!this.aT(h,K))return;
if(this._N){this.ale(i,this._N.P3(),$,h,d,K);this.up(h,K,0,!0);this.cQ(h);return}this.at0(h,i.a==null,i.a);
this.adw(h);this.ale(i,null,$,h,d,K);this.Bo(h,$,i.Q8,!1)};D.vA.prototype.ale=function(i,$,h,d,K,f){var l=this.bw;
if($==null){var u=i.kt!=null?i.kt:4;$=this._N.aoE()[u]}var U=$.x,y=$.y;if(i.d=="rot"&&i.L!=Math.PI&&(l.e+l.n&1)==1){U=Math.floor(U);
y=Math.floor(y)}var a=new ej;a.translate(-U,-y);if(i.d=="rot")a.rotate(i.L);if(i.d=="scl")a.scale(i.L.x,i.L.y);
if(i.d=="mat")a.concat(i.L);a.translate(U,y);if(i.d=="again")a=this.ap;var v=this._N.Og();k.p.D(v,a,v);
this._N.x$(v);if(i.ya){var c=i.ya.v;this.oi({S3:"switchWarp"},h,d,K);this.oi({S3:"wrp",ya:c},h,d,K)}};
D.vA.prototype.uq=function(){return!0};D.vA.prototype.aT=function(i,$){if(i==null)return!1;if(this.id==D.vP)return i.J!=null;
var h=i._8(!0,null,null,!0);if(this.id==D.kT&&i.B[h[0]].rect.NT()){alert("Layer is empty.");return!1}for(var t=0;
t<h.length;t++){var d=i.B[h[t]];if(d.wC(2)||d.wC(31)){alert(e_.get([6,57,0]));return!1}if(d.add.artb){alert("You can not transform the whole artboard");
return!1}if(d.add.TySh)if(!bM.DB(d.add.TySh,$.SB))return!1;if(d.add.SoLd){if(h.length==1&&!k.O$.PJ(d.add.SoLd.warp.v)&&(d.MQ()&&d.MQ().sE||d.add.vmsk&&d.add.vmsk.sE)){alert("Unlink masks before transforming Smart Object");
return!1}if(!i.adx(d.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+i.rV(d.add.SoLd.Idnt.v).Wo+")");
return!1}}}if(i.J==null)return!0;if(!i.EX())return!1;return i.avT()};D.vA.prototype.gE=function(i,$,h,d,K){var f=this.apN(K,i),l=f[0],u=f[1],U=this.AK==0?this._N:this.L2;
i.u.N*=u;this.ac=U.gE(i,h,d,l,null,null,K);i.u.N/=u;if(this.ac&&U.WK(l)){if(Date.now()-this.adE<250)this.Bo(i,$,null,!0);
this.adE=Date.now()}};D.vA.prototype.S7=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.xY,hf:this.cursor};
i.$($)};D.vA.prototype.apN=function(i,$){var h=1;i=$.u._x(i.x,i.y);if(this.AK==1){var d=k.K.bS(this._N.Og(),this.bw);
h=k.K.g4(d).Qa();var K=k.K.Sp(d);i=k.K.awq(K,i)}return[i,h]};D.vA.prototype.Zm=function(i,$,h,d,K){var f=this.apN(K,i),l=f[0],u=f[1],U=this.AK==0?this._N:this.L2;
if(!K.Et){var y="default";if(U){var a=U.lP(l,i.u.N*u,null,K);if(a)y=a}if(y!=this.cursor){this.cursor=y;
this.S7($)}}if(!this.ac)return;i.u.N*=u;U.Zm(i,h,d,l,this.H9);i.u.N/=u;this.up(i,h,0,!0);this.cQ(i);
this.VP($)};D.vA.prototype.IQ=function(i,$,h,d,K){var f=i.u._x(K.x,K.y);this._N.IQ(i,h,d,f);this.ac=!1};
D.vA.prototype.PS=function(i,$,h,d){if(d.j(ai.iQ))this.Bo(i,$,null,!0);else if(d.j(ai.UY))this.ZY(i,$);
else{var K=this._N.PS(i,h,d);if(K){this.up(i,h,0,!0);this.VP($)}}};D.vA.prototype.oi=function(i,$,h,d){if(i.S3=="commit")this.Bo(h,$,null,!0);
else if(i.S3=="cancel")this.ZY(h,$);else if(i.S3=="switchWarp"){this.AK=1-this.AK;this.a4F();this.cQ(h);
this.VP($)}else if(i.S3=="wrp"){this.L2.agH(i.ya);this.cQ(h);this.up(h,this.bX,0,!0)}else if(i.S3=="ctyp"){this._N.a30(i.az);
this.cQ(h);this.VP($)}else if(i.S3=="cen"){this._N.alc(i.XK);this.cQ(h);this.up(h,this.bX,0,!0)}else if(i.S3=="trn"){var K=k.K.F0(i.hw),f=this.bw,l=k.K.bS(this._N.Og(),this.bw);
K[6]=l[6],K[7]=l[7];var u=[f.x,f.y,f.x+f.e,f.y,f.x+f.e,f.y+f.n,f.x,f.y+f.n];k.K.D(K,u);this.bu=i.bu;
this.H9=i.H9;this._N.x$(u);this.cQ(h);this.up(h,this.bX,0,!0)}};D.vA.prototype.cQ=function(i){if(this.AK==0)this._N.Ta(i,this.bX);
else{this.L2.Ta(i);var $=k.K.bS(this._N.Og(),this.bw);k.K.D($,i.R.HQ.C);k.K.D($,i.R.xX)}};D.vA.prototype.Bo=function(i,$,h,d){this.up(i,this.bX,this.bu);
var K=new dS(h?h:this.name,this);if(this.de==0)K.data={type:this.de,B:this.B,T1:this.GJ,if:D.vA.H4(i,this.B)};
else if(this.de==1){var f=i.B[this.B[0]],l;if(f.Nf.Tu<=0){l=k.Q(f.Nf.RG.O());k.pO(f.Nf.QJ,l,3)}else l=i.J.channel;
var u={rect:f.Nf.RG.clone(),channel:l};K.data={type:this.de,a:this.B[0],dF:this.dF,sG:u,tD:this.tD,GI:this.GI,Nf:f.Nf,T1:this.T1,if:{gZ:f.Nf.RG,tp:f.Nf.QJ}}}else if(this.de==2){K.data={type:this.de,dF:this.dF,sG:{rect:i.J.rect.clone(),channel:i.J.channel.slice(0)}}}i.JY(K);
var U=this.bw,y=new cq(U.x+U.e/2,U.y+U.n/2),a=k.K.bS(this._N.Og(),U),v=k.K.g4(a),c=new ej;c.translate(y.x,y.y);
c.concat(v);c.translate(-y.x,-y.y);v=c.clone();var p=-Math.atan2(-v.Z,v.Pi),C=new ej;C.rotate(p);v.concat(C);
function T(S,m){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][m],val:S}}}var E=jV.uf("Lyr",!0);if(this.id==D.vP)E.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var r={classID:"null",null:E,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:T(c.wQ,0),Vrtc:T(c.FQ,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:T(Math.atan(v.sl)*180/Math.PI,2),Vrtc:T(0,2)}},Wdth:T(v.Pi*100,1),Hght:T(v.Zn*100,1),Angl:T(p*180/Math.PI,2)},Y=this.L2?this.L2.II():null;
if(Y&&!k.O$.PJ(Y)){r.warp={t:"Objc",v:Y}}this.DR=$;this.track({Fs:"transform",B6:r});this.escape(i,$,d)};
D.vA.prototype.ZY=function(i,$){if(this.de==0)D.vA.HP(i,this.B,this.GJ);else if(this.de==1){var h=i.B[this.B[0]];
i.J=this.dF;if(!this.GI){h.Nf.RG=this.T1.gZ;h.Nf.QJ=this.T1.tp;h.W_(i,0,0,i.J)}else{h.$l(i,this.tD)}i.U();
i.oM=!0}else if(this.de==2){i.J=this.dF;i.oM=!0}this.escape(i,$,!0)};D.vA.prototype.escape=function(i,$,h){this._N.clear(i);
this._N=null;this.L2=null;this.r_=null;this.AK=0;if(h)this.Ru($,x.E.k,{d:x.c.K2})};D.vA.prototype.Oi=function(i,$){if(i.type==0)D.vA.HP($,i.B,i.if);
else{if(i.type==1){var h=$.B[i.a];if(i.GI){h.Nf=i.Nf}else{h.Nf.RG=i.if.gZ;h.Nf.QJ=i.if.tp}h.W_($,0,0,$.J);
$.U()}$.J={rect:i.sG.rect.clone(),channel:i.sG.channel.slice(0)};$.oM=!0}};D.vA.prototype.RU=function(i,$){if(i.type==0)D.vA.HP($,i.B,i.T1);
else{if(i.type==1){var h=$.B[i.a];if(i.GI){h.$l($,i.tD)}else{h.Nf.RG=i.T1.gZ;h.Nf.QJ=i.T1.tp;h.W_($,0,0,$.J)}$.U()}$.J=i.dF;
$.oM=!0}};D.vA.prototype.at0=function(i,$,h){i.iW();var d=[];if(h==null)for(var t=0;t<i.LK.length;t++)if(i.w3[i.LK[t]].add.vmsk.i.length>2)d.push(-1-i.LK[t]);
var K=[],f=i.u.rB;if(f[0]+f[1]+f[2]==3)if(h!=null||d.length==0||i.$H!=null&&i.$H.length!=0){if(i.g.length==1){var l=i.B[i.g[0]];
if(l.BT()&&l.fx)K=[i.g[0]]}if(K.length==0)K=i._8($,h,null,!0)}K=K.concat(d);for(var t=0;t<i.o7.length;
t++)K.push(-1e3-i.o7[t]);this.B=K};D.vA.prototype.enable=function(i,$,h,d,K,f){if(this.cursor==null)this.cursor="default";
this.S7($);if(this._N)return;this.bX=h;this.at0(i,!0);this.adw(i,f&&f.PT!=null&&f.PT!=-1?f.PT:null);
this.VP($);this.cQ(i);if(f&&f.PT==-1)this.oi({S3:"switchWarp"},$,i,d)};D.vA.prototype.rP=function(){return[this.H9?1:0]};
D.vA.prototype.W7=function(i,$,h){if(i&&i[0]!=null)this.H9=i[0]==1};D.vA.prototype.VP=function(i){var $={d:x.c.zj,b:this.id};
if(this.AK==0){var h=k.K.bS(this._N.Og(),this.bw),d=k.K.g4(h);$.hw={eE:d,az:this._N.a61(),XK:this._N.P3(),gZ:this.bw.clone(),H9:this.H9}}else{$.ya=this.L2.II()}$.axC=this.L2!=null;
this.Ru(i,x.E.k,$)};D.vA.prototype.adw=function(i,$){var h=this.id==D.vP,d=!0,K=this.B[0],f=i.B[K],u=null,U=null;
if(h){this.de=2;this.dF=i.J}else if(i.J&&this.B.length==1&&K>=0&&!f.rect.NT()){this.de=1;this.dF=i.J;
this.tD=f.Nf;this.GI=!1;if(!f.A4(i,i.J)){this.GI=!0;f.Di(i,i.J,!1)}this.T1={tp:f.Nf.QJ,gZ:f.Nf.RG}}else{this.de=0;
this.GJ=D.vA.H4(i,this.B,null);for(var t=0;t<this.GJ.length;t++)if(this.GJ[t][3]!=null)d=!1}var l=this.de==1;
if(this.GJ&&this.GJ.length==1){var y=this.GJ[0];if(y[2]!=null&&y[2].X){var a=y[2].og.g;if(a.length<2){U=y[2].X[a.length==0?0:a[0]].v;
if(!k.X.zl(U))U=null}}if(y[3]==null)l=!0;if(y[4]!=null){u=i.B[this.B[0]].add.SoLd;if(y[1]||y[2])l=!1}}var v=h?i.J.rect.clone():D.vA.bL(i,this.B);
this.bw=v;if(!h&&u){var c=D.vA.O7(u.nonAffineTransform);this.bw=k.p.nP(k.O$.A2(u.warp.v));if(l)this.L2=new f5(u.warp.v);
this.k9=k.K.bS(c,this.bw);this._N=new bR(c,!0,!0,d,!1,!1,$)}else{if(l||h)this.L2=new f5(k.O$.Q(this.bw));
this.k9=[1,0,0,0,1,0,0,0];if(this.id==D.kT)$=3;this._N=new bR([v.x,v.y,v.x+v.e,v.y,v.x+v.e,v.y+v.n,v.x,v.y+v.n],!0,!0,d,!1,!1,$)}this.a7C=[1,0,0,0,1,0,0,0];
if(this.id==D.kT){var p,C;if(this.GJ){var T=this.GJ[0][0],E=T.XI;p=E[0];C=E[1]}else if(this.T1){p=this.T1.tp;
C=this.T1.gZ}this.r_=k.n_.av1(p,C.e,C.n)}};D.vA.bL=function(i,$){if($==null)$=i._8(!0,null,null,!0);
var h=new bN,d=new bN;if(i.J&&$.length==1&&$[0]>=0)h=i.J.rect.clone();else for(var t=0;t<$.length;t++){var K=$[t],f=0<=K?i.B[K]:-1e3<K?i.w3[-1-K]:i.kY[-1e3-K],l=f.add?f.add.vmsk:null,u=0<=K?f.ys(i,$.length==1,!1,!0):-1e3<K?k.A.eu(l.i,$.length==1&&l.g.length!=0?l.g:null):f.rect.clone();
h=h.rt(u);if(K>0&&f.add.artb)d=d.rt(f.Ik())}return!d.NT()?d:h};D.vA.prototype.Ru=function(i,$,h,d){var K=new eU($,!0);
K.data=h;if(d)K.b=d;i.$(K)};D.vA.H4=function(i,$,h){var d=[];for(var t=0;t<$.length;t++){var K=$[t],f,l;
if(K>=0){f=i.B[K];l=f.zA(i,h,!0)}else if(K>-1e3){f=i.w3[-1-K];l=[2]}else{d.push([null,null,null,null,null,null,null,i.kY[-1e3-K].clone()]);
continue}var u=[],U=l.indexOf(0)!=-1;if(U){var y={XI:f.add.SoLd?null:[f.buffer.slice(0),f.rect.clone()]};
u.push(y);if(f.Hm()){var a=f.Hi(i);y.a5q=a.buffer.slice(0);y.a8o=a.rect.clone()}}else u.push(null);if(l.indexOf(1)!=-1)u.push(f.MQ().clone());
else u.push(null);if(l.indexOf(2)!=-1)u.push({og:f.add.vmsk.clone(),_T:f.add.vstk?JSON.parse(JSON.stringify(f.add.vstk)):null,DP:f.add.vstk?D.cI.wW(i,K):null,X:f.add.vogk?JSON.parse(JSON.stringify(f.add.vogk)):null});
else u.push(null);if(f.add.TySh&&U){jP.QQ(f.add.TySh);u.push(f.add.TySh.D.clone())}else u.push(null);
if(f.add.SoLd&&U)u.push(JSON.parse(JSON.stringify(f.add.SoLd)));else u.push(null);if(l.indexOf(3)!=-1)u.push(f.Hi(i).z.clone());
else u.push(null);if(f.add.lmfx)u.push(JSON.stringify(f.add.lmfx));else u.push(null);d.push(u)}return d};
D.vA.HP=function(i,$,h){for(var t=0;t<$.length;t++){var d=$[t],K=0<=d?i.B[d]:-1e3<d?i.w3[-1-d]:i.kY[-1e3-d],f=h[t];
if(f[0]){if(f[0].XI){K.rect=f[0].XI[1].clone();K.buffer=f[0].XI[0].slice(0)}if(K.Hm()){var l=K.Hi(i);
l.buffer=f[0].a5q.slice(0);l.rect=f[0].a8o.clone()}}if(f[1]){K.MQ().channel=f[1].channel.slice(0);K.MQ().rect=f[1].rect.clone();
K.MQ().D3=!0}if(f[2]){K.add.vmsk=f[2].og.clone();if(f[2].DP)D.cI.YI(K,f[2].DP);if(f[2]._T)K.add.vstk=JSON.parse(JSON.stringify(f[2]._T));
if(f[2].X)K.add.vogk=JSON.parse(JSON.stringify(f[2].X))}if(f[3]){K.add.TySh.D=f[3].clone();jP.rX(K.add.TySh)}if(f[4]){K.add.SoLd=JSON.parse(JSON.stringify(f[4]))}if(f[5]){var u=K.Hi(i).z;
u.channel=f[5].channel.slice(0);u.rect=f[5].rect.clone()}if(f[6]){K.add.lmfx=JSON.parse(f[6])}if(f[7]){K.channel=f[7].channel.slice(0);
K.rect=f[7].rect.clone();K.D3=!0}if(0<=d){K.ET(i);K.U();if(f[4])K.u8(i,!1)}}i.U()};D.vA.dk=function(i,$,h,d,K,f,l,u,U,y){if(typeof f[0]=="number"){var a=[];
for(var t=0;t<h.length;t++)a[t]=f;f=a}for(var t=0;t<h.length;t++){var v=f[t],c=k.K.g4(v),p=c.Qa(),C=h[t],T=0<=C?i.B[C]:-1e3<C?i.w3[-1-C]:i.kY[-1e3-C],E=d[t];
if(T.add&&T.add.lmfx&&u)eN.BQ(T.add.lmfx,p);if(E[0]&&!E[3]&&!E[4]&&!E[5]){var r=E[0].XI;if(U){var Y=U.clone(),S=k.Q(Y.O()*4);
k.mC(r[0],r[1],S,Y);r=[S,Y]}var m=D.vA.N6(r,K,v,l,K==0?T.buffer.buffer:null,null,null,y);if(m){T.rect=m.rect;
T.buffer=m.buffer}}if(E[1]){var Q=T.MQ();D.vA.$R(i,E[1],Q,K,v,l);if(U){var Y=T.rect.Js(U),z=k.Q(Y.O());
k.Zc(Q.channel,Q.rect,z,Y);Q.channel=z;Q.rect=Y}}if(E[2]){var n=l&&!k.O$.PJ(l),Z=E[2].og.clone(),P=h.length==1&&Z.g.length!=0,V=h.length==1&&Z.ZL.length>1;
if(V)P=!1;var I=P?Z.g:null,q=V?Z.ZL:null;if(n){var X=k.O$.A2(l);k.K.D(v,X);k.A.apJ(Z.i,X,I,q)}else k.A.ap3(Z.i,v,I,q);
if(T.add.vstk&&u){T.add.vstk.strokeStyleLineWidth.v.val=E[2]._T.strokeStyleLineWidth.v.val*p;var B=E[2].DP;
if(B&&B.$M==3){B=JSON.parse(JSON.stringify(B));var e=B.DP.phase.v;B.DP.Scl.v.val=Math.round(B.DP.Scl.v.val*p);
e.Hrzn.v=Math.round(e.Hrzn.v*p);e.Vrtc.v=Math.round(e.Vrtc.v*p);D.cI.YI(T,B)}}if(T.add.vogk){T.add.vogk=JSON.parse(JSON.stringify(E[2].X));
if(n||V)k.X.HU(T.add.vogk);else k.X.D(T.add.vogk,v,h.length>1?[]:Z.g,u)}Z.Dc*=p;T.add.vmsk=Z;if(T.add.vogk)k.X.b5(T.add.vogk,T.add.vmsk)}if(E[3]){var F=E[3].clone();
F.concat(c);T.add.TySh.D=F;jP.rX(T.add.TySh);bM.AA(T,$.SB)}if(E[4]){var s=T.add.SoLd,J=D.vA.O7(E[4].nonAffineTransform);
k.K.D(v,J);var W=k.p.DS(J);if(bR.vc(J)){if(l){var L=k.p.nP(k.O$.A2(E[4].warp.v)),z=k.K.bS(J,L),A=k.p.nP(k.O$.A2(l));
J=[A.x,A.y,A.x+A.e,A.y,A.x+A.e,A.y+A.n,A.x,A.y+A.n];k.K.D(z,J);s.warp.v=l}var j=k.K.bS(J),G=J;if(!k.K.fg(j)){j[6]=j[7]=0;
G=[0,0,1,0,1,1,0,1];k.K.D(j,G)}s.Trnf=D.vA.j7(G);s.nonAffineTransform=D.vA.j7(J);if(s.filterFX)s.filterFX=JSON.parse(JSON.stringify(E[4].filterFX));
D.vA.asQ(s,c);T.u8(i,K==0,$.SB)}}if(E[5])D.vA.$R(i,E[5],T.Hi(i).z,K,v,l);if(E[7])D.vA.$R(i,E[7],T,K,v,l);
if(0<=C){if(K!=0)T.HH();T.ET(i);T.U()}}i.U()};D.vA.a6q=function(i,$){var h=$.Qa(),d=0;k.V0(i);while(h<.45&&d<i.length-4){d+=2;
h*=2;var K=new ej;K.scale(2,2);K.concat($);$=K}var f=i[d],l=i[d+1],u=l.e,U=l.n,y=k.p.Hg(l).C;k.p.D(y,$,y);
var a=k.p.DS(y),v=k.Q(a.O()),c=a.x,p=a.y,C=a.e,T=a.n,E=$.clone();E.Sp();var r=E.hb(new cq(0,0)),Y=E.hb(new cq(1,0)),S=Y.x-r.x,m=Y.y-r.y,Q=u-.51,z=U-.51;
for(var n=0;n<T;n++){var Z=E.Pi*(c+.5)+E.sl*(n+p+.5)+E.wQ,P=E.Z*(c+.5)+E.Zn*(n+p+.5)+E.FQ;for(var V=0;
V<C;V++){if(Z<.5||Z>Q||P<.5||P>z){}else v[n*C+V]=Math.floor(.5+k.K.a22(Z,P,f,u,U));Z+=S;P+=m}}return{rect:a,channel:v}};
D.vA.$V=function(i,$,h,d,K,f){if(h==null)h=!1;return D.vA.N6(i,h?0:1,k.K.F0($),null,d,K,f,h)};D.vA.N6=function(i,$,h,d,K,f,l,u){if(u==null)u=!1;
if(u&&l)throw"e";var U={},c=0,p=.3;if(d&&!k.O$.PJ(d)){var y=k.O$.A2(d);k.K.D(h,y);U.rect=k.p.DS(y);U.buffer=k.Q(U.rect.O()*4);
k.X2.drawImage(y,i[0],i[1].e,i[1].n,U.buffer,U.rect,$==0);return U}k.SL(i);var a=i[0],v=i[1],C=v.O()*k.K.g4(h).Qa();
if(u&&C>4e6)p=C>8e6?2.2:1.2;while(c+3<i.length&&i[c+3].O()>16&&k.K.fg(h)&&k.K.g4(h).Qa()<p){c+=2;var T=i[c],E=i[c+1],r=v.e/E.e,Y=v.n/E.n;
h=k.K.hW(h,[1,0,v.x,0,1,v.y,0,0]);h=k.K.hW(h,[r,0,0,0,Y,0,0,0]);h=k.K.hW(h,[1,0,-v.x,0,1,-v.y,0,0]);
v=E;a=T}var S=k.K.hW(h,k.K.F0(new ej(v.e,0,0,v.n,v.x,v.y))),m=[0,0,1,0,1,1,0,1];k.K.D(S,m);U.rect=k.p.DS(m);
if(l)U.rect=U.rect.Js(l);if(u){while((U.rect.e&3)!=0)U.rect.e++;while((U.rect.n&3)!=0)U.rect.n++}if(!bR.vc(m)||U.rect.e>1e5||U.rect.n>1e5||U.rect.O()>3e4*3e4)return null;
var Q=U.rect.O()*4;if(K&&K.byteLength>=Q&&Q>=K.byteLength>>2){U.buffer=new Uint8Array(K)}else{U.buffer=k.Q(Q)}k.K.drawImage(S,a,v.e,v.n,U.buffer,U.rect,$==0,f,u);
if($==2&&U.buffer){var z=U.rect.e,n=U.rect.n,Z;Z=[0,-1,0,-1,16,-1,0,-1,0];Z=k.KN.t_(Z);var P=U.buffer.slice(0);
k.KN.mj(P,U.buffer,z,n,Z,255,!1,!0)}if(U.buffer)return U};D.vA.$R=function(i,$,h,d,K,f){if($.color==255)k.Sp($.channel);
var l=$.rect,u=k.Q(l.O()*4);k.k1($.channel,u,3);var U=D.vA.N6([u,l],d,K,f);if(U){h.rect=U.rect;h.channel=k.Q(U.rect.O());
k.pO(U.buffer,h.channel,3);h.D3=!0}if($.color==255){k.Sp($.channel);if(U)k.Sp(h.channel)}};D.vA.asQ=function(i,$){var h=i.filterFX;
if(h)h=h.v.filterFXList;if(h)h=h.v;if(h)for(var d=0;d<h.length;d++){var K=h[d].v.Fltr;if(K==null||K.v.classID!="rigidTransform")continue;
K=K.v;console.log(K);var f=[];for(var l=0;l<4;l++)f.push(K["PuX"+l].v,K["PuY"+l].v);k.p.D(f,$,f);for(var l=0;
l<4;l++){K["PuX"+l].v=f[l*2];K["PuY"+l].v=f[l*2+1]}var u=["PinP","posFinalPins"],U=["originalVertexArray","deformedVertexArray"],y=K.puppetShapeList.v;
for(var a=0;a<y.length;a++){var v=y[a].v;for(var c=0;c<u.length;c++){var p=D.vA.O7(v[u[c]]);k.p.D(p,$,p);
v[u[c]]=D.vA.j7(p);var C=new Uint8Array(v[U[c]].v),T=new Float32Array(C.buffer);k.p.D(T,$,T);var E=[];
for(var r=0;r<C.length;r++)E[r]=C[r];v[U[c]].v=E}}}};D.vA.O7=function(i){var $=[],h=i.v.length;for(var t=0;
t<h;t++)$.push(i.v[t].v);return $};D.vA.j7=function(i){var $={t:"VlLs",v:[]},h=i.length;for(var t=0;
t<h;t++)$.v.push({t:"doub",v:i[t]});return $};D.vA.prototype.a4F=function(){var i=k.p.nP(k.O$.A2(this.L2.II())),$=k.K.bS(this._N.Og(),this.bw),h=[i.x,i.y,i.x+i.e,i.y,i.x+i.e,i.y+i.n,i.x,i.y+i.n];
k.K.D($,h);this._N.x$(h);this.bw=i};D.vA.prototype.up=function(i,$,h,d){var K=k.K.bS(this._N.Og(),this.bw);
K=k.K.hW(K,k.K.Sp(this.k9));var f=this.L2?this.L2.II():null;if(this.de==0){var l=this.ap=k.K.g4(K);if(this.id==D.kT){var u=this.GJ[0][0],U=u.XI,y=U[1],a=~~(y.e*Math.max(0,l.Pi)),v=~~(y.n*Math.max(0,l.Zn)),c=new bN(Math.round(l.Pi*y.x+l.wQ),Math.round(l.Zn*y.y+l.FQ),a,v),p=k.n_.D(this.r_,c),C=i.B[this.B[0]];
C.buffer=p;C.rect=c;C.U();i.U()}else D.vA.dk(i,$,this.B,this.GJ,h,K,f,null,null,d)}else if(this.de==1){var T=i.B[this.B[0]],y=this.T1.gZ;
if(T.Tu<=0){var E=this.T1.tp,r=this.dF,Y=null;if(f&&!k.O$.PJ(f)&&!r.rect.Rl(y)){var p=k.Q(r.rect.O()*4);
k.mC(E,y,p,r.rect);E=p;y=r.rect}if(this.id==D.kT){var l=this.ap=k.K.g4(K),a=~~(y.e*Math.max(0,l.Pi)),v=~~(y.n*Math.max(0,l.Zn)),c=new bN(Math.round(l.Pi*y.x+l.wQ),Math.round(l.Zn*y.y+l.FQ),a,v),p=k.n_.D(this.r_,c);
Y={buffer:p,rect:c}}else Y=D.vA.N6([E,y],h,K,f);if(Y){T.Nf.QJ=Y.buffer;T.Nf.RG=Y.rect;var S=k.Q(Y.rect.O());
k.pO(T.Nf.QJ,S,3);i.J={channel:S,rect:T.Nf.RG.clone()}}}else{var m=k.Q(y.O()*4);k.k1(this.T1.tp,m,3);
var Y=D.vA.N6([m,y],h,K,f);if(Y){T.Nf.QJ=k.Q(Y.rect.O());k.pO(Y.buffer,T.Nf.QJ,3);T.Nf.RG=Y.rect}this.aos(i,h,K,f)}T.W_(i,0,0,i.J);
if(h!=0){T.HH();k.HH(i.J)}i.oM=!0;i.U()}else if(this.de==2)this.aos(i,h,K,f)};D.vA.prototype.aos=function(i,$,h,d){var K=this.dF.rect,f=k.Q(K.O()*4);
k.k1(this.dF.channel,f,3);var l=D.vA.N6([f,K],$,h,d),u=k.Q(l.rect.O());k.pO(l.buffer,u,3);i.J={channel:u,rect:l.rect};
i.oM=!0};D.vA.prototype.disable=function(i,$,h,d){if(this._N)this.Bo(i,$,null,!0)};D.ab0=function(){D.vA.call(this,[10,16],D.Ey,"tools/transform")};
D.ab0.prototype=new D.vA;D.aiu=function(){D.vA.call(this,[7,10],D.vP,"tools/transform")};D.aiu.prototype=new D.vA;
D.ax$=function(){D.vA.call(this,[10,48],D.kT,"tools/transform")};D.ax$.prototype=new D.vA;D.$g=function(i,$,h){D.TK.call(this,[10,46],D.ri,"tools/transform");
this.y_=[1,1,2,!0];this.I_="rigidTransform";this.ih=null;this.auS=null;this.rD=null;this.lT=null;this.k_=null;
this.oz=null;this.OQ=[]};D.$g.prototype=new D.TK;D.$g.prototype.uq=function(){return!0};D.$g.apb=function(i){if(i==null)return!1;
if(i.g.length!=1)return!1;var $=i.B[i.g[0]];return $.add.SoLd||i.EX(!1)};D.$g.prototype.aT=function(i,$){return D.$g.apb(i)};
D.$g.prototype.enable=function(i,$,h,d,K,f,l){this.auS=f._c;var u=f._c,U,T=null;if(u){var y=i.B[u.a];
if(y.add.SoLd.filterFX!=null){var a=y.add.SoLd.filterFX.v.filterFXList.v;if(a[u.index])U=JSON.parse(JSON.stringify(a[u.index].v.Fltr.v))}}var v=U==null,y=i.B[i.g[0]],c=y.buffer,p=y.rect,C=y.add.SoLd;
if(C){var E=C.nonAffineTransform.v;T=[];for(var t=0;t<4;t++)T.push(E[t*2].v,E[t*2+1].v);if(v)this.aD("edit",$);
var r=y.Hi(i);c=r.buffer;p=r.rect}this.ih={buffer:c.slice(0),rect:p.clone(),aub:T};if(v)U=D.$g.U0(this.ih,this.y_);
this.rD=U;this.lT=D.$g.Dj(this.rD,this.y_);this.nc();this.DA(i);if(v)this.WA($);var Y=new eU(x.E.k,!0);
Y.data={d:x.c.zj,b:this.id,J0:this.y_};$.$(Y);Y.data={d:x.c.xY,hf:"default"};$.$(Y)};D.$g.prototype.disable=function(i,$,h,d){if(this.lT)this.Bo(i,$,!0)};
D.$g.prototype.nc=function(i){var $=this.lT;this.OQ=[];for(var t=0;t<$.length;t++){var h=$[t];for(var d=0;
d<h.g.length;d++)this.OQ.push([t,h.g[t]]);h.v3=k.AF.fn(h);if(i)k.AF.u9(h)}};D.$g.prototype.oi=function(i,$,h,d){if(i.S3=="commit")this.Bo(h,$,!0);
else if(i.S3=="cancel")this.ZY(h,$,!0);else if(i.S3=="prm"){var K=!1;for(var t=0;t<3;t++)if(this.y_[t]!=i.J0[t])K=!0;
this.y_=i.J0;if(K){this.rD=D.$g.U0(this.ih,this.y_,this.rD);this.lT=D.$g.Dj(this.rD,this.y_);this.nc(!0);
this.WA($)}this.DA(h)}else if(i.S3=="moveDepth"){var f=this.lT;for(var l=0;l<f.length;l++){var u=f[l];
for(var t=0;t<u.g.length;t++){var U=u.g[t];u.bW[U]+=i.ajL?1:-1}}this.WA($)}};D.$g.prototype.JL=function(i,$){return i==ai.X1||i==ai.A9};
D.$g.prototype.PS=function(i,$,h,d){var K=d.j$();if(d.j(ai.iQ))this.Bo(i,$,!0);else if(d.j(ai.UY))this.ZY(i,$,!0);
else if(d.j(ai.X1)||d.j(ai.A9)){var f=this.lT;for(var l=0;l<f.length;l++){var u=f[l];u.g.sort(function(a,v){return v-a});
for(var t=0;t<u.g.length;t++){var U=u.g[t],y=U*2;u.bW.splice(U,1);u.ff.splice(U,1);u.vh.splice(U,1);
u.bo.splice(U,1);u.zZ.splice(y,2);u.tI.splice(y,2)}u.g=[];if(u.bo.length==0){u.Rg=u.Qy.slice(0);u.eH=u.Qy.slice(0)}}this.nc(!0);
this.WA($);this.DA(i)}else if(K.x!=0||K.y!=0){this.aaP(i,K.x,K.y,$);this.Wi=null}};D.$g.prototype.Bo=function(i,$,h){this.aD("confirm",$);
this.escape(i,$,h)};D.$g.prototype.ZY=function(i,$,h){this.aD("cancel",$);this.escape(i,$,h)};D.$g.prototype.escape=function(i,$,h){i.R.HQ=null;
i.R.yG=[];i.nU=!0;this.lT=null;var d=new eU(x.E.k,!0);d.data={d:x.c.K2};if(h)$.$(d)};D.$g.prototype.gE=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=f.x,u=f.y,U=this.lT,y=null,a=[0,2,4,1.2,1.2,1.2],v=-1,c=D.On(i,K);
for(var t=0;t<U.length;t++){var p=U[t],C=k.p.D$(p.tI,l,u,c);if(C!=-1)y=[t,C];if(v==-1&&k.AF.JA.a40(p.eH,p.NX,l,u))v=t}if(y==null&&v!=-1){var p=U[v];
D.$g.al_(p,l,u,l,u,0);y=[v,p.bo.length-1];p.v3=k.AF.fn(p)}this.k_=f;if(y){var T=U[y[0]].g.indexOf(y[1])!=-1;
if(d.j(ai.EW)&&!T){U[y[0]].g.push(y[1]);this.OQ.push(y)}else if(!T){U[y[0]].g=[y[1]];this.OQ=[y]}}this.DA(i)};
D.$g.al_=function(i,$,h,d,K,f){var l=k.p.D$(i.eH,$,h);i.bo.push(l);i.tI.push(d,K);i.zZ.push(i.eH[l*2]-$,i.eH[l*2+1]-h);
i.vh.push(0);i.ff.push(!1);i.bW.push(f)};D.$g.prototype.Zm=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=this.k_;
if(l)this.aaP(i,f.x-l.x,f.y-l.y,$)};D.$g.prototype.aaP=function(i,$,h,d){var K={},f=this.OQ,l=this.lT;
if(this.Wi==null){this.Wi=[];for(var t=0;t<l.length;t++)this.Wi.push(l[t].tI.slice(0))}for(var t=0;t<f.length;
t++){var u=this.OQ[t],U=u[0],y=l[u[0]],a=u[1]*2;y.tI[a+0]=this.Wi[U][a+0]+$;y.tI[a+1]=this.Wi[U][a+1]+h;
K[U]=U}for(var U in K)k.AF.u9(this.lT[K[U]]);this.DA(i);this.WA(d)};D.$g.prototype.aD=function(i,$){var h=new eU(x.E.s,!0);
h.b=D.QE;h.data={d:i,_c:this.auS,I_:this.I_,Pr:this.rD};$.$(h)};D.$g.prototype.IQ=function(i,$,h,d,K){this.k_=null;
this.Wi=null};D.$g.prototype.WA=function(i){D.$g.a0T(this.lT,this.y_,this.rD);this.aD("edit",i)};D.$g.prototype.DA=function(i){var $=this.lT,h=this.rD;
i.R.HQ={C:[],H:[]};i.R.yG=[];i.R.O6=[];for(var t=0;t<$.length;t++){var d=$[t];for(var K=0;K<d.g.length;
K++)i.R.O6.push((i.R.yG.length>>>1)+d.g[K]);i.R.yG=i.R.yG.concat(d.tI);if(this.y_[3])k.p.concat(i.R.HQ,k.p.atX(d.eH,d.NX))}i.nU=!0};
D.$g.U0=function(i,$,h){var d=i.buffer,K=i.rect,f=i.aub,l=d1.U9("rigidTransform");if(f)for(var t=0;t<4;
t++){l["PuX"+t].v=f[t*2];l["PuY"+t].v=f[t*2+1]}var u=l.puppetShapeList.v,U=k.AF.avf(d,K.e,K.n,$[1],$[2]),y=[];
for(var a=0;a<U.length;a++){var v={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
v.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var c=U[a];u.push({t:"Objc",v:v});var p=c.Qy.slice(0);k.p.D(p,new ej(1,0,0,1,K.x,K.y),p);var C=c.NX;
for(var t=0;t<C.length;t+=3){var T=C[t+1];C[t+1]=C[t+2];C[t+2]=T}y.push({NX:C,Qy:p,Rg:p,eH:p,bo:[],zZ:[],tI:[],v3:null,g:[],vh:[],ff:[],bW:[]})}if(h){var E=D.$g.Dj(h,[]),r=y[0];
for(var t=0;t<E.length;t++){var Y=E[t];for(var S=0;S<Y.g.length;S++)r.g.push((r.tI.length>>>1)+Y.g[S]);
for(var S=0;S<Y.bo.length;S++){var m=Y.bo[S]*2,Q=Y.Qy[m]-Y.zZ[S*2],z=Y.Qy[m+1]-Y.zZ[S*2+1];D.$g.al_(r,Q,z,Y.tI[S*2],Y.tI[S*2+1],Y.bW[S])}}}D.$g.a0T(y,$,l);
return l};D.$g.Dj=function(i,$){var h=D.vA.O7,d=i.puppetShapeList.v,K=[];for(var f=0;f<d.length;f++){var l=d[f].v;
$[0]=l.meshRigidity.v-1;$[1]=l.meshQuality.v-1;$[2]=l.meshExpansion.v;var u=l.pinVertexIndices.v.length,U=l.meshBoundaryPath.v.pathComponents.v;
if(U.length!=0){var y=U[0].v.SbpL.v[0].v.Pts;y.v=[]}var a=new Uint32Array(new Uint8Array(l.indexArray.v).buffer),v=new Float32Array(new Uint8Array(l.originalVertexArray.v).buffer),c=new Float32Array(new Uint8Array(l.deformedVertexArray.v).buffer),p=[],C=[],T=[];
for(var t=0;t<a.length;t++)p.push(a[t]);for(var t=0;t<v.length;t++){C.push(v[t]);T.push(c[t])}var E=h(l.pinVertexIndices),r=h(l.pinOffsets),Y=h(l.posFinalPins),S=h(l.PnRt),m=h(l.PnOv),Q=h(l.PnDp),z=h(l.selectedPin);
K.push({NX:p,Qy:C,Rg:T.slice(0),eH:T,bo:E,zZ:r,tI:Y,v3:null,vh:S,ff:m,bW:Q,g:z})}return K};D.$g.a0T=function(i,$,h){function d(c,p){var C=[];
for(var t=0;t<c.length;t++)C.push({t:p,v:c[t]});return C}function K(c,p,C){var T=new(C?Uint32Array:Float32Array)(c),E=new Uint8Array(T.buffer);
for(var t=0;t<E.length;t++)p[t]=E[t]}var f=h.puppetShapeList.v;for(var l=0;l<f.length;l++){var u=i[l],U=f[l].v;
U.meshRigidity.v=$[0]+1;U.meshQuality.v=$[1]+1;U.meshExpansion.v=$[2];K(u.NX,U.indexArray.v,!0);K(u.Qy,U.originalVertexArray.v);
K(u.eH,U.deformedVertexArray.v);var y=[];for(var t=0;t<u.bo.length;t++){var a=u.bo[t]*2,v=t*2;y[v]=u.Qy[a]-u.zZ[v];
y[v+1]=u.Qy[a+1]-u.zZ[v+1]}U.PinP.v=d(y,"doub");U.pinVertexIndices.v=d(u.bo,"long");U.pinOffsets.v=d(u.zZ,"doub");
U.posFinalPins.v=d(u.tI,"doub");U.PnRt.v=d(u.vh,"long");U.PnOv.v=d(u.ff,"bool");U.PnDp.v=d(u.bW,"doub");
U.selectedPin.v=d(u.g,"long")}};D.Zo=function(i,$,h){D.TK.call(this,i?i:[10,40],$?$:D.M7,h?h:"tools/slice");
this.yM=null;this.DR=null;this.Pq=null;this.avd=null;this.tS=null;this.tL=null};D.Zo.prototype=new D.TK;
D.Zo.G3=function(i,$){var h=-1;for(var t=0;t<i.length;t++){var d=D.Zo.Tx(i,t);if(d[0]<=$.x&&$.x<=d[2]&&d[1]<=$.y&&$.y<=d[3]){h=t;
break}}return h};D.Zo.prototype.d6=function(i,$,h,d,K){if(h==null)return;this.C0(h);if(i.d=="fromAction"){var f=i.Uf,l=f.Fs,u=f.B6,U=h.KG(),y=h.ii(),a=y==-1?new bN(0,0,h.e,h.n):h.B[y].Ik();
if(l=="divide"){if(h.Bg.length!=0){var v=h.Bg[0],c=D.Zo.Tx(h.ky,v);a=new bN(c[0],c[1],c[2]-c[0],c[3]-c[1]);
h.ky.splice(v,1);h.Bg=[]}U=[[],[]];for(var p=0;p<2;p++){var C=["Across","Down"][p],T=u["pixels"+C]?0:1,E=u[["pixels","slices"][T]+C];
if(E==null)continue;E=E.v;var r=p==0?a.x:a.y,Y=p==0?a.e:a.n;if(T==0)for(var t=1;t*E<Y;t++){U[0].push([p,r+t*E]);
U[1].push(y)}else{var S=Math.floor(Y/E);for(var t=1;t<E;t++){U[0].push([p,r+t*S]);U[1].push(y)}}}}var m=[a.x,a.x+a.e],Q=[a.y,a.y+a.n];
for(var t=0;t<U[0].length;t++){var z=U[0][t],n=Math.round(z[1]),Z=U[1][t];if(Z!=-1&&Z!=y)continue;if(z[0]==0&&m.indexOf(n)==-1)m.push(n);
if(z[0]==1&&Q.indexOf(n)==-1)Q.push(n)}m.sort(function(J,W){return J-W});Q.sort(function(J,W){return J-W});
for(var P=1;P<Q.length;P++)for(var V=1;V<m.length;V++){h.ky.push(D.Zo.l7());D.Zo.Yr(h.ky,h.ky.length-1,[m[V-1],Q[P-1],m[V],Q[P]]);
h.nU=!0}}else if(i.d=="reorder"){if(h.Bg.length==0)return;var I=h.ky,q=h.Bg;q.sort(function(J,W){return J-W});
console.log(q);var X=I.slice(0),B=[],e=[];for(var t=0;t<q.length;t++){var v=q[t],F=I[v];e.push(F);X.splice(X.indexOf(F),1)}var s=Math.max(0,Math.min(X.length,q[0]-i.dir));
for(var t=0;t<e.length;t++){X.splice(s+t,0,e[t]);B.push(s+t)}h.ky=X;h.Bg=B}else if(i.d=="delete"){var I=h.ky.slice(0);
for(var t=0;t<h.Bg.length;t++)h.ky.splice(h.ky.indexOf(I[h.Bg[t]]),1);h.Bg=[]}else if(i.d=="deleteAll"){h.ky=[];
h.Bg=[]}else{h.ky[h.Bg[0]].v=i;h.nU=!0}this.sg(h)};D.Zo.prototype.enable=function(i,$,h,d,K,f){D.TK.prototype.enable.call(this,i,$,h,d,K,f);
if(!h.ZZ.ky){var l=new eU(x.E.k,!0);l.data={d:x.c.vj,J0:dC.QC};$.$(l)}};D.Zo.prototype.disable=function(){this.yM=null;
this.DR=null};D.Zo.prototype.wI=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=D.Zo.G3(i.ky,f);if(l==-1)return;
this.yM=i;this.DR=$;i.Bg=[l];i.nU=!0;if(this.tL==null){this.tL=new ew([{name:[5,4]},{name:[8,11,1],xE:!0}]);
this.tL.h("select",this.U6,this)}var u=this.tL;u.parent=$;u.f();u.update(i,h);var U=new eU(x.E.k,!0);
U.data={d:x.c.jT,dX:u,x:K.jn+2,y:K.eM+1};$.$(U)};D.Zo.prototype.U6=function(i){var $=this.tL.CK()[0],h=this.yM;
if($==0){this.C0(h);h.ky.splice(h.Bg[0],1);h.Bg=[];h.nU=!0;this.sg(h)}if($==1){var d=new eU(x.E.k,!0);
d.data={d:x.c.ZD,Kh:"soptions",L:h.ky[h.Bg[0]].v};this.DR.$(d)}};D.Zo.prototype.gE=function(i,$,h,d,K){if(i==null)return;
this.C0(i);var f=i.u._x(K.x,K.y);f=D.NN.pn(i,f,h,[!0,null,!1]);f.x=Math.round(f.x);f.y=Math.round(f.y);
this.tS=f;i.ky.unshift(D.Zo.l7());i.Bg=[0];D.Zo.Yr(i.ky,0,[f.x,f.y,f.x+20,f.y+20]);i.nU=!0};D.Zo.prototype.Zm=function(i,$,h,d,K){if(this.Pq==null)return;
var f=i.u._x(K.x,K.y),l=this.tS;f=D.NN.pn(i,f,h,[!0,null,!1]);f.x=Math.round(f.x);f.y=Math.round(f.y);
var u=[l.x,l.y,f.x,f.y];D.Zo.aci(u);D.Zo.Yr(i.ky,0,u);i.nU=!0};D.Zo.prototype.IQ=function(i,$,h,d,K){this.sg(i);
this.tS=null};D.Zo.prototype.C0=function(i){this.Pq=JSON.stringify(i.ky);this.avd=JSON.stringify(i.Bg)};
D.Zo.prototype.sg=function(i){var $=JSON.stringify(i.ky);if($!=this.Pq){var h=new dS(this.name,this);
h.data={T1:this.Pq,if:$,akt:this.avd,aoA:JSON.stringify(i.Bg)};i.JY(h)}this.Pq=null};D.Zo.prototype.RU=function(i,$){$.ky=JSON.parse(i.T1);
$.Bg=JSON.parse(i.akt);$.nU=!0};D.Zo.prototype.Oi=function(i,$){$.ky=JSON.parse(i.if);$.Bg=JSON.parse(i.aoA);
$.nU=!0};D.Zo.prototype.JL=function(i,$){return $!=null&&$.Bg.length!=0&&(i==ai.X1||i==ai.A9)};D.Zo.prototype.PS=function(i,$,h,d){if(i==null)return;
if(d.j(ai.X1)||d.j(ai.A9))this.d6({d:"delete"},$,i,d,h);var K=d.j$();if(K.x!=0||K.y!=0){this.C0(i);D.Zo.Ef(i,K);
this.sg(i)}};D.Zo.prototype.oi=function(i,$,h,d,K){};D.Zo.ada=function(i,$,h,d){var K=new cq(-$.x,-$.y),f=$.e/h.e,l=$.n/h.n,u=[0,0,$.e,$.n];
for(var t=0;t<i.length;t++){var U=D.Zo.Tx(i,t);if(d){U[0]=Math.round(U[0]*f);U[1]=Math.round(U[1]*l);
U[2]=Math.round(U[2]*f);U[3]=Math.round(U[3]*l)}else{D.Zo.Ge(U,K);D.Zo.a53(U,u)}if(U[0]>=U[2]||U[1]>=U[3]){i.splice(t,1);
t--;continue}D.Zo.Yr(i,t,U)}};D.Zo.Ef=function(i,$){var h=i.ky;for(var t=0;t<i.Bg.length;t++){var d=D.Zo.Tx(h,i.Bg[t]);
D.Zo.Ge(d,$);D.Zo.Yr(h,i.Bg[t],d)}};D.Zo.a53=function(i,$){if(i[0]<$[0])i[0]=$[0];if(i[1]<$[1])i[1]=$[1];
if($[2]<i[2])i[2]=$[2];if($[3]<i[3])i[3]=$[3]};D.Zo.Ge=function(i,$){i[0]=Math.round(i[0]+$.x);i[2]=Math.round(i[2]+$.x);
i[1]=Math.round(i[1]+$.y);i[3]=Math.round(i[3]+$.y)};D.Zo.Yr=function(i,t,$){var h=i[t].v.bounds.v;h.Left.v=$[0];
h.Top.v=$[1];h.Rght.v=$[2];h.Btom.v=$[3]};D.Zo.Tx=function(i,t){var $=i[t].v.bounds.v;return[$.Left.v,$.Top.v,$.Rght.v,$.Btom.v,t]};
D.Zo.aci=function(i){if(i[2]<i[0]){var $=i[0];i[0]=i[2];i[2]=$}if(i[2]==i[0])i[2]++;if(i[3]<i[1]){var $=i[1];
i[1]=i[3];i[3]=$}if(i[3]==i[1])i[3]++};D.Zo.nP=function(i,$){var h=1e9,d=-1e9,K=1e9,f=-1e9;for(var t=0;
t<$.length;t++){var l=D.Zo.Tx(i,$[t]);h=Math.min(h,l[0]);K=Math.min(K,l[1]);d=Math.max(d,l[2]);f=Math.max(f,l[3])}return[h,K,d,f]};
D.Zo.l7=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
D.GA=function(){D.Zo.call(this,[10,41],D.a7,"tools/sselect");this.tS=null;this.IW=null;this.fG=null;
this.oz=null;this.EO=!1};D.GA.prototype=new D.Zo;D.GA.prototype.gE=function(i,$,h,d,K){if(i==null)return;
var f=i.u._x(K.x,K.y),l=D.GA.ak$(f,4/i.u.N,i.ky,i.Bg);l.pop();if(l.length!=0){this.tS=f;this.fG=l;this.C0(i);
return}var u=i.ky,U=D.Zo.G3(u,f);if(U==-1)i.Bg=[];else{var y=i.Bg.indexOf(U);if(d.j(ai.EW)){if(y==-1)i.Bg.push(U);
else i.Bg.splice(y,1)}else{i.Bg.sort(function(T,E){return T-E});if(y==-1)i.Bg=[U];this.tS=f;this.C0(i);
this.IW=D.Zo.nP(u,i.Bg);this.oz=[];for(var t=0;t<i.Bg.length;t++)this.oz.push(D.Zo.Tx(u,i.Bg[t]));if(d.j(ai.rf)){var a=u.slice(0),v=i.Bg,c=[];
for(var t=0;t<v.length;t++){var U=v[t],p=a[U],C=u.indexOf(p);c.push(C);u.splice(C,0,JSON.parse(JSON.stringify(p)))}i.Bg=c}}}i.nU=!0};
D.GA.prototype.Zm=function(i,$,h,d,K){var f=i.u._x(K.x,K.y);if(this.tS==null){var l=D.GA.ak$(f,4/i.u.N,i.ky,i.Bg),u=l.pop(),U=l.length==0?"default":["ew","nwse","ns","nesw"][u]+"-resize",y=new eU(x.E.k,!0);
y.data={d:x.c.xY,hf:U};$.$(y);return}if(!this.EO&&f.Rl(this.tS))return;this.EO=!0;var a=i.ky,l=this.fG;
if(l){f=D.NN.pn(i,f,h,[!0,null,!1]);var v=Math.round(f.x),c=Math.round(f.y);for(var t=0;t<l.length;t+=2){var p=D.Zo.Tx(a,l[t]),C=l[t+1];
p[C]=(C&1)==0?v:c;D.Zo.aci(p);D.Zo.Yr(a,l[t],p)}}else{var T=f.JI(this.tS),E=this.IW.slice(0);D.Zo.Ge(E,T);
var r=new bN(E[0],E[1],E[2]-E[0],E[3]-E[1]),Y=D.NN.gz(i,r,h,[!0,null,!1],!0);D.NN.hQ(i,r,Y);T.x+=Y[0];
T.y+=Y[1];for(var t=0;t<i.Bg.length;t++)D.Zo.Yr(a,i.Bg[t],this.oz[t]);D.Zo.Ef(i,T)}i.nU=!0};D.GA.prototype.IQ=function(i,$,h,d,K){if(this.tS==null)return;
this.sg(i);i.R.TM=null;i.nU=!0;this.tS=null;this.fG=null;this.oz=null;this.EO=!1};D.GA.ak$=function(i,$,h,d){var K=i.x,f=i.y,l=[],u=-1,U=[];
for(var t=0;t<d.length;t++){var y=d[t],a=D.Zo.Tx(h,y),v=a[0],c=a[1],p=a[2],C=a[3];if(K<v-$||p+$<K||f<c-$||C+$<f)continue;
var T=[K<v+$,f<c+$,p-$<K,C-$<f],E=-1;for(var r=0;r<4;r++){if(T[r]&&T[r+1&3])E=1+2*(r&1);if(T[r])l.push(y,r)}if(E==-1){if(T[0]||T[2])E=0;
if(T[1]||T[3])E=2}if(E!=-1){u=E;U.push(y)}}var Y=l.length;for(var t=0;t<Y;t+=2){var y=l[t],S=l[t+1],m=D.Zo.Tx(h,y)[S];
for(var r=0;r<d.length;r++){var Q=d[r];if(U.indexOf(Q)!=-1)continue;var a=D.Zo.Tx(h,Q);if(a[S&1]==m)l.push(Q,S&1);
if(a[2+(S&1)]==m)l.push(Q,2+(S&1))}}l.push(u);return l};D.Xc=function(){D.n1.call(this,[10,44],D.a6r,"tools/oselect");
this.Qs="crosshair";this.ahM=0};D.Xc.prototype=new D.n1;D.Xc.prototype.k7=function(i,$,h,d){if(Math.random()<1/(1+this.ahM)){alert("The cross should be fully inside the object.",3500);
this.ahM++}};D.Xc.prototype.CX=function(i,$,h,d){D.YU.aI(i,D.n1.rh,this.DR);if(!d.Et||!this.CG)return;
var K=this.bL(i,h,!1),f=K.e,l=K.n,u=K.x,U=K.y,y=K.x+f,a=K.y+l,v=u+f/2,c=U+l/2,p=D.Xc.a0m;i.R.HQ={C:[u,U,y,U,y,a,u,a,v-f*p,c,v+f*p,c,v,c-l*p,v,c+l*p],H:"M L L L Z M L M L".split(" ")};
i.nU=!0};D.Xc.a0m=.12;D.Xc.prototype.QA=function(i,$,h,d){i.R.HQ=null;i.nU=!0;this.finish(i,$,h,d)};
D.Xc.prototype.getSelection=function(i,$,h,d){if(this.to.Rl(this.q4)||!this.CG)return null;var K=this.bL(i,h,!1),f=i.B[i.g[0]];
if(K.NT()||!K.CF(f.rect))return null;return D.n1.mz("ObSl",K)};D.YU=function(){D.Gg.call(this,[10,37],D.$n,"tools/qselect");
this.Ku="qselect"};D.YU.prototype=new D.Gg;D.YU.prototype.gE=function(i,$,h,d,K){D.YU.aI(i,D.n1.rh,$,!0);
this.yP(i,h,d,K,1);if(this.xo==null)return;this.ni(i)};D.YU.prototype.Zm=function(i,$,h,d,K){this.ZS(i,$,h);
D.YU.aI(i,D.n1.rh,$);if(this.Fl)this.jH(i,h,K);if(this.xo==null)return;if(!K.Et)return;var f=this.SN(i,h,d,K);
if(f!=1)this.ni(i)};D.YU.aI=function(i,$,h,d){if(i&&$.key!=D.YU.lV(i)){$.key=D.YU.lV(i);var K=i.B[i.g[0]].rect.O(),l="Image Analysis ...";
if(K==0)return;var f=K>1e6&&d!=!0,u=new eU(x.E.k,!0);u.data={d:x.c.TT,nT:l};if(f)h.$(u);var U=function(){var y=D.YU.a4X(i);
for(var a in y)$[a]=y[a];var u=new eU(x.E.k,!0);u.data={d:x.c.$P,nT:l};if(f)h.$(u)};if(d)U();else setTimeout(U,30)}};
D.YU.lV=function(i){var $=i.g[0],h=i.B[$],d=h.rect,K=d.e,f=d.n,l=K*f,u=h.buffer;return[$,d.x,d.y,K,f,u[0],u[1],u[2],u[3]].join(",")};
D.YU.a4X=function(i){var $=i.g[0],h=i.B[$],d=h.rect,K=d.e,f=d.n,l=K*f,u=h.buffer,U=Date.now(),y=k.Q(l);
y.fill(128);var a=k.SU.TW(u,K,f);console.log(Date.now()-U);var v={key:D.YU.lV(i),k3:u,rect:d.clone(),DD:K,mJ:f,bn:12,a3N:!1,oq:y,BE:a,J:k.Q(l),uU:null,Bk:null,a0:null};
D.YU.Zr(v);return v};D.YU.Zr=function(i,$){var h=i.DD,d=i.mJ,K=0,f=0,l=Date.now(),u=i.uU!=null&&k.SU.afZ(i.BE.NX,i.uU.NX,i.uU.lg,i.oq);
K=Date.now()-l;l=Date.now();if(!u&&!i.a3N){i.uU=k.SU.Lk(i.BE,h,d,i.oq,i.bn);if(!k.SU.afZ(i.BE.NX,i.uU.NX,i.uU.lg,i.oq)){i.a3N=!0;
console.log("conflict")}i.Bk=k.SU.anp(i.k3,h,d,i.uU.NX,i.uU.lg);i.a0=[i.Bk[0].slice(0),[]];f=Date.now()-l;
l=Date.now()}var l=Date.now();if($){i.a0[0].set(i.Bk[0]);var U=i.Bk[1],y=i.a0[1];for(var a=0;a<U.length;
a++)y[a]=U[a].slice(0);k.SU.aeb(i.uU.NX,h,d,i.uU.lg,i.oq,i.J,i.a0)}};D.QL=function(){D.TK.call(this,[10,50],D.Jl,"tools/artb");
this.ir=null;this.at=!1;this._N=null;this.Uh=!1;this.ayq=null;this.pg=100;this.fc=null;this.gA=0};D.QL.prototype=new D.TK;
D.QL.prototype.d6=function(i,$,h,d,K){this.$B(h,i.apq,$,i.PT)};D.QL.aye=function(i,$){var h=i[0],d=0,K=0;
if(h==0)K=-1;else if(h==1)d=1;else if(h==2)K=1;else d=-1;return[20/$.Zl,i[1]+d*60/$.Zl,i[2]+K*60/$.Zl]};
D.QL.prototype.oi=function(i,$,h,d,K){this.ir=i.J0;this.gA=Date.now()};D.QL.prototype.Qi=function(i,$,h,d){if(h.Kw!=this.id)return;
if(i==null||i.g.length!=1){this.sy(i);return}var K=i.g[0],f=i.B[K],l=f.add.artb;if(l==null){this.sy(i);
return}if(this.Uh)return;if(Date.now()-this.gA>50){this.ir={};var u=["artboardBackgroundType","Clr"];
for(var t=0;t<u.length;t++)if(l[u[t]])this.ir[u[t]]=JSON.parse(JSON.stringify(l[u[t]]));var U=new eU(x.E.k,!0);
U.data={d:x.c.zj,b:this.id,Py:this.ir};$.$(U)}var y=f.Ik(),a=k.p.Hg(y).C,v=this._N=new bR(a,!0,!1,!1,!0,!1,3,!1);
v.Ta(i,h,!1);var c={C:[1,0],H:["M"]};for(var t=1;t<30;t++){var p=Math.PI*2*t/30;c.C.push(Math.cos(p),Math.sin(p));
c.H.push("L")}c.H.push("Z","M","L","M","L");c.C.push(-.5,0,.5,0,0,-.5,0,.5);var C=y.x+y.e/2,T=y.y+y.n/2,E=this.pg*1.1,r=this.ayq=[C,y.y,y.x+y.e,T,C,y.y+y.n,y.x,T],Y=[0,-E,E,0,0,E,-E,0],m=i.root.children;
i.R.rR=[];for(var t=0;t<4;t++){var Q=new cq(r[t*2]+Y[t*2],r[t*2+1]+Y[t*2+1]),z=!1;for(var n=0;n<m.length;
n++){var f=m[n].a;if(f.add.artb==null)continue;var y=f.Ik();if(y.dD(Q))z=!0}if(z){r[t*2]=1e9;continue}i.R.rR.push([t,r[t*2],r[t*2+1]])}};
D.QL.prototype.disable=function(i,$,h,d,K){this.sy(i)};D.QL.prototype.sy=function(i){if(this._N){this._N.clear(i);
this._N=null;i.R.rR=null}};D.QL.prototype.gE=function(i,$,h,d,K){this.gA=Date.now();var f=i.u._x(K.x,K.y),l=this._N;
if(l){var u=new eU(x.E.s),U=l.a8r(null,f,i,K);if(U<9){this.Uh=l.gE(i,h,d,f,null,!0,K);return}else if(l.WK(f)){u.b=D.MW;
u.data={d:"disabAuto"};$.$(u);var y=new eU(x.E.k);y.data={d:x.c.ro,b:D.MW,a7h:!0};$.$(y);return}else{var a=-1,v=i.R.rR;
for(var t=0;t<v.length;t++){var c=D.QL.aye(v[t],i.u);if(cq.ED(f,new cq(c[1],c[2]))<c[0])a=v[t][0]}if(a!=-1){var p=i.B[i.g[0]].Ik(),C=p.clone(),T=(a==0||a==2?p.n:p.e)+this.pg;
if(a==0||a==3)T=-T;if(a==0||a==2)p.y+=T;else p.x+=T;if(d.j(ai.rf)){var E=new bN(0,0,i.e,i.n);u.b=D.$S;
u.data={d:H.kq};$.$(u);D.NN.m8(i,i._8(null,i.g[0],null,!0),null,p.x-C.x,p.y-C.y);var r=D.Xw.Cp(i);if(r){var Y=i.au();
Y.data.bw=E;Y.data.BG=r}i.g=Y.data.mP=i.g.slice(i.g.length-1)}else this.$B(i,p,$);return}}}this.fc=D.NN.pn(i,f,h)};
D.QL.prototype.$B=function(i,$,h,d){if(d==null)d=0;var K=i.B.slice(0),f=[i.B.length+1],l=i.Dw();l.DN(e_.get([1,16,0])+" "+(i.add.artd==null?1:i.root.children.length+1));
l.add.lsct=gX.DU;l.th($);if(this.ir){var u=l.add.artb,U=this.ir;for(var y in U)u[y]=U[y]}l.R$="pass";
l.pM=24;if(d==0){if(i.add.artd||$.Js(new bN(0,0,i.e,i.n)).NT())K.push(i.U4());else K.unshift(i.U4())}else{var a=i._8();
a.sort(function(T,E){return T-E});var v=D.Q4.N9(i,a,K.length-1,!1,null,!1),c=v.pop(),p=v.pop();K=v.pop();
K.splice(i.B.length-a.length,0,i.U4())}K.push(l);var C=new eU(x.E.s);C.b=D.$S;C.data={d:H.ad,mV:K,sG:f,Q8:[1,16,2]};
h.$(C)};D.QL.prototype.Zm=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=this._N,u=this.fc;if(l){if(this.Uh){l.Zm(i,h,d,f)}else{var U=l.lP(f,i.u.N,null,K);
if(U==null)U="default";var y=new eU(x.E.k,!0);y.data={d:x.c.xY,hf:U};$.$(y)}}if(u){var a=this.Tx(i,f,d,h);
i.R.HQ=k.p.Hg(a);i.nU=!0;D.TK.ZO(K,a,i,h)}};D.QL.prototype.IQ=function(i,$,h,d,K){var f=i.u._x(K.x,K.y),l=this.fc;
if(this.Uh){this._N.IQ(i,h,d,f);this.Uh=!1;var u=k.p.DS(this._N.Og()),U=H.Y9(u),y=i.B[i.g[0]],a=JSON.parse(JSON.stringify(y.add.artb));
a.artboardRect.v=U;var v=new eU(x.E.s,!0);v.b=D.$S;v.data={d:H.p4,At:a};$.$(v)}if(l){var c=this.Tx(i,f,d,h);
if(c.O()>20)this.$B(i,c,$);i.R.HQ=null;i.nU=!0;this.fc=null;i.R.B0=[]}};D.QL.prototype.Tx=function(i,$,h,d){var K=this.fc,f=D.NN.pn(i,$,d),l=D.Eq.qi(K,f,h,!0);
K=l[0];f=l[1];return k.p.DS([K.x,K.y,f.x,f.y])};function bR(i,$,h,d,K,f,l,u){this.Ad=null;this.h3=i?i.slice(0):null;
this.RE=4;this.q4=null;this.kb=null;this.w2=null;this.eF=-1;this.pY=null;this.api=!1;this.a1Q=[];for(var t=0;
t<8;t++)this.a1Q.push(em.arP(0,PIMG.rotate,-.5,-.5,-45-t*45));this.avY=$;this.apZ=h;this.ads=d;this.a33=K;
this.re=f;this.PT=l;this.af5=u==null?1:u}bR.prototype.a2M=function(){return this.eF!=-1};bR.prototype.Og=function(){return this.h3.slice(0)};
bR.prototype.x$=function(i){this.h3=i};bR.prototype.aoE=function(){return this.Y4(this.h3)};bR.prototype.a61=function(){return this.RE};
bR.prototype.a30=function(i){this.RE=i};bR.prototype.P3=function(i){if(i==null)i=this.h3;if(this.RE==9)return this.q4;
else return this.Y4(i)[this.RE]};bR.prototype.alc=function(i){if(this.RE==9)this.q4=i.clone();else{var $=this.P3(),h=new ej(1,0,0,1,i.x-$.x,i.y-$.y);
k.p.D(this.h3,h,this.h3)}};bR.prototype.lP=function(i,$,h,d){var K=this.Tt(null,i,$,d),f;if(K==9)return"default";
if(K==10){if(h)return null;return!this.avY?"move":null}if(K==-1||K==4)return null;if(K==11){var l=this.P3().JI(i);
f=90-Math.atan2(l.y,l.x)*180/Math.PI;var u=Math.round(8*(f/360));u=(u+8)%8;return this.a1Q[u]}else{var U=this.fF(i,this.h3);
f=[135,90,45,180,0,0,225,270,315][K];var y=k.K.bS(this.h3);f+=Math.atan2(-y[3],y[0])*180/Math.PI;var a="ew nesw ns nwse ew nesw ns nwse".split(" "),u=Math.round(8*(f/360));
u=(u+8)%8;return a[u]+"-resize"}};bR.prototype.fF=function(i,$){var h=k.K.Sp(k.K.bS($)),d=new Float64Array(2);
k.K.c0(i.x,i.y,h,d);return new cq(d[0],d[1])};bR.prototype.WK=function(i){var $=this.fF(i,this.h3);return 0<=$.x&&$.x<=1&&0<=$.y&&$.y<=1};
bR.prototype.gE=function(i,$,h,d,K,f,l,u){this.api=f;this.pY=d;var U=i.u.N,y;if(this.h3==null)d=D.NN.pn(i,d,$);
this.w2=d.clone();if(this.h3==null){if(u==null)u=0;var a=new ej;a.rotate(u);var v=a.hb(new cq(1,1));
this.w2.offset(v.x,v.y);var c=K==null?1:1/K,p=this.h3=[0,0,1,0,1,c,0,c];a.translate(d.x,d.y);k.p.D(this.h3,a,this.h3);
y=8}else{y=this.Tt(h,d,U,l);if(0<=y&&y<=8)this.w2=this.Y4(this.h3)[y];if(y==9){this.RE=9;this.q4=d.clone()}}this.Ad=this.h3.slice(0);
this.eF=y;this.Ta(i,$);this.kb=this.P3();return y!=-1};bR.prototype.a8r=function(i,$,h,d){return this.Tt(i,$,h.u.N,d)};
bR.prototype.Tt=function(i,$,h,d){var K=-1,f=this.Y4(),l=[0,2,6,8,1,3,5,7],u=d?D.On({u:{N:h}},d):8*D.V()/h,U=cq.ED(f[0],f[2]),y=cq.ED(f[0],f[6]),a=this.fF($,this.h3);
a.x*=U;a.y*=y;var v=new bN(0,0,U,y);v.ol(u,u);if(K==-1)if(cq.ED(this.P3(),$)<u)K=9;if(K==-1)for(var t=0;
t<l.length;t++)if(cq.ED(f[l[t]],$)<u)K=l[t];if(K==-1&&v.dD(a)){if(Math.abs(a.y-0)<u)K=1;if(Math.abs(a.x-0)<u)K=3;
if(Math.abs(a.y-y)<u)K=7;if(Math.abs(a.x-U)<u)K=5}if(K==-1&&i&&i.j(ai.rf))K=9;if(K==-1||this.PT==4){if(this.WK($)){if(this.avY)K=10}else{v.ol(3*u,3*u);
K=v.dD(a)&&this.PT!=3?11:10}}return K};bR.prototype.Zm=function(i,$,h,d,K){if(this.eF==-1)return;this.pY=d;
var f=h.j(ai.EW),l=h.j(ai.rf),u=h.j(ai.PO),U=i.u.N,y=this.w2,a=this.eF,v=this.Y4(),c=D.NN.pn(i,y,$),p=D.NN.pn(i,d,$),C,T;
if(a==9){var v=this.Y4(),E=-1;for(var t=0;t<v.length;t++)if(cq.ED(v[t],p)*U<10)E=t;this.RE=E==-1?9:E;
this.q4=f?D.pK.yc(c,p):p.clone()}else if(a==10){T=k.p.nP(this.Ad);var r=T.x,Y=T.y;T.offset(d.x-y.x,d.y-y.y);
if(this.a4u()){T.x=Math.round(T.x);T.y=Math.round(T.y)}C=D.NN.gz(i,T,$);var S=new ej(1,0,0,1,T.x-r+C[0],T.y-Y+C[1]);
k.p.D(this.Ad,S,this.h3)}else if(a==11){var m=this.P3(this.Ad),Q=m.JI(d),z=m.JI(y),n=Math.atan2(Q.y,Q.x),Z=Math.atan2(z.y,z.x),S=new ej(1,0,0,1,-m.x,-m.y),P=Math.PI/12;
if(f)S.rotate(Math.round((Z-n)/P)*P);else S.rotate(Z-n);S.translate(m.x,m.y);k.p.D(this.Ad,S,this.h3)}else{if(K&&!u)f=!f;
var V,I=this.Ad,q=a==0||a==2||a==6||a==8;if(this.PT==1){if(q)f=l=u=!0}else if(this.PT==2&&q&&this.api!=!0)u=!0;
if(this.PT==3)u=!1;if(this.ads&&q&&u){var t=[0,0,2,0,0,0,6,0,4,0][a],X=-1,B=p.x,e=p.y;if(f){var F=t+6&7,s=t+10&7,J=bR.aap(I[t],I[t+1],I[F],I[F+1],p.x,p.y),W=bR.aap(I[t],I[t+1],I[s],I[s+1],p.x,p.y),L=J[2]<W[2]?J:W;
B=L[0];e=L[1];if(l)X=J[2]<W[2]?F:s}else if(l)X=t+4&7;V=I.slice(0);if(X!=-1){var A=I[X],j=I[X+1],G=(I[t]+A)/2,O=(I[t+1]+j)/2;
V[X]=G-(B-G);V[X+1]=O-(e-O)}V[t]=B;V[t+1]=e}else if(q&&l){var m=this.kb,o=m.x,N=m.y,w=c.x-o,kv=c.y-N,g=1,b=1;
if(Math.abs(w)>=1)g=(p.x-o)/w;if(Math.abs(kv)>=1)b=(p.y-N)/kv;if(f||this.re)g=b=(g+b)/2;var S=new ej;
S.translate(-o,-N);S.scale(g,b);S.translate(o,N);V=I.slice(0);k.p.D(V,S,V)}else{if(this.a4u()){p.x=Math.round(p.x);
p.y=Math.round(p.y)}var jU=[0,1,2,5,8,7,6,3],_=jU[(jU.indexOf(a)+4)%8],cY=[];for(var t=0;t<3;t++)for(var X=0;
X<3;X++)cY.push(new cq(X/2,t/2));var m=this.kb,j3=this.fF(p,I),aS=this.fF(y,I),bL=l&&(this.RE==4||this.RE==9)?this.fF(m,I):cY[_],cQ=new ej,cK=new ej,g=(j3.x-bL.x)/(aS.x-bL.x);
if(g==0)g=1e-4;var b=(j3.y-bL.y)/(aS.y-bL.y);if(b==0)b=1e-4;if(this.a33){g=Math.max(g,0);b=Math.max(b,0)}if(a==0||a==2||a==6||a==8){if(f||this.re)cQ.scale(g,g);
else cQ.scale(g,b)}if(a==1||a==3||a==5||a==7){var el=this.re||f,gF=u&&f;if(a==1||a==7)cQ.scale(el?b:1,gF?1:b);
else cQ.scale(gF?1:g,el?g:1);if(this.apZ&&u){if(a==1||a==7)cK.sl=(j3.x-bL.x)/(j3.y-bL.y);else cK.Z=(j3.y-bL.y)/(j3.x-bL.x)}}var S=new ej;
S.translate(-bL.x,-bL.y);S.concat(cQ);S.concat(cK);S.translate(bL.x,bL.y);V=[0,0,1,0,1,1,0,1];k.p.D(V,S,V);
var L=k.K.bS(I);k.K.D(L,V)}if(bR.vc(V))this.h3=V}this.Ta(i,$);if(C)D.NN.hQ(i,T,C)};bR.aap=function(i,$,h,d,K,f){var l=h-i,u=d-$,U=K-i,y=f-$,a=l*l+u*u,v=U*l+y*u,c=v/a,p=i+c*l,C=$+c*u,T=K-p,E=f-C;
return[p,C,Math.sqrt(T*T+E*E)]};bR.prototype.a4u=function(){var i=this.h3;return Math.abs(i[1]-i[3])<1e-6&&Math.abs(i[2]-i[4])<1e-6||Math.abs(i[0]-i[2])<1e-6&&Math.abs(i[3]-i[5])<1e-6};
bR.vc=function(i){return k.p.gK(i)||k.p.gK([i[6],i[7],i[4],i[5],i[2],i[3],i[0],i[1]])};bR.prototype.IQ=function(i,$,h,d){this.eF=-1;
this.pY=null;i.R.TM=null;i.R.B0=[];i.nU=!0};bR.prototype.PS=function(i,$,h){var d=h.j$();if(d.x||d.y){var K=new ej(1,0,0,1,d.x,d.y);
k.p.D(this.h3,K,this.h3);this.Ta(i,$);return!0}return!1};bR.prototype.Y4=function(i){if(i==null)i=this.h3;
var $=i[6]-i[0],h=i[7]-i[1],d=i[4]-i[2],K=i[5]-i[3],f=[i[0],i[1],i[2],i[3],i[0]+$/2,i[1]+h/2,i[2]+d/2,i[3]+K/2,i[6],i[7],i[4],i[5]],l=[];
for(var t=0;t<3;t++){var u=t*4,U=f[u+0],y=f[u+1],a=f[u+2],v=f[u+3];l.push(new cq(U,y));l.push(new cq(U+(a-U)/2,y+(v-y)/2));
l.push(new cq(a,v))}return l};bR.prototype.Ta=function(i,$,h){if(h==null)h=!1;var d=this.Y4(),K=d[0],f=d[2],l=d[6],u=d[8];
i.R.HQ={H:[],C:[]};i.R.HQ.H.push("M","L","L","L","Z");i.R.HQ.C.push(K.x,K.y,f.x,f.y,u.x,u.y,l.x,l.y);
var U=this.af5;if(U>1){i.R.qe=JSON.parse(JSON.stringify(i.R.HQ));var y=f.JI(K),a=l.JI(K),v=u.JI(f),c=u.JI(l);
for(var t=1;t<U;t++){i.R.HQ.H.push("M","L","M","L");var p=t/U;i.R.HQ.C.push(K.x+y.x*p,K.y+y.y*p,l.x+c.x*p,l.y+c.y*p);
i.R.HQ.C.push(K.x+a.x*p,K.y+a.y*p,f.x+v.x*p,f.y+v.y*p)}}i.u.Br=new bN(0,0,cq.ED(d[0],d[2]),cq.ED(d[0],d[6]));
if(this.eF!=-1&&this.eF<9&&this.pY){var C=i.u.cV(this.pY.x,this.pY.y);D.TK.ZO(C,i.u.Br,i,$)}if(!h){i.R.xX=[];
for(var t=0;t<d.length;t++)if(t!=4)i.R.xX.push(d[t].x,d[t].y);var T=this.P3();i.R.xX.push(T.x,T.y)}i.nU=!0};
bR.prototype.clear=function(i){i.u.Br=null;i.R.TM=null;i.R.HQ=null;i.R.qe=null;i.R.xX=[];i.nU=!0};function f5(i,$){this.O$=null;
this.eF=-1;this.agH(i)}f5.prototype.II=function(){return JSON.parse(JSON.stringify(this.O$))};f5.prototype.agH=function(i){this.O$=JSON.parse(JSON.stringify(i))};
f5.prototype.WK=function(i){return!0};f5.prototype.lP=function(i,$,h,d){var K=this.Tt(i,$,d);if(K==-1)return"default";
return"pointer"};f5.prototype.gE=function(i,$,h,d,K,f,l){this.eF=this.Tt(d,i.u.N,l);return this.eF!=-1};
f5.prototype.Tt=function(i,$,h){var d=this.ahO(),K=-1,f=1e6;for(var t=0;t<d.length;t++){var l=cq.ED(d[t],i);
if(l<f){K=t;f=l}}return f<(h?D.On({u:{N:$}},h)*2:20*D.V()/$)?K:-1};f5.prototype.Zm=function(i,$,h,d){if(this.eF==-1)return;
var K=i.u.N,f=this.eF,l=k.O$.A2(this.O$);l[f*2]=d.x;l[f*2+1]=d.y;k.O$.y7(l,this.O$)};f5.prototype.IQ=function(i,$,h,d){this.eF=-1;
i.nU=!0};f5.prototype.PS=function(i,$,h){var d=h.j$();if(d.x||d.y){var K=new ej(1,0,0,1,d.x,d.y);k.p.D(this.h3,K,this.h3);
this.Ta(i)}};f5.prototype.ahO=function(i){var $=k.O$.A2(this.O$),h=[];for(var t=0;t<$.length;t+=2)h.push(new cq($[t],$[t+1]));
return h};f5.prototype.Ta=function(i){var $=this.ahO();i.R.HQ={H:[],C:[]};i.R.HQ.H.push("M","C","C","C","C");
var h=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var t=0;t<h.length;t++)i.R.HQ.C.push($[h[t]].x,$[h[t]].y);
i.R.HQ.H.push("M","L","L","M","L","L","M","L","L","M","L","L");h=[4,0,1,2,3,7,11,15,14,13,12,8];for(var t=0;
t<h.length;t++)i.R.HQ.C.push($[h[t]].x,$[h[t]].y);i.R.xX=[];for(var t=0;t<$.length;t++)i.R.xX.push($[t].x,$[t].y);
i.nU=!0};f5.prototype.clear=function(i){i.R.HQ=null;i.R.xX=[];i.nU=!0};function j$(){this.ic=!1;this.Ax=!1;
this.a4g=!1;this.af4=!1;this.Vi=!1;this.Rk=!1;this.Er=0;this.XT=0}j$.prototype.gE=function(i){this.ic=!0;
this.Ax=!1;this.Vi=i.j(ai.EW);this.Rk=i.j(ai.rf);this.Er=this.Vi?0:1;this.XT=this.Rk?0:1};j$.prototype.PS=function(i){var $=this.af4=i.j(ai.EW),h=this.a4g=i.j(ai.rf);
if(this.Ax){if(this.Er==0&&!$)this.Er++;if(this.Er==1&&$)this.Er++;if(this.XT==0&&!h)this.XT++;if(this.XT==1&&h)this.XT++}};
j$.prototype.Zm=function(){this.Ax=!0};j$.prototype.IQ=function(){this.ic=!1};j$.prototype._O=function(t){if(t==0)return this.ic?this.Rk:this.a4g;
if(t==1)return this.Ax?this.XT==2:!1};j$.prototype.yF=function(t){if(t==0)return this.ic?this.Vi:this.af4;
if(t==1)return this.Ax?this.Er==2:!1};D.History=function(){D.TK.call(this,"History",D.BL);this.We=!0;
this.akr=0};D.History.prototype=new D.TK;D.History.prototype.d6=function(i,$,h,d){h.u6=!0;if(i.d=="h_itemchange"){if(i.index<h.oD)for(var t=h.oD;
t>i.index;t--)this.js(h);if(i.index>h.oD)for(var t=h.oD;t<i.index;t++)this.wZ(h)}if(i.d=="h_stepfwd")this.wZ(h);
if(i.d=="h_stepbck")this.js(h);if(i.d=="h_undoredo"){var K=this.We||this.akr!=h.oD;if(K){this.js(h);
K=!1}else{this.wZ(h);K=!0}this.We=K;this.akr=h.oD}if(i.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
h.history=[new dS([1,0],null)];h.oD=0}else this.We=!0};D.History.prototype.js=function(i){if(i.oD==0)return;
var $=i.history[i.oD];$.b.RU($.data,i);i.oD--};D.History.prototype.wZ=function(i){if(i.oD==i.history.length-1)return;
var $=i.history[i.oD+1];$.b.Oi($.data,i);i.oD++};D.Q4=function(){D.TK.call(this,"Layers",D.$S);this.DR=null};
D.Q4.prototype=new D.TK;D.Q4.prototype.d6=function(i,$,h,d,K){this.DR=$;var f=i.d,l=i.a!=null?i.a:h.g.length!=0?h.g[0]:h.B.length-1,u=h.B[l];
h.$x=!0;var U=d.j(ai.rf),y=d.j(ai.EW),a=d.j(ai.PO);if(f==H.vd&&h.J==null&&(h.g.length>1||!h.EX(!1)))f=H.kq;
if(f==H.L0){var v=new dS([6,33],this),c=u.BT()?["pass"].concat(ca.bj):ca.bj,p=c[i.gj],C=i.a!=null?[i.a]:h.g,T=JSON.stringify(C),E=[];
for(var t=0;t<C.length;t++)E.push(h.B[C[t]].R$);v.data={d:f,o5:T,Mj:E,gj:p};h.JY(v);this.Oi(v.data,h);
this.track(jV.FU("Md",{t:"enum",v:{BlnM:ca.ml(p)}}))}if(f==H.PW){var v,r=h.au(),C=i.a!=null?[i.a]:h.g,T=JSON.stringify(C);
if(r&&r.data&&r.data.d==f&&r.data.o5==T)v=r;else{var Y=jV.FU("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(Y);var E=[];for(var t=0;t<C.length;t++)E.push(h.B[C[t]].opacity);v=new dS([6,32],this);v.data={d:f,o5:T,Mj:E,gj:i.gj,gt:Y.B6};
h.JY(v)}v.data.gj=i.gj;v.data.gt.T.v.Opct.v.val=Math.round(i.gj*100/255);this.Oi(v.data,h)}if(f==H.Bh){if(u.add.iOpa==null)u.add.iOpa=255;
var v,r=h.au();if(r&&r.data&&r.data.d==f&&r.data.a==l)v=r;else{v=new dS("Fill Opacity Change",this);
v.data={d:f,a:l,Mj:u.add.iOpa,gj:i.gj};h.JY(v)}v.data.gj=i.gj;this.Oi(v.data,h)}if(f==H.ex){var S=i.gj,m=i.a!=null?[i.a]:h.g.slice(0),Q=[],z=[],v;
for(var n=0;n<m.length;n++){var Z=h.B[m[n]];if(Z.add.lspf==null)Z.add.lspf=0;var E=Z.add.lspf,p=E;for(var t=0;
t<S[0].length;t++){var P=S[1][t],V=1<<P;if((p&V)==0&&S[0][t])p^=V;else if((p&V)!=0&&!S[0][t])p^=V}Q.push(E);
z.push(p)}var r=h.au(),C=JSON.stringify(m);if(r&&r.data&&r.data.d==f&&JSON.stringify(r.data.o5)==C){v=r;
v.data.gj=z}else{var v=new dS([6,57,1],this);v.data={d:f,o5:C,Mj:Q,gj:z};h.JY(v)}this.Oi(v.data,h)}if(f==H.fi){var I="----",q=i.bf,p=null;
for(var t=0;t<e5._Y.ox.length;t++)if(u.add[e5._Y.ox[t]])I=e5._Y.ox[t];var X=u.add[I];if(q=="TySh")p=jP.Aj(50,50,K.ta);
var v=new dS("Layer Type",this);v.data={d:f,a:l,ay8:[I,X],bf:[q,p]};h.JY(v);this.Oi(v.data,h)}if(f==H.Ja){var m=[];
if(U){var B=h.au(),e=B?B.data:null;if(B!=null&&B.b==this&&e.d==H.Ja&&e.o5.length!=1){var F=new eU(x.E.s);
F.b=D.BL;F.data={d:"h_stepbck"};$.$(F);if(e.a==l)return}var s=h.root.$p(l),J=h._8(null,l);while(s.parent!=h.root){J.push(s.parent.index);
s=s.parent}for(var t=0;t<h.B.length;t++){var W=h.B[t],L=W.ji(),A=J.indexOf(t)!=-1;if(!A&&L)m.push(t);
if(t==l&&!L)m.push(t)}}else if(i.o5)m=i.o5;else{m.push(l);var L=h.B[l].ji(),Y={Fs:L?"hide":"show",B6:{classID:L?"Hd":"Shw",null:{t:"VlLs",v:[jV.uf("Lyr",!0)]}}};
this.track(Y)}var v=new dS("Layer visibility",this,!0);v.data={d:f,o5:m,a:l};h.JY(v);this.Oi(v.data,h)}if(f==H.P_){if(K.Kw==D.Jl){var j=new eU(x.E.k);
j.data={d:x.c.ro,b:D.MW};$.$(j)}var G=i.a7l,O=i.P$,w,escape=!1,kv=!1;if(i.qU){if(a&&(O==0||O==1||O==2)){var o=0;
if(y)o++;if(U)o+=2;var N=new eU(x.E.s,!0);N.b=D.oN;N.data={d:"fromlayer",ZP:[i.a,O,o]};$.$(N);return}}var Y={Fs:"select",B6:{classID:"null",MkVs:{t:"bool",v:!1}}};
h.a6j();if(d.j(ai.PO)||i.xd==0){var g=h.g.indexOf(l);if(g==-1)h.g.push(l);else if(h.g.length>1){if(i.xd!=0)h.g.splice(g,1)}h.g.sort(function(v,fc){return v-fc});
Y.B6.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};w=l}else if(y&&!U&&O>0){f=O==1?H.M2:O==2?H.dg:H.ay;
escape=!0}else if((y||i.xd==1)&&h.g.length>0){var b=Math.min(l,h.g[0]),jU=Math.max(l,h.g[h.g.length-1]);
h.g=[];for(var t=b;t<=jU;t++)if(h.B[t].add.lsct!=gX.ZH)h.g.push(t);Y.B6.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
w=l}else{w=l;if(l>=h.B.length)return;var W=h.B[l];if(W&&W.BT()&&i.a66)W.add.lsct=gX.DU;else if(h.g.length==1&&h.g[0]==l&&Math.max(0,O)==W.Tu){kv=!0;
h.$x=!1}if(!kv){h.g=[l];h.dU()}}if(!kv){if(w!=null&&w<h.B.length){Y.B6.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:h.B[w].getName()}}]},this.track(Y)}if(!escape){console.log("no escape");
if(h.g.length==1){var _=h.g[0];for(var t=0;t<h.B.length;t++){if(t==_)continue;var Z=h.B[t];Z.Tu=0;Z.fx=!1}var u=h.B[_];
if(O==2){u.fx=!u.fx;h.LK=[]}else if(u){u.Tu=O<=0?0:O}}else for(var t=0;t<h.B.length;t++){var Z=h.B[t];
Z.Tu=0;Z.fx=!1}h.$H=null;h.u6=!0}}if(i.qU&&U){if((O==1||O==3)&&G!=null){var N=new eU(x.E.s,!0);N.b=D.VB;
N.data={d:"mskView",L:G!=0?0:y?1:2};$.$(N)}else{this.d6({d:H.bx,a:i.a},$,h,d,K)}}}if(f==H.M2||f==H.ay){var cY=f==H.M2,j3=cY?u.MQ():u.Hi(h).z;
if(j3==null)return;var v=new dS(j3.isEnabled?cY?[6,15]:[6,42]:cY?[6,14]:[6,41],this);v.data={d:f,a:l};
h.JY(v);this.Oi(v.data,h)}if(f==H.dg){var j3=u.add.vmsk;if(j3==null)return;var v=new dS(j3.isEnabled?[6,17]:[6,16],this);
v.data={d:f,a:l};h.JY(v);this.Oi(v.data,h)}if(f==H.anu){var aS=u.add.lsct==gX.DU?gX.qC:gX.DU,s=h.root.$p(h.B.indexOf(u)),cK=!1;
console.log(s);if(d.j(ai.PO)){var bL=s.parent;for(var t=0;t<bL.children.length;t++){var cQ=bL.children[t].a;
if(cQ.BT())cQ.add.lsct=aS}}else u.add.lsct=aS;for(var t=0;t<h.g.length;t++){var el=h.g[t];if(s.tH<el&&el<s.index)cK=!0}if(cK)h.g=[s.index];
h.u6=!0}if(f==H.bx){if(!h.z0(l))return;var v=new dS(u.sD?[6,19]:[6,18],this);v.data={d:f,a:l};h.JY(v);
if(i.gj==null||i.gj!=u.sD)this.Oi(v.data,h)}if(f==H.aje){if(u.TQ())u.pM-=32;else u.pM+=32;h.u6=!0}if(f==H.YC||f==H.dz){var v;
if(f==H.YC)v=new dS(u.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(f==H.dz)v=new dS(u.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
v.data={d:f,a:l};h.JY(v);this.Oi(v.data,h)}if(f==H.$i||f==H.K4){var _=i.index,v;if(f==H.$i)v=new dS(u.add.lmfx[et.CE[_[0]]].v[_[1]].v.enab.v?[6,30]:[6,29],this);
if(f==H.K4)v=new dS(u.add.SoLd.filterFX.v.filterFXList.v[_].v.enab.v?[6,44]:[6,43],this);v.data={d:f,a:l,index:i.index};
h.JY(v);this.Oi(v.data,h)}if(f==H.X4){if(i.src==i.pW)return;var gF=h.B[i.src],fj=h.B[i.pW],i3=gF.add.lmfx?JSON.stringify(gF.add.lmfx):"",eT=fj.add.lmfx?JSON.stringify(fj.add.lmfx):"";
if(fj.add.lmfx==null){fj.add.lmfx=JSON.parse(et.default);for(var t=0;t<et.order.length;t++)fj.add.lmfx[et.CE[t]]={t:"VlLs",v:[]}}if(i.dC==null){fj.add.lmfx=JSON.parse(i3);
if(!U)delete gF.add.lmfx}else{var eV=i.dC[0],hr=et.CE[eV];if(et.aen.indexOf(et.order[eV])==-1)fj.add.lmfx[hr].v=[];
fj.add.lmfx[hr].v.push(gF.add.lmfx[hr].v[i.dC[1]]);if(!U)gF.add.lmfx[hr].v.splice(i.dC[1],1)}var it=gF.add.lmfx?JSON.stringify(gF.add.lmfx):"",f8=fj.add.lmfx?JSON.stringify(fj.add.lmfx):"";
if(!fj.TQ())fj.pM+=32;var v=new dS("Move Layer Styles",this);v.data={d:f,uG:i.src,bt:i.pW,aqL:i3,aa5:eT,axa:it,al$:f8};
h.JY(v);this.Oi(v.data,h)}if(f==H.Vt){if(i.src!=null)l=i.src;var Z=h.B[l],i$=JSON.stringify(Z.add.SoLd),gS=JSON.parse(i$),hT=gS.filterFX.v.filterFXList.v;
hT.splice(i.dC,1);var v=new dS([6,53],this);v.data={d:H.U8,HZ:[{oG:l,qy:[i$,JSON.stringify(gS)]}]};h.JY(v);
this.Oi(v.data,h)}if(f==H.aeh){var gL=U,gF=h.B[i.src],fj=h.B[i.pW],iu=[];if(gF!=fj&&fj.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(gF==fj&&!gL&&(i.dC==i.gq||i.dC==-1))return;var dB=gF.Hi(h),i$=JSON.stringify(gF.add.SoLd),gS=JSON.parse(i$),hT=gS.filterFX.v.filterFXList.v;
if(gF==fj){hT.splice(i.gq,0,hT[i.dC]);if(!gL)hT.splice(i.dC+(i.dC<i.gq?0:1),1);iu.push({oG:i.src,qy:[i$,JSON.stringify(gS)]})}else if(i.dC==-1){var jt=gS.filterFX;
if(!gL){delete gS.filterFX;iu.push({oG:i.src,qy:[i$,JSON.stringify(gS)],rq:[dB,null]})}var ka=fj.Hm()?fj.Hi(h):null,eQ=hR.aoB(dB),dv=JSON.stringify(fj.add.SoLd),cT=JSON.parse(dv);
cT.placed.v=eQ.id;cT.filterFX=jt;iu.push({oG:i.pW,qy:[dv,JSON.stringify(cT)],rq:[ka,eQ]})}else{var eY=hT[i.dC];
if(!gL){hT.splice(i.dC,1);iu.push({oG:i.src,qy:[i$,JSON.stringify(gS)]})}var dv=JSON.stringify(fj.add.SoLd),cT=JSON.parse(dv);
if(cT.filterFX==null)cT.filterFX=d1.as();var gl=cT.filterFX.v.filterFXList.v;gl.splice(i.gq,0,eY);var dY={oG:i.pW,qy:[dv,JSON.stringify(cT)]};
if(!fj.Hm()){var eQ=hR.amL(fj.add.SoLd.placed.v);dY.rq=[null,eQ]}iu.push(dY)}var v=new dS([6,52],this);
v.data={d:H.U8,HZ:iu};h.JY(v);this.Oi(v.data,h)}if(f==H.RX){var j3=u.MQ(),v=new dS(j3.sE?[6,26]:[6,25],this);
v.data={d:f,a:l};h.JY(v);this.Oi(v.data,h);this.track({Fs:"set",B6:{classID:"setd",null:{t:"obj ",v:[jV.uf("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:j3.sE}}}}})}if(f==H._g){var j3=u.add.vmsk,v=new dS(j3.sE?[6,28]:[6,27],this);
v.data={d:f,a:l};h.JY(v);this.Oi(v.data,h)}if(f==H.$m){var v=new dS("Variables / Datasets",this),gE=JSON.stringify([h.H0,h.OH]);
if(gE==i.L)return;v.data={d:f,amt:gE,a62:i.L};h.JY(v);this.Oi(v.data,h)}if(f==H.$K){var cs=[],v;for(var t=0;
t<h.g.length;t++){var n=h.g[t],W=h.B[n];if(W.add.vogk)cs.push(n,JSON.stringify(W.add.vogk))}for(var t=0;
t<h.LK.length;t++){var n=h.LK[t],W=h.w3[n];if(W.add.vogk)cs.push(-1-n,JSON.stringify(W.add.vogk))}k.X.apW(h,i.L,i.abD);
var au=[];for(var t=0;t<h.g.length;t++){var n=h.g[t],W=h.B[n];if(W.add.vogk)au.push(n,JSON.stringify(W.add.vogk))}for(var t=0;
t<h.LK.length;t++){var n=h.LK[t],W=h.w3[n];if(W.add.vogk)au.push(-1-n,JSON.stringify(W.add.vogk))}var r=h.au();
if(r&&r.data&&r.data.d==f){var b8=!0;for(var t=0;t<cs.length;t+=2)if(cs[t]!=r.data._A[t])b8=!1;if(b8){v=r;
v.data.oB=au}}if(v==null){var v=new dS([12,91,1],this);v.data={d:f,_A:cs,oB:au};h.JY(v)}this.Oi(v.data,h)}if(f==H.p4){var jw=JSON.stringify(u.add.artb),ek=JSON.stringify(i.At),v;
h.B[l].add.artb=JSON.parse(ek);var cj=new bN(0,0,h.e,h.n),jJ=D.Xw.SK(h),r=h.au();if(r&&r.data&&r.data.d==f&&r.data.a==l){v=r;
v.data.At=ek}if(v==null){var v=new dS("Editing Artboard",this);v.data={d:f,a:l,aaH:jw,At:ek,bw:cj};h.JY(v)}v.data.BG=jJ;
this.Oi(v.data,h)}if(f==H.hV){var au=h.kY.slice(0),hp=h.o7.slice(0),dW=h.J,h4=h.J;if(i.vC=="fromAction"){var er=i.L.Fs,hG=i.L.B6;
if(er=="make"||er=="duplicate"){var i_=au.length,bG=!1,dx=!1;if(h.Z7())i_--;var aK=new H.k$;aK.name="Alpha "+(i_+1);
if(er=="make"){var aH=hG.Nw.v;aK.color=255;hp=[i_];aK.$$=!0;aK.Gu=aH.Opct.v;if(aH.Nm)aK.name=aH.Nm.v;
if(aH.classID=="SCch"){bG=!0;h4=null;aK.Ww=1}}else{var cU=hG.null.v[0].v;if(cU.keyID=="fsel")bG=!0;else{var kr=D.n1.a6p(h);
h4=D.n1.ak8(h,kr);aK.color=0;aK.rect=h4.rect;aK.channel=h4.channel}}if(bG){aK.color=0;if(h.J){aK.rect=h.J.rect.clone();
aK.channel=h.J.channel.slice(0)}if(dx){aK.color=255-aK.color;k.Sp(aK.channel)}}au.splice(i_,0,aK)}else if(er=="delete"){if(u&&u.MQ()&&u.Tu==1){this.d6({d:H.z4},$,h,d,K);
return}var J=h.o7;J.sort(function(v,fc){return fc-v});if(J.length==0)return;for(var t=0;t<J.length;t++)au.splice(J[t],1);
hp=[]}else if(er=="hide"){au[hp[0]]=au[hp[0]].clone();au[hp[0]].$$=!1}}if(i.vC=="rnm"){au[i.zH]=au[i.zH].clone();
au[i.zH].name=i.name}var v=new dS("Channel Edit",this);v.data={d:f,_A:h.kY.slice(0),If:h.o7.slice(0),oB:au,My:hp,dF:dW,sG:h4};
this.Oi(v.data,h);h.JY(v)}if(f==H.ad){var cL=new bN(0,0,h.e,h.n),v=new dS(i.Q8,this);v.data={d:H.ad,bb:h.B.slice(0),mV:i.mV,O2:h.g.slice(0),mP:i.sG};
h.JY(v);this.Oi(v.data,h);var aj=D.Xw.Cp(h);if(aj){v.data.bw=cL;v.data.BG=aj}}if(f==H.c1){var js=h._8(null,i.a),dr=1e10;
if(js.length==0)return;if(h.B.length==js.length){alert("Project must have at least 1 layer");return}var ey=[];
for(var t=0;t<h.B.length;t++)if(js.indexOf(t)==-1)ey.push(h.B[t]);for(var t=0;t<js.length;t++)dr=Math.min(dr,js[t]);
dr=Math.max(dr-1,0);while(ey[dr].name=="</Layer group>")dr++;this.track({Fs:"delete",B6:{classID:"Dlt",null:jV.uf("Lyr",!0)}});
var cj=new bN(0,0,h.e,h.n),v=new dS([6,31],this);v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:[dr]};
h.JY(v);this.Oi(v.data,h);var jJ=D.Xw.SK(h);if(jJ){v.data.BG=jJ;v.data.bw=cj;D.Xw.Cp(h)}}if(f==H.aa){if(!d.j(ai.EW))return;
var v=new dS("Switch Layer Link",this);v.data={d:f,a:i.a};h.JY(v);this.Oi(v.data,h)}if(f==H.y0){var J=i.ag2?i.ag2:h.g,df=0,iq=!1;
if(J.length==0)return;if(J.length==1&&h.B[J[0]].nM==0){alert(e_.get([15,7,5]));return}var af=[];for(var t=0;
t<h.B.length;t++){var cB=h.B[t].nM;af.push(cB);df=Math.max(df,cB)}var cV=-1,gf=-1;for(var t=0;t<J.length;
t++){var cB=h.B[J[t]].nM;if(cB==0)iq=!0;else if(cV==-1||cV==cB)cV=cB;else gf=cB}if(!iq)for(var t=0;t<J.length;
t++)h.B[J[t]].nM=0;else if(cV!=-1&&gf==-1)for(var t=0;t<J.length;t++)h.B[J[t]].nM=cV;else for(var t=0;
t<J.length;t++)h.B[J[t]].nM=df+1;var ge=[];for(var t=0;t<h.B.length;t++){var cB=h.B[t].nM;if(ge[cB]==null)ge[cB]=0;
ge[cB]++}for(var t=0;t<h.B.length;t++){var cB=h.B[t].nM;if(ge[cB]==1)h.B[t].nM=0}var da=af;af=[];for(var t=0;
t<h.B.length;t++){var cB=h.B[t].nM;af.push(cB);df=Math.max(df,cB)}var v=new dS(iq?[6,54,0]:[6,54,1],this);
v.data={d:H.y0,a1k:da,alh:af};h.JY(v);this.Oi(v.data,h)}if(f==H.kq&&(i.a!=null||h.g.length!=0)||f==H.Gl){var aO=h.gM(f==H.kq?i.a:l,null,i.a06),eb;
if(f==H.Gl){var Z=aO[0],er=Z.add.SoLd.Idnt.v,ag=h.rV(er).clone();Z.add.SoLd.Idnt.v=ag.$0=hR.Mf()+er.slice(8);
h.add.lnk2.push(ag)}if(f==H.kq){var dX={Fs:"duplicate",B6:{classID:"null",null:jV.uf("Lyr",!0)}};if(i.wo){aO[0].DN(i.wo);
dX.Nm={t:"TEXT",v:i.wo}}this.track(dX);i.atV=i.a}f=H.Ux;i.B=aO;i.ve=h;i.Kl=h}if(f==H.Ux){var gP,cm,gO=i.ve,bO=i.Kl,ci=0,jq=0,dL=!1,a5,fh=0,he=0;
if(gO!=bO){console.log("ADDLAYERS different projs");var gP=new bN(0,0,gO.e,gO.n),cm=new bN(0,0,bO.e,bO.n),gb=[],dk=[];
for(var t=0;t<i.B.length;t++){var Z=i.B[t];if(Z.add.SoLd==null)continue;var er=Z.add.SoLd.Idnt.v;if(gb.indexOf(er)==-1){gb.push(er);
dk.push(hR.Mf()+er.slice(8))}Z.add.SoLd.Idnt.v=dk[gb.indexOf(er)];var dB=Z.Hi(gO);if(dB){gO.Ro(dB);bO.G6(dB)}}if(gb.length>0){if(bO.add.lnk2==null)bO.add.lnk2=[];
for(var t=0;t<gb.length;t++){var cw=gO.rV(gb[t]),ag=cw.clone();ag.$0=dk[t];bO.add.lnk2.push(ag)}}}var dW=bO.g.slice(0);
dW.sort(function(v,fc){return v-fc});var ey=bO.B.slice(0),h4=[],gN=-1;for(var t=0;t<dW.length;t++)gN=Math.max(gN,dW[t]);
if(i.atV!=null)gN=i.atV;var ea=gO.ii();if(i.Ff){gN=i.Ff-1;var kc=bO.B[i.Ff].Ik();ci+=kc.x;jq+=kc.y}if(ea!=-1&&(gO!=bO||i.Ff)){var jE=gO.B[ea].Ik();
ci-=jE.x;jq-=jE.y}var hc=bO.KG();gN++;for(var t=0;t<i.B.length;t++){var W=i.B[t],dd=W.add.artb;ey.splice(gN,0,W);
h4.push(gN);gN++;if(dd){a5=!0;var a2=dd.guideIndeces;if(a2){a2=a2.v;console.log(a2);for(var aW=0;aW<a2.length;
aW++){hc[0].push(gO.C9[a2[aW].v].slice(0));hc[1].push(ey.indexOf(W));dL=!0}}}}for(var t=0;t<i.B.length;
t++){var W=i.B[t];if(W.add.lsct==gX.ZH){if(fh==0)he++;fh++}else if(W.BT())fh--}if(he==1)h4=[gN-1];var v=new dS([6,0],this);
v.data={d:H.ad,bb:bO.B.slice(0),mV:ey,O2:dW,mP:h4};if(dL){v.data.dy=[bO.KG(),hc]}bO.JY(v);this.Oi(v.data,bO);
if(ci!=0||jq!=0)D.NN.m8(bO,bO._8(),null,ci,jq);if(a5){v.data.bw=new bN(0,0,bO.e,bO.n);v.data.BG=D.Xw.SK(bO);
D.Xw.Cp(bO)}}if(f==H.a8D){var g$=i.a!=null?[i.a]:h._8(),ey=h.B.slice(0);for(var t=0;t<g$.length;t++){var W=h.B[g$[t]].clone();
W.IB(h);ey.splice(g$[t],1,W)}var v=new dS([6,8],this);v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:h.g.slice(0)};
h.JY(v);this.Oi(v.data,h)}if(f==H.aeF){var ey=h.B.slice(0),W=ey[h.g[0]]=ey[h.g[0]].clone(),gd=W.add.lmfx,dn,kc;
delete W.add.lmfx;var g5=h.g[0],g_=g5+1;if(W.BT()){var cC=h.B[h.g[0]].A0;kc=cC.alC;dn=cC.sk;var s=h.root.$p(g5);
g5=s.tH}else{kc=W.rect;dn=k.Q(kc.O());k.pO(W.buffer,dn,3)}var gC=eN.KZ(gd,W.add.fxrp,dn,kc,h,kc).type;
for(var t=0;t<et.order.length;t++){var ba=et.order[t],dy=gC[ba];dy.reverse();for(var aW=0;aW<dy.length;
aW++){var iH=dy[aW],C=h.Dw(),cc=t>7;if(ba=="ebbl"){if(iH.Bf||iH.C5){var a3=iH.Bf?iH.Bf:iH.C5;if(iH.Bf)delete iH.Bf;
else delete iH.C5;if(iH.C5||iH.sb)aW--}else if(iH.sb||iH.yw){var a3=iH.yw?iH.yw:iH.sb;if(iH.yw){delete iH.yw;
if(iH.sb)aW--}cc=!0}iH=a3}C.R$=iH.eV;C.opacity=Math.round(255*iH.QP);C.buffer=iH.Yz;C.rect=iH.G_.clone();
C.rect.offset(kc.x,kc.y);if(ba=="FrFX"){C.buffer=C.buffer.slice(0);k.k1(iH.hd?iH.hd:iH.oJ,C.buffer,3);
if(iH.hd){cc=!0;delete iH.hd;if(iH.oJ)aW--}}C.sD=!cc;C.DN(W.getName()+"'s "+e_.get(et.names[t]));ey.splice(cc?g5:g_,0,C);
if(cc)g_++}}var v=new dS("Styles to Layers",this);v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:[g_-1]};
h.JY(v);this.Oi(v.data,h)}if(f==H.lH){var g$=h._8(),ey=h.B.slice(0),jN=new bN(0,0,h.e,h.n);for(var t=0;
t<g$.length;t++){var cH=h.B[g$[t]],d9=cH.ji();cH.DJ(!0);var ab=h.root.$p(g$[t]);if(cH.BT())continue;
if(ab==null)continue;var W=cH.clone();W.IB(h);var cz=ab.bL(h,!0),bl=h.B;h.Lq([cH]);h.U();h.kX();W.buffer=k.Q(cz.O()*4);
k.mC(h.Fy(),jN,W.buffer,cz);W.rect=cz;W.opacity=255;W.add.iOpa=255;W.R$="norm";W.U();W.A0.lx=!0;h.Lq(bl);
if(W.add.lmfx)delete W.add.lmfx;W.z=W.oe=null;ey.splice(g$[t],1,W);W.DJ(d9);cH.DJ(d9)}var v=new dS([6,34],this);
v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:h.g.slice(0)};h.JY(v);this.Oi(v.data,h)}if(f==H.atR){var g$=h._8(),ey=h.B.slice(0);
for(var t=0;t<g$.length;t++){var W=h.B[g$[t]],jK=W.add.TySh;if(jK==null)continue;var Z=new kd(jK.$D,K.SB),hg=k.p.nk(bM.iZ(Z,jK));
for(var hw in hg){var gy=hg[hw],cQ=W.clone();delete cQ.add.TySh;cQ.pM=cQ.pM|1<<4;cQ.add.SoCo=JSON.parse(JSON.stringify(et.FX[0]));
var d3=cQ.add.SoCo.Clr.v;d3.Rd.v=parseInt(hw.slice(1,3),16);d3.Grn.v=parseInt(hw.slice(3,5),16);d3.Bl.v=parseInt(hw.slice(5,7),16);
var hL=new H.LF;hL.i=k.p.Kg(gy,!1);if(cQ.add.vmsk!=null){cQ.add.vmsk.ax2();hL.concat(cQ.add.vmsk)}cQ.add.vmsk=hL;
cQ.add.vstk=JSON.parse(JSON.stringify(et._T.default));cQ.Yt();cQ.ET(h);ey.splice(ey.indexOf(W),0,cQ)}ey.splice(ey.indexOf(W),1)}var h4=h.g.slice(0);
for(var t=h4.length-1;t>=0;t--)if(h4[t]>=ey.length)h4.splice(t,1);var v=new dS([6,40],this);v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:h4};
h.JY(v);this.Oi(v.data,h)}if(f==H.aor){var di=h.g.length;if(di<2){alert("Select two or more layers.");
return}if(!h.iI())return;var cQ=h.B[h.g[0]].clone(),ey=[];for(var t=0;t<h.B.length;t++)if(h.g.indexOf(t)==-1)ey.push(h.B[t]);
ey.splice(h.g[0],0,cQ);for(var t=1;t<di;t++)if(h.B[h.g[t]].rect.O()>2e6){alert("Blended areas are too large.");
return}for(var t=1;t<di;t++){var W=h.B[h.g[t]],g2=W.rect.clone();g2.ol(1,1);var fc=k.Q(g2.O()*4);k.mC(W.buffer,W.rect,fc,g2);
cQ.extend(g2);var bX=k.Q(g2.O()*4);k.mC(cQ.buffer,cQ.rect,bX,g2);var v=k.Q(g2.O());k.pO(fc,v,3);k.round(v,200);
k.k1(v,fc,3);k.l.NU("norm",fc,g2,bX,g2,g2,1);k.yr.uB(bX,v,g2);k.mC(bX,g2,cQ.buffer,cQ.rect)}var v=new dS([2,10,0],this);
v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:[h.g[0]]};h.JY(v);this.Oi(v.data,h)}if(f==H.UQ){var ey=h.B.slice(0),hp=h.g.slice(0);
for(var t=0;t<ey.length;t++){var W=ey[t],k6=W.add.vmsk;if(W.A$()&&k6&&W.add.vstk.strokeEnabled.v&&!W.add.vstk.fillEnabled.v){var ke=k6.i,km=0,cr=-1;
for(var aW=0;aW<ke.length;aW++){if((ke[aW].type==0||ke[aW].type==3)&&ke[aW].N0!=-1){km++;if(ke[aW].type==3&&cr==-1){ke[aW].Ur=ke[aW].N0=1;
cr=aW}}}if(km>1&&cr!=-1&&km<10){console.log("separating an open path into a new layer");W=W.clone();
k6=W.add.vmsk;ke=k6.i;var C=ke[cr].length,cR=W.clone();cR.add.lyid=h.XE();k6.i=ke.slice(0,2).concat(ke.slice(cr,cr+C+1));
k6.g=[];W.ET(h);W.U();var ij=cR.add.vmsk.i;cR.add.vmsk.i=ij.slice(0,cr).concat(ij.slice(cr+C+1,ij.length));
cR.add.vmsk.g=[];cR.ET(h);ey[t]=W;ey.splice(t+1,0,cR);for(var aW=0;aW<hp.length;aW++)if(hp[aW]>t)hp[aW]++;
var g3=hp.indexOf(t);if(g3!=-1){hp.splice(g3+1,0,t+1)}}}}if(ey.length!=h.B.length){var v=new dS("Splitting open paths",this);
v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:hp};h.JY(v);this.Oi(v.data,h)}}if(f==H.UO){this.d6({d:H.UQ},$,h,d,K);
var dW=h.g.slice(0),bl=h.B.slice(0),g$=h._8();if(g$.length==0)return;h.a6g(g$,!1,i.BC);var v=new dS([6,36,0],this);
v.data={d:H.ad,bb:bl,mV:h.B.slice(),O2:dW,mP:h.g.slice(0)};h.JY(v);this.Oi(v.data,h)}if(f==H.axi){var i$=u.add.SoLd;
if(i$==null)return;var er=i$.Idnt.v,bT=h.rV(er);bT.Fy(!1);var cu=bT.eZ[0],g2=bT.eZ[1];if(k.ym(cu)){alert("The smart object contains transparency.");
return}var jH=em.Q_("jpg").Pa([[cu.buffer]],g2.e,g2.n,[90]);this.d6({d:H.lk,data:new Uint8Array(jH),Wo:"image.jpg"},$,h,d,K);
console.log(h.add);return}if(f==H.lk){var jN=i.x3,er=i.id;if(jN==null)jN=h;if(er==null)er=u.add.SoLd.Idnt.v;
var cw=jN.rV(er),ag=cw.clone();ag.raw=i.data;ag.Wo=i.Wo;var dU=em.X0(i.data.buffer);if(dU=="psd"){ag.$U="8BIM";
ag.$M="8BPB"}else{ag.$U="    ";ag.$M="    "}ag.Fy(!1);cw.Fy(!1);var v=new dS([6,36,1],this);v.data={d:H.lk,id:er,Zb:cw,Z4:ag};
jN.JY(v);this.Oi(v.data,jN)}if(f==H.iR){var v=new dS([6,36,4],this);v.data={d:f,a:l,pp:u.add.SoLd.Impr.v.classID,gj:i.gj};
h.JY(v);this.Oi(v.data,h)}if(f==H.ave){var eW,jp;if(i.T4){eW=i.x3;jp=i.T4}else{i.x3.hh();i.x3.Z8();i.x3.U();
i.x3.kX();i.x3.Fy();eW=em.Q_("PSD").Pa(i.x3,0,0,[!0,!0]);jp=i.x3.name}if(!(eW instanceof ArrayBuffer))throw"e";
eW=new Uint8Array(eW);var g=i.hn;if(g==null){if(h.g.length==0)g=h.g.length;else{var el=h.g[h.g.length-1],C=h.B[el];
g=C.BT()?el:el+1}}var id=new bN(0,0,h.e,h.n),iy=h.ii();if(iy!=-1)id=h.B[iy].Ik();var iV=h.UJ(eW,jp,0,0,id,K.SB,$),ey=h.B.slice(0);
ey.splice(g,0,iV);var v=new dS([6,36,2],this);v.data={d:H.ad,bb:h.B.slice(),mV:ey,O2:h.g.slice(0),mP:[ey.indexOf(iV)]};
h.JY(v);this.Oi(v.data,h)}if(f==H.FG&&i.vC=="merge"){var i4=[],a8=h.root.children,cZ=0;for(var t=0;t<a8.length;
t++){var s=a8[t],W=s.a,ko=s.children,bv=!0;if(!W.BT()||ko.length==0)continue;for(var aW=0;aW<ko.length;
aW++)if(!ko[aW].a.getName().startsWith("_a_")){bv=!1;break}if(bv)i4.push(h.B.indexOf(W))}var h2=[];for(var t=0;
t<i4.length;t++)if(h.g.indexOf(i4[t])!=-1)h2.push(i4[t]);if(h2.length>=2)i4=h2;if(i4.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var jM=[];for(var t=0;t<i4.length;t++)jM.push(h.B[i4[t]].getName());var dy=[];for(var fy=0;fy<i4.length;
fy++){var s=h.root.$p(i4[fy]),dY=[[],[],0,fy];dy.push(dY);for(var t=0;t<s.children.length;t++){var n=s.children[t].index,W=s.children[t].a,aK=W.getName(),co=20,dQ=aK.split(",");
if(dQ.length>1){var ic=parseInt(dQ.pop());if(!isNaN(ic)&&ic!=0)co=ic}dY[0].push(W);dY[1].push(co);dY[2]+=co}}dy.sort(function(v,fc){return fc[2]-v[2]});
var k9=dy[0],k7=k9[2];for(var c7=1;c7<dy.length;c7++){var dY=dy[c7],jI=1,bJ=dY[1].slice(0),h7=0;while((jI+1)*dY[2]<=k9[2]){jI++;
bJ=bJ.concat(dY[1])}dY[1]=bJ;dY[2]*=jI;var jc=k9[2]/dY[2];for(var t=0;t<dY[1].length;t++){var fS=Math.floor(dY[1][t]*jc);
dY[1][t]=fS;h7+=fS}while(h7<k7){h7++;dY[1][dY[1].length-1]++}dY[2]=h7}var eo=[],k5=[],fS=[];for(var t=0;
t<dy.length;t++){eo.push(0);k5.push(0)}while(cZ<k7){var eM=1e9,i_=-1;for(var t=0;t<dy.length;t++){var hS=dy[t][1],g5=eo[t];
if(g5!=hS.length&&k5[t]+hS[g5]<cZ+eM){i_=t;eM=k5[t]+hS[g5]-cZ}}k5[i_]+=dy[i_][1][eo[i_]];eo[i_]++;if(eM!=0){fS.push(eM);
cZ+=eM}}for(var t=1;t<fS.length;t++){var gZ=fS[t];if(gZ<16&&(fS[t-1]<16||t<fS.length-1&&16<=fS[t+1])){fS[t-1]+=gZ;
fS.splice(t,1);t--}}var d9=[],jN=new bN(0,0,h.e,h.n);for(var t=0;t<h.B.length;t++){d9[t]=h.B[t].ji();
h.B[t].DJ(!1)}var a0=h.g.slice(0);h.g=i4;var js=h._8();js.sort(function(v,fc){return v-fc});var ey=[];
for(var t=0;t<h.B.length;t++){if(js.indexOf(t)==-1)ey.push(h.B[t])}dy.sort(function(v,fc){return v[3]-fc[3]});
function bn(hS,du){var t=0,hj=0;while(hj+hS[t]<=du){hj+=hS[t];t++}return t}cZ=0;ey.splice(js[0],0,h.U4());
for(var am=0;am<fS.length;am++){var m=[];for(var t=0;t<dy.length;t++){var g5=bn(dy[t][1],cZ)%dy[t][0].length,W=dy[t][0][g5];
m.push(W)}var W=h.Dw();for(var t=0;t<dy.length;t++){var fH=m[t],bL=h.B[i4[t]];fH.DJ(!0);bL.DJ(!0)}h.U();
h.kX();var cu=h.Fy();W.rect=k.M6(cu,jN,2);W.buffer=k.Q(W.rect.O()*4);k.mC(cu,jN,W.buffer,W.rect);for(var t=0;
t<dy.length;t++){var fH=m[t],bL=h.B[i4[t]];fH.DJ(!1);bL.DJ(!1)}W.DJ(am==0);W.DN("_a_frm"+am+","+fS[am]);
ey.splice(js[0]+1+am,0,W);cZ+=fS[am]}var W=h.Dw();W.DN(jM.join(" + "));W.R$="pass";W.add.lsct=gX.qC;
W.pM=24;ey.splice(js[0]+1+fS.length,0,W);for(var t=0;t<h.B.length;t++)h.B[t].DJ(d9[t]);var v=new dS([6,12,0],this);
v.data={d:H.ad,bb:h.B,mV:ey,O2:a0,mP:[js[0]+1+fS.length]};h.JY(v);this.Oi(v.data,h)}if(f==H.qJ||f==H.uO){var gG=h.g.length==1,aY=!0,iV=null,h4;
if(gG&&h.g[0]==0)return;var bl=h.B.slice(0),dW=h.g.slice(0);if(gG)h.g=[l,l-1];if(f==H.uO){h.g=[];for(var t=0;
t<h.B.length;t++)if(h.B[t].ji())h.g.push(t)}var g$=h._8();g$.sort(function(v,fc){return v-fc});var cD=new bN,jN=new bN(0,0,h.e,h.n);
for(var t=0;t<g$.length;t++){var n=g$[t],W=h.B[n];if(W.BT()||W.getName()=="</Layer group>")continue;
aY=aY&&W.A$()&&W.add.vmsk!=null;cD=cD.rt(h.root.$p(n).bL(h,!0))}if(aY){var k6=null;for(var t=0;t<g$.length;
t++){var C=h.B[g$[t]];if(C.rect.O()==0)continue;if(iV==null){iV=C.clone();k6=iV.add.vmsk}else{var C=h.B[g$[t]],ij=H.LF.t0(C.add.vmsk.i);
k6.i=k6.i.concat(ij.slice(2));iV.add.vogk=iV.add.vogk.concat(JSON.parse(JSON.stringify(C.add.vogk)))}}iV.add.vmsk.D3=!0;
iV.ET(h)}else if(jN.PH(cD)){iV=h.Dw();iV.DN(h.B[g$[g$.length-1]].getName());iV.rect=cD;iV.buffer=k.Q(cD.O()*4);
var kh=h.add.artd;delete h.add.artd;var bH=h.Fy(g$);if(kh)h.add.artd=kh;k.mC(bH,jN,iV.buffer,cD);iV.HH();
iV.U()}else{h.a6g(g$,!0);iV=h.B[h.g[0]];h.B.splice(h.g[0],1);var gm=h.rV(iV.add.SoLd.Idnt.v);h.add.lnk2.splice(h.add.lnk2.indexOf(gm),1);
delete iV.add.SoLd}var hE=U,h1=-1;if(i.B6&&i.B6.Dplc&&i.B6.Dplc.v)hE=!0;if(hE&&f==H.uO&&h.B[dW[0]].zp()&&h.B[dW[0]].rect.NT()){h1=dW[0]}if(h1!=-1||gG){var aP=h.B[h1!=-1?h1:l-1];
iV.DN(aP.getName());iV.add.lclr=aP.add.lclr}var ey=[];for(var t=0;t<h.B.length;t++)if(hE||g$.indexOf(t)==-1)if(t!=h1)ey.push(h.B[t]);
var bj=g$[g$.length-1],gJ=bj==h.B.length-1?null:h.B[bj+1],dK=gJ?ey.indexOf(gJ):ey.length;ey.splice(dK,0,iV);
h4=[dK];var v=new dS([6,12,0],this);v.data={d:H.ad,bb:bl,mV:ey,O2:dW,mP:h4};h.JY(v);this.Oi(v.data,h)}if(f==H.atD){var cQ=h.Dw();
cQ.rect=new bN(0,0,h.e,h.n);cQ.buffer=k.Q(cQ.rect.O()*4);k.MK(cQ.buffer,4294967295);k.l.NU("norm",h.Fy(),cQ.rect,cQ.buffer,cQ.rect,cQ.rect,1);
cQ.DN("Background");cQ.add.lspf=1<<2;var v=new dS([6,12,1],this);v.data={d:H.ad,bb:h.B.slice(),mV:[cQ],O2:h.g.slice(0),mP:[0]};
h.JY(v);this.Oi(v.data,h)}var aC=f==H.vd||f==H.LY;if(f==H.vY||f==H.wR||f==H.tV||f==H.Xr||aC){var W=aC?h.gM()[0]:h.Dw(),b9=e_.get([0,3]),ga=i.wo,fO=!1,b0,ce;
if(f==H.tV)b9=e_.get([12,76,1]);if(aC){if(h.J){var cH=h.B[h.g[0]],fa=cH.nV(h,h.J);if(fa==null){alert("Copied area is empty");
return}W.rect=fa.rect;W.buffer=fa.tp;W.IB(h);W.DJ(!0)}else ga=W.getName();W.add.lspf=0;W.sD=!1;if((W.pM&1)!=0)W.pM--}if(f==H.Xr){W.rect=D.Q4.axF(i.c_,h);
W.buffer=i.c_.buffer.slice(0);if(i.wY&&h.J){W.z=new H.k$;W.z.rect=h.J.rect;W.z.color=0;W.z.channel=h.J.channel.slice(0)}}if(f==H.vY){this.track({Fs:"make",B6:{classID:"Mk",null:jV.uf("Lyr")}})}if(f==H.wR){W.pM|=16;
var hB=i.B6.Usng.v,eZ=hB.Type.v,ef=f2.gm[eZ.classID];b9=e_.get(f2.names[ef]);if(hB.Nm)ga=hB.Nm.v;W.add[ef]=d1.U9(ef);
if(W.add[ef]==null)W.add[ef]={};for(var cW in eZ)W.add[ef][cW]=JSON.parse(JSON.stringify(eZ[cW]));W.z=D.Q4.adh(h);
W.Tu=1}if(f==H.tV){W.pM|=16;var hG=i.B6,hB=hG.Usng.v,c0=hB.Type.v,jO=hB.Shp;if(hB.Nm)ga=hB.Nm.v;if(jO==null){var a7=h.iW(),hg=a7[0],kl=a7[1];
if(kl.length!=0&&hg[kl[0]].zH<0){var gI=hg[kl[0]].add;W.add.vmsk=gI.vmsk.clone();W.add.vstk=JSON.parse(JSON.stringify(et._T.default));
W.add.vogk=JSON.parse(JSON.stringify(gI.vogk));h.LK=[]}else W.z=D.Q4.adh(h)}else{W.add.vmsk=new H.LF;
W.add.vstk=JSON.parse(JSON.stringify(hB.strokeStyle?hB.strokeStyle.v:et._T.default));W.add.vogk=[];if(jO){var ax=k.X.FF(jO);
if(ax){W.add.vogk=[ax];W.add.vmsk.i.push({type:0,N0:1,length:0});k.X.b5(W.add.vogk,W.add.vmsk)}else{jO=jO.v;
var kj=jO.classID;if(kj=="Plgn"){var aq=jO.Cntr.v,jE=jO.corner.v;aq=new cq(aq.Hrzn.v.val,aq.Vrtc.v.val);
jE=new cq(jE.Hrzn.v.val,jE.Vrtc.v.val);W.add.vmsk.i=k.A.jY.o1(aq.x,aq.y,Math.sqrt(jE.x*jE.x+jE.y*jE.y),Math.atan2(jE.y,jE.x),jO.sides.v,0)}else if(kj=="customShape"){var c_=k.X.jg(jO),fX=c_[2]-c_[0],fJ=c_[3]-c_[1],c9=K.DV,bW,kb;
for(var t=0;t<c9.length;t++)if(c9[t].gG==jO.Nm.v)bW=c9[t];if(bW){kb=H.LF.t0(bW.i);k.A.mu(kb,new ej(fX,0,0,fJ,c_[0],c_[1]))}else kb=k.A.jY.Rect(c_[0],c_[1],fX,fJ,0);
W.add.vmsk.i=kb}W.Yt()}}}var ei={solidColorLayer:0,gradientLayer:1,patternLayer:2}[c0.classID],gg=["SoCo","GdFl","PtFl"][ei];
W.add[gg]=JSON.parse(JSON.stringify(et.FX[ei]));D.Q4.cu(c0,W.add[gg],ei);if(jO==null)b9=e_.get([6,48,0,ei]);
if(gg=="PtFl"){var fx=W.add[gg].Ptrn.v,dQ=eN.Y1(fx,K.c$);if(dQ==null)dQ=eN.Y1(fx,h.add.Patt);fx.Idnt.v=dQ.id;
h.pk(dQ)}W.ET(h)}var di=D.Q4.xm(h,b9+" ");W.DN(b9+" "+(di+1));if(ga)W.DN(ga);var iI=h.g.length==0?h.B.length-1:h.g[h.g.length-1],eX=h.B[iI];
if(f==H.tV&&eX.zp()&&eX.rect.NT()){fO=!0;W.DN(eX.getName());b0=iI}else{b0=iI+(f==H.vY&&a&&!y?0:1);if(eX&&eX.add.lsct==gX.DU)b0--}if(i.alE)b0=Math.max(0,b0-1);
var ey=h.B.slice(0);if(f==H.LY){var hv=ey[h.g[0]]=ey[h.g[0]].clone(),e$=h.J.channel.slice(0);k.Sp(e$);
k.cj(e$,h.J.rect,hv.buffer,hv.rect)}ey.splice(b0,fO?1:0,W);var az=[5,2];if(f==H.vY)az=[6,13];if(f==H.wR)az=[6,1];
if(f==H.tV){az=[6,48,1];var jO=i.B6.Usng.v.Shp;if(jO){var aJ={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[jO.v.classID];
if(aJ)az=aJ}}if(aC){az=[6,49,f==H.vd?0:1]}if(aC||f==H.tV||f==H.Xr||f==H.wR)if(h.J)ce=[h.J,null];var v=new dS(az,this);
v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:[b0],Gf:ce};h.JY(v);this.Oi(v.data,h);if(f==H.tV&&jO==null&&ei!=0||f==H.wR){var j=new eU(x.E.k);
j.data={d:x.c.Q6,Kh:cA.gp.AM};$.$(j)}}if(f==H.nW){var W=h.Dw(),b9=e_.get([0,4]),di=D.Q4.xm(h,b9+" ");
W.DN(b9+" "+(di+1));W.R$="pass";W.add.lsct=gX.DU;W.pM=24;if(i.wo)W.DN(i.wo);if(i.OA!=null)W.add.lclr=i.OA;
var iF=h.U4(),iI=l,b0=iI+(a?0:1),ey=h.B.slice(0);ey.splice(b0,0,iF,W);var v=new dS([6,20],this);v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:[b0+1]};
h.JY(v);this.Oi(v.data,h)}if(f==H.J5||f==H.wJ){var fg=f==H.J5?i.source:h.g[0],dF,bV,hx=h.g.indexOf(fg)!=-1,fY=U|i.aej,fU,eM=null;
if(hx)fU=h._8();else fU=h.M3(fg);fU.sort(function(v,fc){return v-fc});if(f==H.J5){dF=i.target;bV=i.EG>.5}else if(i.target!=null){dF=Math.min(i.target,h.B.length-1);
bV=i.target<h.B.length;h.zy=!0}else{var jx=i.vC;bV=jx>1;if(jx==0){dF=h.B.length-1}if(jx==1){dF=fU[fU.length-1]+1;
var C=h.M3(dF);if(C.indexOf(fg)==-1)dF+=C.length-1}if(jx==2){dF=fU[0]-1;var C=h.M3(dF);if(C.indexOf(fg)==-1)dF-=C.length-1}if(jx==3){dF=0;
if(h.B[0].add.lnsr=="bgnd")dF++}if(dF<0||dF>h.B.length-1)return;h.zy=!0}if(fU.indexOf(dF)!=-1&&!fY)return;
var eC=D.Q4.N9(h,fU,dF,bV,fY?h.gM(hx?null:fg):null,f==H.J5&&i.EG>.8),jX=eC.pop(),hp=eC.pop(),ey=eC.pop(),fm=h.g;
h.g=[fg];var ea=h.ii();h.g=[dF];var hm=h.ii();if(hm==dF&&!bV)hm=-1;h.g=fm;if(fg==ea){}else if(ea!=hm){var eM=new cq(0,0);
if(ea!=-1){var g2=h.B[ea].Ik();eM.x-=g2.x;eM.y-=g2.y}if(hm!=-1){var g2=h.B[hm].Ik();eM.x+=g2.x;eM.y+=g2.y}}var v=new dS(fY?[6,0]:[6,35],this);
v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:hp,Xg:eM};h.JY(v);this.Oi(v.data,h);var hG={classID:"move",null:jV.uf("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:jX+(bV?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:fY}};
this.track({Fs:"move",B6:hG})}if(f==H.st){if(i.kP){if(u==null||!u.BT())return;var s=h.root.$p(l),dG=h.B.indexOf(s.am5),ey=h.B.slice(0);
ey.splice(l,1);ey.splice(dG,1);var hp=[];for(var t=dG;t<l-1;t++)hp.push(t);var v=new dS("Ungroup Layers",this);
v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:hp};h.JY(v);this.Oi(v.data,h)}else{var W=h.Dw(),hV=e_.get([0,4])+" ";
W.DN(hV+(D.Q4.xm(h,hV)+1));W.R$="pass";if(i.wo)W.DN(i.wo);if(i.OA!=null)W.add.lclr=i.OA;W.add.lsct=h.g.length==1?gX.DU:gX.qC;
W.pM=24;var iF=h.U4(),fU=h._8();if(fU.length==0)return;fU.sort(function(v,fc){return v-fc});var ey=[];
for(var t=0;t<h.B.length;t++)if(fU.indexOf(t)==-1)ey.push(h.B[t]);var iI=h.g[h.g.length-1]-fU.length;
ey.splice(iI+1,0,iF);for(var t=0;t<fU.length;t++)ey.splice(iI+2+t,0,h.B[fU[t]]);ey.splice(iI+2+fU.length,0,W);
var v=new dS([6,9],this);v.data={d:H.ad,bb:h.B.slice(0),mV:ey,O2:h.g.slice(0),mP:[ey.indexOf(W)]};h.JY(v);
this.Oi(v.data,h);var Y={Fs:"make",mh:!0};Y.B6={classID:"Mk",null:jV.uf("layerSection"),From:jV.uf("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:W.getName()}}}};
this.track(Y)}}if(f==H.a2Q){if(h.g.length!=1)return;var g=h.g[0],ae=U;if(h.B[g].MQ()==null&&!d.j(ai.PO)){f=H.qK;
i.PT=h.J?!ae?"RvlS":"HdSl":!ae?"RvlA":"HdAl"}else{f=H.OS;i.a0w=!0}}if(f==H.qK){if(h.g.length!=1)return;
var g=h.g[0],W=h.B[g];if(W.add.vmsk&&W.z==null)W.ET(h);var cM=W.MQ();if(cM==null||i.aqP){var v=new dS([6,21],this),cn=new H.k$,dh=i.PT,aR=dh=="RvlS"||dh=="HdSl";
if(dh=="RvlS"||dh=="HdAl"||dh=="Trns")cn.color=0;if(aR){cn.channel=h.J.channel.slice(0);cn.rect=h.J.rect.clone();
if(dh=="HdSl")k.Sp(cn.channel)}if(dh=="Trns"){cn.rect=W.rect.clone();cn.channel=k.Q(W.rect.O());k.pO(W.buffer,cn.channel,3)}v.data={d:H.x6,Qo:[g,cM,cn],Gf:aR?[h.J,null]:null};
h.JY(v);this.Oi(v.data,h);h.B[g].Tu=1;this.track({Fs:"make",B6:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:dh}}}})}}else if(f==H.afO){var gF=h.B[i.src],fj=h.B[i.pW],v=new dS([6,21],this),cO=gF.MQ(),f$=fj.MQ(),j3=[i.src,cO,null,i.pW,f$,cO];
if(U||y){var aK=cO.clone();if(U)j3=[i.pW,f$,aK];else j3[5]=aK;if(y){k.Sp(aK.channel);aK.color=255-aK.color}}v.data={d:H.x6,Qo:j3};
h.JY(v);this.Oi(v.data,h)}if(f==H.z4){if(h.g.length!=1)return;var g=l,a6=h.B[g].MQ();if(a6!=null){var v=new dS([6,22],this);
v.data={d:H.x6,Qo:[l,a6,null]};h.JY(v);this.Oi(v.data,h)}}if(f==H.WT){var bl=h.B.slice(0),cQ=u.clone(),c1=cQ.MQ();
k.cj(c1.os(cQ.rect),cQ.rect,cQ.buffer,cQ.rect);D.Q4.ZK(h,cQ);cQ.HH();h.B[h.g[0]]=cQ;var v=new dS([5,8],this);
v.data={d:H.ad,bb:bl,mV:h.B.slice(),O2:h.g.slice(0),mP:h.g.slice(0)};h.JY(v);this.Oi(v.data,h)}if(f==H.wv){if(h.g.length!=1)return;
var g=h.g[0];if(h.B[g].Hi(h).z==null){var v=new dS([6,45],this);v.data={d:f,a:g,z:new H.k$};h.JY(v);
this.Oi(v.data,h)}}if(f==H.wt){if(h.g.length!=1)return;var g=h.g[0];if(h.B[g].Hi(h).z!=null){var v=new dS([6,46],this);
v.data={d:f,a:g,z:h.B[g].Hi(h).z};h.JY(v);this.Oi(v.data,h)}}if(f==H.qs){if(i.src==null&&h.g.length!=1)return;
if(i.src!=null)l=i.src;if(h.B[l].Hm()){var v=new dS([6,47],this),i$=JSON.stringify(h.B[l].add.SoLd),gS=JSON.parse(i$);
delete gS.filterFX;v.data={d:H.U8,HZ:[{oG:l,qy:[i$,JSON.stringify(gS)],rq:[h.B[l].Hi(h),null]}]};h.JY(v);
this.Oi(v.data,h)}}if(f==H.OS){if(h.g.length!=1)return;if(u.add.vmsk==null){var v=new dS([6,23],this),ke=h.iW(),J=ke[1],ke=ke[0],cn,ax;
if(i.a0w&&J.length!=0){var gI=ke[J[0]].add;cn=gI.vmsk.clone();ax=gI.vogk}else{cn=new H.LF;ax=[];cn.i[1].all=i.ag9?0:1}v.data={d:f,a:l,o2:!0,z:cn,X:JSON.stringify(ax),_T:null};
if(u.A$()){v.data._T=JSON.stringify(et._T.default)}h.JY(v);this.Oi(v.data,h)}}if(f==H.FP){var gF=h.B[i.src],fj=h.B[i.pW];
if(fj.add.vmsk)return;var v=new dS([6,23],this),k6=gF.add.vmsk;v.data={a:i.pW,o2:gF.fx,z:k6.clone(),X:JSON.stringify(gF.add.vogk),_T:gF.add.vstk?JSON.stringify(gF.add.vstk):null};
if(U){v.data.d=H.OS}else{v.data.d=f;v.data.src=i.src;v.data.pW=i.pW}h.JY(v);this.Oi(v.data,h)}if(f==H.Jv||f==H.cX){if(h.g.length!=1)return;
var W=h.B[l],k6=W.add.vmsk;if(k6!=null){var jY=f==H.cX,v=new dS(jY?[6,8]:[6,24],this);v.data={d:H.Jv,a:l,o2:W.fx,z:k6,X:JSON.stringify(W.add.vogk),_T:W.add.vstk?JSON.stringify(W.add.vstk):null};
if(jY){v.data.oe=k6.MQ(W.add.vstk)}h.JY(v);this.Oi(v.data,h)}}if(f==H.lb){var v=new dS("Metadata",this);
v.data={d:f,T1:JSON.stringify(h.Y3),if:JSON.stringify(i.if)};h.JY(v);this.Oi(v.data,h)}if(f==H.h0){var gT=i.pW?i.pW:h,kf=gT.name,ga=i.L+".psd";
if(kf==ga)return;var v=new dS([6,37],this);v.data={d:f,acM:kf,wo:ga};if(i.auZ!=!0)gT.JY(v);this.Oi(v.data,gT)}if(f==H.FG&&i.vC.endsWith("makeframes")){var fu=[],e6=i.vC.startsWith("make");
for(var t=0;t<h.g.length;t++){var n=h.g[t],W=h.B[n],gc=W.getName(),j2=gc.startsWith("_a_");if(e6==j2||W.add.lsct==gX.ZH)continue;
var iJ=e6?"_a_"+gc:gc.slice(3);fu.push([n,gc,iJ,W.add.lnsr,null])}var v=new dS([6,37],this);v.data={d:H.gv,J0:fu};
h.JY(v);this.Oi(v.data,h)}if(f==H.gv){var kf=u.getName(),ga=i.name.substring(0,255);if(kf==ga)return;
var v=new dS([6,37],this);v.data={d:f,J0:[[l,kf,ga,u.add.lnsr,null]]};h.JY(v);this.Oi(v.data,h);this.track(jV.FU("Nm",{t:"TEXT",v:ga}))}if(f==H.T7){var c6=h._8(),dz=[],aI=[];
for(var t=0;t<c6.length;t++){dz.push(h.B[c6[t]].add.lclr);aI.push(i.aqR)}var v=new dS([6,38],this);v.data={d:f,B:c6,a3k:dz,OA:aI};
h.JY(v);this.Oi(v.data,h)}if(f==H.IF){var v=h.history[h.oD];if(v!=null&&v.b==this&&v.data.d==f&&v.data.a==i.Dm&&v.data.gj.K0==i.Bi.K0)v.data.gj=i.Bi;
else{v=new dS("Mask Density / Feather",this);v.data={d:f,a:i.Dm,pp:h.B[i.Dm].k2(i.Bi.K0),gj:i.Bi};h.JY(v)}this.Oi(v.data,h)}if(f==H.O5){var hf=JSON.stringify(i.L),hn=JSON.parse(hf),v=h.history[h.oD];
if(v!=null&&v.b==this&&v.data.d==f&&v.data.Wj==i.Wj&&v.data.o5.join(",")==i.o5.join(",")){for(var t=0;
t<i.o5.length;t++)v.data.lB[t]=hn;if(v.data.B6&&hn.$M!=0)D.Q4.cu(hn.DP,v.data.B6.T.v,hn.$M-1)}else{v=new dS([11,6],this);
v.data={d:f,o5:i.o5,Wj:i.Wj,a0u:[],lB:[]};var fd=!1;for(var t=0;t<i.o5.length;t++){var n=i.o5[t],W=h.B[n],f6=i.Wj?D.cI.wW(h,n):JSON.parse(JSON.stringify(W.add.vstk));
v.data.a0u.push(f6);v.data.lB.push(hn);if(JSON.stringify(f6)!=hf)fd=!0}if(!fd)return;h.JY(v);if(i.Wj&&hn.$M>0){var hG=v.data.B6={classID:"setd",null:jV.uf("contentLayer",!0),T:{t:"Objc",v:{}}},gg=["SoCo","GdFl","PtFl"][hn.$M-1];
D.Q4.cu(hn.DP,hG.T.v,hn.$M-1);this.track({Fs:"set",B6:hG})}}if(i.Wj&&hn.$M==3)h.pk(eN.Y1(hn.DP.Ptrn.v,K.c$));
if(!i.Wj){var bS=hn.strokeStyleContent.v;if(bS.classID==et._T.u$[2])h.pk(eN.Y1(bS.Ptrn.v,K.c$))}this.Oi(v.data,h)}};
D.Q4.N9=function(i,$,h,d,K,f){var l=i.B[h],u=[];if(K)u=i.B.slice(0);else for(var t=0;t<i.B.length;t++)if($.indexOf(t)==-1)u.push(i.B[t]);
var U=u.indexOf(l);if(f&&l.BT()&&l.add.lsct==gX.qC)U-=i.M3(h).length-1;var y=[];for(var t=0;t<$.length;
t++){var a=U+(d?0:1)+t,v=K?K[t]:i.B[$[t]];u.splice(a,0,v);y.push(a)}return[u,y,U]};D.Q4.cu=function(i,$,h){var d=[et.sF,et.ce,et.V1][h];
if($.classID==null)$.classID=["solidColorLayer","gradientLayer","patternLayer"][h];for(var t=0;t<d.length;
t++)if(i[d[t]])$[d[t]]=JSON.parse(JSON.stringify(i[d[t]]))};D.Q4.adh=function(i){var $=new H.k$;if(i.J!=null){$.color=0;
$.channel=i.J.channel.slice(0);$.rect=i.J.rect.clone()}return $};D.Q4.j0=function(i,$,h,d,K){var f=d.e/h.e,l=d.n/h.n,u=d.e/2,U=d.n/2,y=k.p.Hg(d).C;
for(var t=0;t<i.B.length;t++){var a=i.B[t],v=a.add.SoLd;if(v==null||v.Idnt.v!=$)continue;if(f!=1||l!=1){var c=D.vA.O7(v.nonAffineTransform),p=k.K.bS(c,d),C=new ej;
C.translate(-u,-U);C.scale(f,l);C.translate(u,U);var T=k.K.hW(p,k.K.F0(C)),E=y.slice(0);k.K.D(T,E);v.Trnf=D.vA.j7(E);
v.nonAffineTransform=D.vA.j7(E);if(k.O$.PJ(v.warp.v)){var r=v.warp.v.bounds.v;r.Rght.v.val=d.e;r.Btom.v.val=d.n}}a.u8(i,null,K)}i.U()};
D.Q4.a9M=function(i,$,h){$.color=255-$.color;k.Sp($.channel);$.D3=!0;i.ET(h);h.U()};D.Q4.prototype.RU=function(i,$){var h=i.d,d=$.B[i.a];
$.$x=!0;if(h==H.lk){$.add.lnk2.splice($.add.lnk2.indexOf(i.Z4),1,i.Zb);D.Q4.j0($,i.id,i.Z4.eZ[1],i.Zb.eZ[1])}if(h==H.iR){d.add.SoLd.Impr.v.classID=i.pp;
d.u8($)}if(h==H.L0){var K=JSON.parse(i.o5);for(var t=0;t<K.length;t++)$.B[K[t]].R$=i.Mj[t];$.U()}if(h==H.PW){var K=JSON.parse(i.o5);
for(var t=0;t<K.length;t++)$.B[K[t]].opacity=i.Mj[t];$.U()}if(h==H.ex){var K=JSON.parse(i.o5);for(var t=0;
t<K.length;t++)if($.B[K[t]].add.lsct!=gX.ZH)$.B[K[t]].add.lspf=i.Mj[t]}if(h==H.fi){var f=i.bf,l=i.ay8;
delete d.add[f[0]];if(l[0]!="----")d.add[l[0]]=l[1]}if(h==H.Bh){d.add.iOpa=i.Mj;$.U()}if(h==H.Ja){for(var t=0;
t<i.o5.length;t++){var u=$.B[i.o5[t]];u.DJ(!u.ji())}$.U()}if(h==H.M2){var U=d.MQ();U.isEnabled=!U.isEnabled;
d.ET($);$.U()}if(h==H.ay){var U=d.Hi($).z;U.isEnabled=!U.isEnabled;d.U();$.U()}if(h==H.dg){var U=d.add.vmsk;
U.isEnabled=!U.isEnabled;if(!U.isEnabled){if(d.oe){d.z=d.oe;d.oe=null}else d.z=null}else if(d.z){d.oe=d.z;
d.z=null}d.ET($);$.U()}if(h==H.bx){d.sD=!d.sD;$.U()}if(h==H.YC){d.add.lmfx.masterFXSwitch.v=!d.add.lmfx.masterFXSwitch.v;
d.A0.lx=!0;$.U()}if(h==H.dz){d.add.SoLd.filterFX.v.enab.v=!d.add.SoLd.filterFX.v.enab.v;d.aR($);$.U()}if(h==H.$i){var y=i.index,a=d.add.lmfx[et.CE[y[0]]].v[y[1]].v;
a.enab.v=!a.enab.v;d.A0.lx=!0;$.U()}if(h==H.X4){var v=$.B[i.uG],c=$.B[i.bt],p=i.aqL,C=i.aa5;if(p=="")delete v.add.lmfx;
else v.add.lmfx=JSON.parse(p);if(C=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(C);v.A0.lx=!0;c.A0.lx=!0;
$.U()}if(h==H.K4){var T=d.add.SoLd.filterFX.v.filterFXList.v[i.index].v;T.enab.v=!T.enab.v;d.aR($);$.U()}if(h==H.a2w){d.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(i.abf));
d.aR($);$.U()}if(h==H.RX){var U=d.MQ();U.sE=!U.sE}if(h==H._g){var U=d.add.vmsk;U.sE=!U.sE}if(h==H.$m){var E=JSON.parse(i.amt);
$.H0=E[0];$.OH=E[1]}if(h==H.$K){var E=i._A;for(var t=0;t<E.length;t+=2){var r=E[t],u=r>=0?$.B[r]:$.w3[-1-r];
u.add.vogk=JSON.parse(E[t+1]);k.X.b5(u.add.vogk,u.add.vmsk);if(r>=0)u.ET($)}$.U()}if(h==H.p4){d.add.artb=JSON.parse(i.aaH);
$.U();D.Xw.L8($,i)}if(h==H.hV){$.J=i.dF;$.kY=i._A.slice(0);$.o7=i.If.slice(0);$.nU=$.u6=!0}if(h==H.aa){d.wf=!d.wf}if(h==H.y0){var Y=i.a1k;
for(var t=0;t<Y.length;t++)$.B[t].nM=Y[t]}if(h==H.ad){if(i.Xg)D.NN.m8($,$.g,null,-i.Xg.x,-i.Xg.y);if(i.O2)$.g=i.O2;
if(i.Gf)$.J=i.Gf[0];$.$H=null;$.U();$.Lq(i.bb);D.Xw.L8($,i);if(i.dy)$.N7(i.dy[0])}if(h==H.x6){for(var t=0;
t<i.Qo.length;t+=3)D.Q4.ZK($,$.B[i.Qo[t]],i.Qo[t+1]);if(i.Gf){var S=i.Gf[0];if(S==null)delete $.J;else $.J=S}}if(h==H.wv){d.Hi($).z=null;
d.U();$.U()}if(h==H.wt){d.Hi($).z=i.z;d.U();$.U()}if(h==H.U8){D.Q4.ape($,i.HZ,0)}if(h==H.OS){D.Q4.g6($,d,!0)}if(h==H.FP){D.Q4.g6($,$.B[i.pW],i.z.isEnabled);
D.Q4.Rn($,$.B[i.src],i)}if(h==H.Jv){if(i.oe)D.Q4.ZK($,d,null);D.Q4.Rn($,d,i)}if(h==H.lb){$.Y3=JSON.parse(i.T1)}if(h==H.h0){$.name=i.acM}if(h==H.gv){for(var t=0;
t<i.J0.length;t++){var m=i.J0[t],u=$.B[m[0]];u.DN(m[1]);if(m[3])u.add.lnsr=m[3];else delete u.add.lnsr}}if(h==H.T7){for(var t=0;
t<i.B.length;t++)$.B[i.B[t]].add.lclr=i.a3k[t]}if(h==H.O5){var Q=i.a0u;for(var t=0;t<i.o5.length;t++){var u=$.B[i.o5[t]],z=Q[t];
if(!i.Wj)u.add.vstk=JSON.parse(JSON.stringify(z));else D.cI.YI(u,JSON.parse(JSON.stringify(z)));u.RA($)}$.U()}if(h==H.IF){d.ahe(i.pp);
d.ET($);$.U()}$.u6=!0};D.Q4.prototype.Oi=function(i,$){var h=i.d,d=$.B[i.a];$.$x=!0;if(h==H.lk){$.add.lnk2.splice($.add.lnk2.indexOf(i.Zb),1,i.Z4);
D.Q4.j0($,i.id,i.Zb.eZ[1],i.Z4.eZ[1])}if(h==H.iR){d.add.SoLd.Impr.v.classID=i.gj;d.u8($)}if(h==H.L0){var K=JSON.parse(i.o5);
for(var t=0;t<K.length;t++)$.B[K[t]].R$=i.gj;$.U()}if(h==H.PW){var K=JSON.parse(i.o5);for(var t=0;t<K.length;
t++)$.B[K[t]].opacity=i.gj;$.U()}if(h==H.ex){var K=JSON.parse(i.o5);for(var t=0;t<K.length;t++)if($.B[K[t]].add.lsct!=gX.ZH)$.B[K[t]].add.lspf=i.gj[t]}if(h==H.fi){var f=i.ay8,l=i.bf;
delete d.add[f[0]];if(l[0]!="----")d.add[l[0]]=l[1]}if(h==H.Bh){d.add.iOpa=i.gj;$.U()}if(h==H.Ja){for(var t=0;
t<i.o5.length;t++){var u=$.B[i.o5[t]];u.DJ(!u.ji())}$.U()}if(h==H.M2){var U=d.MQ();U.isEnabled=!U.isEnabled;
d.ET($);$.U()}if(h==H.ay){var U=d.Hi($).z;U.isEnabled=!U.isEnabled;d.U();$.U()}if(h==H.dg){var U=d.add.vmsk;
U.isEnabled=!U.isEnabled;if(!U.isEnabled){if(d.oe){d.z=d.oe;d.oe=null}else d.z=null}else if(d.z){d.oe=d.z;
d.z=null}d.ET($);$.U()}if(h==H.bx){d.sD=!d.sD;$.U()}if(h==H.YC){d.add.lmfx.masterFXSwitch.v=!d.add.lmfx.masterFXSwitch.v;
d.A0.lx=!0;$.U()}if(h==H.dz){d.add.SoLd.filterFX.v.enab.v=!d.add.SoLd.filterFX.v.enab.v;d.aR($);$.U()}if(h==H.$i){var y=i.index,a=d.add.lmfx[et.CE[y[0]]].v[y[1]].v;
a.enab.v=!a.enab.v;d.A0.lx=!0;$.U()}if(h==H.X4){var v=$.B[i.uG],c=$.B[i.bt],p=i.axa,C=i.al$;if(p=="")delete v.add.lmfx;
else v.add.lmfx=JSON.parse(p);if(C=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(C);v.A0.lx=!0;c.A0.lx=!0;
$.U()}if(h==H.K4){var T=d.add.SoLd.filterFX.v.filterFXList.v[i.index].v;T.enab.v=!T.enab.v;d.aR($);$.U()}if(h==H.a2w){d.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(i.a6u));
d.aR($);$.U()}if(h==H.RX){var U=d.MQ();U.sE=!U.sE}if(h==H._g){var U=d.add.vmsk;U.sE=!U.sE}if(h==H.$m){var E=JSON.parse(i.a62);
$.H0=E[0];$.OH=E[1]}if(h==H.$K){var E=i.oB;for(var t=0;t<E.length;t+=2){var r=E[t],u=r>=0?$.B[r]:$.w3[-1-r];
u.add.vogk=JSON.parse(E[t+1]);k.X.b5(u.add.vogk,u.add.vmsk);if(r>=0)u.ET($)}$.U()}if(h==H.p4){d.add.artb=JSON.parse(i.At);
$.U();D.Xw.gW($,i)}if(h==H.hV){$.J=i.sG;$.kY=i.oB.slice(0);$.o7=i.My.slice(0);$.nU=$.u6=!0}if(h==H.aa){d.wf=!d.wf}if(h==H.y0){var Y=i.alh;
for(var t=0;t<Y.length;t++)$.B[t].nM=Y[t]}if(h==H.ad){$.a6j();var S=i.mV,m=0,Q;for(var t=0;t<S.length;
t++){var u=S[t],z=u.add.lsct;if(z==gX.ZH)m++;else if(z==gX.DU||z==gX.qC)m--;if(u.add.artb&&m!=0)Q="Artboards can not be inside folders."}if(Q){$.history.pop();
$.oD--;alert(Q);return}D.Xw.gW($,i);if(i.mP)$.g=i.mP;if(i.Gf)$.J=i.Gf[1];$.$H=null;$.U();$.Lq(i.mV);
if(i.Xg)D.NN.m8($,$.g,null,i.Xg.x,i.Xg.y);if(i.dy)$.N7(i.dy[1])}if(h==H.x6){for(var t=0;t<i.Qo.length;
t+=3)D.Q4.ZK($,$.B[i.Qo[t]],i.Qo[t+2]);if(i.Gf){var n=i.Gf[1];if(n==null)delete $.J;else $.J=n}}if(h==H.wv){d.Hi($).z=i.z;
d.Tu=0;d.U();$.U()}if(h==H.wt){d.Hi($).z=null;d.Tu=0;d.U();$.U()}if(h==H.U8){D.Q4.ape($,i.HZ,1)}if(h==H.OS){D.Q4.Rn($,d,i)}if(h==H.FP){D.Q4.g6($,$.B[i.src],i.z.isEnabled);
D.Q4.Rn($,$.B[i.pW],i)}if(h==H.Jv){D.Q4.g6($,d,i.z.isEnabled);if(i.oe)D.Q4.ZK($,d,i.oe)}if(h==H.lb){$.Y3=JSON.parse(i.if)}if(h==H.h0){$.name=i.wo}if(h==H.gv){for(var t=0;
t<i.J0.length;t++){var Z=i.J0[t],u=$.B[Z[0]];u.DN(Z[2]);if(Z[4])u.add.lnsr=Z[4];else delete u.add.lnsr}}if(h==H.T7){for(var t=0;
t<i.B.length;t++)$.B[i.B[t]].add.lclr=i.OA[t]}if(h==H.O5){var P=i.lB;for(var t=0;t<i.o5.length;t++){var u=$.B[i.o5[t]],V=P[t];
if(!i.Wj)u.add.vstk=JSON.parse(JSON.stringify(V));else D.cI.YI(u,JSON.parse(JSON.stringify(V)));u.RA($)}$.U()}if(h==H.IF){d.ahe(i.gj);
d.ET($);$.U()}$.u6=!0};D.Q4.xm=function(i,$){var h=0;for(var t=0;t<i.B.length;t++){var d=i.B[t].getName();
if(d.startsWith($)){var K=d.slice($.length).trim(),f=parseInt(K);if(!isNaN(f)&&f+""==K&&f>h)h=f}}return h};
D.Q4.ape=function(i,$,h){for(var t=0;t<$.length;t++){var d=$[t],K=i.B[d.oG];if(d.qy){K.add.SoLd=JSON.parse(d.qy[h])}if(d.rq){if(d.rq[1-h]!=null)i.Ro(d.rq[1-h]);
if(d.rq[h]!=null)i.G6(d.rq[h]);else K.Tu=0}K.u8(i)}};D.Q4.axF=function(i,$){var h=i.Eo,d=i.rect.clone();
if(h!=null&&(h.x!=$.e||h.y!=$.n)){d.x=Math.floor(($.e-d.e)/2);d.y=Math.floor(($.n-d.n)/2)}else if(h==null){var K=new bN(0,0,$.e,$.n),f=$.ii();
if(f!=-1)K=$.B[f].Ik();d.x+=K.x;d.y+=K.y}return d};D.Q4.a1C=function(i,$){if($.oe)$.oe=null;else $.z=null;
$.ET(i);i.U();$.Tu=0};D.Q4.ZK=function(i,$,h){var d=$.MQ();if(d==null&&h==null)return;if(d)D.Q4.a1C(i,$);
if(h==null)return;if($.z)$.oe=h;else $.z=h;$.ET(i);i.U()};D.Q4.g6=function(i,$,h){if($.oe&&h){$.z=$.oe;
$.oe=null}else if($.z&&h){$.z=null}delete $.add.vogk;delete $.add.vstk;delete $.add.vmsk;$.ET(i);$.fx=!1;
i.$H=[];i.U()};D.Q4.Rn=function(i,$,h){$.add.vogk=JSON.parse(h.X);if(h._T)$.add.vstk=JSON.parse(h._T);
else delete $.add.vstk;$.add.vmsk=h.z.clone();if($.z&&$.add.vmsk.isEnabled)$.oe=$.z;$.ET(i);$.fx=h.o2;
i.$H=[i.B.indexOf($)];i.LK=[];i.U()};D.Jq=function(){D.TK.call(this,"Layer Styles",D.s1);this.yZ=null;
this.v8=null;this.uc=null;this.MO=[];this._9=null};D.Jq.prototype=new D.TK;D.Jq.prototype.d6=function(i,$,h,d,K){var f=i.a;
if(f==null)f=h.g[0];var l=h.B[f],u=i.zH;if(this.yZ==null){this.uc=D.Jq.Cz(h,l);this.yZ=JSON.stringify(this.uc);
if(l.add.lmfx)this.v8=JSON.stringify(l.add.lmfx)}if(l.add.lmfx==null){l.add.lmfx=JSON.parse(et.default);
for(var t=0;t<et.order.length;t++)l.add.lmfx[et.CE[t]]={t:"VlLs",v:[]}}if(i.d=="scaleeffects"){if(i.L=="confirm"||i.L=="cancel"){this.d6({d:i.L},$,h,d,K);
return}l.add.lmfx=JSON.parse(this.v8);eN.BQ(l.add.lmfx,i.L/100)}else if(i.d=="changeprop"){var U=null;
if(u!=0){var y=this.MO[u[0]];if(y==null)y=et.MO[u[0]];y=JSON.parse(y);var a=l.add.lmfx[et.CE[u[0]]].v;
if(a[u[1]]==null)a[u[1]]={t:"Objc",v:y};U=a[u[1]].v;for(var v in y)if(U[v]==null)U[v]=y[v]}if(i.d=="changeprop"){if(u==0){this.uc[i.lL].v=i.L;
D.Jq.dT(h,l,this.uc)}else if(i.lL=="lagl"){if(U.uglg&&U.uglg.v){h.gO(i.L.val);this.uc.gagl.v.val=h.Hk()}else U[i.lL].v=i.L}else if(i.lL=="Lald"){if(U.uglg.v){h.$c(i.L.val);
this.uc.ahE=h.Cj()}else U[i.lL].v=i.L}else if((u[0]==3||u[0]==8)&&(i.lL=="Clr"||i.lL=="Grad")){if(i.lL=="Clr"){U.Clr={t:"Objc",v:i.L};
delete U.Grad}if(i.lL=="Grad"){U.Grad={t:"Objc",v:i.L};delete U.Clr}}else{U[i.lL].v=i.L}if(u!=0)this.MO[u[0]]=JSON.stringify(U)}if(u!=0)if(U.Ptrn)h.pk(eN.Y1(U.Ptrn.v,K.c$))}else if(i.d=="setstl"){var c=i.L.Lefx;
if(c)eN.atJ(c,h,K.c$);eN.aqe(i.L,l,null,h);this.uc=D.Jq.Cz(h,l)}else if(i.d=="st_dupsingle"){var p=l.add.lmfx[et.CE[i.cK[0]]].v;
if(p[i.cK[1]]==null)return;var C=JSON.parse(JSON.stringify(p[i.cK[1]]));p.splice(i.cK[1],0,C)}else if(i.d=="st_movsingle"){var T=i.cK[1],p=l.add.lmfx[et.CE[i.cK[0]]].v;
if(p[i.cK[1]]==null)return;var E=Math.max(0,Math.min(p.length-1,T+i.a1b)),r=p[E];p[E]=p[T];p[T]=r}else if(i.d=="cancel"){if(this.v8==null)delete l.add.lmfx;
else l.add.lmfx=JSON.parse(this.v8);D.Jq.dT(h,l,JSON.parse(this.yZ));this.yZ=null;this.v8=null}else if(i.d=="confirm"){var Y=JSON.stringify(l.add.lmfx),S=new dS([11,6],this);
S.data={B:[f],yR:[this.v8],f0:[Y],s_:[this.yZ],dd:[JSON.stringify(this.uc)]};h.JY(S);this.yZ=null;this.v8=null;
if(Y!=null){var m=JSON.parse(Y);fT.fM(m);m.classID="Lefx";delete m.masterFXSwitch;var Q=new eU(x.E.jm);
Q.Ea=!0;Q.data={Fs:"set",mh:!0};var z=jV.uf("Lyr",!0);z.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
Q.data.B6={__name:"Set",classID:"setd",null:z,T:{t:"Objc",v:m}};$.$(Q)}}else if(i.d=="st_copy"){this._9=[this.yZ,this.v8];
this.yZ=null;this.v8=null}else if(i.d=="st_paste"||i.d=="st_clear"){if(i.d=="st_paste"&&this._9==null)return;
var n=i.a!=null?[i.a]:h.g.slice(0),Z=[],P=[],V=[],I=[];for(var t=0;t<n.length;t++){var l=h.B[n[t]],q=D.Jq.Cz(h,l);
Z.push(l.add.lmfx?JSON.stringify(l.add.lmfx):null);V.push(JSON.stringify(q));if(i.d=="st_paste"){P.push(this._9[1]);
I.push(this._9[0])}else{P.push(null);q.lrMd.v=0;q.Opct.v.val=100;q.iOpa.v.val=100;q.blIf={v:[]};for(var X=0;
X<10;X++)q.blIf.v.push(0,0,255,255);I.push(JSON.stringify(q))}}var S=new dS([11,6],this);S.data={B:n,yR:Z,f0:P,s_:V,dd:I};
this.Oi(S.data,h);h.JY(S);this.yZ=null;this.v8=null}else{var B=this.uc,m=null;if(i.d=="st_delsingle"){m=JSON.parse(this.v8);
m[et.CE[i.cK[0]]].v.splice(i.cK[1],1);m=JSON.stringify(m)}if(m==null)delete l.add.lmfx;else l.add.lmfx=JSON.parse(m);
if(B!=null)D.Jq.dT(h,l,B);var S=new dS([11,6],this);S.data={B:[i.a],yR:[this.v8],f0:[m],s_:[this.yZ],dd:[JSON.stringify(B)]};
h.JY(S);this.yZ=null;this.v8=null}l.A0.lx=!0;h.$x=!0;h.U()};D.Jq.Cz=function(i,$){if($.add.iOpa==null)$.add.iOpa=255;
if($.add.brst==null)$.add.brst=[1,1,1];var h=$.BT()?["pass"].concat(ca.bj):ca.bj;return{lrMd:{v:h.indexOf($.R$)},Opct:{v:{type:"#Prc",val:Math.round($.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round($.add.iOpa*100/255)},t:"UntF"},blIf:{v:$.$z.slice(0)},brst:{v:$.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:i.Hk()}},ahE:i.Cj(),BT:$.BT()}};
D.Jq.dT=function(i,$,h){var d=$.BT()?["pass"].concat(ca.bj):ca.bj;$.R$=d[h.lrMd.v];$.opacity=Math.round(h.Opct.v.val*255/100);
$.add.iOpa=Math.round(h.iOpa.v.val*255/100);$.$z=h.blIf.v.slice(0);$.add.brst=h.brst.v.slice(0);i.gO(h.gagl.v.val);
i.$c(h.ahE)};D.Jq.prototype.RU=function(i,$){for(var t=0;t<i.B.length;t++){var h=$.B[i.B[t]],d=i.yR[t];
if(d==null)delete h.add.lmfx;else h.add.lmfx=JSON.parse(d);D.Jq.dT($,h,JSON.parse(i.s_[t]));h.A0.lx=!0}$.$x=!0;
$.U()};D.Jq.prototype.Oi=function(i,$){for(var t=0;t<i.B.length;t++){var h=$.B[i.B[t]],d=i.f0[t];if(d==null)delete h.add.lmfx;
else h.add.lmfx=JSON.parse(d);D.Jq.dT($,h,JSON.parse(i.dd[t]));h.A0.lx=!0}$.$x=!0;$.U()};D.Re=function(){D.TK.call(this,"Layer Comps",D.nr)};
D.Re.prototype=new D.TK;D.Re.prototype.d6=function(i,$,h,d){var K=JSON.parse(JSON.stringify(h.wh)),f=JSON.parse(JSON.stringify(h.wh)),l=null,u=null,U=null,y=-1,a=!1;
if(i.d=="delLC"){var v=D.Re.iy(h.wh,i.zH),c=h.wh.lastAppliedComp?h.wh.lastAppliedComp.v:0;f.list.v.splice(v,1);
if(c==i.zH)delete f.lastAppliedComp;l="Delete Layer Comp"}if(i.d=="editLC"){var v=D.Re.iy(h.wh,i.zH),p=f.list.v[v].v;
if(i.wo!=null)p.Nm.v=i.wo;if(i.ajC!=null){var C=i.ajC,T=p.capturedInfo.v,E=T&(1<<C)-1;T=T>>C;if((T&1)==1)T--;
else T++;p.capturedInfo.v=(T<<C)+E}l="Layer Comp properties"}if(i.d=="setLC"){D.Re.ZN(h);if(i.zH==0)delete f.lastAppliedComp;
else f.lastAppliedComp={t:"long",v:i.zH};l="Switch Layer Comp";a=!0}if(i.d=="updLC"){D.Re.ZN(h);u=D.Re.adU(h,i.zH);
U=D.Re.hm(h,i.zH);f.lastAppliedComp={t:"long",v:i.zH};l="Update Layer Comp";y=i.zH;a=!0}if(i.d=="addLC"){D.Re.ZN(h);
var r=1;for(var t=0;t<f.list.v.length;t++)r=Math.max(r,f.list.v[t].v.compID.v)+1;r+=Math.floor(Math.random()*1e4);
var Y={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(f.list.v.length+1)},compID:{t:"long",v:r},capturedInfo:{t:"long",v:7}}};
f.list.v.push(Y);f.lastAppliedComp={t:"long",v:r};l="New Layer Comp";var S=D.Re.hm(h,r);D.Re._J(h,S,r)}var m=new dS(l,this);
m.data={a86:K,atj:f,a51:u,awe:U,zH:y,jb:a};this.Oi(m.data,h);h.JY(m)};D.Re.prototype.Oi=function(i,$){$.wh=i.atj;
$.$x=!0;if(i.awe)D.Re._J($,i.awe,i.zH);if(i.jb){var h=$.wh.lastAppliedComp?$.wh.lastAppliedComp.v:0,d=D.Re.iy($.wh,h),K=d==-1?null:$.wh.list.v[d].v,f=K?K.capturedInfo.v:7;
D.Re.qM($,h,f);$.U()}};D.Re.prototype.RU=function(i,$){$.wh=i.a86;$.$x=!0;if(i.a51)D.Re._J($,i.a51,i.zH);
if(i.jb){var h=$.wh.lastAppliedComp?$.wh.lastAppliedComp.v:0,d=D.Re.iy($.wh,h),K=d==-1?null:$.wh.list.v[d].v,f=K?K.capturedInfo.v:7;
D.Re.qM($,h,f);$.U()}};D.Re.ZN=function(i){if(i.wh.lastAppliedComp!=null||!i.vD)return;var $=D.Re.hm(i,0);
D.Re._J(i,$,0);i.vD=!1};D.Re.h4=function(i,$,h){i.v.Hrzn.v+=$;i.v.Vrtc.v+=h};D.Re.iy=function(i,$){var h=i.list.v;
for(var t=0;t<h.length;t++)if(h[t].v.compID.v==$)return t;return-1};D.Re.a3D=function(i){var $=i.layerSettings.v,K=null;
if($.length==0)return;var h="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),d=$[0].v;
if(d.enab==null)d.enab={t:"bool",v:!0};if(d.Ofst==null)d.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var t=0;t<$.length;t++){var f=$[t].v;if(K==null)K=JSON.parse(JSON.stringify(f));else for(var l=0;
l<h.length;l++){var u=h[l];if(f[u])K[u]=JSON.parse(JSON.stringify(f[u]))}$[t].v=JSON.parse(JSON.stringify(K))}};
D.Re.apI=function(i,$){var h=i.add.shmd.cmls,d=h.layerSettings.v;for(var K=0;K<d.length;K++){var f=d[K].v,l=f.compList.v[0].v;
if(l==$)return K}return-1};D.Re.a8O=function(i,$){var h=D.Re.apI(i,$);return h==-1?null:i.add.shmd.cmls.layerSettings.v[h].v};
D.Re.qM=function(i,$,h){for(var t=0;t<i.B.length;t++){var d=i.B[t],K=d.add.shmd.cmls;if(K==null)continue;
var f=K.layerSettings.v,l=D.Re.a8O(d,$);if(l==null){d.DJ(!1);continue}if((h&1)!=0){if(l.enab)d.DJ(l.enab.v);
else d.DJ(!0)}if((h&2)!=0){if(l.Ofst){var u=l.Ofst.v,U=d.ys(i),y=Math.round(u.Hrzn.v-U.x),a=Math.round(u.Vrtc.v-U.y);
if(y!=0||a!=0)D.NN.m8(i,[t],null,y,a)}}if((h&4)!=0){if(l.Lefx){var v=JSON.parse(JSON.stringify(l.Lefx.v));
fT.pi(v);if(JSON.stringify(v)!=JSON.stringify(d.add.lmfx)){d.add.lmfx=v;d.A0.lx=!0}}else delete d.add.lmfx;
if(l.blendOptions){var c=l.blendOptions.v;if(c.Opct)d.opacity=Math.round(255*c.Opct.v.val/100);if(c.fillOpacity)d.add.iOpa=Math.round(255*c.fillOpacity.v.val/100);
if(c.Md)d.R$=d.add.lsct==gX.ZH?"norm":ca.Mp(c.Md.v.BlnM)}else{d.opacity=255;d.R$=d.BT()?"pass":"norm";
d.add.iOpa=255}}}};D.Re.adU=function(i,$){var h={};for(var t=0;t<i.B.length;t++){var d=i.B[t];if(d.add.shmd==null||d.add.shmd.cmls==null)continue;
h["l"+d.add.lyid]=JSON.parse(JSON.stringify(D.Re.a8O(d,$)))}return h};D.Re.hm=function(i,$){var h={};
for(var t=0;t<i.B.length;t++){var d=i.B[t],K=d.add.lyid;h["l"+K]=D.Re.a58(i,d,$)}return h};D.Re.a58=function(i,$,h){var d=$.add.shmd?$.add.shmd.cmls:null,K={classID:"null"},f=$.ys(i),l={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:f.x},Vrtc:{t:"long",v:f.y}}};
K.compList={t:"VlLs",v:[{t:"long",v:h}]};K.enab={t:"bool",v:$.ji()};K.Ofst=JSON.parse(JSON.stringify(l));
K.FXRefPoint=JSON.parse(JSON.stringify(d&&d.origFXRefPoint?d.origFXRefPoint:l));K.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ca.ml($.R$)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*$.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:$.add.iOpa!=null?100*$.add.iOpa/255:100}}}};
if($.add.vmsk){K.vectorMask={t:"Objc",v:{classID:"null"}};K.vectorMask.v.Ofst=JSON.parse(JSON.stringify(l))}if($.add.lmfx){K.Lefx={t:"Objc",v:JSON.parse(JSON.stringify($.add.lmfx))};
fT.fM(K.Lefx.v)}return K};D.Re.a4c=function(i,$){var h=$.add.lyid;if($.add.shmd==null)$.add.shmd={};
if($.add.shmd.cmls==null){$.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:h},layerSettings:{t:"VlLs",v:[{t:"Objc",v:D.Re.a58(i,$,0)}]}}}};
D.Re._J=function(i,$,h){for(var t=0;t<i.B.length;t++){var d=i.B[t],K=d.add.lyid;D.Re.a4c(i,d);var f=d.add.shmd.cmls,l=f.layerSettings.v,u=$["l"+K];
if(u!=null)u={t:"Objc",v:JSON.parse(JSON.stringify(u))};var U=D.Re.apI(d,h);if(U==-1){if(u==null)continue;
else l.push(u)}else{if(u==null)l.splice(U,1);else l[U]=u}}};D.Re.lO=function(i,$){for(var t=0;t<i.B.length;
t++){var h=i.B[t],d=h.add.lyid;if(h.add.shmd==null||h.add.shmd.cmls==null)continue;var K=h.ys(i),f=Math.round(K.x),l=Math.round(K.y);
if(!$){f=-f;l=-l}var u=h.add.shmd.cmls,U=u.layerSettings.v;if(u.origFXRefPoint)D.Re.h4(u.origFXRefPoint,-f,-l);
for(var y=0;y<U.length;y++){var a=U[y].v;D.Re.h4(a.Ofst,f,l);var v=a.imageMask,c=a.vectorMask;if(v&&v.v.Ofst)D.Re.h4(v.v.Ofst,f,l);
if(c&&c.v.Ofst)D.Re.h4(c.v.Ofst,f,l)}}};D.L1=function(){D.TK.call(this,"Adjust Edit",D.xT);this.if=null;
this.cn=null};D.L1.prototype=new D.TK;D.L1.zK=function(i,$,h,d){if(d)$/=4;var K=0,f=0,l=255,u=0,U=0,y=255;
while(f+i[K]<$){f+=i[K];K++}while(u+i[l]<$){u+=i[l];l--}if(d){K-=Math.round(i[K]/(h/32));l+=Math.round(i[l]/(h/32));
if(K<0)U=Math.round(-K*255/(l-K));if(l>255)y=255-Math.round((l-255)*255/(l-K))}return[Math.max(K,0),Math.min(l,255),U,y,100]};
D.L1.prototype.d6=function(i,$,h,d,K){var f=i.d;if(f=="auto"){var l=i.jQ,u=D.L1.getData(h);for(var t=0;
t<u.length;t++){var U=u[t],y;if(l<3){}else{var a=d1.U9("hue2");dm.Jc(a,0,[0,-100,0]);y=f2.Bd("hue2",a)}f2.kG(y,U.tp,U.i7,U.gZ)}D.L1.RH(h,u);
D.L1.bh(h,u,l<3?[4,16,l]:[19,7,0],this);h.U()}if(f=="edit_layer")this.ayA(i,$,h,d);if(f=="edit"||f=="confirm"||f=="cancel")this.Yf(i,$,h,K,!0);
if(f=="start"){if(h.g.length==0)return;var v=h.B[h.g[0]];if(v.add.SoLd&&v.Tu<=0&&h.o7.length==0){var c=new eU(x.E.s,!0);
c.b=D.QE;c.data={d:"start",I_:i.Mm,Pr:i.Pr};$.$(c);return}if(!h.iI($,null,!0))return;if(eK[i.Mm]&&i.Pr==null){if(h.g.length!=1)alert("Will be applied to "+h.g.length+" layers.");
var c=new eU(x.E.k,!0);c.data={d:x.c.ZD,Kh:"afw_"+i.Mm};$.$(c)}else{this.Yf({d:"edit",Pr:i.Pr,I_:i.Mm},$,h,K);
this.Yf({d:"confirm",I_:i.Mm},$,h,K)}}};D.L1.prototype.ayA=function(i,$,h,d){var K=i.d,f=h.g[0],l=h.B[f],u=f2.get(l.add),U=JSON.parse(JSON.stringify(l.add[u])),c;
for(var y in i.L)U[y]=i.L[y];var a=JSON.parse(JSON.stringify(U));for(var y in f2.gm)if(f2.gm[y]==u)a.classID=y;
var v=h.history[h.oD];if(v&&v.b==this&&v.data.pp!=null&&v.data.a==f)c=v;else{var p=new eU(x.E.jm,!0),C={classID:"setd",null:jV.uf("AdjL",!0),T:{t:"Objc",v:a}};
p.data={mh:!0,Fs:"set",B6:C};$.$(p);var c=new dS([6,39],this);c.data={a:f,pp:l.add[u],gj:U,gt:C};h.JY(c)}c.data.gj=U;
c.data.gt.T.v=a;this.Oi(c.data,h)};D.L1.getData=function(i,$,h){var d=[],K=new bN(0,0,i.e,i.n),f=i.o7.length!=0?[-1-i.o7[0]]:i.g;
for(var t=0;t<f.length;t++){var l=f[t],u=l<0?null:i.B[l],U={a:l,uL:l<0?1:u.Tu};d.push(U);var y=i.kY[-1-l];
if(0<=l)y=u.Tu<=0?null:u.Tu==1?u.MQ():u.Hi(i).z;var a=y?y.rect:u.rect;if(i.J)U.gZ=y!=null?i.J.rect.Js(K):i.J.rect.Js(a);
else U.gZ=$||y!=null?a.rt(K):a.clone();if(h)U.gZ=h[t].gZ.clone();var v=U.gZ.O();U.tp=k.Q(v*4);if(y)D.Gg.et(y.channel,y.rect,y.color,U.tp,U.gZ);
else k.mC(u.buffer,a,U.tp,U.gZ);U.i7=U.tp.slice(0);if(i.J){U.Qo=k.Q(v);k.Zc(i.J.channel,i.J.rect,U.Qo,U.gZ)}}return d};
D.L1.acf=function(i,$,h){if($==null)return $;var d=f2.DQ(i,$),f;if(d==-1)return $;var K=h.length>>>2,l=k.L_(h),u=.001*K;
if(d==0||d==2)f=[[0,255,0,255,100],D.L1.zK(l[1],u,K,d==2),D.L1.zK(l[2],u,K,d==2),D.L1.zK(l[3],u,K,d==2)];
if(d==1)f=[D.L1.zK(l[0],u*.33,K,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var U=d1.U9("levl");
for(var t=0;t<4;t++)dO.Jc(U,t,f[t]);return U};D.L1.alg=function(i,$,h,d){var K,f;if(h.t=="name"){var l=0;
for(var u=0;u<i.B.length;u++)if(i.B[u].getName()==h.v.val)l=u;if(i==$&&l==d.a){K=d.tp;f=d.gZ}else{var U=i.B[l];
K=U.buffer;f=U.rect}}else{f=new bN(0,0,i.e,i.n);K=i==$?d.s$:i.Fy()}return[K,f]};D.L1.prototype.Yf=function(i,$,h,d){if(this.if==null){if(i.I_=="aply")h.B[h.g[0]].extend(new bN(0,0,h.e,h.n));
this.if=D.L1.getData(h,null,i.I_=="fade"?h.au().data:null);if(i.I_=="aply"||i.I_=="matc")this.if[0].s$=h.Fy()}if(i.d=="edit"){this.cn=[i.I_,i.Pr];
var K=this.if[0],f=D.L1.acf(i.I_,i.Pr,K.tp),l=f2.Bd(i.I_,f);if(i.I_=="fade"||i.I_=="matc"||i.I_=="aply")l=i.Pr;
if(l!=null){for(var u=0;u<this.if.length;u++){var U=this.if[u];if(i.l5)k.pv(U.tp,U.i7);else if(i.I_=="fade"){var y=ca.Mp(i.Pr.Md.v.BlnM),a=i.Pr.Opct.v.val/100,v=h.au().data[u];
k.pv(v.tp,U.i7);if(y=="norm")k.l.Zv(U.tp,U.gZ,U.i7,U.gZ,null,null,null,U.gZ,a);else{var c=eN.Dt();c.I7=!0;
for(var t=0;t<v.tp.length;t+=4)if(v.tp[t+3]!=U.tp[t+3]){c=null;break}k.l.NU(y,U.tp,U.gZ,U.i7,U.gZ,U.gZ,a,c)}}else if(i.I_=="matc"){var p;
if(l.noReference&&l.noReference.v)p=U.tp;else{var C=l.Srce.v,T=C[1].v.val,E=$.B_,r=h;for(var t=0;t<E.length;
t++)if(E[t].name==T)r=E[t];var Y=D.L1.alg(r,h,C[0],U);p=Y[0]}bt(U.tp,U.gZ.e,U.gZ.n,p,U.i7,[l.Lght.v,l.ClrR.v,l.Fade.v,l.neutralizeColor?l.neutralizeColor.v:!1])}else if(i.I_=="aply"){l=l.With.v;
var S=l.T.v,Y=D.L1.alg(h,h,S[1],U),p=Y[0],m=Y[1],Q=l.Clcl?l.Clcl.v.Clcn:null,y=Q?ca.Mp(Q):"norm",a=l.Opct?l.Opct.v.val/100:1,z=["RGB","Rd","Grn","Bl","Trsp"].indexOf(S[0].v.enum),f=l.Invr&&l.Invr.v;
if(f||z!=0){p=p.slice(0);if(f)k.apO(p);if(z!=0){var n=k.Q(m.O());k.pO(p,n,z-1);if(z==4)k.Sp(n);for(var Z=0;
Z<3;Z++)k.k1(n,p,Z)}}if(Q=="Add"||Q=="Sbtr"){var P=1/l.Scl.v,V=l.Ofst.v,I=Q=="Add"?1:-1,q=new Uint8ClampedArray(U.i7.buffer);
for(var t=0;t<p.length;t+=4){q[t]=(U.tp[t]+I*p[t])*P+V;q[t+1]=(U.tp[t+1]+I*p[t+1])*P+V;q[t+2]=(U.tp[t+2]+I*p[t+2])*P+V}}else{var c=eN.Dt();
c.I7=l.PrsT&&l.PrsT.v;U.i7.fill(0);U.i7.set(U.tp);k.l.NU(y,p,m,U.i7,U.gZ,U.gZ,a,c)}}else f2.kG(l,U.tp,U.i7,U.gZ)}D.L1.RH(h,this.if)}}if(i.d=="cancel"){D.L1.akS(h,this.if);
this.if=null}if(i.d=="confirm"){var X={fade:[2,11],aply:[2,12],matc:[4,18]},B=X[i.I_];if(B==null)B=f2.names[i.I_];
var e=f2.DQ(i.I_,this.cn[1]);if(e!=-1)B=[4,16,e];D.L1.bh(h,this.if,B,this);this.if=null;if(e==-1)D.L1.HX($,this.cn)}h.U()};
D.L1.HX=function(i,$){var h=$[0],d=$[1],K,f;if(f2.FC[h]){K=f2.FC[h];if(eK[h])f=d}if(d1.FC[h]){K=d1.FC[h];
if(eK[h])f=d}if(h=="fade"){K="fade";f=d}if(h=="matc"){K="matchColor";f=d}if(h=="aply"){K="applyImageEvent";
f=d}if(K==null)return;var l=new eU(x.E.jm,!0);l.data={mh:!0,Fs:K};if(f){f=JSON.parse(JSON.stringify(f));
f.classID="null";delete f.__name;l.data.B6=f}i.$(l)};D.L1.akS=function(i,$){D.L1.qz(i,$)};D.L1.bh=function(i,$,h,d){for(var t=0;
t<$.length;t++){var K=$[t],f=i.B[K.a],l=K.a<0?i.kY[-1-K.a]:K.uL<=0?null:K.uL==1?f.MQ():f.Hi(i).z;if(l){l.HH();
l.D3=!0;if(f)f.ET(i)}else{f.HH();f.U()}delete K.i7;delete K.Qo}var u=new dS(h,d);u.data=$;i.JY(u);i.$x=!0};
D.L1.RH=function(i,$,h){for(var t=0;t<$.length;t++){var d=$[t],K=i.B[d.a],f=h?d.tp:d.i7,l=d.gZ;if(d.uL==0){K.extend(l);
if(d.Qo){k.mC(d.tp,l,K.buffer,K.rect);k.l.Zv(f,l,K.buffer,K.rect,d.Qo,l,0,l,1)}else k.mC(f,l,K.buffer,K.rect)}else{var u=d.a<0?i.kY[-1-d.a]:d.uL==1?K.MQ():K.Hi(i).z;
u.extend(l);if(d.Qo){var U=k.Q(l.O()*4);k.pv(d.tp,U);k.l.Zv(f,l,U,l,d.Qo,l,0,l,1);D.Gg.CO(U,l,u)}else D.Gg.CO(f,l,u);
u.D3=!0;if(K)K.ET(i)}if(K)K.U()}if(!h)D.L1.a68(i,$)};D.L1.qz=function(i,$){for(var t=0;t<$.length;t++){var h=$[t],d=i.B[h.a],K=h.gZ,f=k.Q(K.O()*4);
if(h.uL==0){k.mC(d.buffer,d.rect,f,K);d.extend(K);k.mC(h.tp,K,d.buffer,d.rect);d.HH()}else{var l=h.a<0?i.kY[-1-h.a]:h.uL==1?d.MQ():d.Hi(i).z;
D.Gg.et(l.channel,l.rect,l.color,f,K);l.extend(K);D.Gg.CO(h.tp,K,l);l.HH();l.D3=!0;if(d)d.ET(i)}h.tp=f;
if(d)d.U()}i.$x=!0};D.L1.a68=function(i,$){var h=D.L1.ad6(i),d=~h;if(h==16777215)return;for(var t=0;
t<$.length;t++){var K=$[t],f=i.B[K.a],l=K.gZ;if(K.uL!=0)continue;f.extend(l);var u=l.x-f.rect.x,U=l.y-f.rect.y,y=f.rect.e,a=new Uint32Array(K.tp.buffer),v=new Uint32Array(f.buffer.buffer);
for(var c=0;c<l.n;c++)for(var p=0;p<l.e;p++){var C=c*l.e+p,T=(c+U)*y+(p+u);v[T]=v[T]&h|a[C]&d}f.HH();
f.U()}i.U()};D.L1.ad6=function(i){var $=i.u.rB;return $[2]*16711680|$[1]*65280|$[0]*255};D.L1.prototype.RU=function(i,$){var h=$.B[i.a];
if(i.pp!=null)h.add[f2.get(h.add)]=i.pp;else D.L1.qz($,i);$.U()};D.L1.prototype.Oi=function(i,$){var h=$.B[i.a];
if(i.pp!=null)h.add[f2.get(h.add)]=i.gj;else D.L1.qz($,i);$.U()};D._h=function(){D.TK.call(this,"Filter Edit",D.QE);
this.if=null;this.c4=null;this.d=null;this.cn=null};D._h.prototype=new D.TK;D._h.prototype.d6=function(i,$,h,d,K){if(i.d=="start"){if(h.g.length==0)return;
var f=h.B[h.g[0]];if(f.add.SoLd&&f.Tu<=0&&h.o7.length==0){}else if(!h.iI($,null,!0))return;var l=i.I_;
if((eK[l]||d1.q[l])&&i.Pr==null){if(h.g.length!=1)alert("Will be applied to "+h.g.length+" layers.");
var u=new eU(x.E.k,!0);u.data=D._h.arl(l,this.gF(h,l));$.$(u)}else{var U={d:"edit",I_:l,Pr:i.Pr,_c:this.gF(h)};
this.d6(U,$,h,d,K);U.d="confirm";delete U.Pr;this.d6(U,$,h,d,K)}}if(i.d=="edit"||i.d=="cancel"||i.d=="confirm"){if(i.d=="edit")this.cn=[i.I_,i.Pr];
if(i._c)this.a1B(i,$,h,K);else this.a7A(i,$,h,K)}if(i.d=="applylast"&&this.cn!=null){var U={d:"edit",I_:this.cn[0],Pr:this.cn[1],_c:this.gF(h)};
this.d6(U,$,h,d,K);U.d="confirm";delete U.Pr;this.d6(U,$,h,d,K)}};D._h.arl=function(i,$){var h=d1.q[i];
if(h)return{d:x.c.ro,b:h,Py:{_c:$}};else return{d:x.c.ZD,Kh:"afw_"+i,_c:$}};D._h.prototype.gF=function(i,$){var h=i.B[i.g[0]],d;
if(h.add.SoLd&&h.Tu<=0&&i.o7.length==0){d={a:i.g[0],index:0};if(h.add.SoLd.filterFX!=null){var K=h.add.SoLd.filterFX.v.filterFXList.v;
d.index=K.length;for(var t=0;t<K.length;t++)if(d1.Pu(K[t].v)==$&&d1.q[$])d.index=t}}return d};D._h.prototype.a1B=function(i,$,h,d){var K=h.B[i._c.a],f=i.I_;
if(i.d=="edit"){if(this.d==null){var l=d1.names[f];if(l==null)l=f2.names[f];if(f=="blendOptions")l=[14,10];
this.d=new dS(l,this);this.d.data={_c:i._c,a3t:JSON.parse(JSON.stringify(K.add.SoLd))}}if(!K.Hm()){K.add.SoLd.filterFX=d1.as();
this.d.data.rq=hR.amL(K.add.SoLd.placed.v);h.G6(this.d.data.rq);K.u8(h)}var u=K.add.SoLd.filterFX.v.filterFXList.v;
if(u[i._c.index]==null){u.push(d1.K7(f,d))}if(i.Pr){u[i._c.index].v.enab.v=i.l5!=!0;if(f=="blendOptions")u[i._c.index].v.blendOptions.v=i.Pr;
else u[i._c.index].v.Fltr.v=i.Pr}this.d.data.axS=JSON.parse(JSON.stringify(K.add.SoLd));this.Oi(this.d.data,h)}if(i.d=="cancel"){if(this.d)this.RU(this.d.data,h);
this.d=null}if(i.d=="confirm"){if(this.d)h.JY(this.d);D.L1.HX($,this.cn);this.d=null}};D._h.prototype.ui=function(i){return{o:i>>>16,P:i>>>8&255,Z:i&255}};
D._h.prototype.a7A=function(i,$,h,d){if(this.if==null){var K=d1.Nz(i.I_,i.Pr);this.if=D.L1.getData(h,K.x!=0||K.y!=0)}if(i.d=="edit"){var f=JSON.stringify(i.Pr);
if((i.Pr==null||f!=this.c4)&&i.l5!=!0)for(var t=0;t<this.if.length;t++){var l=this.if[t],u={rect:l.gZ,buffer:l.tp},U={rect:l.gZ,buffer:l.i7};
if(i.I_=="Avrg"&&l.Qo){u.buffer=l.tp.slice(0);k.nO(l.Qo,u.buffer)}d1.kG(i.I_,u,i.Pr,this.ui(d.Mz),this.ui(d.n9),U,[h.add.lnk2?h.add.lnk2:[],h.B[h.g[0]].MQ(),h.kY,h.iW()]);
if(i.I_=="Avrg"&&l.Qo){var y=l.tp.length;for(var t=0;t<y;t+=4)l.i7[t+3]=l.tp[t+3]}this.c4=f}D.L1.RH(h,this.if,i.l5)}if(i.d=="cancel"){D.L1.akS(h,this.if);
this.if=null;this.c4=null}if(i.d=="confirm"){D.L1.bh(h,this.if,d1.names[i.I_],this);this.if=null;this.c4=null;
D.L1.HX($,this.cn)}h.U();h.$x=!0};D._h.prototype.RU=function(i,$){if(i._c){var h=$.B[i._c.a];if(i.rq)$.Ro(i.rq);
h.add.SoLd=JSON.parse(JSON.stringify(i.a3t));if(h.Hm())h.aR($);else{h.u8($);h.Tu=0}}else D.L1.qz($,i);
$.U();$.$x=!0};D._h.prototype.Oi=function(i,$){if(i._c){var h=$.B[i._c.a];if(i.rq)$.G6(i.rq);h.add.SoLd=JSON.parse(JSON.stringify(i.axS));
if(h.Hm())h.aR($);else h.u8($);if(!h.TQ())h.pM+=32}else D.L1.qz($,i);$.U();$.$x=!0};var dC={mW:"0",nj:"1",Sm:"2",Fr:"3",OY:"3.5",G0:"4",tY:"5",vy:"6",d_:"7",s:"8",PD:"8.5",Cs:"8.8",QS:"9",oX:"10",v_:"11",ae:"12",YK:"13",m_:"14",V8:"15",Lt:"16",nR:"17",xq:"21",aq:"22",MG:"23",Nc:"23.0",x1:"23.1",t3:"23.2",lJ:"23.3",ll:"23.4",QC:"23.5",p9:"23.6",a3j:"30",SH:"31",V4:"40",Qp:"41",cs:"42"};
dC.Gi={};dC.Gi[dC.nj]=["abr","brushes",jn,[9,3],3];dC.Gi[dC.Sm]=["grd","gradients",i2,[12,37],4];dC.Gi[dC.Fr]=["shc","contours",a1,[12,21],0];
dC.Gi[dC.OY]=["acv","curves",hI,[4,2],0];dC.Gi[dC.G0]=["asl","styles",fV,[12,22],5];dC.Gi[dC.tY]=["pat","patterns",eq,[12,62],6];
dC.Gi[dC.vy]=["csh","shapes",fC,[12,77],7];dC.Gi[dC.d_]=["aco","swatches",dN,[9,8],0];dC.Gi[dC.s]=["atn","actions",db,[9,9],2];
dC.Gi[dC.PD]=["tpl","tpresets",bm,[9,12],0];dC.Gi[dC.Cs]=["icc","profiles",en,"ICCs",8];function dS(i,$,h){if(h==null)h=!1;
this.name=i;this.b=$;this.ln=h;this.data=null;this.a4V=Date.now()}var jV={};jV.uf=function(i,$){var h={t:"Clss",v:{classID:i}};
if($)h={t:"Enmr",v:{classID:i,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[h]}};jV.FU=function(i,$){var h={classID:"Lyr"};
h[i]=$;return{Fs:"set",B6:{classID:"null",null:jV.uf("Lyr",!0),T:{t:"Objc",v:h}}}};jV.avE=function(i,$,h,d,K){var f=new eU(x.E.jm,!0),l=[],t=0,u=jV.Iw($,h,d,l);
while(l.length!=0){var U=l.pop();t++;if(!U.w)continue;console.log(t-1);if(U.Fs=="conditional"){var y=i.B[i.g[0]],a=U.B6.null.v.Cndt,v=!1;
if(a=="Bckg")v=!1;else if(a=="Pxel"&&i.EX(!1))v=!0;else if(a=="Adjs"&&f2.get(y.add))v=!0;else if(a=="Shp"&&y.add.vogk)v=!0;
else if(a=="Grup"&&y.BT())v=!0;else if(a=="Opn"&&i!=null)v=!0;else if(a=="32Bt")v=!1;else if(a=="RGB")v=!0;
var c=U.B6.then,p=U.B6.else;if(v&&c)jV.Iw($,c.v[0].v.val,c.v[1].v.val,l);if(!v&&p)jV.Iw($,p.v[0].v.val,p.v[1].v.val,l)}else if(U.Fs=="stop"){if(U.B6.Cntn&&U.B6.Cntn.v==!0)window.confirm(U.B6.Msge.v);
else{alert(U.B6.Msge.v);break}}else if(U.Fs=="play"){var C=U.B6.null.v,T=new eU(x.E.k,!0);T.data={d:x.c.Xf,ZP:[C[0].v.val,C[1].v.val]};
K.$(T)}else{f.data={Fs:U.Fs,B6:U.B6};K.$(f)}}};jV.Iw=function(i,$,h,d){var K;for(var t=0;t<i.length;
t++){if(i[t].Q8!=h)continue;var f=i[t].Os;for(var l=0;l<f.length;l++){if(f[l].Q8!=$)continue;K=f[l].Os}}var u=K.length;
for(var t=0;t<u;t++)d.push(K[u-1-t])};jV.a6D=function(i){var $=i.Fs,h=i.B6,d,l,u,U,y;if(h&&h.null)d=h.null.v[0];
if(h&&d==null&&h.At)d=h.At.v[0];if(d&&d.t=="obj ")d=d.v[0];var K=d?d.v.classID:null,f=["purge"];if(f.indexOf($)!=-1)return $[0].toUpperCase()+$.slice(1);
if($=="GEfc"||$=="paintDaubs")return jG.names[h.GEfk.v.GEft][1];y=f2.FC;for(l in y)if(y[l]==$)u=l;y=d1.FC;
for(l in y)if(y[l]==$)U=l;if(u){var a=f2.DQ(u,h);if(a!=-1)return[4,16,a];return f2.names[u]}if(U)return d1.names[U];
var v=jV.a0N;if($=="make"){if(d){if(K=="AdjL")return[6,1];else if(K=="layerSection")return h.From?[6,9]:[6,20];
else if(K=="Lyr")return[6,13];else if(K=="Chnl"&&d.v.enum=="Msk")return[6,2];else if(K=="contentLayer")return[6,48,1];
else if(K=="BckL")return"Make Background Layer";else if(K=="Path")return"Make Path";else if(K=="TxLr")return"Make Text Layer";
else if(K=="slice")return"Make Slices";else if(K=="Dcmn")return[11,7]}if(h.Nw){K=h.Nw.v.classID;if(K=="Dcmn")return[11,7];
else if(K=="Chnl"||K=="SCch")return"New Channel"}}else if($=="deselect"){if(K=="Path")return"Deselect current path";
else throw K}else if($=="draw"){return"Draw"}else if($=="select"){if(K=="Chnl")return"Select "+(d.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(K=="Mn")return"Select Panel \""+d.v.enum+"\"";else if(K=="Lyr"){if(d.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[d.v.enum]+" Layer";
return"Select Layer \""+d.v.val+"\""}else if(K=="Path")return"Select Path";else if(K=="Brsh")return"Select Brush";
else if(K=="Dcmn")return"Select Document"}else if(v[$]&&K=="Chnl"){var c=d.v.keyID=="fsel";return v[$]+" "+(c?"Selection":"Channel")}else if($=="set"){if(K=="Lyr")return"Set Current Layer";
else if(K=="AdjL")return[6,39];else if(K=="contentLayer")return[6,48,2];else if(K=="Prpr"){var p=d.v.keyID;
if(p=="TxtS")return"Set Text Style";else if(p=="paragraphStyle")return"Set Paragraph Style";else if(p=="Lefx")return[11,6];
else console.log(p)}else if(K=="Clr")return"Set "+(d.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(K=="Brsh")return"Set Brush";else if(K=="Path")return"Set Work Path";else console.log(K)}else if($=="move"){if(K=="Lyr")return"Move Layer";
else if(K=="Chnl"&&d.v.keyID=="fsel")return[7,7];else console.log(K)}else if($=="show"||$=="hide"){var C="";
if(K=="Lyr")+"Layer";if(K=="Chnl")+"Channel";return($=="show"?"Show":"Hide")+" "+C}else if($=="reset"){if(K=="Clr")return"Reset Colors"}else if($=="exchange"){if(K=="Clr")return[22,7,0]}else if($=="rotateEventEnum")return[2,5];
else if($=="flip"){var T=h.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,T?2:3]]}if(K=="Chnl"){if($=="duplicate"){if(d.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if($=="delete")return"Delete Channel"}if($=="transform")return d&&d.v.keyID=="fsel"?[7,10]:[10,16];
var E={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:h?K=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},r=E[$];
if(r==null)r=jV.afU[$];if(r)return r;return $};jV.afU={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
jV.a0N={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
jV.aes=function(i,$,h,d){var K=i.Fs,f=i.B6,l=!1,u=new eU(x.E.s,!0),a,v,c,p;u.b=D.$S;var U=new eU(x.E.k,!0),y=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(y.indexOf(K)!=-1)return;p=f2.FC;for(a in p)if(p[a]==K)v=a;p=d1.FC;for(a in p)if(p[a]==K)c=a;if(K=="fade")v=K;
if(K=="matchColor")v="matc";if(K=="applyImageEvent")v="aply";if(v){u.b=D.xT;u.data={d:"start",Mm:v,Pr:f}}else if(c){u.b=D.QE;
u.data={d:"start",I_:c,Pr:f}}else if(K=="GEfc"||K=="paintDaubs"){u.b=D.QE;u.data={d:"start",I_:"GEfc",Pr:f}}else if(K=="imageSize"||K=="canvasSize"||K=="revealAll"||K=="trim"||K=="crop"){u.b=D.ds;
u.data={d:"fromAction",Uf:i}}else if(K=="fill"||K=="stroke"||K=="delete"&&f==null){u.b=h.Kw==D.Al?D.Al:D.nj;
u.data={d:"fromAction",Uf:i}}else if(K=="colorRange"){u.b=D.oN;u.data={d:"fromAction",Uf:i}}else if(jV.afU[K]||jV.a0N[K]&&(!1||f.With&&f.With.v[0].v.keyID=="fsel"||f.From&&f.From.v[0].v.keyID=="fsel"||f.null&&f.null.v[0].v.keyID=="fsel"||f.T.v[0]&&f.T.v[0].v.keyID=="fsel")){u.b=D.oN;
u.data={d:"fromAction",Uf:i}}var C={copyToLayer:H.vd,cutToLayer:H.LY,mergeLayersNew:H.qJ,rasterizeLayer:H.a8D,mergeVisible:H.uO,flattenImage:H.atD,newPlacedLayer:H.UO};
if(C[K])u.data={d:C[K],B6:f};if(u.data){$.$(u);return}if(K=="collapseAllGroupsEvent"){for(var t=0;t<d.B.length;
t++){var T=d.B[t];if(T.BT())T.add.lsct=gX.qC}d.u6=!0;return}if(K=="desaturate"){u.b=D.xT;u.data={d:"auto",jQ:3};
if(d&&d.B[d.g[0]].add.SoLd==null)$.$(u);return}if(K=="close"){if(f.Svng.v.YsN=="Ys"){U.data={d:x.c.ms};
$.$(U)}U.data={d:x.c.IS,g1:d};$.$(U);return}if(K=="save"){U.data={d:x.c.ms};$.$(U);return}if(K=="copyMerged"){U.data={d:x.c.bk,fz:!0,ld:!0};
$.$(U);return}if(K=="placedLayerReplaceContents")U.data={d:x.c.QK,uo:!0};var C={placedLayerEditContents:x.c.a8p,placedLayerExportContents:x.c.a7f,copyEvent:x.c.bk,paste:x.c.So};
if(C[K])U.data={d:C[K],ld:!0};if(U.data){$.$(U);return}var E=f.null?f.null.v:null,r=E?E[0].v.classID:"";
if(K=="make"){if(f.null==null&&f.Nw)r=f.Nw.v.classID;if(r=="AdjL"){u.data={d:H.wR,B6:f}}else if(r=="layerSection"){u.data=f.From?{d:H.st}:{d:H.nW};
if(f.Usng){var Y=f.Usng.v;if(Y.Nm)u.data.wo=Y.Nm.v;if(Y.Clr)u.data.OA=jV.oc(Y)}}else if(r=="Lyr"){if(f.Usng&&f.Usng.v.length==2)u.data={d:H.aeF};
else{u.data={d:H.vY};if(f.Usng)u.data.wo=f.Usng.v.Nm.v;if(f.below&&f.below.v)u.data.alE=!0}}else if(r=="Chnl"&&f.At&&f.At.v[0].v.enum=="Msk"){u.data={d:H.qK,PT:f.Usng.v.UsrM}}else if(r=="Chnl"||r=="SCch"){u.data={d:H.hV,vC:"fromAction",L:i}}else if(r=="contentLayer"){u.data={d:H.tV,B6:f}}else if(r=="BckL"){d.B[d.g[0]].awA();
return}else if(r=="Dcmn"){if(f.Nw==null)return;var m=f.Nw.v;U.data={d:x.c.T0,x3:hR.aaM(m,h)}}else if(r=="Ptrn")U.data={d:x.c.c7,J0:0};
else if(r=="Path"){u.b=D.yo;u.data={d:"pathedit",vC:"fromsel"}}else if(r=="TxLr"){u.b=D.z2;u.data={d:"fromAction",Uf:i}}else if(r=="slice"){u.b=D.M7;
u.data={d:"fromAction",Uf:i}}else{console.log(K,r,f);throw"e"}}else if(K=="divide"){u.b=D.M7;u.data={d:"fromAction",Uf:i}}else if(K=="deselect"){if(r=="Path"){d.LK=[];
d.$H=[];d.u6=d.nU=!0;return}else throw r}else if(K=="selectNoLayers"){d.g=[];d.$x=!0}else if(K=="select"){var Q={PcTl:D.Al,PbTl:D.nj,moveTool:D.MW,cloneStampTool:D.zJ,typeCreateOrEditTool:D.z2,artboardTool:D.Jl,marqueeRectTool:D.oN,typeVerticalCreateOrEditTool:D.ry,perspectiveCropTool:D.QR,marqueeEllipTool:D.a6G,eyedropperTool:D.M$,eraserTool:D.a3,pathComponentSelectTool:D.yo,lassoTool:D.GK,backgroundEraserTool:D.at7,directSelectTool:D.dK,polySelTool:D.a1_,rectangleTool:D.nD,magneticLassoTool:D.a6e,gradientTool:D.amu,quickSelectTool:D.$n,bucketTool:D.a3E,ellipseTool:D.Nk,magicWandTool:D.hY,blurTool:D.pj,polygonTool:D.Kt,cropTool:D.ds,sharpenTool:D.yH,lineTool:D.lw,sliceTool:D.M7,smudgeTool:D.T_,customShapeTool:D.gV,sliceSelectTool:D.a7,dodgeTool:D.WW,spotHealingBrushTool:D.G4,burnInTool:D.Zt,saturationTool:D.rb,penTool:D.u_,redEyeTool:D.z9,freeformPenTool:D.rY,rulerTool:D.y8,paintbrushTool:D.nj,handTool:D.GC,pencilTool:D.Al,zoomTool:D.VB,objectSelectTool:D.a6r,healingBrushTool:D.B3,patchTool:D.E4,contentAwareMoveTool:D.AN,colorReplacementBrushTool:D.lC,curvaturePenTool:D.a5w,rotareViewTool:D.MI};
if(r=="Lyr"){var z=f.selectionModifier,n=z?z.v.selectionModifierType:null,Z=jV.Vu(d,E[0]);if(Z==-1){alert("Layer "+E[0].v.val+" does not exist.");
return}u.data={d:H.P_,a:Z,xd:n?["addToSelection","addToSelectionContinuous"].indexOf(n):null,P$:0}}else if(r=="Path"){if(E[0].v.keyID=="WrPt"){d.LK=[0];
d.u6=d.nU=!0;return}else throw E[0]}else if(r=="Chnl"){u.data={d:H.P_,a:Z,P$:1}}else if(r=="Dcmn"){if($.B_.length<2)return;
U.data={d:x.c.awj,dir:f.null.v[0].v.val}}else if(r=="Brsh"){var P=h.qX.list,V;for(var t=0;t<P.length;
t++){if(P[t].v.Nm.v==E[0].v.val)V=P[t].v}U.data={d:x.c.vj,J0:dC.m_,U$:V}}else if(r=="Mn"){if(E[0].v.enum=="Scl")U.data={d:x.c.ro,b:D.Ey,Py:{PT:3}};
if(E[0].v.enum=="Plce")U.data={d:x.c.QK,ay0:!0};if(E[0].v.enum=="ZmIn"){u.b=D.VB;u.data={d:"zoom",p6:!0}}if(E[0].v.enum=="ZmOt"){u.b=D.VB;
u.data={d:"zoom",p6:!1}}if(E[0].v.enum=="FtOn"){u.b=D.VB;u.data={d:"adapt",L:"fitscr"}}}else if(Q[r]){U.data={d:x.c.ro,b:Q[r]}}else throw r}else if(K=="draw"){u.b=D.yo;
u.data={d:"fromAction",Uf:i}}else if((K=="set"||K=="reset"||K=="exchange")&&r=="Clr"){U.data={d:x.c.vj,J0:dC.xq,vC:K=="reset"?3:2};
if(K=="set"){U.data.vC=E[0].v.keyID=="FrgC"?0:1;var I=k.M.zk(f.T.v);U.data.L=I.o<<16|I.P<<8|I.Z}}else if(K=="set"){if(r=="AdjL"){var q=f.T.v.classID;
q=f2.gm[q];u.b=D.xT;if(q)u.data={d:"edit_layer",L:f.T.v}}else if(r=="Lyr"){var X=f.T.v,Z=jV.Vu(d,E[0]);
for(var B in X){if(B=="classID")continue;u.b=D.$S;if(B=="Nm")u.data={d:H.gv,name:X.Nm.v};else if(B=="Opct")u.data={d:H.PW,gj:Math.round(X.Opct.v.val*255/100)};
else if(B=="fillOpacity")u.data={d:H.Bh,gj:Math.round(X.fillOpacity.v.val*255/100)};else if(B=="Md")u.data={d:H.L0,gj:ca.kD.indexOf(X.Md.v.BlnM)+(d.B[Z].BT()?1:0)};
else if(B=="Usrs")u.data={d:H.RX,a:Z};else if(B=="Blnd"){u.b=D.s1;u.data={d:"setstl",a:Z,L:{blendOptions:{t:"objc",v:X}}};
$.$(u);u.data={d:"confirm",a:Z}}else if(B=="userMaskFeather"||B=="userMaskDensity"){var e=X.userMaskFeather,F=X.userMaskDensity,Z=d.g[0],s=d.B[Z].k2(0);
if(e)s.HE=e.v.val;if(F)s.e9=F.v.val;u.data={d:H.IF,Dm:Z,Bi:s}}else if(B=="Clr"){var J=jV.oc(X);u.data={d:H.T7,aqR:J}}else if(B=="Lefx")jV.a3R($,Z,X.Lefx.v,h);
else{console.log(f);throw B}if(u.data){$.$(u);delete u.data}}u.data={};var T=d.B[Z];T.a24()}else if(r=="Prpr"){var X=JSON.parse(JSON.stringify(f.T.v)),Z=jV.Vu(d,f.null.v[1]),T=d.B[Z],W=E[0].v.keyID;
if(W=="TxtS"||W=="paragraphStyle"){var L=T.add.TySh,A=JSON.parse(JSON.stringify(L.$D)),j=jP.Gs(A),G=jP.Zg(A,0,j.length-2);
if(W=="TxtS")jP.a32(X,G);else jP.a94(X,G);jP.jV(A,0,j.length-1,G);u.b=D.z2;u.data={d:"newED",g5:Z,hj:A}}else if(W=="Lefx"){for(var O in X)if(X[O].v){if(O=="Scl")X[O].v.val=100}jV.a3R($,Z,X,h);
u.data={}}else throw W}else if(r=="contentLayer"){var Z=jV.Vu(d,E[0]),X=f.T.v;if(X.classID=="shapeStyle")X=X.FlCn.v;
var o={solidColorLayer:0,gradientLayer:1,patternLayer:2}[X.classID],N=D.cI.wW(d,Z),c=N.$M==o+1?N.DP:et.FX[o];
c=JSON.parse(JSON.stringify(c));D.Q4.cu(X,c,o);u.data={d:H.O5,o5:[Z],Wj:!0,L:{$M:o+1,DP:c}}}else if(r=="Brsh"){var V=JSON.parse(JSON.stringify(h.qX.vL)),w=f.T.v;
if(w.masterDiameter)V.Brsh.v.Dmtr.v.val=w.masterDiameter.v.val;else console.log("unknown brush parameters");
U.data={d:x.c.vj,J0:dC.m_,U$:V}}else if(r=="Path"){u.b=D.yo;u.data={d:"fromAction",Uf:i}}else{console.log(E[0],f);
throw r}}else if(K=="move"){if(r=="Lyr"){var X=f.T.v;if(X.classID=="Ofst"){u.data={d:"trsl",FH:X.Hrzn.v.val,cT:X.Vrtc.v.val};
u.b=D.MW}else{var kv,g;if(X[0].t=="Enmr"){if(X[0].v.enum=="Frnt")g=0;else if(X[0].v.enum=="Nxt")g=1;
else if(X[0].v.enum=="Prvs")g=2;else if(X[0].v.enum=="Back")g=3;else throw"e"}else kv=X[0].v.val;u.data={d:H.wJ,target:kv,vC:g,aej:f.Dplc?f.Dplc.v:!1}}}else if(r=="Chnl"&&E[0].v.keyID=="fsel"){u.b=D.oN;
u.data={d:"fromAction",Uf:i}}}else if(K=="groupEvent"||K=="ungroup")u.data={d:H.bx};else if(K=="show"||K=="hide"){var b=E[0].v;
for(var t=0;t<b.length;t++){var jU=b[t],r=jU.v.classID;if(r=="Lyr"){if(u.data==null)u.data={d:H.Ja,o5:[]};
var Z=jV.Vu(d,jU);if(Z==-1)continue;var _=d.B[Z].ji();if(K=="show"&&_||K=="hide"&&!_)continue;u.data.o5.push(Z)}else if(r=="Chnl"){u.data={d:H.hV,vC:"fromAction",L:i}}else if(r=="filterFX"){if(jU.v.val!=null)u.data={d:H.K4,index:jU.v.val-1};
u.data={d:H.dz}}}}else if(K=="rotateEventEnum"){u.b=D.ds;var cY=f.Angl.v.val;u.data={d:"rot",Q8:[2,5],L:-cY*Math.PI/180}}else if(K=="flip"){u.b=D.ds;
var j3=f.Axis.v.Ornt=="Hrzn",aS=j3?new cq(-1,1):new cq(1,-1);u.data={d:"scl",Q8:[[2,6],[22,4,j3?2:3]],L:aS}}else if(K=="transform"){var bL=1,cQ=1,cK=0,el=0,gF=0,fj=0,i3=0;
if(f.Wdth)bL=f.Wdth.v.val/100;if(f.Hght)cQ=f.Hght.v.val/100;if(f.Skew){var eT=f.Skew.v;cK=eT.Hrzn.v.val;
el=eT.Vrtc.v.val}if(f.Ofst){var eV=f.Ofst.v;fj=eV.Hrzn.v.val;i3=eV.Vrtc.v.val}if(f.Angl)gF=f.Angl.v.val;
var hr=new ej;hr.concat(new ej(bL,bL*Math.tan(el*Math.PI/180),cQ*Math.tan(cK*Math.PI/180),cQ,0,0));hr.rotate(-gF*Math.PI/180);
hr.translate(fj,i3);var it={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[f.FTcs.v.QCSt];
if(it==null)throw f.FTcs.v.QCSt;var E=f.null;if(E&&E.v instanceof Array)E=E.v[0];var Z=E?jV.Vu(d,E):null;
if(Z==-1)Z=null;u.b=E&&E.v.keyID=="fsel"?D.vP:D.Ey;u.data={d:"mat",kt:it,L:hr,ya:f.warp}}else if(K=="duplicate"){if(r=="Chnl")u.data={d:H.hV,vC:"fromAction",L:i};
else u.data={d:H.kq,wo:f.Nm?f.Nm.v:null}}else if(K=="delete"){if(r=="filterFX"){if(E[0].v.val!=null)u.data={d:H.Vt,dC:E[0].v.val-1};
else u.data={d:H.qs}}else if(r=="Path"){u.b=D.yo;u.data={d:"pathedit",vC:"del"}}else if(r=="Lyr")u.data={d:H.c1};
else if(r=="Chnl"&&E[0].v.enum=="Msk")u.data={d:H.z4};else if(r=="Chnl")u.data={d:H.hV,vC:"fromAction",L:i};
else throw r}else if(K=="align"){if(f.Aply&&f.Aply.v.projection=="Auto"){u.b=D.ds;u.data={d:"auto-align"}}else{u.b=D.MW;
var f8=f.Usng.v.ADSt,v={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[f8];if(v==null)throw f8;u.data={d:"algn",L:v}}}else if(K=="applyLocking"){var i$=f.layerLocking.v,gS;
if(i$.protectTransparency)gS=[[i$.protectTransparency.v],[0]];else if(i$.protectNone)gS=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(i$);throw"e"}u.data={d:H.ex,gj:gS}}if(u.data)$.$(u);else if(U.data)$.$(U);else{console.log(i);
alert("Unknown action \""+K+"\"");throw"e"}};jV.a3R=function(i,$,h,d){h=JSON.parse(JSON.stringify(h));
fT.pi(h);if(h.masterFXSwitch==null)h.masterFXSwitch={t:"bool",v:!0};console.log(h);var K=et.CE;for(var f=0;
f<K.length;f++)if(h[K[f]]){for(var t=0;t<h[K[f]].v.length;t++){var l=h[K[f]].v[t].v,u=l.TrnS;if(u==null)u=l.MpgS;
if(u&&u.v.Crv==null){var U=u.v,y=U.Nm.v.split("=").pop(),a=d.qb;for(var v=0;v<a.length;v++){var c=a[v].Nm.v.split("=").pop();
if(c==y)U.Crv=JSON.parse(JSON.stringify(a[v].Crv))}if(u.v.Crv==null){console.log(u);throw"e"}}}}var p=new eU(x.E.s,!0);
p.b=D.s1;p.data={d:"setstl",a:$,L:{Lefx:{t:"objc",v:h}}};i.$(p);p.data={d:"confirm",a:$};i.$(p)};jV.oc=function(i){var $={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[i.Clr.v.Clr];
if($==null)throw i.Clr.v.Clr;return $};jV.Vu=function(i,$){var h=1e6,d=0,K=i.B.length;for(var t=0;t<i.g.length;
t++){h=Math.min(h,i.g[t]);d=Math.max(d,i.g[t])}var f=$.t,l=-1;if(f=="name"){var u=$.v.val,l=-1;for(var t=0;
t<K;t++)if(i.B[t].getName()==u){l=t;break}}else if(f=="Enmr"){if(i.g.length!=0)l=i.g[0];if($.v.enum=="Frwr")l=d+1;
if($.v.enum=="Bckw")l=h-1;if($.v.enum=="Back")l=0;if($.v.enum=="Frnt")l=K-1;l=(l+K)%K}else if(f=="prop"){if($.v.keyID=="Bckg")l=0}return l};
var f2={};f2.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
f2.aq0=["expA","clrL","selc"];f2.GP=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];f2.alH=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
f2.lz=[[13,1,1],[13,1,4],[13,1,5]];f2.E2={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
f2.gm=function(){var i=JSON.parse(JSON.stringify(f2.E2));delete i.GrMp;i.GdMp="grdm";return i}();f2.FC={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
f2.keys={levl:[ai.PO,ai.GE],curv:[ai.PO,ai.HB],hue2:[ai.PO,ai.LX],nvrt:[ai.PO,ai.pA],blnc:[ai.PO,ai.Ps]};
f2.aaE=function(i){var $=d1.U9("mixr");$.Mnch={t:"bool",v:i.fY};function h(d,t){var K={classID:"ChMx"},f={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in f)K[l]={t:"UntF",v:{type:"#Prc",val:d[t+f[l]]}};return{t:"Objc",v:K}}if(i.fY)$.Gry=h(i.L,0);
else{$.Rd=h(i.L,0);$.Grn=h(i.L,5);$.Bl=h(i.L,10)}return $};f2.rs=function(i){function $(d,K,t){var f={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in f)if(d[l])K[t+f[l]]=d[l].v.val}var h={fY:!1,L:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(i.Mnch&&i.Mnch.v)h.fY=!0;if(h.fY)$(i.Gry.v,h.L,0);else{$(i.Rd.v,h.L,0);$(i.Grn.v,h.L,5);$(i.Bl.v,h.L,10)}return h};
f2.get=function(i){for(var $ in f2.names)if(i[$]!=null)return $;return null};f2.Bd=function(i,$){var h=f2.dA,d;
if(i=="brit"){var K=$.Brgh?$.Brgh.v:0,f=$.Cntr?$.Cntr.v:0,l=$.useLegacy?$.useLegacy.v:!1;if(l){var u=K/255,U=1+f/100;
if(U>1)U=1+Math.tan(Math.PI/2*f/101);var y=(1-U)/2,a=k.xP.QD(u,u,u),v=[U,0,0,y,0,U,0,y,0,0,U,y,0,0,0,1],c=k.xP.multiply(a,v),p=new k.UT(256);
for(var t=0;t<256;t++)p.o[t]=t;k.xP.transform(p,p,c);d={type:h.hr,UR:p.o,eQ:p.o,eV:p.o,XB:!1,X9:!1}}else{var C=1024,T=-30+60*(f+100)/200,E=[];
for(var t=0;t<4;t++)E.push(k.qt.o3(t/3*255,t/3*255,!0));E[1].v.Hrzn.v=64;E[1].v.Vrtc.v=64-T;E[2].v.Hrzn.v=128+64;
E[2].v.Vrtc.v=128+64+T;E.sort(function(ea,kc){return ea.v.Hrzn.v-kc.v.Hrzn.v});var r=k.qt.J6(E,C);function Y(ea,C){var E=[],b4=3;
for(var t=0;t<b4+1;t++)E.push(k.qt.o3(t/b4*255,t/b4*255,!0));E[1].v.Hrzn.v=130-ea*26;E[1].v.Vrtc.v=130+ea*51;
E[2].v.Hrzn.v=233-ea*48;E[2].v.Vrtc.v=233+ea*10;return k.qt.J6(E,C)}var S=Y(Math.abs(K)/100,C);if(K<0){var m=[],Q=1/C;
for(var t=0;t<C;t++){var z=t*Q,n=t;while(S[n]>z&&n>1)n--;m[t]=n*Q}S=m}var Z=new Uint8Array(C);for(var t=0;
t<C;t++){var P=Math.round((C-1)*S[t]);Z[t]=Math.round(255*r[P])}d={type:h.hr,UR:Z,eQ:Z,eV:Z,XB:!1,X9:!1}}}if(i=="levl"){var V=[],I,q,a,X,B,e;
for(var t=0;t<4;t++)V.push(dO.Fj($,t));I=-V[0][0]/255;q=1/(V[0][1]/255-V[0][0]/255);a=k.xP.multiply(k.xP.Fv(q,q,q),k.xP.QD(I,I,I));
X=k.xP.Fv(1/(V[1][1]/255-V[1][0]/255),1/(V[2][1]/255-V[2][0]/255),1/(V[3][1]/255-V[3][0]/255));B=k.xP.QD(-V[1][0]/255,-V[2][0]/255,-V[3][0]/255);
e=k.xP.multiply(X,B);var Z=new k.UT(256);for(var t=0;t<256;t++)Z.o[t]=Z.P[t]=Z.Z[t]=t;var F=1/(V[0][4]/100),s=1/(V[1][4]/100),J=1/(V[2][4]/100),W=1/(V[3][4]/100);
k.xP.transform(Z,Z,e);for(var t=0;t<256;t++){Z.o[t]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.o[t]/255,s))));
Z.P[t]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.P[t]/255,J))));Z.Z[t]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.Z[t]/255,W))))}k.xP.transform(Z,Z,a);
for(var t=0;t<256;t++){Z.o[t]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.o[t]/255,F))));Z.P[t]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.P[t]/255,F))));
Z.Z[t]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.Z[t]/255,F))))}I=V[0][2]/255;q=V[0][3]/255-V[0][2]/255;
a=k.xP.multiply(k.xP.QD(I,I,I),k.xP.Fv(q,q,q));X=k.xP.Fv(V[1][3]/255-V[1][2]/255,V[2][3]/255-V[2][2]/255,V[3][3]/255-V[3][2]/255);
B=k.xP.QD(V[1][2]/255,V[2][2]/255,V[3][2]/255);e=k.xP.multiply(B,X);k.xP.transform(Z,Z,k.xP.multiply(a,e));
d={type:h.hr,UR:Z.o,eQ:Z.P,eV:Z.Z,XB:!1,X9:!1}}if(i=="curv"){var L=hI.Fj($,0).length==256?1:0,A=[];if(L==0){var j=k.qt.uC(hI.Fj($,0),256);
for(var t=1;t<4;t++){var G=k.qt.uC(hI.Fj($,t),256);A.push(k.qt.X_(G,j))}}else{var O=[];for(var t=0;t<4;
t++){var o=new Uint8Array(256);O.push(o);var N=hI.Fj($,t);for(var n=0;n<256;n++)o[n]=N[n]}for(var t=1;
t<4;t++)A.push(k.qt.X_(O[t],O[0]))}d={type:h.hr,UR:A[0],eQ:A[1],eV:A[2],XB:!1,X9:!1}}if(i=="expA"){var w=$.Exps,kv=$.Ofst,g=$.gammaCorrection,b=w?w.v:0,jU=kv?kv.v:0,_=g?g.v:1,Z=new Uint8Array(256);
for(var t=0;t<256;t++){var $=t/255,cY=Math.pow(Math.abs(jU),1/(Math.PI/2));if(jU>0){$=Math.max(jU/Math.E,$);
$=$*Math.exp(jU/1.75+b/Math.PI);$=(1-cY)*$+cY*1}else{$=$*Math.exp(-jU*1.75+b/Math.PI);$=$+-cY*1.14}$=Math.pow($,1/_);
$=Math.max(0,Math.min(1,$));Z[t]=Math.round($*255)}d={type:h.hr,UR:Z,eQ:Z,eV:Z,XB:!1,X9:!1}}if(i=="vibA"){var j3=($.vibrance?$.vibrance.v:0)/100,aS=($.Strt?$.Strt.v:0)/100,cY=1+j3*(j3>0?.25:.5),bL=.8+.2/cY;
d={type:h._k,J0:[j3,aS,bL,cY]}}if(i=="hue2"){var cQ=[],cK=[],el=[],gF=$.Clrz?$.Clrz.v:!1;for(var t=0;
t<256;t++){cQ[t]=t/255;cK[t]=0;el[t]=0}var fj=dm.Fj($,0),i3=f2.uv(fj[1]/100);if(gF){var eT=fj[0]/360;
for(var t=0;t<256;t++){cQ[t]=eT;cK[t]=i3}}else{for(var t=0;t<256;t++){var eV=cQ[t],hr=cK[t];cQ[t]+=fj[0]/360;
for(var n=0;n<6;n++){var it=dm.Fj($,n+1),f8=it.bA,i$=it.z8,cY=0;for(var gS=1;gS<4;gS++)if(i$[gS]<i$[0])i$[gS]+=360;
var hT=i$[0],gL=i$[1],iu=i$[2],dB=i$[3],jt=eV*360;if(jt<i$[0])jt+=360;var ka=(jt-hT)/(gL-hT),eQ=(jt-iu)/(dB-iu);
if(ka<0)cY=0;else if(ka<1)cY=ka;else if(eQ<0)cY=1;else if(eQ<1)cY=1-eQ;else cY=0;var U=f2.uv(f8[1]/100);
cQ[t]+=cY*f8[0]/360;cK[t]+=cY*U;el[t]+=cY*f8[2]/100}}for(var t=0;t<256;t++){cK[t]=(1+cK[t])*(1+i3)-1;
el[t]=Math.max(-1,Math.min(1,el[t]))}}var dv=new Uint8Array(256),cT=new Uint8Array(256),eY=new Uint8Array(256);
for(var t=0;t<256;t++){var gl=cQ[t],aS=cK[t],dY=el[t];if(gl>1)gl--;if(gl<0)gl++;aS=f2.a4x(aS);aS=(1+aS)*.5;
dY=(1+dY)*.5;dv[t]=Math.round(255*gl);cT[t]=Math.round(255*aS);eY[t]=Math.round(255*dY)}var gE=fj[2]/100,cs=gE<0?-gE:gE,au=gE<0?0:1;
d={type:h.gI,a09:dv,Ap:cT,agg:eY,afd:cs*au,vU:1-cs,ama:fj[2]/100,a9w:gF?1:0}}if(i=="nvrt"){var Z=new Uint8Array(256);
for(var t=0;t<256;t++)Z[t]=255-t;d={type:h.hr,UR:Z,eQ:Z,eV:Z,XB:!1,X9:!1}}if(i=="post"){var b8=$.Lvls.v,Z=new Uint8Array(256),cY=b8/255.001,jw=255/(b8-1);
for(var t=0;t<256;t++)Z[t]=Math.floor(t*cY)*jw;d={type:h.hr,UR:Z,eQ:Z,eV:Z,XB:!1,X9:!1}}if(i=="grdm"){var ek=$.Grad.v,cj=$.Rvrs,C=1024,jJ;
if(ek.Clrs){var hp=k.M._a(ek,0,0);jJ=k.M._L(ek,hp,C,cj?cj.v:!1)}else{jJ=k.M.r6(ek,C,cj?cj.v:!1)}var dW=k.Q(C),h4=k.Q(C),er=k.Q(C);
k.pO(jJ,dW,0);k.pO(jJ,h4,1);k.pO(jJ,er,2);d={type:h.hr,UR:dW,eQ:h4,eV:er,XB:!0,X9:!1}}if(i=="selc"){var hG=new Float32Array(9*3*2),i_=$.LZ,aK=$.Mthd?$.Mthd.v.CrcM=="Absl":!1;
for(var n=0;n<9;n++){var bG=n*6,dx=gB.Fj($,n),aH=dx[0]/100,cU=dx[1]/100,kr=dx[2]/100,cL=dx[3]/100;if(aK){hG[bG]=hG[bG+1]=hG[bG+2]=1;
hG[bG+3]=aH*(1+cL)+cL;hG[bG+4]=cU*(1+cL)+cL;hG[bG+5]=kr*(1+cL)+cL}else{hG[bG+0]=(1+aH)*(1+cL);hG[bG+1]=(1+cU)*(1+cL);
hG[bG+2]=(1+kr)*(1+cL)}}d={type:h.m$,apz:hG}}if(i=="blwh"){var aj="Rd Yllw Grn Cyn Bl Mgnt".split(" "),d=[],af=0,cB=0;
for(var t=0;t<6;t++)d.push($[aj[t]].v);d.push($.useTint.v,$.tintColor.v);var js=[];for(var t=0;t<6;t++)js.push((d[t]-50)/50);
var ey=k.M.zk(d[7]);ey.o/=255;ey.P/=255;ey.Z/=255;var dr=k._U(ey.o,ey.P,ey.Z),dY=k.ZQ(k.Lm(dr.mJ,1,.5)),df=dr.qc*dr.Pr;
if(dY==.5)af=cB=.5;else{af=df*(.5-dY)/(.5/dY-1);cB=1-df*(.5-dY)-1/(2*(1-dY));cB/=1-1/(2*(1-dY))}d={type:h.jx,ajX:js,OT:d[6]?1:0,avq:dr.mJ,ZQ:dY,aol:df,Kk:af,asN:cB}}if(i=="blnc"){var V=[],iq=["ShdL","MdtL","HghL"];
for(var t=0;t<3;t++){if($[iq[t]]==null){V[t]=[0,0,0];continue}var b8=$[iq[t]].v,cV=b8[0].v/100,gf=b8[1].v/100,ge=b8[2].v/100,da=$.PrsL==null||$.PrsL.v?(Math.min(cV,gf,ge)+Math.max(cV,gf,ge))/2:0;
V[t]=[cV-da,gf-da,ge-da]}var A=[k.Q(256),k.Q(256),k.Q(256)];for(var n=0;n<3;n++)for(var t=0;t<256;t++){var z=t*(1/255),aO=0,T=0,eb=0;
T=V[2][n];eb=Math.abs(T);if(T<0)aO=Math.pow(z,Math.SQRT2);else aO=1.63*(Math.pow(z+.04,.5)-.2);z=eb*aO+(1-eb)*z;
T=V[1][n];eb=Math.abs(T);if(T<0)aO=Math.pow(z,2);else aO=Math.min(2.35*(Math.pow(z+.09,.5)-.3),Math.pow(z,1/2));
z=eb*aO+(1-eb)*z;T=V[0][n];eb=Math.abs(T);if(T<0)aO=z<.4?0:Math.pow((z-.4)/.6,Math.SQRT2);else aO=Math.pow(z,Math.SQRT2/2);
z=eb*aO+(1-eb)*z;z=Math.max(0,Math.min(1,z));A[n][t]=Math.round(z*255)}d={type:h.hr,UR:A[0],eQ:A[1],eV:A[2],XB:!1,X9:!1}}if(i=="phfl"){var ag=k.M.zk($.Clr.v),dX=[ag.o/255,ag.P/255,ag.Z/255],gP=$.Dnst.v/100,A=[k.Q(256),k.Q(256),k.Q(256)];
for(var n=0;n<3;n++)for(var t=0;t<256;t++){var z=t*(1/255),cm=z*dX[n];cm=Math.max(0,Math.min(1,cm));
z=gP*cm+(1-gP)*z;A[n][t]=Math.round(z*255)}d={type:h.hr,UR:A[0],eQ:A[1],eV:A[2],XB:!1,X9:$.PrsL.v}}if(i=="thrs"){var Z=k.Q(256);
for(var t=$.Lvl.v;t<256;t++)Z[t]=255;d={type:h.hr,UR:Z,eQ:Z,eV:Z,XB:!0,X9:!1}}if(i=="mixr"){var gO=f2.rs($),c=[];
for(var t=0;t<gO.L.length;t++)if(t%5!=3)c.push(gO.L[t]/100);if(gO.fY){for(var bO=1;bO<3;bO++)for(var z=0;
z<4;z++)c[bO*4+z]=c[z]}d={type:h.Ni,eE:c}}if(i=="rplc"){var gb=$.Mnm.v,dk=$.Mxm.v;d={type:h.PR,yq:[gb.Lmnc.v,gb.A.v,gb.B.v],H5:[dk.Lmnc.v,dk.A.v,dk.B.v],shift:[$.H.v/360,$.Strt.v/100,$.Lght.v/100],bn:$.Fzns.v/150}}if(i=="clrL"&&$.profile){var cw=new Uint8Array($.profile.v),gN=ICC.R(cw.buffer),ci=[],jq=17,ci=ICC.U.sampleLUT(gN,jq);
d={type:h.HK,tp:ICC.U.rgba8LUT(ci,jq),aq_:ci,fT:jq}}return d};f2.DQ=function(i,$){var h=-1;if(i!="levl"||$==null)h=-1;
else if($.Auto)h=0;else if($.AuCo)h=1;else if($.autoBlackWhite)h=2;return h};f2.dA={hr:0,gI:1,_k:2,m$:3,jx:4,Ni:5,PR:6,HK:7};
f2.uv=function(i){if(i<0)return i;return Math.pow(Math.tan(Math.PI/2*i),1.3)};f2.a4x=function(i){if(i<0)return i;
i=Math.pow(i,1/1.3);return Math.atan2(i,1)/(Math.PI/2)};f2.kG=function(i,$,h,d){var K=f2.dA,f=Date.now();
if(i8.ph&&d.O()>300*300&&i.type!=K.hr&&i.type!=K.HK){d=d.clone();d.x=d.y=0;var l=i8.W1(0,d.e,d.n);l.set($);
i8.dY(l,d);l.tM(d);f2.YR(i,l.Kc,d);l.get(h);return}if(i.type==K.HK){var u=i.aq_,U=i.fT;ICC.U.applyLUT(u,U,$,h);
var y=$.length;for(var t=0;t<y;t+=4)h[t+3]=$[t+3]}if(i.type==K.Ni)k.xP.BY($,h,i.eE);if(i.type==K.jx){var a=i.aol,v=i.ZQ,c=i.Kk,p=i.asN,y=$.length;
for(var t=0;t<y;t+=4){var d=$[t]*(1/255),C=$[t+1]*(1/255),T=$[t+2]*(1/255),E=k.xV(d,C,T),r=0;for(var Y=0;
Y<6;Y++)r+=Math.min(1,1.7*(1-E.AP))*E.qc*i.ajX[Y]*f2.aq2(E.mJ,Y*(1/6));var S=Math.max(0,Math.min(1,E.AP*(1+r)));
if(i.OT==1){var m=0;if(S<c)m=S*(.5/v);else if(S<p)m=S+a*(.5-v);else m=1-(1-S)*.5/(1-v);E.mJ=i.avq;E.qc=Math.min(1,a+3*a*Math.abs(S-.5*(c+p)));
E.AP=m}else{E.mJ=0;E.qc=0;E.AP=S}var Q=k.Lm(E.mJ,E.qc,E.AP);h[t]=Math.round(Q.o*255);h[t+1]=Math.round(Q.P*255);
h[t+2]=Math.round(Q.Z*255)}}if(i.type==K.m$){var z=i.apz,y=$.length,n=1/255;for(var t=0;t<y;t+=4){var d=$[t]*n,C=$[t+1]*n,T=$[t+2]*n,E=k.xV(d,C,T),Z=Math.max(d,Math.max(C,T)),P=Math.min(d,Math.min(C,T)),V=1-d,I=1-C,q=1-T,X=0,B=0,e=0;
for(var Y=0;Y<9;Y++){var F=Y*6,L=0;if(z[F]==1&&z[F+1]==1&&z[F+2]==1&&z[F+3]==0&&z[F+4]==0&&z[F+5]==0)continue;
var s=V*z[F]+z[F+3],J=I*z[F+1]+z[F+4],W=q*z[F+2]+z[F+5];if(Y<6)L=f2.aq2(E.mJ,Y*(1/6))*E.qc*2*Math.min(E.AP,1-E.AP);
else if(Y==6)L=Math.max(0,P-.5)*2;else if(Y==7)L=1-(Math.abs(Z-.5)+Math.abs(P-.5));else L=Math.max(0,.5-Z)*2;
X+=(Math.max(0,Math.min(1,s))-V)*L;B+=(Math.max(0,Math.min(1,J))-I)*L;e+=(Math.max(0,Math.min(1,W))-q)*L}V=Math.max(0,Math.min(1,V+X));
I=Math.max(0,Math.min(1,I+B));q=Math.max(0,Math.min(1,q+e));d=1-V;C=1-I;T=1-q;h[t]=Math.round(d*255);
h[t+1]=Math.round(C*255);h[t+2]=Math.round(T*255)}}if(i.type==K.hr){k.a5X($,h,i.UR,i.eQ,i.eV,i.XB,i.X9)}if(i.type==K.gI){var A=new Uint32Array($.buffer),j=new Uint32Array(h.buffer),y=A.length;
if(f2.kr==null){f2.kr=new Float64Array(256);for(var t=0;t<256;t++)f2.kr[t]=f2.uv(-1+2*t/255)}var G=f2.kr;
for(var t=0;t<y;t++){var O=A[t],d=(O&255)*(1/255),C=(O>>>8&255)*(1/255),T=(O>>>16&255)*(1/255),o=O>>>24,N=Math.min(d,C,T),w=Math.max(d,C,T),kv=0,g=0,b=0;
kv=k.xV(d,C,T).mJ;var jU=~~(kv*255+.5),_=i.a09[jU]*(1/255),cY=i.Ap[jU]*(1/255)*2-1,j3=i.agg[jU]*(1/255)*2-1,r=-j3,aS=N;
if(0<j3){r=j3;aS=w}var bL=i.afd+i.vU*r*aS,cQ=i.vU*(1-r);d=bL+cQ*d;C=bL+cQ*C;T=bL+cQ*T;w=Math.max(d,C,T);
N=Math.min(d,C,T);b=(w+N)*.5;if(w!=N){var cK=w-N;g=b>.5?cK/(2-(w+N)):cK/(w+N)}var el=cY;if(i.a9w==0){cY=G[Math.floor((1+cY)*127.5)];
el=Math.min(g*(1+cY),1)}var Q=k.Lm(_,el,b);d=Q.o;C=Q.P;T=Q.Z;j[t]=o<<24|T*255<<16|C*255<<8|d*255}}if(i.type==K.PR){k.pv($,h);
var A=new Uint32Array($.buffer),j=new Uint32Array(h.buffer),y=A.length,gF=i.bn,fj=1/gF,i3={GE:i.yq[0],Pi:i.yq[1],Z:i.yq[2]},eT={GE:i.H5[0],Pi:i.H5[1],Z:i.H5[2]};
for(var t=0;t<y;t++){var O=A[t],eV=O&255,hr=O>>>8&255,it=O>>>16&255,d=eV*(1/255),C=hr*(1/255),T=it*(1/255),o=O>>>24,f8=k.Hq(eV,hr,it),i$=k.Yq(f8,i3,eT,gF,fj);
if(i$==0)continue;var E=k.xV(d,C,T),_=2+E.mJ+i.shift[0];E.mJ=_-~~_;E.qc=Math.max(0,Math.min(1,E.qc+i.shift[1]));
E.AP=Math.max(0,Math.min(1,E.AP+i.shift[2]));var Q=k.Lm(E.mJ,E.qc,E.AP);d=(1-i$)*d+i$*Q.o;C=(1-i$)*C+i$*Q.P;
T=(1-i$)*T+i$*Q.Z;j[t]=o<<24|T*255<<16|C*255<<8|d*255}}if(i.type==K._k){var A=new Uint32Array($.buffer),j=new Uint32Array(h.buffer),y=A.length,gS=i.J0[0],hT=i.J0[1],gL=i.J0[2],r=i.J0[3],iu=k.xP.NL([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),dB=k.xP.Sp(iu),jt=2.4;
function U(eY){return Math.max(0,Math.min(1,eY))}function ka(eY){return Math.pow(eY,jt)}function eQ(eY){return Math.pow(eY,1/jt)}function dv(d,C,T,eY){d=ka(d);
C=ka(C);T=ka(T);var gl=k.xP.yf(iu,[d,C,T,1]);gl[0]*=gL;gl[1]*=r;gl[2]*=r;var Q=k.xP.yf(dB,gl);Q[0]=eQ(U(Q[0]));
Q[1]=eQ(U(Q[1]));Q[2]=eQ(U(Q[2]));return Q}for(var t=0;t<y;t++){var O=A[t],d=(O&255)*(1/255),C=(O>>>8&255)*(1/255),T=(O>>>16&255)*(1/255),o=O>>>24,Q=dv(d,C,T,gS);
d=Q[0];C=Q[1];T=Q[2];var cT=k.xV(d,C,T);cT.qc=Math.max(0,Math.min(1,cT.qc*(1+hT)));Q=k.Lm(cT.mJ,cT.qc,cT.AP);
d=Q.o;C=Q.P;T=Q.Z;j[t]=o<<24|T*255<<16|C*255<<8|d*255}}};f2.YR=function(i,$,h){i8.Mm.YR(i,$)};f2.aq2=function(i,$){var h=k.Gq($,i)*6;
return Math.max(0,Math.min(1,h<0?1+h:1-h))};var d1={};d1.Pu=function(i){var $=i.filterID.v;return $>16777215?M.a7B($):i.Fltr.v.classID};
d1.Um=[{DP:"GEfc"},{DP:"LnCr"},{DP:"Adobe Camera Raw Filter"},{DP:"LqFy",c6:!0},{rU:"3D",Of:["lightFilterGradient","Dila"]},{rU:[24,2],Of:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{rU:[24,4],Of:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{rU:[24,6],Of:["AdNs","Dspc","DstS","Mdn ","denoise"]},{rU:[24,8],Of:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{rU:[24,10],Of:["Flam","Clds","DfrC","Fbrs","LnsF"]},{rU:[24,12],Of:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{rU:[24,14],Of:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{rU:[24,16],Of:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{rU:"Fourier",Of:["dDFT","iDFT"]}];
d1.FC={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
d1._B={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
d1.q={rigidTransform:D.ri};d1.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",Dila:"Texture Dilation",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
d1.U9=function(i){var $=null;if(i=="GEfc")$={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:jG.U9("GlwE")}]}};
if(i=="LqFy"){var h={DD:5,mJ:5,map:new Float32Array(5*5*2)},d=new Uint8Array(ir.ef(h)),K=[];for(var t=0;
t<d.length;t++)K.push(d[t]);$={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:K}}}if(i=="rigidTransform"){$={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(i=="LnCr")$={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(i=="adaptCorrect")$={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(i=="Dfs ")$={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(i=="Fbrs")$={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(i=="Embs")$={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(i=="oilPaint")$={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(i=="TrcC")$={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(i=="Wnd ")$={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(i=="lightFilterGradient")$={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(i=="boxblur")$={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(i=="GsnB")$={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(i=="Bokh")$={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(i=="MtnB")$={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(i=="RdlB")$={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(i=="surfaceBlur")$={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(i=="denoise")$={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(i=="Dspl")$={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(i=="Pnch")$={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(i=="Plr ")$={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(i=="Rple")$={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(i=="Shr ")$={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(i=="Sphr")$={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(i=="Twrl")$={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(i=="Wave")$={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(i=="ZgZg")$={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(i=="AdNs")$={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(i=="DstS")$={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(i=="Mdn ")$={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(i=="ClrH")$={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(i=="Crst")$={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(i=="Mztn")$={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(i=="Msc ")$={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(i=="Pntl")$={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(i=="LnsF")$={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(i=="Dthr")$={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(i=="Part")$={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(i=="Adobe Camera Raw Filter")$={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(i=="smartSharpen")$={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(i=="UnsM")$={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(i=="HghP")$={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(i=="HsbP")$={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(i=="Mxm ")$={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(i=="Mnm ")$={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(i=="Ofst")$={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(i=="Kale")$={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(i=="Rept")$={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(i=="Flam")$={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(i=="Ctoa")$={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(i=="brit")$={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(i=="levl")$={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(i=="curv")$={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(i=="expA")$={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(i=="vibA")$={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(i=="hue2")$={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(i=="blnc")$={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(i=="blwh")$={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(i=="phfl")$={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(i=="grdm")$={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(et.MO[6]).Grad};
if(i=="selc")$={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(i=="thrs")$={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(i=="mixr")$={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(i=="clrL")$={__name:"Color Lookup",classID:"colorLookup"};if(i=="post")$={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(i=="rplc")$={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(i=="fade")$={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(i=="aply")$={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(i=="matc"){$={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(i=="Dila")$={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(i=="blendOptions")$={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return $};d1.Qq={sFlam:function(i,$){$[0]=i.Type.v;$[1]=i.Leng.v;$[2]=i.RndL.v;$[3]=i.Widt.v;$[4]=i.Angl.v;
$[5]=i.Intr.v;$[6]=i.Adpt.v;$[7]=i.Clr.v;$[8]=i.Qual.v;$[9]=i.Turb.v;$[10]=i.Jag.v;$[11]=i.Opct.v.val;
$[12]=i.Lins.v;$[13]=i.Botm.v;$[14]=i.Styl.v;$[15]=i.Shap.v;$[16]=i.RnSh.v;$[17]=i.Arng.v},gFlam:function(i,$){i.Type.v=$[0];
i.Leng.v=$[1];i.RndL.v=$[2];i.Widt.v=$[3];i.Angl.v=$[4];i.Intr.v=$[5];i.Adpt.v=$[6];i.Clr.v=$[7];i.Qual.v=$[8];
i.Turb.v=$[9];i.Jag.v=$[10];i.Opct.v.val=$[11];i.Lins.v=$[12];i.Botm.v=$[13];i.Styl.v=$[14];i.Shap.v=$[15];
i.RnSh.v=$[16];i.Arng.v=$[17]},sAdNs:function(i,$){$[0]=i.Nose.v.val;$[1]=["Gsn","Unfr"].indexOf(i.Dstr.v.Dstr);
$[2]=i.Mnch.v},gAdNs:function(i,$){i.Nose.v.val=$[0];i.Dstr.v.Dstr=["Gsn","Unfr"][$[1]];i.Mnch.v=$[2]},sDstS:function(i,$){$[0]=i.Rds.v;
$[1]=i.Thsh.v},gDstS:function(i,$){i.Rds.v=$[0];i.Thsh.v=$[1]},sGsnB:function(i,$){$[0]=i.Rds.v.val},gGsnB:function(i,$){i.Rds.v.val=$[0]},sDila:function(i,$){$[0]=i.Crop.v.val;
$[1]=i.Rds.v.val},gDila:function(i,$){i.Crop.v.val=$[0];i.Rds.v.val=$[1]},sHghP:function(i,$){$[0]=i.Rds.v.val},gHghP:function(i,$){i.Rds.v.val=$[0]},sHsbP:function(i,$){var h=["RGBC","HSBl","HSLC"];
$[0]=h.indexOf(i.Inpt.v.ClrS);$[1]=h.indexOf(i.Otpt.v.ClrS)},gHsbP:function(i,$){var h=["RGBC","HSBl","HSLC"];
i.Inpt.v.ClrS=h[$[0]];i.Otpt.v.ClrS=h[$[1]]},"sMxm ":function(i,$){var h="preserveShape";$[0]=i.Rds.v.val;
$[1]=i[h]?["squareness","Rndn"].indexOf(i[h].v[h]):0},"gMxm ":function(i,$){var h="preserveShape";i.Rds.v.val=$[0];
i[h]={t:"enum",v:{preserveShape:["squareness","Rndn"][$[1]]}}},"sMnm ":function(i,$){var h="preserveShape";
$[0]=i.Rds.v.val;$[1]=i[h]?["squareness","Rndn"].indexOf(i[h].v[h]):0},"gMnm ":function(i,$){var h="preserveShape";
i.Rds.v.val=$[0];i[h]={t:"enum",v:{preserveShape:["squareness","Rndn"][$[1]]}}},sMtnB:function(i,$){$[0]=[i.Angl.v];
$[1]=i.Dstn.v.val;console.log($)},gMtnB:function(i,$){i.Angl.v=typeof $[0]=="number"?$[0]:$[0][0];i.Dstn.v.val=$[1]},sOfst:function(i,$){$[0]=i.Hrzn.v;
$[1]=i.Vrtc.v;$[2]=["Rpt","Bckg","Wrp"].indexOf(i.Fl.v.FlMd)},gOfst:function(i,$){i.Hrzn.v=$[0];i.Vrtc.v=$[1];
i.Fl.v.FlMd=["Rpt","Bckg","Wrp"][$[2]]},sPnch:function(i,$){$[0]=i.Amnt.v},gPnch:function(i,$){i.Amnt.v=$[0]},"sPlr ":function(i,$){$[0]=["RctP","PlrR"].indexOf(i.Cnvr.v.Cnvr)},"gPlr ":function(i,$){i.Cnvr.v.Cnvr=["RctP","PlrR"][$[0]]},sRple:function(i,$){$[0]=i.Amnt.v;
$[1]=["Sml","Mdm","Lrg"].indexOf(i.RplS.v.RplS)},gRple:function(i,$){i.Amnt.v=$[0];i.RplS.v.RplS=["Sml","Mdm","Lrg"][$[1]]},sTwrl:function(i,$){$[0]=i.Angl.v},gTwrl:function(i,$){i.Angl.v=$[0]},sZgZg:function(i,$){$[0]=i.Amnt.v;
$[1]=i.NmbR.v;$[2]=["ArnC","OtFr","PndR"].indexOf(i.ZZTy.v.ZZTy)},gZgZg:function(i,$){i.Amnt.v=$[0];
i.NmbR.v=$[1];i.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][$[2]]},sUnsM:function(i,$){$[0]=i.Amnt.v.val;$[1]=i.Rds.v.val;
$[2]=i.Thsh.v},gUnsM:function(i,$){i.Amnt.v.val=$[0];i.Rds.v.val=$[1];i.Thsh.v=$[2]},sWave:function(i,$){$[0]=i.NmbG.v;
$[1]=i.WLMn.v;$[2]=i.WLMx.v;$[3]=i.AmMn.v;$[4]=i.AmMx.v;$[5]=i.SclH.v;$[6]=i.SclV.v;$[7]=["WvSn","WvTr","WvSq"].indexOf(i.Wvtp.v.Wvtp);
$[8]=["WrpA","RptE"].indexOf(i.UndA.v.UndA);$[9]=i.RndS.v},gWave:function(i,$){i.NmbG.v=$[0];i.WLMn.v=$[1];
i.WLMx.v=$[2];i.AmMn.v=$[3];i.AmMx.v=$[4];i.SclH.v=$[5];i.SclV.v=$[6];i.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][$[7]];
i.UndA.v.UndA=["WrpA","RptE"][$[8]];if($[9]!=null){var h=parseInt($[9]);if(isNaN(h))h=248325464;h=Math.max(0,Math.min(268435455,h));
i.RndS.v=h}},sbrit:function(i,$){$[0]=i.Brgh?i.Brgh.v:0;$[1]=i.Cntr?i.Cntr.v:0;$[2]=i.useLegacy?i.useLegacy.v:!1},gbrit:function(i,$){i.Brgh.v=$[0];
i.Cntr.v=$[1];if($[2]!=null)i.useLegacy.v=$[2]}};d1.aog=function(i){var $=new cq(0,0);if(i.enab.v==!1)return $;
var h=i.filterFXList.v;for(var t=0;t<h.length;t++){var d=h[t].v;if(d.enab.v==!1)continue;var K=d1.Pu(d),f=d1.Nz(K,d.Fltr?d.Fltr.v:null);
if(f.x>$.x)$.x=f.x;if(f.y>$.y)$.y=f.y}return $};d1.Nz=function(i,$){var h=0,d=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(i)!=-1){var K=$.Rds?$.Rds.v.val:1;
h=d=K*2.57}if(i=="MtnB")h=d=$.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(i)!=-1){h=d=1e4}if(i=="GEfc")return jG.Nz($);
return new cq(Math.ceil(h),Math.ceil(d))};d1.as=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
d1.K7=function(i,$){var h={o:$.Mz>>16,P:$.Mz>>8&255,Z:$.Mz&255},d={o:$.n9>>16,P:$.n9>>8&255,Z:$.n9&255},K=d1.names[i];
if(K==null)K=f2.names[i];var f=i;for(var l in f2.E2)if(f2.E2[l]==i)f=l;var u={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:e_.get(K)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:k.M.Aw(h)},BckC:{t:"Objc",v:k.M.Aw(d)},filterID:{t:"long",v:f.length==4?M.ar6(f):777}}},U=d1.U9(i);
if(U)u.v.Fltr={t:"Objc",v:U};return u};d1.Kz=function(i,$,h,d){var K=Date.now(),f=i8.ph&&Math.max(d.e,d.n)<=i8.nl.getParameter(i8.nl.MAX_TEXTURE_SIZE);
if(i<1){var l=Math.round(i*5),u=[1,2,1,2,[40,26,13,6,4,2][l],2,1,2,1];u=k.KN.t_(u);if(!f){k.Ki(h);var U=h.slice(0);
k.KN.mj(U,h,d.e,d.n,u,255);k.ZG(h)}else{var y=d.e,a=d.n,v=i8.W1(0,y,a);v.set(h);var c=i8.W1(1,y,a),p=new Float32Array([1/y,1/a]);
i8.dY(c);i8.filter.YR({type:i8.filter.alq,aQ:p,akf:new Float32Array(u)},v.Wd);c.get(h)}}else{var C=$==k.$A.Pk?0:$==k.$A.Mb?1:2,T=[];
while(C!=2&&i*[1,2.4][C]>20&&T.length<4){var E=k.mt(h,d);T.push(h,d);h=E.Yz;d=E.rect;i/=2}var y=d.e,a=d.n;
if(!f||C==2&&i>15){k.Ki(h);$(h,d,i);k.ZG(h)}else{var v=i8.W1(0,y,a);v.set(h);var c=i8.W1(1,y,a),p=new Float32Array([1/y,1/a]);
if(C==0){var r=1;while(r<i)r<<=1;i8.dY(c);i8.filter.YR({type:i8.filter.pj,aQ:p,hP:i,Py:[0,0,r]},v.Wd);
i8.dY(v);i8.filter.YR({type:i8.filter.pj,aQ:p,hP:i,Py:[0,1,r]},c.Wd);v.get(h)}else if(C==1){var Y=3,S=k.$A.fa(i,Y);
for(var t=0;t<Y;t++){var m=S[t]>>>1,Q=1;while(Q<m)Q<<=1;if(m==0)continue;i8.dY(c);i8.filter.YR({type:i8.filter.pj,aQ:p,hP:m,Py:[0,0,Q]},v.Wd);
i8.dY(v);i8.filter.YR({type:i8.filter.pj,aQ:p,hP:m,Py:[0,1,Q]},c.Wd)}v.get(h)}else{var r=1;while(r<i)r<<=1;
i8.dY(c);i8.filter.YR({type:i8.filter.pj,aQ:p,hP:i,Py:[0,0,r]},v.Wd);c.get(h)}}var z=Date.now();while(T.length!=0){var n=T.pop(),Z=T.pop();
k.scale.a6_(h,d.e,d.n,Z,n.e,n.n);h=Z;d=n}}};d1.an9=function(i,$,h,d){for(var t=0;t<i.length;t++){h[t]=i[t]*(1/255);
d[t]=0}FFT.fft2d(h,d);var K=$>>>1,f=16384,l=128,U=100;while(l<$){l<<=1;f<<=2}var u=255/Math.log(f),y=-100;
for(var a=0;a<$;a++)for(var v=0;v<K;v++){var c=$+K+a&$-1,p=h[c*$+v],C=d[c*$+v],T=Math.sqrt(p*p+C*C),E=Math.atan2(C,p);
i[a*$+v]=Math.round(u*Math.log(T+1));i[a*$+K+v]=Math.round((Math.PI+E)*(255*.5/Math.PI))}};d1.amU=function(i,$,h,d){h.fill(0);
d.fill(0);var K=$>>>1,f=16384,l=128;while(l<$){l<<=1;f<<=2}var u=255/Math.log(f),U=[],y=[],a=[];for(var t=0;
t<256;t++){U[t]=Math.exp(t/u)-1;var v=t*(2*Math.PI/255)-Math.PI;y[t]=Math.sin(v);a[t]=Math.cos(v)}for(var c=0;
c<$;c++)for(var p=0;p<K;p++){var C=$+K+c&$-1,T=U[i[c*$+p]],v=i[c*$+K+p],E=T*a[v],r=T*y[v];h[C*$+p]=E;
d[C*$+p]=r;if(p!=0){var Y=C==0?C*$+$-p:($-C)*$+($-p);h[Y]=E;d[Y]=-r}}FFT.ifft2d(h,d);for(var t=0;t<i.length;
t++){i[t]=Math.max(0,Math.min(255,~~(.5+255*h[t])))}};d1.a9y=new ArrayBuffer(512);d1.arY=function(i){var $=d1.a9y,h=i.length;
if($.byteLength<h)d1.a9y=$=new ArrayBuffer(h);var d=new Uint8Array($);for(var t=0;t<h;t+=4){d[t]=i[t];
d[t+1]=i[t+1];d[t+2]=i[t+2];d[t+3]=i[t+3]}return $};d1.kG=function(i,$,h,d,K,f,l){if(f==null)f={buffer:k.Q($.buffer.length),rect:$.rect.clone()};
f.buffer.set($.buffer);var u=h&&h.RndS?h.RndS.v>>>1:0;if(i=="GEfc"){var U=[];if(h.GEfs){var y=h.GEfs.v;
for(var t=0;t<y.length;t++){var a=y[t].v;if(a.GELv&&a.GELv.v==!1)continue;U.push(a)}}else U=[h];for(var t=0;
t<U.length;t++){var v;if(t==0)jG.kG(i,$,U[t],d,K,f,l);else{if(v==null)v={buffer:k.Q($.buffer.length),rect:$.rect.clone()};
k.pv(f.buffer,v.buffer);jG.kG(i,v,U[t],d,K,f,l)}}}if(i=="Dila"){var c=h.Crop.v.val,p=h.Rds.v.val+c;p=p*p;
if(p==0)return;var C=$.rect,T=C.e,E=C.n,r=T*E,Y=$.buffer,v=f.buffer,S=k.Q(r);k.pO(Y,S,3);if(c!=0){var m=C.clone();
m.ol(1,1);var Q=k.Q(m.O());k.Zc(S,C,Q,m);k.Sp(Q);k.style.stroke(Q,Q,m,c);k.Sp(Q);k.Zc(Q,m,S,C)}var z=k.style.h1(S,T,E);
v.fill(0);for(var n=0;n<E;n++)for(var Z=0;Z<T;Z++){var t=n*T+Z,P=t<<1,V=t<<2,I=z[P],q=z[P+1];if(I*I+q*q<p){var X=(n+q)*T+(Z+I)<<2;
v[V]=Y[X];v[V+1]=Y[X+1];v[V+2]=Y[X+2];v[V+3]=255}}}if(i=="Adobe Camera Raw Filter"){var C=$.rect,T=C.e,E=C.n,r=T*E,B=r*4,e=r*3,F=new Float32Array(T*E*3),s=$.buffer;
for(var t=0;t<r;t++){var J=t*3,V=t*4;F[J]=s[V]*(1/255);F[J+1]=s[V+1]*(1/255);F[J+2]=s[V+2]*(1/255)}var W=JSON.parse(JSON.stringify(h));
delete W.Upri;delete W.GuUr;var L=F.slice(0);jd(F,T,E,L,W);F=L;s=f.buffer;for(var t=0;t<r;t++){var J=t*3,V=t*4;
s[V]=255*Math.max(0,Math.min(1,F[J]));s[V+1]=255*Math.max(0,Math.min(1,F[J+1]));s[V+2]=255*Math.max(0,Math.min(1,F[J+2]))}}if(i=="Fct "){var C=$.rect,T=C.e,E=C.n,r=T*E,B=r*4;
function A(iF){var dB=iF.slice(0);for(var n=0;n<3;n++)for(var Z=0;Z<3;Z++)dB[n*3+Z]=iF[(2-Z)*3+n];return dB}function j(cW,b3,cn,dh){var eW=0;
for(var n=0;n<3;n++)for(var Z=0;Z<3;Z++)eW+=b3[n*3+Z]*cW[(dh-1+n)*T+cn-1+Z];return eW}var G=[8,5,2,5,2,-1,2,-1,-4],O=[5,5,5,2,2,2,-1,-1,-1],o=[2,2,2,2,2,2,2,2,2],N=[];
N.push(G);for(var t=0;t<3;t++)N.push(A(N[N.length-1]));N.push(O);for(var t=0;t<3;t++)N.push(A(N[N.length-1]));
N.push(o);for(var t=0;t<9;t++)N[t]=k.KN.t_(N[t]);var w=[-T-1,-T,-T+1,-1,0,1,T-1,T,T+1],kv=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],g=k.Q(r),b=new Float32Array(r),L=k.Q(r);
for(var jU=0;jU<3;jU++){k.pO($.buffer,g,jU);for(var _=0;_<1;_++){for(var n=1;n<E-1;n++)for(var Z=1;Z<T-1;
Z++){var cY=n*T+Z,j3=g[cY];b[cY]=1e9;for(var t=0;t<9;t++){var aS=j(g,N[t],Z,n),bL=(aS-j3)*(aS-j3);if(bL<b[cY])b[cY]=bL}}for(var n=1;
n<E-1;n++)for(var Z=1;Z<T-1;Z++){var cQ=0,cK=1e9;for(var t=0;t<9;t++){var el=n*T+Z+w[t],bL=b[el];if(bL<cK){cK=bL;
cQ=g[el]}}L[n*T+Z]=cQ}g.set(L)}k.k1(L,f.buffer,jU)}}if(i=="adaptCorrect"){var C=$.rect,T=C.e,E=C.n,r=T*E,B=r*4,gF=h.sdwM.v,fj=gF.Amnt.v.val/100,i3=gF.Wdth.v.val/100,eT=gF.Rds.v,eV=h.hglM.v,hr=eV.Amnt.v.val/100,it=eV.Wdth.v.val/100,f8=eV.Rds.v;
k.Hp.ahc($.buffer,f.buffer,T,E,fj,i3,eT,hr,it,f8,h.ClrC.v/100,h.Cntr.v/100)}if(i=="denoise"){var C=$.rect,T=C.e,E=C.n,gS=h.channelDenoise.v[0].v;
k.q1.acL($.buffer,T,E,f.buffer,gS.Amnt.v/10,gS.EdgF.v/100)}if(i=="HsbP"){var hT=h.Inpt.v.ClrS,gL=h.Otpt.v.ClrS,C=$.rect,T=C.e,E=C.n,r=T*E;
for(var t=0;t<r;t++){var V=t*4,_=$.buffer[V]*(1/255),iu=$.buffer[V+1]*(1/255),dB=$.buffer[V+2]*(1/255);
if(hT=="RGBC"){}else if(hT=="HSLC"){var L=k.Lm(_,iu,dB);_=L.o;iu=L.P;dB=L.Z}else if(hT=="HSBl"){var L=k.abU(_,iu,dB);
_=L.o;iu=L.P;dB=L.Z}var jt=_,ka=iu,eQ=dB;if(gL=="RGBC"){}else if(gL=="HSLC"){var L=k.xV(_,iu,dB);jt=L.mJ;
ka=L.qc;eQ=L.AP}else if(gL=="HSBl"){var L=k.a9A(_,iu,dB);jt=L.mJ;ka=L.qc;eQ=L.Z}f.buffer[V]=~~(255*jt);
f.buffer[V+1]=~~(255*ka);f.buffer[V+2]=~~(255*eQ)}}if(i=="Fbrs"){var C=$.rect,T=C.e,E=C.n;k.Y.MM($.buffer,T,E,f.buffer,[h.Vrnc.v,h.Strg.v,u]);
var dv=k.Q(T*E);k.pO(f.buffer,dv,0);k.Sp(dv);jG.c9(dv,f.buffer,d,K)}if(i=="Frgm"){var C=$.rect,T=C.e,E=C.n,cT=$.buffer.slice(0);
k.Ki(cT);k.Y.aew(cT,T,E,f.buffer);k.ZG(f.buffer)}if(i=="Flam"){var C=$.rect,T=C.e,E=C.n,eY=h.Clr.v,gl={type:h.Type.v+1,length:h.Leng.v,a2Y:h.RndL.v,lu:h.Widt.v,ahP:h.Angl.v,a5h:h.Intr.v,a2d:h.Adpt.v,color:{o:eY.Rd.v,P:eY.Grn.v,Z:eY.Bl.v},Pf:h.Qual.v+1,wi:h.Turb.v,Sr:h.Jag.v,opacity:h.Opct.v.val,j1:h.Lins.v,ayg:h.Botm.v,style:h.Styl.v+1,shape:h.Shap.v+1,avb:h.RnSh.v,a4C:h.Arng.v,aax:!1},dY=l[3],gE=dY[0],cs=dY[1],au=gE[cs.length!=0?cs[0]:0];
if(au==null){alert("Make a path first");return}var b8=au.add.vmsk.i,jw=k.A.P6(b8),ek=[];for(var X=0;
X<jw;X++){var cj=k.A.ec(b8,X),jJ=b8[cj];if(jJ.length<2)continue;var hp=[];ek.push(hp);var dW=jJ.length-(jJ.type==3?1:0);
for(var cY=0;cY<dW;cY++){var h4=b8[cj+1+cY],er=cY==jJ.length-1?b8[cj+1]:b8[cj+1+cY+1],hG=h4.F,i_=h4.ua,G=er.Q2,aK=er.F,bG=Math.round(cq.ED(hG,aK)/5);
for(var dx=0;dx<bG;dx++){var aH=dx/bG,cU=1-aH,Z=cU*cU*cU*hG.x+3*cU*cU*aH*i_.x+3*cU*aH*aH*G.x+aH*aH*aH*aK.x,n=cU*cU*cU*hG.y+3*cU*cU*aH*i_.y+3*cU*aH*aH*G.y+aH*aH*aH*aK.y;
hp.push(Z,n)}}}var kr=[ek,gl],cL=Date.now(),aj=fq(kr);cG($.buffer,T,E,f.buffer,aj,kr)}if(i=="Dfs "){var C=$.rect,T=C.e,E=C.n,js=["Nrml","DrkO","LghO","anisotropic"].indexOf(h.Md.v.DfsM);
if(js<3)k.Y.a0l($.buffer,T,E,f.buffer,[js]);else{var kr=[1.4,1.6,1,4,!1,2,[0,0,.001]],C=$.rect.clone();
C.x=C.y=0;k.q_.filter($.buffer,C,f.buffer,kr)}}if(i=="TrcC"){var C=$.rect,T=C.e,ey=T<<2,E=C.n,dr=h.Lvl.v,df=h.Edg.v.CntE=="Lwr",af=$.buffer,cB=f.buffer;
k.MK(cB,16777215,4278190080);function iq(k8,fp){gf(k8,fp);gf(k8+1,fp+1);gf(k8+2,fp+2)}function cV(k8,fp){ge(k8,fp);
ge(k8+1,fp+1);ge(k8+2,fp+2)}function gf(k8,fp){var jt=af[k8],ka=af[fp];if(jt>=dr&&ka<dr)cB[k8]=0;if(jt<dr&&ka>=dr)cB[fp]=0}function ge(k8,fp){var jt=af[k8],ka=af[fp];
if(jt>dr&&ka<=dr)cB[fp]=0;if(jt<=dr&&ka>dr)cB[k8]=0}if(df)for(var n=1;n<E;n++)for(var Z=1;Z<T;Z++){var V=n*T+Z<<2;
iq(V,V-4);iq(V,V-ey)}else for(var n=1;n<E;n++)for(var Z=1;Z<T;Z++){var V=n*T+Z<<2;cV(V,V-4);cV(V,V-ey)}}if(i=="Embs"){var C=$.rect,T=C.e,E=C.n,da=-h.Angl.v*Math.PI/180,aO=h.Hght.v,eb=h.Amnt.v/100;
aO/=2;var I=Math.cos(da)*aO,q=Math.sin(da)*aO,af=$.buffer,cB=f.buffer;cB.fill(0);var ag=new Uint32Array(af.buffer),L=new Uint8Array(4),dX=new Uint32Array(L.buffer);
for(var n=0;n<E;n++)for(var Z=0;Z<T;Z++){var gP=0,cm=0,gO=0;if(0<=Z+I&&Z+I<T&&0<=n+q&&n+q<E){k.K.l9(Z+I+.5,n+q+.5,ag,T,E,dX,0,0);
gP+=L[0]-128;cm+=L[1]-128;gO+=L[2]-128}if(0<=Z-I&&Z-I<T&&0<=n-q&&n-q<E){k.K.l9(Z-I+.5,n-q+.5,ag,T,E,dX,0,0);
gP-=L[0]-128;cm-=L[1]-128;gO-=L[2]-128}var V=n*T+Z<<2;cB[V]=Math.max(0,Math.min(255,gP*eb+128));cB[V+1]=Math.max(0,Math.min(255,cm*eb+128));
cB[V+2]=Math.max(0,Math.min(255,gO*eb+128));cB[V+3]=af[V+3]}}if(i=="ShrE"){var C=$.rect,T=C.e,E=C.n;
k.Y.a18($.buffer,T,E,f.buffer)}if(i=="Dspc"){var C=$.rect,T=C.e,E=C.n;k.Y.ady($.buffer,T,E,f.buffer)}if(i=="Slrz"){var bO=f.buffer,gb=128;
for(var t=0;t<bO.length;t+=4){if(bO[t]>gb)bO[t]=255-bO[t];if(bO[t+1]>gb)bO[t+1]=255-bO[t+1];if(bO[t+2]>gb)bO[t+2]=255-bO[t+2]}}if(i=="Wnd "){var C=$.rect,T=C.e,E=C.n,dk=["Wnd","Blst","Stgr"],cw=h.WndM.v.WndM;
k.Y.Kh($.buffer,T,E,f.buffer,[dk.indexOf(cw),h.Drct.v.Drct!="Left"])}if(i=="Bokh"){var C=$.rect,T=C.e,E=C.n,r=T*E,B=r*4,gN=$.buffer.slice(0),ci=h.BkDi.v.BtDi,jq=h.BkDc,ea=h.BkDs.v,kc=h.BkDp.v/255;
if(ci=="BeIn")kc=0;var jE=57*(.3+.7*((T+E)/2)/1750)*(h.BkIb.v/100)*(1+.2*Math.pow(kc,.1)),b4=parseInt(h.BkIs.v.BtIs.slice(3)),hc=-h.BkIr.v*Math.PI/180,dL=[];
for(var t=0;t<8;t++){var a5=hc+t*(Math.PI*2/b4),dd=hc+(t+1)*(Math.PI*2/b4),a2=Math.cos(a5),aW=Math.sin(a5),fh=Math.cos(dd),he=Math.sin(dd),g$=[0,0,0];
k.eE.gd([[a2,aW,1,0],[fh,he,1,0],[1,1,1,1]],g$);if(g$[2]>0){g$[0]*=-1;g$[1]*=-1;g$[2]*=-1}dL.push(g$[0],g$[1],g$[2],0)}if(ci=="BeIn"){k.MK(gN,0,16777215);
kc=1}else if(ci=="BeIt"&&jq.v.BtDc=="BeCt"){}else{var gd;if(ci=="BeIt"&&jq.v.BtDc=="BeCm")gd=l[1];else if(ci=="BeIa")gd=l[2][jq.v];
if(gd==null){k.MK(gN,0,16777215)}else{var g;if(gd.rect.Rl(C))g=gd.channel;else g=gd.os(C);k.k1(g,gN,3)}}if(ea)for(var t=0;
t<B;t+=4)gN[t+3]=255-gN[t+3];if(i8.ph){var dn=gN,g5=T,g_=E,cC=1,gC=(h.BkSb.v==0||h.BkSt.v==255)&&ci=="BeIn";
if(!gC){var g1=0;for(var t=0;t<B;t+=4)g1+=Math.abs(kc-gN[t+3]*(1/255));g1=g1/r*jE;var ba=3.14*g1*g1*T*E/3e6;
if(ba>2e3){alert("too large radius");return}}while(gC&&3*(jE/cC)*(jE/cC)*T*E>500*2e3*2e3){var dy=k.h9(gN,new bN(0,0,g5,g_));
gN=dy.Yz;g5=dy.rect.e;g_=dy.rect.n;cC*=2}var cL=Date.now(),Y=i8.W1(0,g5,g_);Y.set(gN);var iH=i8.W1(1,T,E);
i8.dY(iH);i8.filter.YR({type:i8.filter.anE,aQ:new Float32Array([1/g5,1/g_]),ak5:kc,x0:jE/cC,aq6:new Float32Array([h.BkSb.v/100,h.BkSt.v/255]),avm:new Float32Array([h.BkNa.v/100,h.BkNt.v.BtNt=="BeNu"?0:1,h.BkNm.v?1:0]),aqI:new Float32Array(dL.slice(0,16)),a3W:new Float32Array(dL.slice(16))},Y.Wd);
iH.get(f.buffer);var cc=f.buffer;for(var t=0;t<B;t+=4)cc[t+3]=$.buffer[t+3]}}if(i=="rigidTransform"){var cL=Date.now(),a3=d1.arY,Y=$.buffer.slice(0),bl=0,jK=0;
k.Ki(Y);k.MK(f.buffer,0);var T=$.rect.e,E=$.rect.n,jN=h.puppetShapeList.v,cH=[],d9=[],ab=[],cz=[];for(var cY=0;
cY<jN.length;cY++){var hg=jN[cY].v,P=bl*2,J=jK*3,hw=hg.originalVertexArray.v.length>>>2,gy=hg.indexArray.v.length>>>2,d3=new Float32Array(a3(hg.originalVertexArray.v));
for(var t=0;t<hw;t++)cH[P+t]=d3[t];var hL=new Float32Array(a3(hg.deformedVertexArray.v));for(var t=0;
t<hw;t++)d9[P+t]=hL[t];var di=new Uint32Array(a3(hg.indexArray.v));for(var t=0;t<gy;t++)ab[J+t]=bl+di[t];
var g2=[],fc=[],bX=hg.PnDp.v;for(var t=0;t<bX.length;t++){g2.push(hg.pinVertexIndices.v[t].v);fc.push(bX[t].v)}var k6=k.AF.asd(d3,di,g2,fc);
for(var t=0;t<k6.length;t++)cz[bl+t]=k6[t];bl+=hw>>>1;jK+=~~(gy/3)}var _=$.rect,T=_.e,E=_.n;k.AF.vi(Y,T,E,f.buffer,T,E,cH,d9,cz,ab);
k.ZG(f.buffer)}if(i=="lightFilterGradient"){function ke(hG){var b3=1/Math.sqrt(hG[0]*hG[0]+hG[1]*hG[1]+hG[2]*hG[2]);
hG[0]*=b3;hG[1]*=b3;hG[2]*=b3}var T=$.rect.e,E=$.rect.n,r=T*E,cL=Date.now(),km=k.Q(r),ka=.3,eQ=.7;k.xw(f.buffer,km);
var cr=k.Q(r);k.$A.WJ(km,cr,f.rect,16);var cR=k.Q(r);k.$A.WJ(km,cR,f.rect,8);var ij=km,g3=new Float32Array(r),bT=h.Dtl.v,cu=bT[2].v,jH=bT[1].v,dU=bT[0].v,eW=h.Scl.v*40*h.textureScale.v/(cu+jH+dU);
cu*=eW;jH*=eW;dU*=eW;for(var t=0;t<r;t++){var jp=cr[t]*(1/255),id=cR[t]*(1/255),iy=ij[t]*(1/255);iy=iy*iy;
g3[t]=cu*jp+jH*id+dU*iy}var iV=h.blur.v;if(iV!=0){var i4=g3.slice(0);k.$A.jl(i4,g3,f.rect,iV)}var a8=T-1,ko=E-1;
for(var n=0;n<E;n++)for(var Z=0;Z<T;Z++){var t=n*T+Z,V=t*4,bv=g3[t],I=ka*(g3[t+(Z==a8?0:1)]-bv)+eQ*(bv-g3[t-(Z==0?0:1)]),q=ka*(g3[t+(n==ko?0:T)]-bv)+eQ*(bv-g3[t-(n==0?0:T)]),hG=[1,0,I],i_=[0,1,q];
ke(hG);ke(i_);var dd=hG[0],h2=hG[2],jM=i_[1],fy=i_[2],co=-h2*jM,dQ=-dd*fy,ic=dd*jM;f.buffer[V]=~~(127.5+co*127.5);
f.buffer[V+1]=~~(127.5+dQ*127.5);f.buffer[V+2]=~~(127.5+ic*127.5)}}if(i=="defr"){var T=$.rect.e,E=$.rect.n;
ev($.buffer,T,E,f.buffer)}if(i=="dDFT"||i=="iDFT"){function k9(b4){if(b4==0)return 1;b4--;b4|=b4>>1;
b4|=b4>>2;b4|=b4>>4;b4|=b4>>8;b4|=b4>>16;return b4+1}var T=$.rect.e,E=$.rect.n,k7=k9(Math.max(T,E)),c7=k7>>>1,jI=new bN(0,0,k7,k7),bJ=new bN(0,0,T,E);
bJ.y=k7-E>>>1;var jc=T>>>1,fS=new bN(0,bJ.y,jc,E),cZ=new k.UT(T*E);k.dI($.buffer,cZ);var eo=new Float64Array(k7*k7),k5=new Float64Array(k7*k7),g=k.Q(k7*k7);
FFT.init(k7);var eM=[cZ.o,cZ.P,cZ.Z];for(var t=0;t<3;t++){var hS=eM[t];g.fill(0);if(i=="dDFT"){k.Zc(hS,bJ,g,jI);
d1.an9(g,k7,eo,k5);k.Zc(g,jI,hS,bJ,fS);fS.x+=jc;jI.x-=c7-jc;k.Zc(g,jI,hS,bJ,fS);fS.x-=jc;jI.x+=c7-jc}else{k.Zc(hS,bJ,g,jI,fS);
fS.x+=c7;bJ.x+=c7-jc;k.Zc(hS,bJ,g,jI,fS);fS.x-=c7;bJ.x-=c7-jc;d1.amU(g,k7,eo,k5);k.Zc(g,jI,hS,bJ)}}k.ko(cZ,f.buffer)}if(i=="Avrg"){var gZ=0,a0=0,bn=0,am=0,gG=1;
for(var t=0;t<$.buffer.length;t+=4){var S=$.buffer[t+3];bn+=$.buffer[t]*S;a0+=$.buffer[t+1]*S;gZ+=$.buffer[t+2]*S;
am+=S}var aY=1/am;gZ=Math.round(gG*(gZ*aY)+(1-gG)*255);a0=Math.round(gG*(a0*aY)+(1-gG)*255);bn=Math.round(gG*(bn*aY)+(1-gG)*255);
k.MK(f.buffer,gZ<<16|a0<<8|bn,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(i)!=-1){var cD=h.Rds?h.Rds.v.val:1,kh=i=="boxblur"?k.$A.Pk:k.$A.Mb;
d1.Kz(cD,kh,f.buffer,f.rect);if(i=="UnsM"||i=="smartSharpen"){var eb=(h.Amnt?h.Amnt.v.val:200)/100,bH=0;
if(i=="UnsM")bH=h.Thsh.v;else eb*=.75;for(var t=0;t<$.buffer.length;t++){if((t&3)==3){f.buffer[t]=$.buffer[t];
continue}var j3=$.buffer[t],aS=f.buffer[t],gm=eb*(j3-aS);if(gm>0)gm=Math.max(0,gm-bH);else gm=Math.min(0,gm+bH);
f.buffer[t]=Math.max(0,Math.min(255,j3+gm))}}if(i=="HghP")for(var t=0;t<$.buffer.length;t++){if((t&3)==3){f.buffer[t]=$.buffer[t];
continue}var j3=$.buffer[t],aS=f.buffer[t];f.buffer[t]=Math.max(0,Math.min(255,128+j3-aS))}}if(i=="AdNs"){var hE=new Uint8ClampedArray(f.buffer.buffer),h1=255*h.Nose.v.val/100,aP;
if(h.Dstr.v.Dstr=="Gsn")aP=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else aP=function(){return Math.random()*2-1};for(var t=0;t<hE.length;t+=4){var _=hE[t],iu=hE[t+1],dB=hE[t+2],bj,gJ,dK;
if(h.Mnch.v){bj=gJ=dK=aP()}else{bj=aP();gJ=aP();dK=aP()}_+=h1*bj;iu+=h1*gJ;dB+=h1*dK;hE[t]=_;hE[t+1]=iu;
hE[t+2]=dB}}var cL=Date.now();if(i=="Mdn "||i=="DstS"||i=="Mxm "||i=="Mnm "||i=="surfaceBlur"){var _=0,aC=h.Thsh,hg=0;
if(aC)aC=aC.v;else aC=0;if(i=="Mdn "||i=="Mxm "||i=="Mnm "||i=="surfaceBlur")_=h.Rds.v.val;else _=h.Rds.v;
var b9=h.preserveShape;if(b9&&b9.v.preserveShape=="Rndn")hg=1;var T=$.rect.e,E=$.rect.n,ga=["Mnm ","Mxm ","surfaceBlur"].indexOf(i),fa=(hg==0?1:.75)*[.73,.73,1][ga]*(T*E*_*_)/1722387,hB=[.73,.9,1.4][ga]*(T*E*Math.sqrt(_))/6500;
if(i8.ph&&ga!=-1&&(fa<hB||hg==1)&&fa<1500){var Y=i8.W1(0,T,E);Y.set($.buffer);var v=i8.W1(1,T,E);i8.dY(v);
i8.filter.YR({type:i8.filter.a7b,aQ:new Float32Array([1/T,1/E]),x0:_,as7:aC/255,Py:[hg,ga,10*Math.ceil(_/10)]},Y.Wd);
v.get(f.buffer)}else{_=Math.round(_);k._G.ck=.5;var kh=k._G.LH;if(i=="Mxm ")kh=k._G.gS;if(i=="Mnm ")kh=k._G.eT;
if(i=="surfaceBlur")kh=k._G.Fk;k._G.tu($.buffer,f.buffer,T,E,_,kh,[aC]);if(i=="DstS")for(var t=0;t<T*E*4;
t++){var eZ=Math.abs($.buffer[t]-f.buffer[t]);if(eZ<=aC)f.buffer[t]=$.buffer[t]}}}if(i=="ClrH"){var fS=$.rect.clone();
fS.x=fS.y=0;var _=h.Rds.v;_=Math.round(_*Math.sqrt(2));var T=fS.e,E=fS.n,cZ=new k.UT(T*E);k.dI($.buffer,cZ);
k.Sp(cZ.o);k.Sp(cZ.P);k.Sp(cZ.Z);var ef=k.i8(T,E),cc=k.Q(T*E*4);for(var cW=0;cW<3;cW++){var g=cW==0?cZ.o:cW==1?cZ.P:cZ.Z,da=Math.PI*h["Ang"+(cW+1)].v/180,c0=new ej(1/_,0,0,1/_,0,0);
c0.rotate(da);k.k1(g,cc,3);var L=D.vA.$V([cc,fS],c0,!0),bJ=L.rect;ef.clearRect(0,0,T,E);var jO=Math.sin(da),a7=Math.cos(da);
for(var t=0;t<bJ.n;t++)for(var dx=0;dx<bJ.e;dx++){var Z=(dx+bJ.x+.5)*_,n=(t+bJ.y+.5)*_,kl=Z,ax=n;Z=a7*kl-jO*ax;
n=jO*kl+a7*ax;var r=L.buffer[(t*bJ.e+dx<<2)+3]*(1/255),cD=_*Math.sqrt(r*(1/Math.PI));ef.beginPath();
ef.arc(Z,n,cD,0,2*Math.PI);ef.fill()}var aq=ef.getImageData(0,0,T,E);k.pO(aq.data,g,3)}k.Sp(cZ.o);k.Sp(cZ.P);
k.Sp(cZ.Z);k.ko(cZ,f.buffer)}if(i=="Crst"||i=="Pntl"){var T=$.rect.e,E=$.rect.n,kh=i=="Crst"?k.AU.aeB:k.AU.avk;
kh($.buffer,T,E,f.buffer,h.ClSz.v,[Math.round(K.o),Math.round(K.P),Math.round(K.Z)])}if(i=="Mztn"){var T=$.rect.e,E=$.rect.n,r=T*E,cZ=new k.UT(r),c_=[cZ.o,cZ.P,cZ.Z];
k.dI($.buffer,cZ);var cw=h.MztT.v.MztT,fX={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[cw],cL=Date.now(),fJ=[];
for(var t=0;t<r;t++){fJ[t]=Math.random()}var r=T*E,c9=Math.round(r*fX[0]),bW=r-T-1;for(var t=0;t<c9;
t++){var kb=Math.random(),ei=1;if(kb<.5){ei=T;kb*=2}else kb=2*(kb-.5);var k8=Math.floor(kb*bW),fp=k8+ei;
fJ[k8]=fJ[fp]}var gg=Math.round(T*fX[1]);for(var n=0;n<E;n++)for(var t=0;t<gg;t++){var kb=k.l.Ks(n*r+t),k8=n*T+Math.floor(kb*(T-1));
fJ[k8]=fJ[k8+1]}var fx=new Float64Array(256);for(var t=0;t<256;t++){var iI=t/255,eX=2*(iI<.5?iI:1-iI);
eX=fX[2]+Math.pow(eX,fX[3])*(1-fX[2]);iI=iI<.5?eX*.5:1-eX*.5;fx[t]=iI}for(var jU=0;jU<3;jU++){var g=c_[jU];
for(var n=0;n<E;n++){for(var Z=0;Z<T;Z++){var t=n*T+Z,fO=g[t],iI=fx[fO],kb=fJ[t];g[t]=kb>iI?0:255}}}k.ko(cZ,f.buffer)}if(i=="Msc "){var jw=h.ClSz.v.val,T=$.rect.e,E=$.rect.n,b0=Math.ceil(T/jw),hv=Math.ceil(E/jw),e$=k.Q(b0*hv*4);
k.scale.Vs($.buffer,T,E,e$,b0,hv,1/jw);k.scale.Vs(e$,b0,hv,f.buffer,T,E,jw)}if(i=="Clds"||i=="DfrC"){var T=f.rect.e,E=f.rect.n,r=T*E,aJ=k.Q(r);
if(i=="Clds")k.MK(f.buffer,4278190080);var aQ=k.Q(256*4);for(var t=0;t<256;t++){var V=t<<2,iF=t/255,di=1-iF;
aQ[V]=Math.round(iF*d.o+di*K.o);aQ[V+1]=Math.round(iF*d.P+di*K.P);aQ[V+2]=Math.round(iF*d.Z+di*K.Z)}k.Y.agR($.buffer,T,E,aJ);
var fg=f.buffer;for(var t=0;t<r;t++){var V=t<<2,jU=aJ[t]<<2,_=aQ[jU],iu=aQ[jU+1],dB=aQ[jU+2];if(i=="Clds"){fg[V]=_;
fg[V+1]=iu;fg[V+2]=dB}else{fg[V]=Math.abs(fg[4*t]-_);fg[V+1]=Math.abs(fg[4*t+1]-iu);fg[V+2]=Math.abs(fg[4*t+2]-dB)}}}if(i=="LnsF"){var T=$.rect.e,E=$.rect.n,cw=["Zm","Nkn","Nkn1","PnVs"].indexOf(h.Lns.v.Lns),dF=h.FlrC.v,bV=[Math.min(cw,2),h.Brgh.v/100,dF.Hrzn.v,dF.Vrtc.v],cL=Date.now();
k.am0($.buffer,T,E,f.buffer,bV)}var hx=["Blr ","BlrM","Shrp","ShrM"].indexOf(i);if(hx!=-1){var fY=hx>1,T=$.rect.e,E=$.rect.n,fU=k.KN.w6[hx],eC=$.buffer.slice(0);
if(!fY)k.Ki(eC);k.KN.mj(eC,f.buffer,T,E,fU,255,!1,fY);if(!fY)k.ZG(f.buffer)}if(i=="MtnB"){var jX=-h.Angl.v*Math.PI/180,fm=h.Dstn.v.val/2,cL=Date.now(),T=$.rect.e,E=$.rect.n,C=$.rect.clone();
C.x=C.y=0;if(i8.ph){var cL=Date.now(),hm=f.buffer;hm.set($.buffer);k.Ki(hm);var eG=i8.W1(0,T,E);eG.set(hm);
var af=k.Q(4);af[0]=Math.round(128+127*Math.cos(jX));af[1]=Math.round(128+127*Math.sin(jX));new Uint32Array(hm.buffer).fill(new Uint32Array(af.buffer)[0]);
var hV=i8.W1(1,T,E);hV.set(hm);i8.dY(eG,C);eG.tM(C);i8.filter.YR({type:i8.filter.EB,Nl:hV.Wd,aQ:new Float32Array([1/T,1/E]),ap0:fm/2,aho:1},eG.Kc);
eG.get(hm);k.ZG(hm)}else{var c0=new ej;c0.rotate(jX);var L=D.vA.$V([$.buffer,$.rect],c0,!1,null,!0);
d1.Kz(fm,k.$A.zh,L.buffer,L.rect);c0.Sp();L=D.vA.$V([L.buffer,L.rect],c0,!1,f.buffer.buffer,!0,f.rect)}console.log(Date.now()-cL)}if(i=="RdlB"){var T=$.rect.e,E=$.rect.n,eb=h.Amnt.v,cM=h.BlrM.v.BlrM=="Zm",cW=h.Cntr.v,cn=cW.Hrzn.v,dh=cW.Vrtc.v,I=Math.max(cn,1-cn)*T,q=Math.max(dh,1-dh)*E,cD=Math.sqrt(I*I+q*q),aR=2*Math.PI*cD*1.5,cO=Math.round(aR),f$=Math.round(cD),fS=new bN(0,0,cO,f$),a6=k.Q(cO*f$*4),c1=cM?4:1,jY=cM?.6:8*((T+E)/2)/1400,gT=.1,cC=1,kf=1;
k.K.AO($.buffer,T,E,a6,cO,f$,cn,dh,c1,gT,cC,kf);var fu=cM?k.Q(cO*f$*4):null;if(cM){k.K.Nj(a6,fu,cO,f$);
var aH=fu;fu=a6;a6=aH;fS.e=f$;fS.n=cO}d1.Kz(jY*eb,k.$A.zh,a6,fS);if(cM){k.K.Nj(a6,fu,f$,cO);var aH=fu;
fu=a6;a6=aH;fS.e=cO;fS.n=f$}k.K.pz(a6,cO,f$,f.buffer,T,E,cn,dh,c1,gT,cC,kf)}if(i=="Plr "){var T=$.rect.e,E=$.rect.n;
if(h.Cnvr.v.Cnvr=="RctP")k.K.pz($.buffer,T,E,f.buffer,T,E,.5,.5,1,0,2,T/E);else k.K.AO($.buffer,T,E,f.buffer,T,E,.5,.5,1,0,2,T/E)}if(i=="FndE"){var T=$.rect.e,E=$.rect.n;
k.KN.HW($.buffer,f.buffer,T,E)}if(i=="oilPaint"){var da=h.LghD.v*Math.PI/180,e6=[Math.cos(da),Math.sin(da),.001],kr=[h.stylization.v,h.cleanliness.v,h.brushScale.v,h.microBrush.v,h.lightingOn.v,h.specularity.v,e6],C=$.rect.clone();
C.x=C.y=0;k.q_.filter($.buffer,C,f.buffer,kr)}if(i=="Ofst"){var T=$.rect.e,E=$.rect.n,gc=new Uint32Array($.buffer.buffer),j2=new Uint32Array(f.buffer.buffer),kl=h.Hrzn.v,ax=h.Vrtc.v,iJ=h.Fl.v.FlMd;
k.MK(j2,0);if(iJ=="Bckg"||iJ=="Rpt"){var fS=$.rect.clone();fS.offset(kl,ax);k.mC(gc,fS,j2,f.rect)}if(iJ=="Rpt"){var a2,aW,fh,he,c6;
kl=Math.max(-T,Math.min(T,kl));ax=Math.max(-E,Math.min(E,ax));a2=kl>0?kl:0;fh=kl>0?T:T+kl;aW=ax>0?0:ax+E;
he=ax>0?ax:E;c6=ax>0?0:T*(E-1);for(var n=aW;n<he;n++)for(var Z=a2;Z<fh;Z++)j2[n*T+Z]=gc[c6+Z-kl];a2=kl>0?0:T+kl;
fh=kl>0?kl:T;aW=ax>0?ax:0;he=ax>0?E:E+ax;c6=kl>0?0:T-1;for(var n=aW;n<he;n++)for(var Z=a2;Z<fh;Z++)j2[n*T+Z]=gc[c6+T*(n-ax)];
if(kl>=0&&ax>=0){a2=0;fh=kl;aW=0;he=ax;c6=0}if(kl>=0&&ax<0){a2=0;fh=kl;aW=E+ax;he=E;c6=T*(E-1)}if(kl<0&&ax>=0){a2=T+kl;
fh=T;aW=0;he=ax;c6=T-1}if(kl<0&&ax<0){a2=T+kl;fh=T;aW=E+ax;he=E;c6=T*E-1}for(var n=aW;n<he;n++)for(var Z=a2;
Z<fh;Z++)j2[n*T+Z]=gc[c6]}if(iJ=="Wrp"){kl=(kl+100*T)%T;ax=(ax+100*E)%E;var fS=new bN(kl-T,ax-E,T,E);
k.mC(gc,fS,j2,f.rect);fS.offset(T,0);k.mC(gc,fS,j2,f.rect);fS.offset(0,E);k.mC(gc,fS,j2,f.rect);fS.offset(-T,0);
k.mC(gc,fS,j2,f.rect)}}if(i=="Rept"){var dz=h.Rsft.v.val/100,aI=h.SpcX.v.val/100;aI=Math.max(aI,-.99);
var hf=h.SpcY.v.val/100;hf=Math.max(hf,-.99);var cC=h.Scl.v.val/100,c0=new ej;c0.rotate(h.Angl.v*Math.PI/180);
c0.scale(cC,cC);var hn={buffer:$.buffer,rect:$.rect};k.Dl(hn);if(hn.rect.NT()){hn.buffer=$.buffer;hn.rect=$.rect}var fg=hn.buffer,fS=hn.rect,fd=k.M6(fg,fS,0),f6=new Uint32Array(fg.buffer)[0];
if(!fd.NT()&&!fd.Rl(fS)){var bS=k.Q(fd.O()*4);k.mC(fg,fS,bS,fd);fg=bS;fS=fd}fS.x=fS.y=0;f6=aI==0&&hf==0||h.SpcC.v?f6:0;
function du(Z){return Z<0?Math.ceil(Z):Math.floor(Z)}var hj=c0.hb(new cq(fS.e,0));hj.x=du(hj.x);hj.y=du(hj.y);
var iU=c0.hb(new cq(0,fS.n));iU.x=du(iU.x);iU.y=du(iU.y);var L=D.vA.$V([fg,fS],c0,!1),bJ=L.rect,cB=L.buffer,gj=Math.round(bJ.x),b5=Math.round(bJ.y),iN=Math.max(f.rect.e,f.rect.n)/Math.min(fS.e*cC*(1+aI),fS.n*cC*(1+hf));
iN=Math.ceil(iN*1.7);k.MK(f.buffer,f6);for(var n=-iN;n<iN;n++){for(var Z=-iN;Z<iN;Z++){var ar=(Z+n*dz)*(1+aI),d4=n*(1+hf);
bJ.x=gj+Math.round(ar*hj.x+d4*iU.x);bJ.y=b5+Math.round(ar*hj.y+d4*iU.y);if(bJ.CF(f.rect))k.l.NU("norm",cB,bJ,f.buffer,f.rect,bJ,1)}}}if(i=="Ctoa"){var K=k.M.zk(h.Clr.v),aC=h.Trsp.v.val/100,iZ=h.Opct.v.val/100;
aC=iZ==0?0:aC/iZ;var T=$.rect.e,E=$.rect.n,dP=~~K.o,fL=~~K.P,gH=~~K.Z,c6=$.buffer,el=f.buffer;for(var n=0;
n<E;n++)for(var Z=0;Z<T;Z++){var t=n*T+Z,V=t<<2,fS=c6[V],gU=c6[V+1],fg=c6[V+2],hY=Math.abs(dP-fS),j_=Math.abs(fL-gU),bq=Math.abs(gH-fg),i6=Math.max(hY,j_,bq)*(1/255);
i6=Math.max(0,Math.min(1,i6/iZ));var i5=i6==0?0:1/i6,dT=aC==1?1:Math.max(0,Math.min(1,(i6-aC)/(1-aC)));
el[V]=Math.max(0,Math.min(255,(fS-dP*(1-i6))*i5));el[V+1]=Math.max(0,Math.min(255,(gU-fL*(1-i6))*i5));
el[V+2]=Math.max(0,Math.min(255,(fg-gH*(1-i6))*i5));el[V+3]=~~(.5+dT*255)}}if(i=="Dthr"){function bI(Z){return~~(.5+255*k.NQ(Z/255))}var cY=h.Plte.v,cp;
if(cY==0)cp=[4278190080,4294967295];else{var aF=[[1,1,1],[2,2,2],[3,3,2]][cY-1],ia=[1<<aF[0],1<<aF[1],1<<aF[2]],gQ=[~~(255/(ia[0]-1)),~~(255/(ia[1]-1)),~~(255/(ia[2]-1))];
cp=[];for(var _=0;_<ia[0];_++)for(var iu=0;iu<ia[1];iu++)for(var dB=0;dB<ia[2];dB++)cp.push(255<<24|bI(dB*gQ[2])<<16|bI(iu*gQ[1])<<8|bI(_*gQ[0]))}var T=$.rect.e,E=$.rect.n,r=T*E,ip=r*4,gO=$.buffer.slice(0),dR=f.buffer;
for(var t=0;t<ip;t++)gO[t]=~~(.5+255*k.NQ(gO[t]/255));var bh=k.Q(T*E);UPNG.encode.dither(gO,T,E,cp,dR,bh);
for(var t=0;t<ip;t++)dR[t]=~~(.5+255*k.Jy(dR[t]/255))}if(i=="Part"){var fK=[h.RndS.v,h.Cont.v/100,h.Size.v,h.Dpth.v/100,h.Brgh.v/100,k.M.zk(h.Clr.v),h.Time.v,h.Blnk.v,h.Fall.v,h.Turb.v/100];
k.Ze.Ir(f.buffer,$.rect.e,$.rect.n,fK)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(i)!=-1){var cd=l[0],T=$.rect.e,E=$.rect.n,fx,ct=0;
if(i=="LqFy")fx=ir.cL(new Uint8Array(h.LqMe.v).buffer);else{var go=3;fx={DD:Math.floor(T/go),mJ:Math.floor(E/go)};
fx.map=new Float32Array(fx.DD*fx.mJ*2);if(i=="LnCr"){var cn=.5*(fx.DD-1),dh=.5*(fx.mJ-1),k4=Math.max(Math.abs(0-cn),Math.abs(1-cn)),jf=Math.max(Math.abs(0-dh),Math.abs(1-dh)),hM=Math.sqrt(k4*k4+jf*jf),aE=0,hQ=0,fs=-1,fn=2,cC=h.LnSi.v/100,cM=1/cC,h5=h.LnIa.v/100,h8=h5==0?1e-6:h5*4.6,bg=cM/hM;
for(var n=0;n<fx.mJ;n++){for(var Z=0;Z<fx.DD;Z++){var I=(Z-cn)*bg,q=(n-dh)*bg,_=Math.sqrt(I*I+q*q)*h8,ck=Math.atan(_),d$=h5>0?ck/_:_/ck,kf=cn+hM*d$*I,hl=dh+hM*d$*q,t=n*fx.DD+Z<<1;
fx.map[t]=kf-Z;fx.map[t+1]=hl-n}}}else if(i=="Kale"){var b0=fx.DD,hv=fx.mJ,ji=(b0-1)*.5,ko=(hv-1)*.5,ao=h.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,bs=h.Mirr.v,gi=Math.PI*2/bs,hZ=.5*gi;
for(var n=0;n<hv;n++)for(var Z=0;Z<b0;Z++){var I=Z-ji,q=n-ko,im=Math.sqrt(I*I+q*q),da=Math.atan2(q,I)+ao;
da=da%gi;if(da>hZ)da=gi-da;var kf=ji+Math.cos(da-ao)*im,hl=ko+Math.sin(da-ao)*im,t=(n*b0+Z)*2;fx.map[t]=kf-Z;
fx.map[t+1]=hl-n}}else if(i=="Dspl"&&cd.length!=0){ct=h.UndA.v.UndA=="WrpA"?2:1;var aN=h.DspF.v.pth,iB;
for(var t=0;t<cd.length;t++)if(cd[t].$0==aN)iB=cd[t];if(iB==null)iB=cd[0];iB.Fy();var hY=iB.eZ[1],cy=k.Q(hY.O());
k.xw(iB.eZ[0],cy);var jL=hY.e,iT=hY.n;fx={DD:jL,mJ:iT};fx.map=new Float32Array(fx.DD*fx.mJ*2);var gv=2.54*h.HrzS.v*jL/T,ho=2.54*h.VrtS.v*iT/E;
for(var n=0;n<fx.mJ;n++){for(var Z=0;Z<fx.DD;Z++){var eZ=-.5+cy[n*jL+Z]*(1/255),t=n*fx.DD+Z<<1;fx.map[t]=eZ*gv;
fx.map[t+1]=eZ*ho}}}else if(i=="Pnch"||i=="Twrl"||i=="Sphr"||i=="ZgZg"){var eb=1,jX=Math.PI,ja=0,f9=1,hq=0,cW=3,jw=1.53,d$=1;
if(i=="Pnch"||i=="Sphr"||i=="ZgZg")eb=h.Amnt.v/100;if(i=="ZgZg"){f9=h.NmbR.v;hq=["ArnC","OtFr","PndR"].indexOf(h.ZZTy.v.ZZTy)}if(i=="Twrl")jX=h.Angl.v*Math.PI/180;
if(i=="Sphr")ja=["Nrml","HrzO","VrtO"].indexOf(h.SphM.v.SphM);function kh(Z){Z=Math.pow(Z,1-Z*.3-Z*Z*(Z*Z)*.5);
return-.225*Math.sin(Z*Math.PI)}function dV(E,b3,_,a2,aW,fh,he,d$){var I=fh-a2,q=he-aW,fb=a2-E,fE=aW-b3,iF=I*I+q*q,dB=2*(I*fb+q*fE),cW=fb*fb+fE*fE-_*_,g8=Math.sqrt(dB*dB-4*iF*cW),bc=d$/(2*iF),eD=(-dB+g8)*bc,ex=(-dB-g8)*bc;
return d$*Math.min(eD,ex)}var b0=fx.DD,hv=fx.mJ,ji=fx.DD/2,ko=fx.mJ/2,b6=1/ji,_=Math.sqrt(cW*cW+1)/cW,hS=cW+Math.sqrt(1/(cW*cW));
if(eb<0){cW=1.72;_=1;hS=cW;jw=-1;d$=-1}for(var n=0;n<hv;n++){var q=(n-ko)/ko;for(var Z=0;Z<b0;Z++){var I=(Z-ji)*b6;
if(ja==1)q=0;else if(ja==2)I=0;var j9=Math.sqrt(I*I+q*q);if(j9<1&&j9!=0){var t=n*fx.DD+Z<<1;if(i=="Pnch"){var e3=-eb*kh(j9)/j9;
fx.map[t]=I*e3*ji;fx.map[t+1]=q*e3*ko}else if(i=="Sphr"){var aH=dV(0,hS,_,0,0,j9,cW,d$),bK=jw*eb*(aH-1);
fx.map[t]=I*bK*ji;fx.map[t+1]=q*bK*ko}else if(i=="Twrl"){var da=Math.atan2(q,I)-jX*(1-j9)*(1-j9),j8=Math.cos(da),jD=Math.sin(da);
fx.map[t]=(j9*j8-I)*ji;fx.map[t+1]=(j9*jD-q)*ko}else if(i=="ZgZg"){var j8=0,jD=0,bA=eb*(.5-.5*Math.cos(j9*f9*2*Math.PI))*(1-j9);
if(hq==0){var da=Math.atan2(q,I)-3.5*bA;j8=j9*Math.cos(da);jD=j9*Math.sin(da)}if(hq==1){bA=100/T*bA/j9;
j8=(1-bA)*I;jD=(1-bA)*q}if(hq==2){var o=512/T*bA*Math.PI/4;j8=o+I;jD=o+q}fx.map[t]=(j8-I)*ji;fx.map[t+1]=(jD-q)*ko}}}}}else if(i=="Shr "){var b8=JSON.parse(JSON.stringify(h.ShrP.v));
k.qt.D(b8,new ej(0,255/127,255/127,0,-2,0));var bQ=k.qt.J6(b8,fx.mJ,!0);ct=h.UndA.v.UndA=="WrpA"?2:1;
for(var n=0;n<fx.mJ;n++){var I=-bQ[n]*fx.DD;for(var Z=0;Z<fx.DD;Z++){var t=n*fx.DD+Z<<1;fx.map[t]=I}}}else if(i=="Wave"){var eI=h.NmbG.v,hA=h.WLMn.v,aV=h.WLMx.v,h_=h.AmMn.v*(Math.PI/4),ha=h.AmMx.v*(Math.PI/4),jB=h.SclH.v/100,j5=h.SclV.v/100,cw=h.Wvtp.v.Wvtp,bA=Math.sin;
if(cw=="WvTr")bA=function(Z){Z*=2/Math.PI;return-.5+Math.abs(Z%2-1)};if(cw=="WvSq")bA=function(Z){Z*=2/Math.PI;
return 1+2*Math.floor(Z%2-1)};var dI=[],cg=new k.l.S1(h.RndS.v);for(var t=0;t<eI;t++){dI.push(cg.get()*10);
dI.push(Math.PI*go/(hA+cg.get()*(aV-hA)));dI.push(jB*(h_+cg.get()*(ha-h_))/go);dI.push(cg.get()*10);
dI.push(Math.PI*go/(hA+cg.get()*(aV-hA)));dI.push(j5*(h_+cg.get()*(ha-h_))/go)}var eu=[],hF=[],fD=Math.max(fx.DD,fx.mJ);
for(var t=0;t<fD;t++){var I=0,q=0;for(var dx=0;dx<eI;dx++){var gp=dx*6;I+=dI[gp+2]*bA(dI[gp]+t*dI[gp+1]);
q+=dI[gp+5]*bA(dI[gp+3]+t*dI[gp+4])}eu[t]=q;hF[t]=I}for(var n=0;n<fx.mJ;n++){for(var Z=0;Z<fx.DD;Z++){var t=n*fx.DD+Z<<1;
fx.map[t]=hF[n];fx.map[t+1]=eu[Z]}}ct=h.UndA.v.UndA=="WrpA"?2:1}else if(i=="Rple"){ct=1;var eb=h.Amnt.v/100,h9=4,cJ=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],d7=1,a$=1,fb=0,hh=["Sml","Mdm","Lrg"].indexOf(h.RplS.v.RplS);
if(hh==0){d7=1;a$=.2;fb=3}if(hh==2){d7=1;a$=2;fb=-1;cJ=cJ.reverse()}var g0=function(Z,n){var cW=Math.cos,eW=0;
for(var t=0;t<h9;t++)for(var dx=0;dx<h9;dx++)eW+=cJ[t*h9+dx]*cW(Z*(t+fb)-n*(dx+fb));return eW},cF=Math.floor(50/go),aU=new Float32Array(cF*cF*2),fF=a$*eb*.5/go;
for(var n=0;n<cF;n++)for(var Z=0;Z<cF;Z++){var cn=d7*Z*2*Math.PI/cF,dh=d7*n*2*Math.PI/cF,gW=g0(cn,dh),I=(g0(cn+.01,dh)-gW)*100,q=(g0(cn,dh+.01)-gW)*100,t=(n*cF+Z)*2;
aU[t]=I*fF;aU[t+1]=q*fF}for(var n=0;n<fx.mJ;n++)for(var Z=0;Z<fx.DD;Z++){var jD=n%cF,j8=Z%cF,t=n*fx.DD+Z<<1,bb=jD*cF+j8<<1;
fx.map[t]=aU[bb];fx.map[t+1]=aU[bb+1]}}}k.pl.Q7($.buffer,f.buffer,T,E,null,fx.map,fx.DD,fx.mJ,ct)}return f};
var jG={};jG.aig="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");jG.DF="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
jG.W3=["ScrC","ScrD","ScrL"];jG.X5=["SDRD","SDHz","SDLD","SDVt"];jG.Me="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
jG.TH="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");jG.vn="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
jG.Um=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];jG.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
jG.U9=function(i){var $;if(i=="ClrP")$={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(i=="Ct")$={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(i=="DryB")$={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(i=="FlmG")$={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(i=="Frsc")$={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(i=="NGlw")$={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(i=="PntD")$={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(i=="PltK")$={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(i=="PlsW")$={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(i=="PstE")$={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(i=="RghP")$={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(i=="SmdS")$={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(i=="Spng")$={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(i=="Undr")$={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(i=="Wtrc")$={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(i=="AccE")$={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(i=="AngS")$={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(i=="Crsh")$={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(i=="DrkS")$={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(i=="InkO")$={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(i=="Smie")$={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(i=="Spt")$={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(i=="SprS")$={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(i=="DfsG")$={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(i=="Gls")$={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(i=="OcnR")$={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(i=="BsRl")$={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(i=="ChlC")$={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(i=="Chrc")$={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(i=="Chrm")$={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(i=="CntC")$={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(i=="GraP")$={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(i=="HlfS")$={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(i=="NtPr")$={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(i=="Phtc")$={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(i=="Plst")$={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(i=="Rtcl")$={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(i=="Stmp")$={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(i=="TrnE")$={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(i=="WtrP")$={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(i=="GlwE")$={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(i=="Crql")$={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(i=="Grn")$={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(i=="MscT")$={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(i=="Ptch")$={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(i=="StnG")$={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(i=="Txtz")$={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
$.__name="Filter Gallery";$.classID="GEfc";$.GEfk={t:"enum",v:{GEft:i}};$.GELv={t:"bool",v:!0};return $};
jG.XB=function(i,$){for(var t=0;t<$.length;t++)~~($[t]=(i[4*t]+i[4*t+1]+i[4*t+2])*(1/3))};jG.agM=function(i,$,h,d){var K=UPNG.quantize(i,$);
K={NX:K.inds,uU:K.plte};var f=Math.floor((h+d)*.015);if(f!=0)k.SU.a7w(K.NX,h,d,f);return K};jG.kG=function(i,$,h,d,K,f,l){i=h.GEfk.v.GEft;
var u=$.rect,U=u.e,y=u.n,a=U*y,v=h.FlRs?h.FlRs.v>>>1:0;function c(Q){return Q.o<<24|Q.P<<16|Q.Z<<8|255}if(i=="ClrP")k.Y.a1Z($.buffer,U,y,f.buffer,[h.Pncl.v,h.StrP.v,h.PprB.v]);
if(i=="Ct"){var p=h.NmbL.v,C=h.EdgS.v,T=jG.agM($.buffer.buffer,p*2,U,y);for(var t=0;t<T.NX.length;t++)T.NX[t]++;
var E=new Uint8Array((U+2)*(y+2));k.Zc(T.NX,new bN(1,1,U,y),E,new bN(0,0,U+2,y+2));var r=k.p.vt(E,U+2,y+2,C,!1),Y=new ej(1,0,0,1,-1,-1);
for(var t=0;t<r.length;t++)k.p.D(r[t].path.C,Y,r[t].path.C);var S=[],m=T.uU;for(var t=0;t<m.length;t++){var Q=m[t].est.q;
S.push({o:Math.round(255*Q[0]),P:Math.round(255*Q[1]),Z:Math.round(255*Q[2]),Pi:Math.round(255*Q[3])})}var z=k.i8(U,y);
for(var t=0;t<r.length;t++){var n=r[t],Q=S[n.color-1];if(Q.Pi==0)continue;z.fillStyle="rgba("+Q.o+","+Q.P+","+Q.Z+","+Q.Pi/255+")";
z.beginPath();Typr.U.pathToContext({crds:n.path.C,cmds:n.path.H},z);z.fill()}if(!u.NT()){var Z=z.getImageData(0,0,U,y);
k.pv(Z.data,f.buffer)}}if(i=="DryB")k.Y.akA($.buffer,U,y,f.buffer,[h.BrsS.v,h.BrsD.v,h.Txtr.v]);if(i=="FlmG")k.Y.any($.buffer,U,y,f.buffer,[h.Grn.v,h.HghA.v,h.Intn.v,v]);
if(i=="Frsc")k.Y.am$($.buffer,U,y,f.buffer,[h.BrsS.v,h.BrsD.v,h.Txtr.v]);if(i=="NGlw")k.Y.ack($.buffer,U,y,f.buffer,[h.Sz.v,h.Brgh.v,c(k.M.zk(h.Clr.v)),c(d),c(K)]);
if(i=="PltK")k.Y.ahh($.buffer,U,y,f.buffer,[h.StrS.v,h.StDt.v,h.Sftn.v]);if(i=="PstE")k.Y.apU($.buffer,U,y,f.buffer,[h.EdgT.v,h.EdgI.v,h.Pstr.v]);
if(i=="RghP")k.Y.avy($.buffer,U,y,f.buffer,[h.StrL.v,h.StDt.v,jG.Me.indexOf(h.TxtT.v.TxtT),h.Scln.v,h.Rlf.v,jG.DF.indexOf(h.LghD.v.LghD),h.InvT.v]);
if(i=="SmdS")k.Y.a0d($.buffer,U,y,f.buffer,[h.StrL.v,h.HghA.v,h.Intn.v,h.FlRs.v,v]);if(i=="Spng")k.Y.afp($.buffer,U,y,f.buffer,[h.BrsS.v,h.Dfnt.v,h.Smth.v,h.FlRs.v,v]);
if(i=="Undr")k.Y.a2N($.buffer,U,y,f.buffer,[h.BrsS.v,h.TxtC.v,jG.Me.indexOf(h.TxtT.v.TxtT),h.Scln.v,h.Rlf.v,jG.DF.indexOf(h.LghD.v.LghD),h.InvT.v]);
if(i=="Wtrc")k.Y.acn($.buffer,U,y,f.buffer,[h.BrsD.v,h.ShdI.v,h.Txtr.v]);if(i=="AccE")k.Y.atB($.buffer,U,y,f.buffer,[h.EdgW.v,h.EdgB.v,h.Smth.v]);
if(i=="AngS")k.Y.aud($.buffer,U,y,f.buffer,[h.DrcB.v,h.StrL.v,h.Shrp.v]);if(i=="Crsh")k.Y.abe($.buffer,U,y,f.buffer,[h.StrL.v,h.Shrp.v,h.Strg.v]);
if(i=="DrkS")k.Y.a0z($.buffer,U,y,f.buffer,[h.Blnc.v,h.BlcI.v,h.WhtI.v]);if(i=="InkO")k.Y.a10($.buffer,U,y,f.buffer,[h.StrL.v,h.DrkI.v,h.LghI.v]);
if(i=="Smie")k.Y.aiB($.buffer,U,y,f.buffer,[h.StrW.v,h.StrP.v,h.Cntr.v]);if(i=="DfsG")k.Y.agd($.buffer,U,y,f.buffer,[h.Grns.v,h.GlwA.v,h.ClrA.v,c(K),v]);
if(i=="CntC")k.Y.anj($.buffer,U,y,f.buffer,[h.FrgL.v,h.BckL.v,jG.Me.indexOf(h.TxtT.v.TxtT),h.Scln.v,h.Rlf.v,jG.DF.indexOf(h.LghD.v.LghD),h.InvT.v,c(K),c(d)]);
if(i=="ChlC")k.Y.afe($.buffer,U,y,f.buffer,[h.ChrA.v,h.ChlA.v,h.StrP.v,v,c(K),c(d)]);var P=i=="GraP"||i=="Chrc"||i=="Plst"||i=="Rtcl"||i=="Stmp"||i=="TrnE";
if(P){var V=k.Q(U*y);if(i=="GraP")k.Y.a70($.buffer,U,y,f.buffer,[h.StrL.v,h.LgDr.v,jG.X5.indexOf(h.SDir.v.StrD),v]);
if(i=="Chrc")k.Y.aeT($.buffer,U,y,f.buffer,[h.ChAm.v,h.Dtl.v,h.LgDr.v]);if(i=="Plst")k.Y.ahq($.buffer,U,y,f.buffer,[h.ImgB.v,jG.TH.indexOf(h.LghP.v.LghP),h.Smth.v]);
if(i=="Rtcl")k.Y.ab5($.buffer,U,y,f.buffer,[h.Dnst.v,h.BlcL.v,h.WhtL.v,v]);if(i=="Stmp")k.Y.ak1($.buffer,U,y,f.buffer,[h.LgDr.v,h.Smth.v]);
if(i=="TrnE")k.Y.auj($.buffer,U,y,f.buffer,[h.ImgB.v,h.Smth.v,h.Cntr.v,v]);k.pO(f.buffer,V,0);jG.c9(V,f.buffer,d,K)}if(i=="NtPr")k.Y.aeg($.buffer,U,y,f.buffer,[h.ImgB.v,h.Grns.v,h.Rlf.v,c(d),c(K),v]);
if(i=="WtrP")k.Y.att($.buffer,U,y,f.buffer,[h.FbrL.v,h.Brgh.v,h.Cntr.v,v>>>1]);if(i=="Crql")k.Y.alM($.buffer,U,y,f.buffer,[h.CrcS.v,h.CrcD.v,h.CrcB.v,v]);
if(i=="Grn")k.Y.afH($.buffer,U,y,f.buffer,[h.Intn.v,jG.vn.indexOf(h.Grnt.v.Grnt),h.Cntr.v,c(d),c(K),v]);
if(i=="MscT")k.Y.a7Q($.buffer,U,y,f.buffer,[h.TlSz.v,h.GrtW.v,h.LghG.v,v]);if(i=="Ptch")k.Y.adS($.buffer,U,y,f.buffer,[h.SqrS.v,h.Rlf.v,v]);
if(i=="Phtc"){function I(b8,jw,u,da){k.$A.L6(b8,jw,u,da);for(var t=0;t<a;t++)jw[t]=Math.max(0,Math.min(255,128+b8[t]-jw[t]))}var q=h.Dtl.v,X=h.Drkn.v,B=k.Q(a);
k.xw($.buffer,B);var e=k.Q(a);I(B,e,u,1);if(q==1){q=2;X=Math.round(X/4)}var F=k.Q(a);I(B,F,u,q);for(var t=0;
t<a;t++)B[t]=Math.max(0,Math.min(255,255-(e[t]-F[t])*X));jG.c9(B,f.buffer,d,K)}if(i=="Spt"||i=="SprS"){var s,J=1,W=1;
s={DD:Math.floor(U/W),mJ:Math.floor(y/W)};s.map=new Float32Array(s.DD*s.mJ*2);var L=new k.l.S1(h.FlRs.v),A=new Float32Array(8192),j=h.SprR.v,G=j<20?.018*j:.36+(j-20)*.128;
if(i=="SprS"){G=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][j]}for(var t=0;
t<8192;t++)A[t]=(-1+2*L.get())*G*70;for(var O=0;O<y;O++)for(var o=0;o<U;o++){var N=O*U+o<<1;s.map[N]=A[N%7919];
s.map[N+1]=A[(N+1)%7919]}var w=s.map.slice(0),kv=i=="Spt"?h.Smth.v-1:1;if(i=="Spt"&&kv!=0){jG.agk(s.map,w,U,y,kv);
jG.ae9(w,s.map,U,y,kv)}if(i=="SprS"){var g=h.StrL.v>>>1,b=g==0?2:1;jG.agk(s.map,w,U,y,b);jG.ae9(w,s.map,U,y,b);
if(g!=0){var jU=jG.X5.indexOf(h.SDir.v.StrD),_=[1,1,1,0][jU],cY=[-1,0,1,1][jU],j3=2*g+1,aS=1/j3;for(var O=0;
O<y;O++)for(var o=0;o<U;o++){var N=O*U+o<<1,bL=0,cQ=0;for(var t=0;t<j3;t++){var cK=Math.max(0,Math.min(U-1,o-(g+t)*_)),el=Math.max(0,Math.min(y-1,O-(g+t)*cY)),gF=el*U+cK<<1;
bL+=s.map[gF];cQ+=s.map[gF+1]}w[N]=bL*aS;w[N+1]=cQ*aS}s.map=w}}k.pl.Q7($.buffer,f.buffer,U,y,null,s.map,s.DD,s.mJ,J)}if(i=="BsRl"||i=="PlsW"||i=="Chrm"){var fj=Date.now(),i3=k.Q(a),eT=i3.slice(0);
k.xw($.buffer,i3);var q=h.Dtl.v,eV=h.Smth.v;if(q!=15){k.$A.WJ(i3,eT,u,Math.round((15-q)*.5));k.pv(eT,i3)}var hr=1.4/U,it=1.4/y,f8=new Float32Array(a),gS=new Float32Array(a),hT=new Float32Array(f.buffer.buffer);
for(var O=0;O<y;O++)for(var o=0;o<U;o++){var t=O*U+o,_=o==U-1?i3[t]-i3[t-1]:i3[t+1]-i3[t],cY=O==y-1?i3[t]-i3[t-U]:i3[t+U]-i3[t],gL=o*hr-.7,iu=O*it-.7;
f8[t]=_==0?gL:_*.4;gS[t]=cY==0?iu:cY*.4}if(i=="BsRl"){var dB=(2+jG.DF.indexOf(h.LghD.v.LghD))*Math.PI*.25,bL=Math.cos(dB);
if(Math.abs(bL)<.1)bL=0;bL=Math.sign(bL);var cQ=Math.sin(dB);if(Math.abs(cQ)<.1)cQ=0;cQ=Math.sign(cQ);
var jt=1/(bL*bL+cQ*cQ);for(var O=0;O<y;O++)for(var o=0;o<U;o++){var t=O*U+o,ka=Math.max(-1,Math.min(1,bL*f8[t])),eQ=Math.max(-1,Math.min(1,cQ*gS[t]));
eT[t]=128+127*(ka+eQ)*jt}if(eV!=1){k.$A.WJ(eT,i3,u,Math.round((eV-1)*.5));k.pv(i3,eT)}jG.c9(eT,f.buffer,d,K)}else{if(i=="Chrm")eV=5+eV;
if(eV>1)jG.Kz(f8,gS,hT,u,eV-1);if(i=="PlsW"){var dv=new Uint8Array(f8.buffer);for(var t=0;t<a;t++){var cT=t<<2,_=f8[t],cY=gS[t],eY=1/(Math.sqrt(1+_*_)*Math.sqrt(1+cY*cY)),gl=eY*eY,dY=gl*gl,Q=~~(255*(dY*dY*gl));
dv[cT+0]=Q;dv[cT+1]=Q;dv[cT+2]=Q;dv[cT+3]=Q}f.buffer.set($.buffer);k.l.NU("norm",dv,u,f.buffer,u,u,h.HghS.v/20)}else if(i=="Chrm"){var gE=f.buffer,cs=U>>>1,au=y>>>1;
for(var t=0;t<a;t++){var cT=t<<2,_=f8[t],cY=gS[t],b8={x:1,y:0,g8:_};eN.xy(b8);var jw={x:0,y:1,g8:cY};
eN.xy(jw);var ek=eN.ae1(b8,jw),cj=1/ek.g8,jJ=~~Math.max(0,Math.min(U-1,cs-ek.x*cj*cs)),hp=~~Math.max(0,Math.min(y-1,au-ek.y*cj*au)),Q=i3[hp*U+jJ];
gE[cT+0]=Q;gE[cT+1]=Q;gE[cT+2]=Q}}}}if(i=="Gls"||i=="OcnR"||i=="Txtz"){var dW=i=="OcnR"?2:jG.Me.indexOf(h.TxtT.v.TxtT),h4=jG.zu(dW),er=h4[0],i3=h4[1],hG=er.e,i_=er.n,j3=24,js=0,ey,dr;
function aK(gd,dn,g5){return~~(bG*(gd+dn)+8192)&127}var f8=new Float32Array(a),gS=new Float32Array(a),hT=new Float32Array(f.buffer.buffer),bG=i=="OcnR"?1/(1+(h.RplS.v-1)*.1):100/h.Scln.v;
if(dW==3)bG*=32/22.2;var fj=Date.now(),dx=bG,hr=1.4/U,it=1.4/y;if(i=="Txtz"){dx*=1/255;j3=256}for(var O=0;
O<y;O++){var aH=aK(O,u.y,i_),el=aH+1&127;for(var o=0;o<U;o++){var t=O*U+o,cU=aK(o,u.x,hG),cK=cU+1&127,kr=0,cL=0,aj=0;
if(i=="Txtz"){kr=k.K.WE(bG*o,bG*O,i3,128,128);cL=k.K.WE(bG*o,bG*O+1,i3,128,128);aj=k.K.WE(bG*o+1,bG*O,i3,128,128)}else{kr=i3[aH*hG+cU];
cL=i3[el*hG+cU];aj=i3[aH*hG+cK]}f8[t]=Math.max(-j3,Math.min((aj-kr)*dx,j3));gS[t]=Math.max(-j3,Math.min((cL-kr)*dx,j3))}}if(i=="Txtz")jG.ayc(f8,gS,hT,u,6);
else jG.Kz(f8,gS,hT,u,i=="Txtz"?1:i=="OcnR"?3.5/bG:h.Smth.v);if(i=="Txtz")js=h.InvT.v?-1:1;else if(i=="Gls"){js=[1,.4,.5,.5][dW]*(Math.exp(h.Dstr.v*.155)-1);
if(h.InvT.v)js=-js}else{js=.5*(Math.exp(h.RplM.v*.155)-1)}var gE=f.buffer;if(i=="Txtz"){var dB=(2+jG.DF.indexOf(h.LghD.v.LghD))*Math.PI*.25,bL=Math.cos(dB),cQ=Math.sin(dB);
ey={x:bL,y:cQ,g8:0};eN.xy(ey);dr=h.Rlf.v;dr=dr/4+Math.max(0,(dr-35)*2)}function df(b8,jw,cB){var gO=k.l.overF(jw,b8,1),gd=(1-cB)*b8+cB*(cB*jw+(1-cB)*gO);
return gd*255}for(var O=0;O<y;O++)for(var o=0;o<U;o++){var t=O*U+o,cT=t<<2,_=f8[t],cY=gS[t],b8={x:1,y:0,g8:_};
eN.xy(b8);var jw={x:0,y:1,g8:cY};eN.xy(jw);var ek=eN.ae1(b8,jw);if(i=="Txtz"){var af=eN.a9U(ek,ey)*js,cB=1,Q=1;
if(af<0){Q=0;af=-af}cB=Math.min(1,af*dr);gE[cT+0]=~~df($.buffer[cT]*(1/255),Q,cB);gE[cT+1]=~~df($.buffer[cT+1]*(1/255),Q,cB);
gE[cT+2]=~~df($.buffer[cT+2]*(1/255),Q,cB)}else{var cj=js/ek.g8,jJ=~~Math.max(0,Math.min(U-1,o-ek.x*cj)),hp=~~Math.max(0,Math.min(y-1,O-ek.y*cj)),iq=hp*U+jJ<<2;
gE[cT+0]=$.buffer[iq];gE[cT+1]=$.buffer[iq+1];gE[cT+2]=$.buffer[iq+2]}}}if(i=="PntD"){var cV=h.Shrp.v*.4,gf=h.BrsT.v.BrsT,ge={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[gf],da=Math.round(h.Sz.v*.5);
k._G.ck=ge[0];var aO=k._G.LH;k._G.tu($.buffer,f.buffer,U,y,da,aO,[]);var eb=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
eb=k.KN.t_(eb);var ag=f.buffer.slice(0);k.KN.mj(ag,f.buffer,U,y,eb,0);for(var t=0;t<$.buffer.length;
t++){var dX=f.buffer[t]-ag[t];f.buffer[t]=Math.max(0,Math.min(255,ag[t]+cV*dX))}}if(i=="GlwE"){var gP=f.buffer.slice(0);
k._G.ck=.5;var aO=k._G.LH;k._G.tu($.buffer,gP,U,y,h.Smth.v>>>1,aO,[]);k.KN.HW(gP,f.buffer,U,y);k.pv(f.buffer,gP);
k.Sp(gP);k.MK(gP,4278190080,16777215);k._G.tu(gP,f.buffer,U,y,h.EdgW.v>>>1,k._G.gS,[]);var cm=h.EdgB.v/10;
for(var t=0;t<gP.length;t++){if((t&3)==3)continue;var gO=f.buffer[t];f.buffer[t]=Math.max(0,Math.min(255,gO*cm))}}if(i=="StnG"){k.AU.a46($.buffer,U,y,f.buffer,h.ClSz.v,[Math.round(d.o),Math.round(d.P),Math.round(d.Z)],h.BrdT.v)}if(i=="HlfS"){var bO=h.HlSz.v,gb=bO*2+1,dk=h.Cntr.v,cw=jG.W3.indexOf(h.ScrT.v.ScrT),a=U*y,gN=a*4,ci=k.Q(a),jq=$.buffer,dL=0,a5=0;
jG.XB(jq,ci);var ea=ci.slice(0);k.$A.Zd(ea,ci,u,bO);var kc=Math.PI/gb,jE=new Float64Array(U),bL=new Float64Array(U),hc=new Float64Array(2*U);
for(var o=0;o<U;o++){var cU=(o-(U>>>1))*kc;jE[o]=cU*cU;bL[o]=Math.cos(cU);var _=o<<1;hc[_]=Math.sin(_*(1/4.5));
hc[_+1]=Math.sin((_+1)*(1/4.5))}for(var O=0;O<y;O++){var aH=(O-(y>>>1))*kc,cQ=Math.cos(aH),dd=aH*aH;
for(var o=0;o<U;o++){var Q=cQ;if(cw==0){var a2=.5+Math.sqrt(jE[o]+dd)*4.5;Q=hc[~~a2]}else if(cw==1){Q=bL[o]*cQ}var t=O*U+o,aW=ci[t]*(.75+.25*Q),cB=jq[(t<<2)+3]*(1/255),fh=Math.max(0,Math.min(255,~~aW));
dL+=fh*cB,a5+=cB;ci[t]=fh}}dL/=a5;var he=128+1.26*(dL-128),cm=.08+.25*Math.abs((128-dL)/128),g$=1+cm*dk;
for(var t=0;t<a;t++){var aW=he+(ci[t]-he)*g$;ci[t]=Math.max(0,Math.min(255,~~aW))}if(dk>46)k.round(ci);
jG.c9(ci,f.buffer,d,K)}for(var t=0;t<$.buffer.length;t+=4)f.buffer[t+3]=$.buffer[t+3]};jG.c9=function(i,$,h,d){var K=i.length,f=h.o,l=h.P,u=h.Z,U=d.o,y=d.P,a=d.Z;
for(var t=0;t<K;t++){var v=i[t]*(1/255),c=1-v,p=t<<2;$[p]=~~(f*c+U*v);$[p+1]=~~(l*c+y*v);$[p+2]=~~(u*c+a*v)}};
jG.zu=function(i){if(i==6)i=2;var $="blocks canvas frosted tinylens brick burlap".split(" ")[i];if(jG.QF==null)jG.QF=[];
if(jG.QF[i]==null){var h,d;if(i==2){d=new bN(0,0,128,128);var K=d1.U9("AdNs");K.Mnch.v=!0;K.Dstr.v.Dstr="Gsn";
K.Nose.v.val=50;var h=k.Q(d.O()*4),f=h.slice(0);new Uint32Array(f.buffer).fill(4286611584);d1.kG("AdNs",{buffer:f,rect:d},K,0,0,{buffer:h,rect:d})}else{var l=em.nf.get("tex/"+$,!0)[0];
d=l.kp;h=new Uint8Array(l.data)}var u=k.Q(d.O());k.pO(h,u,0);jG.QF[i]=[d,u]}return jG.QF[i]};jG.Kz=function(i,$,h,d,K){if(K<=1){K=Math.round(K);
jG.ayc(i,$,h,d,[1,16,4][K]);return}var f=K*.42;if(i){k.$A.jl(i,h,d,f,3);i.set(h)}if($){k.$A.jl($,h,d,f,3);
$.set(h)}};jG.ayc=function(i,$,h,d,K){var f=k.KN.t_([1,2,1,2,K,2,1,2,1]);if(i){h.set(i);k.KN.KR(i,h,d.e,d.n,f);
i.set(h)}if($){h.set($);k.KN.KR($,h,d.e,d.n,f);$.set(h)}};jG.Nz=function(i){if(i==null)return new cq(0,0);
var $=0,h=i.GEfs?i.GEfs.v:[{v:i}];for(var t=0;t<h.length;t++){var d=h[t].v,f=1e4;if(d.GELv&&!d.GELv.v)continue;
var K=d.GEfk.v.GEft;if(K=="GlwE"||K=="Phtc"||K=="BsRl"||K=="PlsW"||K=="Chrm"||K=="Gls"||K=="OcnR")f=0;
$=Math.max($,f)}return new cq($,$)};jG.atg=function(i){var $=[0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][i];
for(var t=0;t<13;t++){var d=t-6;$[t]=1/(h*Math.sqrt(2*Math.PI))*Math.exp(-.5*(d/h)*(d/h))}return $};
jG.agk=function(i,$,h,d,K){var f=jG.atg(K),l=6,u=13;for(var U=0;U<d;U++)for(var y=0;y<h;y++){var a=U*h+y<<1,v=0,c=0;
for(var t=0;t<u;t++){var p=y+t-l,C=p<0?0:p>=h?h-1:p,T=(U*h+C)*2,E=f[t];v+=E*i[T];c+=E*i[T+1]}$[a]=v;
$[a+1]=c}};jG.ae9=function(i,$,h,d,K){var f=jG.atg(K),l=6,u=13;for(var U=0;U<d;U++)for(var y=0;y<h;y++){var a=U*h+y<<1,v=0,c=0;
for(var t=0;t<u;t++){var p=U+t-l,C=p<0?0:p>=d?d-1:p,T=(C*h+y)*2,E=f[t];v+=E*i[T];c+=E*i[T+1]}$[a]=v;
$[a+1]=c}};function ca(){}ca.Uy=[2,5,5,7,4,4];ca.bj="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
ca.kD="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
ca.UX=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
ca.qT=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
ca.Mp=function(i){if(i=="passThrough")return"pass";return ca.bj[ca.kD.indexOf(i)]};ca.ml=function(i){if(i=="pass")return"passThrough";
return ca.kD[ca.bj.indexOf(i)]};ca.getName=function(i){return ca.UX[ca.bj.indexOf(i)]};function H(){this.rect=null;
this.buffer=null;this.R$="norm";this.opacity=255;this.sD=!1;this.pM=0;this.nM=0;this.wf=!0;this.$z=[];
for(var t=0;t<10;t++)this.$z.push(0,0,255,255);this.name=null;this.add={};this.ix=null;this.M_=null;
this.z=null;this.oe=null;this.afl=30;this.XL=null;this.OV=null;this.db=null;this.dl=null;this.Tu=0;this.fx=!1;
this.Nf=null;this.A0=new H.DE}H.DE=function(){this.Lr=!0;this.lx=!0;this.sk=k.Q(0);this.ar4=k.Q(0);this.er=null;
this.bQ={};this.alf=null;this.bl=null;this.MF=null;this.uk=null;this.sw=null;this.Es=null;this.cJ=null;
this.CR=null;this.Ph=null;this.zF=null;this.Wh=null;this.Te=null;this.BI=!1};H.DE.prototype.abI=function(){this.Lr=null;
this.lx=!1;this.er=null;this.BI=i8.ph};H.DE.prototype.ase=function(){eN.aw2(this.bQ);this.sk=k.Q(0);
this.ar4=k.Q(0);if(this.uk)this.uk.delete();if(this.sw)this.sw.delete();this.uk=null;this.sw=null;var i=[this.Es,this.cJ,this.CR,this.Ph,this.zF,this.Wh];
for(var t=0;t<6;t++)if(i[t]!=null&&i[t]instanceof i8.UT)i[t].delete();this.Es=null;this.cJ=null;this.CR=null;
this.Ph=null;this.zF=null;this.Wh=null};H.prototype.U=function(i){if(i==null)i=this.rect.clone();if(this.A0.er==null)this.A0.er=i;
else this.A0.er=this.A0.er.rt(i)};H.prototype.BT=function(){return this.add.lsct==gX.DU||this.add.lsct==gX.qC};
H.prototype.A$=function(){var i=this.add;return i.SoCo!=null||i.GdFl!=null||i.PtFl!=null};H.prototype.agm=function(){var i=this.add.lmfx;
if(i==null)return;var $=["GrFl","patternFill"];for(var t=0;t<$.length;t++){var h=et.CE[et.order.indexOf($[t])],d=i[h].v;
if(d.length==0)continue;for(var K=0;K<d.length;K++){var f=d[K].v;if(f.enab.v&&(f.Algn==null||!f.Algn.v))this.A0.lx=!0}}};
H.prototype.axE=function(){var i=this.z,$=this.A0.Lr;if(this.A$())i=this.MQ();if(!i8.ph)return i.oT();
if(this.A0.sw==null||$||i8.ph!=this.A0.BI){var h=i.bL(),d=this.A0.sw,K=null;if($!=!0&&$!=null){K=$.clone();
K.offset(-h.x,-h.y)}if(d==null||d.e!=h.e||d.n!=h.n){d=this.A0.sw=new i8.Fh(h.e,h.n);K=null}d.set(i.oT(),K)}return this.A0.sw};
H.prototype.axX=function(i){var $=this.rect,h=this.buffer;if(!i8.ph){var d=this.I6(i,h,$);if(d){h=d.Yz;
$=d.rect}return h}if(this.A0.er!=null||i8.ph!=this.A0.BI){var d=this.I6(i,h,$);if(d){h=d.Yz;$=d.rect}var K=$;
if(i8.ph!=this.A0.BI||this.A0.uk==null||this.A0.uk.e!=K.e||this.A0.uk.n!=K.n){if(this.A0.uk)this.A0.uk.delete();
this.A0.uk=new i8.UT(K.e,K.n);this.A0.uk.set(h)}else{var f=this.A0.er.clone();f.offset(-$.x,-$.y);this.A0.uk.set(h,f)}}return this.A0.uk};
H.prototype.ZF=function(){var i=this.z;if(this.A$())i=this.MQ();return i!=null&&i.isEnabled&&(!i.rect.NT()||i.zk()!=255)};
H.prototype.I6=function(i,$,h){if(this.Hm()){var d=this.Hi(i);if(d.z&&d.z.isEnabled&&(!d.z.rect.NT()||d.z.color==0)){var K=this.add.SoLd.filterFX.v;
d.z.Hw=K.filterMaskDensity?K.filterMaskDensity.v:255;d.z.Dc=K.filterMaskFeather?K.filterMaskFeather.v:0;
var f=d.buffer,l=d.rect;if(l.O()<h.O()){l=h;f=k.Q(l.O()*4);k.mC(d.buffer,d.rect,f,l)}var u=d.z.os(h);
k.Sp(u);$=$.slice(0);k.l.Zv(f,l,$,h,u,h,0,h,1);return{Yz:$,rect:h}}}};H.prototype.as8=function(){var i={rv:!1,OC:!1,mA:0,DI:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)i.OC=!0;if(this.MQ()&&this.MQ().isEnabled)i.rv=!0;if(i.rv&&i.OC){i.mA=this.MQ().rect.x-this.add.vmsk.MQ().rect.x;
i.DI=this.MQ().rect.y-this.add.vmsk.MQ().rect.y}return i};H.prototype.ET=function(i,$){this.A0.iK=null;
if($&&this.MQ().Dc!=0){$=$.clone();var h=Math.round(this.MQ().Dc*2.4);$.ol(h,h)}var d=!1;if(this.add.lsct==gX.ZH)return;
var K=this,f=this.MQ()!=null&&this.MQ().D3,l=this.add.vmsk!=null&&this.add.vmsk.D3,u=this.as8(),U=JSON.stringify(u)!=this.A0.alf||u.rv&&f||u.OC&&l;
if(U){if(u.OC){var y=this.add.vmsk.MQ();if(u.rv){this.z=this.MQ().hW(y);this.A0.bl=new cq(this.z.rect.x-this.MQ().rect.x,this.z.rect.y-this.MQ().rect.y)}else this.z=y}if(this.z)d=!0;
if(this.z)this.A0.MF=new cq(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);if(u.rv)this.MQ().D3=!1;
if(u.OC)this.add.vmsk.D3=!1;this.U($)}else{if(u.rv&&u.OC){this.z.rect.x=this.MQ().rect.x+this.A0.bl.x;
this.z.rect.y=this.MQ().rect.y+this.A0.bl.y}}if(K.A$()){this.RA(i)}if(K.zp()){var a;if(this.z)a=new cq(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);
if(this.z&&this.z.isEnabled&&(this.A0.MF==null||!a.Rl(this.A0.MF))){this.A0.MF=a;this.U($);d=!0}}if(f2.get(K.add)!=null)d=!0;
if(d){var v=this.A0.Lr;if($&&v&&v!=!0)v=v.rt($);else v=$?$:!0;this.A0.Lr=v}this.A0.alf=JSON.stringify(u)};
H.prototype.RA=function(i){var $=this,h=$.add.vstk,d=new bN(0,0,i.e,i.n),K,f=$.add.vmsk?this.add.vmsk.MQ():null,U=!0,v;
if(f&&f.isEnabled&&f.zk()==0)K=f.bL().clone();else K=d;var l=$.MQ();if(l&&l.isEnabled&&l.zk()==0)K=K.Js($.z.bL());
var u=f&&h;if(h&&(!h.strokeEnabled.v||h.strokeStyleLineWidth.v.val==0))u=!1;if(h&&!h.fillEnabled.v&&u)U=!1;
var y=k.Q(K.O()*4);if(U){if($.add.SoCo)eN.e7(y,$.add.SoCo.Clr.v);if($.add.GdFl){var a=f&&f.color==0?k.A.eu($.add.vmsk.i,null,!0):null;
eN.Yl($.add.GdFl,y,K,i,null,a)}if($.add.PtFl)eN.C7($.add.PtFl,y,K,i.add.Patt,$.add.fxrp)}if(u)v=et._T.QY.indexOf(h.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(f){var c=f.Hw;if(u)f.Hw=255;var p=k.Q(K.O());if(f.zk()!=0)p.fill(Math.round(f.zk()));if(f&&f.isEnabled){var C=f.bL(),T=f.oT();
if(C.Rl(K))k.pv(T,p);else k.Zc(T,C,p,K)}if(u&&v==2){}else{if($.add.SoCo&&U){k.k1(p,y,3)}else k.cj(p,K,y,K)}if(u)f.Hw=c}$.buffer=y;
$.rect=K;if(u){var E=h.strokeStyleContent.v,r=et._T.u$.indexOf(E.classID),Y=this.add.vmsk.MQ(h);if(v!=0&&!$.rect.Rl(d))$.extend($.rect.rt(Y.bL()));
var c=Y.Hw;Y.Hw=255;var S=Y.os($.rect);Y.Hw=c;if(Y.color==255)k.Sp(S);var m=k.Q($.rect.O()*4);if(r==0)eN.e7(m,E.Clr.v);
if(r==1)eN.Yl(E,m,$.rect,i,null,f.color==0?f.rect:null);if(r==2)eN.C7(E,m,$.rect,i.add.Patt,$.add.fxrp);
var Q=h.strokeStyleOpacity.v.val/100;if(Q!=1)k.Kd(S,Q);if(Y.color==255)v=2-v;if(v<2){k.l.Zv(m,$.rect,$.buffer,$.rect,S,$.rect,255,$.rect,1,!1);
if(v==0)k.nO(p,$.buffer)}if(v==2){k.nO(S,m);k.Sp(p);k.l.Zv(m,$.rect,$.buffer,$.rect,p,K,255,$.rect,1,!1);
k.Sp(p)}if(Y.Hw!=255){var z=m.slice(0);k.MK(z,4278190080,16777215);k.l.NU("norm",z,$.rect,$.buffer,$.rect,$.rect,1-Y.Hw/255)}c=f.Hw;
f.Hw=255;this.ar4=f.os($.rect);f.Hw=c}this.U()};H.prototype.u8=function(i,$,h){var d=this,K=d.add.SoLd.Idnt.v,f=d.add.SoLd,l=k.p.nP(D.vA.O7(f.nonAffineTransform)),u=i.hI(K,f.Crop?f.Crop.v:null,[l.e,l.n],f.Impr.v.classID,h),p=1;
if(u==null)return;var U=u.eZ;f.Sz.v.Wdth.v=U[1].e;f.Sz.v.Hght.v=U[1].n;var y=u._m==null?f.Rslt.v.val:u._m,a=f.warp.v,v=D.vA.O7(f.nonAffineTransform),c=U[1].clone();
c.e*=p;c.n*=p;c.x=(U[1].e-c.e)/2;c.y=(U[1].n-c.n)/2;var C=k.K.bS(v,c);if(a&&!k.O$.PJ(a)){var l=k.p.nP(k.O$.A2(a)),T=l.x,E=l.y,r=1/l.e,Y=1/l.n;
C=k.K.bS(v);C=k.K.hW(C,[r,0,-T*r,0,Y,-E*Y,0,0])}var S=D.vA.N6(U,$?0:1,C,a,null,null,null,$);if(S==null){d.buffer=k.Q();
d.rect=new bN}else if(d.Hm()){var m=d.Hi(i);m.buffer=S.buffer;m.rect=S.rect.clone();this.aR(i,$)}else{d.buffer=S.buffer;
d.rect=S.rect}d.ET(i);d.U();i.U()};H.prototype.aR=function(i,$){if($==null)$=!1;var h=this.Hi(i),d=this.add.SoLd.filterFX.v,K=d1.aog(d),f=new bN(0,0,i.e,i.n),l=h.rect.rt(f),u=h.rect.clone();
u.ol(K.x,K.y);var U={buffer:null,rect:l.Js(u)};U.buffer=k.Q(U.rect.O()*4);k.mC(h.buffer,h.rect,U.buffer,U.rect);
if(d.enab.v&&$==!1){var y=d.filterFXList.v;for(var t=0;t<y.length;t++){var a=y[t].v;if(a.enab.v==!1)continue;
var v=a.blendOptions.v,c=ca.Mp(v.Md.v.BlnM),p=v.Opct.v.val/100,C=k.M.zk(a.FrgC.v),T=k.M.zk(a.BckC.v),E=d1.Pu(a),r={buffer:k.Q(U.buffer.length),rect:U.rect.clone()},Y=a.Fltr?a.Fltr.v:null;
if(f2.E2[E]!=null){var S=f2.E2[E],m=f2.Bd(S,Y);if(m)f2.kG(m,U.buffer,r.buffer,U.rect)}else d1.kG(E,U,Y,C,T,r,[i.add.lnk2?i.add.lnk2:[],this.MQ(),i.kY]);
if(c=="norm"&&p==1)U=r;else if(c=="norm"){k.l.Zv(r.buffer,r.rect,U.buffer,U.rect,null,null,null,U.rect,p)}else{k.l.NU(c,r.buffer,r.rect,U.buffer,U.rect,U.rect,p)}}}this.rect=U.rect;
this.buffer=U.buffer;this.HH();this.U();i.U()};H.prototype.Di=function(i,$,h){this.Nf=this.a2o(i,$,h)};
H.prototype.nV=function(i,$){var h=this.a2o(i,$,!0);if(h==null)return null;var d={P$:h.Tu,tp:h.QJ,rect:h.RG};
if(d.P$==1||d.P$==3){var K=d.rect,f=k.Q(K.e*K.n*4);k.k1(d.tp,f,0);k.k1(d.tp,f,1);k.k1(d.tp,f,2);k.b6(i.J.channel,i.J.rect,f,K);
d.tp=f}return d};H.prototype.a2o=function(i,$,h){var d,K,f,l,u,U,y;if(this.Tu<=0){var a=k.Q(this.rect.O());
k.pO(this.buffer,a,3);d=k.mO.gi($,{channel:a,rect:this.rect},3);if(d==null)return null;var v=k.WG(d.channel,d.rect);
l=d.rect.clone();u=this.rect.clone();K=k.Q(l.O()*4);k.mC(this.buffer,u,K,l);k.k1(d.channel,K,3);f=this.buffer.slice(0);
if(!h){var c=$.channel.slice(0);k.Sp(c);k.cj(c,$.rect,f,u)}U=this.buffer.slice(0);y=this.rect.clone()}if(this.Tu==1||this.Tu==3){var p=this.Tu==1?this.MQ():this.Hi(i).z;
l=$.rect.clone();u=p.rect.clone();K=p.aof(l);var f=p.channel.slice(0);if(!h)k.l.FS(p.color==255?k.g9(l.O()):k.N5(l.O()),l,f,u,$.channel,l,1);
U=p.channel.slice(0);y=p.rect.clone()}return{Tu:this.Tu,QJ:K,RG:l,yg:f,us:u,Mg:U,gB:y}};H.prototype.$l=function(i,$){var h=this.Nf;
if(h.Tu==0){this.rect=h.gB;this.buffer=h.Mg;this.U()}if(h.Tu==1||h.Tu==3){var d=h.Tu==1?this.MQ():this.Hi(i).z;
d.channel=h.Mg;d.rect=h.gB;if(this.Tu==1){d.D3=!0;this.ET(i)}if(this.Tu==3)this.U()}this.Nf=$};H.prototype.A4=function(i,$){if(this.Tu<=0&&$.rect.Rl(this.rect)){var h=k.Q(this.rect.O());
k.pO(this.buffer,h,3);if(k.Rl(i.J.channel,h)){var d=this.rect,K=this.buffer;this.Nf={Tu:this.Tu,QJ:K.slice(0),RG:d.clone(),yg:k.Q(0),us:new bN,Mg:k.Q(0),gB:new bN};
return!0}}var f=this.Nf;if(f==null)return!1;if(f.Tu!=this.Tu)return!1;if(!$.rect.Rl(f.RG))return!1;var l=f.us.rt(f.RG);
if(f.Tu<=0){if(!l.Rl(this.rect))return!1;var u=k.Q(f.QJ.length>>2);k.pO(f.QJ,u,3);if(!k.Rl($.channel,u))return!1;
var U=k.Q(l.e*l.n*4);k.mC(f.yg,f.us,U,l);k.l.NU("norm",f.QJ,f.RG,U,l,l,1);return k.Rl(U,this.buffer)}if(f.Tu==1||f.Tu==3){var y=f.Tu==1?this.MQ():this.Hi(i).z;
if(!l.Rl(y.rect))return!1;var a=k.Q(l.O());a.fill(y.color);k.Zc(f.yg,f.us,a,l);k.l.FS(f.QJ,f.RG,a,l,$.channel,l,1);
return k.Rl(a,y.channel)}};H.prototype.W_=function(i,$,h,d){var K=this.Nf;K.RG.offset($,h);var f=K.us.rt(K.RG);
if(K.Tu<=0){var l=k.Q(f.O()*4);k.mC(K.yg,K.us,l,f);k.l.NU("norm",K.QJ,K.RG,l,f,f,1);this.buffer=l;this.rect=f;
this.U()}else{var u=this.Tu==1?this.MQ():this.Hi(i).z,U=k.Q(f.O());U.fill(u.color);k.Zc(K.yg,K.us,U,f);
k.l.FS(K.QJ,K.RG,U,f,d.channel,f,1);u.channel=U;u.rect=f.clone();if(this.Tu==1){u.D3=!0;this.ET(i)}if(this.Tu==3)this.U()}};
H.prototype.asj=function(){var i=[-1,0,1,2];if(this.z)i.push(-2);if(this.oe)i.push(-3);return i};H.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
H.prototype.DN=function(b4){this.add.luni=this.name=b4};H.prototype.dw=function(i){var $=this.add.lnsr,h=this.add.TySh;
if($=="rend"&&h){var d=jP.Gs(h.$D);this.DN(d.slice(0,d.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
H.prototype.ji=function(){return(this.pM&1<<1)==0};H.prototype.zp=function(){return(this.pM&1<<4)==0};
H.prototype.TQ=function(){return(this.pM&1<<5)!=0};H.prototype.awA=function(){var i=this;if(i.add.lnsr!="bgnd"){i.add.lnsr="bgnd";
i.DN("Background");i.add.lspf=1<<2}};H.prototype.a24=function(){var i=this;if(i.add.lnsr=="bgnd"){delete i.add.lnsr;
i.DN("Layer 0");i.add.lspf=0}};H.prototype.wC=function(i){var $=this.add.lspf;return $==null?!1:($>>i&1)!=0};
H.prototype.DJ=function(i){if(i&&!this.ji())this.pM-=2;if(!i&&this.ji())this.pM+=2};H.prototype.tT=function(){var i=this.add.lmfx;
if(i==null)return!1;for(var $ in i){if($=="masterFXSwitch")continue;if($=="Scl")continue;if($=="classID")continue;
if(i[$].v.length>0)return!0}return!1};H.prototype.Hm=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
H.prototype.Wx=function(){var i=this.add.lmfx;if(i==null)return!1;if(!i.masterFXSwitch.v)return!1;for(var $ in i){if($=="masterFXSwitch")continue;
if($=="Scl")continue;if($=="classID")continue;var h=i[$].v;for(var t=0;t<h.length;t++)if(h[t].v.enab.v)return!0}return!1};
H.prototype.ys=function(i,$,h,d){var K=new bN,f=this.zA(i,h,d);if(f.indexOf(0)!=-1)K=K.rt(this.rect);
if(f.indexOf(1)!=-1){var l=this.MQ(),u=l.bL();K=h&&l.zk()==0?K.NT()?u:K.Js(u):K.rt(u)}if(f.indexOf(2)!=-1){var U=this.add.vmsk,y=this.add.vstk,a;
if($){a=k.A.eu(U.i,U.g.length!=0?U.g:null)}else a=k.A.eu(U.i);if(!d&&y&&y.strokeEnabled.v){var v=y.strokeStyleLineAlignment.v.strokeStyleLineAlignment,c=y.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(v!="strokeStyleAlignInside"){var p=y.strokeStyleLineWidth.v.val;if(c=="strokeStyleMiterJoin")a=new bN(0,0,i.e,i.n);
else a.ol(p,p)}}K=K.rt(a)}if(f.indexOf(3)!=-1)K=K.rt(this.Hi(i).z.bL());if(f.length==0&&this.A$())K=d?new bN(0,0,0,0):new bN(0,0,i.e,i.n);
return K};H.prototype.wx=function(){var i=this.add.artb,$=i.artboardBackgroundType.v,h=0;if($==1)h=4294967295;
else if($==2)h=4278190080;else if($==3)h=0;else if($==4){h=i.Clr.v;h=255<<24|h.Bl.v<<16|h.Grn.v<<8|h.Rd.v}else throw $;
return h};H.prototype.Ik=function(){var i=this.add.artb.artboardRect.v,$=i.Btom.v,h=i.Left.v,d=i.Rght.v,top=i.Top.v;
return new bN(h,top,d-h,$-top)};H.prototype.th=function(i){var $=H.Y9(i);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=$};H.Y9=function(i){var $={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
$.Btom.v=i.y+i.n;$.Left.v=i.x;$.Rght.v=i.x+i.e;$.Top.v=i.y;return $};H.prototype.zA=function(i,$,h){var d=[],K=this;
if(!$&&K.fx&&h){d.push(2)}else if(K.Tu<=0||$){if(K.zp())if(!this.rect.NT())d.push(0);if(K.MQ()&&!K.MQ().rect.NT())if(K.MQ().sE||$)d.push(1);
if(K.add.vmsk)if(K.add.vmsk.sE||$)d.push(2);if(K.Hm()&&K.Hi(i).z&&!K.Hi(i).z.rect.NT())d.push(3)}else if(K.Tu==1){d.push(1);
if(K.MQ().sE&&!K.MQ().rect.NT()){if(K.zp())if(!this.rect.NT())d.push(0);if(K.add.vmsk)if(K.add.vmsk.sE)d.push(2)}}else if(K.Tu==3&&!K.Hi(i).z.rect.NT())d.push(3);
if(K.add.artb&&d.indexOf(0)==-1)d.push(0);d.sort();return d};H.prototype.MQ=function(){var i=this;return i.oe?i.oe:i.add.vmsk&&i.add.vmsk.isEnabled?null:i.z};
H.prototype.Hi=function(i){var $=this.add.SoLd.placed.v,h=i.add.FEid;if(h==null)return null;for(var t=0;
t<h.length;t++)if(h[t].id==$)return h[t];return null};H.prototype.extend=function(i){k.afq(this,i)};
H.prototype.aiC=function(i,$,h){var d=i.clone();if(this.Wx()){var K=this.add.lmfx,f=$.root.$p($.B.indexOf(this)),l=K.gradientFillMulti.v,u=!1;
for(var t=0;t<l.length;t++)if(l[t].v.enab.v&&l[t].v.Algn.v)u=!0;if(u)d=d.rt(f.bL($,!1));var U=eN.a2F(this.add.lmfx,$,h);
d.offset(U.x,U.y);d.e+=U.e;d.n+=U.n}return d};H.prototype.HH=function(){if(this.zp())k.Dl(this);var i=this.MQ();
if(i)i.HH()};H.prototype.clone=function(){var i=new H;i.rect=this.rect.clone();i.buffer=this.buffer.slice(0);
i.R$=this.R$;i.opacity=this.opacity;i.sD=this.sD;i.pM=this.pM;i.name=this.name;i.$z=this.$z.slice(0);
if(this.z)i.z=this.z.clone();if(this.oe)i.oe=this.oe.clone();for(var $ in this.add)i.add[$]=fT.clone($,this.add[$]);
return i};H.prototype.IB=function(i){var $=this;if($.add.TySh)delete $.add.TySh;if($.add.SoLd){var h=this.I6(i,this.buffer,this.rect);
if(h){this.buffer=h.Yz;this.rect=h.rect;this.U()}delete $.add.SoLd}if($.add.SoCo||$.add.GdFl||$.add.PtFl){if($.add.vogk)delete $.add.vogk;
if($.add.SoCo)delete $.add.SoCo;if($.add.GdFl)delete $.add.GdFl;if($.add.PtFl)delete $.add.PtFl;if($.add.vmsk){console.log($.oe,$.z);
delete $.add.vmsk;if($.oe==null&&$.z)delete $.z;else if($.oe!=null&&$.z!=null){$.z=$.oe;delete $.oe}}}if(!$.BT()&&f2.get($.add)==null&&!this.zp())this.pM-=16};
H.prototype.k2=function(i){var $=255,h=0;if(i==2){var d=this.add.SoLd.filterFX.v;if(d.filterMaskDensity)$=d.filterMaskDensity.v;
if(d.filterMaskFeather)h=d.filterMaskFeather.v}else{var K=i==0?this.MQ():this.add.vmsk;$=K.Hw;h=K.Dc}return{K0:i,e9:$,HE:h}};
H.prototype.ahe=function(i){if(i.K0==2){var $=this.add.SoLd.filterFX.v;if(i.e9==255)delete $.filterMaskDensity;
else $.filterMaskDensity={t:"long",v:i.e9};if(i.HE==0)delete $.filterMaskFeather;else $.filterMaskFeather={t:"doub",v:i.HE};
this.U()}else{var h=i.K0==0?this.MQ():this.add.vmsk;h.Hw=i.e9;h.Dc=i.HE;h.D3=!0}};H.prototype.Yt=function(){var i=this,$=i.add.vmsk;
if($==null)return;i.add.vogk=k.X.a4G($.i)};H.Yt=function(i){var $=[],h=k.A.P6(i);for(var d=0;d<h;d++)$.push(k.X.N5());
return $};var gX={WF:0,DU:1,qC:2,ZH:3};H.k$=function(){this.name="Mask";this.$$=!1;this.Co={o:255,P:0,Z:0};
this.Gu=50;this.Ww=0;this.color=255;this.sE=!0;this.isEnabled=!0;this.bs=!1;this.Hw=255;this.Dc=0;this.rect=new bN;
this.channel=k.Q(0);this.TR=null;this.a4$=null;this.D3=!0};H.k$.prototype.hW=function(i){if(!this.isEnabled)return i;
var $=new H.k$;$.color=Math.round(this.zk()*i.zk()/255);if(this.zk()==0&&i.zk()==0)$.rect=this.bL().Js(i.bL());
else if(i.zk()==0)$.rect=i.bL().clone();else if(this.zk()==0)$.rect=this.bL().clone();else $.rect=this.bL().rt(i.bL());
$.channel=this.os($.rect);$.Hw=255;$.Dc=0;var h=i.os($.rect);k.a2h(h,$.rect,$.channel,$.rect);return $};
H.k$.prototype.bL=function(){if(this.Dc==0)return this.rect;var i=Math.ceil(this.Dc*2.2),$=this.rect.clone();
if($.y==0){if($.x==0)$.e+=i;else $.ol(i,0);$.n+=i}else $.ol(i,i);return $};H.k$.prototype.oT=function(){if(this.Dc==0&&this.Hw==255)return this.channel;
if(this.Dc==0){var i=this.channel.slice(0);k.Sp(i);k.Kd(i,this.Hw/255);k.Sp(i);return i}var $=this.bL(),h=this.aof($),i=k.Q($.O());
k.$A.WJ(h,i,$,this.Dc);if(this.Hw!=255){k.Sp(i);k.Kd(i,this.Hw/255);k.Sp(i)}return i};H.k$.prototype.zk=function(){return Math.round(255-(255-this.color)*(this.Hw/255))};
H.k$.prototype.extend=function(i){k.extend(this,i,this.color)};H.k$.prototype.HH=function(){if(this.color==255)k.Sp(this.channel);
k.HH(this);if(this.color==255)k.Sp(this.channel)};H.k$.prototype.clone=function(){var i=new H.k$;i.name=this.name;
i.$$=this.$$;i.Co=this.Co;i.Gu=this.Gu;i.Ww=this.Ww;i.color=this.color;i.sE=this.sE;i.isEnabled=this.isEnabled;
i.bs=this.bs;i.Hw=this.Hw;i.Dc=this.Dc;i.rect=this.rect.clone();i.channel=this.channel.slice(0);return i};
H.k$.prototype.aof=function(i,$){if($==null)$=k.Q(i.O());$.fill(this.color);k.Zc(this.channel,this.rect,$,i);
return $};H.k$.prototype.os=function(i,$){var h=this.bL(),d=this.oT();if($==null)$=k.Q(i.O());$.fill(this.zk());
k.Zc(d,h,$,i);return $};H.LF=function(){this.sE=!0;this.isEnabled=!0;this.Hw=255;this.Dc=0;this.i=[{type:6},{type:8,all:0}];
this.h3=[-3,-3];this.Gc=!1;this.oe=null;this.D3=!0;this.g=[];this.ZL=[]};H.LF.prototype.offset=function(i,$){this.oe=this.MQ();
k.A.mu(this.i,new ej(1,0,0,1,i,$));this.oe.rect.offset(i,$)};H.LF.prototype.MQ=function(i){if(!this.D3&&this.oe&&i==null){this.oe.isEnabled=this.isEnabled;
return this.oe}var $=k.A.eu(this.i),h="strokeStyleLineAlignment",d="strokeStyleLineJoinType";if($.O()>3e4*3e4)$=new bN(0,0,100,100);
if(i&&i[h].v[h]!="strokeStyleAlignInside"){var K=1;if(i[d].v[d]=="strokeStyleMiterJoin"){var f=k.A.ahL(this.i),l=f/2,u=Math.sin(l),U=Math.cos(l);
U/=u;u=1;var K=Math.sqrt(U*U+u*u);if(isNaN(K)||K<1)K=1}K*=i[h].v[h]=="strokeStyleAlignOutside"?1:.5;
var y=Math.ceil(i.strokeStyleLineWidth.v.val*K);y=Math.min(y,600);$.ol(y,y)}$=k.p.Ip($);var a=new H.k$;
a.color=k.A.ov(this.i)?0:255;a.sE=this.sE;a.isEnabled=this.isEnabled;a.bs=!0;a.rect=$;a.Hw=this.Hw;a.Dc=this.Dc;
a.channel=k.Q(a.rect.O());if(!$.NT())k.A.a6L(this.i,a.channel,a.rect,i);if(i==null){this.oe=a;this.D3=!1}return a};
H.LF.prototype.clone=function(){var i=new H.LF;i.sE=this.sE;i.isEnabled=this.isEnabled;i.Hw=this.Hw;
i.Dc=this.Dc;i.i=H.LF.t0(this.i);i.h3=this.h3.slice(0);i.Gc=this.Gc;i.g=this.g.slice(0);i.ZL=this.ZL.slice(0);
return i};H.LF.prototype.concat=function(i){var $=i.i.slice(2);if($.length==0)return;$[0].N0=3;this.i=this.i.concat($)};
H.LF.t0=function(i){var $=[];for(var t=0;t<i.length;t++){var h=i[t];if(h.type>5||h.type==0||h.type==3)$.push(JSON.parse(JSON.stringify(h)));
else $.push({type:h.type,Q2:h.Q2.clone(),F:h.F.clone(),ua:h.ua.clone()})}return $};H.LF.aju=function(i,$,h){if(i.length!=$.length)return!1;
for(var t=2;t<i.length;t++){var d=i[t],K=$[t];if(d.type!=K.type)return!1;if(d.type==0||d.type==3){if(d.length!=K.length||!h&&d.N0!=K.N0)return!1}else if(!d.Q2.Rl(K.Q2)||!d.F.Rl(K.F)||!d.ua.Rl(K.ua))return!1}return!0};
H.LF.prototype.ax2=function(){var i=this.i;for(var t=3;t<i.length;t++)if(i[t].type==0||i[t].type==3)i[t].N0=-1};
H.I1=function(){this.type=null;this.XY=2;this.$0=null;this.Wo="";this.$M="";this.$U="";this.open=0;this.raw=null;
this.eZ=null;this.afB="";this.Od=!1};H.I1.prototype.clone=function(){var i=new H.I1;i.type=this.type;
i.XY=this.XY;i.$0=this.$0;i.Wo=this.Wo;i.$M=this.$M;i.$U=this.$U;i.open=this.open;i.raw=new Uint8Array(this.raw.buffer.slice(0));
return i};H.I1.prototype.Fy=function(i,$,h,d,K){if(h==null)h="none";var f=this,l=em.X0(f.raw.buffer),u=l=="svg"||l=="pdf";
if(f.eZ){var U=$&&u&&Math.max(f.eZ[1].e,f.eZ[1].n)<Math.max($[0],$[1]);if(!U&&h==this.afB&&!f.Od)return}this.afB=h;
if(!u)i=0;if(l==null){alert("Unsupported format: "+M.uX(f.raw,0,4));return null}var y=em.Q_(l);if(y.LW){var a=new hR(name+(l=="psd"?"":"-"+l)+".psd"),v;
y.u2(f.raw.buffer,a,$);var c=new bN(0,0,a.e,a.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(h)!=-1){var p=[];
for(var t=0;t<a.B.length;t++){var C=a.B[t],T=C.buffer;if(!C.rect.Rl(c)){T=k.Q(c.O()*4);k.mC(C.buffer,C.rect,T,c);
console.log("resizing")}p.push(T)}v=k.Q(c.O()*4);k.stack.stack(p,v,h)}else{for(var t=0;t<a.B.length;
t++)if(a.B[t].A$())a.B[t].ET(a);if(d&&a.Od){var E=bM.a6P(a,d,K);f.Od=!E;if(E)bM.a6y(a,d,K)}a.hh();a.U();
a.kX();v=a.Fy()}f.eZ=[v,c];f._m=a._m!=null&&a._m!=0?a._m:72}else if(y){var r=y.u2(f.raw.buffer)[0];f.eZ=[new Uint8Array(r.data),r.kp];
f._m=r._m!=null&&r._m!=0?r._m:72}if(f.eZ){if(i==1){var T=f.eZ[0],Y=f.eZ[1],S=k.Q(Y.O());k.pO(T,S,3);
var m=k.WG(S,Y),Q=k.Q(m.O()*4);k.mC(T,Y,Q,m);f.eZ=[Q,m]}k.SL(f.eZ)}};H.kq="0";H.c1="2";H.y0="2.5";H.aa="2.6";
H.UO="3";H.lk="4";H.iR="4.5";H.axi="4.6";H.ave="5";H.Gl="5.5";H.a8D="6";H.lH="7";H.aeF="8";H.qJ="9";
H.uO="9.3";H.atD="9.5";H.FG="9.6";H.M2="10";H.dg="11";H.ay="12";H.qK="13";H.z4="13.1";H.afO="13.2";H.WT="13.3";
H.x6="13.4";H.OS="14";H.Jv="14.1";H.FP="14.2";H.cX="14.3";H.RX="17";H._g="18";H.a2Q="19";H.$K="19.5";
H.hV="19.6";H.p4="19.7";H.$m="19.8";H.L0="20";H.PW="21";H.ex="21.5";H.Bh="22";H.fi="22.5";H.Ja="23";
H.aqk="24";H.P_="25";H.anu="26";H.aje="27";H.YC="28";H.$i="29";H.Ux="30";H.bx="31";H.vY="32";H.nW="33";
H.wR="34";H.Xr="35";H.J5="36";H.X4="36.5";H.st="37";H.wJ="37.5";H.aeC="37.6";H.gv="38";H.h0="38.5";H.lb="38.6";
H.ad="39";H.T7="40";H.atR="41";H.aor="42";H.dz="50";H.K4="51";H.wv="52";H.wt="53";H.qs="54";H.aeh="54.5";
H.Vt="54.6";H.a2w="54.7";H.U8="54.8";H.O5="55";H.tV="56";H.vd="57";H.LY="58";H.IF="59";H.UQ="60";function cI(){this.depth=0;
this.index=-1;this.a=null;this.am5=null;this.tH=-1;this.children=null;this.parent=null;this.Nb=null}cI.prototype.a0F=function(i,$){if(this.depth!=0)i.push(this.a.getName());
if(this.children)for(var t=0;t<this.children.length;t++)this.children[t].a0F(i,$);if(i.length>$.Pr.length)$.Pr=i.slice(0);
if(this.depth!=0)i.pop()};cI.prototype.ags=function(){var i=0;if(this.a.BT()){for(var t=0;t<this.children.length;
t++)i+=this.children[t].ags()}else if(this.a.buffer)i+=this.a.buffer.length;return i};cI.prototype.$p=function(i){var $=this.Nb[i];
return this.Nb[i]};cI.prototype.abC=function(i,$){var h=this.a;if(!h.ji()||h.wC(2)||h.wC(31))return null;
if(h.ZF()){var d=h.z.rect.CF(i);if(!d&&h.z.color==0)return}if(h.BT()){for(var t=0;t<this.children.length;
t++){var b4=this.children[t];b4.abC(i,$)}}else if(h.rect.CF(i))$.push(this.index)};cI.prototype.G3=function(i,$){var h=this.a;
if(!h.ji()||h.wC(2)||h.wC(31))return null;if(h.ZF()){if(h.z.rect.dD(i)){if(!k.G3(i,h.z.channel,h.z.rect))return null}else if(h.z.color==0)return null}if(h.BT()){if(h.add.artb&&!h.Ik().dD(i))return null;
for(var t=this.children.length-1;t>=0;t--){var b4=this.children[t],d=b4.G3(i,$);if(d&&$==null)return d}return null}else if(h.add.TySh&&h.rect.dD(i)||k.ajZ(i,h.buffer,h.rect)){if($==null)return this;
else $.push(this.index)}return null};cI.prototype.a9B=function(i){var $=this.a;if(!$.ji()||$.wC(2)||$.wC(31))return null;
var h=$.add.vmsk;if(h&&h.isEnabled){var d=k.A.G3(h.i,i).zH;if(d!=-1)return{anv:this,afQ:d}}if($.BT()){if($.add.artb&&!$.Ik().dD(i))return null;
for(var t=this.children.length-1;t>=0;t--){var b4=this.children[t],K=b4.a9B(i);if(K)return K}return null}return null};
cI.prototype.ar8=function(i,$){i.push(this.index);if(this.a.BT()){i.push(this.tH);if($)if(this.a.Tu==1&&this.a.MQ().sE==!1)return;
for(var t=0;t<this.children.length;t++)this.children[t].ar8(i)}};cI.d5=function(){var i=document.createElement("canvas");
return i.getContext("2d")};cI.Ba=32;cI.prototype.eR=function(i,$,h){var d=this.a,f,l;if(d.BT()&&d.add.artb!=null)$=d.Ik();
var K=cI.Ba*D.V();if($.e>$.n){f=K;l=Math.floor(K*($.n/$.e))}else{f=Math.floor(K*($.e/$.n));l=K}if(d.A$()&&d.add.vmsk==null||d.add.TySh)f=l=Math.max(l,16);
else{f=Math.max(f,6);l=Math.max(l,6)}var u=l;if(h&&d.XL==null){d.XL=cI.d5();d.OV=cI.d5();d.db=cI.d5();
d.dl=cI.d5()}var U=d.A$()&&d.add.vmsk;if(U){var y=d.rect.clone(),c,p;if(y.NT())y=new bN(0,0,20,20);var a=y.e,v=y.n;
if(a>v){c=K;p=Math.floor(K*(v/a))}else{c=Math.floor(K*(a/v));p=K}if(c*p==0)c=p=16;if(h&&d.add.vstk)k.b9.qP(d.XL,c,p,y,d.buffer,d.rect,!1,null,!d.add.vstk.fillEnabled.v&&!d.add.vstk.strokeEnabled.v);
if(h)k.b9.amq(d.XL,c,p);u=p}else if(d.add.TySh){if(h)k.b9.abt(d.XL,u,u,d.add.TySh)}else if(d.add.SoCo){u=Math.max(16,Math.min(f,l));
if(h)k.b9.aue(d.XL,u,u,d.add.SoCo)}else if(d.add.GdFl){if(h)k.b9.amj(d.XL,u,u,d.add.GdFl)}else if(d.add.PtFl){if(h)k.b9.aw3(d.XL,u,u,d.add.PtFl,i)}else if(f2.get(d.add)!=null){if(h)k.b9.a2u(d.XL,u,u,d.add)}else if(d.add.SoLd){if(h)k.b9.qP(d.XL,f,l,$,d.buffer,d.rect,!1);
if(h)k.b9.a14(d.XL,f,l,d.add.SoLd)}else if(d.BT()){u=16}else{if(h){if(d.zp())k.b9.qP(d.XL,f,l,$,d.buffer,d.rect,!1);
else{k.b9.ae6(d.XL,u,u)}}}var C=d.MQ();if(h){if(C)k.b9.hB(d.OV,f,l,$,C);if(d.Hm()&&d.Hi(i)&&d.Hi(i).z){var T=d.Hi(i).z;
k.b9.hB(d.dl,f,l,$,T)}if(!U&&d.add.vmsk){k.b9.hB(d.db,f,l,$,d.add.vmsk.MQ(),!0)}}if(d.add.vmsk||C)u=Math.max(u,l);
d.afl=Math.max(u,16);if(h!=!0&&d.BT()&&(d.add.lsct==gX.DU||i.B.length<4e3))for(var t=0;t<this.children.length;
t++)this.children[t].eR(i,$)};cI.prototype.ad8=function(i,$,h,d){this.depth=h;var K=i[$];if(d==null)d=[];
this.Nb=d;if(K.add.lsct==gX.ZH){this.am5=K;this.tH=$-1;this.children=[];var t=$+1;while(!0){var f=i[t];
if(f==null)console.log(t,i.length);if(f.add.lsct==gX.DU||f.add.lsct==gX.qC){if(K.add.lyid==f.add.lyid)K.add.lyid+=16777215;
this.a=f;this.index=t-1;d[this.index]=this;d[$-1]=this;break}var l=new cI;l.parent=this;t=l.ad8(i,t,h+1,d);
this.children.push(l)}return t+1}else{this.a=K;this.index=$-1;d[this.index]=this;return $+1}};cI.prototype.El=function(i,$,h,d){var K=this.$p(h),f=i;
while(K.parent!=null){f=K.a.aiC(f,$,d);K=K.parent}return f};cI.prototype.bL=function(i,$){var h=this.a,d=new bN;
if(!h.ji())return d;var K=h.MQ();if(h.BT())for(var t=0;t<this.children.length;t++){var f=this.children[t].bL(i,!0);
d=d.rt(f)}else if(f2.get(h.add)!=null)d=h.ZF()&&h.z.color==0?h.z.bL().clone():new bN(0,0,i.e,i.n);else if(h.A$()&&h.add.vmsk&&h.add.vmsk.isEnabled&&h.add.vstk){d=h.rect.clone()}else if(h.A$()&&K&&K.isEnabled&&K.zk()!=0)d=new bN(0,0,i.e,i.n);
else{d=h.ys(i,!1,!0);if(h.add.vmsk)d=k.p.Ip(d)}return $?h.aiC(d,i):d};cI.LX={delete:function(i){if(i&&i.e)i.delete()},Q:function(i,$){return i8.ph?new i8.UT(i,$):k.Q(i*$*4)},_1:function(i,$,h){if(i8.ph){if(i==null||i.e!=$||i.n!=h){cI.LX.delete(i);
return new i8.UT($,h)}}else{if(i==null||!(i instanceof Uint8Array)||i.length!=$*h*4){cI.LX.delete(i);
return k.Q($*h*4)}}return i},Zc:function(i,$,h,d,K){(i8.ph?i8.Lb:k.mC)(i,$,h,d,K)},Zv:function(i,$,h,d,K,f,l,u,t,U,y){(i8.ph?i8.l.l2:k.l.Zv)(i,$,h,d,K,f,l,u,t,U,y)},a7O:function(i,$,h,d,K,f,l,u){var U=h.clone(),y=K.e,a=K.n,v=U.x,c=U.y,p=U.x+U.e>y?-1:0,C=U.x<0?2:1,T=U.y+U.n>a?-1:0,E=U.y<0?2:1;
for(var r=T;r<E;r++)for(var Y=p;Y<C;Y++){U.x=v+Y*y;U.y=c+r*a;cI.LX.NU(i,$,U,d,K,f,l,u)}},NU:function(i,$,h,d,K,f,l,u){if(i8.ph)i8.l.$y(i,$,h,d,K,f,l,u);
else k.l.NU(i,$,h,d,K,f,l,u)},MK:function(i,$,h){if(i8.ph){i8.dY(i);i8.iA($,h)}else k.MK(i,$,h)},aiJ:function(i,$,h,d,K){if(i8.ph){i8.l.l2(null,null,d,K,i,$,h,K,1,!1)}else{if(h==255)k.cj(i,$,d,K);
else{var f=k.Q($.O());k.$s(d,K,f,$);k.d0(i,f);k.MK(d,0,16777215);k.b6(f,$,d,K)}}},Ri:function(i,$,h,d){if(i8.ph)i8.l.l2(null,null,h,d,i,$,0,d,1,!1);
else k.Ri(i,$,h,d)}};cI.prototype.SX=function(i,$,h,d,K,f){var l=typeof f=="number";if(!this.a.BT()&&(l&&this.index>f||!l&&f.indexOf(this.index)==-1)){return}var u=this.a,U=eN.Cz(u),y=cI.LX,a=u.A$()?u.MQ():u.z;
if(!u.ji())return;if(u.ZF()&&a.rect.NT()&&a.zk()==0){return}if(u.add.vstk==null&&this.bL(d,!1).NT()){return}var v=this.bL(d,!0).Js(h);
if(!$.Rl(h)&&!h.CF(v))return;if(u.BT()&&u.add.artb){var c=u.Ik();h=h.Js(c)}var p=cI.asv(u,K,U);if(!p){this.am9(i,$,h,d,K,f);
return}u.A0.Es=y._1(u.A0.Es,v.e,v.n);y.Zc(i,$,u.A0.Es,v,h);this.am9(u.A0.Es,v,h,d,K,f);y.Zv(u.A0.Es,v,i,$,null,null,0,h,u.opacity/255,u.R$=="diss",U.eU)};
cI.asv=function(i,$,h){if(h.eU[0]*h.eU[1]*h.eU[2]==0)return!0;return i.opacity!=255&&($.length!=0||i.BT()||i.Wx())};
cI.ap4={A0:{}};cI.prototype.am9=function(i,$,h,d,K,f){var l=this.a,u=eN.Cz(l),U=f2.get(l.add)!=null,y=cI.LX,a=cI.asv(l,K,u),v=a?1:l.opacity/255,c=l.A$()?l.MQ():l.z,p=l.BT()&&u.vQ==null&&(l.R$=="pass"||l.add.artb)&&!(K.length>0||u.fill!=1||l.Wx()),C=!l.BT()&&!U&&!l.Wx()&&K.length==0,T=U&&!l.Wx()&&K.length==0,Q=null,z=null,n=null,q;
if(p||C||T){var E=i,r=$;if(l.ZF()){r=this.bL(d,!1);E=l.A0.Ph=y._1(l.A0.Ph,r.e,r.n);y.Zc(i,$,l.A0.Ph,r)}if(p)this.M8(E,r,h,d,f);
if(C)y.NU(l.R$,l.axX(d),l.rect,E,r,h,v,u);if(T){var Y=l.ZF()&&c.zk()==0?c.bL().clone():r.clone(),S=l.A0;
if(Y.Rl(new bN(0,0,d.e,d.n)))S=cI.ap4;S.CR=this.a2I(E,r,S.CR,Y,l.add);u.I7=!0;y.NU(l.R$,S.CR,Y,E,r,h,v,u)}if(l.ZF())y.Zv(E,r,i,$,l.axE(),c.bL(),c.zk(),h,1,l.R$=="diss");
l.A0.abI();return}var m=l.BT()&&l.R$=="pass"&&(K.length>0||u.fill!=1||l.Wx()),Y=l.rect;if(l.BT()){Y=this.bL(d,!1);
n=l.A0.CR=y._1(l.A0.CR,Y.e,Y.n);y.MK(n,0);this.M8(n,Y,Y,d,f);z=y._1(l.A0.cJ,Y.e,Y.n);y.Zc(n,Y,z,Y)}else if(U){Y=l.ZF()&&c.zk()==0?c.bL().clone():$.clone();
z=y._1(l.A0.cJ,Y.e,Y.n);y.MK(z,4294967295)}else{Y=l.rect;Q=l.axX(d);z=y._1(l.A0.cJ,Y.e,Y.n);y.Zc(Q,Y,z,Y)}l.A0.cJ=z;
if(l.ZF())y.aiJ(l.axE(),c.bL(),c.zk(),z,Y);if(l.Wx())if(l.A0.er||l.A0.lx||l.A0.BI!=i8.ph||l.A0.Lr||l.BT()){var Z=l.add.vmsk,P=k.Q(Y.O());
if(eN.a4R(l.add.lmfx)){if(i8.ph){if(!l.BT()&&l.MQ()==null&&l.rect.Rl(Y)&&Z==null)k.pO(l.buffer,P,3);
else{var V=k.Q(Y.O()*4);z.get(V);k.pO(V,P,3)}}else k.pO(z,P,3)}if(l.A0.lx||l.A0.BI!=i8.ph||!k.Rl(P,l.A0.sk)){var I=null;
if(l.A$()&&Z&&Z.isEnabled&&Z.MQ().color==0)I=Z.MQ().rect;eN.aw2(l.A0.bQ);l.A0.bQ=eN.a08(P,Y,l.add.lmfx,l.add.fxrp,d,I);
l.A0.sk=P;l.A0.alC=Y}}if(l.Wx())eN.avz(l.add.lmfx,l.A0.bQ,Y,i,$,h);if(l.BT()){Q=y._1(l.A0.Ph,Y.e,Y.n);
y.MK(Q,0);if(l.R$=="pass")y.Zc(i,$,Q,Y);if(m)y.Ri(n,Y,Q,Y);this.M8(Q,Y,h,d,f);l.A0.Ph=Q}if(U){Q=l.A0.Ph=this.a2I(i,$,l.A0.Ph,Y,l.add)}if(l.BT()||U)q=Q;
else{q=y._1(l.A0.Ph,Y.e,Y.n);y.Zc(Q,Y,q,Y,h);l.A0.Ph=q}y.MK(q,4278190080,16777215);for(var t=0;t<K.length;
t++)K[t].SX(q,Y,h,d,[],f);var X=l.A0.zF=y._1(l.A0.zF,Y.e,Y.n);y.Zc(i,$,X,Y,h);if(U)u.I7=!0;y.NU(l.R$=="pass"?"norm":l.R$,q,Y,X,Y,h,1,u);
if(l.Wx()){var B=l.A0.bQ.type.FrFX,e=null;if(B.length!=0){e=B[0];for(var t=0;t<B.length;t++)if(B[t].UP.e>e.UP.e)e=B[t];
l.A0.Wh=y._1(l.A0.Wh,e.UP.e,e.UP.n);y.Zc(i,$,l.A0.Wh,e.UP,h);l.A0.Te=y._1(l.A0.Te,e.UP.e,e.UP.n)}eN.a3p(l.add.lmfx,l.A0.bQ,Y,i,$,h,X,l.A0.Wh,l.A0.Te,e?e.UP:null)}if(!i8.ph){var F=k.Q(Y.O());
k.pO(z,F,3);z=F}y.Zv(X,Y,i,$,z,Y,0,h,1,l.R$=="diss");l.A0.abI()};cI.prototype.aoJ=function(i,$,h,d){var K=this.a,f=K.add.lmfx,l=K.add.TySh,u=K.add.SoLd;
if(!K.ji())return;if(!K.rect.NT()&&!K.rect.CF(d))return;$.save();if(K.add.artb){var U=K.Ik();$.beginPath();
$.rect(U.x,U.y,U.e,U.n);$.clip();d=d.Js(U);var y=K.wx();if(y!=0){var U=y>>>16&255,a=y>>>8&255,v=y&255;
$.fillStyle="#"+k._V(v<<16|a<<8|U);$.fillRect(d.x,d.y,d.e,d.n)}}var c=K.opacity/255*(K.add.iOpa?K.add.iOpa/255:1);
$.globalAlpha*=c;$.globalCompositeOperation=ca.qT[ca.bj.indexOf(K.R$)];function p(J,W){return CSS.O1({o:J[0]*255,P:J[1]*255,Z:J[2]*255},W)}function C(P){var J=eF.XJ(P,new ej,K.rect);
if(J.length==3)return p(J);else{var W,L=J.crds,A=J.grad;if(J.typ=="lin")W=$.createLinearGradient(L[0],L[1],L[2],L[3]);
else W=$.createRadialGradient(L[0],L[1],L[2],L[3],L[4],L[5]);for(var t=0;t<A.length;t++)W.addColorStop(A[t][0],p(A[t][1],A[t][2]));
return W}}function T(J,W){var Y=J.A0.iK;if(Y==null)Y=J.A0.iK=k.p.Va(J.add.vmsk.i,W);return Y}var E=CSS.anU(i,f);
if(!K.BT())for(var t=0;t<E.length;t++){var r=E[t];if(r.startsWith("drop-shadow")){r=r.slice(12,-1).split(" ");
$.shadowOffsetX=parseFloat(r[0])*i.u.N;$.shadowOffsetY=parseFloat(r[1])*i.u.N;$.shadowBlur=parseFloat(r[2])*i.u.N*2.4;
$.shadowColor=r[3]}}if(K.BT()){if(K.add.vmsk){var Y=T(K,!1),S=Y.Ai;$.beginPath();Typr.U.pathToContext({cmds:S.H,crds:S.C},$);
$.clip()}for(var t=0;t<this.children.length;t++)this.children[t].aoJ(i,$,h,d)}else if(l){var m=!0;if(K.A0.path==null){m=bM.DB(l,h.SB);
if(m)bM.AA(K,h.SB,!1)}if(m){if(i.u.N<1)cI.aeR(i,K,$,new ej(1,0,0,1,K.rect.x,K.rect.y),K.A0.Jz);else if(K.A0.path)bM.ax1(K.A0.path,$)}}else if(K.A$()&&K.add.vmsk){var Q=K.add.vmsk,z=K.add.vstk,f=K.add.lmfx,n=z.fillEnabled.v;
if(!z.strokeEnabled.v)z=eN.No(f);var Z=z?et._T.QY.indexOf(z.strokeStyleLineAlignment.v.strokeStyleLineAlignment):-1,Y=T(K,Z!=-1),S=Y.Ai;
if(z){$.strokeStyle=C(z.strokeStyleContent.v);k.A.Xp(z,$)}if(n&&K.add.PtFl==null){var P=eN.S4(f,K.add),V=P[0],I=P[1];
$.fillStyle=C(V?V:I)}if(Q.Dc!=0)$.filter="blur("+Q.Dc*i.u.N+"px)";$.beginPath();Typr.U.pathToContext({cmds:S.H,crds:S.C},$);
if(Z==2){$.stroke()}if(n){$.fill(["nonzero","evenodd"][K.A0.iK.RG]);if(Z==0)$.clip()}if(Z==0||Z==1){$.stroke()}}else if(!K.rect.NT()){var q=null,X=null;
if(u){var B=u.filterFX;if(B){var P=B.v.filterFXList.v;for(var t=0;t<P.length;t++){var r=P[t].v;if(!r.enab.v)continue;
var e=d1.Pu(r);if(e=="GsnB"){$.filter="blur("+r.Fltr.v.Rds.v.val*i.u.N+"px)"}}}var F=u.Idnt.v,s=i.hI(F,u.Crop?u.Crop.v:null);
q=k.K.Px(u);X=s.eZ}cI.aeR(i,K,$,q,X)}$.globalAlpha/=c;$.globalCompositeOperation="source-over";$.restore()};
cI.aeR=function(i,$,h,d,K){if(d==null)d=new ej;var f=$.buffer,l=$.rect;if(K){var u=d.Qa()*i.u.N,U=0;
while(1<<U/2<.5/u&&U+2<K.length)U+=2;f=K[U];l=K[U+1];l=l.clone();l.x=l.y=0;var u=1<<U/2,y=new ej;y.scale(u,u);
y.concat(d);d=y}if(l.NT())return;var a=document.createElement("canvas");a.width=l.e;a.height=l.n;var v=a.getContext("2d");
v.putImageData(new ImageData(new Uint8ClampedArray(f.buffer),l.e,l.n),0,0);h.transform(d.Pi,d.Z,d.sl,d.Zn,d.wQ,d.FQ);
h.drawImage(a,l.x,l.y);d.Sp();h.transform(d.Pi,d.Z,d.sl,d.Zn,d.wQ,d.FQ)};cI.prototype.a2I=function(i,$,h,d,K){var f=f2.get(K),l;
if(f)l=f2.Bd(f,K[f]);var u=cI.LX;h=u._1(h,d.e,d.n);if(!(i8.ph&&$.Rl(d)))u.Zc(i,$,h,d);if(l){if(i8.ph){var U=d.clone();
U.x=U.y=0;if($.Rl(d)){i8.dY(h,U);f2.YR(l,i.Wd,U)}else{i8.dY(h,d);h.tM(d);f2.YR(l,h.Kc,U)}}else f2.kG(l,h,h,d)}return h};
cI.prototype.M8=function(i,$,h,d,K){var f=$,l=f.e,u=f.n,U=f.x,y=f.y,b4=h,a=b4.x,v=b4.y,c=-1,p=-1,C=2,T=2;
if(!d.dV){c=p=0;C=T=1}var E=this.children;for(var t=0;t<E.length;t++){var r=[];for(var Y=t+1;Y<E.length;
Y++)if(E[Y].a.sD)r.push(E[Y]);else break;for(var S=p;S<T;S++)for(var m=c;m<C;m++){f.x=U+m*l;f.y=y+S*u;
b4.x=a+m*l;b4.y=v+S*u;E[t].SX(i,f,b4,d,r,K)}t+=r.length}f.x=U;f.y=y;b4.x=a;b4.y=v};function hR(i){this.oE="psd";
this.jW=!1;this.name=i;this.jt=-1;this.dV=!1;this.D2=null;this.TF=null;this.$j=null;this.PF=null;this.e=0;
this.n=0;this.buffer=null;this.B=[];this.ME={};this.add={};this.ru=4;this.Z$=null;this._m=72;this.Y3={};
this.g=[];this.C9=[];this.z7=!1;this.ky=[];this.Bg=[];this.w3=[hR.SG("Work Path")];this.LK=[];this.$H=null;
this.wh={classID:"CompList",list:{t:"VlLs",v:[]}};this.H0=[];this.OH=[];this.root=null;this.tg=null;
this.Od=!1;this.alP=!1;this.ai0=!1;this.vD=!1;this.oM=!1;this.nU=!1;this.u6=!1;this.$x=!1;this.Dh=!1;
this.zy=!1;this.er=null;this.gD=null;this.J=null;this.kY=[];this.o7=[];this.R={W4:{},xX:[],adB:[],yG:[],O6:[],HQ:null,Tn:null,TM:null,qe:null,N3:null,f1:[],B0:[],rR:null};
this.history=[new dS([1,0],null)];this.oD=0;this.TP=0;this.gl=0;this.u=new jR(this);this.PX=null;this.tE=null}hR.Fw=function(){var i=8,$=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
$=en.sc(i,$);return[i,$]}();hR.prototype.h6=function(i){if(i){if(i.length==30240){this.h6(null);return}this.ME.r1039=i;
var $=ICC.R(i.buffer),K=null,f=17,U,y;if($==null){this.h6(null);return}var h=$.header.spaceIn.toLowerCase(),d=JSON.stringify($.tags.desc).toLowerCase();
try{K=ICC.U.profileName($)}catch(e_){}if(h!="rgb "||K==null||d.indexOf("srgb")!=-1){this.h6(null);return}console.log("We got an ICC profile!",$,K);
try{var l=ICC.U.sampleLUT($,f)}catch(e_){this.h6(null);return}var u=l.slice(0),a=k.Q(4),v=hR.Fw[0],c=hR.Fw[1];
for(var t=0;t<l.length;t+=3){a[0]=l[t]*255;a[1]=l[t+1]*255;a[2]=l[t+2]*255;ICC.U.applyLUT(c,v,a,a);u[t]=a[0]/255;
u[t+1]=a[1]/255;u[t+2]=a[2]/255}if(i8.ph){U=new i8.UT(f,f*f);U.set(ICC.U.rgba8LUT(l,f));y=new i8.UT(f,f*f);
y.set(ICC.U.rgba8LUT(u,f))}this.PX=[i,$,f,l,U,u,y]}else{delete this.ME.r1039;this.PX=null}};hR.prototype.np=function(){return this.PX};
hR.prototype.fZ=function(){if(this.PX)return this.PX;if(this.add.fcmy==1){if(this.tE==null){var i=hR.Fw[0],$=hR.Fw[1],h;
if(i8.ph){h=new i8.UT(i,i*i);h.set(ICC.U.rgba8LUT($,i))}this.tE=[null,null,i,null,null,$,h]}return this.tE}};
hR.prototype.a6j=function(){var i=this;if(i.u.rB.join("")!="111"){i.u.rB=[1,1,1];i.nU=!0}for(var t=0;
t<i.B.length;t++){var $=i.B[t],h=$.add.vmsk;if($.Hm()){var d=$.Hi(i);if(d&&d.z&&d.z.$$){d.z.$$=!1;i.nU=!0}}var K=$.MQ();
if(K&&K.$$){K.$$=!1;i.nU=!0}if(h){if(h.g.length!=0)h.g=[];if(h.ZL.length!=0)h.ZL=[]}}};hR.prototype.E$=function(){var i=this;
return i.J!=null||i.iW()[1].length!=0||i.g.length>1};hR.prototype.KG=function(){var i=this.C9,$=[];for(var t=0;
t<i.length;t++)$[t]=-1;var h=this.root.children;for(var t=0;t<h.length;t++){var d=h[t],K=d.a.add.artb;
if(K==null)continue;var f=K.guideIndeces;f=f?f.v:[];for(var l=0;l<f.length;l++)$[f[l].v]=d.index}return[JSON.parse(JSON.stringify(i)),$]};
hR.prototype.N7=function(i){this.C9=JSON.parse(JSON.stringify(i[0]));var $=i[1],h=this.root.children;
for(var t=0;t<h.length;t++){var d=h[t],K=d.a.add.artb;if(K==null)continue;K.guideIndeces={t:"VlLs",v:[]}}for(var t=0;
t<$.length;t++)if($[t]!=-1)this.B[$[t]].add.artb.guideIndeces.v.push({t:"long",v:t})};hR.prototype.auH=function(i){var $=this;
if(i[0])$.add.lnk2=i[0];else delete $.add.lnk2;if(i[1])$.add.FEid=i[1];else delete $.add.FEid;if(i[2])$.add.Patt=i[2];
else delete $.add.Patt};hR.prototype.apX=function(i){var $=this,h=[],d=[],K=[],C=null,T=null,E=null;
for(var t=0;t<i.length;t++){var f=i[t];if(f.add.SoLd){h.push(f.add.SoLd.Idnt.v);d.push(f.add.SoLd.placed.v)}if(f.add.PtFl)K.push(f.add.PtFl.Ptrn.v.Idnt.v);
if(f.add.lmfx){for(var l=0;l<et.CE.length;l++){var u=f.add.lmfx[et.CE[l]].v;for(var U=0;U<u.length;U++)if(u[U].v.Ptrn){var y=u[U].v;
if(y.classID=="FrFX"&&y.PntT.v.FrFl!="Ptrn")continue;K.push(y.Ptrn.v.Idnt.v)}}}var a=f.add.vstk;if(a&&a.strokeStyleContent.v.classID=="patternLayer"){K.push(a.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var v=$.add.lnk2,c=$.add.FEid,p=$.add.Patt;
if(v){C=[];for(var t=0;t<v.length;t++)if(h.indexOf(v[t].$0)!=-1)C.push(v[t]);if(C.length==0)C=null}if(c){T=[];
for(var t=0;t<c.length;t++)if(d.indexOf(c[t].id)!=-1)T.push(c[t]);if(T.length==0)T=null}if(p){E=[];for(var t=0;
t<p.length;t++)if(K.indexOf(p[t].id)!=-1)E.push(p[t]);if(E.length==0)E=null}return[C,T,E]};hR.prototype.li=function(i){var $=this,h=$.root.$p(i==null?$.g[0]:i),d=!1;
while(h.parent!=null){d=d||h.a.wC(31);h=h.parent}return d};hR.prototype.Z7=function(){var i=this.kY,$=this.kY.length;
if($!=0&&i[$-1].name=="Quick Mask")return i[$-1]};hR.prototype.s7=function(){return this.oE==al.c5("% |/!)")||this.oE==al.yb("gP")};
hR.prototype.Bw=function(i){var $=this.add.artd;if(i!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:i},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};hR.prototype.G6=function(i){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(i)==-1)this.add.FEid.push(i)};
hR.prototype.Ro=function(i){var $=this.add.FEid.indexOf(i);this.add.FEid.splice($,1);if(this.add.FEid.length==0)delete this.add.FEid};
hR.prototype.U=function(i){if(i==null)i=new bN(0,0,this.e,this.n);if(this.er==null)this.er=i;else this.er=this.er.rt(i)};
hR.prototype.aqC=function(i){return this.er!=null};hR.prototype.z0=function(i){var $=this.B[i],h=this.root.$p(i);
if(h==null)return!1;if($.BT()||h.parent.children.indexOf(h)==0)return!1;return!0};hR.a0q=function(i){if(i.add.lnk2)for(var t=0;
t<i.add.lnk2.length;t++){var $=i.add.lnk2[t].$0;i.add.lnk2[t].$0=hR.Mf()+$.slice(8);for(var h=0;h<i.B.length;
h++){var d=i.B[h].add.SoLd;if(d&&d.Idnt.v==$)d.Idnt.v=i.add.lnk2[t].$0}}};hR.prototype.WN=function(i,$,h){i.sort(function(v,c){return v-c});
var top=i[i.length-1],d=this.B.slice(0),K=this.g.slice(0),f=[],l=[];for(var t=0;t<this.B.length;t++){if(i.indexOf(t)!=-1)l.push(this.B[t]);
else f.push(this.B[t])}this.Lq(l);this.g=[];var u=this.root.bL(this,!0);if($)u=u.Js($);if(h)u=u.rt(h);
if(u.NT())u=new bN(0,0,100,100);var U=new bN(-u.x,-u.y,this.e,this.n),y=new Uint8Array(em.Q_("PSD").Pa(this,0,0,[!0,!1]));
this.Lq(d);this.g=K;var a=new hR(this.B[top].getName());em.Q_("PSD").u2(y.buffer,a);delete a.add.artd;
a.ky=[];a.Lq(a.B);a.N7([[],[]]);hR.a0q(a);D.Xw.Xk(a,u);a.U();a.kX();a.Fy();return[a,u,f,top]};hR.prototype.a6g=function(i,$,h){var d=this.WN(i),K=d[0],f=d[1],l=d[2],top=d[3],u;
if(h=="jpg")u=new Uint8Array(em.Q_("JPG").Pa([[K.Fy().buffer]],K.e,K.n,[80]));else u=new Uint8Array(em.Q_("PSD").Pa(K,null,null,[!0,!1]));
if($)l=this.B.slice(0);var U=this.UJ(u,K.name,f.x,f.y);if(top==this.B.length-1)l.push(U);else l.splice($?top+1:top-i.length+1,0,U);
this.Lq(l);this.g=[l.indexOf(U)]};hR.Mf=function(i){if(i==null)i="";var $="";while($==""||$==i){$="";
for(var t=0;t<8;t++)$+=Math.floor(Math.random()*16).toString(16)}return $};hR.prototype.pk=function(i){if(i==null)return;
if(this.add.Patt==null)this.add.Patt=[];var $=this.add.Patt;for(var t=0;t<$.length;t++)if($[t].id==i.id)return;
$.push(i)};hR.prototype.UJ=function(i,$,h,d,K,f,l){if(this.add.lnk2==null)this.add.lnk2=[];var u=null,p=!1;
for(var t=0;t<this.add.lnk2.length;t++)if(k.Rl(i,this.add.lnk2[t].raw)){u=this.add.lnk2[t].$0;break}if(u==null){var U=em.X0(i.buffer);
u=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f";var y=new H.I1;y.$0=u;y.$U=U=="psd"?"8BIM":"    ";y.Wo=$+"."+U;
y.$M=U=="psd"?"8BPB":"    ";y.open=0;y.raw=i;y.type="liFD";y.XY=2;this.add.lnk2.push(y)}var a=this.hI(u,null,null,null,f,l),v=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f",c=this.Dw();
c.DN($);if(a!=null){var C=0,T=0,E=this.e,r=this.n;if(K){C=K.x;T=K.y;E=K.e;r=K.n}var Y=c.rect=a.eZ[1].clone();
Y.offset(C+h,T+d);var S=Math.max(Y.e/E,Y.n/r),p=K!=null&&S>1.0001;if(p){Y.e=Math.round(Y.e/S);Y.n=Math.round(Y.n/S);
Y.x=Math.round(C+(E-Y.e)/2);Y.y=Math.round(T+(r-Y.n)/2)}else if(K!=null&&em.X0(i.buffer)=="pdf"&&this._m!=144){var S=144/this._m;
Y.e=Math.round(Y.e/S);Y.n=Math.round(Y.n/S);p=!0}c.buffer=k.Q(Y.O()*4);if(!p)k.pv(a.eZ[0],c.buffer)}c.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:u},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:v},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:k.O$.Q(a?a.eZ[1]:c.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:c.rect.e},Hght:{t:"doub",v:c.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:a?a._m:72}}};
var m=k.p.Hg(c.rect).C;c.add.SoLd.Trnf=D.vA.j7(m);c.add.SoLd.nonAffineTransform=D.vA.j7(m);if(p)c.u8(this,!1);
return c};hR.prototype.Fy=function(i){if(i!=null){this.U();this.kX(i);var $=this.buffer;if(i8.ph)this.tg.get($);
else $=$.slice(0);this.U();this.kX();return $}if(this.er){this.kX();this.er=null}if(i8.ph&&this.gD){this.tg.get(this.buffer);
this.gD=null;this.u6=!0}return this.buffer};hR.prototype.afa=function(){for(var t=0;t<this.B.length;
t++)this.B[t].agm();this.U()};hR.prototype.aw5=function(){for(var t=0;t<this.B.length;t++)if(this.B[t].add.lmfx)this.B[t].A0.lx=!0};
hR.prototype.XE=function(){var i=this.ME.r1044;if(i==null){i=this.ME.r1044=new Uint8Array(4);var $=0;
for(var t=0;t<this.B.length;t++)$=Math.max($,this.B[t].add.lyid);M.N$(i,0,$)}var h=M.v(i,0);M.N$(i,0,h+1);
return h+1};hR.prototype.EX=function(i,$,h){if(i==null)i=!0;var d=this;if(d.o7.length!=0)return!0;if(d.g.length!=1){if(i)alert(d.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.iI(i,$,h)};hR.prototype.iI=function(i,$,h){if(i==null)i=!0;if($==null)$=!1;var d=this;
if(d.o7.length!=0)return!0;for(var t=0;t<d.g.length;t++){var K=d.B[d.g[t]],f=$||K.Tu<=0;if(K.add.lsct!=null&&K.add.lsct!=gX.WF&&K.Tu!=1){if(i)alert(e_.get([15,7,2]));
return!1}if(f&&!K.zp()){if(i)alert(e_.get([15,7,2]));return!1}if(f&&K.add.TySh){return this.axN(i,[15,7,3],h)}if(f&&K.add.SoLd){return this.axN(i,[15,7,4],h)}if(K.wC(1)||d.li(d.g[t])){if(i)alert(e_.get([6,57,0]));
return!1}}return!0};hR.prototype.axN=function(i,$,h){if(i&&typeof i=="object"){var d=new eU(x.E.k);d.data={d:x.c.ZD,Kh:"confirm"};
d.data.L=e_.get($)+". "+e_.get([6,8])+"?";var K=i;d.data.Fg=function(){var f=new eU(x.E.jm,!0);f.data={Fs:"rasterizeLayer",B6:{classID:"rasterizeLayer",null:jV.uf("Lyr",!0)}};
K.$(f)};i.$(d);return!1}if(i)alert(e_.get($));return!1};hR.prototype.ans=function(i){var $=this.root.$p(i);
if($.parent)return $.a.ji()&&this.ans($.parent.index);else return $.a.ji()};hR.prototype.ii=function(i){var $=this;
if(i){var h=0;for(var t=0;t<$.g.length;t++)if($.B[$.g[t]].add.artb)h++;if(h>1)return-1}if($.add.artd&&$.g.length!=0){var d=$.root.$p($.g[0]);
while(d.parent.parent)d=d.parent;if(d.a.add.artb)return d.index}return-1};hR.prototype.avT=function(){var i=this.B[this.g[0]];
if(i.Tu<=0&&!i.rect.CF(this.J.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.J){var $=k.Q(this.J.channel.length);
k.$s(i.buffer,i.rect,$,this.J.rect);k.d0(this.J.channel,$);if(k.ey($,0)){alert("Selected area is empty.");
return!1}}return!0};hR.prototype.Hk=function(){if(this.ME["r"+1037]==null)this.gO(30);return M.$I(this.ME["r"+1037],0)};
hR.prototype.gO=function(i){if(this.ME["r"+1037]==null)this.ME["r"+1037]=new Uint8Array(4);if(M.$I(this.ME["r"+1037],0)==i)return;
M.yj(this.ME["r"+1037],0,i);this.aw5()};hR.prototype.Cj=function(){if(this.ME["r"+1049]==null)this.$c(30);
return M.$I(this.ME["r"+1049],0)};hR.prototype.$c=function(i){if(this.ME["r"+1049]==null)this.ME["r"+1049]=new Uint8Array(4);
if(M.$I(this.ME["r"+1049],0)==i)return;M.yj(this.ME["r"+1049],0,i);this.aw5()};hR.prototype.rV=function(i){if(this.add.lnk2==null)return null;
for(var t=0;t<this.add.lnk2.length;t++)if(this.add.lnk2[t].$0==i)return this.add.lnk2[t];return null};
hR.prototype.adx=function(i){var $=this.rV(i);if($==null)return!1;var h=em.X0($.raw.buffer);if(h==null)return!1;
if(em.Q_(h)!=null||h=="psd")return!0;return!1};hR.prototype.hI=function(i,$,h,d,K,f){var l=this.rV(i);
if(l==null)return null;l.Fy($,h,d,K,f);if(l.eZ)return l};hR.prototype.agf=function(){var i=this.e,$=this.n;
if(i8.ph&&this.tg==null)this.tg=new i8.UT(i,$,!0);if(this.buffer==null||this.buffer.length!=i*$*4||i8.ph&&(this.tg.e!=i||this.tg.n!=$)){this.buffer=k.Q(i*$*4);
if(this.tg)this.tg.delete();if(i8.ph)this.tg=new i8.UT(i,$,!0)}};hR.prototype.ayp=function(){this.agf();
if(i8.ph){this.tg.set(this.buffer)}};hR.prototype.kX=function(i){var $=this.e,h=this.n,d=new bN(0,0,$,h),K=this.dV?d:d.Js(this.er);
this.agf();if(K.NT())return;if(!K.Rl(d)){if(!i8.ph){var f=k.N5(K.O()*4);k.mC(f,K,this.buffer,d)}if(i8.ph){i8.dY(this.tg,K);
i8.iA(0)}}else{if(i8.ph){this.tg.set(null)}else{this.buffer.fill(0)}}var l=Date.now(),u=i8.ph?this.tg:this.buffer;
if(i==null)i=1e9;var U=this.root.children;for(var t=0;t<U.length;t++){var y=U[t].a;if(y.ji()&&y.add.artb&&this.add.artd){var a=y.Ik(),v=K.Js(a),c=y.wx();
if(c!=0){if(i8.ph){i8.dY(u,v);i8.iA(c);i8.iA(c)}else k.amM(u,d,v,c)}}}this.root.SX(u,d,K,this,[],i);
this.gD=this.er.clone()};hR.prototype.Dw=function(i){var $=new H;$.rect=new bN(0,0,0,0);$.buffer=k.Q(1);
$.add.luni=new cq(0,0);if(i!=!0)$.add.lyid=this.XE();$.add.lsct=gX.WF;$.add.lclr=0;$.add.fxrp=new cq(0,0);
return $};hR.prototype.U4=function(i){var $=this.Dw(i);$.DN("</Layer group>");$.add.lsct=gX.ZH;$.pM=24;
return $};hR.prototype.k5=function(){return this.oD!=this.TP};hR.prototype.JY=function(i){while(this.history.length>this.oD+1)this.history.pop();
if(this.TP>this.oD)this.TP=-1;if(i.b.id!=D.nr){this.vD=!0;if(this.wh.lastAppliedComp){delete this.wh.lastAppliedComp;
this.u6=!0}}this.history.push(i);this.oD++;this.u6=!0;var $=jF.V9()?60:30,h=0;for(var t=this.history.length-1;
t>=0;t--){var d=this.history[t];if(d.ln)continue;h++;if(h==$){this.oD-=t;this.history=this.history.slice(t);
break}}};hR.prototype.au=function(){if(this.oD!=this.history.length-1)return null;return this.history[this.history.length-1]};
hR.prototype._8=function(i,$,h,d){if(i==null)i=!1;var K=$!=null?[$]:this.g.slice(0);if(d){var f=[];for(var t=0;
t<K.length;t++){var l=this.B[K[t]],u=l.nM;if(l.wf&&u!=0&&f.indexOf(u)==-1)f.push(u)}if(f.length!=0)for(var t=0;
t<this.B.length;t++){var l=this.B[t],u=l.nM;if(l.wf&&u!=0&&f.indexOf(u)!=-1&&K.indexOf(t)==-1)K.push(t)}}var U=[];
for(var t=0;t<K.length;t++){var y=this.M3(K[t],i);for(var a=0;a<y.length;a++)if(U.indexOf(y[a])==-1)U.push(y[a]);
if(h){var b4=this.root.$p(K[t]);while(b4.parent!=null&&b4.parent.parent!=null){b4=b4.parent;if(U.indexOf(b4.index)==-1){U.push(b4.index,b4.tH)}}}}return U};
hR.prototype.gM=function(i,$,h){var d=this,K=d._8(!1,i,null,h);K.sort(function(S,m){return S-m});var f={};
for(var l=0;l<d.B.length;l++){var u=d.B[l].getName();f[u]=!0}var U=[];for(var t=0;t<K.length;t++){var y=d.B[K[t]].clone(),E,r;
y.add.lyid=d.XE();y.add.lspf=0;if(y.Hm()){var a=y.Hi(d),v=hR.aoB(a);d.G6(v);y.add.SoLd.placed.v=v.id}else if(y.add.SoLd){var c=y.add.SoLd.placed.v;
y.add.SoLd.placed.v=hR.Mf(c.slice(0,8))+c.slice(8)}y.ET(d);var p=y.getName(),C=p.length;while(48<=p.charCodeAt(C-1)&&p.charCodeAt(C-1)<=57)C--;
var T=parseInt(p.slice(C));if(isNaN(T)){if(p.endsWith(" copy")){T=1;E=p.slice(0,p.length-5)}else{T=0;
E=p}}else if(p.slice(0,C).endsWith(" copy ")){T=T;E=p.slice(0,C-6)}else{T=0;E=p}T++;while(!0){r=E+" copy"+(T==1?"":" "+T);
if(f[r]==null)break;T++}var Y=K.indexOf(this.root.$p(K[t]).parent.index)!=-1;if(p=="Background"&&d.B.length==1)r="Layer 1";
if($!=!0&&!Y)y.DN(r);f[r]=!0;U.push(y)}return U};hR.aoB=function(i){return{id:hR.Mf(i.id.slice(0,8))+i.id.slice(8),buffer:i.buffer.slice(0),rect:i.rect.clone(),z:i.z?i.z.clone():null}};
hR.amL=function(i){return{id:i,rect:new bN,buffer:k.Q(1),z:new H.k$}};hR.SG=function(i,$){if($==null)$={vmsk:new H.LF};
if($.vogk==null){$.vogk=[];var h=k.A.P6($.vmsk.i);for(var d=0;d<h;d++)$.vogk.push(k.X.N5())}return{name:i,zH:0,add:$}};
hR.prototype.iW=function(i){var $=[],h=[],d=this,f=0;for(var t=1;t<d.w3.length;t++){var K=d.w3[t];K.zH=-1-t;
$.push(K);if(d.LK.indexOf(t)!=-1)h.push($.length-1)}if(d.w3[0].add.vmsk.i.length>2){var K=d.w3[0];K.zH=-1;
$.push(K);if(d.LK.indexOf(0)!=-1)h.push($.length-1)}var l=d.$H==null;if(l)d.$H=[];for(var t=d.g.length-1;
t>=0;t--){var u=d.B[d.g[t]],U=u.add.TySh;if(u.add.vmsk!=null&&(u.fx||u.A$())){var K=hR.SG("\""+u.getName()+"\" Shape Path",u.add);
K.zH=d.g[t];$.push(K);if(l)d.$H.push(f);if(d.$H.indexOf(f)!=-1)h.push($.length-1);f++}if(i!=!0&&U&&U.add&&k.O$.PJ(U.sT)){var K=hR.SG("\""+u.getName().slice(0,10)+"..\" Text Path",U.add);
K.zH=1e6+d.g[t];$.push(K);h.push($.length-1);f++}}if(h.length==0&&i){d.w3[0].zH=-1;d.LK=[0];h.push($.length);
$.push(d.w3[0])}return[$,h]};hR.prototype.M3=function(t,i){var $=[],b4=this.root.$p(t);if(b4)b4.ar8($,i);
return $};hR.prototype.Z8=function(){this.root.eR(this,new bN(0,0,this.e,this.n))};hR.prototype.Lq=function(i){for(var t=0;
t<this.B.length;t++){var $=this.B[t];if(i.indexOf($)==-1){$.A0.ase();$.U()}}var h=0;for(var t=0;t<i.length;
t++)if(i[t].add.artb)h++;this.Bw(h);this.B=i.slice(0);this.hh()};hR.prototype.hh=function(){var i=this.B,$=i.length;
this.root=new cI;var h=this.Dw(!0);h.R$="pass";h.add.lsct=gX.DU;h.DN("");var d=this.U4(!0),K=[d];for(var t=0;
t<$;t++)K.push(i[t]);K.push(h);this.root.ad8(K,0,0);if(this.g.length==0)this.g=[$-1]};hR.prototype.dU=function(){if(this.g.length!=1)return;
var i=this.root.$p(this.g[0]);while(i.parent!=null){var $=i.parent.a;$.add.lsct=gX.DU;i=i.parent}this.nU=this.a6z=!0};
hR.prototype.a8l=function(){this.hh();var i=[this.root],f3=0;while(i.length!=0){var top=i.pop();f3++;
if(top.a.add.lsct==gX.DU)for(var t=0;t<top.children.length;t++)i.push(top.children[t])}if(f3>1e3){var $=this.root.children;
for(var t=0;t<$.length;t++)if($[t].a.add.lsct==gX.DU)$[t].a.add.lsct=gX.qC}};hR.co=function(i,$,h,d,K,f,l,u){if(u==null)u="sRGB IEC61966-2.1";
var U={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:d},artboard:{t:"bool",v:f},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:i}},Hght:{t:"UntF",v:{type:"#Rlt",val:$}},Rslt:{t:"UntF",v:{type:"#Rsl",val:h}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:K}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:u}}}};
if(K=="Clr")U.Nw.v.FlCl={t:"Objc",v:l};return{Fs:"make",B6:U}};hR.aaM=function(i,$){var h=0,d=0,K=72,f=$.a3i,l=i.preset&&i.preset.v=="Clipboard";
if(l){h=f.e;d=f.n}else{h=i.Wdth.v.val;d=i.Hght.v.val;K=i.Rslt.v.val}var u=new hR((i.Nm?i.Nm.v:e_.get([11,7]))+".psd");
u.e=h;u.n=d;u._m=K;var U=i.Fl?i.Fl.v.Fl:"Wht";if(i.artboard&&i.artboard.v){var y=u.Dw();y.DN(e_.get([1,16,0])+" 1");
y.add.lsct=gX.DU;y.th(new bN(0,0,h,d));y.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[U]};
if(U=="Clr")y.add.artb.Clr={t:"Objc",v:k.M.Aw(k.M.zk(i.FlCl.v))};y.R$="pass";y.pM=24;var a=u.Dw();a.DN("Layer 1");
u.Lq([u.U4(),a,y]);u.Bw(1);u.g=[1]}else{var v=u.Dw(),c=0;v.DN("Background");u.Lq([v]);v.add.lspf=1<<2;
if(U=="Clr"){c=k.M.zk(i.FlCl.v);c=255<<24|Math.round(c.Z)<<16|Math.round(c.P)<<8|Math.round(c.o)}else{var p=$.n9;
p=(p&255)<<16|(p>>>8&255)<<8|p>>>16;c={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|p}[U]}v.rect=new bN(0,0,h,d);
v.buffer=k.Q(h*d*4);k.MK(v.buffer,c)}u.buffer=k.Q(h*d*4);var C=i.profile;if(C){var T={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[C.v];
if(T)u.h6(em.nf.get(T))}return u};function jR(i){this.x3=i;this.N=0;this.Zl=1;this.I=new cq(0,0);this.Zj=new cq(0,0);
this.rS=0;this.rB=[1,1,1];this.R4=0;this.Os=new bN(0,0,1,1);this.aj$=new bN(0,0,i.e,i.n);this.Br=null;
this.vZ=null;this.Ln=new Uint32Array(0);this.u1=null;this.p7=null;this.Pp=k.Q(0);this.yk=null;this.n5=null}jR.prototype.CT=function(i){var $=new ej,h=this.Os,d=this.x3,K=i?this.Zl:this.N,f=i?this.Zj:this.I,l=Math.round((h.e-d.e*K)/2+f.x),u=Math.round((h.n-d.n*K)/2+f.y);
$.translate(-l,-u);$.scale(1/K,1/K);var U=d.e/2,y=d.n/2;$.translate(-U,-y);$.rotate(this.rS);$.translate(U,y);
return $};jR.prototype.akL=function(i){var $=this.Os,h=this.x3,d=Math.atan2(-i.Z,i.Pi),K=h.e/2,f=h.n/2;
i.translate(-K,-f);i.rotate(-d);i.translate(K,f);var l=1/i.Qa();i.scale(l,l);var u=-i.wQ,U=-i.FQ,y=Math.round(u-($.e-h.e*l)/2),a=Math.round(U-($.n-h.n*l)/2);
if(Math.abs(l-Math.round(l))<1e-6)l=Math.round(l);this.rS=d;this.N=l;this.I=new cq(y,a)};jR.prototype._x=function(i,$){var h=this.CT();
return h.hb(new cq(i,$))};jR.prototype.cV=function(i,$){var h=this.CT();h.Sp();return h.hb(new cq(i,$))};
function et(){}et.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");et.CE="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
et.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];et.aen=["DrSh","IrSh","SoFi","GrFl","FrFX"];
et.sF=["Clr"];et.ce="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");et.V1=["Ptrn","Angl","Scl","Algn","phase"];
et.Rq={Tc:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",a7y:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",avD:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",au1:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Kn:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
et.Rq.Tc="\"Clr\": "+et.Rq.Tc;et.Rq.M="\"Grad\":"+et.Rq.a7y+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
et.Rq.Kn="\"Ptrn\":"+et.Rq.Kn+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
et.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
et.MO=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+et.Rq.Tc+","+et.Rq.M+","+et.Rq.Kn+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+et.Rq.Tc+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+et.Rq.M+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+et.Rq.Kn+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
et.M={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
et.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],$Q:["SClr","GrFl","Ptrn"],aoc:[[13,0],[12,37],[12,62]]};
et.mI={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],a4e:["SrcC","SrcE"],a8H:[[19,5,1],[12,69]]};et.w5={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],asX:["SfBL","PrBL","Slmt"],a4o:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
et._T={xe:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],QY:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],u$:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+et.Rq.Tc+"}")},strokeStyleResolution:{t:"doub",v:72}}};
et.FX=[{classID:"null",Clr:JSON.parse(et.MO[5]).Clr},{classID:"null",Grad:JSON.parse(et.MO[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(et.MO[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var eN={};eN.S4=function(i,$){function h(i,c){if(i==null||!i.masterFXSwitch.v)return null;var p=i[c].v,C;
if(p.length!=0){C=p[0].v;if(!C.enab.v)C=null}return C}var d=$.SoCo,K=$.GdFl,f=h(i,"solidFillMulti"),l=h(i,"gradientFillMulti");
if(f==null&&l==null)return[d,K];var u=eN.aak;if(d&&f&&l==null){var U=JSON.parse(JSON.stringify(d));U.Clr.v=u(f.Clr.v,d.Clr.v,f);
return[U,null]}if(K&&f&&l==null){var y=JSON.parse(JSON.stringify(K)),a=y.Grad.v.Clrs.v;for(var t=0;t<a.length;
t++){var v=a[t].v.Clr;v.v=u(f.Clr.v,v.v,f)}return[null,y]}if(d&&l){var y=JSON.parse(JSON.stringify(l)),a=y.Grad.v.Clrs.v;
for(var t=0;t<a.length;t++){var v=a[t].v.Clr;v.v=u(v.v,d.Clr.v,l)}return[null,y]}return[f,l]};eN.a6V={Nu:k.Q(4),ye:k.Q(4),o:new bN(0,0,1,1)};
eN.aak=function(i,$,h){var d=ca.Mp(h.Md.v.BlnM),K=h.Opct.v.val/100,f=eN.a6V;i=k.M.zk(i);$=k.M.zk($);
f.Nu[0]=i.o;f.Nu[1]=i.P;f.Nu[2]=i.Z;f.Nu[3]=255;f.ye[0]=$.o;f.ye[1]=$.P;f.ye[2]=$.Z;f.ye[3]=255;k.l.NU(d,f.Nu,f.o,f.ye,f.o,f.o,K);
return{classID:"RGBC",Rd:{t:"doub",v:f.ye[0]},Grn:{t:"doub",v:f.ye[1]},Bl:{t:"doub",v:f.ye[2]}}};eN.a0A=function(i,$,h){var d=i;
i=i.slice(0);var K=ca.bj[ca.kD.indexOf($.Md.v.BlnM)],f=k.M.zk($.Clr.v),l=4278190080|Math.round(f.Z)<<16|Math.round(f.P)<<8|Math.round(f.o),u=k.Q(h.O()*4);
k.MK(u,l);k.l.NU(K,u,h,i,h,h,$.Opct.v.val/100);for(var t=0;t<i.length;t+=4)i[t+3]=d[t+3];return i};eN.BQ=function(i,$){var h=["Sz","blur","Sftn","Dstn"];
for(var t=0;t<et.order.length;t++){var d=et.order[t],K=i[et.CE[t]].v;for(var f=0;f<K.length;f++){var l=K[f].v;
for(var u=0;u<h.length;u++){var U=l[h[u]];if(U){var y=U.v.val,a=y;a=Math.max(y==0?0:1,a*$);if(d=="ChFX")a=Math.min(a,250);
if(d=="ebbl"){if(h[u]=="blur")a=Math.min(a,250);if(h[u]=="Sftn")a=Math.min(a,16)}U.v.val=Math.round(a)}}if(d=="ebbl"||d=="patternFill"||d=="FrFX")if(l.Ptrn&&l.Scl)l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*$))}}};
eN.a2F=function(i,$,h){var d=new bN(-.5,-.5,1,1);for(var t=0;t<et.order.length;t++){var K=et.order[t],f=i[et.CE[t]].v;
for(var l=0;l<f.length;l++){var u=f[l].v,v;if(!u.enab.v)continue;var U=u.blur?u.blur.v.val+1:0,y=u.Ckmt?u.Ckmt.v.val/100:0,a=Math.round(U*y);
if(K=="DrSh"||K=="IrSh"&&h){v=new bN(-.5,-.5,1,1);v.ol(U,U);eN.bY(v,u,$,0)}if(K=="OrGl"||K=="IrGl"&&h){v=new bN(-.5,-.5,1,1);
v.ol(U,U)}if(K=="FrFX"){var c=eN.SS(u),p=c[1];if(h)p=Math.max(c[0],p);v=new bN(-.5,-.5,1,1);v.ol(Math.ceil(p),Math.ceil(p))}if(K=="ebbl"){var U=u.blur.v.val,C=u.bvlS.v.BESl;
if(C=="Embs"||C=="PlEb")U/=2;var T=["OtrB","InrB","Embs","PlEb","strokeEmboss"],E=["SfBL","PrBL","Slmt"],r=["In","Out"],Y=u.bvlT.v.bvlT!="SfBL"?U:U*.43,S=Math.round(U);
v=new bN(-S-1,-S-1,2*S+2,2*S+2)}if(h&&K=="ChFX"){v=new bN(-.5,-.5,1,1);v.ol(U,U);var m=v.clone();eN.bY(v,u,$,0);
eN.bY(m,u,$,Math.PI);v=v.rt(m)}if(v)d=d.rt(v)}}if(d.x!=Math.ceil(d.x)){d.x=Math.ceil(d.x);d.e-=1}if(d.y!=Math.ceil(d.y)){d.y=Math.ceil(d.y);
d.n-=1}d.e=Math.floor(d.e);d.n=Math.floor(d.n);return d};eN.SS=function(i){var $=0,h=0,d=i.Styl.v.FStl,K=i.Sz.v.val;
if(d=="OutF")h=K;if(d=="InsF")$=K;if(d=="CtrF")$=h=K/2;return[$,h]};eN.a1V=function(i){if(i8.ph&&i.p_==null){i.p_=new i8.UT(i.G_.e,i.G_.n);
i.p_.set(i.Yz);delete i.Yz;if(i.oJ){i.Ud=new i8.Fh(i.G_.e,i.G_.n);i.Ud.set(i.oJ);delete i.oJ}if(i.hd){i.av=new i8.Fh(i.G_.e,i.G_.n);
i.av.set(i.hd);delete i.hd}}};eN.aqG=function(i){if(i.p_)i.p_.delete();if(i.Ud)i.Ud.delete();if(i.av)i.av.delete()};
eN.aw2=function(i){if(i.all==null)return;for(var t=0;t<i.all.length;t++){eN.aqG(i.all[t])}};eN.a08=function(i,$,h,d,K,f){var l=eN.KZ(h,d,i,$,K,f);
for(var t=0;t<l.all.length;t++)eN.a1V(l.all[t]);return l};eN.a4R=function(i){for(var t=0;t<et.order.length;
t++){var $=et.order[t],h=et.CE[t],d=i[h].v;for(var K=0;K<d.length;K++){var f=d[K].v;if(f.enab.v&&["patternFill","GrFl","SoFi"].indexOf($)==-1)return!0}}return!1};
eN.KZ=function(i,$,h,d,K,f){if(f==null)f=d;var l=0,u=0;for(var t=0;t<et.order.length;t++){var U=et.order[t],y=et.CE[t],a=i[y].v;
for(var v=0;v<a.length;v++){var c=a[v].v;if(U=="DrSh"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0)l=Math.max(l,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(U=="OrGl"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0&&c.GlwT.v.BETE=="SfBL")l=Math.max(l,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(U=="OrGl"&&c.enab.v&&c.blur.v.val>0&&c.GlwT.v.BETE=="PrBL")l=Math.max(l,c.blur.v.val);if(U=="FrFX"&&c.enab.v&&c.Sz.v.val>0){if(c.Styl.v.FStl=="OutF")l=Math.max(l,c.Sz.v.val);
if(c.Styl.v.FStl=="CtrF")l=Math.max(l,Math.ceil(c.Sz.v.val/2));u=Math.max(u,eN.SS(c)[1])}}}var p=new eN.iY(h,d,l,eN.a4R(i)),C=-d.x,T=-d.y,E={type:{},all:[]};
for(var r=0;r<et.order.length;r++){var U=et.order[r],y=et.CE[r];E.type[U]=[];for(var Y=i[y].v.length-1;
Y>=0;Y--){var S=i[y].v[Y].v,n;if(!S.enab.v)continue;var m=S.blur?S.blur.v.val:0,Q=S.Ckmt?S.Ckmt.v.val/100:0,z=m*Q;
if(U=="DrSh"){var Z=p.wM(z,m-z,!0),P=Z.MB,V=Z.gZ;V.offset(C,T);eN.mm(P,S,!1);eN.bY(V,S,K,0);var I=k.Q(V.O()*4);
eN.e7(I,S.Clr.v);k.k1(P,I,3);n={Yz:I,G_:V,ap$:S.layerConceals.v}}else if(U=="IrSh"){var Z=p.wM(z,m-z,!1);
eN.bY(Z.gZ,S,K,0);var V=p.rect().clone(),P=k.Q(V.O());P.fill(255);k.Zc(Z.MB,Z.gZ,P,V);eN.mm(P,S,!0,!0);
var I=k.Q(V.O()*4);eN.e7(I,S.Clr.v);k.k1(P,I,3);V.offset(C,T);n={Yz:I,G_:V}}else if(U=="GrFl"){var I=k.Q(p.rect().O()*4);
eN.Yl(S,I,p.rect(),K,null,f);var V=p.rect().clone();V.offset(C,T);n={Yz:I,G_:V}}else if(U=="SoFi"){var I=k.Q(p.MB().length*4);
eN.e7(I,S.Clr.v);var V=p.rect().clone();V.offset(C,T);n={Yz:I,G_:V}}else if(U=="ebbl"){var q=!1;if(q)console.log(S);
var X=Date.now(),B=S.bvlS.v.BESl;if(B=="strokeEmboss"){var e=i.frameFXMulti.v;if(e.length==0)continue;
e=e[0].v;if(!e.enab.v)continue;var F=e.Styl.v.FStl;if(F=="OutF")B="OtrB";if(F=="CtrF")B="Embs";if(F=="InsF")B="InrB"}var m=S.blur.v.val;
if(m==0)m=.7;if(B=="Embs"||B=="PlEb")m/=2;var s=["OtrB","InrB","Embs","PlEb","strokeEmboss"],J=["SfBL","PrBL","Slmt"],W=["In","Out"],L=S.bvlT.v.bvlT!="SfBL"?m:m*.45,A=Math.round(m),j=p.rect().clone(),G=j.clone();
G.ol(A,A);var O=G.e,o=G.n,N=O*o,w=k.Q(N);k.Zc(p.MB(),j,w,G);var kv=new Float64Array(N),g=new Float64Array(N);
k.style.bV(w,kv,O,o);k.Sp(w);k.style.bV(w,g,O,o);if(q)console.log("distTransform computed",Date.now()-X);
for(var t=0;t<N;t++)g[t]=g[t]-kv[t];for(var t=0;t<N;t++){var b=g[t];if(b<-L)g[t]=-L;else if(b>L)g[t]=L}if(q)console.log("summing + cropping",Date.now()-X);
if(S.bvlT.v.bvlT=="SfBL"){var jU=Math.pow(m*.21,1.22);if(!0)jU=Math.max(jU,2);var _=k.$A.fa(jU,2);k.$A.E1(g,kv,G,_[0]>>>1);
k.$A.E1(kv,g,G,_[1]>>>1)}if(q)console.log("blurring",Date.now()-X);var cY=g,j3=cY.slice(0);if(S.useShape.v){var aS=Math.min(100,S.Inpr.v.val+1)/100;
if(B!="OtrB"&&B!="InrB")aS=1;var bL=k.qt.J6(S.MpgS.v.Crv.v,2e3),cQ=Math.round(2e3/aS);bL=k.qt.ahI(bL,cQ,B=="InrB");
var cK=.5/L;for(var t=0;t<N;t++){var el=cY[t],gF=.99999*(el+L)*cK;cY[t]=-L+2*L*bL[~~(gF*(cQ-1))]}if(q)console.log("applying shape",Date.now()-X)}if(S.useTexture.v){var fj=k.Q(O*o*4);
eN.C7(S,fj,G,K.add.Patt,$);var i3=k.Q(O*o);k.xw(fj,i3);var eT=k.Q(O*o);k.$A.Zd(i3,eT,G,1);i3=eT;var eV=m*S.textureDepth.v.val*(1/100)*(1/255);
if(S.InvT.v)eV=-eV;for(var t=0;t<N;t++)cY[t]+=-eV*i3[t];if(q)console.log("applying texture",Date.now()-X)}var hr=(S.bvlT.v.bvlT=="SfBL"?1:.5)*(S.bvlD.v.BESs=="In"?1:-1)*S.srgR.v.val/100;
for(var t=0;t<N;t++)cY[t]*=hr;if(q)console.log("scaling",Date.now()-X);var it=S.uglg&&S.uglg.v?K.Hk():S.lagl.v.val;
it=it*(Math.PI/180);var f8=S.uglg&&S.uglg.v?K.Cj():S.Lald.v.val;f8=f8*(Math.PI/180);var i$=Math.cos(it)*Math.cos(f8),gS=-Math.sin(it)*Math.cos(f8),hT=Math.sin(f8),gL=new Float64Array(N),iu=new Float64Array(N),dB=B=="PlEb";
for(var jt=0;jt<o;jt++)for(var ka=0;ka<O;ka++){var t=jt*O+ka,eQ=0,dv=0,cT=1;if(jt!=0&&jt!=o-1&&ka!=0&&ka!=O-1){var eY=cY[t-O-1],gl=cY[t-O+1],dY=cY[t+O-1],gE=cY[t+O+1];
eQ=-.125*(gl+2*cY[t+1]+gE-(eY+2*cY[t-1]+dY));dv=-.125*(dY+2*cY[t+O]+gE-(eY+2*cY[t-O]+gl))}else{var cs=cY[t];
dv=-(jt==0?cY[t+O]-cs:jt==o-1?cs-cY[t-O]:.5*(cY[t+O]-cY[t-O]));eQ=-(ka==0?cY[t+1]-cs:ka==O-1?cs-cY[t-1]:.5*(cY[t+1]-cY[t-1]))}var au=1/Math.sqrt(eQ*eQ+dv*dv+1);
eQ*=au;dv*=au;cT*=au;var b8=eQ*i$+dv*gS+cT*hT,jw=b8;if(dB)jw=-eQ*i$-dv*gS+cT*hT;if(b8>0)gL[t]=b8;if(jw>0)iu[t]=jw}if(q)console.log("raycasting",Date.now()-X);
if(S.Sftn.v.val!=0){k.$A.jl(gL,kv,G,S.Sftn.v.val*.43);var ek=kv,kv=gL,gL=ek;if(dB){k.$A.jl(iu,kv,G,S.Sftn.v.val*.43);
var ek=kv,kv=iu,iu=ek}else k.pv(gL,iu)}if(q)console.log("softening",Date.now()-X);var bL=k.qt.J6(S.TrnS.v.Crv.v,1024);
for(var t=0;t<N;t++){gL[t]=bL[~~(gL[t]*1024)];iu[t]=bL[~~(iu[t]*1024)]}if(q)console.log("contour remap",Date.now()-X);
O=Math.round(O);o=Math.round(o);var cj=k.Q(O*o*4);eN.e7(cj,S.hglC.v);var jJ=k.Q(O*o*4);eN.e7(jJ,S.sdwC.v);
var hp=k.Q(O*o*4);eN.e7(hp,S.hglC.v);var dW=k.Q(O*o*4);eN.e7(dW,S.sdwC.v);var h4=1/hT,er=1/(1-hT),cK=1/L,hG=new Float64Array(1e3);
for(var t=0;t<1e3;t++)hG[t]=Math.pow(t*.001,.2);for(var jt=0;jt<o;jt++)for(var ka=0;ka<O;ka++){var t=jt*O+ka,i_=4*t+3,aK=0,bG=0;
aK=gL[t];bG=iu[t];var dx=Math.max(0,Math.min(.9999,(j3[t]+L*.993)*cK));dx=hG[Math.floor(dx*1e3)];var aH=dx*(1-Math.min(1,aK*h4)),cU=dx*(1-Math.min(1,(1-aK)*er)),kr=dx*(1-Math.min(1,bG*h4)),cL=dx*(1-Math.min(1,(1-bG)*er));
jJ[i_]=Math.round(255*aH);cj[i_]=Math.round(255*cU);dW[i_]=Math.round(255*kr);hp[i_]=Math.round(255*cL)}if(q)console.log("baking textures",Date.now()-X);
G=p.rect().clone();G.ol(A,A);G.offset(C,T);n={a8e:S.bvlS.v.BESl=="strokeEmboss"};var aj=ca.Mp(S.hglM.v.BlnM),js=S.hglO.v.val/100,ey=ca.Mp(S.sdwM.v.BlnM),dr=S.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(B)!=-1){n.C5={Yz:cj,G_:G,eV:aj,QP:js};n.Bf={Yz:jJ,G_:G,eV:ey,QP:dr}}if(["OtrB","Embs","PlEb"].indexOf(B)!=-1){n.sb={Yz:hp,G_:G,eV:aj,QP:js};
n.yw={Yz:dW,G_:G,eV:ey,QP:dr}}if(q)console.log(Date.now()-X)}else if(U=="patternFill"){var df=p.rect(),I=k.Q(df.O()*4);
eN.C7(S,I,df,K.add.Patt,$);var V=df.clone();V.offset(C,T);n={Yz:I,G_:V}}else if(U=="ChFX"){var I=k.Q(p.MB().length*4);
eN.e7(I,S.Clr.v);var m=S.blur.v.val,af=p.rect().clone();af.ol(m,m);var cB=k.Q(af.O()),iq=k.Q(af.O());
k.Zc(p.MB(),p.rect(),iq,af);k.$A.WJ(iq,cB,af,m*.43);var cV=k.qt.uC(S.MpgS.v.Crv.v,256,!0);k.JX(cB,cV);
var gf=k.Q(p.MB().length),ge=k.Q(p.MB().length),da=p.rect().clone();eN.bY(da,S,K,0);k.Zc(cB,af,gf,da);
da=p.rect().clone();eN.bY(da,S,K,Math.PI);k.Zc(cB,af,ge,da);var aO=gf.length;for(var t=0;t<aO;t++)I[4*t+3]=Math.abs(gf[t]-ge[t]);
if(S.Invr.v)for(var t=0;t<aO;t++)I[4*t+3]=255-I[4*t+3];var V=p.rect().clone();V.offset(C,T);n={Yz:I,G_:V}}else if(U=="OrGl"){var Z;
if(S.GlwT.v.BETE=="SfBL")Z=p.wM(z,m-z,!0);else Z=p.afx(m,Q,!0);var P=Z.MB,V=Z.gZ,eb=P.slice(0);eN.asR(P,S);
var I=k.Q(V.O()*4);if(S.Grad==null){eN.e7(I,S.Clr.v);eN.mm(P,S,!1)}else{eN.mm(P,S,null);var ag={pg:P,eY:255,xl:0,t9:V};
eN.Yl(S,I,V,K,ag);var dX=S.Nose.v.val/100,gP=V.e;for(var t=0;t<eb.length;t++){var cm=255,gO=eb[t];if(gO<32){var bO=(gO+eb[t-1]+eb[t+1]+eb[t-gP]+eb[t+gP])*.2-1;
cm=Math.min(255,Math.round(Math.max(0,bO)*8))}P[t]=cm}eN.atl(P,S)}k.k1(P,I,3);V.offset(C,T);n={Yz:I,G_:V}}else if(U=="IrGl"){var Z;
if(S.GlwT.v.BETE=="SfBL")Z=p.wM(z,m-z,!1);else Z=p.afx(m,Q,!1);var P=Z.MB,V=Z.gZ;eN.asR(P,S);if(S.glwS.v.IGSr=="SrcC")k.Sp(P);
var I=k.Q(V.O()*4);if(S.Grad==null){eN.e7(I,S.Clr.v);eN.mm(P,S,!0)}else{eN.mm(P,S,null);var ag={pg:P,eY:255,xl:0,t9:V};
eN.Yl(S,I,V,K,ag);P.fill(255);eN.atl(P,S)}k.k1(P,I,3);V.offset(C,T);n={Yz:I,G_:V}}else if(U=="FrFX"){var gb=eN.SS(S),dk=gb[0],cw=gb[1],V=p.rect().clone(),gN=null,ci=null;
V.ol(Math.ceil(u),Math.ceil(u));if(cw>0){var Z=p.wM(cw,0,!0);ci=Z.MB;if(ci.length<V.O()){ci=k.Q(V.O());
k.Zc(Z.MB,Z.gZ,ci,V)}}if(dk>0){var Z=p.wM(dk,0,!1);gN=k.Q(V.O());gN.fill(255);k.Zc(Z.MB,Z.gZ,gN,V)}V.offset(C,T);
var I=k.Q(V.O()*4),jq=S.PntT.v.FrFl;if(jq=="SClr")eN.e7(I,S.Clr.v);if(jq=="GrFl")eN.Yl(S,I,V,K,p.ac_(dk,cw));
if(jq=="Ptrn")eN.C7(S,I,V,K.add.Patt,$);n={Yz:I,G_:V,hd:ci,oJ:gN}}E.type[U].push(n);if(U=="ebbl"){if(n.C5)E.all.push(n.C5,n.Bf);
if(n.sb)E.all.push(n.sb,n.yw)}else{n.eV=ca.Mp(S.Md.v.BlnM);n.QP=S.Opct.v.val/100,E.all.push(n)}}}return E};
eN.xy=function(i){var $=1/Math.sqrt(i.x*i.x+i.y*i.y+i.g8*i.g8);i.x*=$;i.y*=$;i.g8*=$};eN.ae1=function(i,$){return{x:i.y*$.g8-i.g8*$.y,y:i.g8*$.x-i.x*$.g8,g8:i.x*$.y-i.y*$.x}};
eN.a9U=function(i,$){return i.x*$.x+i.y*$.y+i.g8*$.g8};eN.atl=function(i,$){var h=$.Nose.v.val/100;if(h>0)for(var t=0;
t<i.length;t++){var d=i[t];d=Math.min(510-(1+h)*k.style.Ks(t),d);i[t]=d}};eN.Cz=function(i){var $=eN.Dt(),h=i.$z,d=!1;
for(var t=0;t<32;t+=8)if(h[t]+h[t+1]+h[t+4]+h[t+5]!=0||h[t+2]+h[t+3]+h[t+6]+h[t+7]!=1020)d=!0;if(d){h=h.slice(0);
for(var t=0;t<40;t+=4){var K=h[t]/255,f=h[t+1]/255,l=h[t+2]/255,u=h[t+3]/255;h[t]=K-.001;h[t+1]=K==f?1e6:1/(f-K);
h[t+2]=l==u?-1e6:1/(l-u);h[t+3]=u+.001}}var U=i.add.iOpa!=null?i.add.iOpa/255:$.fill,y=i.add.vstk;if(y&&!y.fillEnabled.v&&(!y.strokeEnabled.v||y.strokeStyleLineWidth.v.val==0))U=0;
return{fill:U,vQ:d?h:null,eU:i.add.brst!=null?i.add.brst:$.eU,aoe:i.add.knko!=null?i.add.knko:$.aoe,style:!1,I7:!1}};
eN.Dt=function(){return{fill:1,vQ:null,eU:[1,1,1],aoe:0,style:!1,I7:!1}};eN.afG=function(i,$,h,d,K,f,l,u){if(u==null)u=1;
if(l==null)l=new ej;var U=i.Jz[1].e,y=i.Jz[1].n,a=new ej,v=K<2;if(v)a.translate(-U/2,-y/2);if(K==0){u*=Math.max(h/U,d/y)}else if(K==1){u*=Math.min(h/U,d/y)}else if(K==2){a.scale(1/U,1/y);
a.concat(l);a.scale(h,d)}else if(K==3){u=u}a.scale(u,u);if(v)a.translate(h/2,d/2);a.concat(f);$.Ptrn.v.Idnt.v=i.id;
$.Scl.v.val=Math.round(100*a.Qa());$.Angl.v.val=Math.round(180*Math.atan2(-a.Z,a.Pi)/Math.PI);$.Algn.v=!0;
var c=$.phase.v;c.Hrzn.v=Math.round(a.wQ);c.Vrtc.v=Math.round(a.FQ)};eN.Y1=function(i,$){if($==null)return null;
var h=i.Idnt.v,d=i.Nm.v;for(var t=0;t<$.length;t++)if($[t].id==h)return $[t];for(var t=0;t<$.length;
t++)if($[t].name==d)return $[t];return null};eN.atJ=function(i,$,h){var d=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var t=0;t<d.length;t++){var K=i.v[d[t]].v;for(var f=0;f<K.length;f++)if(K[f].v.Ptrn)$.pk(eN.Y1(K[f].v.Ptrn.v,h))}};
eN.afY=function(i,$,h){var d=["patternFillMulti","ebblMulti","frameFXMulti"];for(var t=0;t<d.length;
t++){var K=i.v[d[t]].v;for(var f=0;f<K.length;f++)if(K[f].v.Ptrn){var l=K[f].v.Ptrn.v,u=eN.Y1(l,h),U=eN.Y1(l,$.add.Patt);
if(u==null&&U)h.push(U)}}};eN.C7=function(i,$,h,d,K){var f=eN.Y1(i.Ptrn.v,d);if(f!=null&&!h.NT()){var l=f.Jz,u=l[0],U=l[1],y=0;
k.SL(l);var a=(i.Scl?i.Scl.v.val:100)/100;while((a<.3||a==.5)&&l[y+2]){a*=U.e/l[y+3].e;y+=2;u=l[y];U=l[y+1]}var v=k.scale.C7(u,U.e,U.n),c=i.phase?i.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},p=i.Angl?i.Angl.v.val:0,C=-h.x+c.Hrzn.v-1,T=-h.y+c.Vrtc.v-1;
if(i.Algn!=null&&!i.Algn.v){}else{C+=K.x;T+=K.y}k.scale.Vo(v,$,h.e,h.n,a,a,C+1,T+1,p*Math.PI/180)}};
eN.Yl=function(i,$,h,d,K,f){if(f==null)f=h;var l=i.Type?i.Type.v.GrdT:"shapeburst",u=i.Algn&&i.Algn.v?f:new bN(0,0,d.e,d.n),U=i.Angl?k.M.gk(i,u):[new cq(0,0),new cq(100,0)],y=U[0].x,a=U[0].y,v=U[1].x-y,c=U[1].y-a,p=Math.sqrt(v*v+c*c);
p=1/(2*p*p);var C=[v*p,c*p,-c*p,v*p],T=i.Rvrs?i.Rvrs.v:!1,E=i.Dthr?i.Dthr.v:!1;k.M.f2(i.Grad.v,$,h,C,y,a,T,et.M.types.indexOf(l),0,0,K,E)};
eN.avc=function(i,$,h){for(var t=0;t<i.all.length;t++){var d=i.all[t];d.UP=d.G_.clone();d.UP.offset($,h)}};
eN.avz=function(i,$,h,d,K,f){var l=i8.ph?eN.apY:eN.ap6;eN.avc($,h.x,h.y);var u=$.type.DrSh;for(var t=0;
t<u.length;t++)if(!u[t].ap$)l(u[t],d,K,f)};eN.a3p=function(i,$,h,d,K,f,l,u,U,y){var a=h,v=i8.ph?eN.apY:eN.ap6,c=i8.ph?i8.l.l2:k.l.Zv,p;
p=$.type.DrSh;for(var t=0;t<p.length;t++)if(p[t].ap$)v(p[t],d,K,f);p=$.type.OrGl;for(var t=0;t<p.length;
t++)v(p[t],d,K,f);var C="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var T=0;T<C.length;T++){var p=$.type[C[T]];
for(var t=0;t<p.length;t++)v(p[t],l,a,f)}var E=$.type.ebbl[0],r=E!=null&&E.a8e;p=$.type.FrFX;for(var t=0;
t<p.length;t++){var Y=p[t];cI.LX.Zc(u,y,U,y,f);v(Y,U,y,f);if(r&&t==p.length-1){if(E.yw)v(E.yw,U,y,f);
if(E.sb)v(E.sb,U,y,f);if(E.Bf)v(E.Bf,U,y,f);if(E.C5)v(E.C5,U,y,f)}if(Y.oJ||Y.Ud)c(U,y,l,a,i8.ph?Y.Ud:Y.oJ,Y.UP,0,f,1);
if(Y.hd||Y.av)c(U,y,d,K,i8.ph?Y.av:Y.hd,Y.UP,0,f,1)}if(!r&&E!=null){if(E.yw)v(E.yw,d,K,f);if(E.sb)v(E.sb,d,K,f);
if(E.Bf)v(E.Bf,l,a,f);if(E.C5)v(E.C5,l,a,f)}};eN.ap6=function(i,$,h,d){var K=eN.Dt();K.fill=i.QP;K.style=!0;
k.l.NU(i.eV,i.Yz,i.UP,$,h,d,1,K)};eN.apY=function(i,$,h,d){var K=eN.Dt();K.fill=i.QP;K.style=!0;i8.l.$y(i.eV,i.p_,i.UP,$,h,d,1,K)};
eN.asR=function(i,$){var h=1-$.Inpr.v.val/100,d=1+Math.tan(h*(Math.PI/2)),K=i.length;for(var t=0;t<K;
t++)i[t]=Math.min(255,Math.round(i[t]*d))};eN.mm=function(i,$,h,d){var K=$.blur.v.val,f=Math.round(K*($.Ckmt.v.val/100));
if(K>f){var l=k.qt.uC($.TrnS.v.Crv.v,256,d!=!0);k.JX(i,l)}if(h!=null&&$.Nose.v.val>0)k.style.VW(i,$.Nose.v.val/100,h)};
eN.e7=function(i,$,h){if(h==null)h=255;var d=k.M.zk($),K=h<<24|d.Z<<16|d.P<<8|d.o,f=new Uint32Array(i.buffer);
f.fill(K)};eN.bY=function(i,$,h,d){var K=$.uglg&&$.uglg.v?h.Hk():$.lagl.v.val;K=K*Math.PI/180+d;var f=Math.cos(K)*$.Dstn.v.val,l=Math.sin(K)*$.Dstn.v.val;
i.x-=Math.round(f);i.y+=Math.round(l)};eN.No=function(i){if(i==null)return null;var $=i.frameFXMulti.v;
if($.length==0)return null;$=$[0].v;var h=JSON.parse(JSON.stringify(et._T.default));eN.aft($,h);return h};
eN.aft=function(i,$){var h=et.stroke.$Q.indexOf(i.PntT.v.FrFl),d=[et.sF,et.ce,et.V1][h],K=$.strokeStyleContent.v={classID:et._T.u$[h]};
for(var t=0;t<d.length;t++)K[d[t]]=i[d[t]];$.strokeEnabled=i.enab;$.strokeStyleLineWidth=i.Sz;$.strokeStyleLineAlignment.v.strokeStyleLineAlignment=et._T.QY[et.stroke.types.indexOf(i.Styl.v.FStl)];
$.strokeStyleOpacity=i.Opct;$.strokeStyleBlendMode=i.Md;$.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
eN.bq=function(i,$){var h=[];for(var t=0;t<i.length;t++)h.push({t:"UntF",v:{type:"#Nne",val:Math.round(i[t]*$)}});
return h};eN.iY=function(i,$,h,d){this.qN=$.clone();this.ald=$.clone();this.ald.ol(h,h);if(d){this.qN.ol(1,1);
this.Y8=k.Q(this.qN.O());k.Zc(i,$,this.Y8,this.qN)}else this.Y8=i;this.Xn=null;this.W$=null;this.X$=null};
eN.iY.prototype.MB=function(){return this.Y8};eN.iY.prototype.rect=function(){return this.qN};eN.iY.prototype.Nm=function(){return this.ald};
eN.iY.prototype.kP=function(){if(this.Xn)return this.Xn;this.Xn=this.MB().slice(0);k.Sp(this.Xn);return this.Xn};
eN.iY.prototype.cp=function(){if(this.W$)return this.W$;this.W$=new Float64Array(this.rect().O());k.style.bV(this.kP(),this.W$,this.rect().e,this.rect().n);
return this.W$};eN.iY.prototype.x2=function(){if(this.X$)return this.X$;var i=this.Nm(),$=k.Q(i.O());
k.Zc(this.MB(),this.rect(),$,i);this.X$=new Float64Array(i.O());k.style.bV($,this.X$,i.e,i.n);return this.X$};
eN.iY.prototype.ac_=function(i,$){var h={eY:-$,xl:i,t9:null,pg:null};if($==0){h.t9=this.rect();h.pg=this.cp();
return h}var d=this.x2().slice(0),K=this.Nm();h.t9=K;h.pg=d;for(var t=0;t<d.length;t++)d[t]=-d[t];if(i==0)return h;
var f=this.cp(),l=this.rect();for(var u=0;u<l.n;u++)for(var U=0;U<l.e;U++){var y=u*l.e+U,a=(u+l.y-K.y)*K.e+U+l.x-K.x;
d[a]+=f[y]}return h};eN.iY.prototype.wM=function(i,$,h){var d=Math.ceil(i+$),K={gZ:this.rect().clone(),MB:null};
K.gZ.ol(d,d);K.MB=k.Q(K.gZ.O());if(i==0&&$==0)k.pv(h?this.MB():this.kP(),K.MB);else{var f=k.Q(K.gZ.O());
k.Zc(this.MB(),this.rect(),f,K.gZ);if(!h)k.Sp(f);if(i!=0){if(h)k.style.c2(f,K.gZ,this.x2(),this.Nm(),i);
else k.style.c2(f,K.gZ,this.cp(),this.rect(),i)}if($!=0)k.$A.WJ(f,K.MB,K.gZ,Math.max(1,$*.43));else K.MB=f}return K};
eN.iY.prototype.afx=function(i,$,h){var d=i*($-.5),K={gZ:this.rect().clone(),MB:null};if(h)K.gZ.ol(i,i);
K.MB=k.Q(K.gZ.O());var f=K.gZ.e,l=K.gZ.n,u=h?this.x2():this.cp(),U=h?this.Nm():this.rect(),y=K.gZ,a=y.Js(U),f=a.e,l=a.n,v=a.x-y.x,c=a.y-y.y,p=a.x-U.x,C=a.y-U.y,T=1-$*2;
for(var E=0;E<l;E++)for(var r=0;r<f;r++){var Y=u[(E+C)*U.e+r+p],S=Y/i;K.MB[(E+c)*y.e+r+v]=Math.max(0,Math.min(255,255-255*((S+T)/(1+T))))}return K};
eN.aqe=function(i,$,h,d){var K=i.Lefx,f=i.blendOptions;if(K){var l=$.add.lmfx;if(h==null)h=l?l.Scl.v.val:100;
$.add.lmfx=JSON.parse(JSON.stringify(K.v));if($.add.lmfx.Scl==null)$.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
eN.BQ($.add.lmfx,h/$.add.lmfx.Scl.v.val);if(l)$.add.lmfx.Scl.v.val=l.Scl.v.val;var u=K.v.gagl;if(u&&d)d.gO(u.v.val)}else delete $.add.lmfx;
if(f){f=f.v;if(f.Md)$.R$=ca.Mp(f.Md.v.BlnM);if(f.Opct)$.opacity=Math.round(f.Opct.v.val*255/100);if(f.fillOpacity)$.add.iOpa=Math.round(f.fillOpacity.v.val*255/100);
if(f.Blnd){var U=[];for(var t=0;t<10;t++)U.push(0,0,255,255);var y=f.Blnd.v,a="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var t=0;t<y.length;t++){var v=y[t].v,c=8*["Gry","Rd","Grn","Bl"].indexOf(v.Chnl.v[0].v.enum);for(var p=0;
p<8;p++){U[c+p]=v[a[p]].v}}$.$z=U}}};eN.a0P=function(i){var $="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),h=[],d=i.$z;
for(var t=0;t<4;t++){var K=t*8;if(d[K]+d[K+1]+d[K+4]+d[K+5]==0&&d[K+2]+d[K+3]+d[K+6]+d[K+7]==4*255)continue;
var f={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][t]}}]}}};
h.push(f);for(var l=0;l<8;l++)f.v[$[l]]={t:"long",v:d[t*8+l]}}var u={classID:"blendOptions"};if(i.R$!="norm")u.Md={t:"enum",v:{BlnM:ca.ml(i.R$)}};
if(i.opacity!=255)u.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(i.opacity*100/255)}};if(i.add.iOpa!=null)u.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(i.add.iOpa*100/255)}};
if(h.length!=0)u.Blnd={t:"VlLs",v:h};var U={lp:{classID:"null",Idnt:{t:"TEXT",v:hR.Mf()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},z3:{classID:"Styl",blendOptions:{t:"Objc",v:u}}},y=i.add.lmfx;
if(y)U.z3.Lefx={t:"Objc",v:y};return U};function bk(){}bk.Rj=function(i){return JSON.parse(JSON.stringify(i))};
bk.rw=function(i){var $=bk.Rj(bk.a0S),h=$.Brsh.v;if(i!=null){delete h.Hrdn;h.classID="sampledBrush";
h.Nm={t:"TEXT",v:"layer.png"},h.sampledData={t:"TEXT",v:i}}return $};bk.a0S={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bk.xy={};bk.xy.check=function(i){var $=bk.xy.mB;for(var t=0;t<$.length;t++)if(i[$[t]]==null)i[$[t]]=JSON.parse(bk.xy.jw[$[t]]);
var h=[];for(var t=0;t<$.length;t++)h.push($[t]);var d=bk.xy.auq;for(var t=0;t<d.length;t++){var K=d[t][0],f=d[t][1],l=!0;
for(var u=0;u<K.length;u++)l=l&&i[K[u]].v==!0;if(l)for(var u=0;u<f.length;u++){if(i[f[u]]==null)console.log("Missing conditional parameter "+f[u]);
else h.push(f[u])}}for(var U in i)if(h.indexOf(U)==-1)console.log("Extra parameter "+U);i=i.Brsh.v;$=bk.xy.U$.mB;
for(var t=0;t<$.length;t++)if(i[$[t]]==null)i[$[t]]=JSON.parse(bk.xy.U$.jw[$[t]]);h=[];for(var t=0;t<$.length;
t++)if(i[$[t]])h.push($[t]);else console.log("Missing default parameter "+$[t]);d=bk.xy.U$.ab8[i.classID];
for(var t=0;t<d.length;t++)if(i[d[t]]==null&&d[t]!="dtipsGridSize"&&d[t]!="dtipsErodibleTipHeightMap"&&i.aix!=1)console.log("Missing conditional parameter "+d[t]);
else h.push(d[t]);for(var U in i)if(h.indexOf(U)==-1)console.log("Extra parameter "+U)};bk.xy.auT=function(i){var $=bk.xy.auq;
for(var t=0;t<$.length;t++){var h=$[t][0],d=$[t][1],K=!0;for(var f=0;f<h.length;f++)K=K&&i[h[f]]&&i[h[f]].v==!0;
if(K){for(var f=0;f<d.length;f++)if(i[d[f]]==null){i[d[f]]=JSON.parse(bk.xy.jw[d[f]])}}else for(var f=0;
f<d.length;f++)if(i[d[f]]!=null){delete i[d[f]]}}};bk.xy.U$={};bk.xy.U$.mB="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bk.xy.U$.jw={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bk.xy.U$.ab8={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bk.xy.auq=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bk.xy.mB="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bk.xy.jw={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\": 1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function jQ(i,$){this.awD=i;this.rS=$==null?0:$;this.dir=0}jQ.prototype.w_=function(i,$){var h=this.awD,d=new cq(i.x-h.x,i.y-h.y),K=new ej;
K.rotate(-this.rS);d=K.hb(d);if(this.dir==0&&!h.Rl(i))this.dir=Math.abs(d.x)<Math.abs(d.y)?1:2;if($.j(ai.EW)){if(this.dir==1)d.x=0;
if(this.dir==2)d.y=0}K.Sp();d=K.hb(d);var f=new cq(h.x+d.x,h.y+d.y);return f};jQ.prototype.aao=function(i){if(i.j(ai.EW))return this.dir;
return 0};var dH=function(){function i(){this.a8S={}}i.ah_=function($,h){var d=$.clone();d.wQ-=Math.floor(d.wQ);
d.FQ-=Math.floor(d.FQ);var K=new cq(h,0),f=new cq(0,h),l=d.hb(K),u=d.hb(f),U=new cq(d.wQ,d.FQ);return[l,u,U]};
i.a17=function($,h){var d=cq.ED;return d($[0],h[0])+d($[1],h[1])+d($[2],h[2]);return dsum};i.prototype.a39=function($){var h=this.a8S,d=h[$];
if(d==null)d=h[$]={Lx:[],_5:0,O:0,aml:0,axh:0};d._5=Date.now();while(Object.keys(h).length>3){var K="",f=Date.now();
for(var l in h){var u=h[l]._5;if(u<f){f=u;K=l}}delete h[K]}return d};i.prototype.arS=function($,h){var d=$.Lx,K,f=1e6;
for(var t=0;t<d.length;t++){var l=d[t],u=i.a17(l.Dc,h);if(u<f){K=l;f=u}}return K};i.prototype.a25=function($,h){var d=$.Lx;
d.push(h);$.O+=h.rect.O();if(d.length>1e3||$.O>100*100*1600){console.log("pruning",$.O,d.length);d.sort(function(f,l){return l._5-f._5});
while(d.length>500||$.O>100*100*800){var K=d.pop();$.O-=K.rect.O()}}};return i}();function kn(i,$,h,d,K,f,l,u,U){this.pd=$;
this.ut=h;this.n9=f;this.ZP=d;this.Vp=null;this.hG=null;this.Hz=0;this.an2=0;this.aoN=0;this.DL=0;this.wj=U==null?Math.floor(Math.random()*16777215):U;
this.UK=U==null?Math.floor(Math.random()*16777215):U;this.kp=new bN;this.GM=new bN;if(u!=null){this.Yz=u}else{var y=kn.arB;
if(y.length!=l.O()*4)y=k.Q(l.O()*4);else y.fill(0);this.Yz=kn.arB=y}this.rect=l.clone();this.Gp=[];this.vz=[];
this.q4=null;this.Mz=0;this.Z=null;this.agh="";this.Hl=null;this.aox(i,K)}kn.arB=k.Q(16);kn.prototype.aox=function(i,$){this.Mz=$;
this.Z=i;this.agh=JSON.stringify(i)+JSON.stringify(this.ZP.JU);this.Hl=kn.a0y(this.Z,this.pd,this.ut)};
kn.prototype.moveTo=function(i,$,h){h=this.anR(h);this.Hz=h;var d=new cq(i,$),K=this.Z.Brsh.v.Dmtr.v.val;
this.Vp=d.clone();this.hG=d.clone();this.q4=d.clone();this.Gp=[i,$];this.vz=[h];if(this.ZP.KY!=kn.T_){var f=this.Z.angleDynamics,l=f?f.v.bVTy.v==6:!1;
this.Ix(l?new bN:this.abx(d,this.aeV(h),h,new cq(0,0)))}this.DL=d.clone()};kn.prototype.lineTo=function(i,$,h){h=this.anR(h);
var d=this.Gp,K=d.length,f=d[K-2],l=d[K-1];if(i==f&&$==l)return;var u=this.Z.Brsh.v.Dmtr.v.val,U=Math.ceil(u)+1,y=new bN(Math.round(f),Math.round(l),0,0);
y.ol(U,U);var a=new bN(Math.round(i),Math.round($),0,0);a.ol(U,U);this.Gp.push(i,$);this.vz.push(h);
K+=2;if(K>=6)this.Ix(this.aqN(K))};kn.prototype.anR=function(i){if(i==null)i=1;i=Math.max(.05,Math.min(5,i));
if(isNaN(i)){alert("Pressure is not a number");throw"e"}return i};kn.prototype.Ix=function(i){this.kp=i;
this.GM=this.GM.rt(i)};kn.prototype.finish=function(){var i=this.Gp,$=i.length,h;if($==4)h=this.a5A(i[$-2],i[$-1],this.vz[($>>1)-1],!0);
if($>4)h=this.aqN($+2);if(h)this.Ix(h)};kn.prototype.bL=function(){return this.rect.clone()};kn.prototype.UH=function(){return this.kp.Js(this.rect)};
kn.prototype.Je=function(){return this.GM.Js(this.rect)};kn.prototype.T9=function(){return this.Yz};
kn.prototype.aqN=function(i){var $=this.Gp,h=this.vz,d=$[i-6],K=$[i-5],f=$[i-4],l=$[i-3],u=h[(i>>1)-3],U=h[(i>>1)-2],y=new cq(0,0),a=new cq(0,0);
if(8<=i)y=kn.a36($[i-8],$[i-7],d,K,f,l);if(i<=$.length)a=kn.a36($[i-2],$[i-1],f,l,d,K);var v=d+y.x,c=K+y.y,p=f+a.x,C=l+a.y,T=new bN;
for(var t=0;t<10;t++){var E=(t+1)*.1,r=1-E,Y=r*r*r*d+3*E*r*r*v+3*E*E*r*p+E*E*E*f,S=r*r*r*K+3*E*r*r*c+3*E*E*r*C+E*E*E*l,m=this.a5A(Y,S,u+E*(U-u));
T=T.rt(m)}return T};kn.a36=function(i,$,h,d,K,f){var l=i-h,u=$-d,U=K-h,y=f-d,a=Math.sqrt(l*l+u*u),v=Math.sqrt(U*U+y*y),c=Math.acos((l*U+u*y)/(a*v))/Math.PI,p=.35,C=.1;
c=C+c*(p-C);var T=K-i,E=f-$,r=Math.sqrt(T*T+E*E),Y=c*v/r;return new cq(T*Y,E*Y)};kn.prototype.a5A=function(i,$,h,d){var K=new bN,f=this.ZP.abz;
if(f==null)f=0;if(f==0||d){K=this.avr(i,$,h);return K}var l=this.q4,u=i-l.x,U=$-l.y,y=Math.sqrt(u*u+U*U);
u/=y;U/=y;if(y>f){var a=l.x+u*(y-f),v=l.y+U*(y-f);K=this.avr(a,v,h);this.q4.WI(a,v)}return K};kn.prototype.avr=function(i,$,h){var d=new bN,K=new cq(i,$),f=this.Z.Brsh.v.Dmtr.v.val,l=this.ZP.KY,u=K.JI(this.hG);
u.normalize(1);var U=cq.ED(this.hG,K),y=-this.an2,a=this.hG.clone();while(!0){var v=this.Hz+(h-this.Hz)*(Math.max(0,y)/U),c=this.aeV(v),p=this.a3w()*(c+this.aoN)/2*this.Hl.aq7;
if(l==kn.T_)p=1;if(y+p<U){y+=p;var C=new cq(this.hG.x+u.x*y,this.hG.y+u.y*y),r=1;if(l==kn.T_){var T=a.clone();
T.x+=u.x>0?1:-1;var E=a.clone();E.y+=u.y>0?1:-1;if(cq.ED(T,C)<cq.ED(E,C))C=T;else C=E;y=cq.ED(C,this.hG)}if(this.Z.useScatter.v==!0){r=this.Z.Cnt.v;
var Y=this.Z.countDynamics.v.jitter.v.val/100,S=Y*(-1+2*this.cB());r+=Math.round(r*S)}for(var t=0;t<r;
t++){var m=this.abx(C,c,h,u);d=d.rt(m)}a=C}else break}this.an2=U-y;this.hG=K;this.Hz=h;return d};kn.prototype.a3w=function(){var i=this.Z.Brsh.v,$=i.Spcn.v.val,h=Math.max(5,i.Rndn.v.val);
return h/100*($/100)};kn.prototype.aeV=function(i){var $=this.Z,h=$.Brsh.v.Dmtr.v.val;if($.useTipDynamics.v){var d=h*($.minimumDiameter.v.val/100);
h=d+(h-d)*(1-this.cB(this.UK)*($.szVr.v.jitter.v.val/100));if($.szVr.v.bVTy.v==2)h*=i}return h};kn.prototype.abx=function(i,$,h,d){var K=this.ZP.kJ;
K=Math.min(1,K);var f=this.Z,l=this.Z.Brsh.v,u=l.Dmtr.v.val,U=this.ZP,y=U.KY,a=U.acY,v=this.Hl.Jz[1],c=new ej;
c.translate(-v.e/2,-v.n/2);c.scale(1/this.Hl.atw,1/this.Hl.atw);c.scale($/u,$/u);c.scale(1,Math.max(5,l.Rndn.v.val)/100);
if(f.usePaintDynamics&&f.usePaintDynamics.v){var p=f.opVr.v.jitter.v.val/100,C=f.prVr.v.jitter.v.val/100;
K*=1-this.cB()*p;K*=1-this.cB()*C;if(f.opVr.v.bVTy.v==2)K*=h;if(f.prVr.v.bVTy.v==2)K*=h}if(f.useTipDynamics.v){var T=f.angleDynamics.v,E=f.minimumRoundness.v.val/100;
c.scale(1,E+(1-E)*Math.round(100-this.cB()*f.roundnessDynamics.v.jitter.v.val)/100);c.rotate((-.5+this.cB())*4*Math.PI*(T.jitter.v.val/100));
if(T.bVTy.v==6)c.rotate(Math.atan2(-d.y,d.x))}c.rotate(l.Angl.v.val*(Math.PI/180));if(f.useScatter.v){var r=(-1+2*this.cB())*f.scatterDynamics.v.jitter.v.val/100;
c.translate(-r*$*d.y,r*$*d.x)}c.translate(i.x,i.y);var Y=this.akq(c,i,$),S=Y.rect.clone();if(y==null){var m=this.oc(f);
k.MK(Y.QM,Math.round(m.Z*255)<<16|Math.round(m.P*255)<<8|Math.round(m.o*255)<<0,4278190080);if(this.GM.NT()&&this.rect.Rl(Y.rect)&&K==1)this.Yz=Y.QM.slice(0);
else{var Q=-1,z=2,n=-1,Z=2;if(!U.dV){Q=n=0;z=Z=1}for(var P=n;P<Z;P++)for(var V=Q;V<z;V++){var I=Y.rect.clone();
I.x+=V*this.rect.e;I.y+=P*this.rect.n;if(I.CF(this.rect)){S=S.rt(I);k.l.afI(Y.QM,I,this.Yz,this.rect,I,K)}}}}if(y==kn.T_){var q=new cq(Y.rect.x+Y.rect.e/2,Y.rect.y+Y.rect.n/2),X=Math.round(q.x-this.DL.x),B=Math.round(q.y-this.DL.y),e=Y.rect.clone();
e.offset(-X,-B);var F=e.Js(this.rect);F.offset(X,B);k.mC(this.Yz,this.rect,Y.QM,e);k.l.Z5(Y.QM,Y.rect,this.Yz,this.rect,Y.oq,Y.rect,K)}if(y==kn.pj||y==kn.yH||y==kn.DH){var s=Y.rect.Js(this.rect),J;
if(s.Rl(Y.rect))J=Y.oq;else{J=k.Q(s.O());k.Zc(Y.oq,Y.rect,J,s)}var W=k.Q(s.O()*4);k.mC(this.Yz,this.rect,W,s);
if(y==kn.yH){var L=W.slice(0),A=k.KN.t_([-1,-1,-1,-1,25,-1,-1,-1,-1]);k.KN.mj(W,L,s.e,s.n,A,0);k.pv(L,W)}else if(y==kn.DH){var j=d1.U9("UnsM");
j.Amnt.v.val=15;j.Thsh.v=0;j.Rds.v.val=5;var L=k.Q(W.length);d1.kG("UnsM",{buffer:W,rect:s},j,0,0,{buffer:L,rect:s});
k.pv(L,W)}else{d1.Kz(1,k.$A.Pk,W,s)}k.l.Z5(W,s,this.Yz,this.rect,J,s,K)}this.aoN=$;this.DL=q;this.UK++;
return S};kn.prototype.oc=function(i){var $=kn.amy(this.Mz);if(i.useColorDynamics&&i.useColorDynamics.v){var h=1-this.cB()*i.clVr.v.jitter.v.val/100,d=kn.amy(this.n9);
$.o=h*$.o+(1-h)*d.o;$.P=h*$.P+(1-h)*d.P;$.Z=h*$.Z+(1-h)*d.Z;var K=(-.5+this.cB())*i.H.v.val/100,f=(-1+2*this.cB())*i.Strt.v.val/100,l=(-1+2*this.cB())*i.Brgh.v.val/100,u=k._U($.o,$.P,$.Z);
u.mJ=(u.mJ+K+1)%1;u.qc=u.qc+f;if(u.qc<0)u.qc=-u.qc;if(u.qc>1)u.qc=1-(u.qc-1);u.Pr=u.Pr+l;if(u.Pr<0)u.Pr=-u.Pr;
if(u.Pr>1)u.Pr=1-(u.Pr-1);$=k.ub(u.mJ,u.qc,u.Pr)}return $};kn.prototype.xy=function(i){return Math.max(0,Math.min(1,i))};
kn.prototype.cB=function(i){if(i==null){i=this.wj++}return kn.hash(i)};kn.amy=function(i){return{o:(i>>16&255)/255,P:(i>>8&255)/255,Z:(i>>0&255)/255}};
kn.hash=function(i){i=i^61^i>>16;i=i+(i<<3);i=i^i>>4;i=i*668265261;i=i^i>>15;return(i&16777215)/16777215};
kn.auf=new dH;kn.prototype.akq=function(i,$,h){var d=Math.sqrt(this.Hl.Jz[1].O()),K=d*i.Qa(),f=K<10?1:K<50?1.5:K<200?3:8;
if(K<30)f=0;var l=kn.auf,u=l.a39(this.agh),U=this.ZP.JU;if(U){i=i.clone();i.wQ=Math.floor(i.wQ);i.FQ=Math.floor(i.FQ)}var y=dH.ah_(i,d),a=l.arS(u,y);
if(a&&dH.a17(a.Dc,y)>f)a=null;if(a){a.rect.x=Math.round(a.apv.x+i.wQ);a.rect.y=Math.round(a.apv.y+i.FQ);
if(U){a.rect.x=Math.round($.x-a.rect.e/2);a.rect.y=Math.round($.y-a.rect.n/2)}a._5=Date.now()}else{var v=Math.round(this.Z.Brsh.v.Dmtr.v.val),c;
if(U&&v<=3){c={channel:k.Q(v*v),rect:new bN(Math.round($.x-v/2),Math.round($.y-v/2),v,v)};c.channel.fill(255)}else if(i.Pi==1&&i.Z==0&&i.sl==0&&i.Zn==1){c={channel:this.Hl.Jz[0],rect:this.Hl.Jz[1].clone()};
c.rect.x=Math.round(i.wQ);c.rect.y=Math.round(i.FQ)}else{c=D.vA.a6q(this.Hl.Jz,i)}if(U){for(var t=0;
t<c.channel.length;t++)c.channel[t]=c.channel[t]>127?255:0}if(c==null)c={channel:k.Q(0),rect:new bN};
a={QM:k.Q(c.rect.O()*4),oq:c.channel,rect:c.rect,apv:new cq(c.rect.x-i.wQ,c.rect.y-i.FQ),Dc:y,_5:Date.now()};
k.k1(a.oq,a.QM,3);if(u)l.a25(u,a)}return a};kn.a0y=function(i,$,h){var d,K,f,l=i.Brsh.v.Dmtr.v.val,u=i.Brsh.v.classID;
if(u=="computedBrush"){var U=i.Brsh.v.Hrdn.v.val/100;K=l<100?1.4:1;f=1;d=k.awl.au6(l,U,K)}if(u=="sampledBrush"){var y;
for(var t=0;t<$.length;t++)if($[t].id==i.Brsh.v.sampledData.v)y=$[t];d=y.Jz;var a=d[1];K=Math.max(a.e,a.n)/l;
f=Math.min(a.e,a.n)/Math.max(a.e,a.n)}return{atw:K,aq7:f,Jz:d}};kn.T=null;kn.nl=null;kn.eR=function(i,$,h,d,K,f){var l=kn.T,u=kn.nl;
if(l==null){kn.T=l=document.createElement("canvas");kn.nl=u=l.getContext("2d")}if(f==null)f=d;if(l.width!=f||l.height!=K){l.width=f;
l.height=K}else u.clearRect(0,0,f,K);u.fillStyle="#000000";u.font=Math.floor(10*D.V())+"px sans-serif";
var U=i.Brsh.v.Dmtr.v.val,y=""+U,a=i.useBrushSize;if(a&&a.v)y="---";var v=u.measureText(y);u.fillText(y,(d-v.width)/2,K-2);
var c=d,p=K-10*D.V(),C=Math.min(c,p),T=i.Brsh.v.classID;if(T=="computedBrush"){u.translate(c/2,p/2);
u.rotate(-i.Brsh.v.Angl.v.val*Math.PI/180);u.scale(1,.1+.9*i.Brsh.v.Rndn.v.val/100);var E=Math.min(.95*C/2,U/2)+.5,r=.9*i.Brsh.v.Hrdn.v.val/100,Y=u.createRadialGradient(0,0,0,0,0,E);
Y.addColorStop(r,"rgba(0,0,0,1)");Y.addColorStop((.5+r)/1.5,"rgba(0,0,0,.5)");Y.addColorStop(1,"rgba(0,0,0,0)");
u.fillStyle=Y;u.fillRect(-E,-E,2*E,2*E);u.setTransform(1,0,0,1,0,0)}else if(T=="sampledBrush"){var S,P=0;
for(var t=0;t<$.length;t++)if($[t].id==i.Brsh.v.sampledData.v)S=$[t];var Q=S.Jz;k.V0(Q);var z=Q[0],n=Q[1].e,Z=Q[1].n;
while((n>c||Z>p)&&Q[P+2]){P+=2;z=Q[P];n=Q[P+1].e;Z=Q[P+1].n}if(n*Z!=0){var V=k.Q(n*Z*4);k.k1(z,V,3);
var I=new ImageData(new Uint8ClampedArray(V.buffer),n,Z);u.putImageData(I,Math.round((c-n)/2),Math.round((p-Z)/2))}}else{}return l.toDataURL()};
kn.Rp=function(i,$,h,d){if(h==0)h=1;var K=i.Brsh.v,f=K.Dmtr.v.val,l=K.Dmtr.v.val=Math.min(d!=null?Math.round(d*2.6):3e3,f*h),u=K.Hrdn?K.Hrdn.v.val/100:1,U=d!=null?d:Math.round(l*(1+.55*(1-u)))+4,v;
U=Math.max(15,Math.min(U,3e3));var y=new bN(0,0,U,U),a=new kn(i,$,null,{kJ:1},16711712,0,y);K.Dmtr.v.val=f;
a.moveTo(y.e/2,y.n/2);var c=a.T9(),p=a.bL();if(y.Rl(p))v=c;else{v=k.Q(y.O()*4);k.mC(c,p,v,y)}return[v,y,l]};
kn.a3g=function(i,$,h,d){var K=$.e,f=K>>>1;for(var t=0;t<4;t++){var l=6-t;i[K*(f-l)+f-1]=d;i[K*(f-l)+f]=h;
i[K*(f-l)+f+1]=d;i[K*(f+l)+f-1]=d;i[K*(f+l)+f]=h;i[K*(f+l)+f+1]=d;i[K*(f-1)+f-l]=d;i[K*f+f-l]=h;i[K*(f+1)+f-l]=d;
i[K*(f-1)+f+l]=d;i[K*f+f+l]=h;i[K*(f+1)+f+l]=d}};kn.EL=function(i,$,h,d){var K=kn.Rp(i,$,h),f=K[0].slice(0),l=K[1],u=K[2],U=l.O(),y=k.Q(U);
k.pO(f,y,3);var a=k.Q(U);k.J.avo(y,a,l,D.V()>1.9);if(u<3||k.ey(a,0)||d&&u>12){kn.a3g(a,l,255,0)}var v=[3,5,3,4,8,4,3,5,3];
v=k.KN.t_(v);k.KN.$r(a,y,l.e,l.n,v);k.MK(f,4294967295);k.k1(y,f,3);for(var t=0;t<U;t++)if(a[t]==255){f[t<<2]=f[(t<<2)+1]=f[(t<<2)+2]=0;
f[(t<<2)+3]=255}return{s$:f,gZ:l,XK:new cq(l.e/2,l.n/2)}};kn.T_="0";kn.pj="1";kn.yH="2";kn.DH="3";var bM={};
bM.AA=function(i,$,h){if(h==null)h=!0;var d=i.add.TySh,K=new kd(d.$D,$),f=bM.vi(K,d);i.A0.path=f.path;
i.A0.Jz=[f.Yz,f.gZ];k.SL(i.A0.Jz);if(h){i.rect=f.gZ;i.buffer=f.Yz;i.U()}return[K,f]};bM.vi=function(i,$){var h=i.ep(),l=0,y;
if(h.x==Infinity||h.NT())return{Yz:k.Q(0),gZ:new bN,MX:new bN};var d=i.ep(),K=bM.iZ(i,$),f=k.p.DS(K.C);
for(var t=0;t<i.TL.length;t++){var u=i.TL[t].ev;if(u.StrokeFlag&&u._LineWidth)l=Math.max(l,Math.ceil($.D.Qa()*u._LineWidth/2))}f.ol(l,l);
if(f.NT())return{Yz:k.Q(0),gZ:new bN,MX:new bN};var U=k.i8(f.e,f.n);U.translate(-f.x,-f.y);bM.ax1(K,U);
if(i.TL.length!=0){var a=jP.TV($),v=U.getImageData(0,0,f.e,f.n);y=new Uint8Array(v.data.buffer);if(a==0)for(var t=0;
t<y.length;t+=4)y[t+3]=y[t+3]>80?255:0;if(a==3)for(var t=0;t<y.length;t+=4)y[t+3]=Math.min(255,y[t+3]*1.5)}else y=k.Q(f.O()*4);
U.resetTransform();U.beginPath();return{Yz:y,gZ:f,MX:d,path:K}};bM.iZ=function(i,$){var h=$.D,d=$.$D;
bM.H7=h.Qa();var K=jP.TV($),f=Math.max(h.Z*h.Z,h.sl*h.sl)<1e-9?h:null;if(K==3||K==4)f=null;var l={H:[],C:[]};
bM.ak4(i,l,f,!0);bM.ak4(i,l,f,!1);l=bM.pV(l,$,i);return l};bM.H7=1;bM.pV=function(i,$,h){if(i==null)return i;
if(h&&h.UR)k.p.D(i.C,h.UR,i.C);if(h&&!k.O$.PJ($.sT)){var d=jP.bL($,h);if(!d.NT()){if(i.H){i=k.p.S$(i);
var K=Math.min(d.e,d.n)/8;if(K<1)K=1;i=k.p.Xe(i,K)}var f=k.O$.A2($.sT,d);k.X2.D(f,i.C,d)}}var l=$.D;
k.p.D(i.C,l,i.C);return i};bM.ax1=function(i,$){$.save();$.miterLimit=2;Typr.U.pathToContext({crds:i.C,cmds:i.H},$);
$.restore()};bM.DB=function(i,$,h){var d=kd.a8B(h),K=i.$D,f=K.ResourceDict.FontSet,l=K.ResourceDict.StyleSheetSet[0].StyleSheetData,u=K.EngineDict.StyleRun.RunLengthArray,U=K.EngineDict.StyleRun.RunArray,y=jP.Gs(K),a=!0,v={},c=0;
for(var t=0;t<U.length;t++){var p=U[t].StyleSheet.StyleSheetData.Font;if(p==null)p=l.Font;for(var C=0;
C<u[t];C++){var T=y.charCodeAt(c+C),E=p+","+(T>128?T:-1);if(v[E]==null){v[E]=1;if($.BM(f[p].Name,T)==null)a=!1}}c+=u[t]}return a&&d};
bM.a6P=function(i,$,h){var d=!0;for(var K=0;K<i.B.length;K++){var f=i.B[K],l=f.add.TySh;if(l!=null&&!bM.DB(l,$,h))d=!1}return d};
bM.a6y=function(i,$,h){for(var d=0;d<i.B.length;d++){var K=i.B[d],f=K.add.TySh;if(f!=null&&bM.DB(f,$,h)){bM.AA(K,$);
i.U()}}};bM.ak4=function(i,$,h,d){var K=new ej;for(var t=0;t<i.OU.length;t++)bM.aqZ(i.TL,i.OU[t],$,K,h,d)};
bM.aqZ=function(i,$,h,d,K,f){d.translate($.$Z.x,$.$Z.y);for(var t=0;t<$.Go.length;t++){var l={},u=$.Go[t];
if(!u.Yd)break;var U=d.clone();U.translate(u.$Z.x,u.$Z.y);if(K){var y=K.FQ+U.FQ*K.Zn;U.FQ=(Math.round(y)-K.FQ)/K.Zn}for(var a=u.start;
a<u.end;a++)bM.anx(i,$.gP[a],$,l,h,U,f)}d.translate(-$.$Z.x,-$.$Z.y)};bM.akb="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
bM.anx=function(i,$,h,d,K,f,l){f.translate($.$Z.x,$.$Z.y);for(var u=$.wE;u<=$.hU;u++){var U=h.ES[u],y=U.gZ.e,a=i[h.at6+U.un],v=a.ev._FillBackgroundFlag;
if(a.Q1=="\n"||l&&!v)continue;var c=a.ev.FontSize/a.xu.head.unitsPerEm,p=f.clone();p.translate(U.$Z.x+U.mA*c,U.$Z.y-U.DI*c);
var C=new ej;C.scale(c,-c);if(a.Ex==1&&bM.akb.indexOf(a.Q1)!=-1)C.concat(new ej(-1,0,0,1,y,0));if(a.ev.FauxItalic)C.concat(new ej(1,0,-Math.tan(.18),1,0,0));
C.translate(0,a.JN);C.scale(a.scale.x,a.scale.y);if(a.ev.BaselineShift!=null)C.translate(0,-a.ev.BaselineShift);
if(U.rS!=0){C.rotate(-U.rS)}C.concat(p);var T=(a.ev._LineWidth?a.ev._LineWidth:1)*bM.H7;if(l){K.H.push(bM.oc(a.ev._FillBackgroundColor));
var E=1.005*U.gZ.n/c,r=new bN(-U.mA,-E*.27,1.03*U.gZ.e/(c*a.scale.x),E);if(a.ev.StrokeFlag)r.ol(T/c,T/c);
k.p.concat(K,k.p.Hg(r),C);K.H.push("X");continue}if(a.ev.FillFlag)K.H.push(bM.oc(a.ev.FillColor));if(a.ev.StrokeFlag)K.H.push("O-"+bM.oc(a.ev.StrokeColor)+"-"+T);
if(U.path.H.length!=0&&a.Q1!="\t"){if(a.ev.FauxBold){var Y=a.ev.FontSize/2048*27*a.scale.x;C.wQ+=Y;k.p.concat(K,U.path,C);
C.wQ-=Y+Y;k.p.concat(K,U.path,C)}else k.p.concat(K,U.path,C)}if(a.Q1!="\n"){if(a.ev.Underline){if(d.Ld==null)d.Ld=a.xu.post.underlineThickness;
if(d.a7G==null)d.a7G=a.xu.post.underlinePosition;var S=0,m=d.a7G-d.Ld/2,Q=U.jn*1.05,z=-d.Ld;k.p.concat(K,{H:["M","L","L","L","Z"],C:[S,m,S+Q,m,S+Q,m+z,S,m+z]},C)}if(a.ev.Strikethrough){var n=a.xu["OS/2"].yStrikeoutSize,Z=a.xu["OS/2"].yStrikeoutPosition,S=0,m=Z+n/2,Q=U.jn*1.05,z=-n;
k.p.concat(K,{H:["M","L","L","L","Z"],C:[S,m,S+Q,m,S+Q,m+z,S,m+z]},C)}}if(a.ev.FillFlag)K.H.push("X");
if(a.ev.StrokeFlag)K.H.push("OX")}f.translate(-$.$Z.x,-$.$Z.y)};bM.oc=function(i){var $=jP.zk(i),h=(Math.round($.o)<<16)+(Math.round($.P)<<8)+Math.round($.Z);
return"#"+k._V(h)};function kd(i,h){var d=jP.dO(i),K,f,l=jP.__(i),u=i._LineOrientation==2?new ej:null,v,p;
if(i.Curve)f=kd.Wy(i.Curve);if(d!=0){K=new bN(l[0],l[1],l[2],l[3]);if(u){var U=K.e;K.e=K.n;K.n=U;u.translate(0,-l[2])}if(d==2){K.e=f[5]-f[4];
K.n=9999}}this.OU=[];this.TL=[];this.Ww=d;this.UR=u;var y=this.av9=jP.Gs(i),a=-1,c=-1;for(var t=0;t<y.length;
t++){var C=v,T=jP.ay5(i,t);if(T!=a){a=T;C=v=jP.ax4(i,T)}var E=p,T=jP.a0o(i,t);if(T!=c){c=T;E=p=jP.aag(i,T)}var r={Q1:y.charAt(t),ev:C,xu:null,Gj:-1,XM:jP.ai1(i,t),JN:0,scale:new cq(0,0),Im:0,lineHeight:0,Ex:0},Y=i.ResourceDict.FontSet[C.Font].Name,S=r.xu=h.BM(Y,y.charCodeAt(t));
r.scale.x=C.HorizontalScale==null?1:C.HorizontalScale;r.scale.y=C.VerticalScale==null?1:C.VerticalScale;
var m=S["OS/2"],Q=S.hhea;if(C.FontCaps==1&&r.Q1!=r.Q1.toUpperCase()){var z=m.sxHeight?m.sxHeight/m.sTypoAscender:.76;
r.scale.x*=z;r.scale.y*=z}var n=1/S.head.unitsPerEm*C.FontSize;if(C.FontBaseline==1){var z=i.ResourceDict.SuperscriptSize;
r.scale.x*=z;r.scale.y*=z;r.JN-=i.ResourceDict.SuperscriptPosition*C.FontSize}if(C.FontBaseline==2){var z=i.ResourceDict.SubscriptSize;
r.scale.x*=z;r.scale.y*=z;r.JN+=i.ResourceDict.SubscriptPosition*C.FontSize}r.Im=kd.Im(S)*C.FontSize;
var Z=E.AutoLeading;r.lineHeight=C.FontSize*(Z==null?1.2:Z);if(C.AutoLeading==!1)r.lineHeight=C.Leading;
if(r.lineHeight==0)r.lineHeight=.01;this.TL.push(r)}var P=this.OU,V=[0];for(var t=0;t<i.EngineDict.ParagraphRun.RunLengthArray.length;
t++){var I=new kd.HT(i,h,this.TL,t,K,V,d==1?f:null);P.push(I)}if(u){if(d==0)u.translate(0,P[0].gP[0].Im/2);
u.rotate(-Math.PI/2)}if(d==2){var q=i.Curve.Points,X=f[0],B=f[1],e=f[2],F=f[3],s=f[4],J=f[5];for(var t=0;
t<P.length;t++)for(var W=0;W<P[t].Go.length;W++)if(!(t==0&&W==0))P[t].Go[W].Yd=!1;var I=P[0],L=I.Go[0];
I.$Z.WI(0,0);L.$Z.WI(0,0);for(var W=L.start;W<L.end;W++){var A=I.gP[W],j=A.$Z.x;A.$Z.x=0;for(var G=A.wE;
G<=A.hU;G++){var O=I.ES[G],o=O.gZ.e/2;O.$Z.x+=j;var N=kd.as_(X,(s+O.$Z.x+o)%F);O.$Z.x=N[0]-o*N[2];O.$Z.y=N[1]-o*N[3];
O.rS=Math.atan2(N[3],N[2])}}}}kd.Im=function(i){var $=i._hh;if($==null){var h=Typr.U,d=h.codeToGlyph(i,104),K=k.p.nP(Typr.U.glyphToPath(i,d).crds).n;
$=i._hh=K*(1/i.head.unitsPerEm)}return $};kd.prototype.adI=function(){return!this.aik(0)};kd.prototype.a3z=function(){return this.aik(1)};
kd.prototype.aik=function(i){var $=this.OU,h=!0,d=0;for(var t=0;t<$.length;t++){var K=$[t].Go,f=K.length;
d+=f;for(var l=0;l<f;l++)h&=K[l].Yd}return[h,d][i]};kd.Wy=function(i,$){if($==null)$=.25;var h=i.Points,d=h.length,K=d>>>3,f=i.TextOnPathTRange,l=i.Reversed,v=0,c=0;
if(l){var u=h.slice(0);for(var t=0;t<d;t+=2){u[t]=h[d-2-t];u[t+1]=h[d-1-t]}h=u;f=[K-f[1]%K,K-f[0]%K]}var U=[],y=[0],a=[0];
for(var t=0;t<d;t+=8){var p=h[t+6]-h[t+0],C=h[t+7]-h[t+1],T=Math.round(1/$*Math.sqrt(p*p+C*C));for(var E=0;
E<T;E++){var r=E/T,Y=1-r,S=Y*Y*Y*h[t+0]+3*Y*Y*r*h[t+2]+3*Y*r*r*h[t+4]+r*r*r*h[t+6],m=Y*Y*Y*h[t+1]+3*Y*Y*r*h[t+3]+3*Y*r*r*h[t+5]+r*r*r*h[t+7];
U.push(S,m);if(t+E!=0){var p=S-v,C=m-c;a.push(a[a.length-1]+Math.sqrt(p*p+C*C));y.push((t>>>3)+r)}v=S;
c=m}}var $=a.length,Q=a[$-1],z=kd.C2(f[0]%K,y),n=kd.C2(f[1]%K,y),Z=a[z%$],P=a[n%$];if(Z>=P)P+=Q;return[U,y,a,Q,Z,P]};
kd.C2=function(i,$){var t=0;while($[t]<i)t++;return t};kd.as_=function(i,$){var h=0,t=0,d,K,f;while(h<$){d=i[t+2]-i[t];
K=i[t+3]-i[t+1];f=Math.sqrt(d*d+K*K);h+=f;t+=2}return[i[t],i[t+1],d/f,K/f]};kd.prototype.ad4=function(i){return this.TL[i]};
kd.prototype.aow=function(i){for(var $=0;$<this.OU.length;$++){var h=this.OU[$];for(var d=0;d<h.Go.length;
d++){var K=h.Go[d],f=h.gP[K.start].start,l=h.gP[K.end-1].end;if(f<i&&i<l)return[f,l-1]}}return[0,1]};
kd.prototype.a1J=function(i,$){var h=-1,d=this.OU;if(this.Ww==2){var K=1e9,f=0,l=d[0],u=l.Go[0];for(var U=u.start;
U<u.end;U++){var y=l.gP[U];for(var a=y.wE;a<=y.hU;a++){var v=l.ES[a],c=v.gZ.e,p=i.x-v.$Z.x,C=i.y-v.$Z.y,T=p*p+C*C;
if(T<K){K=T;f=v.un}}}if(f!=0&&this.av9.codePointAt(f-1)>65535)f--;return f}for(var E=0;E<d.length;E++){var l=d[E];
for(var r=0;r<l.Go.length;r++){h++;var u=l.Go[r],Y=l.Go[r+1];if(Y==null&&E<d.length-1)Y=d[E+1].Go[0];
if($!=null){if(h!=$)continue}else{if(Y!=null&&l.$Z.y+u.$Z.y<i.y)continue}for(var U=u.start;U<u.end;U++){var y=l.gP[U];
for(var a=y.wE;a<=y.hU;a++){var v=l.ES[a],c=v.gZ.e,S=l.$Z.x+u.$Z.x+y.$Z.x,m=S+v.$Z.x,Q=S+(a<y.hU?l.ES[a+1].$Z.x:v.$Z.x+c);
if(i.x<=Q||U+1==u.end&&a==y.hU){var z=l.at6+v.un,n=this.TL[z],Z=n.Ex&1;if(n.Q1!="\n"&&(Z==0&&i.x>m+c/2||Z==1&&i.x<m+c/2))z+=this.av9.codePointAt(z)>65535?2:1;
return z}}}}}};kd.prototype.zV=function(i){var $={gZ:new bN,qE:0},h=0;for(var d=0;d<this.OU.length;d++){var K=this.OU[d];
for(var f=0;f<K.Go.length;f++){var l=K.Go[f];$.qE=h;h++;for(var u=l.start;u<l.end;u++){var U=K.gP[u];
for(var y=U.start;y<U.end;y++){if(y==i){var a=this.TL[y],v=a.Gj,c=K.ES[v].un,p=1;while(K.ES[v]!=null&&K.ES[v].un==c){var C=K.ES[v],T=K.$Z.x+l.$Z.x+U.$Z.x+C.$Z.x,E=K.$Z.y+l.$Z.y+U.$Z.y+C.$Z.y;
$.gZ=$.gZ.rt(new bN(T,E-a.lineHeight,C.gZ.e,a.lineHeight));$.rS=C.rS;v+=p}return $}}}}}};kd.prototype.ep=function(){var i=Infinity,$=Infinity,h=-Infinity,d=-Infinity;
for(var t=0;t<this.OU.length;t++){var K=this.OU[t];for(var f=0;f<K.Go.length;f++){var l=K.Go[f];if(!l.Yd)break;
for(var u=l.start;u<l.end;u++){var U=K.gP[u];for(var y=U.wE;y<=U.hU;y++){var a=K.ES[y],v=a.gZ,c=K.$Z.x+l.$Z.x+U.$Z.x+a.$Z.x,p=K.$Z.y+l.$Z.y+U.$Z.y+a.$Z.y;
i=Math.min(i,c+v.x);$=Math.min($,p+v.y);h=Math.max(h,c+v.x+v.e);d=Math.max(d,p+v.y+v.n)}}}}return new bN(i,$,h-i,d-$)};
kd.zC=function(i){return 19968<=i&&i<=40959||12288<=i&&i<=12543};kd.at9=function(i,h,d,K,f,l,u){var U=[l],y=0;
for(var t=l;t<u;t++){if(d[t]==null)console.log(t,l,u,d);var a=d[t].Q1,v=a.charCodeAt(0);if(v==32||v==9){U.push(y,t,1,t+1);
y=0}else if(v==3851){U.push(y+1,t+1);y=0}else if(kd.zC(v)){U.push(y,t);y=1}else if(t!=l&&d[t].Ex!=d[t-1].Ex){U.push(y,t);
y=1}else y++}U.push(y);var c=[];for(var t=0;t<U.length;t+=2){var p=U[t],C=U[t+1];if(C==0)continue;c.push(new kd.avj(i,h,d,K,f,p,C))}return c};
kd.aj8=function(i,$,h,d,K,f,l){var u=[0,$?$.e:1e9],U=[];if(d){var y=i[f].Im,a=K+(K==0?y:i[f].lineHeight),v=a-y*.9,c=k.p.fl(d[0],v),p=c.length,C=k.p.fl(d[0],a),T=C.length;
if(p!=0&&T!=0){var E=0,r=0,Y=[];while(E<p&&r<T){var S=Math.max(c[E],C[r]),m=c[E+1],Q=C[r+1],z=Math.min(m,Q);
if(S<z)Y.push(S,z);if(m<Q)E+=2;else r+=2}if(Y.length!=0)u=Y}}for(var n=0;n<u.length;n+=2){var Z=0,P=f,V=$?u[n+1]-u[n]-h.StartIndent-h.EndIndent-(f==0?h.FirstLineIndent:0):Infinity;
while(f!=i.length){var I=i[f],q=Z==0||(I.ws||I.I3)||Z+I.gZ.e<V;if(!q)break;Z+=I.gZ.e;f++}U.push(f-P)}l[0]=U;
l[1]=u;l[2]=f};kd.aal=function(i,$){var h=i.length,d=new Uint32Array(h),K=new Uint8Array(h),f=0;for(var t=0;
t<h;t++){K[t]=0;var l=i.charCodeAt(t);d[t]=l;if(l>f)f=l}if(f>1424)K=kd.avw(d,$);return K};kd.atS=function(i){return i=="\xDF"?i:i.toUpperCase()};
kd.HT=function(i,h,d,K,f,l,u){this.gP=[];this.Go=[];this.$Z=new cq(0,0);this.ES=null;this.gP=null;this.ev=jP.aag(i,K);
var U=this.ev,c=0,T="",m=0,Q=1,O=0;if(K!=0){var y=U.SpaceBefore;if(y!=null)l[0]+=y}var a=i.EngineDict.ParagraphRun.RunLengthArray,v=a[K];
for(var t=0;t<K;t++)c+=a[t];var p=U._Direction?U._Direction:0;this.at6=c;var C=jP.Gs(i).slice(c,c+v);
for(var E=0;E<C.length;E++){var r=C.charAt(E);T+=d[c+E].ev.FontCaps==0?r:kd.atS(r)}C=T;var Y=kd.aal(C,p),S=[],z=Y[t]&1,n=d[c].xu;
d[c].Ex=Y[0];for(var t=1;t<C.length;t++){var r=d[c+t],Z=Y[t];r.Ex=Z;if(Z!=z||r.xu!=n){S.push(m,Q);m=t;
Q=1;z=Z;n=r.xu}else Q++}S.push(m,Q);var P=this.ES=[];for(var t=0;t<S.length;t+=2){var V=S[t],I=S[t+1],q=(d[c+V].Ex&1)==0,X=C.slice(V,V+I),B=Typr.U.shapeHB(d[c+V].xu,X,q),e=[],J=0;
for(var E=0;E<B.length;E++){var F=B[E];e.push({P:F.g,un:F.cl,jn:F.ax,eM:F.ay,mA:F.dx,DI:F.dy})}B=e;var s=B.slice(0);
if(!q)s.reverse();for(var E=0;E<X.length;E++){while(J+1<s.length&&s[J+1].un<=E){J++}while(J>0&&s[J-1].un==E)J--;
d[c+V+E].Gj=P.length+(q?J:s.length-J-1)}for(var E=0;E<B.length;E++){P.push(B[E]);B[E].un+=V;var r=d[c+B[E].un];
if(r.XM!=-1){B[E].P=r.XM;var W=r.xu.hmtx;if(W){var L=Object.keys(W)[0];B[E].jn=W[L][r.XM]}}if(r.Q1=="\n")B[E].jn=0;
if(r.Q1=="\t")B[E].jn=r.xu.head.unitsPerEm*36/r.ev.FontSize}}var A=jP.sd(U),j=this.gP=kd.at9(i,h,d,c,P,c,c+v),G=this.Go,o=-1,T=[null,null,0];
while(O<j.length){kd.aj8(j,f,U,u,l[0],O,T);o++;var N={start:O,end:0,gZ:new bN,$Z:new cq(0,0),Yd:!0},i3=0,eT=0;
G.push(N);N.end=T[2];if(N.start==N.end)throw"e";var w=N.end==j.length;function kv(s,V,it){var f8=it-V>>>1;
for(var t=0;t<f8;t++){var i$=s[V+t];s[V+t]=s[it-1-t];s[it-1-t]=i$}}for(var g=1;g<5;g++){var b=-1;for(var t=N.start;
t<N.end;t++){var Z=d[j[t].start].Ex;if(b==-1&&Z>=g)b=t;else if(b!=-1&&Z<g){kv(j,b,t);b=-1}}var jU=N.end;
if(p==0&&j[jU-1].ws)jU--;if(b!=-1)kv(j,b,jU)}var _=T[0],cY=T[1],b=O,j3=O;for(var aS=0;aS<_.length;aS+=2){var bL=f?cY[aS+1]-cY[aS]-U.StartIndent-U.EndIndent-(O==0?U.FirstLineIndent:0):Infinity,cQ=0;
b=j3;j3+=_[aS];var cK=this.aoI(b,j3,j,p,f!=null);if(f){if(A==1||w&&A==4)cQ=cK[1]+(bL-cK[0]);if(A==2||w&&A==5)cQ=cK[1]+(bL-cK[0])/2;
if(j3-b==1&&j[b].gZ.e>bL)cQ=0;if(o==0)cQ+=U.FirstLineIndent;cQ+=U.StartIndent}else{if(A==0)cQ=U.StartIndent+U.FirstLineIndent;
if(A==1)cQ=-cK[0]-U.EndIndent;if(A==2)cQ=-cK[0]/2}cQ+=cY[aS];if(f&&A>2&&(A==6||!w))this.a5i(b,j3,j,bL,p,cQ);
else{var el=cQ;for(var t=b;t<j3;t++){var gF=j[t],fj=gF.gZ.e;gF.$Z.x=el;if(gF.tZ=="\t")fj=Math.ceil((el+4)/36)*36-el;
el+=fj}}}O=N.end;for(var t=N.start;t<N.end;t++){var eV=j[t].gZ.clone();eV.I9(j[t].$Z);N.gZ=N.gZ.rt(eV);
i3=Math.max(i3,j[t].Im);eT=Math.max(eT,j[t].lineHeight)}N.$Z.y=o==0?0:G[o-1].$Z.y+eT;if(o==0){if(K==0&&f)l[0]+=i3;
if(K!=0)l[0]+=eT;this.$Z.y=l[0]}else l[0]+=eT;if(f)N.Yd=this.$Z.y+N.$Z.y<f.y+f.n||o==0}var hr=U.SpaceAfter;
if(hr!=null)l[0]+=hr};kd.HT.prototype.aoI=function(i,$,h,d,K){var f=0,l=0;for(var t=i;t<$;t++)f+=h[t].gZ.e;
if(K){if(d==0)for(var t=$-1;t>=i;t--)if(h[t].ws||h[t].I3)f-=h[t].gZ.e;else break;if(d==1)for(var t=i;
t<$;t++)if(h[t].ws||h[t].I3){var u=h[t].gZ.e;f-=u;l-=u}else break}return[f,l]};kd.HT.prototype.a5i=function(i,$,h,d,K,f){var l=0,u=0,U=0,y=0;
for(var t=i;t<$;t++)if(h[t].ws)U++;else{l+=h[t].gZ.e;u++}if(K==0)for(var t=$-1;t>=i;t--)if(h[t].ws||h[t].I3){if(h[t].ws){U--}}else break;
if(K==1)for(var t=i;t<$;t++)if(h[t].ws||h[t].I3){if(h[t].ws){U--;y++}}else break;if(u<=1||U==0){if(u==1)h[i].$Z.x=f;
return}var a=(d-l)/U,v=-y*a;for(var t=i;t<$;t++){if(h[t].ws)this.ES[h[t].wE].gZ.e=h[t].gZ.e=a;h[t].$Z.x=f+v;
v+=h[t].gZ.e}};kd.avj=function(i,h,d,K,f,l,u){this.tZ="";for(var t=0;t<u;t++)this.tZ+=d[l+t].Q1;this.ws=u==1&&(d[l].Q1==" "||d[l].Q1=="\t");
this.I3=u==1&&d[l].Q1=="\n";this.start=l;this.end=l+u;this.gZ=new bN;this.$Z=new cq(0,0);this.Im=0;this.lineHeight=0;
var U=0,y=0;if(u==0){this.lineHeight=d[l].lineHeight;this.Im=d[l].Im;this.gZ=new bN(0,-d[l].lineHeight,0,d[l].lineHeight)}var a=d[l].Gj,v=d[l+u-1].Gj;
if(v<a){var c=a;a=v;v=c}while(v+1<f.length&&f[v].un==f[v+1].un){v++}this.wE=a;this.hU=v;for(var p=a;
p<=v;p++){var C=f[p],T=d[K+C.un],E=i._LineOrientation==2&&(T.ev.BaselineDirection!=2||kd.zC(T.Q1.charCodeAt(0))),r=Typr.U.glyphToPath(T.xu,C.P),z=0;
C.path={H:r.cmds,C:r.crds};var Y=T.ev.FontSize,S=1/T.xu.head.unitsPerEm*Y;if(!T.ev.AutoKerning)U+=T.ev.Kerning*2*S*T.scale.x;
C.$Z=new cq(U,0);C.rS=0;if(E&&C.path.C.length>0){C.rS=-Math.PI/2;C.$Z.x+=Y*.83;C.$Z.y=-Y*.3+C.jn*S/2;
C.jn=Y/S}var m=C.jn*S*T.scale.x;C.gZ=new bN(0,-T.lineHeight,m,T.lineHeight);var Q=C.gZ.clone();Q.I9(C.$Z);
if(T.ev.Tracking!=null)z=T.ev.Tracking*.001*Y;if(T.ev.FauxBold==!0)z+=.027*Y;U+=m+z;if(u==1&&T.Q1==" ")Q.e+=2*z;
else if(u==1&&T.Q1!=null&&kd.zC(T.Q1.charCodeAt(0)))Q.e+=z;this.gZ=this.gZ.rt(Q);this.Im=Math.max(this.Im,T.Im);
this.lineHeight=Math.max(this.lineHeight,T.lineHeight)}};kd.zD=0;kd.a8B=function(i){if(kd.zD==2)return!0;
if(kd.zD==1)return!1;kd.zD=1;function $(){fetch("code/ext/fribidi.wasm").then(function(h){return h.arrayBuffer()}).then(function(h){return WebAssembly.instantiate(h)}).then(function(h){var d=h.instance.exports,K=d.memory,f=16,l=256,u=1,U=f|l,y=f|l|u;
kd.avw=function(v,c){var p=v.length,C=p*4+4+p*4+p*4+p;em.GV(d,C+p+1e7);var T=new Uint8Array(K.buffer),E=new Uint32Array(K.buffer),r=d.calloc(C,1),Y=r+p*4,m=Y+4,Q=m+p*4,z=Q+p*4;
E.set(v,r>>>2);E[Y>>>2]=c==0?U:y;d.fribidi_get_bidi_types(r,p,m);d.fribidi_get_bracket_types(r,p,m,Q);
d.fribidi_get_par_embedding_levels_ex(m,Q,p,Y,z);var n=T.slice(z,z+p);d.free(r);return n};kd.zD=2;var a=new eU(x.E.k,!0);
a.data={d:x.c.vj,D2:"add",J0:dC.oX,YF:null};i.$(a)})}Typr.U.initHB("code/ext/hb.wasm",$);return!1};function jP(){}jP.Rj=function(i){return JSON.parse(JSON.stringify(i))};
jP.YT=function(i,$){for(var h in $)i[h]=$[h]};jP.Aj=function(i,$,h,d){var K=jP.axA();if(h)jP.jV(K,0,0,h);
var f=new ej;if(d!=null)f.rotate(d);f.translate(Math.round(i),Math.round($));var l={D:f,$D:K};l.BZ=jP.agE();
l.sT=k.O$.Q();l.MX=new bN;return l};jP.a4h=function(i){var $=["CharacterDirection",0];for(var t=0;t<$.length;
t+=2){if(i[$[t]]!=null&&i[$[t]]!=$[t+1]){throw"e";console.log($[t],i[$[t]])}}if(i instanceof Array)for(var t=0;
t<i.length;t++)jP.a4h(i[t]);else if(i instanceof Object)for(var h in i)jP.a4h(i[h])};jP.sd=function(i,$){if($==null)$=i.Justification;
var h=i._Direction?i._Direction:0;if(h==1){if($==0||$==3)$++;else if($==1||$==4)$--}return $};jP.QQ=function(i){if(i.add==null)return;
var $=i.$D,h=$.Curve,d=i.add.vmsk,K=d.i,f=k.p.nF(K,!0).C,l=i.D.clone();l.Sp();k.p.D(f,l,f);var u=f.slice(0,8);
for(var U=8;U<f.length;U+=6)u.push(f[U-2],f[U-1],f[U],f[U+1],f[U+2],f[U+3],f[U+4],f[U+5]);h.Points=u;
h.TextOnPathTRange=d.h3.slice(0);h.Reversed=d.Gc;if(jP.dO($)==1){var h=kd.Wy($.Curve),y=k.p.nP(h[0]);
jP.pt($,[0,0,y.e,y.n].map(Math.round));for(var t=0;t<u.length;t+=2){u[t]-=y.x;u[t+1]-=y.y}var a=new ej(1,0,0,1,y.x,y.y);
a.concat(i.D);i.D=a}};jP.rX=function(i){if(i.add==null)return;var $=i.add.vmsk,h=i.$D.Curve,d=h.Points,K={H:["M"],C:[d[0],d[1]]};
for(var t=0;t<d.length;t+=8){K.H.push("C");K.C.push(d[t+2],d[t+3],d[t+4],d[t+5],d[t+6],d[t+7])}k.p.D(K.C,i.D,K.C);
var f=k.p.Kg(K,!0);$.i=f;$.Gc=h.Reversed;$.h3=h.TextOnPathTRange.slice(0);i.add.vogk=H.Yt(f)};jP.zk=function(i){var $={o:0,P:0,Z:0};
if(i){var h=i.Values;if(i.Type==1)$={o:h[1]*255,P:h[2]*255,Z:h[3]*255};else if(i.Type==2){var d={classID:"CMYC",Cyn:{t:"doub",v:h[1]*100},Mgnt:{t:"doub",v:h[2]*100},Ylw:{t:"doub",v:h[3]*100},Blck:{t:"doub",v:h[4]*100}};
$=k.M.zk(d)}else console.log("Unknown color type")}return $};jP.atq=function(i){for(var t=0;t<i.length;
t++){var $=i[t].StyleSheet.StyleSheetData,h=$.FillColor;if(h&&h.Type==2){var d=jP.zk(h);h.Type=1;h.Values=[1,d.o/255,d.P/255,d.Z/255]}}};
jP.bL=function(i,$){var h;if(jP.dO(i.$D)==1){var d=jP.__(i.$D);h=new bN(0,0,d[2]-d[0],d[3]-d[1])}else{h=$.ep();
if($.UR){var K=$.UR.clone(),f=k.p.Hg(h);k.p.D(f.C,K,f.C);h=k.p.nP(f.C)}}return h};jP.hW=function(i){var $=i[0];
for(var t=0;t<i.length;t++)$=jP.a1z($,i[t]);return $};jP.a1z=function(i,$){var h={};for(var d in i)if(JSON.stringify(i[d])==JSON.stringify($[d]))h[d]=i[d];
return h};jP.Qr=function(i,$){var h=i.A8,d=-1;for(var t=0;t<h.length;t++)if(h[t].Name==$)d=t;if(d==-1){d=h.length;
h.push({FontType:1,Name:$,Script:0,Synthetic:0})}i.TL.Font=d};jP.Gs=function(i){return i.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
jP._I=function(i,h){i.EngineDict.Editor.Text=h.replace(/\n/g,"\r")};jP.dO=function(i){return i.Curve&&i.Curve.TextOnPathTRange[0]>=0?2:i.EngineDict.Rendered.Shapes.Children[0].ShapeType};
jP.tA=function(i,h){var d=i.EngineDict.Rendered.Shapes.Children[0];d.ShapeType=h;var K=d.Cookie.Photoshop;
K.ShapeType=h;K.Base.ShapeType=h;if(h==0){delete K.BoxBounds;K.PointBase=[0,0]}if(h==1){delete K.PointBase;
K.BoxBounds=[0,0,1,1]}};jP.__=function(i){return i.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
jP.pt=function(i,h){i.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=h};jP.ai1=function(i,h){var d=i.EngineDict.AlternateGlyphRun;
if(d==null)return-1;var K=jP.h$(d.RunLengthArray,h).GB;if(d.RunArray[K]==null)return-1;var f=d.RunArray[K].Glyph;
return f==null?-1:f};jP.arh=function(i,h,d){var K=i.EngineDict.AlternateGlyphRun;if(K==null){K=i.EngineDict.AlternateGlyphRun=jP.a82();
K.RunArray.push({});K.RunLengthArray.push(jP.Gs(i).length)}var f=jP.h$(K.RunLengthArray,h),l=f.GB,u=h-f.GT,U=K.RunArray[l],y=JSON.stringify(U),a=K.RunLengthArray[l];
if(u!=0){K.RunArray.splice(l,0,JSON.parse(y));K.RunLengthArray.splice(l,0,u);K.RunLengthArray[l+1]-=u;
l++;a-=u;u=0}if(a!=1){K.RunArray.splice(l+1,0,JSON.parse(y));K.RunLengthArray.splice(l+1,0,a-1);K.RunLengthArray[l]=1;
a=1}U.Glyph=d};jP.ay5=function(i,h){var d=i.EngineDict.StyleRun.RunLengthArray;return jP.h$(d,h).GB};
jP.ax4=function(i,h){var d=i.ResourceDict.StyleSheetSet[0].StyleSheetData,K={};for(var f in d)K[f]=d[f];
var l=i.EngineDict.StyleRun.RunArray[h].StyleSheet.StyleSheetData;jP.YT(K,l);return K};jP.a0o=function(i,h){var d=i.EngineDict.ParagraphRun.RunLengthArray;
return jP.h$(d,h).GB};jP.aag=function(i,h){var d=i.ResourceDict.ParagraphSheetSet[0].Properties,K={};
for(var f in d)K[f]=d[f];var l=i.EngineDict.ParagraphRun.RunArray[h].ParagraphSheet.Properties;jP.YT(K,l);
var u=["StartIndent","EndIndent","FirstLineIndent"];for(var t=0;t<3;t++)if(K[u[t]]==null)K[u[t]]=0;return K};
jP.uE=function(i,h,d){if(d=="")return;var K=jP.Gs(i);jP._I(i,K.substring(0,h)+d+K.substring(h,K.length));
var f=i.EngineDict.StyleRun,l=f.RunLengthArray,u=jP.h$(l,h-1);l[u.GB]+=d.length;var U=i.EngineDict.AlternateGlyphRun;
if(U){var l=U.RunLengthArray,u=jP.h$(l,h-1);l[u.GB]+=d.length}var y=i.EngineDict.ParagraphRun,l=y.RunLengthArray,a=jP.h$(l,h),v=d.split("\n");
if(v.length==1){l[a.GB]+=d.length;return}l.splice(a.GB+1,0,l[a.GB]-(h-a.GT));y.RunArray.splice(a.GB+1,0,jP.Rj(y.RunArray[a.GB]));
l[a.GB]-=l[a.GB+1];l[a.GB]+=v[0].length+1;for(var t=1;t<v.length-1;t++){y.RunArray.splice(a.GB+t,0,jP.Rj(y.RunArray[a.GB+t-1]));
y.RunLengthArray.splice(a.GB+t,0,v[t].length+1)}l[a.GB+v.length-1]+=v[v.length-1].length};jP.UF=function(i,h,d){var K=jP.Gs(i);
jP._I(i,K.substring(0,h)+K.substring(d,K.length));jP.fL(i.EngineDict.ParagraphRun,h,d,!0);jP.fL(i.EngineDict.StyleRun,h,d,!1);
var f=i.EngineDict.AlternateGlyphRun;if(f)jP.fL(f,h,d,!1)};jP.fL=function(i,$,h,d){var K=i.RunLengthArray,f=jP.h$(K,$),l=jP.h$(K,h),u=[];
for(var t=0;t<K.length;t++)for(var U=0;U<K[t];U++)u.push(t);u.splice($,h-$);var y=[];for(var t=0;t<K.length;
t++)y.push(0);for(var t=0;t<u.length;t++)y[u[t]]++;for(var t=0;t<K.length;t++){if(y[t]==0){y.splice(t,1);
K.splice(t,1);i.RunArray.splice(t,1);t--}else if(y[t]<K[t])K[t]=y[t]}if(d&&f.GB!=l.GB&&f.GT!=$){K[f.GB]+=K[f.GB+1];
K.splice(f.GB+1,1);i.RunArray.splice(f.GB+1,1)}};jP.jV=function(i,h,d,K){var f=i.EngineDict.Editor.Text.length;
if(d==f-2)d++;if(K.TL.Font!=null)i.ResourceDict.FontSet=K.A8.slice(0);if(h<=d)jP.aoH(i.EngineDict.StyleRun,K.TL,h,d,!0);
jP.aoH(i.EngineDict.ParagraphRun,K.OU,h,d,!1)};jP.Zg=function(i,h,d){var K={A8:i.ResourceDict.FontSet.slice(0),TL:[],OU:[]},f=i.EngineDict.StyleRun.RunLengthArray,l=jP.h$(f,h).GB,u=jP.h$(f,d).GB;
for(var t=l;t<=u;t++){var U=jP.Rj(i.ResourceDict.StyleSheetSet[0].StyleSheetData),y=i.EngineDict.StyleRun.RunArray;
if(y.length==0)continue;var a=y[t].StyleSheet.StyleSheetData;jP.YT(U,a);K.TL.push(U)}var v=i.EngineDict.ParagraphRun.RunLengthArray,c=jP.h$(v,h).GB,p=jP.h$(v,d).GB;
for(var t=c;t<=p;t++){var C=i.EngineDict.ParagraphRun.RunArray;if(C.length==0)continue;K.OU.push(jP.Rj(C[t].ParagraphSheet.Properties))}K.TL=K.TL.length==0?{}:jP.hW(K.TL);
K.OU=K.OU.length==0?{}:jP.hW(K.OU);return K};jP.aoH=function(i,$,h,d,K){var f=i.RunLengthArray;if(K){var l=jP.h$(f,h);
if(l.GT!=h){var u=f[l.GB];f.splice(l.GB,0,h-l.GT);f[l.GB+1]=u-f[l.GB];i.RunArray.splice(l.GB+1,0,jP.Rj(i.RunArray[l.GB]))}var U=jP.h$(f,d);
if(U.GT+f[U.GB]-1!=d){var u=f[U.GB];f.splice(U.GB,0,d-U.GT+1);f[U.GB+1]=u-f[U.GB];i.RunArray.splice(U.GB+1,0,jP.Rj(i.RunArray[U.GB]))}}var l=jP.h$(f,h),U=jP.h$(f,d);
if(K)for(var t=l.GB;t<=U.GB;t++)jP.YT(i.RunArray[t].StyleSheet.StyleSheetData,$);else for(var t=l.GB;
t<=U.GB;t++)jP.YT(i.RunArray[t].ParagraphSheet.Properties,$)};jP.ahD=function(i,h,d){var K=i.EngineDict.StyleRun.RunLengthArray,f=[],l=0;
for(var t=0;t<K.length;t++){var u=K[t];for(var U=0;U<u;U++)if(h<=l+U&&l+U<d)f.push(t);l+=u}var y=f[0],a=[];
for(var t=0;t<f.length;t++){var v=f[t]-y;if(v==a.length)a.push(0);a[v]++}return a};jP.aaY=function(i){var h=i.EngineDict.StyleRun,d=h.RunArray,K=h.RunLengthArray;
for(var t=0;t<K.length-1;t++){var f=d[t].StyleSheet.StyleSheetData,l=d[t+1].StyleSheet.StyleSheetData;
if(JSON.stringify(f)==JSON.stringify(l)){d.splice(t+1,1);K[t]+=K[t+1];K.splice(t+1,1);t--}}};jP.TV=function(i){var $=i.BZ.AntA.v.Annt;
$=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf($);if($==-1)$=1;return $};jP.Td=function(i,$){i.BZ.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][$]};
jP.z_=function(i,$){var h,d;h=["FontSize","Leading","BaselineShift","_LineWidth"];d=i.TL;for(var t=0;
t<h.length;t++)if(d[h[t]]!=null)d[h[t]]*=$;h=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
d=i.OU;for(var t=0;t<h.length;t++)if(d[h[t]]!=null)d[h[t]]*=$};jP.ato=function(){return jP.Zg(jP.a2P,0,0)};
jP.agE=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
jP.h$=function(i,$){var h=0,t=0;while(h+i[t]<=$){h+=i[t];t++}return{GB:t,GT:h}};jP.axA=function(){var i=jP.Rj(this.a2P);
return i};jP.a94=function(i,$){var h=$.OU};jP.a32=function(i,$){var h=$.TL,d;d=i.Undl;if(d&&d.v.Undl=="underlineOnLeftInVertical")h.Underline=!0;
d=i.syntheticItalic;if(d)h.FauxItalic=d.v};jP.a2L={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
jP.atE={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
jP.a82=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};jP.a2P={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(jP.a2L))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(jP.a2L))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(jP.atE))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var iR={};iR.acc=function(i){var $=iR.aoz(i._0,i._1);iR.aob($,i._0);return $};iR.ajm=function(i,$,h){var d={};
d._98={_0:"i7"};d._0=iR.ate(i,$,h?h._0:null);d._1=iR.anN(i,$,d._0,h?h._1:null);return d};iR.ate=function(i,$,h){var d={};
d._1=iR.alW(i,h?h._1:null);d._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};d._3=JSON.parse(JSON.stringify(iR.a8$));
d._4=JSON.parse(JSON.stringify(iR.ad9));d._5=iR.alN(i,d._1._0,h?h._5:null);d._6=iR.aoK(i,h?h._6:null);
d._8=iR.akB(i,$,h?h._8:null);d._9=iR.avQ;return d};iR.aob=function(i,$){iR.a5R(i,$._5,$._1._0)};iR.alW=function(i,$){var h=[],d=[];
for(var t=0;t<i.length;t++){var K=i[t].ResourceDict.FontSet;for(var f=0;f<K.length;f++){var l=K[f];if(d.indexOf(l.Name)!=-1)continue;
h.push(l);d.push(l.Name)}}var u={_0:[]};for(var t=0;t<h.length;t++){var U=h[t],y={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+U.Name,_1:"i"+U.Script,_2:"i"+U.FontType}}};
if(U.Script==0)delete y._0._0._1;u._0.push(y)}return u};iR.alN=function(i,$,h){var d={_0:[],_1:[]},K={_0:JSON.parse(JSON.stringify(iR.a05))};
iR.adA(K._0,i[0].ResourceDict.StyleSheetSet[0],$,i[0].ResourceDict.FontSet);d._0.push(K);d._1.push({_0:"i0"});
d._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});d._1.push({_0:"i1"});return d};iR.a5R=function(i,$,h){var d=$._0[0];
for(var t=0;t<i.length;t++)iR.aty(d._0,i[t].ResourceDict.StyleSheetSet[0],h,i[t].ResourceDict.FontSet)};
iR.aoK=function(i,$){var h={_0:[],_1:[]},d={_0:JSON.parse(JSON.stringify(iR.VQ))};iR.iC(d._0,i[0].ResourceDict.ParagraphSheetSet[0]);
h._0.push(d);h._1.push({_0:"i0"});d={_0:JSON.parse(JSON.stringify(iR.VQ))};iR.iC(d._0,i[0].ResourceDict.ParagraphSheetSet[0]);
d._0._0="sBasic Paragraph";d._0._6="i0";h._0.push(d);h._1.push({_0:"i1"});return h};iR.akB=function(i,$,h){var d={_0:[]};
for(var t=0;t<i.length;t++){var K=i[t].Curve,f={};d._0.push({_0:f});var l=jP.dO(i[t]);f._2={};f._2._0="i"+l;
if(i[t]._LineOrientation==2)f._2._1="i2";if(l==0){f._2._6=["f-1","f-1"];f._2._11={_4:"i-1",_7:!1}}else if(l==1&&K==null){var u=jP.__(i[t]),U=u[2],y=u[3];
f._1={_0:iR.qR("f",[0,0,0,0,U,0,U,0,U,0,U,0,U,y,U,y,U,y,U,y,0,y,0,y,0,y,0,y,0,0,0,0])};f._2._6=["f-2","f-2"];
f._2._11={_4:"i-2",_7:!1}}else if(l==1){var u=jP.__(i[t]),U=u[2],y=u[3];f._1={_0:iR.qR("f",K.Points)};
f._2._6=["f-3","f-3"];f._2._11={_4:"i-3",_7:!1}}else if(l==2){f._1={_0:iR.qR("f",K.Points)};f._2._6=iR.qR("f",K.TextOnPathTRange);
f._2._11={_0:K.Reversed,_3:"i0",_5:"f0",_7:!1}}}return d};iR.anN=function(i,$,h,d){var K={};K._0=JSON.parse(JSON.stringify(iR.aib));
K._1=iR.asJ(i,$,h,d?d._1:null);K._2=JSON.parse(JSON.stringify(iR.a05._6));K._3=JSON.parse(JSON.stringify(iR.VQ._5));
return K};iR.aoz=function(i,$){return iR.aqt(i,$._1)};iR.asJ=function(i,$,h,d){var K=[],f=h._1._0;for(var t=0;
t<i.length;t++){var l=i[t],u={_0:{}};K.push(u);u._0._0="s"+l.EngineDict.Editor.Text;u._0._0=u._0._0;
var U=u._0._5={_0:[]},y=l.EngineDict.ParagraphRun;for(var a=0;a<y.RunArray.length;a++){var v={_0:{}};
U._0.push(v);v._0._0={_0:"s",_5:{},_6:"i1"};iR.iC(v._0._0,y.RunArray[a].ParagraphSheet);v._1="i"+y.RunLengthArray[a]}var c=u._0._6={_0:[]};
y=l.EngineDict.StyleRun;for(var a=0;a<y.RunArray.length;a++){var p={_0:{}};c._0.push(p);p._0._0={_0:"s",_5:"i1",_6:{}};
iR.adA(p._0._0,y.RunArray[a].StyleSheet,f,l.ResourceDict.FontSet);p._1="i"+y.RunLengthArray[a]}y=l.EngineDict.AlternateGlyphRun;
if(y){var C=u._0._9={_0:[]};for(var a=0;a<y.RunArray.length;a++){var T={_0:{}};C._0.push(T);var E=y.RunArray[a];
if(E.Glyph!=null){T._0._0={_0:"i"+E.Glyph,_1:"e"}}T._1="i"+y.RunLengthArray[a]}}u._0._10={_0:"i4",_2:!0};
u._1=iR.view.ayk(l,null,t,null)}return K};iR.aqt=function(i,$){var h=[],d=i._1._0;for(var t=0;t<$.length;
t++){var K=jP.axA();h.push(K);var f=$[t];K.EngineDict.Editor.Text=f._0._0.slice(1);var l=K.EngineDict.ParagraphRun.RunArray[0],u=K.EngineDict.ParagraphRun,U=f._0._5;
if(U)for(var y=0;y<U._0.length;y++){var a=U._0[y];u.RunLengthArray[y]=parseInt(a._1.slice(1));u.RunArray[y]=JSON.parse(JSON.stringify(l));
iR.a9C(a._0._0,u.RunArray[y].ParagraphSheet)}else{u.RunLengthArray[0]=jP.Gs(K).length}var v=f._0._6;
u=K.EngineDict.StyleRun;if(v)for(var y=0;y<v._0.length;y++){var c=v._0[y];u.RunLengthArray[y]=parseInt(c._1.slice(1));
u.RunArray[y]={StyleSheet:{StyleSheetData:{}}};iR.aty(c._0._0,u.RunArray[y].StyleSheet,d,K.ResourceDict.FontSet)}else{u.RunLengthArray[0]=jP.Gs(K).length;
u.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return h};iR.adA=function(i,$,h,d,K){i._0="s"+($.Name?$.Name:"");
var f=i._6,l=K?K._6:null,u=$.StyleSheetData;if(u.Font==null)return;var U=d[u.Font].Name,y=-1;for(var t=0;
t<h.length;t++)if("s"+U==h[t]._0._0._0){y=t;break}f._0="i"+y;if(u.FontSize!=null)f._1="f"+u.FontSize;
if(u.FauxBold!=null)f._2=u.FauxBold;if(u.FauxItalic!=null)f._3=u.FauxItalic;if(u.AutoLeading!=null)f._4=u.AutoLeading;
if(u.Leading!=null)f._5="f"+u.Leading;if(u.HorizontalScale!=null)f._6="f"+u.HorizontalScale;if(u.VerticalScale!=null)f._7="f"+u.VerticalScale;
if(u.Tracking!=null)f._8="i"+u.Tracking;if(u.BaselineShift!=null)f._9="f"+u.BaselineShift;if(u.AutoKerning!=null)f._11="i"+(u.AutoKerning?1:0);
if(u.FontCaps!=null)f._12="i"+u.FontCaps;if(u.FontBaseline!=null)f._13="i"+u.FontBaseline;if(u.Strikethrough!=null)f._15="i"+(u.Strikethrough?1:0);
if(u.Underline!=null)f._16="i"+(u.Underline?2:0);if(u.Ligatures!=null)f._18=u.Ligatures;if(u.DLigatures!=null)f._19=u.DLigatures;
if(u.BaselineDirection!=null)f._35="i"+u.BaselineDirection;if(u.Language!=null)f._38="i"+u.Language;
if(u.FillColor!=null)f._53=iR.oc(u.FillColor);if(u.StrokeColor!=null)f._54=iR.oc(u.StrokeColor);if(u.FillFlag!=null)f._56=u.FillFlag;
if(u.StrokeFlag!=null)f._57=u.StrokeFlag;if(u._LineWidth!=null)f._63="f"+u._LineWidth;if(u._FillBackgroundColor!=null)f._79=iR.oc(u._FillBackgroundColor);
if(u._FillBackgroundFlag!=null)f._80=u._FillBackgroundFlag};iR.oc=function(i){return{_99:"/SimplePaint",_0:{_0:"i1",_1:iR.qR("f",i.Values)}}};
iR.aty=function(i,$,h,d){var K=i._6;if(K==null)return;var f=$.StyleSheetData;if(K._0){var l=parseInt(K._0.slice(1)),u=h[l]._0._0._0.slice(1);
jP.Qr({TL:f,A8:d},u)}if(K._1!=null)f.FontSize=parseFloat(K._1.slice(1));if(K._2!=null)f.FauxBold=K._2;
if(K._3!=null)f.FauxItalic=K._3;if(K._4!=null)f.AutoLeading=K._4;if(K._5!=null)f.Leading=parseFloat(K._5.slice(1));
if(K._6!=null)f.HorizontalScale=parseFloat(K._6.slice(1));if(K._7!=null)f.VerticalScale=parseFloat(K._7.slice(1));
if(K._8!=null)f.Tracking=parseFloat(K._8.slice(1));if(K._9!=null)f.BaselineShift=parseFloat(K._9.slice(1));
if(K._11!=null)f.AutoKerning=parseFloat(K._11.slice(1))==1;if(K._12!=null)f.FontCaps=parseFloat(K._12.slice(1));
if(K._13!=null)f.FontBaseline=parseFloat(K._13.slice(1));if(K._15!=null)f.Strikethrough=parseFloat(K._15.slice(1))==1;
if(K._16!=null)f.Underline=parseFloat(K._16.slice(1))==1;if(K._18!=null)f.Ligatures=K._18;if(K._19!=null)f.DLigatures=K._19;
if(K._35!=null)f.BaselineDirection=parseFloat(K._35.slice(1));if(K._38!=null)f.Language=parseFloat(K._38.slice(1));
if(K._53!=null)f.FillColor=iR.Am(K._53);if(K._54!=null)f.StrokeColor=iR.Am(K._54);if(K._56!=null)f.FillFlag=K._56;
if(K._57!=null)f.StrokeFlag=K._57;if(K._63!=null)f._LineWidth=parseFloat(K._63.slice(1));if(K._79!=null)f._FillBackgroundColor=iR.Am(K._79);
if(K._80!=null)f._FillBackgroundFlag=K._80};iR.Am=function(i){var $=i._0._0,h=i._0._1,d=[1,0,0,0],K=[];
for(var t=0;t<h.length;t++)K[t]=parseFloat(h[t].slice(1));if($=="i0")d[1]=d[2]=d[3]=K[1];else if($=="i1")d=K;
else if($=="i2")d=[1].concat(UDOC.C.cmykToRgb(K.slice(1)));else console.log("unknown color type",$,K);
return{Type:1,Values:d}};iR.iC=function(i,$){i._0="s"+($.Name?$.Name:"");var h=i._5,d=$.Properties;if(d.Justification!=null)h._0="i"+d.Justification;
if(d.FirstLineIndent!=null)h._1="f"+d.FirstLineIndent;if(d.StartIndent!=null)h._2="f"+d.StartIndent;
if(d.EndIndent!=null)h._3="f"+d.EndIndent;if(d.SpaceBefore!=null)h._4="f"+d.SpaceBefore;if(d.SpaceAfter!=null)h._5="f"+d.SpaceAfter;
if(d.AutoLeading!=null)h._7="f"+d.AutoLeading;if(d.AutoHyphenate!=null)h._9=d.AutoHyphenate;if(d._Direction!=null)h._33="i"+d._Direction;
if(d._ComposerEngine!=null)h._35="i"+d._ComposerEngine};iR.a9C=function(i,$){var h=i._5;if(h==null)return;
var d=$.Properties;if(h._0)d.Justification=parseInt(h._0.slice(1))};iR.qR=function(i,$){var h=[];for(var t=0;
t<$.length;t++)h.push(i+$[t]);return h};iR.a8$={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
iR.ad9={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
iR.a05={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
iR.VQ={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
iR.avQ={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
iR.aib={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var g4={};g4.aeA=function(i){return g4.CB(i,g4.v1,0)};g4.ahW=function(i){return g4.go(i,g4.v1)};g4.CB=function(i,$,h){var d;
if(typeof i=="string")return i;if(i instanceof Array){d=[];for(var t=0;t<i.length;t++)d[t]=g4.CB(i[t],$,h+1)}else{d={};
var K={};for(var f in $){var l=$[f],u="_"+l[0];if(i[u]!=null){d[f]=l[1]?g4.CB(i[u],l[1],h+1):i[u];K[u]=!0}}for(var f in i){if(K[f]==null){if(f.length>3)continue;
console.log($,K);console.log(f,i);throw"e"}}}return d};g4.go=function(i,$){var h;if(typeof i=="string")return i;
else if(i instanceof Array){h=[];for(var t=0;t<i.length;t++)h[t]=g4.go(i[t],$)}else{h={};var d={};for(var K in $){var f=$[K],l="_"+f[0];
if(i[K]!=null){h[l]=f[1]?g4.go(i[K],f[1]):i[K];d[K]=!0}}for(var K in i){if(d[K]==null){console.log($,d);
console.log(K,i);throw"e"}}}return h};g4.sf={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
g4.kD={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,g4.sf],_StrokeColor:[54,g4.sf],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,g4.sf],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
g4.akj={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,g4.kD],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
g4.a4T={_Name:[0],_Features:[5,g4.akj],_Parent:[6],_UUID:[97]};g4.a0G={_Name:[0],_Parent:[5],_Features:[6,g4.kD],_UUID:[97]};
g4.v1={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,g4.a0G]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,g4.a4T]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,g4.a4T]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,g4.a0G]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,g4.kD],_OriginalNormalParagraphFeatures:[3,g4.akj]}]};
iR.view={};iR.view.ayk=function(i,h,d,K){var f={},l=jP.dO(i);f._0=[{_0:"i"+d}];return f};function CSS(){}CSS.a0c=function(i,$){var h=i.add,d=h.vmsk,K=h.vstk,f=h.lmfx,l=h.TySh,u=[],U=CSS.af$(f,h);
if(i.A$()&&d){var y=k.A.eu(d.i);if(!y.NT()){u.push("width: "+Math.round(y.e)+"px");u.push("height: "+Math.round(y.n)+"px")}var a=k.A.ats(d.i);
if(a>0)u.push("border-radius: "+Math.round(a)+"px")}else if(l){var v=l.$D;if(jP.dO(v)==1){var y=jP.__(v);
u.push("width: "+Math.round(y[2])+"px");u.push("height: "+Math.round(y[3])+"px")}CSS.a2v(u,jP.Zg(v,0,0),l.D,!1,!1,U[0])}var c=CSS.anU($,f);
if(c.length!=0)u.push("filter: "+c.join(" "));if(l==null)CSS.afP(U,u);if(K==null||!K.strokeEnabled.v)K=eN.No(f);
if(K&&K.strokeEnabled.v){var p=K.strokeStyleContent.v,C=p.classID,T=et._T.xe.indexOf(K.strokeStyleLineCapType.v.strokeStyleLineCapType),E=et._T.join.indexOf(K.strokeStyleLineJoinType.v.strokeStyleLineJoinType),r=K.strokeStyleOpacity.v.val/100,Y=K.strokeStyleLineWidth.v.val,S="";
if(C=="solidColorLayer")S=CSS.lo(p.Clr.v,r);u.push("border: "+Y+"px solid "+S)}return u};CSS.anU=function(i,$){var h=[];
if($==null||!$.masterFXSwitch.v)return[];var d=$?$.dropShadowMulti.v:[];for(var t=0;t<d.length;t++){var K=d[t].v;
if(K.enab.v){var f=K.Dstn.v.val,l=K.lagl.v.val*Math.PI/180;if(K.uglg&&K.uglg.v)l=i.Hk()*Math.PI/180;
var u=f*Math.cos(l),U=f*Math.sin(l);h.push("drop-shadow("+(u==0?"0 ":CSS.ag3(-u)+"px ")+(U==0?"0 ":CSS.ag3(U)+"px ")+K.blur.v.val/2+"px "+CSS.lo(K.Clr.v,K.Opct.v.val/100)+")")}}return h};
CSS.af$=function(i,$){var h=eN.S4(i,$),d=h[0],K=h[1],f,l;if(d){f=CSS.lo(d.Clr.v,$.iOpa!=null?$.iOpa/255:1)}else if(K){l=CSS.a5t(K)}return[f,l]};
CSS.afP=function(i,$){if(i[0])$.push("background-color: "+i[0]);if(i[1])$.push("background-image: "+i[1])};
CSS.B2={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ag3=function(b4){return""+parseFloat(b4.toFixed(3))};CSS.cE=function(i){if(i==null)return{o:0,P:0,Z:0};
var $=i.indexOf("(");if($!=-1){var h=i.slice($+1,i.length-1).split(",");for(var t=0;t<h.length;t++){var d=h[t].trim();
h[t]=parseFloat(d)*(d.endsWith("%")?255/100:1)}return{o:h[0],P:h[1],Z:h[2]}}if(i.charAt(0)!="#"){var K=CSS.B2;
if(K[i])i=K[i];else console.log("unknown color "+i)}i=i.slice(1);if(i.length==4)i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3];
if(i.length==3)i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2];var f=-1;if(i.length==8){f=parseInt(i.slice(6),16);i=i.slice(0,6)}i=parseInt(i,16);
var l={o:i>>16&255,P:i>>8&255,Z:i&255};if(f!=-1)l.Pi=f;return l};CSS.lo=function(i,$){return CSS.O1(k.M.zk(i),$)};
CSS.O1=function(i,$){if($==null)$=1;var h=Math.round(i.o),d=Math.round(i.P),K=Math.round(i.Z),f=h<<16|d<<8|K;
return $==1?"#"+k._V(f):"rgba("+h+","+d+","+K+","+$+")"};CSS.a5t=function(i){var $=i.Grad.v;if($.Clrs==null)return"";
var h=$.Clrs.v.slice(0),d=$.Trns.v.slice(0),K=i.Ofst.v,f=i.Type.v.GrdT=="Rdl"?1:0,l=(f==1?"radial":"linear")+"-gradient",u=f==0?Math.round(-i.Angl.v.val+90)+"deg":"circle at center",U=i.Rvrs.v,y=k.M.ID($,U);
for(var t=0;t<y.length;t++){var a=y[t],v=a[1];u+=", "+CSS.O1({o:v[0]*255,P:v[1]*255,Z:v[2]*255},a[2])+" "+Math.round(a[0]*100)+"%"}return l+"("+u+")"};
CSS.a2v=function(i,$,h,d,K,f){var l=$.TL,u=d?1:h.Qa(),U=Math.round(l.FontSize*u);i.push("font-size: "+U+"px");
var y=l.Tracking;if(!d&&y!=null&&y!=0)i.push("letter-spacing: "+Math.round(y*U/1e3)+"px");if(!l.AutoLeading)i.push("line-height: "+Math.round(l.Leading*u)+"px");
if(l.Strikethrough)i.push("text-decoration: line-through");if(l.Underline)i.push("text-decoration: underline");
var a=jP.zk(l.FillColor);a=[a.o,a.P,a.Z].map(Math.round);i.push((d?"fill: ":"color: ")+(f?f:"#"+k._V(a[0]<<16|a[1]<<8|a[2])));
var v=$.A8[l.Font].Name;if(v){var c=jl.um.BM(v),p="",C=null,T=null;if(c!=null&&v!=jl.xU(c))c=null;if(K&&c)p+="\""+v+"\", ";
var E=v.toLowerCase();if(c){C=jl.fU(c)[0];if(c["OS/2"])T=c["OS/2"].usWeightClass}else{C=CSS.a2p(v);if(E.indexOf("light")!=-1)T=300;
else if(E.indexOf("medium")!=-1)T=500;else if(E.indexOf("black")!=-1||E.indexOf("extrabold")!=-1)T=800;
else if(E.indexOf("bold")!=-1)T="bold"}if(C!=null)p+="\""+C+"\"";if(T!=null)i.push("font-weight: "+T);
if(E.indexOf("italic")!=-1||E.indexOf("oblique")!=-1)i.push("font-style: italic");if(p)i.push("font-family: "+p)}var r=$.OU.Justification;
if(r!=null&&r!=0)if(d){}else i.push("text-align: "+["left","right","center"][r%3])};CSS.a2p=function(i){i=i.split("-")[0];
while(i.endsWith("MT")||i.endsWith("PS"))i=i.slice(0,i.length-2);var $=!0;for(var t=0;t<i.length;t++){var h=i.charAt(t);
if(!$&&h.toLowerCase()!=h){i=i.slice(0,t)+" "+i.slice(t);t++;$=!0}else $=!1}return i};function e5(){}e5.wn={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
e5.R2=function(i,$){var h=Date.now(),d=i.split("\n"),K;for(var t=0;t<d.length;t++)if(d[t].trim()[0]=="#"){d[t]=""}i=d.join("\n");
try{K=acorn.parse(i)}catch(e_){console.log(e_);return}var f=JSON.parse(JSON.stringify(e5._Y.CL));f.__return=!1;
f.__continue=!1;f.__break=!1;f.__throw=!1;f.__fs={};f.__window={};e5.eval(K,$,f);var l=f.__fs;if(Object.keys(l).length!=0){var u=UZIP.encode(l);
bU.save(u,"output.zip")}};e5.eval=function(i,$,h){var d=i.type;if(!1){}else if(d=="Program"||d=="BlockStatement"){var K=i.body;
for(var t=0;t<K.length;t++){var f=K[t].type;if(f=="FunctionDeclaration")h[K[t].id.name]=K[t]}for(var t=0;
t<K.length;t++){var f=K[t].type,l=e5.eval(K[t],$,h);if(h.__continue){h.__continue=!1;return l}if(h.__return||h.__break||h.__throw)return l}}else if(d=="ReturnStatement"){h.__return=!0;
return i.argument?e5.qY(i.argument,$,h):null}else if(d=="BreakStatement"){h.__break=!0}else if(d=="ContinueStatement"){h.__continue=!0}else if(d=="VariableDeclaration"){var u=i.declarations;
for(var t=0;t<u.length;t++)e5.eval(u[t],$,h)}else if(d=="VariableDeclarator"){h[i.id.name]=i.init?e5.qY(i.init,$,h):null}else if(d=="FunctionDeclaration"){h[i.id.name]=i}else if(d=="MemberExpression"){var U=e5.qY(i.object,$,h),y=i.computed?e5.qY(i.property,$,h):e5.eval(i.property,$,h),l;
if(U.rB!=null)l=e5._Y.lL(U,y,$,h);else if(U==window&&e5.wn[y]){}else l=U[y];return l}else if(d=="ArrayExpression"){var a=[],v=i.elements;
for(var t=0;t<v.length;t++)a.push(e5.qY(v[t],$,h));return a}else if(d=="ObjectExpression"){var a={},v=i.properties;
for(var t=0;t<v.length;t++){var c=v[t],p=v[t].key.name?v[t].key.name:v[t].key.value;a[p]=e5.qY(v[t].value,$,h)}return a}else if(d=="ExpressionStatement"){return e5.eval(i.expression,$,h)}else if(d=="NewExpression"){var C=i.arguments,T=i.callee,E=T.type,r=T.name,Y=[],a=null;
for(var t=0;t<C.length;t++)Y.push(e5.qY(C[t],$,h));if(r=="Array")a=new window[r];else if(E=="Identifier")a=e5._Y.ahr(r,Y,$,h);
else throw"e";if(a==null)throw"new "+r;return a}else if(d=="CallExpression"){var C=i.arguments,T=i.callee,E=T.type,S={};
for(var m in h)S[m]=h[m];var Y=[];for(var t=0;t<C.length;t++)Y.push(e5.qY(C[t],$,h));if(E=="Identifier"){var Q=T.name,z=h[Q];
if(z){if(z.params){var n=z.params;for(var t=0;t<n.length;t++)S[n[t].name]=Y[t];return e5.eval(z.body,$,S)}else{return z.apply(null,Y)}}else if(e5._Y.aeZ.indexOf(Q)!=-1)return e5._Y.xk({rB:"Application"},Q,Y,$,h);
else if(window[Q]==null)console.log("Unknown function "+Q);else if(e5.wn[Q])alert(Q+"() not available");
else{var Z=window[Q].apply(window,Y);return Z}}else if(E=="MemberExpression"){var U=e5.qY(T.object,$,h),y=T.computed?e5.qY(T.property,$,h):e5.eval(T.property,$,h);
if(U==window&&e5.wn[y])return;if(U.rB!=null)return e5._Y.xk(U,y,Y,$,h);else if(y=="sort"&&U[0]&&U[0].rB=="Layer"){return U.sort(function(o,N){return o.L.getName()>N.L.getName()?1:-1})}else return U[y].apply(U,Y)}else if(E=="FunctionExpression"){return e5.eval(T.body,$,h)}else console.log(i)}else if(d=="AssignmentExpression"){var P=i.operator,V=i.left,I=V.type,q=e5.qY(V,$,h),X=e5.qY(i.right,$,h),l=null;
if(!1){}else if(P=="=")l=X;else if(P=="+=")l=q+X;else if(P=="-=")l=q-X;else if(P=="*=")l=q*X;else if(P=="/=")l=q/X;
else if(P=="%=")l=q%X;else if(P=="&=")l=q&X;else if(P=="|=")l=q|X;else if(P=="&&=")l=q&&X;else if(P=="||=")l=q||X;
else console.log(i);if(I=="Identifier"){var B=V.name;if(h.hasOwnProperty(B))h[B]=l;else h.__window[B]=l}else if(I=="MemberExpression"){var e=e5.eval(V.property,$,h),F=e5.qY(V.object,$,h);
if(F.rB!=null)e5._Y.a1o(F,e,l,$,h);else F[e]=l}else console.log(i)}else if(d=="Identifier")return i.name;
else if(d=="Literal")return i.value;else if(d=="UpdateExpression"){var P=i.operator,s=i.argument.name,a=e5.qY(i.argument,$,h),J=h;
if(J[s]==null)J=h.__window;if(!1){}else if(P=="++"){J[s]++;return i.prefix?J[s]:J[s]-1}else if(P=="--"){J[s]--;
return i.prefix?J[s]:J[s]+1}else console.log(i)}else if(d=="UnaryExpression"){var P=i.operator,W=e5.qY(i.argument,$,h);
if(W.rB=="UnitValue"){if(P=="-")return-W.L;else return e5.aaI(W.L,P)}else return e5.aaI(W,P)}else if(d=="BinaryExpression"||d=="LogicalExpression"){var P=i.operator,V=e5.qY(i.left,$,h),W=e5.qY(i.right,$,h);
if(V==null||W==null)return e5.wF(V,W,P);else if(V.rB=="UnitValue"&&W.rB=="UnitValue")return e5.wF(V.L,W.L,P);
else if(V.rB=="UnitValue")return e5.wF(V.L,W,P);else if(W.rB=="UnitValue"){if(P=="-")return-(V-W.L);
else return e5.wF(V,W.L,P)}else return e5.wF(V,W,P)}else if(d=="IfStatement"||d=="ConditionalExpression"){var L=e5.qY(i.test,$,h);
if(L)return e5.eval(i.consequent,$,h);else if(i.alternate)return e5.eval(i.alternate,$,h)}else if(d=="ForInStatement"){e5.eval(i.left,$,h);
var A=i.left.declarations[0].id.name,j=e5.qY(i.right,$,h);for(var m in j){h[A]=m;var G=e5.eval(i.body,$,h);
if(h.__break)break;if(h.__return)return G}h.__break=!1}else if(d=="ForStatement"){e5.eval(i.init,$,h);
while(e5.eval(i.test,$,h)){var G=e5.eval(i.body,$,h);if(h.__break)break;if(h.__return)return G;e5.eval(i.update,$,h)}h.__break=!1}else if(d=="DoWhileStatement"){do{var G=e5.eval(i.body,$,h);
if(h.__break)break;if(h.__return)return G}while(e5.eval(i.test,$,h));h.__break=!1}else if(d=="TryStatement"){e5.eval(i.block,$,h);
if(h.__throw){var O=i.handler;h[O.param.name]=h.__throw;h.__throw=!1;e5.eval(O.body,$,h);delete h[O.param.name]}}else if(d=="EmptyStatement"){}else console.log(i)};
e5.wF=function(i,$,h){if(h=="+")return i+$;else if(h=="-")return i-$;else if(h=="*")return i*$;else if(h=="/")return i/$;
else if(h=="%")return i%$;else if(h=="^")return i^$;else if(h=="&")return i&$;else if(h=="&&")return i&&$;
else if(h=="|")return i|$;else if(h=="||")return i||$;else if(h=="<")return i<$;else if(h==">")return i>$;
else if(h=="=="){if(i.rB&&$.rB)return i.L==$.L;return i==$}else if(h=="===")return i===$;else if(h=="<=")return i<=$;
else if(h==">=")return i>=$;else if(h=="!=")return i!=$;else if(h=="!==")return i!==$;else if(h=="<<")return i<<$;
else if(h==">>")return i>>$;else console.log(h)};e5.aaI=function(i,$){if($=="-")return-i;else if($=="!")return!i;
else if($=="~")return~i;else if($=="+")return i;else if($=="typeof")return typeof i;else console.log($,i)};
e5.qY=function(i,$,h){var d=i.type;if(d=="Identifier")return e5.aaS(i.name,$,h);else return e5.eval(i,$,h)};
e5.aaS=function(i,$,h){if(i=="undefined")return undefined;else if(h.hasOwnProperty(i))return h[i];else if(i=="app")return{rB:"Application"};
else if(i=="$")return{rB:"$"};else if(e5._Y.a6a.indexOf(i)!=-1)return e5._Y.lL({rB:"Application"},i,$,h);
else if(h.__window.hasOwnProperty(i))return h.__window[i];else if(window[i]&&!e5.wn[i])return window[i];
else{h[i]=null;return null}};e5._Y={};e5._Y.ahr=function(i,$,h,d){var K;if(i=="SolidColor")K={rB:i,L:[1,0,0,0]};
if(i=="RGBColor")K={rB:i,L:[1,0,0,0]};if(i=="Window")K={rB:i,L:new f7($[0],$[1],$[2])};if(i=="ExportOptionsSaveForWeb")K={rB:i,L:{BC:"png",Ko:100}};
if(i=="JPEGSaveOptions")K={rB:i,L:{BC:"jpg",Ko:100}};if(i=="PDFSaveOptions")K={rB:i,L:{BC:"pdf",a3u:""}};
if(i=="File")K={rB:i,L:$[0]};if(i=="ActionReference")K={rB:i,L:[]};if(i=="ActionDescriptor")K={rB:i,L:{}};
if(i=="ActionList")K={rB:i,L:[]};if(i=="UnitValue")K={rB:i,L:$.length==0?0:parseFloat($[0])};return K};
e5._Y.a6a="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
e5._Y.aeZ="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
e5._Y.lL=function(i,$,h,d){var K=h.Ie,f=h.l3();if(!1){}else if($=="typename"){if(i.rB=="Layer")return i.L.BT()?"LayerSet":"ArtLayer";
else return i.rB}else if(["Document","Layer"].indexOf(i.rB)!=-1&&["layers","artLayers","layerSets"].indexOf($)!=-1){var l=f.root,u={rB:"Layers",atc:$,L:[]};
if(i.rB=="Layer")l=f.root.$p(f.B.indexOf(i.L));if(l.children==null)return null;for(var t=0;t<l.children.length;
t++){var U=l.children[t].a,y=U.BT();if(y&&$=="artLayers"||!y&&$=="layerSets")continue;u.L.push({rB:"Layer",L:U})}u.L.reverse();
return u}else if(i.rB=="Documents"||i.rB=="Layers"||i.rB=="HistoryStates"||i.rB=="LayerComps"){if(!1){}else if($=="length")return i.L.length;
else if(Number.isInteger($))return i.L[$];else console.log(i.rB+": unknown property ",$)}else if(i.rB=="Application"){if(!1){}else if($=="activeDocument")return{rB:"Document",L:h.l3()};
else if($=="documents"){var u={rB:"Documents",L:[]};for(var t=0;t<h.B_.length;t++)u.L.push({rB:"Document",L:h.B_[t]});
return u}else if($=="fonts")return{rB:"TextFonts"};else if($=="preferences")return{rB:"Preferences"};
else if($=="displayDialogs")return{rB:"DialogModes"};else if($=="foregroundColor"||$=="backgroundColor"){var a=$[0]=="f"?K.Mz:K.n9;
return{rB:"SolidColor",L:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}}else if($=="UI")return{rB:"UI"};
else if($=="version")return 30;else console.log(i,$)}else if(i.rB=="Document"){var f=i.L;if(!1){}else if($=="activeLayer"){var U=f.B[f.g[0]];
return{rB:"Layer",L:U}}else if($=="resolution")return f._m;else if($=="width")return f.e;else if($=="height")return f.n;
else if($=="name")return f.name;else if($=="saved")return!f.k5();else if($=="selection")return{rB:"Selection"};
else if($=="activeHistoryState")return{rB:"HistoryState",zH:f.oD};else if($=="source")return f.TF;else if($=="layerComps"){var v=f.wh.list.v,c=[];
for(var t=0;t<v.length;t++)c.push({rB:"LayerComp",L:t});return{rB:"LayerComps",L:c}}else if($=="historyStates"){var p=[];
for(var t=0;t<f.history.length;t++)p.push({rB:"HistoryState",zH:t});return{rB:"HistoryStates",L:p}}else if($=="mode")return 7;
else console.log(i,$)}else if(i.rB=="LayerComp"){if($=="name")return f.wh.list.v[i.L].v.Nm.v;else throw $}else if(i.rB=="Layer"){var C={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},U=i.L;
if(!1){}else if($=="visible")return U.ji();else if($=="selected")return f.g.indexOf(f.B.indexOf(U))!=-1;
else if($=="grouped")return U.sD;else if(C[$]!=null)return U.wC(C[$]);else if($=="opacity")return U.opacity*100/255;
else if($=="blendMode")return U.R$;else if($=="name")return U.getName();else if($=="textItem")return{rB:"TextItem",L:U};
else if($=="bounds"){var T=D.vA.bL(f,[f.B.indexOf(U)]);return e5._Y.ail(T,f)}else if($=="parent"){var E=h.B_;
for(var t=0;t<E.length;t++)if(E[t].B.indexOf(U)!=-1)return{rB:"Document",L:E[t]}}else if($=="kind"){var r=e5._Y.ox;
for(var t=0;t<r.length;t++)if(U.add[r[t]]!=null)return t;return 0}else if($=="isBackgroundLayer")return U.add.lnsr="bgnd";
else console.log(i,$)}else if(i.rB=="Selection"){if(!1){}else if($=="bounds"){if(f.J==null)d.__throw={message:"no selection"};
else return e5._Y.ail(f.J.rect,f)}else console.log(i,$)}else if(i.rB=="TextItem"){var Y=i.L.add.TySh,S=Y.$D,m=jP.Gs(S),Q=Y.D.Qa(),z=jP.Zg(S,0,Math.max(0,m.length-2));
if($=="contents")return m.slice(0,m.length-1).replace(/\n/g,"\r");else if($=="font")return z.TL.Font!=null?z.A8[z.TL.Font].Name:null;
else if($=="size")return e5._Y.Da(z.TL.FontSize*Q,f);else if($=="leading")return e5._Y.Da(z.TL.Leading*Q,f);
else if($=="tracking")return e5._Y.Da(z.TL.Tracking);else if($=="baselineShift")return e5._Y.Da(z.TL.BaselineShift);
else if($=="fauxBold")return z.TL.FauxBold;else if($=="fauxItalic")return z.TL.FauxItalic;else if($=="kind")return 1-jP.dO(S);
else if($=="useAutoLeading")return z.OU.AutoLeading;else if($=="hyphenation")return z.OU.AutoHyphenate;
else if($=="justification")return e5._Y.Da(z.OU.Justification);else if($=="color")return{rB:"SolidColor",L:z.TL.FillColor.Values.slice(0)};
else if($=="width"||$=="height"){var n=jP.__(S),Z=(n[2]-n[0])*Q,P=(n[3]-n[1])*Q;return e5._Y.Da($=="width"?Z:P,f)}else if($=="position"){var V=Y.D;
return e5._Y.a4y([V.wQ,V.FQ],f)}else if($=="horizontalScale"||$=="verticalScale"){var I=$[0].toUpperCase()+$.slice(1);
return Math.round(z.TL[I]*100)}else if($=="antiAliasMethod")jP.TV(Y);else if($=="totalTextStyle"){var u={};
for(var q=0;q<2;q++){var X=["Style","Paragraph"][q],B=S.EngineDict[X+"Run"].RunLengthArray,e=[],F=0;
for(var t=0;t<B.length;t++){var s=jP.Zg(S,F,Math.min(F+B[t],m.length-2));F+=B[t];e.push(q==0?s.TL:s.OU);
u.fontSet=s.A8}u[X]={runs:B,styles:e}}return JSON.stringify(u)}else if($=="transform"){var V=Y.D;return JSON.stringify([V.Pi,V.Z,V.sl,V.Zn,V.wQ,V.FQ])}else console.log(i,$)}else if(i.rB=="Preferences"){if($=="rulerUnits")return K.ZZ.CP;
else console.log(i,$)}else if(i.rB=="SolidColor"){if($=="rgb")return{rB:"RGBColor",L:i.L};else console.log(i,$)}else if(i.rB=="RGBColor"){var T=Math.round(255*i.L[1]),J=Math.round(255*i.L[2]),W=Math.round(255*i.L[3]);
if(!1){}else if($=="red")return T;else if($=="green")return J;else if($=="blue")return W;else if($=="hexValue")return"#"+k._V(T<<16|J<<8|W).toUpperCase();
else console.log(i,$)}else if(i.rB=="UnitValue"){if($=="value")return i.L;else throw"e"}else if(i.rB=="ExportOptionsSaveForWeb"){if($=="format")return i.L.BC;
else if($=="PNG8"||$=="interlaced")return!1;else if($=="quality")return i.L.Ko;else if($=="transparency")return!0;
else throw $}else if(i.rB=="JPEGSaveOptions"||i.rB=="PDFSaveOptions"){return 0}else if(i.rB=="$"){if($=="localize")return!1}else if(i.rB=="ActionList"){if($=="count")return i.vG.length;
else throw $}else console.log(i,$)};e5._Y.ail=function(i,$){return e5._Y.a4y([i.x,i.y,i.x+i.e,i.y+i.n],$)};
e5._Y.a4y=function(i,$){var h=[];for(var t=0;t<i.length;t++)h.push(e5._Y.Da(i[t],$));return h};e5._Y.anI=function(i){var $=[];
for(var t=0;t<i.length;t++)$.push(i[t].rB?i[t].L:i[t]);return $};e5._Y.Da=function(i,$){return{rB:"UnitValue",L:i}};
e5._Y.a2e=function(i,$){if(i.rB=="UnitValue")return i.L;return i};e5._Y.a1o=function(i,$,h,d,K){var f=new eU(x.E.s,!0),l=new eU(x.E.k,!0),u=d.l3(),U=d.Ie;
if(!1){}else if(i.rB=="Application"){if(!1){}else if($=="activeDocument"){l.data={d:x.c.T0,x3:h.L};d.$(l)}else if($=="displayDialogs"){}else if($=="foregroundColor"||$=="backgroundColor"){var y=h.L,a=y[1]*255<<16|y[2]*255<<8|y[3]*255<<0;
l.data={d:x.c.vj,J0:dC.xq,vC:$=="foregroundColor"?0:1,L:a};d.$(l)}else console.log(i,$,h)}else if(i.rB=="Document"){var v=i.L;
if(!1){}else if($=="name"){f.b=D.$S;f.data={d:H.h0,L:h,auZ:!0,pW:v};u.u6=!0}else if($=="source")v.TF=h;
else if($=="activeLayer"){v.g=[v.B.indexOf(h.L)]}else if($=="activeHistoryState"){f.b=D.BL;f.data={d:"h_itemchange",index:h.zH}}else console.log(i,$)}else if(i.rB=="Layer"){f.b=D.$S;
var c={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},p=i.L,C=u.B.indexOf(p);
if(!1){}else if($=="visible"){if(p.ji()!=h)f.data={d:H.Ja,a:C}}else if($=="opacity"){f.data={d:H.PW,a:C,gj:Math.round(255*h/100)}}else if($=="blendMode"){f.data={d:H.L0,a:C,gj:ca.bj.indexOf(h)}}else if($=="name"){f.data={d:H.gv,a:C,name:h}}else if(c[$]!=null){f.data={d:H.ex,a:C,gj:[[h],[c[$]]]}}else if($=="kind"){f.data={d:H.fi,a:C,bf:e5._Y.ox[h]}}else if($=="grouped"){f.data={d:H.bx,a:C,gj:h}}else console.log(i,$,h)}else if(i.rB=="TextItem"){f.b=D.z2;
var p=i.L,T=p.add.TySh,E=JSON.parse(JSON.stringify(T.$D)),r=T.D.clone(),Y=T.D.Qa(),m=jP.Gs(E),Q=jP.Zg(E,0,m.length-2),z=!1;
if(!1){}else if($=="contents"){jP.UF(E,0,m.length-1);jP.uE(E,0,h.replace(/\r/g,"\n"))}else if($=="size"){Q.TL.FontSize=(h.L!=null?h.L:h)/Y;
z=!0}else if($=="leading"){Q.TL.Leading=(h.L!=null?h.L:h)/Y;z=!0}else if($=="tracking"){Q.TL.Tracking=h.L!=null?h.L:h;
z=!0}else if($=="baselineShift"){Q.TL.BaselineShift=h.L!=null?h.L:h;z=!0}else if($=="fauxBold"){Q.TL.FauxBold=h;
z=!0}else if($=="fauxItalic"){Q.TL.FauxItalic=h;z=!0}else if($=="kind"){var n=jP.dO(E);if(n==1&&h==1){var Z=new kd(E,d.Ie.SB).OU[0],P=Z.Go[0].end,V=Z.gP[P-1].end;
jP.UF(E,0,m.length-1);jP.uE(E,0,m.slice(0,V-1))}if(n==h)jP.tA(E,1-h)}else if($=="useAutoLeading"){Q.OU.AutoLeading=h;
z=!0}else if($=="hyphenation"){Q.OU.AutoHyphenate=h;z=!0}else if($=="justification"){Q.OU.Justification=h;
z=!0}else if($=="font"){jP.Qr(Q,h);z=!0}else if($=="color"){Q.TL.FillColor.Values=h.L.slice(0);z=!0}else if($=="width"||$=="height"){var I=jP.__(E).slice(0),q=e5._Y.a2e(h);
if($=="width")I[2]=Math.round(I[0]+q/Y);else I[3]=Math.round(I[1]+q/Y);jP.pt(E,I)}else if($=="position"){r.wQ=h[0];
r.FQ=h[1]}else if($=="horizontalScale"||$=="verticalScale"){var X=$[0].toUpperCase()+$.slice(1);Q.TL[X]=h/100;
z=!0}else if($=="antiAliasMethod")jP.Td(T,h);else console.log(i,$,h);if(z)jP.jV(E,0,m.length-1,Q);f.data={d:"newED",g5:u.B.indexOf(p),hj:E,D:r}}else if(i.rB=="Preferences"){if(!1){}else if($=="rulerUnits"){var B=JSON.parse(JSON.stringify(U.ZZ));
B.CP=h;l.data={d:x.c.vj,J0:dC.Nc,gj:B};d.$(l)}else console.log(i,$,h)}else if(i.rB=="SolidColor"){if($=="rgb")i.L=h.L;
else throw $}else if(i.rB=="RGBColor"){if(!1){}else if($=="red")i.L[1]=h/255;else if($=="green")i.L[2]=h/255;
else if($=="blue")i.L[3]=h/255;else if($=="hexValue"){var e=k.d1(h.slice(1));i.L[1]=(e>>>16&255)/255;
i.L[2]=(e>>>8&255)/255;i.L[3]=(e>>>0&255)/255}else console.log(i,$)}else if(i.rB=="ExportOptionsSaveForWeb"){if($=="format")i.L.BC=h;
else if($=="PNG8"||$=="transparency"||$=="interlaced"){}else if($=="quality")i.L.Ko=h;else throw $}else if(i.rB=="JPEGSaveOptions"){if($=="quality")i.L.Ko=Math.round(100*h/12)}else if(i.rB=="PDFSaveOptions"){if($=="preset")i.L.a3u=h}else if(i.rB=="$"){if($=="localize"){}}else console.log(i,$,h);
if(f.data!=null)d.$(f)};e5._Y.xk=function(i,$,h,d,K){var f=i.rB,l=null,u=new eU(x.E.s,!0),U=new eU(x.E.jm,!0),y=new eU(x.E.k,!0),a=d.l3(),v=d.B_;
if(!1){}else if(f=="Application"){if(!1){}else if($=="charIDToTypeID"){var c=h[0].trim(),p={slct:"select",Dlt:"delete",Mk:"make"};
return p[c]?p[c]:c}else if($=="stringIDToTypeID"){var C=h[0].trim(),p={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},T=p[C];
return T==null?C:T}else if($=="typeIDToStringID"){return h[0].trim()}else if($=="executeAction"){console.log(h);
var E;if(h[1]){E=h[1].L;E.classID=h[0]}var r={setd:"set"},Y=r[h[0]];if(Y==null)Y=h[0];var m=f2.E2[h[0]];
if(m&&f2.FC[m])Y=f2.FC[m];U.data={Fs:Y,B6:E}}else if($=="executeActionGet"){return{rB:"ActionDescriptor",L:{classID:"null",null:{t:"obj ",v:h[0].L}},vG:a.B[a.g[0]]}}else if($=="doAction"){y.data={d:x.c.Xf,ZP:[h[0],h[1]]}}else if($=="bringToFront"){}else if($=="open"){y.data={d:x.c.gu,J0:{url:h[0]}};
if(h[2]&&v.length!=0)y.data.J0.LL=v.indexOf(a)}else if($=="echoToOE"){y.data={d:x.c.pQ,J0:h[0]}}else console.log($)}else if(f=="LayerComp"){if($=="apply"){u.b=D.nr;
u.data={d:"setLC",zH:a.wh.list.v[i.L].v.compID.v}}else throw $}else if(f=="Document"){var a=i.L;if(!1){}else if($=="crop"){U.data=D.Xw.asV(h[0])}else if($=="trim"){var Q=[];
for(var t=0;t<4;t++)Q.push(h[t+1]!=null?h[t+1]:!0);U.data=D.Xw.cr(h[0]!=null?h[0]:0,Q)}else if($=="suspendHistory"){var z=acorn.parse(h[1]);
e5.eval(z,d,K)}else if($=="save"){y.data={d:x.c.ms}}else if($=="saveToOE"){y.data={d:x.c.ms,Mt:h}}else if($=="rotateCanvas"){U.data=D.vA.Fn(!0,h[0])}else if($=="resizeImage"||$=="resizeCanvas"){var n=h[0],Z=h[1];
if(typeof n!="number"){n=a.e*parseFloat(n.slice(0,n.length-1))/100;Z=a.n*parseFloat(Z.slice(0,Z.length-1))/100}if($=="resizeCanvas")U.data=D.Xw.ake(Math.round(n),Math.round(Z),h[2]);
else U.data=D.Xw.aaW(Math.round(n),Math.round(Z),null,1)}else if($=="paste"){y.data={d:x.c.So,wY:h.length!=0&&h[0],ld:!0}}else if($=="close"){y.data={d:x.c.IS,g1:a}}else if($=="exportDocument"||$=="saveAs"){var P=K.__fs,V=h[0].L.replace(":","").replace("~/",""),I=$=="exportDocument"?h[2].L:h[1].L,q=em.kW(a,I.BC,null,null,I.BC=="pdf"?null:[I.Ko],d.Ie);
P[V]=new Uint8Array(q)}else if($=="flatten"){U.data={Fs:"flattenImage"}}else console.log(i,$,h)}else if(f=="Layer"){var X=i.L,B=a.B.indexOf(X);
if(!1){}else if($=="copy"){e5._Y.NS(a,d,0);y.data={d:x.c.bk,fz:h[0],oG:B,ld:!0};d.$(y);delete y.data;
e5._Y.NS(a,d,1)}else if($=="clear"){e5._Y.NS(a,d,0);U.data={Fs:"delete"};d.$(U);delete U.data;e5._Y.NS(a,d,1)}else if($=="duplicate"){if(h.length==0){var e=a.g.slice(0);
u.data={d:H.kq,a:B};u.b=D.$S;d.$(u);u.data=null;l={rB:"Layer",L:a.B[a.g[0]]};a.g=e}else if(h[0].rB=="Document"){u.data={d:H.Ux,B:a.gM(B),ve:a,Kl:h[0].L};
u.b=D.$S}}else if($=="merge"||$=="remove"){u.data={d:$=="merge"?H.qJ:H.c1,a:B};u.b=D.$S;if($!="remove")l={rB:"Layer",L:a.B[a.g[0]]}}else if($=="move"){u.data={d:H.J5,source:B,target:a.B.indexOf(h[0].L),EG:h[1]!=3?.6:.3};
u.b=D.$S}else if($=="rasterize"){U.data={Fs:"rasterizeLayer",B6:{classID:"rasterizeLayer",null:jV.uf("Lyr",!0)}}}else if($=="rotate"){u.data={d:"rot",Q8:[2,5],L:-h[0]*Math.PI/180,kt:h[1],a:B};
u.b=D.Ey}else if($=="resize"){u.data={d:"scl",Q8:[2,4],L:new cq(h[0]/100,h[1]/100),kt:h[2],a:B};u.b=D.Ey}else if($=="translate"){var F=e5._Y.anI(h);
u.data={d:"trsl",a:B,FH:F[0],cT:F[1]};u.b=D.MW}else if($=="link"){u.data={d:H.y0,ag2:[B,a.B.indexOf(h[0].L)]};
u.b=D.$S}else if($=="invert"){u.b=D.xT;u.data={d:"start",Mm:"nvrt"}}else if($.startsWith("apply")&&d1._B[$.slice(5)]||$.startsWith("adjust")&&d1._B[$.slice(6)]){var s=$.startsWith("apply"),F=e5._Y.anI(h),J=d1._B[$.slice(s?5:6)];
U.data={Fs:s?d1.FC[J]:f2.FC[J]};var E=d1.U9(J);if(E){a.g=[B];d1.Qq["g"+J](E,F);U.data.B6=E}}else console.log(i,$,h)}else if(f=="Documents"){if($=="getByName"){for(var t=0;
t<v.length;t++)if(v[t].name==h[0])return{rB:"Document",L:v[t]};return null}else if($=="add"){var W=h[5];
if(W==null)W=1;U.data=hR.co(h[0],h[1],h[2],h[3],["Wht","Trns","BckC"][W],!1)}else throw"e"}else if(f=="Layers"){if($=="getByName"){for(var t=0;
t<i.L.length;t++)if(i.L[t].L.getName()==h[0]){l=i.L[t];break}if(l==null)K.__throw={message:"No layer with a name "+h[0]}}else if($=="add"){u.data={d:i.atc=="layerSets"?H.nW:H.vY};
u.b=D.$S;d.$(u);u.data=null;l={rB:"Layer",L:a.B[a.g[0]]}}else console.log(i,$,h)}else if(i.rB=="Selection"){if($=="select"){var L=h[0],A=[];
for(var t=0;t<L.length;t++)A.push(L[t][0],L[t][1]);U.data=D.n1.Y7(A)}else if($=="clear"){U.data={Fs:"delete"}}else if($=="selectAll"){U.data=D.n1.Yy(!0)}else if($=="invert"){U.data={Fs:"inverse"}}else if($=="copy"){y.data={d:x.c.bk}}else if($=="deselect"){U.data=D.n1.Yy()}else if($=="fill"){var j=h[0].L;
j=k.M.Aw({o:j[1]*255,P:j[2]*255,Z:j[3]*255});U.data=D.Gg.kg("Clr",h[1],h[2]==null?1:h[2]/100,j)}else if($=="translate"){var E={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h[1]}}}}};
U.data={Fs:"move",B6:E}}else if($=="smooth"){U.data=D.n1.alT("smoothness",h[0],!1)}else console.log(i,$,h)}else if(i.rB=="Window"){if($=="show"){y.data={d:x.c.ZD,Kh:i.L}}else throw"e"}else if(i.rB=="ActionReference"){if($=="putProperty"){i.L.push({t:"prop",v:{classID:h[0],keyID:h[1]}})}else if($=="putClass"){i.L.push({t:"Clss",v:{classID:h[0]}})}else if($=="putEnumerated"){i.L.push({t:"Enmr",v:{classID:h[0],typeID:h[1],enum:h[2]}})}else if($=="putName"){i.L.push({t:"name",v:{classID:h[0],val:h[1]}})}else console.log($,h)}else if(i.rB=="ActionDescriptor"||i.rB=="ActionList"){if($=="putReference"){i.L[h[0]]={t:"obj ",v:h[1].L}}else if($=="putDouble"){i.L[h[0]]={t:"doub",v:h[1]}}else if($=="putUnitDouble"){i.L[h[0]]={t:"UntF",v:{type:h[1],val:h[2]}}}else if($=="putObject"){if(i.rB=="ActionList"){var G=h[1].L;
G.classID=h[0];i.L.push({t:"Objc",v:G})}else{var G=h[2].L;G.classID=h[1];i.L[h[0]]={t:"Objc",v:G}}}else if($=="putList"){i.L[h[0]]={t:"VlLs",v:h[1].L}}else if($=="putBoolean"){i.L[h[0]]={t:"bool",v:h[1]}}else if($=="putInteger"){i.L[h[0]]={t:"long",v:h[1]}}else if($=="putString"){i.L[h[0]]={t:"TEXT",v:h[1]}}else if($=="putEnumerated"){var O={};
O[h[1]]=h[2];i.L[h[0]]={t:"enum",v:O}}else if($=="hasKey"){var X=a.B[a.g[0]],c=h[0];if(c=="textKey")return X.add.TySh!=null;
var o=i.L.null.v;for(var t=0;t<o.length;t++){if(o[t].v.keyID==h[0]){if(c=="UsrM"){return X.MQ()!=null}else throw h}}}else if($=="getEnumerationValue"){if(h[0]=="layerSection")l="layerSectionContent";
else console.log(h)}else if($=="getBoolean"){if(h[0]=="background")l=!1;else console.log(h)}else if($=="getString"){if(h[0]=="name")l=i.vG.getName();
else if(h[0]=="textKey")l=jP.Gs(i.vG.$D);else console.log(i,h)}else if($=="getObjectValue"){if(h[0]=="textKey"){l={rB:"ActionDescriptor",vG:i.vG.add.TySh}}else if(typeof h[0]=="number")l=i.vG[h[0]];
else throw h[0]}else if($=="getList"){l={rB:"ActionList"};if(h[0]=="paragraphStyleRange")l.vG=i.vG.$D.EngineDict.ParagraphRun.RunArray;
else if(h[0]=="kerningRange")l.vG=[];else if(h[0]=="textStyleRange")l.vG=i.vG.$D.EngineDict.StyleRun.RunArray;
else throw h}else console.log($,h)}else if(i.rB=="$"){if($=="writeln"){console.log(h[0])}else throw $}else if(i.rB=="UI"){if($=="scroll"||$=="scrollTo"){var N=h[0],w=h[1],kv=a.u.N;
if($=="scrollTo"){N=(-a.e/2+N)*kv+a.u.I.x;w=(-a.n/2+w)*kv+a.u.I.y}u.b=D.GC;u.data={d:"scroll",Bb:new cq(Math.round(N),Math.round(w))}}else{var g;
if($=="zoomIn"||$=="zoomOut"){g={d:"zoom",p6:$=="zoomIn"}}else if($=="fitTheArea"){g={d:"adapt",L:"fitscr"}}else if($=="pixelToPixel"){g={d:"adapt",L:"pixel"}}u.b=D.VB;
u.data=g;if($=="switchFullscreen"){var b=d.Ie.Ub,jU=document.fullscreenElement!=null==(b==2);y.data={d:x.c.K8,L:b==0?2:0,BD:jU}}}}else console.log(i,$,h);
if(u.data)d.$(u);if(U.data)d.$(U);if(y.data)d.$(y);return l};e5._Y.NS=function(i,$,h){var d=new eU(x.E.s,!0);
d.b=D.oN;var K=new eU(x.E.jm,!0);if(h==0){e5._Y.aqX=i.J;K.data=D.n1.Yy(!0)}else{var f=e5._Y.aqX;if(f)d.data={d:"setsel",Q8:"Restore Selection",J:{rect:f.rect.clone(),channel:f.channel.slice(0)}};
else K.data=D.n1.Yy()}$.$(d.data?d:K)};e5._Y.aqX=null;e5._Y.CL={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
e5._Y.CL.ColorBlendMode=e5._Y.CL.BlendMode;e5._Y.ox="---- SoLd TySh SoCo GdFl PtFl".split(" ");function aX(){}aX.Tg={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
aX.PM={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
aX.auX=function(i,$){if($==null)$={};var h=aX.PM,d=[],K=[],f="";for(var t=0;t<i.length;t++){var l=i[t],u=h[l[0]+""];
if(u&&$[u]==null)$[u]=l[1];else if(l[0]==12)K.push(l[1]);else if(l[0]==25)d.push(l[1]);else if(l[0]==55)f=l[1];
else if(l[0]==60)f+=";"+l[1]}if(f!=""&&$["exif:DateTimeOriginal"]==null)$["exif:DateTimeOriginal"]=f;
if(K.length!=0&&$["Iptc4xmpCore:SubjectCode"]==null)$["Iptc4xmpCore:SubjectCode"]=K.join(";");if(d.length!=0&&$["dc:Keywords"]==null)$["dc:Keywords"]=d.join(";");
return $};aX.aiv=function(i){var $=aX.PM,h=[];for(var d in $)if(i[$[d]])h.push([parseInt(d),i[$[d]]]);
if(i["Iptc4xmpCore:SubjectCode"]){var K=i["Iptc4xmpCore:SubjectCode"].split(";");for(var t=0;t<K.length;
t++)h.push([12,K[t].trim()])}if(i["dc:Keywords"]){var K=i["dc:Keywords"].split(";");for(var t=0;t<K.length;
t++)h.push([25,K[t].trim()])}h.sort(function(f,l){return f[0]-l[0]});return h};aX.agS=function(i,$){if($==null)$={};
var h=new DOMParser,d=h.parseFromString(i,"image/svg+xml"),K=d.getElementsByTagName("rdf:Description")[0];
if(K==null)return $;var f=aX.Tg;for(var l in f){var u=f[l][2];if(u==null)continue;var U=K.getElementsByTagName(u)[0];
if(U==null)continue;var y=U.getElementsByTagName("rdf:li"),a=[];for(var t=0;t<y.length;t++)a.push(y[t].textContent);
$[l]=a.join("; ")}return $};aX.auG=function(i){var $=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],h=aX.Tg;
for(var d in h){var K=i[d],f=h[d][2],l="Seq",u="";if(K==null||f==null)continue;if(f=="dc:title"||f=="dc:description"){l="Alt";
u=" xml:lang=\"x-default\""}if(f=="dc:subject")l="Bag";$.push("\t<"+f+"><rdf:"+l+">");var U=f=="dc:subject"?K.split(";").join(",").split(","):[K];
for(var t=0;t<U.length;t++)$.push("\t\t<rdf:li"+u+">"+U[t].trim()+"</rdf:li>");$.push("\t</rdf:"+l+"></"+f+">")}$.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return $.join("\n")};aX.aoS=function(i){var $=[];for(var t=0;t<i.length;t++)$[t]=i[t][1]==0?0:i[t][0]/i[t][1];
return $};aX.aia=function(i){var $=[];for(var t=0;t<i.length;t++){var h=i[t],d=1;if(h!=Math.round(h)){d=1e3;
h=Math.round(h*d)}$[t]=[h,d]}return $};aX.qB=function(i,$){var h=aX.Tg;if($==null)$={};for(var d in h){var K=h[d][1],f="t"+K;
if(K!=null&&i[f]!=null){var l=i[f];if(K==0)l=l.join(".");else if(K==2||K==4){var u=i["t"+(K-1)];if(u==null)u=[K==2?"N":"E"];
l=aX.aoS(l).join(",")+u[0]}else if(K==42034)l=aX.aoS(l).join(" ");else if(K==270||K==315){var U=l[0],y=new Uint8Array(U.length);
M.vI(y,0,U);l=M.kV(y)}else l=l[0];$[d]=l}}if(i.exifIFD)aX.qB(i.exifIFD,$);if(i.gpsiIFD)aX.qB(i.gpsiIFD,$);
return $};aX.v0=function(i,$,h){var d=aX.Tg,f=0,u=0;if($==null)$={};var K={},l={};for(var U in d){if(i[U]==null||d[U][1]==null)continue;
var y=d[U][1],a="t"+y,v=$;if(U.startsWith("exif:")){v=K;f++;if(U.startsWith("exif:GPS")){v=l;u++}}var c=i[U];
if(y==0)c=new Uint8Array(c.split(".").map(parseFloat));else if(y==2||y==4){var p=c.length;v["t"+(y-1)]=[c.slice(c.length-1)];
c=aX.aia(c.split(",").map(parseFloat))}else if(y==42034)c=aX.aia(c.split(" ").map(parseFloat));else if(y==270||y==315){var C=M.Mr(c);
c=[M.uX(C,0,C.length)]}else c=[c];v[a]=c}if(f!=0){$.exifIFD=K;$.t34665=[0]}if(u!=0){$.gpsiIFD=l;$.t34853=[0]}var T=new Date,E=[T.getFullYear(),T.getMonth()+1,T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds()];
for(var t=0;t<6;t++)E[t]=(E[t]+"").padStart(2,"0");$.t305=["Photopea Editor (www.photopea.com)"];if(h!=!0)$.t306=[E[0]+":"+E[1]+":"+E[2]+" "+E[3]+":"+E[4]+":"+E[5]];
return $};function fl(){}fl.cL=function(i){var $={aqv:",",mH:"\r\n",Mx:"\""},h=[[""]],d,K,f,l,u;for(d=K=f=l=0;
f<i.length;f++){switch(u=i.charAt(f)){case $.Mx:if(l&&i.charAt(f+1)==$.Mx){h[d][K]+=$.Mx;++f}else{l^=1}break;
case $.aqv:if(!l){h[d][++K]=""}else{h[d][K]+=u}break;case $.mH.charAt(0):if(!l&&(!$.mH.charAt(1)||$.mH.charAt(1)&&$.mH.charAt(1)==i.charAt(f+1))){h[++d]=[""];
h[d][K=0]="";if($.mH.charAt(1)){++f}}else{h[d][K]+=u}break;default:h[d][K]+=u}}if(h[h.length-1].length<h[0].length)h.pop();
return h};var R={};R.anQ=0;R.Pu=function(){R.anQ++;return R.anQ};R.agO="uint8";R.av4=function(){var i=R.acK();
if(i=="")return 0;if(i!=R.yb("_TXZRPB;d7@;")){var $=R.Dy[al.O8][al.GL],h=$.indexOf(String.fromCharCode(35)),d;
if(h==-1)return 0;try{d=JSON.parse(R.Dy[al.ahw]($.slice(h+1)))}catch(e_){return 0}var K=d[R.yb("bQ[ODL<E<M")];
if(K==null||K.length<<2!=64)return 0;var f=al._5(),l=parseInt(K.slice(3*4).split("").reverse().join(""),16)<<16;
if(l<f||K!=al.adj(l,i))return 0;return 2}return 1};R.acK=function(){var i=R.Dy[R.c5("}$z{2*35")][R.yb("W[\\ZQAJ?")],$=String.fromCharCode(46),h=i.split($);
if(h.length<2)return"";var d=h.pop();d=h.pop()+$+d;return d};R.a1s=function(){if(R.Dy[al.a9W][al.aod]){var i=new R.Dy[al.ju];
i[al.$T](al.akX,R.yb("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+R.acK());i[al.AS]()}};R.R6=function(){if(window.top!=window.self)return!1;
var i=navigator.userAgent.toLowerCase();if(i.indexOf("android")!=-1)return!1;if(i.indexOf("safari")!=-1&&i.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};R.pJ=function(i){this.PG=i;this.abN=R.S("img");this.tk=R.S("canvas");
this.bZ=null;this.UN="";this.Pc=null;this.fD=new cq(0,0);this.at=!0;R.sM(this.PG,this.BR.bind(this))};
R.pJ.prototype.Ra=function(i,$){this.bZ=i;if($)this.UN=$;this.BR()};R.pJ.prototype.BH=function(i){this.at=i;
this.BR()};R.pJ.prototype.BR=function(i){if(i)this.fD=R.CJ(i,this.PG);var $=this.at?this.bZ:"auto",h=typeof $=="string";
if(!h){var d=R.V(),K=this.fD,f=$.gZ.e,l=$.gZ.n,u=typeof $.s$=="string",U=u?this.abN:this.tk;if(u)U.setAttribute("src",$.s$);
else{U.width=f;U.height=l;var y=U.getContext("2d"),a=new ImageData(new Uint8ClampedArray($.s$.buffer),f,l);
y.putImageData(a,0,0)}U.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(K.y-$.XK.y/d)+"px; left:"+(K.x-$.XK.x/d)+"px; width:"+f/d+"px; height:"+l/d+"px");
var v=this.Pc;if(v==null||v!=U){if(v)this.PG.removeChild(v);this.PG.appendChild(U);this.Pc=U}}else if(this.Pc){this.PG.removeChild(this.Pc);
this.Pc=null}this.PG.setAttribute("style","cursor:"+(h?$:"none")+"; "+this.UN)};R.vB=function(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
R.Vf=function(i,$){i.L5(e_.get([12,41]).charAt(0)+":");$.L5(e_.get([12,42]).charAt(0)+":")};R.S=function(i,$){var h=document.createElement(i);
if($!=null)h.className=$;return h};R.J9=function(i){while(i.firstChild)i.removeChild(i.firstChild)};
R.FK=function(i,$){var h=i.className;h=h.split(" ");if(h.indexOf($)==-1)h.push($);i.className=h.join(" ")};
R.jE=function(i,$){var h=i.className;if(h=="")return;h=h.split(" ");if(h.indexOf($)!=-1)h.splice(h.indexOf($),1);
i.className=h.join(" ")};R.bT=function(i){while(!0){if(i==document)return!0;if(i==null)return!1;i=i.parentNode}};
R.k6=function(i){i.appendChild(R.S("br"))};R.Tq=function(i){i.appendChild(R.S("hr"))};R.Lg=function(i,$,h){var d=new d_([1,12,1],h==null?!0:h,null,!0);
if(i)d.h("click",i.KO,i);if($)$.appendChild(d.m);return d};R.Dy=document;R.YN=function(i){var $=0;for(var t=0;
t<i;t++)$+=Math.random();return $/i<Math.PI/4};R.yb=function(i){var $="";if(!R.YN(28))i+="-3";for(var t=0;
t<i.length;t++){var h=i.charCodeAt(t);if(h<32||126<h)throw"e";$+=String.fromCharCode(32+(h-32+17+3*t)%95)}return $};
R.c5=function(i){var $="";if(!R.YN(28))i+="-1";for(var t=0;t<i.length;t++){var h=i.charCodeAt(t);h-=32;
h+=95e4;h-=17+3*t;h=h%95;$+=String.fromCharCode(32+h)}return $};R.NC=function(i){var $=Math.random();
R.agO="uint"+(3+$);return new i};(function(){var i=window.PointerEvent,$=i?"pointer":"mouse",h=$+"down",d=$+"move",K=$+"up",f=!1;
R.K6=function(l,u){l.addEventListener(h,u,f);if(!i)l.addEventListener("touchstart",u,f)};R.sM=function(l,u){l.addEventListener(d,u,f);
if(!i)l.addEventListener("touchmove",u,f)};R.pq=function(l,u){l.addEventListener(K,u,f);if(!i)l.addEventListener("touchend",u,f)};
R.aoi=function(l,u){l.removeEventListener(h,u,f);if(!i)l.removeEventListener("touchstart",u,f)};R.Uq=function(l,u){l.removeEventListener(d,u,f);
if(!i)l.removeEventListener("touchmove",u,f)};R.hZ=function(l,u){l.removeEventListener(K,u,f);if(!i)l.removeEventListener("touchend",u,f)}}());
R.jA=function(i){i.addEventListener("touchstart",R.HG,!1);i.addEventListener("touchmove",R.HG,!1);i.addEventListener("touchend",R.HG,!1);
i.addEventListener("gesturestart",R.HG,!1);i.addEventListener("gesturechange",R.HG,!1);i.addEventListener("gestureend",R.HG,!1)};
R.abA=function(i){var $=i.sourceCapabilities;if($)return $.firesTouchEvents;return!1};R.Pe=function(i,$,h,d){var K=R.V();
i.width=Math.floor($*K);i.height=Math.floor(h*K);if(d)d.scale(K,K);R.Sz(i)};R.Sz=function(i){var $=R.V();
i.style.width=i.width/$+"px";i.style.height=i.height/$+"px"};R.Tb=function(i,$,h){i.setAttribute("style","width:"+$/R.V()+"px; height:"+h/R.V()+"px")};
R.CJ=function(i,$){if($==null)$=i.currentTarget;var h=$.getBoundingClientRect();if(i.touches)i=i.touches.item(0);
return{x:i.clientX-h.left,y:i.clientY-h.top}};R.V=function(){return window.devicePixelRatio||1};R.zb=function(i){i.addEventListener("keydown",R.ad1,!1)};
R.ad1=function(i){i.stopPropagation()};R.HG=function(i){i.preventDefault()};R.ZY=function(i){i.stopPropagation();
i.preventDefault()};R.HD=function(i,$,h){h=h?h:"";if(PIMG["__"+i]==null)h+=" gsicon";return"<img src=\""+PIMG[i]+"\" alt=\""+($?$:"")+"\" class=\""+h+"\" />"};
R.K_=function(i,$,h,d){var K=i.dataTransfer.getData("text/uri-list");if(K!=null&&K.startsWith("http")){var f=new eU(x.E.k,!0);
f.data={d:x.c.gu,J0:{url:K,tW:!0,LL:h,$k:d}};$.$(f)}if(i.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var l=[],u=i.dataTransfer.items.length,U=i.dataTransfer.files;
for(var y of i.dataTransfer.items)y.getAsFileSystemHandle().then(function(a){l.push(a);if(l.length==u){var f=new eU(x.E.k,!0);
f.data={d:x.c.tF,data:U,LL:h,$k:d,anM:l};$.$(f)}})}else{var f=new eU(x.E.k,!0);f.data={d:x.c.tF,data:i.dataTransfer.files,LL:h,$k:d};
$.$(f)}};if(R.YN(27))R.Dy=window;else R.Dy=R.asu;R.Dy._cwY=R.Dy[R.c5("t$&!'31")];var eS={};eS.agw=function(t){var i=eS.gN[t],$=document.documentElement.style,d=1;
$.setProperty("--base","#"+k._V(i["--base"]));$.setProperty("--bg-panel","#"+k._V(i["--bg-panel"]));
$.setProperty("--bg-canvas","#"+k._V(i["--bg-canvas"]));$.setProperty("--bg-input","#"+k._V(i["--bg-input"]));
$.setProperty("--bg-bbtn","#"+k._V(i["--bg-bbtn"]));$.setProperty("--bg-bbtnOver","#"+k._V(i["--bg-bbtnOver"]));
$.setProperty("--brdr","#"+k._V(i["--brdr"]));$.setProperty("--text-color","#"+k._V(i["--text-color"]));
$.setProperty("--brdrLgt","rgba(255,255,255,"+i["--brdrLgt"]+")");$.setProperty("--brdrDrk","rgba(  0,  0,  0,"+i["--brdrDrk"]+")");
$.setProperty("--alphaDark",""+i["--alphaDark"]);$.setProperty("--gs-invert",""+i["--gs-invert"]);$.setProperty("--accent","#"+k._V(i["--accent"]));
var h=i["--sh-clr"];$.setProperty("--sh-clr","rgba("+(h>>16)+","+(h>>8&255)+","+(h&255)+", 0.45)");$.setProperty("--sh-dy",""+i["--sh-dy"]+"px");
if(1<R.V()&&R.V()<1.5)d=1/R.V();$.setProperty("--img20",20*d+"px");$.setProperty("--img18",18*d+"px");
$.setProperty("--img15",15*d+"px");if(PIMG!=null){var K="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var t=0;t<K.length;t++){var f=K[t],l=f.split("/").pop(),u=PIMG["__"+f]==null?i["--gs-invert"]:"0";
$.setProperty("--icon_"+l,"url("+PIMG[f]+")");$.setProperty("--icon_"+l+"_invrt",u)}}var U=document.querySelector("meta[name=theme-color]");
if(U)U.setAttribute("content","#"+k._V(i["--base"]))};(function(){var i=3441398,$=3441398;eS.gN=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":$},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":i},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":i},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":i},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":i},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":i},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":$}]}());
function jv(){this.Z3={};this.vJ={}}jv.prototype.a6x=function(i){var $=this.Z3[i];if($==null)return!1;
return $.length>0};jv.prototype.addEventListener=function(i,$){this.h(i,$,null)};jv.prototype.h=function(i,$,h){if(this.Z3[i]==null){this.Z3[i]=[];
this.vJ[i]=[]}this.Z3[i].push($);this.vJ[i].push(h)};jv.prototype.removeEventListener=function(i,$){var h=this.Z3[i];
if(h==null)return;var d=h.indexOf($);if(d<0)return;var K=this.vJ[i];h.splice(d,1);K.splice(d,1)};jv.prototype.$=function(i){i.currentTarget=this;
if(i.target==null)i.target=this;var $=this.Z3[i.type];if($==null)return;var h=this.vJ[i.type];for(var t=0;
t<$.length;t++){if(h[t]==null)$[t](i);else $[t].call(h[t],i)}};var eU=function(i,$){if(!$)$=!1;this.type=i;
this.target=null;this.currentTarget=null;this.bubbles=$;this.b=null;this.Ea=!1},x={E:{s:"0",k:"1",jm:"1.5",r:"2",_y:"3",adi:"4"},c:{Gz:"10",jT:"11",jD:"12",NE:"13",xY:"14",awn:"14.1",gu:"15",QK:"16",Ms:"17",Eu:"18",ms:"19",apl:"19.5",a8p:"20",a7f:"20.1",aa9:"20.5",ata:"20.6",sL:"21",bk:"22",So:"23",Q6:"24",ZD:"25",Sx:"26",T0:"27",PY:"28",aq8:"28.5",axq:"29",tF:"30",ro:"31",K2:"32",EA:"33",zj:"34",vj:"35",awF:"35.5",la:"37",awx:"38",TT:"39",$P:"40",kf:"41",pQ:"41.5",a9c:"42",c7:"43",awj:"43.5",IS:"44",a43:"45",nx:"46",WV:"47",cP:"48",Xf:"49",aks:"50",K8:"51"}};
function dq(){jv.call(this);this.parent=null;this.m=null;this.DD=0;this.mJ=0}dq.prototype=new jv;dq.prototype.arW=function(i){var b4=this;
while(b4!=null){if(b4==i)return!0;b4=b4.parent}return!1};dq.prototype.Wv=function(){var i=this.m;return i.offsetWidth+i.clientLeft};
dq.prototype.a5n=function(){var i=this.m;return i.offsetHeight+i.clientTop};dq.prototype.update=function(i){};
dq.prototype.$=function(i){jv.prototype.$.call(this,i);if(i.bubbles&&this.parent!=null)this.parent.$(i)};
dq.prototype.f=function(){};dq.prototype.JQ=function(i,$){};dq.prototype.eI=function(i){R.FK(this.m,"disabled")};
dq.prototype.wA=function(i){R.jE(this.m,"disabled")};dq.prototype.BH=function(i){if(i)this.wA();else this.eI()};
function jC(i){dq.call(this);this.dM=[];this.Oe=!1;this.adW=0;this.pY={x:0,y:0,Et:!1};this._w=i;this.asm=this.k7.bind(this);
this.xt=this.CX.bind(this);this.abc=this.QA.bind(this);R.K6(i,this.asm);R.sM(i,this.xt);i.addEventListener("wheel",this.Tj.bind(this),!1);
i.addEventListener("contextmenu",this.a9_.bind(this),!1);var $=this.a7m.bind(this);i.addEventListener("gesturestart",$,!1);
i.addEventListener("gesturechange",$,!1);i.addEventListener("gestureend",$,!1);R.jA(i)}jC.prototype=new dq;
jC.prototype.a7m=function(i){if(i.type=="gesturestart")this.H7=i.scale;if(i.type=="gesturechange"){var $=new eU("mouse",!0);
$.action="scroll";$.RS=!0;this.f5(i,$);var h=(this.H7-i.scale)/this.H7;$.Bb=new cq(0,100*h);this.H7=i.scale;
this.$($)}};jC.prototype.S8=function(i){var $=-1,h=this.dM;for(var t=0;t<h.length;t++)if(h[t].pointerId==i.pointerId)$=t;
return $};jC.Wl=function(i){var $=i.pointerType,h=window.__kb;return $=="touch"&&h.j(ai.arJ)};jC.prototype.k7=function(i){if(jC.Wl(i))return;
var $=this.S8(i);if($!=-1)this.dM[$]=i;else this.dM.push(i);if(this.dM.length==1){this.adW=Date.now();
var h=i.button!=null&&i.button!=0?i.which==2?"idown":"rdown":"down",d=new eU("mouse",!0);d.action=h;
this.f5(i,d);this.$(d);R.Uq(this._w,this.xt);R.sM(window,this.xt);R.pq(window,this.abc)}if(this.dM.length==2){if(Date.now()-this.adW<100){var d=new eU("mouse",!0);
d.action="cancellast";this.f5(i,d);this.$(d)}this.Oe=!0}if(this.dM.length==2)this.amI("multidown")};
jC.prototype.CX=function(i){if(jC.Wl(i))return;var $=this.S8(i);if($!=-1)this.dM[$]=i;if(this.dM.length>1){this.amI("multimove")}if(this.Oe)return;
if(this.dM.length==1&&$==-1)return;var h=new eU("mouse",!0);h.action="move";this.f5(i,h);this.$(h)};
jC.prototype.QA=function(i){if(jC.Wl(i))return;var $=this.dM;$=this.dM=[];if($.length==0){var h=i.button!=null&&i.button>0?i.which==2?"iup":"rup":"up",d=new eU("mouse",!0);
d.action=h;this.f5(i,d);this.$(d);R.Uq(window,this.xt);R.hZ(window,this.abc);R.sM(this._w,this.xt);this.Oe=!1}};
jC.prototype.Tj=function(i){i.preventDefault();if(i.deltaX==0&&i.deltaY==0)return;var $=new eU("mouse",!0);
$.action="scroll";$.RS=i.ctrlKey;this.f5(i,$);this.$($)};jC.prototype.a9_=function(i){R.ZY(i);if(R.abA(i)){var $=new eU("mouse",!0);
this.f5(i,$);$.action="rdown";this.$($);$.action="rup";this.$($)}};jC.prototype.amI=function(i){var $=this.dM,h=R.V(),d=[];
for(var t=0;t<$.length;t++){var K=d[t]=R.CJ($[t],this._w);K.x*=h;K.y*=h}var f=new eU("mouse",!0);f.action=i;
f.wm=d;if($.length==2)this.$(f)};jC.prototype.f5=function(i,$,h){var d=this.dM.length!=0;if($.action!="up"){var K=R.V();
if(h==null)h=R.CJ(i,this._w);this.pY=$.XX={x:K*h.x,y:K*h.y,Et:d};var f=R.CJ(i,document.body);$.XX.jn=f.x;
$.XX.eM=f.y}else this.pY=$.XX={x:this.pY.x,y:this.pY.y,Et:d};$.XX.iv=.5;if(i.pressure!=null&&i.pressure!=0)$.XX.iv=i.pressure;
if(i.pointerType=="mouse")$.XX.iv*=2;$.XX.abR=i.pointerType;if(i.deltaX!=null){var l=i.deltaMode==0?1:40;
$.Bb=new cq(i.deltaX*l,i.deltaY*l)}};function ew(i,$,h){dq.call(this);this.VY=null;this.ab$=this.QA.bind(this);
this.a81=this.rz.bind(this);this.ae3=this.a2s.bind(this);this.a0K=this.aj5.bind(this);this.qe=[];this.j3=[];
this.jq=[];this.as2=[];this.m=R.S("div","contextpanel "+(h?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",R.HG,!1);
this.ig=null;this.OW=0;this.wy=i;this.Zh=$;this.$L=[];for(var t=0;t<i.length;t++){var d=R.S("div","enab");
this.j3.push(d);this.m.appendChild(d);if(i[t].b9){d.innerHTML=R.HD(i[t].b9,null,"thumb")}else{var K=R.S("span","check");
this.as2.push(K);d.appendChild(K)}var f=R.S("span","label");f.textContent=e_.get(i[t].name);d.appendChild(f);
this.jq.push(f);if(i[t].c6)this.m.appendChild(R.S("hr"));if(i[t].oF||i[t].sub){var l=R.S("span","right");
d.appendChild(l);if(i[t].oF)l.textContent=ai.M9(i[t].oF);else if(i[t].sub)l.textContent="\u25B6"}d.addEventListener("click",this.ab$,!1);
d.addEventListener("mouseover",this.a81,!0);d.addEventListener("mouseout",this.ae3,!0);if(i[t].sub){var u=new ew(i[t].sub,$?$[t].sub:null);
u.parent=this;this.$L.push(u);u.h("select",this.afT,this)}else this.$L.push(null)}}ew.prototype=new dq;
ew.prototype.apt=function(i){R.J9(this.m);for(var t=0;t<i.length;t++)if(i[t]!=0&&i[t]!=null){this.m.appendChild(this.j3[t]);
if(i[t]!=1&&this.$L[t])this.$L[t].apt(i[t])}};ew.prototype.f=function(){var i=this.wy;for(var t=0;t<i.length;
t++){if(i[t].title)this.j3[t].title=e_.get(i[t].title);this.jq[t].textContent=e_.get(i[t].name)+(i[t].xE?"...":"")}for(var t=0;
t<this.$L.length;t++)if(this.$L[t])this.$L[t].f()};ew.prototype.update=function(i,$){var h=this.wy;for(var t=0;
t<h.length;t++){if(h[t].w){var d=h[t].w(i,$,t);if(d.w!=null)this.j3[t].className=d.w?"enab":"disab";
if(d.Np!=null)this.jq[t].textContent=d.Np;if(d.Q0!=null)this.as2[t].textContent=d.Q0?"\u2713":"";if(d.W!=null)this.Zh[t]=d.W}}for(var t=0;
t<this.$L.length;t++)if(this.$L[t])this.$L[t].update(i,$)};ew.prototype.CK=function(){return this.qe};
ew.prototype.QA=function(i){if(i.button!=0)return;var t=this.j3.indexOf(i.currentTarget);if(this.$L[t]){this.OW=t;
this.aj5()}else{if(this.Zh){var $=this.Zh[t],h=new eU($._,!0);h.b=$.b;h.data=$.W;this.$(h)}this.VY=null;
this.qe=[t];this.$(new eU("select",!1));var h=new eU(x.E.k,!0);h.data={d:x.c.NE};this.$(h)}};ew.prototype.rz=function(i){var t=this.j3.indexOf(i.currentTarget);
this.Ti();this.OW=t;this.ig=setTimeout(this.a0K,300)};ew.prototype.a2s=function(i){this.Ti()};ew.prototype.Ti=function(){if(this.ig){clearTimeout(this.ig);
this.ig=null}};ew.prototype.aj5=function(){this.Ti();var t=this.OW;if(this.VY)this.VY.avF();if(this.$L[t]==null)return;
this.VY=this.$L[t];var i=this.j3[t].getBoundingClientRect(),$=new eU(x.E.k,!0);$.data={d:x.c.jT,dX:this.$L[t],x:i.left+i.width+2,y:i.top};
this.$($)};ew.prototype.avF=function(){for(var t=0;t<this.$L.length;t++)if(this.$L[t])this.$L[t].avF();
var i=new eU(x.E.k,!0);i.data={d:x.c.jD,dX:this};this.$(i)};ew.prototype.afT=function(i){var t=this.$L.indexOf(i.target);
this.qe=[t].concat(i.target.CK());this.$(new eU("select",!1))};function iD(i,$,h){dq.call(this);this.m=R.S("span","fitem cbox");
if($==null)$=!0;if(h==null)h="flabel";var d="cb"+R.Pu();this.N8=R.S("input","");this.N8.setAttribute("type","checkbox");
this.N8.setAttribute("id",d);this.m.appendChild(this.N8);this.Ej=i;this.M0=R.S("label",h);if($)this.M0.setAttribute("for",d);
this.m.appendChild(this.M0);this.f();this.N8.addEventListener("change",this.Zk.bind(this),!1)}iD.prototype=new dq;
iD.prototype.atz=function(){return this.Ej};iD.prototype.L5=function(i){this.M0.textContent=i};iD.prototype.f=function(){var i=this.Ej;
if(typeof i=="string"&&i.startsWith("<"))this.M0.innerHTML=i;else this.M0.textContent=e_.get(i)};iD.prototype.rm=function(){this.N8.checked=!0};
iD.prototype.Xv=function(){this.N8.checked=!1};iD.prototype.v$=function(){return this.N8.checked};iD.prototype.t=function(i){this.N8.checked=i};
iD.prototype.G=iD.prototype.v$;iD.prototype.Zk=function(i){this.$(new eU(x.E.r,!1))};function ie(i,$){dq.call(this);
this.Ej=i;this.m=R.S("span","labelitem fitem"+($?" spread":""));this.f()}ie.prototype=new dq;ie.prototype.t=function(i){this.m.textContent=i};
ie.prototype.G=function(){return this.m.textContent};ie.prototype.wA=function(){this.m.removeAttribute("disabled")};
ie.prototype.eI=function(){this.m.setAttribute("disabled","")};ie.prototype.L5=function(i){this.m.textContent=i};
ie.prototype.f=function(){this.m.textContent=e_.get(this.Ej)};ie.prototype.atz=function(){return this.Ej};
function d_(i,$,h,d,K){dq.call(this);this._t=!1;this.m=R.S("button","fitem"+($?" spread":"")+(d?" bbtn":""));
this.Ej=i;this.XU=h;this.f();var f=K&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(f,this.Xs.bind(this),!1)}d_.prototype=new dq;
d_.prototype.f=function(){var i=this.m,$=this.Ej,h=this.XU;if(typeof $=="string"&&($.startsWith("<img")||$.startsWith("<svg")||$.startsWith("<span"))){if(!this._t){i.innerHTML=$;
i.setAttribute("style","padding:2px");this._t=!0}}else i.textContent=e_.get($);if(h){i.setAttribute("title",e_.get(h))}};
d_.prototype.a0Q=function(i){this.m.setAttribute("title",i)};d_.prototype.Xs=function(i){this.$(new eU("click",!1))};
d_.prototype.rm=function(){R.FK(this.m,"bactive")};d_.prototype.Xv=function(){R.jE(this.m,"bactive")};
d_.prototype.L5=function(i,$){if(i&&i!=this.Ej){this.Ej=i;this._t=!1}if($)this.XU=$;this.f()};d_.prototype.t=function(i){if(i)this.rm();
else this.Xv()};d_.prototype.v$=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
d_.prototype.G=function(){return this.v$()};function at(i,$,h,d,K){dq.call(this);var f=R.Pu();this.m=R.S("span","fitem tinput");
if(i){this.Ej=i;this.M0=R.S("label","flabel");this.m.appendChild(this.M0);this.M0.setAttribute("for",f);
this.f()}if(K){this.N8=R.S("span")}else if(d==null){this.N8=R.S("input");this.N8.setAttribute("type","text")}else this.N8=R.S("textarea","scrollable");
this.N8.setAttribute("id",f);if(h)this.N8.setAttribute("style","width:"+h+"em;"+(K?" display:inline-block; margin-left:6px;":""));
if(d)this.N8.setAttribute("rows",d);this.m.appendChild(this.N8);if($){this.tO=R.S("span");this.tO.textContent=$;
this.tO.style.marginLeft="2px";this.m.appendChild(this.tO)}R.zb(this.N8);this.N8.addEventListener("change",this.Zk.bind(this),!1);
this.N8.addEventListener("input",this.aiT.bind(this),!1)}at.prototype=new dq;at.prototype.f=function(){if(this.Ej)this.M0.textContent=e_.get(this.Ej)+":"};
at.prototype.L5=function(i){this.M0.textContent=i};at.prototype.t=function(i){var $=this.N8,h=i==null?"":i,d=$.tagName=="SPAN";
if(d){$.textContent=" "+h;if(this.tO)$.appendChild(this.tO)}else $.value=h};at.prototype.ab2=function(i){this.tO.textContent=i};
at.prototype.G=function(){return this.N8.value};at.prototype.RJ=function(){this.N8.select();this.N8.focus()};
at.prototype.Zk=function(i){this.$(new eU(x.E.r,!1))};at.prototype.aiT=function(i){this.$(new eU("input",!1))};
function cf(i,$,h,d,K,f,l,u,U){dq.call(this);if(K==null)K=0;this.m=R.S("span","fitem");var y=R.Pu();
this.Ej=i;this.XU=u;this.bZ=0;this.Iq=U;this.eY=$;this.xl=h;this.cx=null;if(d instanceof Array){this.cx=d;
d=d[0]}this.Wz=d;this.Z1=K;this.a6h=f;this.Ul=l;this.tK=0;this.M0=R.S("label","flabel");this.M0.setAttribute("style","cursor:col-resize;");
this.yh=R.S("input");this.yh.setAttribute("type","range");if(l){this.yh.min=0;this.yh.max=400}else{this.yh.min=$;
this.yh.max=h;if(K!=0)this.yh.step=(h-$)/200}this.N8=R.S("input");this.N8.setAttribute("type","text");
this.N8.setAttribute("id",y);this.tO=R.S("span");this.tO.textContent=d;R.zb(this.N8);this.N8.addEventListener("change",this.Zk.bind(this),!1);
this.N8.addEventListener("keydown",this.rK.bind(this),!1);this.N8.addEventListener("keyup",this.p1.bind(this),!1);
this.N8.addEventListener("wheel",this.Tj.bind(this),!1);this.yh.addEventListener("input",this.Zk.bind(this),!1);
if(U)this.yh.addEventListener("change",this.Zk.bind(this),!1);this.yh.addEventListener("click",this.asI.bind(this),!1);
this.ag8=this.a2r.bind(this);this.an8=this.a80.bind(this);this.a6U=this.a6H.bind(this);this.kk=0;this.Hf=0;
this.QG=!1;R.K6(this.M0,this.ag8);R.jA(this.M0)}cf.prototype=new dq;cf.prototype.$v=function(i){this.Z1=i};
cf.prototype.L5=function(i){this.M0.style.display=i?"inherit":"none";if(i)this.M0.textContent=e_.get(i)};
cf.prototype.f=function(){var b4=this.Ej,i=this.XU;if(b4){if(typeof b4=="string"&&b4.startsWith("<"))this.M0.innerHTML=b4;
else this.M0.textContent=e_.get(b4)+":"}if(i){i=e_.get(i);if(b4)this.M0.setAttribute("title",i);this.N8.setAttribute("title",i)}};
cf.prototype.t=function(i,$){var h=this.eY==this.xl,K;if(!h&&this.eY>=0)i=Math.max(this.eY,i);if(this.Z1==0)i=Math.round(i);
var d=this.Wz;this.bZ=i;this.N8.value=(this.Z1!=0?i.toFixed(this.Z1):i)+(this.a6h&&d?(d.toLowerCase()==d.toUpperCase()?"":" ")+d:"");
if(-this.eY==this.xl)K=200+Math.sign(i)*200*Math.pow(Math.abs(i)/this.xl,1/2.7);else K=400*Math.pow((i-this.eY)/(this.xl-this.eY),1/2.7);
this.yh.value=this.Ul?K:i;if($)this.cA()};cf.prototype.G=function(){var i=this.bZ;if(isNaN(i))i=0;return i};
cf.prototype.mY=function(){return this.Wz};cf.prototype.Zk=function(i){var $=0;if(i.currentTarget==this.N8){var h=i.target.value,d=0;
$=h==""?0:this.Wz?parseFloat(h):eval(h);if(isNaN($))$=0;while(d<h.length&&(h.charAt(d)=="."||48<=h.charCodeAt(d)&&h.charCodeAt(d)<=57))d++;
var K=h.slice(d).trim();if(this.cx&&this.cx.indexOf(K)!=-1)this.Wz=K}else{if(Date.now()-this.tK<10)return;
$=parseFloat(i.target.value);if(this.Ul){if(-this.eY==this.xl)$=Math.sign($-200)*Math.pow(Math.abs($-200)/200,2.7)*this.xl;
else $=this.eY+Math.pow($/400,2.7)*(this.xl-this.eY);$=this.a7p($)}}this.t($);if(i.type=="input"&&this.Iq)return;
this.cA()};cf.prototype.cA=function(){this.$(new eU(x.E.r))};cf.prototype.a7p=function(i){if(this.xl-this.eY>50&&i>10)i=Math.round(i);
return i};cf.prototype.rK=function(i){var $=0;if(ai.xZ(i.code,ai.qO))$=1;if(ai.xZ(i.code,ai.HF))$=-1;
if($!=0)this.ag0($,i.shiftKey)};cf.prototype.p1=function(i){var $=ai.xZ(i.code,ai.UY),h=ai.xZ(i.code,ai.iQ);
if($)this.t(this.G());if(h||$)this.N8.blur()};cf.prototype.Tj=function(i){this.ag0(i.deltaY>0?-1:1,i.shiftKey)};
cf.prototype.ag0=function(i,$){var h=this.G(),d=this.Z1,K=i*(d==null||d==0||h>5?1:.1);if($)K*=10;var f=h+K;
if(!this.Ul&&this.xl!=this.eY)f=Math.min(this.xl,f);this.t(f);this.cA()};cf.prototype.asI=function(i){var $=Date.now()-this.tK;
this.tK=Date.now();if($>200)return;var h=this.eY,d=this.xl,K=(h+d)/2;if(h<1&&d>1&&d<10)K=1;else if(h<90&&d>110)K=100;
else if(h<0&&d>0)K=0;this.t(K);this.cA()};cf.prototype.a2r=function(i){R.sM(document,this.an8);R.pq(document,this.a6U);
this.kk=R.CJ(i,document.body).x;this.Hf=this.G()};cf.prototype.a80=function(i){R.ZY(i);var $=this.eY==this.xl,h=R.CJ(i,document.body).x,d=(h-this.kk)*($?1:1/120*(this.xl-this.eY)),K=this.Hf+d;
if($)K=Math.round(K);if(!$){if(!0){K=Math.max(this.eY,K);if(K==this.eY){this.kk=h;this.Hf=this.eY}}if(!this.Ul){K=Math.min(this.xl,K);
if(K==this.xl){this.kk=h;this.Hf=this.xl}}K=this.a7p(K)}this.QG=!0;this.t(K);if(!this.Iq)this.cA()};
cf.prototype.a6H=function(i){if(!this.QG)this.N8.focus();this.QG=!1;if(this.Iq)this.cA();R.Uq(document,this.an8);
R.hZ(document,this.a6U)};cf.prototype.RJ=function(){this.N8.select();this.N8.focus()};function j6(i,$,h,d,K,f,l,u,U,y){cf.call(this,i,$,h,d,K,!0,f,U,y);
R.FK(this.m,"rangedropinput");this.m.appendChild(this.M0);this.N8.setAttribute("style","width:"+(u?u:3.3)+"em");
this.m.appendChild(this.N8);this.ais=R.S("span","rangecontFloat");this.ais.appendChild(this.yh);this.ik=R.S("button");
this.ik.textContent="\u25BC";R.K6(this.ik,this.atK.bind(this));if(l!=!0)this.m.appendChild(this.ik);
this._S=new dq;this._S.m=this.ais}j6.prototype=new cf;j6.prototype.atK=function(i){if(R.bT(this._S.m))return;
i.stopPropagation();var $=this.m.getBoundingClientRect();this.yh.setAttribute("style","width:"+$.width+"px;");
var h=new eU(x.E.k,!0);h.data={d:x.c.jT,dX:this._S,x:$.left-10,y:$.top+$.height};this.$(h)};function fI(i,$,h,d,K,f){cf.call(this,i,$,h,d,K,!1,f);
this.m.appendChild(this.M0);var l=R.S("span");this.m.appendChild(l);l.appendChild(this.yh);this.m.appendChild(this.N8);
this.N8.setAttribute("style","width:3.3em");if(this.Wz)this.m.appendChild(this.tO)}fI.prototype=new cf;
function is(i,$,h,d,K,f,l,u){cf.call(this,i,$,h,d,K,!0,f,null,l);R.FK(this.m,"trangeinput");this.m.appendChild(this.M0);
this.m.appendChild(this.N8);var U=R.S("span");if(u!=!0)this.m.appendChild(U);U.appendChild(this.yh);
this.yh.setAttribute("style","width:97%;")}is.prototype=new cf;function ku(i,$,h,d){dq.call(this);if(!$)return;
if(h==null)h=!1;this.PC=0;this.ajJ=h;this.Ej=i;this.PM=null;this.auh=d;this.DX=[];var K="dd"+R.Pu();
this.m=R.S("span","fitem ddmenu");if(i&&!h){this.M0=R.S("label","flabel");this.m.appendChild(this.M0);
this.M0.setAttribute("for",K)}this.OO=R.S("select");this.OO.setAttribute("id",K);this.m.appendChild(this.OO);
this.OO.addEventListener("change",this.Zk.bind(this),!1);function f(l){var u=0;if(ai.xZ(l.code,ai.qO))u=1;
if(ai.xZ(l.code,ai.HF))u=-1;if(u!=0)l.stopPropagation()}this.OO.addEventListener("keydown",f,!1);this.OO.addEventListener("keyup",f,!1);
this.Ad=[];this._n=null;this.TD($,d);this.f()}ku.prototype=new dq;ku.prototype.L5=function(i){this.Ej=i;
this.f()};ku.prototype.f=function(){if(this.Ej!=null){var i=e_.get(this.Ej);if(this.ajJ)this.OO.setAttribute("title",i);
else this.M0.textContent=i+":"}if(this._n)this.TD(this._n,this.auh);this.t(this.PC)};ku.prototype.G=function(){return this.PC};
ku.prototype.TD=function(i,$){R.J9(this.OO);var h=[],d=0;if($){h.push($[0]);for(var t=1;t<$.length;t++)h.push(h[t-1]+$[t])}this._n=i;
this.PM=[];this.auh=$;for(var t=0;t<i.length;t++){var K=R.S("option");if(this.DX.indexOf(t)!=-1)K.setAttribute("disabled","");
K.textContent=e_.get(i[t]);K.setAttribute("value",t);this.OO.appendChild(K);this.Ad.push(K);this.PM.push(t+d);
if(h.indexOf(t+1)!=-1&&t!=i.length-1){var f=R.S("option");f.setAttribute("disabled","");f.textContent="";
this.OO.appendChild(f);d++}}};ku.prototype.amN=function(t){var i=this.DX,$=i.indexOf(t);if($==-1)i.push(t);
this.f()};ku.prototype.a38=function(t){var i=this.DX,$=i.indexOf(t);if($!=-1)i.splice($,1);this.f()};
ku.prototype.t=function(i){this.PC=i;this.OO.selectedIndex=this.PM[i]};ku.prototype.Zk=function(i){this.PC=this.PM.indexOf(this.OO.selectedIndex);
this.$(new eU(x.E.r,!1))};ku.prototype.RJ=function(){this.OO.focus()};function ee(i,$,h,d){dq.call(this);
if(!$)return;this.PC=0;this.aah=d;this.m=R.S("span","fitem bbmenu");this.M0=R.S("label","flabel");if(i){this.Ej=i;
this.M0.textContent=i+":";this.m.appendChild(this.M0)}this.Ad=[];this.H1=R.S("span");this.m.appendChild(this.H1);
this._n=null;this.TD($,h);this.t(0)}ee.prototype=new dq;ee.prototype.L5=function(i){this.Ej=i;this.f()};
ee.prototype.f=function(){var i=this.M0.parentNode!=null,$=this.m;if(this.Ej!=null){if(!i){$.appendChild(this.M0);
$.appendChild(this.H1)}this.M0.textContent=e_.get(this.Ej)+": "}else if(i)$.removeChild(this.M0);for(var t=0;
t<this.Ad.length;t++)this.Ad[t].f()};ee.prototype.G=function(){return this.PC};ee.prototype.TD=function(i,$){R.J9(this.H1);
this.Ad=[];this._n=i;for(var t=0;t<i.length;t++){var h=new d_(i[t],!1,$?$[t]:null,this.aah);h.h("click",this.Zk,this);
this.H1.appendChild(h.m);this.Ad.push(h)}this.f()};ee.prototype.t=function(i){this.PC=i;for(var t=0;
t<this.Ad.length;t++)this.Ad[t].Xv();this.Ad[i].rm()};ee.prototype.Zk=function(i){var t=this.Ad.indexOf(i.target);
this.t(t);this.$(new eU(x.E.r,!1))};ee.vg=function(i,$,h){if($==null)$=16;var d=ee.tk,K=d.getContext("2d"),f=$>>>1;
d.width=d.height=$;var l=[];for(var t=0;t<i.length;t++){if(i[t][0]=="-")l.push(i[t].slice(1));else if(i[t]=="checker"||i[t].startsWith("#")){if(i[t]=="checker"){K.fillStyle="white";
K.fillRect(0,0,$,$);K.fillStyle="#bbbbbb";K.fillRect(f,0,f,f);K.fillRect(0,f,f,f)}else if(i[t].startsWith("#")){K.fillStyle=i[t];
K.fillRect(0,0,$,$)}l.push("<img src=\""+d.toDataURL()+"\" />")}else l.push(R.HD(i[t],null,h?h:"autoscale"))}return l};
ee.tk=R.S("canvas");function fZ(i,$,h,d,K,f){dq.call(this);this.m=R.S("span","fitem mbox");this.ajO=h;
this.aeJ=K;if(i){this.Ej=i;this.M0=R.S("label","flabel");this.m.appendChild(this.M0)}this.pH=$;this.UD=[];
for(var t=0;t<$.length;t++){var l=h?new d_($[t],!1,d?d[t]:null,!1,f):new iD($[t],!0,"");l.h(h?"click":x.E.r,this.Zk,this);
this.UD.push(l);this.m.appendChild(l.m)}this.f()}fZ.prototype=new dq;fZ.prototype.t=function(i){for(var $=0;
$<this.pH.length;$++)this.UD[$].t(i[$])};fZ.prototype.G=function(){var i=[];for(var $=0;$<this.pH.length;
$++)i[$]=this.UD[$].G();return i};fZ.prototype.f=function(){if(this.Ej)this.M0.innerHTML=e_.get(this.Ej)+": ";
var i=this.UD;for(var $=0;$<i.length;$++){i[$].f();if($==i.length-1)i[$].m.style.marginRight="0px"}};
fZ.prototype.Zk=function(i){var t=this.UD.indexOf(i.currentTarget),$=this.UD[t];if(this.ajO)$.t(!$.G());
if(this.aeJ){var h=$.G();for(var t=0;t<this.UD.length;t++)this.UD[t].t(!1);$.t(h)}this.$(new eU(x.E.r,!1))};
function ks(i,$){dq.call(this);this.In=[];this.g=[];this.atH=i;this.u7=$;this._z=0;this.lT=null;this.fD=new cq(0,0);
if($!=null){this.ca=new ew([{name:[6,37]},{name:[5,4]}]);this.ca.parent=this;this.ca.h("select",this.CC,this)}this.m=R.S("div","imageset scrollable");
this.m.addEventListener("contextmenu",R.HG,!1)}ks.prototype=new dq;ks.prototype.f=function(){if(this.ca)this.ca.f()};
ks.prototype.CC=function(i){var t=this.ca.CK()[0],$=new eU(x.E.k,!0),h={d:x.c.vj,J0:this.u7,NX:this.g.slice(0)};
if(t==0){var d=this.lT[1][this.g[0]];h.D2="rnm";$.data={d:x.c.ZD,Kh:"namewindow",pp:d,l8:{_:x.E.k,W:h}}}else{$.data=h;
h.D2="del"}this.$($)};ks.prototype.afF=function(){return this._z};ks.prototype.ot=function(i){this._z=i;
if(this.lT)this.WA()};ks.prototype.BN=function(i,$,h,d){this.lT=[i,$,h,d];this.WA()};ks.prototype.WA=function(){var i=this.lT,$=i[0],h=i[1],d=i[2],K=i[3];
this.In=[];this.m.innerHTML="";var f=this.Xs.bind(this),l=this._z;if(l==0)R.FK(this.m,"imageset");else R.jE(this.m,"imageset");
for(var t=0;t<$.length;t++){var u=$[t],U=null;if(u==null){this.In.push(null);continue}if(typeof u=="string"){U=R.S("img","image");
U.setAttribute("src",u)}else U=u;if(d)R.Tb(U,d,K);if(this.atH)R.FK(U,"gsicon");if(l==0){}else{var y=R.S("div","listitem");
y.appendChild(U);var a=R.S("span");a.textContent=h?h[t]:"Item "+(t+1);a.setAttribute("style","margin-left:4px;");
y.appendChild(a);U=y}if(h)U.setAttribute("title",h[t]);U.addEventListener("mousedown",f,!1);this.In.push(U);
this.m.appendChild(U)}};ks.prototype.Xs=function(i){if(this.u7==null)i.preventDefault();var $=this.In.indexOf(i.currentTarget),h=window.__kb,d=this.g,K=d.length;
if(h.j(ai.EW)){var f=Math.min(d[0],d[d.length-1],$),l=Math.max(d[0],d[d.length-1],$);d=[];for(var t=f;
t<=l;t++)d.push(t)}else if(h.j(ai.PO)){var u=d.indexOf($);if(u==-1)d.push($);else d.splice(u,1)}else d=[$];
d.sort(function(v,c){return v-c});if(i.button==0||K==1)this.t(d);this.fD=R.CJ(i,i.currentTarget);if(i.button==0)this.$(new eU(x.E.r));
if(i.button==2&&this.ca){var U=this.ca;U.update(null);var y=R.CJ(i,document.body),a=new eU(x.E.k,!0);
a.data={d:x.c.jT,dX:U,x:y.x,y:y.y+2};this.$(a)}};ks.prototype.G=function(){return this.g.slice(0)};ks.prototype.alv=function(){var i=this.fD;
return new cq(i.x,i.y)};ks.prototype.t=function(i){this.g=i.slice(0);for(var t=0;t<this.In.length;t++){var $=this.In[t];
if($==null)continue;if(i.indexOf(t)!=-1)R.FK($,"selected");else R.jE($,"selected")}};function a9(i,$,h,d,K,f,l){dq.call(this);
this.m=R.S("span","fitem "+h);this.aO=new dq;this.aO.m=R.S("div","floatcont");this.aO.m.setAttribute("style","width: "+(d+1.5)+"em;");
this.aO.parent=this;this.ah2=R.S("div");this.aO.m.appendChild(this.ah2);this.Qm=R.S("div");this.aO.m.appendChild(this.Qm);
if(i){this.Ej=i;this.M0=R.S("label","flabel");this.m.appendChild(this.M0)}this.d=R.S("button",l?"nopadding":"");
this.d.setAttribute("style","position:relative;");var u=this.s4.bind(this),U=this.s9.bind(this);R.K6(this.d,$?U:u);
this.m.appendChild(this.d);this.eO=R.S("img",l?"gsicon":"");this.d.appendChild(this.eO);if($){var y=R.S("button");
y.textContent="\u25BC";R.K6(y,u);this.m.appendChild(y)}else{var a=R.S("span");a.textContent="\u25BC";
a.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(a)}var v=R.S("span");
this.Qm.appendChild(v);v.setAttribute("style","display:inline-block;  vertical-align:top; width:"+d+"em;");
this.zU=new ks(l,f);v.appendChild(this.zU.m);this.zU.parent=this.aO;this.zU.h(x.E.r,this.VK,this);this.zU.m.style.height=K+"em";
this.KL=R.S("button");this.KL.textContent="\u25BC";this.KL.setAttribute("style","padding:3px");R.K6(this.KL,this.Xh.bind(this));
this.Qm.appendChild(this.KL);var c=this.Io(),p=this.a0I=f!=dC.G0&&f!=dC.vy?f:null,C=this.abY=f==null?!1:dC.Gi[f][4]!=0,T=f==null?"":dC.Gi[f][0].toUpperCase(),E=[];
if(p)E.push({name:[12,87]});E.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],c6:!0});E.push({name:[[23,6],"."+(T=="ICC"?"icc .cube .look .3dl":T)]},{name:["VAR0 ."+T,[1,8]]},{name:[6,37]},{name:[5,4],c6:c.length!=0});
for(var t=0;t<c.length;t++)E.push({name:c[t].split("/").pop()});this.axT=E;this.u7=f;this.h8=null;this.zw=!0;
this.Sa=null}a9.prototype=new dq;a9.prototype.Io=function(){return[]};a9.prototype.s9=function(){};a9.prototype.f=function(){this.zU.f();
var i=this.Ej;if(i)this.M0.textContent=e_.get(i)+":"};a9.prototype.L5=function(i){this.M0.textContent=i};
a9.prototype.B8=function(i){var $=this.u7,h=0;if($==dC.Cs){h=this.h8?this.h8.length:0;i=i.slice(0)}this.h8=i;
this.zw=!0;if(R.bT(this.zU.m)||$==dC.d_)this.Vc();if($==dC.Cs&&i.length-h==1&&R.bT(this.m)){this.t(i[h]);
this.zw=!0;this.Vc();this.zU.t([h]);this.$(new eU(x.E.r))}};a9.prototype.CC=function(i){var $=i.target.CK()[0];
if(this.a0I==null)$++;var h=new eU(x.E.k,!0);if($==0){var d=this.RF();if(this.u7==dC.Cs&&d[0].profile==null)return;
h.data={d:x.c.vj,D2:"add",J0:this.a0I,YF:d}}else if($==1)this.zU.ot(1-this.zU.afF());else if($<=5)this.d6($-2);
else{var K=this.Io();h.data={d:x.c.gu,J0:{url:"rsrc/"+K[$-6]}}}if(h.data)this.$(h)};a9.prototype.d6=function(i){var $=new eU(x.E.k,!0),h=this.zU.G(),d={d:x.c.vj,J0:this.u7,NX:h};
if(i>1&&h.length==0){alert("No items selected");return}if(i==0)$.data={d:x.c.QK};else if(i==1)$.data={d:x.c.nx,axP:this.u7,NX:h.length==0?null:h};
else if(i==2){var K=this.zU.lT[1][h[0]];d.D2="rnm";$.data={d:x.c.ZD,Kh:"namewindow",pp:K,l8:{_:x.E.k,W:d}}}else if(i==3){$.data=d;
d.D2="del"}this.$($)};a9.prototype.RF=function(){return[this.G()]};a9.prototype.Xh=function(i){if(this.ca==null){this.ca=new ew(this.axT);
this.ca.parent=this.aO;this.ca.h("select",this.CC,this)}if(R.bT(this.ca.m))return;i.stopPropagation();
var $=this.ca;$.f();$.update(null);var h=i.currentTarget.getBoundingClientRect(),d=new eU(x.E.k,!0);
d.data={d:x.c.jT,dX:$,x:h.left,y:h.top+h.height};this.$(d)};a9.prototype.s4=function(i,$,h){if(R.bT(this.aO.m))return;
if(i)i.stopPropagation();this.Vc();if($==null){var d=this.d.getBoundingClientRect(),$=d.left,h=d.top+d.height}var K=new eU(x.E.k,!0);
K.data={d:x.c.jT,dX:this.aO,x:$,y:h,lS:!0};this.$(K)};a9.prototype.asH=function(i,$){this.s4(null,i,$)};
function gA(){dq.call(this);this.m=R.S("div");this.bZ=!1;this.i5=[new ku([12,19,1],[[13,1,7]].concat(f2.lz)),new eE([17,1]),new eE([12,46])];
for(var t=0;t<3;t++){var i=this.i5[t];this.m.appendChild(i.m);i.h(x.E.r,this.Ov,this)}this.f()}gA.prototype=new dq;
gA.prototype.f=function(){for(var t=0;t<3;t++)this.i5[t].f()};gA.prototype.G=function(){return this.bZ.slice(0)};
gA.prototype.t=function(i){this.bZ=i.slice(0);var $=this.i5,h=$[0].G();$[1].t(i.slice(h*8,h*8+4),h);
$[2].t(i.slice(h*8+4,h*8+8),h)};gA.prototype.Ov=function(i){var $=this.i5,h=$.indexOf(i.currentTarget);
if(h==0)this.t(this.bZ);else{var d=$[0].G()*8+(h==1?0:4),K=$[h].G();for(var t=0;t<4;t++)this.bZ[d+t]=K[t];
this.$(new eU(x.E.r,!1))}};function eE(i){dq.call(this);this.m=R.S("div");this.T=R.S("canvas");this.uy=i;
this.bZ=[0,20,200,255];this.Y0=0;this.Ot=-1;this.a8m=[];for(var t=0;t<5;t++){var $=R.S("span");$.setAttribute("style","display:inline-block;width:"+(t==0?8:t==2?7:2)+"em");
this.a8m.push($);this.m.appendChild($)}this.W2=this.k7.bind(this);this.vb=this.CX.bind(this);this.p$=this.QA.bind(this);
R.jA(this.T);R.K6(this.T,this.W2);this.m.appendChild(this.T);this.WA()}eE.prototype=new dq;eE.prototype.f=function(){this.WA()};
eE.prototype.t=function(i,$){this.bZ=i;this.Y0=$;this.WA()};eE.prototype.G=function(){return this.bZ.slice(0)};
eE.prototype.k7=function(i){var $=this.bZ,h=R.CJ(i,this.T),d=h.x-8,K=-1,f=1e9;for(var t=0;t<4;t++){var l=d-$[t],u=Math.abs(l);
if(u<8&&u<f&&((t&1)==0&&l<0||(t&1)==1&&l>0)){f=l;K=t}}if(K==-1)return;this.Ot=K;this.Bj=window.__kb.j(ai.rf)||$[(K>>>1)*2]!=$[(K>>>1)*2+1];
R.sM(window,this.vb);R.pq(window,this.p$)};eE.prototype.CX=function(i){var $=this.bZ,h=this.Ot,d=(h>>>1)*2,K=d+1,f=R.CJ(i,this.T),l=Math.round(Math.max(0,Math.min(255,f.x-8)));
$[h]=l;if(this.Bj&&$[d]>=$[K])this.Bj=!1;if(!this.Bj)$[d]=$[K]=l;this.WA();this.$(new eU(x.E.r,!1))};
eE.prototype.QA=function(i){R.Uq(window,this.vb);R.hZ(window,this.p$)};eE.prototype.WA=function(){var i=this.T;
R.Pe(i,255+16,16);var $=i.getContext("2d"),h=i.width,d=i.height,K=Math.round(255*R.V()),f=Math.round(8*R.V());
$.translate(f,0);var l=$.createLinearGradient(0,0,K,0);l.addColorStop(0,"black");l.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Y0]);
$.fillStyle=l;$.fillRect(0,0,K,f);var u=this.a8m,U=e_.get(this.uy)+":";u[0].textContent=U;for(var t=0;
t<4;t++){var y=this.bZ[t];u[1+t].textContent=y;var a=Math.round(y*R.V());$.beginPath();$.moveTo(a,f);
$.lineTo(a,f+f);$.lineTo(a+((t&1)==0?-1:1)*f,f+f);$.closePath();$.fillStyle=t<2?"#666666":"#cccccc";
$.fill();$.strokeStyle="black";$.stroke()}};function fM(i,$,h){dq.call(this);if(h==null)h=!1;this.L=[0,0,1];
this.aws=$;this.awh=h;this.aee=0;var d="ai"+R.Pu();this.m=R.S("span","fitem angleinput");if(i){this.M0=R.S("label","flabel");
this.Ej=i;this.m.appendChild(this.M0);this.M0.setAttribute("for",d)}this.hP=h?44:20;this.T=R.S("canvas","gsicon");
this.nl=this.T.getContext("2d");R.jA(this.T);R.Pe(this.T,this.hP*2+1,this.hP*2+1);this.nl.scale(R.V(),R.V());
this.m.appendChild(this.T);R.K6(this.T,this.io.bind(this));this.ls=this.hJ.bind(this);this.Pt=this.Qw.bind(this);
var K=this.Zk.bind(this),f=R.S("div");f.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!h)this.m.appendChild(f);this.hD=[];for(var t=0;t<2;t++){var l=R.S("input");this.hD.push(l);l.setAttribute("type","text");
R.zb(l);if(t==0)l.setAttribute("id",d);l.addEventListener("change",K,!1);var u=R.S("span");u.textContent="\xB0";
if(t==0||$){f.appendChild(l);f.appendChild(u);R.k6(f)}}this.t(this.L)}fM.prototype=new dq;fM.prototype.f=function(){if(this.Ej)this.M0.textContent=e_.get(this.Ej)+":"};
fM.prototype.L5=function(i){this.M0.textContent=i};fM.prototype.G=function(){return this.L.slice(0)};
fM.prototype.t=function(i,$){var h=this.L;i=i.slice(0);if(i[0]==null)i[0]=h[0];if(i[1]==null)i[1]=h[1];
if(i[2]==null)i[2]=h[2];this.L=i;var d=i[0],K=i[1],f=i[2],l=this.aws,u=this.awh,U=this.hP*.85;if(!l)K=0;
this.hD[0].value=d;this.hD[1].value=K;var y=this.nl;y.clearRect(0,0,100,100);d=Math.PI*d/180;K=U*(90-K)/90;
var a=this.hP+.5;y.save();y.translate(a,a);y.rotate(-d);y.strokeStyle="rgba(0,0,0,0.5)";y.beginPath();
y.ellipse(0,0,U,U*f,0,0,2*Math.PI);if(u){y.moveTo(0,-U*f);y.lineTo(0,U*f);y.moveTo(-K,0)}else y.moveTo(0,0);
y.lineTo(K,0);y.stroke();var v=this.hP*.15;y.fillStyle="black";y.beginPath();if(u){y.arc(0,-U*f,v*.66,0,2*Math.PI);
y.arc(0,U*f,v*.66,0,2*Math.PI)}if(l){y.arc(K,0,v*.4,0,2*Math.PI)}else{y.moveTo(a-v,-v*.66);y.lineTo(a,0);
y.lineTo(a-v,v*.66)}y.fill();y.restore();if($)this.Zk()};fM.prototype.Zk=function(i){var $=parseInt(this.hD[0].value);
if(isNaN($))$=0;var h=parseInt(this.hD[1].value);if(isNaN(h))h=0;$=$%360;h=h%360;this.t([$,h]);this.$(new eU(x.E.r,!1))};
fM.prototype.io=function(i){R.sM(window,this.ls);R.pq(window,this.Pt);var $=R.CJ(i,this.T),a=0,v=1e9;
$.x-=this.hP;$.y-=this.hP;var h=this.L,d=h[0]*Math.PI/180,K=(90-h[1])/90,f=h[2],l=this.hP*.85,u=Math.sin(-d),U=Math.cos(-d),y=[new cq(U*l,u*l)];
if(this.awh)y.push(new cq(-u*l*f,U*l*f),new cq(u*l*f,-U*l*f));for(var t=0;t<y.length;t++){var c=cq.ED($,y[t]);
if(c<v){v=c;a=t}}this.aee=a;if(a==0)this.hJ(i)};fM.prototype.hJ=function(i){var $=R.CJ(i,this.T),h=this.aee,d=[],K=$.x-this.hP,f=$.y-this.hP,l=this.hP*.85;
if(h==0){var u=180*Math.atan2(-f,K)/Math.PI,U=90-90*Math.min(1,Math.sqrt(K*K+f*f)/l);if(i.shiftKey)u=Math.round(u/15)*15;
d=[Math.round(u),Math.round(U)]}else d=[null,null,Math.max(.01,Math.min(1,Math.sqrt(K*K+f*f)/l))];this.t(d);
this.$(new eU(x.E.r,!1))};fM.prototype.Qw=function(i){this.$(new eU(x.E.r,!1));R.Uq(window,this.ls);
R.hZ(window,this.Pt)};function hu(i,$){dq.call(this);this.bZ=0;this.d3=$;this.m=R.S("span","fitem angleinput");
if(i){this.M0=R.S("label","flabel");this.Ej=i;this.m.appendChild(this.M0)}this.T=R.S("canvas","gsicon");
this.nl=this.T.getContext("2d");R.Pe(this.T,$,$);this.m.appendChild(this.T);R.jA(this.T);R.K6(this.T,this.io.bind(this));
this.ls=this.hJ.bind(this);this.Pt=this.Qw.bind(this);this.t(0)}hu.prototype=new dq;hu.prototype.f=function(){if(this.Ej)this.M0.textContent=e_.get(this.Ej)+":"};
hu.prototype.L5=function(i){this.M0.textContent=i};hu.prototype.G=function(){return this.bZ};hu.prototype.a0J=function(i){var $=this.bZ,h=Math.floor($/3),d=$-h*3;
d=Math.max(0,Math.min(2,d+i.x));h=Math.max(0,Math.min(2,h+i.y));this.t(h*3+d)};hu.prototype.t=function(i){this.bZ=i;
var $=this.T.width,h=Math.floor(i/3),d=i-3*h,K=(d+.5)*$/3,f=(h+.5)*$/3,l=this.nl,u=[.5,Math.round($/3)+.5,Math.round(2*$/3)+.5,$-.5];
l.clearRect(0,0,$,$);var U=this.d3<30;l.setLineDash([]);l.strokeStyle=U?"rgba(0,0,0,0.5)":"#000000";
l.beginPath();for(var t=0;t<4;t++){var y=u[t];l.moveTo(y,0);l.lineTo(y,$);l.moveTo(0,y);l.lineTo($,y)}l.stroke();
if(i==9)return;if(!U){l.setLineDash([1,2]);var a=$*.53,v=Math.max(0,Math.min($-a,K-a/2)),c=Math.max(0,Math.min($-a,f-a/2));
l.strokeRect(Math.round(v)+.5,Math.round(c)+.5,Math.round(a),Math.round(a))}l.fillStyle="#000000";l.beginPath();
l.arc(K,f,$/8,0,Math.PI*2);l.fill()};hu.prototype.io=function(i){R.sM(document.body,this.ls);R.pq(document.body,this.Pt);
this.hJ(i)};hu.prototype.hJ=function(i){var $=R.CJ(i,this.T),h=Math.max(0,Math.min(2,Math.floor($.x/(this.d3/3)))),d=Math.max(0,Math.min(2,Math.floor($.y/(this.d3/3))));
this.t(d*3+h)};hu.prototype.Qw=function(i){this.$(new eU(x.E.r,!1));R.Uq(document.body,this.ls);R.hZ(document.body,this.Pt)};
function bE(b4){dq.call(this);this.m=R.S("span","fitem cswatch");this.arN=0;this.d7=[];this.Oc=[];var i=this.a6O.bind(this);
for(var t=0;t<b4;t++){this.d7.push(0);var $=R.S("span","colorsample");$.addEventListener("click",i,!1);
this.Oc.push($);this.m.appendChild($)}var h=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],d=Math.min(b4,h.length);
for(var t=0;t<d;t++)this.d7[t]=h[t];this.vF()}bE.prototype=new dq;bE.prototype.a6O=function(i){this.arN=this.Oc.indexOf(i.currentTarget);
this.$(new eU(x.E.r))};bE.prototype.G=function(){return this.d7[this.arN]};bE.prototype.t=function(i){var $=this.d7,h=$.indexOf(i);
if(h!=-1)$.splice(h,1);else $.pop();$.unshift(i);this.vF()};bE.prototype.vF=function(){for(var t=0;t<this.d7.length;
t++){this.Oc[t].setAttribute("style","background-color:#"+k._V(this.d7[t]))}};function hD(i){dq.call(this);
this.sf={o:0,P:0,Z:0};this.NK=i;this.m=R.S("span","fitem colorsample");this.m.addEventListener("click",this.PV.bind(this),!1)}hD.prototype=new dq;
hD.prototype.f=function(){};hD.prototype.PV=function(i){var $=this.sf;this.$(new eU("click"));var h=new eU(x.E.k,!0);
h.data={d:x.c.ZD,Kh:"colorpicker",Co:$.o<<16|$.P<<8|$.Z,gn:this.g2.bind(this),Wg:this.NK};this.$(h)};
hD.prototype.g2=function(i){this.gh(i);this.$(new eU(x.E.r))};hD.prototype.Yi=function(){this.PV(null)};
hD.prototype.avR=function(){var i=this.sf;return i.o<<16|i.P<<8|i.Z};hD.prototype.G=function(){return k.M.Aw(this.sf)};
hD.prototype.gh=function(i){this.sf={o:i>>16&255,P:i>>8&255,Z:i&255};this.acB()};hD.prototype.t=function(i){this.sf=k.M.zk(i);
this.acB()};hD.prototype.acB=function(){var i=this.sf,$=i.o,h=i.P,d=i.Z,K=$<<16|h<<8|d;this.m.setAttribute("style","background-color:#"+k._V(K))};
function bp(){dq.call(this);this.KJ=!1;this.xD=20;this.amQ=10;this.KC=0;this.KJ=!1;this.jJ={o:255,P:0,Z:0};
this.YY={o:0,P:0,Z:0};this.m=R.S("canvas");this.WA();R.jA(this.m);R.K6(this.m,this.W2.bind(this))}bp.prototype=new dq;
bp.prototype.a5b=function(i){if(this.KJ==i)return;this.KJ=i;this.WA()};bp.prototype.f=function(){};bp.prototype.afk=function(i,$){function h(d){return{o:d>>16&255,P:d>>8&255,Z:d&255}}if(i!=null)this.jJ=h(i);
if($!=null)this.YY=h($);this.WA()};bp.prototype.W2=function(i){var $=R.CJ(i,this.m),h=$.x*R.V(),d=$.y*R.V(),K=this.xD,f=this.amQ,l=0;
if(h<f&&d<f){l=0}else if(h>K-f&&d>K-f){l=1}else if(h<f){l=2}else{l=3}this.Yi(l)};bp.prototype.Yi=function(i){var $=new eU(x.E.k,!0);
if(i>1)$.data={d:x.c.vj,J0:dC.xq,vC:i};else{this.KC=i;var h=i==0?this.jJ:this.YY;$.data={d:x.c.ZD,Kh:"colorpicker",Co:h.o<<16|h.P<<8|h.Z,gn:this.g2.bind(this)}}this.$($)};
bp.prototype.g2=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.vj,J0:dC.xq,vC:this.KC,L:i};this.$($)};
bp.prototype.WA=function(){var i=this.m,$=i.getContext("2d"),h=R.V(),K="#aaaaaa",f=.62;R.Pe(i,34,34);
i.setAttribute("style",i.getAttribute("style")+";cursor:pointer");var d=this.xD=i.width,l=this.amQ=Math.round(d*f);
function u(C,T){var E=C.o,r=C.P,Y=C.Z;if(T)E=r=Y=Math.round(k.DW(E,r,Y));var S=E<<16|r<<8|Y;return"#"+k._V(S)}function U($,C,T,E,r,Y){$.beginPath();
if(E>=Y*2&&r>=Y*2){$.moveTo(C+Y,T);$.lineTo(C+E-Y,T);$.quadraticCurveTo(C+E,T,C+E,T+Y);$.lineTo(C+E,T+r-Y);
$.quadraticCurveTo(C+E,T+r,C+E-Y,T+r);$.lineTo(C+Y,T+r);$.quadraticCurveTo(C,T+r,C,T+r-Y);$.lineTo(C,T+Y);
$.quadraticCurveTo(C,T,C+Y,T)}$.closePath()}function y(C,T,l,E,r){$.strokeStyle=r?r:"black";$.fillStyle=E;
U($,C+.5,T+.5,l-1,l-1,l*.2);$.fill();$.stroke()}y(d-l,d-l,l,u(this.YY,this.KJ));y(0,0,l,u(this.jJ,this.KJ));
var a=d-l,v=Math.round(a*f);y(d-v,a-v,v,"white",K);y(d-a,0,v,"black",K);$.save();$.fillStyle=K;$.translate(0,d);
$.rotate(-Math.PI/2);a=d-l;var c=Math.round(a*.28),p=Math.round(a*.25);for(var t=0;t<2;t++){$.fillRect(c,c,a-c,1);
$.beginPath();$.moveTo(a-p,c+.5-p);$.lineTo(a,c+.5);$.lineTo(a-p,c+.5+p);$.closePath();$.fill();$.transform(0,1,1,0,0,0)}$.restore()};
function iK(i){a9.call(this,i,!1,"brushbutton nopadding",19,10,dC.nj,!0);var $=this.ah2;R.FK($,"flexrow");
var h=R.S("div");$.appendChild(h);var d=R.S("div");$.appendChild(d);d.setAttribute("style","margin-left:8px");
this.aN=new fM(null,null,!0);this.aN.h(x.E.r,this.GZ,this);h.appendChild(this.aN.m);this.AH=new is([12,14,0],1,1e3," px",0,!0);
this.AH.h(x.E.r,this.GZ,this);d.appendChild(this.AH.m);this.AW=new is([12,17],0,100,"%");this.AW.h(x.E.r,this.GZ,this);
d.appendChild(this.AW.m);this._4=new fZ(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this._4.h(x.E.r,this.GZ,this);d.appendChild(this._4.m)}iK.prototype=new a9;iK.prototype.Io=function(){var i=["pencil","trees"];
for(var t=0;t<i.length;t++)i[t]="brushes/"+i[t]+".abr";return i};iK.prototype.t=function(i,$,h){this.Sa=JSON.parse(JSON.stringify(i));
var d=Math.floor(20*R.V()),K=Math.floor(36*R.V()),f=Math.floor(24*R.V()),l=kn.eR(i,$,h,d,f,K);this.eO.setAttribute("src",l);
R.Tb(this.eO,K,f);var u=i.Brsh.v;this.AH.t(u.Dmtr.v.val);if(u.Hrdn!=null){this.AW.wA();this.AW.t(u.Hrdn.v.val)}else this.AW.eI();
if(u.Angl!=null)this.aN.t([u.Angl.v.val]);if(u.Rndn!=null)this.aN.t([null,null,u.Rndn.v.val/100]);var U=[!1,!1];
if(i.opVr)U[0]=i.opVr.v.bVTy.v==2;if(i.szVr)U[1]=i.szVr.v.bVTy.v==2;this._4.t(U)};iK.prototype.RF=function(){return{list:[{t:"Objc",v:this.G()}],pd:[],ut:[]}};
iK.prototype.G=function(){return this.Sa};iK.prototype.Vc=function(){if(!this.zw)return;var i=[],$=[],h=this.h8,d=Math.floor(33*R.V()),K=Math.floor(40*R.V());
for(var t=0;t<h.list.length;t++){var f=h.list[t].v,l=kn.eR(f,h.pd,h.ut,d,K);i.push(l);$.push(f.Nm.v.split("=").pop())}this.zU.BN(i,$,d,K);
this.zw=!1};iK.prototype.VK=function(i){var $=this.h8;this.t($.list[this.zU.G()[0]].v,$.pd,$.ut);this.$(new eU(x.E.r))};
iK.prototype.f=function(){a9.prototype.f.call(this);this.aN.f();this.AH.f();this.AW.f()};iK.prototype.GZ=function(i){var $=this.h8,h=this.Sa,d=h.Brsh.v;
d.Dmtr.v.val=this.AH.G();if(d.Hrdn!=null)d.Hrdn.v.val=this.AW.G();if(d.Angl!=null)d.Angl.v.val=this.aN.G()[0];
if(d.Rndn!=null)d.Rndn.v.val=Math.round(this.aN.G()[2]*100);if(i.target==this._4){var K=this._4.G(),f=["opVr","szVr"],l=["usePaintDynamics","useTipDynamics"];
for(var t=0;t<2;t++){var u=f[t];if(h[u]==null)h[u]=JSON.parse(bk.xy.jw[u]);h[u].v.bVTy.v=K[t]?2:0;if(K[t])h[l[t]].v=!0}bk.xy.auT(h)}this.t(h,$.pd,$.ut);
this.$(new eU(x.E.r))};function g7(i){a9.call(this,i,!0,"contourbutton",17,10.5,dC.Fr)}g7.prototype=new a9;
g7.prototype.VK=function(i){this.t(this.h8[i.target.G()]);this.$(new eU(x.E.r))};g7.prototype.s9=function(i){var $=new eU(x.E.k,!0);
$.data={d:x.c.ZD,Kh:"contoureditor",Os:this.Sa,response:this.ak_.bind(this)};this.$($)};g7.prototype.ak_=function(i){this.t(i);
this.$(new eU(x.E.r))};g7.prototype.Vc=function(){if(!this.zw)return;var i=Math.floor(38*R.V()),$=Math.floor(38*R.V()),h=[],d=[],K=this.h8;
for(var t=0;t<K.length;t++){d.push(K[t].Nm?K[t].Nm.v:"");h.push(k.qt.eR(K[t].Crv.v,i,$))}this.zU.BN(h,d,i,$);
this.zw=!1};g7.prototype.t=function(i){this.Sa=JSON.parse(JSON.stringify(i));var $=this.Sa.Crv.v;for(var t=0;
t<$.length;t++)if($[t].v.Cnty==null)$[t].v.Cnty={t:"bool",v:!0};this.ZE()};g7.prototype.ZE=function(){var i=Math.floor(30*R.V()),$=Math.floor(30*R.V()),h=k.qt.eR(this.Sa.Crv.v,i,$);
this.eO.setAttribute("src",h);R.Tb(this.eO,i,$)};g7.prototype.G=function(){return JSON.parse(JSON.stringify(this.Sa))};
function aa(i){dq.call(this);this.jX=null;this.RM=null;this.xM=null;this.yi=null;this.a56=[];this.au9=[];
this.m=R.S("span","fitem fillbutton");this.aO=new dq;this.aO.m=R.S("div","floatcont form");this.aO.m.setAttribute("style","width: 21em;");
this.aO.parent=this;this.Gk=i;this.M0=this.M0=R.S("label","flabel");this.m.appendChild(this.M0);this.T=R.S("canvas");
this.nl=this.T.getContext("2d");this.as0=null;this.m.appendChild(this.T);R.K6(this.T,this.s4.bind(this));
this.f6=new ee([12,66],["","Color","Grad","Patt"]);this.aO.m.appendChild(this.f6.m);this.f6.h(x.E.r,this.Ov,this);
this.aO.m.appendChild(R.S("hr"));this.auF=R.S("span");this.oH=new hD(!1);this.oH.parent=this.aO;this.oH.h(x.E.r,this.Ov,this);
this.Tk=new bE(10);this.Tk.h(x.E.r,this.Ov,this);this.zq=R.S("div","marged hiline");this.zq.appendChild(this.oH.m);
R.k6(this.zq);this.zq.appendChild(this.Tk.m);this.n8=new dA("GrFl",!0);this.n8.parent=this.aO;this.n8.h(x.E.r,this.Ov,this);
this.C1=R.S("div","marged hiline");var $="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var t=0;
t<$.length;t++){var h=this.n8.K9[$[t]].m;this.C1.appendChild(h)}this.rj=new dA("patternFill",!0);this.rj.parent=this.aO;
this.rj.h(x.E.r,this.Ov,this);this.fo=R.S("div","marged hiline");var $=["Ptrn","Angl","Scl","Algn","phase"];
for(var t=0;t<$.length;t++){var h=this.rj.K9[$[t]].m;this.fo.appendChild(h)}}aa.prototype=new dq;aa.prototype.aG=function(i,$){var h=bP.jI(i,$);
if(h!=null)this.Tk.t(h);if($==dC.tY){this.a56=[];this.au9=[];if(this.jX)this.t(this.xM,this.G(),this.jX)}this.RM=i;
this.n8.aG(i,$);this.rj.aG(i,$)};aa.prototype.f=function(){this.M0.textContent=e_.get(this.Gk)+": ";
this.f6.f();this.oH.f();this.n8.f();this.rj.f()};aa.prototype.Ov=function(i){var $=i.currentTarget;if($==this.f6){var h=this.f6.G(),d={$M:h,DP:this.jX[h]};
if(h>0&&d.DP==null)d.DP=JSON.parse(JSON.stringify(et.FX[h-1]));if(this.jX)this.t(this.xM,d,this.jX)}if($==this.Tk)this.oH.gh($.G());
this.$(new eU(x.E.r,!1))};aa.prototype.s4=function(i){if(R.bT(this.aO.m))return;i.stopPropagation();
var $=this.T.getBoundingClientRect(),h=new eU(x.E.k,!0);h.data={d:x.c.jT,dX:this.aO,x:$.left,y:$.top+$.height+4};
this.$(h)};aa.prototype.t=function(i,$,h){this.jX=h;this.xM=i;var d=[[13,1,0],[13,0],[12,37],[12,62]],K=this.a56,f=this.au9,l=!1,a;
for(var t=0;t<4;t++){var u={$M:t,DP:h[t]},U=aa.a9F(u);if(f[t]==U)continue;l=!0;var y=aa.aj3(null,u,this.RM,this.xM,22,22,!1);
K[t]="<img width=\"22\" height=\"22\" src=\""+y+"\" />";f[t]=U}if(l)this.f6.TD(K,d);this.f6.t($.$M);
var U=aa.a9F($);if(U!=this.as0)aa.aj3(this.nl,$,this.RM,this.xM,30,23,!0);this.as0=U;var v=$.$M;if(v==0){a=this.auF}if(v==1){this.oH.t($.DP.Clr.v);
a=this.zq}if(v==2){this.n8.update(i,$.DP);a=this.C1}if(v==3){this.rj.update(i,$.DP);a=this.fo}if(a!=this.yi){if(this.yi!=null){this.aO.m.removeChild(this.yi)}this.aO.m.appendChild(a);
this.yi=a}};aa.prototype.G=function(){var i={$M:this.f6.G()};if(i.$M==1){i.DP=JSON.parse(JSON.stringify(et.FX[0]));
i.DP.Clr.v=this.oH.G()}if(i.$M==2){i.DP=this.n8.G()}if(i.$M==3){i.DP=this.rj.G()}return i};aa.a9F=function(i){var $=i.$M,h=i.DP,d="empty";
if($==1){d=k.M.zk(h.Clr.v);d=d.o+","+d.P+","+d.Z}if($==2)d=JSON.stringify(h.Grad.v);if($==3)d=h.Ptrn.v.Idnt.v;
return d};aa.aj3=function(i,$,h,d,K,f,l){if(i==null)i=aa.nl;var u=Math.floor(K*R.V()),U=Math.floor(f*R.V()),y=i.canvas,a;
y.width=u;y.height=U;R.Tb(y,u,U);var v=$.$M;if(v==0){i.fillStyle="#ffffff";i.fillRect(0,0,u,U);i.strokeStyle="#ff0000";
i.lineWidth=2;i.moveTo(0,0);i.lineTo(u,U);i.moveTo(0,U);i.lineTo(u,0);i.stroke()}if(v==1){var c=$.DP.Clr.v;
c=k.M.zk(c);i.fillStyle="#"+k._V(c.o<<16|c.P<<8|c.Z);i.fillRect(0,0,u,U)}if(v==2){D.pK.eR($.DP.Grad.v,u,U,0,h.Mz,h.n9,y)}if(v==3){var p=$.DP.Ptrn.v,C;
if(d!=null)C=eN.Y1(p,d.add.Patt);if(C==null)C=eN.Y1(p,h.c$);h6.eR(C,u,U,y)}if(l){i.beginPath();i.strokeStyle="#000000";
i.fillStyle="#ffffff";i.lineWidth=2;var T=u*.7,E=Math.floor(U*.7),r=7*R.V();i.moveTo(T,E);i.lineTo(T+r,E);
i.lineTo(T+r/2,E+r/2);i.closePath();i.stroke();i.fill()}if(i==aa.nl)return y.toDataURL()};aa.nl=R.S("canvas").getContext("2d");
function h6(i){a9.call(this,i,!1,"patternbutton",18,10,dC.tY);this.KI=null}h6.prototype=new a9;h6.prototype.VK=function(i){var $=this.h8[this.zU.G()];
this.Sa={classID:"Ptrn",Nm:{t:"TEXT",v:$.name},Idnt:{t:"TEXT",v:$.id}};this.$(new eU(x.E.r));this.ZE()};
h6.prototype.Vc=function(){if(!this.zw)return;var i=this.h8,$=Math.floor(34*R.V()),h=Math.floor(34*R.V()),d=[],K=[];
for(var t=0;t<i.length;t++){d.push(h6.eR(i[t],$,h));K.push(i[t].name)}this.zU.BN(d,K,$,h);this.zw=!1};
h6.prototype.t=function(i,$){if(this.Sa&&i.Idnt.v==this.Sa.Idnt.v)return;this.Sa=JSON.parse(JSON.stringify(i));
this.ZE($)};h6.prototype.G=function(){return JSON.parse(JSON.stringify(this.Sa))};h6.prototype.RF=function(){return this.KI?[this.KI]:[]};
h6.prototype.ZE=function(i){var $=Math.floor(50*R.V()),h=Math.floor(50*R.V()),d;if(i!=null)d=eN.Y1(this.Sa,i.add.Patt);
if(d==null)d=eN.Y1(this.Sa,this.h8);this.KI=d;var K=h6.eR(d,$,h);this.eO.setAttribute("src",K);R.Tb(this.eO,$,h)};
h6.T=R.S("canvas","");h6.eR=function(i,$,h,d){if(d==null)d=h6.T;var K=d.getContext("2d");d.width=$;d.height=h;
if(i){var f=i.Jz[1],l=f.e,u=f.n,U=i.Jz[0],y=Math.min($/l,h/u),a=y;if(a*l<2)a=2/l;var v=y;if(v*u<2)v=2/u;
var c=D.vA.$V([U,f],new ej(a,0,0,v,0,0),a>2),p=c.rect.e,C=c.rect.n,T=K.createImageData(p,C);k.pv(c.buffer,T.data);
K.putImageData(T,Math.floor(($-p)/2),Math.floor((h-C)/2))}return d.toDataURL()};function ft(i,$,h){if($==null)$=24.2;
if(h==null)h=17;a9.call(this,i,!1,"patternbutton",$,h,dC.G0);this.bH=""}ft.prototype=new a9;ft.prototype.VK=function(i){this.Sa=JSON.parse(JSON.stringify(this.h8[0][this.zU.G()[0]]));
this.$(new eU(x.E.r))};ft.prototype.Vc=function(){var i=this.h8;if(i==null||!this.zw)return;var $=Math.floor(50*R.V()),h=Math.floor(50*R.V()),d=[],K=[];
for(var t=0;t<i[0].length;t++){d.push(ft.eR(this.h8[0][t].z3,$,h,this.h8[1]));K.push(i[0][t].lp.Nm.v.split("=").pop())}this.zU.BN(d,K,$,h);
this.zw=!1};ft.prototype.t=function(i,$,h,d){var K=JSON.stringify(i.z3)+","+h+","+d;if(this.bH!=K){this.bH=K;
this.Sa=JSON.parse(JSON.stringify(i));this.ZE($,h,d)}};ft.prototype.G=function(){return JSON.parse(JSON.stringify(this.Sa))};
ft.prototype.ZE=function(i,$,h){var d=Math.floor(68*R.V()),K=Math.floor(68*R.V()),f=ft.eR(this.Sa.z3,d,K,i?i:this.h8[1],$,h);
this.eO.setAttribute("src",f);R.Tb(this.eO,d,K)};ft.eR=function(i,$,h,d,K,f){var l=new hR;l.e=$;l.n=h;
l.buffer=k.Q($*h*4);l.add.Patt=d;l.gO(K==null?90:K);l.$c(f==null?30:f);var u=new bN(0,0,Math.round($*.5),Math.round(h*.5));
u.x=Math.round(($-u.e)/2);u.y=Math.round((h-u.n)/2);var U=l.Dw();U.rect=u;U.buffer=k.Q(u.O()*4);k.MK(U.buffer,4284045657);
eN.aqe(i,U,.5*100);l.B.push(U);l.hh();l.U();var y=i8.ph;i8.ph=!1;l.kX();var a=l.Fy();i8.ph=y;var v=em.xJ(a.buffer,l.e,l.n);
return v};function jb(i){a9.call(this,null,!1,"tpresetbutton",18,24,dC.PD,!0);R.jE(this.m,"fitem");this.zU.ot(1);
this.id=i;this.ZE();this.d.style.overflow="hidden";this.RW=new iD([15,7,9]);this.RW.t(!0);this.RW.h(x.E.r,this.aw$,this);
this.Qm.appendChild(this.RW.m)}jb.prototype=new a9;jb.prototype.axz=function(i){if(this.id==i)return;
this.id=i;this.B8(this.h8)};jb.prototype.VK=function(i){var $=this.h8[this.zU.G()],h=new eU(x.E.k,!0);
h.data={d:x.c.vj,D2:"set",J0:dC.PD,YF:$};this.$(h)};jb.prototype.f=function(){a9.prototype.f.call(this);
this.RW.f()};jb.prototype.aw$=function(){this.zw=!0;this.Vc()};jb.prototype.Vc=function(){if(!this.zw)return;
var i=Math.floor(16*R.V()),$=Math.floor(16*R.V()),h=[],d=[],K=this.h8,f=this.RW.G();for(var t=0;t<K.length;
t++){var l=D.am8(K[t]);if(!f||l==this.id){d.push(K[t][0]?K[t][0].split("=").pop():"");h.push(l==-1?"":PIMG[D.y9[l][0]])}else{h.push(null);
d.push(null)}}this.zU.BN(h,d,i,$);this.zw=!1};jb.prototype.ZE=function(){var i=this.eO;i.setAttribute("src",PIMG[D.y9[this.id][0]]);
R.FK(i,"toolicon")};jb.prototype.RF=function(){return null};jb.v1={};jb.eR=function(i,$,h){var d=jb.nl,K=jb.v1,f=k._V(i.o<<16|i.P<<8|i.Z);
if(K[f])return K[f];if(d==null){var l=R.S("canvas");d=jb.nl=l.getContext("2d")}var l=d.canvas;l.width=$;
l.height=h;d.fillStyle="#"+f;d.fillRect(0,0,$,h);var u=K[f]=l.toDataURL();return u};function e4(i,$,h){dq.call(this);
this.m=R.S("span","fitem curveeditor");this.kF=null;this.ag1=0;this.Y0="";this.mode=0;this.E6=i;this.au3=$;
this.ahu=h;this.yY=null;this.Gv=null;this.akz=0;this.a5H=0;this.hG=new cq;this.UA=this.hJ.bind(this);
this.e6=this.Qw.bind(this);this.d3=256;this.T=R.S("canvas");this.nl=this.T.getContext("2d");R.jA(this.T);
this.m.appendChild(this.T);this.JQ(256,256);R.K6(this.T,this.io.bind(this));this.coords=R.S("div");this.coords.setAttribute("style","width:250px");
this.m.appendChild(this.coords);var d=this.xl=h?100:255,K=null;this.HJ=new j6("X (in)",0,d,K,0,!1,!0);
this.ss=new j6("Y (out)",0,d,K,0,!1,!0);this.yC=new iD([19,3,0]);this.HJ.h(x.E.r,this.vM,this);this.ss.h(x.E.r,this.vM,this);
this.yC.h(x.E.r,this.vM,this);this.coords.appendChild(this.HJ.m);if(h)this.coords.appendChild(this.yC.m);
this.coords.appendChild(this.ss.m)}e4.prototype=new dq;e4.prototype.f=function(){this.yC.f();this.HJ.f();
this.ss.f()};e4.prototype.JQ=function(i,$){this.d3=Math.round(i);this.nl.resetTransform();R.Pe(this.T,this.d3,this.d3,this.nl);
this.nl.scale(this.d3/256,this.d3/256);if(this.yY)this.jb()};e4.prototype.vM=function(i){var t=this.amx(),$=this.yY[t],h=255/this.xl;
$.v.Hrzn.v=this.HJ.G()*h;$.v.Vrtc.v=this.ss.G()*h;if(this.ahu)$.v.Cnty.v=this.yC.G();this.yY.sort(function(d,K){return d.v.Hrzn.v-K.v.Hrzn.v});
this.jb();this.$(new eU(x.E.r))};e4.prototype.t=function(i,t){var $=JSON.stringify(i);if($==JSON.stringify(this.yY))return;
this.mode=i.length==256?1:0;this.yY=JSON.parse($);if(t!=null)this.Gv=this.yY[t];this.jb()};e4.prototype.rg=function(i,$,h){this.kF=i;
this.ag1=$;this.Y0=h;this.jb()};e4.prototype.G=function(){return JSON.parse(JSON.stringify(this.yY))};
e4.prototype.amx=function(){return this.yY.indexOf(this.Gv)};e4.prototype.io=function(i){var $=256/this.d3,h=R.CJ(i,this.T);
h.x*=$;h.y*=$;var d=h.x,K=256-h.y;if(this.E6){var f=d;d=256-K;K=f}this.hG.WI(d,K);if(this.mode==0){var l=0,u=1e9,c;
for(var t=0;t<this.yY.length;t++){var U=this.yY[t].v,y=U.Hrzn.v-d,a=U.Vrtc.v-K,v=Math.sqrt(y*y+a*a);
if(v<u){u=v;l=t}}if(u<15)c=this.yY[l];else{c=k.qt.o3(d,K,!0);this.yY.push(c);this.yY.sort(function(p,C){return p.v.Hrzn.v-C.v.Hrzn.v})}this.Gv=c;
this.a5H=this.yY.slice(0)}R.sM(document.body,this.UA);R.pq(document.body,this.e6);this.hJ(i)};e4.prototype.hJ=function(i){var $=256/this.d3,h=R.CJ(i,this.T);
h.x*=$;h.y*=$;var d=h.x,K=256-h.y;if(this.E6){var f=d;d=256-K;K=f}if(this.mode==0){var l=this.yY,u=this.Gv,U=this.a5H,y=U.indexOf(u),a=l.indexOf(u)!=-1,v=U.length-1,c=d;
if(y==0){c=Math.max(0,Math.min(U[1].v.Hrzn.v-1,d))}else if(y==v){c=Math.min(255,Math.max(U[v-1].v.Hrzn.v+1,d))}else{var p=d<0||d>255||K<0||K>255;
if(d<=U[y-1].v.Hrzn.v||d>=U[y+1].v.Hrzn.v)p=!0;if(!p&&!a)l.splice(y,0,u);if(p&&a)l.splice(y,1)}if(this.au3&&(y==0||y==U.length-1)){}else u.v.Hrzn.v=Math.round(c);
u.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(K)))}else{d=Math.round(d);K=Math.round(K);d=Math.max(0,Math.min(255,d));
K=Math.max(0,Math.min(255,K));var C=this.hG.x,T=d,E=this.hG.y,r=K;if(d<this.hG.x){T=C;C=d;r=E;E=K}this.yY[d]=K;
if(C!=T)for(var Y=C;Y<=T;Y++)this.yY[Y]=Math.round(E+(Y-C)*(r-E)/(T-C))}this.hG.WI(d,K);this.jb();this.$(new eU(x.E.r))};
e4.prototype.Qw=function(i){R.Uq(document.body,this.UA);R.hZ(document.body,this.e6);this.$(new eU(x.E.r))};
e4.prototype.jb=function(){var i=this.nl,$=this.T;i.fillStyle="#ffffff";i.fillRect(0,0,256,256);var h=256/$.width;
if(this.kF){i.save();i.translate(0,256);i.scale(1,-1);hX.adT(i,this.kF,5700/this.ag1,this.Y0);i.restore()}i.strokeStyle="#aaaaaa";
i.lineWidth=1*h;i.beginPath();for(var t=1;t<4;t++){var d=(Math.floor(64*t/h)+.5)*h;i.moveTo(0,d);i.lineTo(255,d);
i.moveTo(d,0);i.lineTo(d,255)}i.stroke();if(this.E6){i.save();i.transform(0,1,-1,0,256,0)}if(this.mode==0){var K=this.yY,f=k.qt.uC(K,256);
i.strokeStyle="#000000";i.beginPath();i.moveTo(0,255.5-f[0]);for(var t=0;t<256;t++)i.lineTo(t,255.5-f[t]);
i.stroke();i.lineWidth=2*h;for(var t=0;t<K.length;t++){var l=K[t].v;i.fillStyle=this.Gv==K[t]?"#333":"#fff";
i.beginPath();i.moveTo(l.Hrzn.v,255.5-l.Vrtc.v);i.arc(l.Hrzn.v,255.5-l.Vrtc.v,5*h,0,2*Math.PI);i.stroke();
i.fill()}}else{var f=this.yY;i.strokeStyle="#000000";i.beginPath();i.moveTo(0,255.5-f[0]);for(var t=0;
t<256;t++)i.lineTo(t,255.5-f[t]);i.stroke()}if(this.E6)i.restore();var t=this.amx();this.coords.className=t==-1?"disabled":"";
if(t==-1)return;var l=this.yY[t].v,u=255/this.xl;this.HJ.t(Math.round(l.Hrzn.v/u));this.ss.t(Math.round(l.Vrtc.v/u));
if(l.Cnty)this.yC.t(l.Cnty.v)};function hX(i,$){dq.call(this);this.m=R.S("span","");this.aK=new ku([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.aK.h(x.E.r,this.WA,this);this.m.appendChild(this.aK.m);R.k6(this.m);var h=R.S("div");this.m.appendChild(h);
h.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.T=R.S("canvas");var d=this.T;
h.appendChild(d);d.width=Math.round(i*R.V());d.height=Math.round(100*R.V());R.Tb(d,d.width,d.height);
d.style.display="block";this.nl=d.getContext("2d");this.kF=null;this.GD=0;this.a1H=null;this.aoo=[];
this.J7=[];var K=["Mean:","Pixels:"],f=this.m;if($)for(var t=0;t<K.length;t++){var l=new ie(K[t]);this.aoo.push(l);
f.appendChild(l.m);var u=new ie("hi");this.J7.push(u);f.appendChild(u.m);R.k6(f)}}hX.prototype=new dq;
hX.prototype.f=function(){this.aK.f()};hX.prototype.ot=function(i){this.aK.t(i);this.WA()};hX.prototype.t=function(i,$){this.kF=i;
this.a1H=$;this.WA()};hX.prototype.gh=function(i){if(i==this.GD)return;this.GD=i;this.WA()};hX.prototype.WA=function(){if(this.kF==null)return;
var i=this.T,$=this.nl,h=this.kF,d=this.a1H,K=this.aK.G(),f=6e3/h[4],l="#"+k._V(this.GD),u=hX.adT;i.width=i.width;
$.setTransform(i.width/256,0,0,-i.height/100,0,i.height);$.globalCompositeOperation="lighter";if(K==0)u($,h[0],f/3,l);
else if(K<4)u($,h[K],f,l);else{u($,h[1],f,"#ff0000");u($,h[2],f,"#00ff00");u($,h[3],f,"#0000ff")}$.setTransform(1,0,0,1,0,0);
if(d!=null){if(K==4)K=0;var U=0;for(var t=0;t<256;t++)U+=t*h[K][t];if(K==0)U/=3;this.J7[0].t((U/d).toFixed(1)+"");
this.J7[1].t(d+"")}};hX.adT=function(i,$,h,d){i.beginPath();i.moveTo(0,0);for(var K=0;K<256;K++)i.lineTo(K,$[K]*h);
i.lineTo(256,0);i.closePath();i.fillStyle=d;i.fill()};function f4(i,$){dq.call(this);this.Xy={o:0,P:0,Z:0};
if(Math.abs(i-256/R.V())<10)i=256/R.V();var h=this.m=R.S("div","flexrow"),d=this.ah3=R.S("div");h.appendChild(d);
this.am=new cq;this.kO=new cq;this.ls=this.asZ.bind(this);this.Pt=this.aad.bind(this);this.T=R.S("canvas","");
this.nl=this.T.getContext("2d");this.T.width=this.T.height=256;this.ask=this.nl.getImageData(0,0,256,256);
this.a6E=-1;this.ajh="";R.jA(this.T);R.K6(this.T,this.a2X.bind(this));d.appendChild(this.T);this.avL=this.aoP.bind(this);
this.axY=this.and.bind(this);this.CZ=R.S("canvas","");this.Cl=this.CZ.getContext("2d");this.CZ.width=20;
this.CZ.height=256;this.a8y=this.Cl.getImageData(0,0,20,256);f4.agB(this.a8y.data,20,256);R.jA(this.CZ);
R.K6(this.CZ,this.awX.bind(this));h.appendChild(this.CZ);this.T.setAttribute("style","width:"+i+"px; height:"+i+"px");
this.CZ.setAttribute("style","width:16px; height:"+i+"px");this.uu=new iD("Web Colors\u2001");this.uu.h(x.E.r,this.update,this);
this.Hh=new iD("CMYK gamut");this.Hh.h(x.E.r,this.update,this);if($){R.k6(d);d.appendChild(this.uu.m);
d.appendChild(this.Hh.m)}}f4.prototype=new dq;f4.prototype.JQ=function(i,$){this.T.style.width=this.ah3.style.width=i-16+"px"};
f4.prototype.t=function(i){if(this.uu.G()){var $=JSON.parse(JSON.stringify(i));f4.Dd($);var h=this.G();
if($.o==h.o&&$.P==h.P&&$.Z==h.Z)i=this.Xy}this.Xy=i;this.update()};f4.prototype.G=function(){var i=JSON.parse(JSON.stringify(this.Xy));
if(this.uu.G())f4.Dd(i);return i};f4.prototype.update=function(){var i=this.Xy,$=k._U(i.o,i.P,i.Z);if($.Pr==0)$.qc=this.am.x/255;
if($.qc==0||$.Pr==0)$.mJ=(255-this.xy(this.kO.y))/255;if($.Pr!=0)this.am.x=$.qc*255;this.am.y=(1-$.Pr)*255;
this.kO.y=(1-$.mJ)*255;var h=this.ask,d=this.uu.G(),K=this.Hh.G(),f=d+","+K;if(Math.abs($.mJ-this.a6E)>.002||this.ajh!=f){this.a76(h.data,256,256,$.mJ,d,K);
this.a6E=$.mJ;this.ajh=f}var l=this.nl;l.putImageData(h,0,0);l.strokeStyle="#000000";l.beginPath();l.arc(this.am.x+1,this.am.y+1,5,0,2*Math.PI);
l.stroke();l.strokeStyle="#ffffff";l.beginPath();l.arc(this.am.x,this.am.y,5,0,2*Math.PI);l.stroke();
h=this.a8y;l=this.Cl;l.putImageData(h,0,0);l.strokeStyle="#ffffff";l.beginPath();l.moveTo(0,this.kO.y);
l.lineTo(20,this.kO.y);l.lineWidth=2;l.stroke()};f4.Dd=function(i){i.o=~~(.5+i.o*5)*.2;i.P=~~(.5+i.P*5)*.2;
i.Z=~~(.5+i.Z*5)*.2};f4.prototype.a76=function(i,$,h,d,K,f){var l=1/$,u=1/h;for(var U=0;U<h;U++)for(var y=0;
y<$;y++){var a=k.ub(d,y*l,(h-U-1)*u);if(K)f4.Dd(a);var t=U*$+y<<2;i[t+0]=~~(a.o*255);i[t+1]=~~(a.P*255);
i[t+2]=~~(a.Z*255);i[t+3]=255}if(f){var v=i.slice(0),c=hR.Fw[0],p=hR.Fw[1];ICC.U.applyLUT(p,c,v,v);for(var t=0;
t<i.length;t+=4){var C=i[t]-v[t],T=i[t+1]-v[t+1],E=i[t+2]-v[t+2],r=C*C+T*T+E*E;if(r>300)i[t]=i[t+1]=i[t+2]=200}}};
f4.agB=function(i,$,h,d,K){if(d==null)d=1;if(K==null)K=0;var f=new Uint32Array(i.buffer);for(var l=0;
l<h;l++){var u=k.ub((1+d*(1-l/h)+K)%1,1,1),U=255<<24|u.Z*255<<16|u.P*255<<8|u.o*255;for(var y=0;y<$;
y++)f[l*$+y]=U}};f4.prototype.a2X=function(i){R.sM(window,this.ls);R.pq(window,this.Pt);this.asZ(i)};
f4.prototype.aad=function(i){R.Uq(window,this.ls);R.hZ(window,this.Pt)};f4.prototype.asZ=function(i){var $=R.CJ(i,this.T);
$.x=$.x*(256/parseFloat(this.T.style.width));$.y=$.y*(256/parseFloat(this.T.style.height));this.am.WI(this.xy($.x),this.xy($.y));
this.cA()};f4.prototype.cA=function(){this.Xy=this.an5();this.$(new eU(x.E.r))};f4.prototype.an5=function(){var i=k.ub((255-this.xy(this.kO.y))/255,this.WZ(this.am.x/255),this.WZ(1-this.am.y/255));
return{o:i.o,P:i.P,Z:i.Z}};f4.prototype.awX=function(i){R.sM(window,this.avL);R.pq(window,this.axY);
this.aoP(i)};f4.prototype.and=function(i){R.Uq(window,this.avL);R.hZ(window,this.axY)};f4.prototype.aoP=function(i){var $=R.CJ(i,this.CZ);
$.y=$.y*(256/parseFloat(this.CZ.style.height));this.kO.WI(this.xy($.x),this.xy($.y));this.cA()};f4.prototype.xy=function(i){return Math.max(0,Math.min(255,i))};
f4.prototype.WZ=function(i){return Math.max(0,Math.min(1,i))};function jh(i,$,h,d){var K=ee.vg($,d);
ee.call(this,i,K,h)}jh.prototype=new ee;function e8(){dq.call(this);this.bX=null;this.Bv=new iw;this.Bv.h(x.E.r,this.avA,this);
this.Bv.parent=this;this.Wm=new j6([12,14,0],1,150,"px",0,!0);this.Wm.h(x.E.r,this.ql,this);this.Wm.parent=this;
this.fR=new j6([16,0],.01,100,"px",2,!0,null,5);this.fR.h(x.E.r,this.ql,this);this.fR.parent=this;this.j8=new iD("Auto");
this.j8.h(x.E.r,this.ql,this);this.mn=new j6([16,1],-500,5e3,"%",0,!0);this.mn.h(x.E.r,this.ql,this);
this.mn.parent=this;this.q$=new j6("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.q$.h(x.E.r,this.ql,this);
this.q$.parent=this;this.s0=new j6("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.s0.h(x.E.r,this.ql,this);
this.s0.parent=this;this.IA=new j6([16,2],-10,10,"px");this.IA.h(x.E.r,this.ql,this);this.IA.parent=this;
this.kS=new hD(!0);this.kS.h(x.E.r,this.dp,this);this.kS.parent=this;this.tP=new hD(!0);this.tP.h(x.E.r,this.dp,this);
this.tP.parent=this;this._P=new hD(!0);this._P.h(x.E.r,this.dp,this);this._P.parent=this;this.Ma=new hD(!0);
this.Ma.h(x.E.r,this.dp,this);this.Ma.parent=this;this.mc=new iD([2,3]);this.mc.h(x.E.r,this.ql,this);
this.fX=new iD([14,9]);this.fX.h(x.E.r,this.ql,this);this.Ry=new iD([12,46]);this.Ry.h(x.E.r,this.ql,this);
this.td=new d_("...",null,null,!0);this.td.m.style.marginLeft="-8px";R.K6(this.td.m,this.ajP.bind(this));
this.aO=new dq;var i=this.aO.m=R.S("div","floatcont form"),K=100;this.aO.parent=this;this.ij=new j6([12,41],1,20,"px",0,!0,!0);
this.ij.m.style.marginLeft="16px";this.ij.h(x.E.r,this.ql,this);this.ij.parent=this.aO;i.appendChild(this.tP.m);
i.appendChild(this.mc.m);R.k6(this.aO.m);i.appendChild(this._P.m);i.appendChild(this.fX.m);i.appendChild(this.ij.m);
R.k6(this.aO.m);i.appendChild(this.Ma.m);i.appendChild(this.Ry.m);this.nA=new d_("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.aJ=new d_("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Cn=new d_("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.wP=new d_("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.v6=new d_("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.ag=new d_("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.CV=new d_("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.TG=new d_("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var $=[this.nA,this.aJ,this.Cn,this.wP,this.v6,this.ag,this.CV,this.TG];
for(var t=0;t<$.length;t++)$[t].h("click",this.abd,this);this.NA=new d_("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.pC=new d_("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.x7=new d_("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.alk=new d_("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ath=new d_("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.ac4=new d_("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aw6=new d_("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.N1=[this.NA,this.pC,this.x7,this.alk,this.ath,this.ac4,this.aw6];for(var t=0;t<this.N1.length;t++)this.N1[t].h("click",this.ql,this);
var h=["lind","rind","flind","bind","aind"],d=[];for(var t=0;t<5;t++)d.push("<img src=\""+PIMG["par/"+h[t]]+"\" class=\"autoscale gsicon\" /> ");
this.no=new j6(d[0],-K,K,"px");this.Jo=new j6(d[1],-K,K,"px");this.a$=new j6(d[2],-K,K,"px");this.p0=new j6(d[3],-K,K,"px");
this.lU=new j6(d[4],-K,K,"px");this.IK=new ee([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.lF=new j6(["Auto VAR0",[16,0]],0,500,"%");
this.jN=[this.no,this.Jo,this.a$,this.p0,this.lU,this.IK,this.lF];for(var t=0;t<this.jN.length;t++){var f=this.jN[t];
f.h(x.E.r,this.ql,this);f.parent=this}}e8.prototype=new dq;e8.prototype.ajP=function(i){if(R.bT(this.aO.m))return;
i.stopPropagation();var $=this.td.m.getBoundingClientRect(),h=new eU(x.E.k,!0);h.data={d:x.c.jT,dX:this.aO,x:$.left,y:$.top+$.height+4};
this.$(h)};e8.prototype.f=function(){this.Bv.f();this.Wm.f();this.fR.f();this.mn.f();this.IA.f();this.q$.f();
this.s0.f();this.mc.f();this.fX.f();this.Ry.f();this.ij.f();for(var t=0;t<this.jN.length;t++)this.jN[t].f()};
e8.prototype.t=function(i,$,h){this.ta=JSON.parse(JSON.stringify(i));var d=this.ta,K=d.TL,f=d.OU;this.nA.t(K.FauxBold!=null?K.FauxBold:!1);
this.aJ.t(K.FauxItalic!=null?K.FauxItalic:!1);this.Cn.t(K.FontCaps==2);this.wP.t(K.FontCaps==1);this.ag.t(K.FontBaseline==1);
this.v6.t(K.FontBaseline==2);this.CV.t(K.Underline);this.TG.t(K.Strikethrough);this.Bv.t(K.Font==null?null:d.A8[K.Font].Name,$,h);
var l=K.FontSize==null?20:K.FontSize;this.Wm.t(l);var u=K.Tracking;this.mn.t(u==null?0:u);this.ij.t(K._LineWidth!=null?K._LineWidth:1);
this.fR.t(K.Leading!=null&&K.Leading!=0?K.Leading:l);this.j8.t(K.AutoLeading);this.q$.t((K.VerticalScale!=null?K.VerticalScale:0)*100);
this.s0.t((K.HorizontalScale!=null?K.HorizontalScale:0)*100);this.IA.t(K.BaselineShift!=null?K.BaselineShift:0);
this.mc.t(K.FillFlag!=null?K.FillFlag:!1);this.fX.t(K.StrokeFlag!=null?K.StrokeFlag:!1);this.Ry.t(K._FillBackgroundFlag!=null?K._FillBackgroundFlag:!1);
this.VU(K.FillColor,this.kS);this.VU(K.FillColor,this.tP);this.VU(K.StrokeColor,this._P);this.VU(K._FillBackgroundColor,this.Ma);
var U=f._Direction!=null?f._Direction:0,y=jP.sd(f);for(var t=0;t<this.N1.length;t++)this.N1[t].t(y==t);
this.IK.t(U);this.lF.t((f.AutoLeading!=null?f.AutoLeading:1.2)*100);this.no.t(f.StartIndent!=null?f.StartIndent:0);
this.Jo.t(f.EndIndent!=null?f.EndIndent:0);this.a$.t(f.FirstLineIndent!=null?f.FirstLineIndent:0);this.p0.t(f.SpaceBefore!=null?f.SpaceBefore:0);
this.lU.t(f.SpaceAfter!=null?f.SpaceAfter:0)};e8.prototype.VU=function(i,$){if(i){var h=jP.zk(i);$.gh(Math.round(h.o)<<16|Math.round(h.P)<<8|Math.round(h.Z))}else $.gh(0)};
e8.prototype.hi=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.vj,J0:dC.v_,ta:this.ta};this.$(i);var i=new eU(x.E.s,!0);
i.b=D.z2;i.data={d:"updateStyles"};this.$(i)};e8.prototype.abd=function(i){var $=this.ta.TL,h=i.target,d=!h.v$();
if(h==this.nA)$.FauxBold=d;if(h==this.aJ)$.FauxItalic=d;if(h==this.Cn)$.FontCaps=d?2:0;if(h==this.wP)$.FontCaps=d?1:0;
if(h==this.ag)$.FontBaseline=d?1:0;if(h==this.v6)$.FontBaseline=d?2:0;if(h==this.CV)$.Underline=d;if(h==this.TG)$.Strikethrough=d;
this.hi()};e8.prototype.ql=function(i){var $=this.ta.TL,h=this.ta.OU,d=i.target;if(d==this.mn){var K=this.mn.G();
$.Tracking=K}if(d==this.fR){$.AutoLeading=!1;$.Leading=this.fR.G()}if(d==this.j8){$.AutoLeading=this.j8.G()}if(d==this.ij)$._LineWidth=d.G();
if(d==this.Wm)$.FontSize=d.G();if(d==this.q$)$.VerticalScale=d.G()/100;if(d==this.s0)$.HorizontalScale=d.G()/100;
if(d==this.IA)$.BaselineShift=d.G();if(d==this.mc)$.FillFlag=d.G();if(d==this.fX)$.StrokeFlag=d.G();
if(d==this.Ry)$._FillBackgroundFlag=d.G();if(this.N1.indexOf(d)!=-1){h.Justification=jP.sd(h,this.N1.indexOf(d))}if(d==this.no)h.StartIndent=d.G();
if(d==this.Jo)h.EndIndent=d.G();if(d==this.a$)h.FirstLineIndent=d.G();if(d==this.p0)h.SpaceBefore=d.G();
if(d==this.lU)h.SpaceAfter=d.G();if(d==this.IK)h._Direction=d.G();if(d==this.lF)h.AutoLeading=d.G()/100;
this.hi()};e8.prototype.avA=function(i){var $=this.ta,h=this.Bv.G(),d=-1;for(var t=0;t<$.A8.length;t++)if($.A8[t].Name==h)d=t;
if(d==-1){d=$.A8.length;var K=JSON.parse(JSON.stringify($.A8[0]));K.Name=h;$.A8.splice(d,0,K)}$.TL.Font=d;
this.hi()};e8.prototype.dp=function(i){var $=i.target,h=$.avR(),d={Type:1,Values:[1,(h>>16&255)/255,(h>>8&255)/255,(h>>0&255)/255]};
for(var t=0;t<4;t++)d.Values[t]=Math.round(d.Values[t]*1e3)/1e3;var K=$==this.kS||$==this.tP?0:$==this._P?1:2;
this.ta.TL[["FillColor","StrokeColor","_FillBackgroundColor"][K]]=d;this.hi()};function iw(){dq.call(this);
this.m=R.S("span","fontinput");this.Ow=null;this.AT=null;this.AX=null;this.Ee="";this.In={};this.tJ=[];
this.Qk={};this.avp={};this.SW=!1;this.yu=R.S("button","fitem");this.yu.setAttribute("style","width:9em;");
this.yu.textContent="Family Name \u25BC";this.m.appendChild(this.yu);R.K6(this.yu,this.acp.bind(this));
this.o6=new dq;this.o6.parent=this;this.o6.m=R.S("div","floatcont");this.eo=new fB(6.8);this.o6.m.appendChild(this.eo.a4_());
this.eo.parent=this.o6;this.eo.h(x.E.r,this.lA,this);var i=R.S("div","form");this.o6.m.appendChild(i);
this.sq=new d_(R.HD("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.sq.h("click",this.ahl,this);
i.appendChild(this.sq.m);this.zL=new at([12,86],null,8.4);this.zL.h("input",this.Wu,this);i.appendChild(this.zL.m);
var $=this.avn=new d_([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);$.h("click",this.a3s,this);
$.m.style.marginLeft="1.5em";$.m.style.marginRight="0";i.appendChild($.m);this.dq=R.S("span","fitem imageset scrollable");
this.dq.style.height="30em";this.o6.m.appendChild(this.dq);this.dq.addEventListener("scroll",this.aeX.bind(this),!1);
this.HY=R.S("button","fitem");this.HY.setAttribute("style","width:7em;");this.HY.textContent="SubFamily Name \u25BC";
this.m.appendChild(this.HY);R.K6(this.HY,this.acp.bind(this));this.R_=new dq;this.R_.parent=this;this.R_.m=R.S("div","floatcont");
this.VR=R.S("span","fitem imageset scrollable marged");this.R_.m.appendChild(this.VR);this.a6S=this.axy.bind(this);
this.a9m=this.a2t.bind(this)}iw.prototype=new dq;iw.prototype.aeX=function(i){var $=this.dq.scrollTop,h=this.tJ,d=Math.floor($/27),K=Math.min(d+20,h.length);
for(var t=d;t<K;t++)this.arx(h[t])};iw.prototype.a3s=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.QK,ag5:".otf,.ttf,.ttc"};
this.$(i)};iw.prototype.f=function(){this.eo.f();this.avn.f();this.sq.L5(R.HD("tools/cshape",null,"autoscale"))};
iw.prototype.ahl=function(i){this.sq.t(!this.sq.v$());this.lA()};iw.prototype.Wu=function(i){this.Ee=this.zL.G().toLowerCase();
this.lA()};iw.prototype.acp=function(i){R.ZY(i);var $=i.currentTarget,h=$.getBoundingClientRect(),d=$==this.yu,K=d?this.o6:this.R_;
if(R.bT(K.m)){this.atn(K);return}if(!d&&this.Ow.VF()[this.AX]==null)return;var f=new eU(x.E.k,!0);f.data={d:x.c.jT,dX:K,x:h.left,y:h.top+h.height};
this.$(f);if(d){this.lA(null,!0)}};iw.prototype.axy=function(i){var $=i.currentTarget.firstChild.nextSibling.textContent;
if(i.target.tagName.toLowerCase()=="button"){var h=this.AT.slice(0),d=h.indexOf($);if(d==-1){h=h.slice(Math.max(0,h.length-29));
h.push($)}else h.splice(d,1);var K=new eU(x.E.k,!0);K.data={d:x.c.vj,J0:dC.V8,gj:h};this.$(K);this.SW=!0;
this.lA()}else{this.aoM($,null)}};iw.prototype.a2t=function(i){this.aoM(null,i.currentTarget.firstChild.textContent)};
iw.prototype.aoM=function(i,$){var h=i==null?this.R_:this.o6,d=this.Ow;if(i==null)i=d.VF()[this.AX][0];
else{var K=d.Qv(i),f=d.VF()[this.AX];$=jl.Ce(K,f?f[1]:"regular")}var l=d.oO(i,$)[2];this.t(l,d);this.$(new eU(x.E.r,!1));
this.atn(h);this.lA()};iw.prototype.atn=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.jD,dX:i};this.$($)};
iw.prototype.G=function(){return this.AX};iw.prototype.t=function(i,$,h){var d=this.Ow;if(i!=null)this.AX=i;
else i=this.AX;this.Ow=$;this.AT=h;if(i!=null){var K=$.VF()[i],f,l;if(K==null){f="- "+i;l="-------"}else{f=K[0];
l=K[1];var u=$.Qv(f);u.sort(jl.a3e);this.VR.textContent="";for(var t=0;t<u.length;t++){var K=$.oO(f,u[t]);
if(!this.eo.Yx(K))continue;var U=this.ako(K,!1);this.VR.appendChild(U)}}this.yu.textContent=f.substring(0,15)+" \u25BC";
this.yu.setAttribute("title",f+", \""+i+"\"");this.HY.textContent=l.substring(0,10)+" \u25BC";this.HY.setAttribute("title",l)}};
iw.prototype.lA=function(i,$){var h=this.Ow.VF()[this.AX],d=this.AT,K=this.Ow.Sl();this.tJ=[];for(var f in K){var l=d.indexOf(f)!=-1,u=this.Ow.Qv(f),U=!1;
for(var t=0;t<u.length;t++){var y=this.Ow.oO(f,u[t]),a=!0;if(this.Ee.length>0&&y[0].toLowerCase().indexOf(this.Ee)==-1)a=!1;
else if(!this.eo.Yx(y))a=!1;else if(this.sq.v$()&&!l)a=!1;if(a)U=!0}var v=this.In[f];if(v==null){var c=jl.Ce(K[f],"regular"),p=this.Ow.oO(f,c),v=this.ako(p,!0);
this.In[f]=v;this.dq.appendChild(v);this.Qk[f]="[true,false,false]"}if(U)this.tJ.push(f);var C=h!=null&&h[0]==f;
this.avp[f]="["+U+","+C+","+l+"]";if(!$)this.arx(f)}if(h&&!this.SW){var T=this.In[h[0]];this.dq.scrollTop=T.offsetTop-210}this.aeX();
this.SW=!1};iw.prototype.arx=function(i){var $=this.In[i];if($.firstChild==null){var h=this.Ow.Sl(),d=jl.Ce(h[i],"regular"),K=this.Ow.oO(i,d);
this.ass($,K,!0)}var f=this.Qk[i],l=this.avp[i];if(f==l)return;var u=JSON.parse(f),U=JSON.parse(l);if(u[0]!=U[0]||u[1]!=U[1]){var y=U[0]?"":"display:none; ";
if(U[1])y+="background-color:rgba(0,0,0,0.13);";$.setAttribute("style",y)}if(u[2]!=U[2])$.firstChild.setAttribute("style","opacity: "+(U[2]?"1":"0.2"));
this.Qk[i]=l};iw.prototype.ako=function(i,$){var h=R.S("div","fontitem");if(!$)this.ass(h,i,$);return h};
iw.prototype.ass=function(i,$,h){var d=$[h?0:1],K=h?this.a6S:this.a9m,U="";i.addEventListener("click",K,!1);
if(h)i.appendChild(R.S("button","star"));var f=R.S("span","label");f.setAttribute("title",d);f.textContent=d;
i.appendChild(f);var l=R.V(),u=1/l,y=jl.AE*u,a=jl.SE*u;if(1<l&&l<1.5)U="width:"+y+"px; height:"+a+"px;";
var v=R.S("span","thumb gsicon");if($.a1L){U+="background: url("+$.a1L+");";if(1<l&&l<1.5)U+="background-size: "+y+"px "+a+"px;"}else{var c=Math.ceil(FNTS.list.length/jl.cols),p=Math.floor($.zH/c),C=$.zH%c,T=p*jl.AE,E=C*jl.SE;
if(1<l&&l<1.5){U+="background-size: "+jl.cols*y+"px "+c*a+"px;";T*=u;E*=u}U+="background-position:-"+T+"px -"+E+"px;"}v.setAttribute("style",U);
i.appendChild(v)};function fB(i){dq.call(this);this.m=R.S("button","fitem bbtn");this.m.addEventListener("click",this.a2$.bind(this),!1);
this.aO=new dq;this.aO.m=R.S("div","floatcont");this.aO.parent=this;this.OI=R.S("div","flexrow");this.aO.m.appendChild(this.OI);
this.ur=[];this.l4=[];var $=this.OI,h=R.S("div",""),d=R.S("div","");$.appendChild(h);$.appendChild(d);
this.Um=[];for(var t=0;t<FNTS.cats.length;t++)this.Um.push({name:FNTS.cats[t],index:t,Vr:0});this.qw=new iD([7,0]);
this.qw.t(!0);this.qw.h(x.E.r,this.ar0,this);h.appendChild(this.qw.m);this.R0=R.S("div","vlist marged scrollable");
this.R0.setAttribute("style","width:10.3em; height:"+i+"em; ");h.appendChild(this.R0);this.Cg=[];for(var t=0;
t<this.Um.length;t++){var K=this.Um[t],f=new iD(K.name);this.Cg.push(f);f.h(x.E.r,this.a4Q,this);f.t(!0);
this.R0.appendChild(f.m);this.ur.push(1)}this.a5$=new iD([7,0]);this.a5$.h(x.E.r,this.aqz,this);this.hl=R.S("div","vlist marged scrollable");
this.hl.setAttribute("style","width:8.6em; height:"+(i+1.5)+"em; ");d.appendChild(this.hl);this.G9=[];
for(var t=0;t<FNTS.subsetNames.length;t++){var f=new iD(FNTS.subsetNames[t]);this.G9.push(f);f.h(x.E.r,this.awI,this);
f.t(!1);this.hl.appendChild(f.m);this.l4.push(f.G()?1:0)}}fB.prototype=new dq;fB.prototype.abk=function(i){var $=this.G9;
for(var t=0;t<$.length;t++){var h=(i>>>t&1)==1;this.l4[t]=h;$[t].t(h)}};fB.prototype.a4_=function(){return this.OI};
fB.prototype.f=function(){this.m.textContent=e_.get([25,1,0])+" \u25BC";this.qw.f();this.a5$.f()};fB.prototype.a2$=function(i){var $=this.m.getBoundingClientRect(),h=new eU(x.E.k,!0);
h.data={d:x.c.jT,dX:this.aO,x:$.left,y:$.top+$.height,lS:!1};this.$(h)};fB.prototype.Yx=function(i){if(this.ur[i[4]]==0)return!1;
else for(var $=0;$<this.l4.length;$++)if(this.l4[$]==1&&(i[3]>>>$&1)==0)return!1;return!0};fB.prototype.ar0=function(i){var $=i.target.G(),h=this.Cg,d=this.ur;
for(var t=0;t<h.length;t++){h[t].t($);d[t]=$?1:0}this.$(new eU(x.E.r,!1))};fB.prototype.aqz=function(i){var $=i.target.G(),h=this.G9,d=this.l4;
for(var t=0;t<h.length;t++){h[t].t($);d[t]=$?1:0}this.$(new eU(x.E.r,!1))};fB.prototype.a4Q=function(i){var t=this.Cg.indexOf(i.target),$=this.Um[t].index;
this.ur[$]=1-this.ur[$];this.$(new eU(x.E.r,!1));this.auN(this.Cg,this.qw)};fB.prototype.awI=function(i){var t=this.G9.indexOf(i.target);
this.l4[t]=1-this.l4[t];this.$(new eU(x.E.r,!1))};fB.prototype.auN=function(i,$){var h=!0;for(var t=0;
t<i.length;t++)h=h&&i[t].G();$.t(h)};function gh(i,$,h){a9.call(this,$,!0,"gradientbutton",18,10,dC.Sm);
this.Mz=-1;this.n9=-1;this.ax9=null;this.ajp=i;this.NK=h}gh.prototype=new a9;gh.prototype.VK=function(i){var $=this.h8;
this.t($[this.zU.G()]);this.$(new eU(x.E.r))};gh.prototype.s9=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.ZD,Kh:"gradienteditor",M:this.Sa,gn:this.a8V.bind(this),Wg:this.NK};
this.$($)};gh.prototype.a8V=function(i){this.t(i);this.$(new eU(x.E.r))};gh.prototype.Vc=function(){if(!this.zw)return;
var i=Math.floor(36*R.V()),$=Math.floor(36*R.V()),h=[],d=[],K=this.h8,f=Date.now();for(var t=0;t<K.length;
t++){var l=K[t];d.push(l.Nm?l.Nm.v.split("=").pop():"");var u=D.pK.eR(l,i,$,Math.PI/4,this.Mz,this.n9);
h.push(u)}this.zU.BN(h,d,i,$);this.zw=!1};gh.prototype.yO=function(i,$){this.aeI(this.Sa,i,$)};gh.prototype.t=function(i){this.aeI(i,this.Mz,this.n9)};
gh.prototype.aeI=function(i,$,h){this.Mz=$;this.n9=h;if(i==null)return;var d=JSON.stringify(i),K=d+$+","+h;
if(K==this.ax9)return;this.ax9=K;this.Sa=JSON.parse(d);var f=Math.floor(80*R.V()),l=Math.floor(16*R.V()),u=D.pK.eR(this.Sa,f,l,0,this.Mz,this.n9);
this.eO.setAttribute("src",u);R.Tb(this.eO,f,l)};gh.prototype.G=function(){var i;if(this.ajp)i=D.pK.a6c(this.Sa,this.Mz,this.n9);
else i=JSON.parse(JSON.stringify(this.Sa));return i};function hi(i){a9.call(this,i,!1,"swatchbutton",16,8.75,dC.d_)}hi.prototype=new a9;
hi.prototype.VK=function(i){this.t(this.h8[i.target.G()]);this.$(new eU(x.E.r))};hi.prototype.Vc=function(){if(!this.zw)return;
var i=Date.now(),$=Math.floor(10*R.V()),h=Math.floor(10*R.V()),d=[],K=[],f=this.h8;for(var t=0;t<f.length;
t++){K.push(f[t].rU?f[t].rU.split("=").pop():"");d.push(hi.eR(f[t],$,h))}this.zU.BN(d,K,$,h);this.zw=!1};
hi.prototype.t=function(i){this.Sa=JSON.parse(JSON.stringify(i));this.ZE()};hi.prototype.ZE=function(){var i=Math.floor(24*R.V()),$=Math.floor(20*R.V()),h=hi.eR(this.Sa,i,$);
this.eO.setAttribute("src",h);R.Tb(this.eO,i,$)};hi.prototype.G=function(){return JSON.parse(JSON.stringify(this.Sa))};
hi.v1={};hi.eR=function(i,$,h){var d=hi.nl,K=hi.v1,f=k._V(i.o<<16|i.P<<8|i.Z);if(K[f])return K[f];if(d==null){var l=R.S("canvas");
d=hi.nl=l.getContext("2d")}var l=d.canvas;l.width=$;l.height=h;d.fillStyle="#"+f;d.fillRect(0,0,$,h);
var u=K[f]=l.toDataURL();return u};function ff(i,$,h){dq.call(this);this.m=R.S(h?"div":"span");var d=this.An=R.S("input");
this.An.setAttribute("type","file");if($)d.setAttribute("multiple","");this.An.addEventListener("change",this.apg.bind(this),!1);
this.a65=this.a27.bind(this);this.Hs={};this.$J=0;this.ez=i;var K=this.a5m=new d_(e_.get(i)+" (0)",null,null,!0);
this.m.appendChild(K.m);K.addEventListener("click",function(f){d.click()});if(h){this.kI=R.S("div","scrollable");
this.kI.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.m.appendChild(this.kI);
this.WA()}}ff.prototype=new dq;ff.prototype.t=function(i){};ff.prototype.G=function(i){return this.Hs};
ff.prototype.apg=function(i){var $=i.target.files;this.$J=$.length;this.Hs={};for(var t=0;t<$.length;
t++){var h=$[t],d=new FileReader;d.onload=this.a65;d.Ej=h.name;d.readAsArrayBuffer(h)}this.a5m.L5(e_.get(this.ez)+" ("+$.length+")")};
ff.prototype.a27=function(i){var $=this.Hs[i.target.Ej]=new Uint8Array(i.target.result);this.$J--;if(this.$J==0){if(this.kI)this.WA();
this.$(new eU(x.E.r))}};ff.prototype.WA=function(){var i=this.kI;R.J9(i);for(var $ in this.Hs){var h=R.S("div");
h.textContent=$;i.appendChild(h)}};function dt(i,$,h,d,K){if(i==null)i=!1;if($==null)$=!1;if(h==null)h=!1;
dq.call(this);this.m0=new cq;this.Bi=new cq;this.VZ=72;this.Sc=72;this.fh=!0;this.NY=!1;this.m=R.S("span");
this.sO=new j6([12,41],0,0,null,0,!1,!0);this.m.appendChild(this.sO.m);this.sO.h(x.E.r,this.Ov,this);
var f=["px","%"];if(i)f=f.concat(["mm","in"]);if(K){f=[[12,76,2],[12,76,6]];if(i)f=f.concat([[12,76,5],[12,76,3]])}this.xj=new ku(null,f);
this.m.appendChild(this.xj.m);R.k6(this.m);this.xj.h(x.E.r,this.Ov,this);this.ty=new j6([12,42],0,0,null,0,!1,!0);
this.m.appendChild(this.ty.m);this.ty.h(x.E.r,this.Ov,this);var l=new d_("\u21F5",!1,null,!0);l.h("click",this.aaT,this);
this.wN=new d_("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.wN.h("click",this.Ov,this);
this.kZ=new ie("");this.kZ.m.style.margin="0";this.kZ.m.style.padding="0";if($){this.m.appendChild(this.wN.m);
this.m.appendChild(this.kZ.m);this.wN.rm()}else this.m.appendChild(l.m);this.hA=new j6("DPI",0,0,null,3,!1,!0,4);
this.uF=new ku(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(i&&d==null){R.k6(this.m);
this.m.appendChild(this.hA.m);this.m.appendChild(this.uF.m)}this.uF.h(x.E.r,this.Ov,this);this.hA.h(x.E.r,this.Ov,this);
this.VO=new iD([12,23,1]);this.VO.h(x.E.r,this.Ov,this);if(h){R.k6(this.m);this.m.appendChild(this.VO.m)}R.k6(this.m)}dt.prototype=new dq;
dt.prototype.RJ=function(){this.sO.RJ()};dt.prototype.aj1=function(i,$){this.fh=i;if($!=null)this.NY=$;
if(!this.fh&&!this.NY&&this.xj.G()==0){this.xj.t(3);this.mG()}};dt.prototype.a7c=function(i){this.wN.t(i)};
dt.prototype.f=function(){this.sO.f();this.ty.f();this.hA.f();this.uF.f();this.wN.f();this.VO.f();this.xj.f()};
dt.prototype.aaT=function(i){var $=this.Bi.x;this.Bi.x=this.Bi.y;this.Bi.y=$;this.mG();this.$(new eU(x.E.r,!1))};
dt.prototype.Ov=function(i){if(i.target==this.xj&&!this.fh&&!this.NY&&this.xj.G()==0)this.xj.t(3);if(i.target==this.xj||i.target==this.VO){this.mG();
return}if(i.target==this.wN)i.target.t(!i.target.G());var $=this.m0,h=parseFloat(this.sO.G());if(isNaN(h))h=1;
var d=parseFloat(this.ty.G());if(isNaN(d))d=1;var K=this.hA.G()*[1,2.54][this.uF.G()],f=this.xj.G();
if(this.fh){var l=this.Sc;if(f==1){h=this.m0.x*(h/100);d=this.m0.y*(d/100)}var u=[1,1,25.4/l,1/l][f];
h/=u;d/=u;if(this.VO.G()){h+=this.m0.x;d+=this.m0.y}if(i.target==this.hA){var U=K;if(!this.NY){var y=U/l;
h*=y;d*=y}l=U}if(this.wN.G()){if(i.target==this.sO)d=h*($.y/$.x);else h=d*($.x/$.y)}h=Math.max(Math.abs(h),1);
d=Math.max(Math.abs(d),1)}else{var l=this.VZ;if(i.target==this.hA)l=K;else{if(this.wN.G()){if(i.target==this.sO)d=h*($.y/$.x);
else h=d*($.x/$.y)}var u=[1,1,25.4/l,1/l][f],a=h/(f==1?100:$.x*u);l=l/a}h=$.x;d=$.y}this.Bi=new cq(Math.round(h),Math.round(d));
this.Sc=l;this.mG();this.$(new eU(x.E.r,!1))};dt.prototype.agD=function(t){this.xj.t(t);this.mG()};dt.prototype.t=function(i,$,h){if(h!=!0)this.m0=i.clone();
this.Bi=i.clone();if($!=null){this.VZ=$;this.Sc=$}this.mG()};dt.prototype.mG=function(){var i=this.Bi.x,$=this.Bi.y,h=this.Sc,d=(i/$).toFixed(3);
while(d.charAt(d.length-1)=="0")d=d.substring(0,d.length-1);if(d.charAt(d.length-1)==".")d=d.substring(0,d.length-1);
var K="  "+d+" : 1",f=function(a,v){while(v!=0){var c=v;v=a%v;a=c}return a},l=f(i,$);if(Math.min(i,$)/l<10)K="  "+Math.round(i/l)+" : "+Math.round($/l);
this.kZ.t(K);if(this.VO.G()){i-=this.m0.x;$-=this.m0.y}var u=this.xj.G();if(u==1){if(this.fh){i=100*i/this.m0.x;
$=100*$/this.m0.y}else{i=$=100*this.VZ/this.Sc}}else{i=Math.round(i);$=Math.round($)}var U=[1,1,25.4/h,1/h][u];
i*=U;$*=U;var y=u==1||u==3?2:0;this.sO.$v(y);this.ty.$v(y);this.sO.t(i);this.ty.t($);this.hA.t(h*[1,1/2.54][this.uF.G()])};
dt.prototype.G=function(){return this.Bi.clone()};dt.prototype.ku=function(){return this.Sc};function ib(i,$,h){dq.call(this);
var d=i==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.AK=i;this.adO=$;this.pr=1;this.sj=[1,1,0];
var K=this.m=R.S("div","numlist"),f=this.FZ=[];for(var t=0;t<4;t++){var l=new j6(d[t],0,0,null,2,!1,!0,4,null,h&&(t==0||t==2));
l.h(x.E.r,this.Ov,this);K.appendChild(l.m);f[t]=l;if(t==1||t==3)R.k6(K)}f[4]=new iD(i==0?[12,51]:[12,91,2]);
f[4].t(!0);K.appendChild(f[4].m)}ib.prototype=new dq;ib.prototype.f=function(){var i=this.FZ;for(var t=0;
t<5;t++)i[t].f();if(this.AK==0)R.Vf(i[0],i[2])};ib.prototype.t=function(i,$,h){if($)this.sj=$;$=this.sj;
var d=h?i:this.AK==0?[i[2],i[0],i[3],i[1]]:[i[0],i[1],i[3],i[2]];this.pr=d[0]/d[2];for(var t=0;t<4;t++){var K=this.FZ[t];
K.$v($[2]==0&&this.adO?0:2);K.t(k.TA.a8z(d[t],$[0],$[1],$[2]))}};ib.prototype.G=function(i){var $=[],h=this.sj;
for(var t=0;t<4;t++){var d=k.TA.KT(this.FZ[t].G(),h[0],h[1],h[2]);$[t]=this.adO?Math.round(d):d}return i?$:this.AK==0?[$[1],$[3],$[0],$[2]]:[$[0],$[1],$[3],$[2]]};
ib.prototype.Ov=function(i){var $=this.AK,h=this.FZ.indexOf(i.currentTarget),d=this.G(!0),K=this.FZ[4].G();
if($==0){d[0]=Math.max(1,d[0]);d[2]=Math.max(1,d[2]);if(K&&h==0)d[2]=d[0]/this.pr;if(K&&h==2)d[0]=d[2]*this.pr}if($==1){d[h]=Math.max(0,d[h]);
if(K)for(var t=0;t<4;t++)d[t]=d[h]}this.t(d,null,!0);this.$(new eU(x.E.r,!1))};function dZ(){dq.call(this);
this.tG=0;this.J7=[0,0,1,1,100,100];this.m=R.S("span","fitem");this.LB=new ku(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.LB.m);this.LB.h(x.E.r,this.Ov,this);this.sO=new j6("W",0,0,null,0,!1,!0);this.m.appendChild(this.sO.m);
this.sO.h(x.E.r,this.Ov,this);this.ty=new j6("H",0,0,null,0,!1,!0);this.m.appendChild(this.ty.m);this.ty.h(x.E.r,this.Ov,this);
this.t({Zw:0,x:0,y:0})}dZ.prototype=new dq;dZ.prototype.f=function(){R.Vf(this.sO,this.ty);this.LB.f()};
dZ.prototype.Ov=function(i){if(i.target==this.LB){var $=this.G(),h=this.J7;h[this.tG*2]=$.x;h[this.tG*2+1]=$.y;
this.tG=$.Zw;this.t({Zw:$.Zw,x:h[$.Zw*2],y:h[$.Zw*2+1]})}if(this.sO.G()<1)this.sO.t(1);if(this.ty.G()<1)this.ty.t(1);
this.$(new eU(x.E.r,!1))};dZ.prototype.t=function(i){this.LB.t(i.Zw);this.sO.t(i.x);this.ty.t(i.y);if(i.Zw==0){this.sO.eI();
this.ty.eI()}else{this.sO.wA();this.ty.wA()}};dZ.prototype.G=function(){return{Zw:this.LB.G(),x:this.sO.G(),y:this.ty.G()}};
function ez(i){dq.call(this);this.m=R.S("span","");this.a2f=i;this.Zy=new fI("Off X",-100,100,i?"%":"px",0,!1);
this.Lf=new fI("Off Y",-100,100,i?"%":"px",0,!1);this.Zy.h(x.E.r,this.Ov,this);this.Lf.h(x.E.r,this.Ov,this);
this.m.appendChild(this.Zy.m);this.m.appendChild(this.Lf.m)}ez.prototype=new dq;ez.prototype.f=function(){this.Zy.f();
this.Lf.f()};ez.prototype.Ov=function(i){this.$(new eU(x.E.r,!1))};ez.prototype.a4t=function(i){this.Zy.t(i.x);
this.Lf.t(i.y)};ez.prototype.aep=function(){return new cq(this.Zy.G(),this.Lf.G())};ez.prototype.t=function(i,$){var h=i.Hrzn.v,d=i.Vrtc.v;
if(this.a2f){h=h.val;d=d.val}this.Zy.t(h);this.Lf.t(d);if($==!0)this.Ov()};ez.prototype.G=function(){var i=this.Zy.G(),$=this.Lf.G();
if(this.a2f)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:i}},Vrtc:{t:"UntF",v:{type:"#Prc",val:$}}};
else return{classID:"Pnt",Hrzn:{v:i,t:"doub"},Vrtc:{v:$,t:"doub"}}};function iL(){dq.call(this);this.m=R.S("span","fitem strokebutton");
this.$f=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.pR=JSON.parse(JSON.stringify(et._T.default));
this.gf=R.S("button");this.m.appendChild(this.gf);R.K6(this.m,this.s4.bind(this));var i=R.S("canvas","gsicon");
this.nl=i.getContext("2d");this.gf.appendChild(i);var $=R.S("span");$.textContent=" \u25BC";this.gf.appendChild($);
this.aO=new dq;this.aO.parent=this;this.aO.m=R.S("div","floatcont form");var h=this.aO.m;h.setAttribute("style","width: 14em;");
this.In=[new ku([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ee([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ee([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new at([19,9,2])];
for(var t=0;t<this.In.length;t++){var d=this.In[t];h.appendChild(d.m);var K=t<4?x.E.r:"click";d.h(K,this.Ov,this)}R.k6(h);
this.Oc=[];var f=this.Mo.bind(this);this.pR.strokeStyleLineWidth.v.val=3;for(var t=0;t<this.$f.length;
t++){var l=R.S("button","fitem");this.Oc.push(l);h.appendChild(l);l.addEventListener("click",f,!1);var i=R.S("canvas","gsicon"),u=i.getContext("2d");
l.appendChild(i);this.apA(u,40,20,this.$f[t])}this.pR.strokeStyleLineWidth.v.val=1}iL.prototype=new dq;
iL.prototype.s4=function(i){if(R.bT(this.aO.m))return;i.stopPropagation();var $=this.gf.getBoundingClientRect(),h=new eU(x.E.k,!0);
h.data={d:x.c.jT,dX:this.aO,x:$.left,y:$.top+$.height+4};this.$(h)};iL.prototype.Ov=function(i){var $=this.In,h=$.indexOf(i.target),d=[];
for(var t=0;t<4;t++)d.push($[t].G());this.pR=this.ar1(d);this.$(new eU(x.E.r,!1))};iL.prototype.Mo=function(i){var $=this.Oc.indexOf(i.currentTarget);
this.t(this.ar1(this.$f[$]));this.$(new eU(x.E.r,!1))};iL.prototype.ar1=function(i){var $=JSON.parse(JSON.stringify(this.pR)),h=i[0],d=i[1],K=i[2],f=i[3];
if(h!=null)$.strokeStyleLineAlignment.v.strokeStyleLineAlignment=et._T.QY[h];if(d!=null)$.strokeStyleLineCapType.v.strokeStyleLineCapType=et._T.xe[d];
if(K!=null)$.strokeStyleLineJoinType.v.strokeStyleLineJoinType=et._T.join[K];var l=$.strokeStyleLineDashSet.v=[];
f=f.split(" ");while((f.length&1)!=0)f.pop();for(var t=0;t<f.length;t++)l.push({t:"UntF",v:{type:"#Nne",val:parseInt(f[t])}});
return $};iL.prototype.f=function(){for(var t=0;t<this.In.length;t++)this.In[t].f()};iL.prototype.t=function(i){this.pR=JSON.parse(JSON.stringify(i));
var $=et._T.QY.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment),h=et._T.xe.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType),d=et._T.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType),K=[],f=i.strokeStyleLineDashSet.v;
for(var l=0;l<f.length;l++)K.push(f[l].v.val);var u=this.In;u[0].t($);u[1].t(h);u[2].t(d);u[3].t(K.join(" "));
var U=[];for(var t=0;t<4;t++)U.push(u[t].G());this.apA(this.nl,40,16,U)};iL.prototype.G=function(){return JSON.parse(JSON.stringify(this.pR))};
iL.prototype.apA=function(i,$,h,d){var K=d[0],f=d[1],l=d[2],u=d[3].split(" ").map(parseFloat);R.Pe(i.canvas,$,h);
var U=Math.min(5,this.pR.strokeStyleLineWidth.v.val);for(var t=0;t<u.length;t++)u[t]*=U;i.clearRect(0,0,$,h);
i.setLineDash(u);i.lineCap=["butt","round","square"][f];i.lineJoin=["miter","round","bevel"][l];i.lineWidth=U;
i.beginPath();i.moveTo(0,h/2);i.lineTo($*2,h/2);i.stroke()};function fw(i){a9.call(this,i,!1,"contourbutton",34,16,dC.vy,!0);
this.zL=new at([12,86],null,16);this.zL.h("input",this.Wu,this);this.aO.m.appendChild(this.zL.m);this.MP=null;
this.Ee="";this.fu=null;this.t(fC.U9())}fw.prototype=new a9;fw.prototype.f=function(){a9.prototype.f.call(this);
this.zL.f()};fw.prototype.VK=function(i){this.t(this.MP[i.target.G()[0]]);this.$(new eU(x.E.r))};fw.prototype.Wu=function(i){this.Ee=this.zL.G().toLowerCase();
this.a07()};fw.atU=!1;fw.prototype.Vc=function(){if(!this.zw)return;var i=this.h8;if(i==null||!fw.atU){var $=new eU(x.E.k,!0);
$.data={d:x.c.gu,J0:{url:"rsrc/basic/fa_basic.csh"}};this.$($);fw.atU=!0}else{var h=Math.floor(38*R.V()),d=Math.floor(38*R.V());
this.fu=[];for(var t=0;t<i.length;t++)this.fu.push(fw.ajF(i[t],h,d));this.a07();this.zw=!1}};fw.prototype.a07=function(){var i=Math.floor(38*R.V()),$=Math.floor(38*R.V());
this.MP=[];var h=[],d=[],K=this.h8;for(var t=0;t<K.length;t++){if(K[t].gG.toLowerCase().indexOf(this.Ee)==-1)continue;
this.MP.push(K[t]);h.push(this.fu[t]);d.push(K[t].gG)}this.zU.BN(h,d,i,$)};fw.prototype.t=function(i){this.Sa=fw.clone(i);
this.ZE()};fw.prototype.ZE=function(){var i=Math.floor(23*R.V()),$=Math.floor(23*R.V()),h=fw.ajF(this.Sa,i,$);
this.eO.setAttribute("src",h);R.Tb(this.eO,i,$)};fw.prototype.G=function(){return fw.clone(this.Sa)};
fw.clone=function(i){return{gG:i.gG,lp:i.lp,i:H.LF.t0(i.i),yg:i.yg.clone()}};fw.T=null;fw.LD=null;fw.ajF=function(i,$,h){var d=H.LF.t0(i.i),K=i.yg,f=Math.min($/K.e,h/K.n)*.9,l=new ej;
l.translate(-.5,-.5);l.scale(.95,.95);l.translate(.5,.5);l.scale(f*K.e,f*K.n);k.A.mu(d,l);var u=new H.LF;
u.i=d;var U=u.MQ();U.rect.x=Math.floor(($-U.rect.e)/2);U.rect.y=Math.floor((h-U.rect.n)/2);var y=k.Q(U.rect.O()*4);
k.k1(U.channel,y,3);var a=fw;if(a.T==null)a.T=R.S("canvas");var v=a.T,c=v.getContext("2d");if(v.width!=$||v.height!=h||a.LD==null){v.width=$;
v.height=h;a.LD=c.createImageData($,h)}var p=a.LD;p.data.fill(0);k.mC(y,U.rect,p.data,new bN(0,0,$,h));
c.putImageData(p,0,0);return v.toDataURL()};function fi(i){a9.call(this,i,!1,"ICCButton",16,12,dC.Cs,!0);
this.zU.ot(1)}fi.prototype=new a9;fi.prototype.Io=function(){var i="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var t=0;t<i.length;t++)i[t]="luts/"+i[t]+".CUBE";return i};fi.prototype.VK=function(i){this.t(this.h8[i.target.G()]);
this.$(new eU(x.E.r))};fi.prototype.Vc=function(){if(!this.zw)return;var i=Math.floor(1*R.V()),$=Math.floor(1*R.V()),h=[],d=[],K=this.h8;
for(var t=0;t<K.length;t++){var f=K[t].Nm.v.split("\\").pop().split("/").pop();d.push(f);h.push(fi.eR(K[t],i,$))}this.zU.BN(h,d,i,$);
this.zw=!1};fi.prototype.t=function(i){this.Sa=JSON.parse(JSON.stringify(i));this.ZE()};fi.eR=function(i,$,h){var d=R.S("canvas"),l="ICC / 3DL / look / cube";
d.width=$;d.height=h;var K=d.getContext("2d"),f=Math.floor(14*R.V());K.font=f+"px sans-serif";if(i.Nm)l=i.Nm.v.split("\\").pop().split("/").pop();
K.fillText(l,10,f);return d.toDataURL()};fi.prototype.ZE=function(){var i=Math.floor(120*R.V()),$=Math.floor(20*R.V());
this.eO.setAttribute("src",fi.eR(this.Sa,i,$));R.Tb(this.eO,i,$)};fi.prototype.G=function(){return JSON.parse(JSON.stringify(this.Sa))};
function cE(){dq.call(this);this.Xy=null;this.m=R.S("span","fitem");this.Gd=new aa([14,9]);this.M1=new j6(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.lN=new iL;this.sZ=[this.Gd,this.M1,this.lN];for(var t=0;t<this.sZ.length;t++){var i=this.sZ[t];
this.m.appendChild(i.m);i.parent=this;i.h(x.E.r,this.Ov,this)}}cE.prototype=new dq;cE.prototype.f=function(){for(var t=0;
t<this.sZ.length;t++)this.sZ[t].f()};cE.prototype.aG=function(i,$){this.Gd.aG(i,$)};cE.prototype.Ov=function(i){var $=this.Xy,h=this.Gd.G(),d=h.$M;
$.strokeEnabled.v=d!=0;if(d!=0){$.strokeStyleContent.v=h.DP;h.DP.classID=et._T.u$[d-1]}$.strokeStyleLineWidth.v.val=this.M1.G();
if(i.target==this.lN)$=this.lN.G();this.Xy=$;this.$(new eU(x.E.r,!1))};cE.prototype.t=function(i,$,h){this.Xy=JSON.parse(JSON.stringify($));
var d=$.strokeEnabled.v,K=$.strokeStyleContent.v,f=d?{$M:1+et._T.u$.indexOf(K.classID),DP:K}:{$M:0};
this.Gd.t(i,f,h);this.M1.t($.strokeStyleLineWidth.v.val);this.lN.t($)};cE.prototype.G=function(){return JSON.parse(JSON.stringify(this.Xy))};
function cX(i){var $=[[18,0],[18,1],[18,2],[18,3]],h=ee.vg(["set/front","set/union","set/difference","set/intersection"]);
ee.call(this,i?[12,36]:null,h,$)}cX.prototype=new ee;function es(){dq.call(this);this.m=R.S("button","fitem bbtn");
R.K6(this.m,this.s4.bind(this));this.aO=new dq;this.aO.m=R.S("div","floatcont form");this.aO.m.setAttribute("style","max-width: 200px;");
this.aO.parent=this;var i=is;this.y_=[new iD("Start"),new iD("End"),new i([12,41],0,100,"px",null,!0,null,!0),new i([12,80,0],0,100,"px",null,!0,null,!0),new i("Concavity",-50,50,"%",null,null,null,!0)];
for(var t=0;t<this.y_.length;t++){var $=this.y_[t];$.parent=this;$.h(x.E.r,this.cA,this);this.aO.m.appendChild($.m)}this.adR=R.S("div");
this.aO.m.appendChild(this.adR)}es.prototype=new dq;es.prototype.t=function(i){for(var t=0;t<5;t++)this.y_[t].t(i[t]);
this.WA()};es.prototype.G=function(i){var $=[];for(var t=0;t<5;t++)$[t]=this.y_[t].G();return $};es.prototype.f=function(){this.m.textContent=e_.get([12,93,4]);
for(var t=0;t<this.y_.length;t++)this.y_[t].f()};es.prototype.cA=function(i){this.$(new eU(x.E.r,!1));
this.WA()};es.prototype.WA=function(i){var $=this.G(),h=200,d=60;$[2]/=R.V();$[3]/=R.V();var K=k.A.jY.QI(0,d/2,h,d/2,5,$),f=k.A.uM(K);
this.adR.innerHTML="<svg width=\""+h+"\" height=\""+d+"\" class=\"gsicon\">\t\t\t<path d=\""+f.Ai+"\" />\t\t\t</svg>"};
es.prototype.s4=function(i){if(R.bT(this.aO.m))return;i.stopPropagation();var $=this.m.getBoundingClientRect(),h=new eU(x.E.k,!0);
h.data={d:x.c.jT,dX:this.aO,x:$.left,y:$.top+$.height,lS:!0};this.$(h)};function hy(){dq.call(this);
this.m=R.S("div");this.FZ=[];this.akg=[];var i=this.um=R.S("div"),$=R.S("h2");$.textContent="Create Teams";
i.appendChild($);$.style.margin="26px 0 16px 0";var h=new d_("More about Teams",!1,null,!0);$.appendChild(h.m);
h.m.style.float="right";h.h("click",this.alX,this);this.vx=R.S("div");i.appendChild(this.vx);this.ajD=new at("Team Name",null,10);
i.appendChild(this.ajD.m);var d=this.a9b=new d_("Create Team",null,null,!0);i.appendChild(d.m);d.h("click",this.ahA,this);
var $=R.S("h2");$.textContent="Join Teams";i.appendChild($);$.style.margin="26px 0 16px 0";this.Is=R.S("div");
i.appendChild(this.Is);this.akZ=new at("Team ID",null,10);i.appendChild(this.akZ.m);var d=new d_("Join Team",null,null,!0);
i.appendChild(d.m);d.h("click",this.ahA,this);this.avs;this.ajH=this.Ra.bind(this);this.a6v=this.ahZ.bind(this);
this.De=!1;this.IR();this.oR=null;this.aff=""}hy.prototype=new dq;hy.prototype.alX=function(i){var $=new eU(x.E.k,!0);
$.data={d:x.c.la,link:"https://www.photopea.com/api/accounts#teams"};this.$($)};hy.prototype.IR=function(){clearTimeout(this.agn);
this.agn=setTimeout(this.a6v,this.oR?10:3e3)};hy.prototype.ahZ=function(){var i=jF.Ky();if(document.hidden||!R.bT(this.m)||i==null){this.IR();
return}var $=jF.CI();if(this.oR==null&&$==null)return;jF.JB(this.oR?this.oR:$,this.ajH);this.De=!0;this.oR=null};
hy.prototype.abu=function(i){i.acc.update=!0;this.m.style.pointerEvents="none";this.m.style.opacity="0.5";
if(this.De)this.oR=i;else{clearTimeout(this.agn);jF.JB(i,this.ajH)}};hy.prototype.Bp=function(i){var $=typeof i=="string"?this.avs:this.FZ.indexOf(i.target),h=this.akg[$],d=h[0],K=jF.CI();
if(K==null)K={};var f=K.acc,u=f.tjoin,U=f.tstart;if(d=="leave"){u.splice(u.indexOf(h[1]),1)}if(d=="add"||d=="remove"||d=="delTeam"||d=="showRename"||d=="rename"){var y=-1,a=0;
for(var t=0;t<U.length;t++){a+=U[t][1].length;if(U[t][2]==h[1])y=t}var v=U[y];if(d=="add"){var c=jF.V9();
if(c[0]==0&&c[1][2]<=a){alert("You can have at most "+c[1][2]+" members in your Premium.");return}v[1].push(h[2])}if(d=="remove")v[1].splice(v[1].indexOf(h[2]),1);
if(d=="delTeam"){if(v[1].length!=0){alert("Remove members first.");return}U.splice(y,1)}if(d=="showRename"){var p=new eU(x.E.k,!0);
p.data={d:x.c.ZD,Kh:"namewindow",pp:v[0],Fg:this.Bp.bind(this)};this.$(p);this.avs=$;h[0]="rename";return}if(d=="rename")v[0]=i}this.abu(K)};
hy.prototype.ahA=function(i){var $=this.a9b==i.target,h=($?this.ajD:this.akZ).G().trim();if(h==""){alert("The Team "+($?"Name":"ID")+" is empty.");
return}if(!$){h=parseInt(h);if(isNaN(h)){alert("The ID must be a number");return}}var d=jF.CI();if(d==null)d={};
var K=d.acc;if(K==null)K=d.acc={};var f=K.tstart,l=K.tjoin;if($){if(f==null)f=K.tstart=[];if(f.length>5){alert("You can have at most 5 teams");
return}f.push([h,[]])}else{if(f)for(var t=0;t<f.length;t++)if(f[t][2]==h){alert("You are the owner of this team");
return}if(l==null)l=K.tjoin=[];if(l.indexOf(h)!=-1){alert("You already asked to join this team.");return}K.tjoin.push(h)}K.update=!0;
this.abu(d)};hy.prototype.Ra=function(){this.De=!1;var i=jF.Ky(),$=i!=null,h=this.um.parentNode!=null;
if($!=h){R.J9(this.m);if($)this.m.appendChild(this.um);else this.m.textContent="Log In to access Team Settings."}if(!$)return;
var d=jF.CI();if(d==null)d={};var K=d.acc;if(K==null)K={};var f=JSON.stringify(K)+"===="+JSON.stringify(i);
if(f!=this.aff){this.aff=f;var l=this.vx,u=this.Is;R.J9(l);R.J9(u);var U=this.FZ=[],y=this.akg=[],a=this.Bp.bind(this);
function v(B,e){B.addEventListener("click",a);U.push(B);y.push(e)}function c(m,B){var n=R.S("div"),e="rgba(255,255,255,0.15)";
n.appendChild(C("ID: "+m[2],44,e));n.appendChild(C(m[0],160,null,!0));if(B){n.appendChild(C(m[1].length+" members",80,null,!0))}else{n.appendChild(C(m[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<m[1]*1e3)n.appendChild(C("Premium",80,"rgba(0,140,0,1)"))}var F=C("",120);n.appendChild(F);
F.setAttribute("style","float:right;text-align:right");if(B){var s=new d_("Rename",null,null,!0);v(s,["showRename",m[2]]);
F.appendChild(s.m)}var s=new d_(B?"Delete":"Leave",null,null,!0);v(s,[B?"delTeam":"leave",m[2]]);F.appendChild(s.m);
return n}function p(B,e,X){var n=R.S("div");n.style.paddingLeft="36px";n.appendChild(C(e?"\u2713":"...",8,e?"#229922":"#aa7700"));
n.appendChild(C(B[1],200));n.appendChild(C(B[2],240));var F=C("",120);n.appendChild(F);F.setAttribute("style","float:right;text-align:right");
var s=new d_(e?"Remove":"Add",null,null,!0);v(s,[e?"remove":"add",X,B[0]]);F.appendChild(s.m);return n}function C(B,e,F,s){var J=R.S("span");
J.textContent=B;J.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+e+"px;  "+(F!=null?"background-color:"+F+";":"")+(s?"font-weight:bold;":""));
return J}var T=K.tstart,E=K.tjoin,r=i.wantToJoin,Y=i.inTeams;if(T)for(var S=0;S<T.length;S++){var m=T[S],Q=r["t"+m[2]];
if(Q==null)Q=[];var z={};for(var t=0;t<Q.length;t++)z["u"+Q[t][0]]=Q[t];var n=c(m,!0);l.appendChild(n);
n.style.marginTop="10px";for(var t=0;t<m[1].length;t++){var Z=m[1][t],P=z["u"+Z];if(P==null)P=[Z,"========","... user has left your team"];
delete z["u"+Z];var V=p(P,!0,m[2]);l.appendChild(V)}for(var I in z){var P=z[I],V=p(P,!1,m[2]);l.appendChild(V)}}if(E){var q={};
for(var t=0;t<Y.length;t++)q["t"+Y[t][2]]=Y[t];for(var S=0;S<E.length;S++){var X=E[S],m=q["t"+X],n=c(m?m:["==========",-1,X],!1);
u.appendChild(n)}}this.$(new eU(x.E.r))}if(this.oR==null){this.m.style.pointerEvents="auto";this.m.style.opacity="1"}this.IR()};
function ik(){dq.call(this);this.lT=[16,!0,!0];this.m=R.S("span","");this.i5=[new j6([12,24],0,255),new iD([12,25,1]),new iD([12,25,0])];
for(var t=0;t<3;t++){var i=this.i5[t];i.parent=this;i.t(this.lT[t]);this.m.appendChild(i.m);i.h(x.E.r,this.Ov,this)}}ik.prototype=new dq;
ik.prototype.Ov=function(){for(var t=0;t<3;t++)this.lT[t]=this.i5[t].G();this.$(new eU(x.E.r,!1))};ik.prototype.t=function(i){this.lT=i.slice(0);
for(var t=0;t<3;t++)this.i5[t].t(i[t])};ik.prototype.G=function(){return this.lT.slice(0)};ik.prototype.f=function(){for(var t=0;
t<3;t++)this.i5[t].f()};function dc(i,$){dq.call(this);if($==null)$=!1;this.fu=[];this.MV=Math.floor(120*R.V());
this.atN=Math.floor(23*R.V());this.eD=0;this.L9=[];this.UX=[];for(var h in k.O$.type){if(h=="warpCustom"&&!$)continue;
this.L9.push(h);this.UX.push(k.O$.type[h])}this.m=R.S("span","fitem warpbutton");this.aO=new dq;this.aO.m=R.S("div","floatcont");
if(i){this.ez=i;this.M0=R.S("label","flabel");this.m.appendChild(this.M0)}this.d=R.S("button");this.m.appendChild(this.d);
R.K6(this.d,this.s4.bind(this));this.E3=new ks(!0);this.aO.m.appendChild(this.E3.m);this.E3.h(x.E.r,this.a1U,this);
this.aO.m.setAttribute("style","width:"+Math.floor(8+this.MV/R.V())+"px;");this.f()}dc.prototype=new dq;
dc.prototype.L5=function(i){this.M0.textContent=i};dc.prototype.f=function(){if(this.ez)this.M0.innerHTML=e_.get(this.ez)+":";
this.ZE()};dc.agc={};dc.a9f=function(i,$,h){var d=e_.get(k.O$.type[i]),K=d+"-"+i+"-"+$+"-"+h,f=dc.agc[K];
if(f)return f;var l=dc.nl;if(u==null){var u=R.S("canvas");l=dc.nl=u.getContext("2d")}var u=l.canvas;
if(u.width!=$||u.height!=h){u.width=$;u.height=h}l.font=Math.floor(13*R.V())+"px sans-serif";l.lineWidth=1;
l.strokeStyle="#000000";var U=Math.floor(16*R.V()),y=new bN(0,0,U,U);l.clearRect(0,0,u.width,u.height);
var a=k.O$.O$(y,i,!0,.3,0,0),v=k.p.Hg(y);v.H.push("M","L","M","L");v.C.push(0,U/2,U,U/2);v.C.push(U/2,0,U/2,U);
v=k.p.S$(v);v=k.p.Xe(v,U/5);k.X2.D(a,v.C,y);k.p.D(v.C,new ej(1,0,0,1,Math.floor(8*R.V())+.5,Math.floor(3*R.V())+.5),v.C);
l.beginPath();Typr.U.pathToContext({cmds:v.H,crds:v.C},l);l.stroke();l.fillText(d,Math.floor(40*R.V()),Math.floor(16*R.V()));
f=dc.agc[K]=u.toDataURL();return f};dc.prototype.s4=function(i){if(R.bT(this.aO.m))return;i.stopPropagation();
var $=this.MV,h=this.atN;for(var t=0;t<this.L9.length;t++)this.fu[t]=dc.a9f(this.L9[t],$,h);this.E3.BN(this.fu,null,$,h);
var d=this.d.getBoundingClientRect(),K=new eU(x.E.k,!0);K.data={d:x.c.jT,dX:this.aO,x:d.left,y:d.top+d.height+4};
this.$(K)};dc.prototype.a1U=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.jD,dX:this.aO};this.$($);
this.eD=i.target.G()[0];this.ZE();this.$(new eU(x.E.r))};dc.prototype.ZE=function(){var i=this.MV,$=this.atN;
this.E3.t([this.eD]);this.d.innerHTML="<img src=\""+dc.a9f(this.L9[this.eD],i,$)+"\" class=\"gsicon\" />";
R.Tb(this.d.firstChild,i,$)};dc.prototype.G=function(){return this.L9[this.eD]};dc.prototype.t=function(i){this.eD=this.L9.indexOf(i);
this.ZE()};function de(i,$,h){dq.call(this);if(i==null)i=!1;if($==null)$=!1;if(h==null)h=!1;this.aqM=$;
this.O$=null;this.AB=new dc([12,22],h);this.AB.parent=this;this.AB.h(x.E.r,this.hi,this);this.vl=new ku([22,0],[[22,4,0],[22,4,1]]);
this.vl.h(x.E.r,this.hi,this);var d=i?j6:is;this.OK=new d([22,1],-100,100,"%");this.Yh=new d("Horizontal Distortion:",-100,100,"%");
this.wD=new d("Vertical Distortion:",-100,100,"%");this.OK.parent=this.Yh.parent=this.wD.parent=this;
this.OK.h(x.E.r,this.hi,this);this.Yh.h(x.E.r,this.hi,this);this.wD.h(x.E.r,this.hi,this)}de.prototype=new dq;
de.prototype.f=function(){this.AB.f();this.vl.f();this.OK.f();var i=this.aqM?1:100;this.Yh.L5(e_.get([22,2]).substring(0,i)+":");
this.wD.L5(e_.get([22,3]).substring(0,i)+":")};de.prototype.hi=function(){var i=this.O$,$=this.AB.G(),h=i.warpStyle.v.warpStyle;
if($=="warpCustom")k.O$.y7(k.O$.A2(i),i);else delete i.customEnvelopeWarp;i.warpStyle.v.warpStyle=this.AB.G();
i.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.vl.G()];i.warpValue.v=this.OK.G();i.warpPerspective.v=this.Yh.G();
i.warpPerspectiveOther.v=this.wD.G();if($=="warpNone"||$=="warpCustom"){i.warpValue.v=0;i.warpPerspective.v=0;
i.warpPerspectiveOther.v=0}else if(h=="warpNone"||h=="warpCustom")i.warpValue.v=50;this.$(new eU(x.E.r,!1));
this.t(i)};de.prototype.G=function(i){return JSON.parse(JSON.stringify(this.O$))};de.prototype.t=function(i){this.O$=JSON.parse(JSON.stringify(i));
this.AB.t(i.warpStyle.v.warpStyle);this.vl.t(i.warpRotate.v.Ornt=="Hrzn"?0:1);this.OK.t(i.warpValue.v);
this.Yh.t(i.warpPerspective.v);this.wD.t(i.warpPerspectiveOther.v);var $=i.warpStyle.v.warpStyle,h=$=="warpNone"||$=="warpCustom",d=[this.vl,this.OK,this.Yh,this.wD];
for(var t=0;t<d.length;t++)if(h)d[t].eI();else d[t].wA()};function a4(i){dq.call(this);this.m=R.S("div");
this.aC=i;this.sx=null;this.fD=new cq(0,0);this.UN="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.Yn=null;this.qh=new R.pJ(this.m);this.$o("grab");this.T=R.S("canvas","canv");this.m.appendChild(this.T);
this.nl=this.T.getContext("2d");this.arf=null;this.$E=null;this.ZA=null;this.WX=0;this.D8=0;this.Tm=0;
this.ah5=this.aki.bind(this);this.afs=null;this.u=new jR({e:1,n:1});this.w2=null;this._W=null;this.dM=[];
this.aiY=0;this.vV=0;this.arM=this.k7.bind(this);this.aqb=this.CX.bind(this);this.aab=this.QA.bind(this);
this.aaA=this.Tj.bind(this);this.a6M=0;this.BF=null;this.ahs(this.T);this.Il(this)}a4.prototype=new dq;
a4.a8I=function(i){var $=new ai(!0);if(i>=0)$.ps("Space");if(i>=1){$.ps("ControlLeft");if(i==2)$.ps("AltLeft")}return $};
a4.prototype.PS=function(i){var $=this.Yn,h=null;if(i.j(ai.tr)){h="grab";if(i.j(ai.PO)){h="zoom-in";
if(i.j(ai.rf))h="zoom-out"}}this.sx=h;if(h)$=h;this.qh.Ra($,this.UN);if(i.j(ai.PO)){var d=0;if(i.j(ai.i6))d=1;
if(i.j(ai.s8))d=-1;if(d!=0){this.Z0(new cq(this.T.width/2,this.T.height/2),d==1)}}};a4.prototype.$o=function(i){this.Yn=i;
if(this.sx)return;this.qh.Ra(i,this.UN)};a4.prototype.ahs=function(i){R.K6(i,this.arM);R.jA(i);i.addEventListener("wheel",this.aaA,!1)};
a4.prototype.Il=function(i){i.h("viewchange",this.awJ,this)};a4.prototype.awJ=function(i){var $=this.u.N,h=i.currentTarget.Uw();
this.u.N=h.N;this.u.I=h.I.clone();if($!=h.N)this.tX();this.jb()};a4.prototype.Uw=function(){return{N:this.u.N,I:this.u.I}};
a4.prototype.t=function(i,$){var h=i[0].kp;if(this.$E!=null&&this.$E[0].kp.Rl(h)){}else{this.u.x3={e:h.e,n:h.n};
this.u.I=new cq(0,0);this.u.N=1}this.$E=i;this.tX();this.vK();this.WX=0;this.D8=0;this.Tm=$==null?0:$;
this.aki()};a4.prototype.Tj=function(i){i.preventDefault();if(i.deltaY==0||Date.now()-this.a6M<100)return;
var $=R.CJ(i);$.x=R.V()*$.x;$.y=R.V()*$.y;this.a6M=Date.now();this.Z0($,i.deltaY<0)};a4.prototype.Z0=function(i,$){D.qq.b$(this.u,i,$);
this.a9R()};a4.prototype.Ye=function(){var i=this.u,$=i.x3;this.u.N=D.qq.ahi($.e,$.n,i.Os.e,i.Os.n);
this.a9R()};a4.prototype.a9R=function(){this.tX();this.$(new eU("viewchange"));this.$(new eU("zoom"))};
a4.prototype.tX=function(){this.ZA=[];var i=this.u.N;if(this.$E==null)return;for(var t=0;t<this.$E.length;
t++){var $=this.$E[t],h=new Uint8Array($.data),d;if(i>=1)d={Yz:h,rect:$.kp};else d=k.axB(h,$.kp,i);this.ZA.push(d)}};
a4.prototype.vK=function(){clearTimeout(this.afs)};a4.prototype.jb=function(){if(this.$E==null||!R.bT(this.T))return;
var i=this.arf,$=this.T.width,h=this.T.height,C,T;if(i==null||i.width!=$||i.height!=h){i=this.arf=this.nl.createImageData($,h);
console.log("creating image data")}var d=this.$E[this.WX],K=this.ZA[this.WX],f=this.u,l=f.x3,u=f.Os,U=u.e,y=u.n,a=l.e*f.N,v=l.n*f.N,c=Math.round((U-a)/2+f.I.x),p=Math.round((y-v)/2+f.I.y);
if(f.N<=1){T=K.rect.clone();T.x=c;T.y=p;a=T.e;v=T.n;C=K.Yz}else{var E=1/f.N,r=new bN(Math.floor((u.x-c)*E),Math.floor((u.y-p)*E),Math.ceil(u.e*E)+1,Math.ceil(u.n*E)+1),Y=new bN(0,0,r.e*f.N,r.n*f.N);
Y.x=r.x*f.N+c;Y.y=r.y*f.N+p;if(f.Ln==null||f.Ln.length!=r.O()*4){f.Ln=k.Q(r.O()*4)}if(f.vZ==null||f.vZ.length!=Y.O()*4){f.vZ=k.Q(Y.O()*4)}k.MK(f.Ln,0);
k.mC(K.Yz,K.rect,f.Ln,r);k.scale.Vs(f.Ln,r.e,r.n,f.vZ,Y.e,Y.n,f.N);C=f.vZ;T=Y}var S=new Uint8Array(i.data.buffer);
k.by(S,U,y,8,-c,-p);k.l.NU("norm",C,T,S,u,u,1);var m=this.nl;m.setTransform(1,0,0,1,0,0);m.putImageData(i,0,0);
m.clearRect(c-1e3,p,1e3,v);m.clearRect(c+a,p,1e3,v);m.clearRect(c-1e3,p-1e3,a+2e3,1e3);m.clearRect(c-1e3,p+v,a+2e3,1e3);
var Q=a4.adf(f.N,"#ffffff");m.putImageData(Q,0,f.Os.n-Q.height)};a4.aiL="";a4.apK=null;a4.adf=function(i,$,h,d){if(h==null){h=0;
d=0}var K=h+" \xD7 "+d,f="z"+i+","+$+","+h+","+d;if(f==a4.aiL)return a4.apK;var l=Math.round(50*R.V()),u=Math.round(18*R.V()),U=h==0?0:Math.round((K.length+2)*u*.35),y=R.S("canvas"),a=y.getContext("2d");
y.width=l+U;y.height=u;a.fillStyle="rgba(1,1,1,1)";a.fillRect(0,0,l,u);if(h!=0)a.fillRect(l+2,0,U,u);
a.font=Math.round(11*R.V())+"px monospace";a.fillStyle=$;var v=i*100;if(v<100)v=v.toFixed(2);else v=Math.round(v);
v=v+"%";var c=a.measureText(v).width;a.fillText(v,(l-c)/2,Math.round(u*.7));if(h!=0){var p=a.measureText(K).width;
a.fillText(K,l+(U-p)/2+1,Math.round(u*.7))}var C=a.getImageData(0,0,l+U,u);a4.aiL=f;a4.apK=C;return C};
a4.prototype.aki=function(){var i=this.$E,$=i.length,h=this.WX,d=this.$E[h],K=(h+1)%$;this.jb();if($!=1&&i[K].kp.Rl(d.kp)){var f=d.Ok?parseInt(d.Ok.split(",").pop()):30;
if(f==0)f=16;if(K==0)this.D8++;if(this.Tm==0||this.D8<this.Tm)this.afs=setTimeout(this.ah5,f)}this.WX=K};
a4.prototype.JQ=function(i,$){if(i<=0||$<=0)return;var h=Math.floor(i*R.V()),d=Math.floor($*R.V());this.u.Os=new bN(0,0,h,d);
this.T.width=h;this.T.height=d;this.T.setAttribute("style","width:"+h/R.V()+"px; height:"+d/R.V()+"px; display:block;");
this.jb()};a4.prototype.S8=function(i){var $=-1,h=this.dM;for(var t=0;t<h.length;t++)if(h[t].pointerId==i.pointerId)$=t;
return $};a4.prototype.k7=function(i){var $=this.S8(i),h=this.dM;if($!=-1)h[$]=i;else h.push(i);if(h.length==1){this.BF=i.target;
R.sM(window,this.aqb);R.pq(window,this.aab);this.w2=R.CJ(i,this.T);this.w2.x*=R.V();this.w2.y*=R.V();
this.fD=this.w2;this._W=this.u.I.clone();if(this.aC&&this.BF==this.T&&!this.sx)this.$(new eU("mousedown"))}else this.aiY=this.vV=cq.ED(R.CJ(h[0],this.T),R.CJ(h[1],this.T))};
a4.prototype.CX=function(i){var $=this.S8(i),h=this.dM;if($!=-1)h[$]=i;var d=this.u,K=this.sx,f=this.$E[this.WX].kp.clone();
f.e*=d.N;f.n*=d.N;var u=R.CJ(i,this.T);u.x*=R.V();u.y*=R.V();this.fD=u;if(this.aC&&this.BF==this.T&&!K)this.$(new eU("mousemove"));
else if((K=="grab"||K==null)&&(h.length>1||!d.Os.PH(f))){if(h.length>1){var U=R.CJ(h[0],this.T),y=R.CJ(h[1],this.T),a=new cq(R.V()*(U.x+y.x)/2,R.V()*(U.y+y.y)/2),v=cq.ED(U,y),c=null;
if(v>this.vV+50){this.vV+=50;c=!0}if(v<this.vV-50){this.vV-=50;c=!1}if(c!=null)this.Z0(a,c);return}else{var p=u.x-this.w2.x,C=u.y-this.w2.y;
d.I.x=this._W.x+Math.round(p);d.I.y=this._W.y+Math.round(C)}this.$(new eU("viewchange"))}};a4.prototype.QA=function(i){var $=this.S8(i),h=this.dM;
h.splice($,1);if(h.length==0){R.Uq(window,this.aqb);R.hZ(window,this.aab);var d=this.sx;if(i.detail>1){this.u.N=1;
this.u.I.WI(0,0);this.jb()}if(this.aC&&this.BF==this.T&&!this.sx)this.$(new eU("mouseup"));else{if(d=="zoom-in"||d=="zoom-out")this.Z0(this.fD,d=="zoom-in")}}else{var K=this.w2=R.CJ(h[0],this.T);
K.x*=R.V();K.y*=R.V()}};a4.prototype.CQ=function(){return this.u._x(this.fD.x,this.fD.y)};function jy(){dq.call(this);
this.zE=null;this.xD=null;this.nE=null;this.dE=null;this.aa_="";this.zX=[];this.aH=0;this.E5=[];this.Mw=0;
this.RM=null;var i=this.m=R.S("div",""),$=this.a9g=R.S("div","form");$.setAttribute("style","line-height:0; margin-bottom:0.5em;");
i.appendChild($);var h=this.ez=R.S("span");$.appendChild(h);h.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var d=this.a8i=new iD([25,2,0]);d.t(!0);$.appendChild(d.m);d.h(x.E.r,this.vF,this);var K=this.J3=new iD([25,2,1]);
K.t(!0);$.appendChild(K.m);K.h(x.E.r,this.vF,this);var f=new ie(" ");$.appendChild(f.m);var l=this.mw=new at([25,1,1]);
$.appendChild(l.m);l.h(x.E.r,this.vF,this);this.eo=new fB(14);this.eo.abk(3);$.appendChild(this.eo.m);
this.eo.parent=this;this.eo.h(x.E.r,this.aiG,this);var u=this.auB=new d_([25,1,2],null,null,!0);$.appendChild(u.m);
u.h("click",this.Gh,this);var U=new d_("?",null,null,!0);$.appendChild(U.m);U.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.arT=this.a8R.bind(this);this.Ii=R.S("div","svggallery scrollable");i.appendChild(this.Ii);this.Ii.addEventListener("scroll",this.ad7.bind(this))}jy.prototype=new dq;
jy.prototype.aG=function(i){this.acu=i};jy.prototype.f=function(){this.ez.textContent=e_.get([25,0]);
this.eo.f();this.a8i.f();this.J3.f();this.mw.f();this.auB.f()};jy.prototype.JQ=function(i,$){this.zE=new cq(i,$);
this.a9g.setAttribute("style","width:"+i+"px");var h=this.a9g.getBoundingClientRect();$-=h.height;this.Ii.setAttribute("style","width:"+i+"px; height:"+$+"px");
if(R.bT(this.m))this.vF()};jy.prototype.t=function(i){this.xD=i;this.vF()};jy.prototype.ad7=function(i){var $=this.Ii;
if($.scrollTop+$.clientHeight+10>=$.scrollHeight){this.vF(!0)}};jy.prototype.aiG=function(i){this.nE=null;
this.vF()};jy.prototype.a8R=function(i){if(Date.now()-this.Mw<2e3)return;this.Mw=Date.now();this.aH=this.E5.indexOf(i.currentTarget);
var $=this.YW(this.xD.x,this.xD.y);if($[1]){var h=$[1].largeImageURL,d=new XMLHttpRequest;d.responseType="arraybuffer";
d.open("GET",h,!0);d.onload=this.apr.bind(this);d.send();return}this.acv($)};jy.prototype.apr=function(i){var $=i.target.response,h=em.X0($),d=em.Q_(h),K=d.u2($),f=this.YW(this.xD.x,this.xD.y,[$,K[0].kp.e,K[0].kp.n]);
this.acv(f)};jy.prototype.acv=function(i){var $=i[0],h=em.X0($),d=em.Q_(h),K=new hR("template.psd");
d.u2($,K);var f=new eU("tempready",!0);f.data={x3:K};this.$(f)};jy.prototype.Gh=function(i){var $=i.target;
this.zX=[];this.nE=null;this.vF()};jy.prototype.amR=function(i){var $=JSON.parse(i.target.response),h=this.dE=$.hits;
for(var t=0;t<h.length;t++)if(h[t].user_id==6314823)h.splice(t,1);this.vF()};jy.prototype.vF=function(i){if(this.xD==null||this.zE==null||this.acu==null)return;
if(this.zE.x<=0)return;var $=this.xD.x,h=this.xD.y;if(Math.min($,h)<50)return;if(i!=!0){this.E5=[];R.J9(this.Ii);
this.Ii.scrollTop=0}if(this.E5.length>300)return;var d=Math.min(1,300/Math.max($,h)),K=this.zE.clone();
K.x-=20;var f=Math.max(1,Math.floor(K.x/($*d))),l=Math.max(1,Math.ceil(K.y/(h*d)));d=K.x/f/$;var u=f*l;
if(this.nE==null){var U=this.acu.SB.VF(),y=[];for(var a in U){var v=U[a],c=v[3];if(!this.eo.Yx(v))continue;
if(v[5]==null||v[5].slice(0,2)=="gf")continue;y.push(v)}if(y.length==0)y.push(U.DejaVuSans);var p=y.length;
for(var t=0;t<p*10;t++){var C=Math.floor(Math.random()*p),T=Math.floor(Math.random()*p),E=y[C];y[C]=y[T];
y[T]=E}y=y.slice(0,10);this.nE=y}var r=this.J3.G(),Y=this.mw.G().trim();this.mw.BH(r);if(r&&(this.dE==null||Y!=this.aa_)){var S=new XMLHttpRequest,m="https://pixabay.com/api/?image_type=photo"+(Y==""?"":"&q="+encodeURIComponent(Y))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(Y=="")m="plugins/gallery.json";S.open("GET",m,!0);S.onload=this.amR.bind(this);S.onerror=function(V){console.log(V.target.response)};
S.send();this.aa_=Y;return}d*=($*d-5)/($*d);var Q=this.E5.length;for(var t=0;t<u;t++){var z=this.aH=Q+t;
if(this.zX[z]==null)this.zX[z]=Math.floor(Math.random()*4294967295);var n=this.YW(Math.round($*d),Math.round(h*d)),Z=n[0];
Z=M.kV(new Uint8Array(Z));var P=R.S("span");P.innerHTML=Z;this.E5.push(P);this.Ii.appendChild(P);P.addEventListener("click",this.arT,!1)}};
jy.prototype.YW=function(i,$,h){var d=this.J3.G(),K=this.a8i.G(),f=d&&this.dE.length!=0?this.dE:null;
if(K&&!d)f=null;if(K&&d&&(this.aH&1)==0)f=null;return dj.jY(i,$,this.zX[this.aH],this.nE,h?h:f)};function e7(){dq.call(this);
this.m=R.S("div");this.um=null;this.aq5=null;this.Ly=-1;this.Lj={JPG:[{cf:new is([12,52,0],0,100,"%",null,null,!0),Iu:70},{cf:new iD("attach metadata"),Iu:!1}],TIFF:[{cf:new iD("attach metadata"),Iu:!1}],WEBP:[{cf:new is([12,52,0],0,100,"%",null,null,!0),Iu:70}],GIF:[{cf:new is([12,52,0],0,100,"%",null,null,!0),Iu:100},{cf:new iD([12,23,3]),Iu:!1}],PNG:[{cf:new is([12,52,0],0,100,"%",null,null,!0),Iu:100},{cf:new iD("don't use palettes"),Iu:!1}],PDF:[{cf:new at([12,52,1]),Iu:""},{cf:new is([12,52,0],0,100,"%",null,null,!0),Iu:100},{cf:new iD("reverse pages"),Iu:!1},{cf:new iD("rasterize all"),Iu:!1},{cf:new iD("vectorize text"),Iu:!1},{cf:new is("Add Margin",0,5,"in",2),Iu:0}],EMF:[{cf:new at([12,52,1]),Iu:""},{cf:new is([12,52,0],0,100,"%",null,null,!0),Iu:100},{cf:new iD("reverse pages"),Iu:!1},{cf:new iD("rasterize all"),Iu:!1},{cf:new iD("vectorize text"),Iu:!1},{cf:new is("Add Margin",0,5,"in",2),Iu:0}],SVG:[{cf:new iD("add raster graphics"),Iu:!0},{cf:new iD("add hidden layers"),Iu:!1},{cf:new iD("vectorize text"),Iu:!1},{cf:new iD("rasterize text"),Iu:!1},{cf:new iD("minify"),Iu:!1}],RAW:[{cf:new ee([12,72],["1","3","4"]),Iu:2},{cf:new ee([12,34],["8 Bits","16 Bits"]),Iu:0},{cf:new ee("Byte Order",["12-34","34-12"]),Iu:0}],DDS:[{cf:new iD("Add Mipmaps"),Iu:!0},{cf:new iD("Compression"),Iu:!0}],anim:[{cf:new is("Speed",10,800,"%",null,!0,!0),Iu:100},{cf:new j6("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Iu:0},{cf:new iD("reverse frames"),Iu:!1},{cf:new iD("boomerang"),Iu:!1}],slcs:[{cf:new iD([8,11,0]),Iu:!0}],artb:[{cf:new iD([1,16,1]),Iu:!0}],hicc:[{cf:new iD("convert to sRGB"),Iu:!0}]};
for(var i in this.Lj){var $=this.Lj[i];for(var t=0;t<$.length;t++){$[t].cf.t($[t].Iu);$[t].cf.h(x.E.r,this.qL,this)}}}e7.prototype=new dq;
e7.prototype.a3V=function(){this.Ly=-1};e7.prototype.f=function(){for(var i in this.Lj)for(var t=0;t<this.Lj[i].length;
t++)this.Lj[i][t].cf.f()};e7.prototype.qL=function(){this.vF();this.$(new eU(x.E.r,!1))};e7.prototype.vF=function(){var i=this.um,$=i[0],h=i[1],d=i[2],K=i[3],f=i[4],l=this.Lj[$];
if(l==null)l=[];else l=l.slice(0);if(h)l=l.concat(this.Lj.anim);if(["GIF","PNG","JPG"].indexOf($)!=-1&&d)l=l.concat(this.Lj.slcs);
else if(["GIF","PNG","JPG"].indexOf($)!=-1&&K)l=l.concat(this.Lj.artb);if(f)l=l.concat(this.Lj.hicc);
var u=i.join(",");if(u!=this.Ly){this.Ly=u;R.J9(this.m);for(var t=0;t<l.length;t++){if($=="PDF"&&!K&&(t==0||t==2))continue;
this.m.appendChild(l[t].cf.m);R.k6(this.m)}}var U=this.aq5=[];for(var t=0;t<l.length;t++)U.push(l[t].cf.G())};
e7.prototype.al2=function(i,$,h,d,K){this.um=[i,$,h,d,K];this.vF()};e7.prototype.G=function(){return this.aq5.slice(0)};
function gr(){dq.call(this);this.m=R.S("span","fitem");this.bZ=!1;this.pX=new d_("No",!1,"Cancel");this.RR=new d_("Yes",!1,"Confirm");
this.m.appendChild(this.pX.m);this.m.appendChild(this.RR.m);this.pX.h("click",this.RY,this);this.RR.h("click",this.RY,this);
this.f()}gr.prototype=new dq;gr.prototype.f=function(){this.pX.L5(R.HD("cross",null,"autoscale"));this.RR.L5(R.HD("checkmark",null,"autoscale"))};
gr.prototype.RY=function(i){this.bZ=i.target==this.RR;this.$(new UIEvent("click"))};gr.prototype.G=function(){return this.bZ};
function fA(i){dq.call(this);this.m=R.S("span","fitem");this.rr=new d_("\u25BC",null,"Auto Options",!0);
R.K6(this.rr.m,this.ak2.bind(this));this.m.appendChild(this.rr.m);this.gw=new d_("Auto",null,null,!0);
this.gw.h("click",this.cA,this);this.m.appendChild(this.gw.m);this.y3=new fZ("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.y3.h(x.E.r,this.cA,this);this.y3.t([!1,!1,!1,!0]);this.aO=new dq;var $=this.aO.m=R.S("div","floatcont form");
$.setAttribute("style","width: 250px;");this.aO.parent=this;$.appendChild(this.y3.m);this.oW=[];for(var t=0;
t<2;t++){var h=new j6((t==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);h.t(.1);h.h(x.E.r,this.cA,this);
this.oW.push(h);$.appendChild(h.m)}}fA.prototype=new dq;fA.prototype.cA=function(i){this.$(new eU(x.E.r,!1))};
fA.prototype.f=function(){};fA.prototype.G=function(){return[this.y3.G().indexOf(!0),this.oW[0].G(),this.oW[1].G()]};
fA.prototype.ak2=function(i){if(R.bT(this.aO.m))return;i.stopPropagation();var $=this.rr.m.getBoundingClientRect(),h=new eU(x.E.k,!0);
h.data={d:x.c.jT,dX:this.aO,x:$.left,y:$.top+$.height+4};this.$(h)};function jr(){dq.call(this);var i=this.m=R.S("div","fitem");
this.yW=new ku([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.yW.h(x.E.r,this.Ov,this);i.appendChild(this.yW.m);
this.bU=new hD(!1);this.bU.parent=this;this.bU.gh(16777215);this.bU.h(x.E.r,this.Ov,this);i.appendChild(this.bU.m)}jr.prototype=new dq;
jr.prototype.f=function(){this.yW.f();this.bU.f()};jr.prototype.a1i=function(i){var $=[i.artboardBackgroundType.v-1];
if(i.Clr)$.push(i.Clr.v);this.t($)};jr.prototype.a2b=function(){var i=this.G();return{classID:"artboard",Clr:{t:"Objc",v:i[1]},artboardBackgroundType:{t:"long",v:i[0]+1}}};
jr.prototype.t=function(i){this.yW.t(i[0]);if(i[1])this.bU.t(i[1])};jr.prototype.G=function(){return[this.yW.G(),this.bU.G()]};
jr.prototype.Ov=function(i){if(i.target==this.bU)this.yW.t(3);this.$(new eU(x.E.r,!1))};function cl(i){dq.call(this);
this.aE=i;this.ma=0;this.anl=!1;this.G5=i?new cl.J_:null;this.m=R.S("div","flexrow storageset");this.m.style.background="var(--bg-panel)";
this.GF=R.S("div");this.m.appendChild(this.GF);this.RQ=R.S("div");this.m.appendChild(this.RQ);this.Oc=[];
var $=Storage.list.length;if(i)$++;var h=this.wT.bind(this);for(var t=0;t<$;t++){var d=R.S("div");this.Oc.push(d);
this.GF.appendChild(d);d.addEventListener("click",h,!1)}this.wT(null,0)}cl.prototype=new dq;cl.kI=[];
cl.qn=function(i){cl.kI.push(i);i.WA()};cl.kR=function(){var i=cl.kI;i.pop();i[i.length-1].WA()};cl.prototype.WA=function(){console.log(this.ma);
this.wT(null,this.ma)};cl.prototype.aG=function(i,$){if(!i.wd&&!this.anl){var h=this.aE?2:1;for(var t=h;
t<this.Oc.length;t++)this.GF.removeChild(this.Oc[t]);this.anl=!0;if(this.aE)this.G5.aG(i,$)}};cl.prototype.f=function(){if(this.aE)this.G5.f();
if(this.XF)this.XF.f()};cl.prototype.wT=function(i,$){var h=this.Oc,d;if($==null)$=h.indexOf(i.currentTarget);
this.ma=$;for(var t=0;t<h.length;t++)R.jE(h[t],"active");R.FK(h[$],"active");if(this.aE)$--;R.J9(this.RQ);
if($==-1)d=this.G5;else d=Storage.a99($);this.XF=d;d.parent=this;this.RQ.appendChild(d.m);this.JQ(this.DD,this.mJ);
this.f()};cl.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;var h=i<850,d=h?50:200,K=Storage.list;if(this.aE)K=[["Home",null,"strg/home"]].concat(K);
for(var t=0;t<K.length;t++){var f=this.Oc[t],l="padding: 8px "+(h?13:36)+"px; cursor:pointer;";f.setAttribute("style",l);
f.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[K[t][2]]+"\" /> "+(h?"":K[t][0])}this.m.style.width=i+"px";
this.m.style.height=$+"px";this.GF.style.width=d+"px";this.GF.style.paddingTop="32px";if(this.XF)this.XF.JQ(i-d,$)};
cl.J_=function(){var i=this.m=R.S("div");i.style.background="var(--bg-canvas)";var $=this.$u=R.S("div");
i.appendChild($);var h=R.S("style");i.appendChild(h);h.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var t=0;t<2;t++){var d=R.S("div"),h="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";$.appendChild(d);
if(t==0)h+="padding: 12px 0px";if(t==1)h+="position:absolute;  bottom:0;";d.setAttribute("style",h);
var K=R.S("img");d.appendChild(K);K.setAttribute("src",PIMG[t==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(t==0)this.yt=K;else this.adb=K;if(t==0)this.a2y=d;else this.a7L=d}this.Oc=[];h="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var f=this.iD.bind(this);for(var t=0;t<3;t++){var l=R.S("span","bhover");this.Oc.push(l);l.setAttribute("style",h+"cursor:pointer; padding:12px;");
l.addEventListener("click",f,!1);$.appendChild(l)}R.k6($);R.k6($);var l=R.S("div");l.setAttribute("style",h+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
l.textContent="Drop any files here";$.appendChild(l);this.T=R.S("canvas");this.T.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.nl=this.T.getContext("2d");this.ary=k.Q(4);i.appendChild(this.T);var u=new Date().getDate(),U=new Date().getMonth();
if(U==11&&u>20||U==0&&u<10){var y=Math.random()<.5,a={o:255,P:255,Z:255};if(!y){a=k.ub(Math.random(),Math.random()*.7,1);
a.o*=255;a.P*=255;a.Z*=255}this.Lp=[Math.round(1048575*Math.random()),y?.05:.02,Math.round(4+Math.random()*8),1,y?3:15,a,0,!0,y,y?1:.2,3];
this.a8J=y?.1:.2;this.dv=this.da.bind(this);window.requestAnimationFrame(this.dv)}};cl.J_.prototype=new dq;
cl.J_.prototype.da=function(){window.requestAnimationFrame(this.dv);if(!R.bT(this.m))return;var i=this.ary,$=this.T,h=this.nl,d=$.width,K=$.height;
this.Lp[6]=Date.now()*.001*this.a8J;k.Ze.Ir(i,d,K,this.Lp,!0);h.putImageData(new ImageData(new Uint8ClampedArray(i.buffer),d,K),0,0)};
cl.J_.prototype.iD=function(i){var t=this.Oc.indexOf(i.currentTarget),$=new eU(x.E.k,!0);if(t==0)$.data={d:x.c.ZD,Kh:"newproject"};
if(t==1)$.data={d:x.c.QK};if(t==2)$.data={d:x.c.ZD,Kh:"res0"};this.$($)};cl.J_.prototype.f=function(){var i=this.Oc,$=[[11,7],[1,6],["PSD VAR0",[25,0]]],h=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var t=0;t<i.length;t++)i[t].textContent=h[t]+"\u2000"+e_.get($[t]);var d="l"+"o"+"g"+"o",K=new Date;
if(K.getMonth()==3&&K.getDate()==1)d="lo"+"go_cuc"+"umber";this.yt.setAttribute("src",PIMG[d]);this.adb.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
cl.J_.prototype.JQ=function(i,$){var h=Math.min($*1.5,Math.min(i,600));R.Pe(this.T,i,h*.26);var d=this.T.width,K=this.T.height;
this.ary=k.Q(d*K*4);this.m.style.width=i+"px";this.m.style.height=$+"px";this.a7L.style.width=i+"px";
this.$u.style.marginLeft=Math.max(0,Math.round((i+200-600)/2)-200)+"px";this.yt.style.width=h+"px";this.adb.style.width=h+"px"};
cl.J_.prototype.aG=function(i,$){if(!i.wd)this.$u.removeChild(this.Oc[2])};function Storage(i){dq.call(this);
var $=this.m=R.S("div","storage");R.zb($);var h=this.acl=R.S("style");$.appendChild(h);$.setAttribute("tabindex","0");
$.style.outline="none";$.addEventListener("keydown",this.a4l.bind(this),!1);this.ze=this.aiU.bind(this);
var d=R.S("div");$.appendChild(d);var K=this.amh.bind(this);this.R3=R.S("div","bar");d.appendChild(this.R3);
this.xW=R.S("div","fls scrollable");d.appendChild(this.xW);this.ej=R.S("div");d.appendChild(this.ej);
this.ej.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.Ei=R.S("div","bar");this.Ei.textContent="Name: ";var f=this.w4=R.S("input");f.setAttribute("type","text");
this.Ei.appendChild(f);var l=this.A3=R.S("div","btn");l.textContent="Save";this.Ei.appendChild(l);R.pq(l,K);
R.K6(this.xW,this.ze);this.sh=0;this.Rs=i;this.g0=R.S("div","btn");R.pq(this.g0,this.aB.bind(this));
this.GW=new ew([{name:[6,20]}]);this.GW.parent=this;this.Sw=new ew([{name:[5,4]},{name:[6,37]}]);this.Sw.parent=this;
this.GW.h("select",this.OO,this);this.Sw.h("select",this.OO,this);this.xW.addEventListener("contextmenu",this.ze);
this.a1w=R.S("span");this.m3=R.S("span");this.m3.setAttribute("style","position:absolute; right:0; top:5px;");
this.Si=[];this.Vj=[];for(var t=0;t<3;t++){var u=R.S("div","btn");this.Si.push(u);this.a1w.appendChild(u);
R.pq(u,K);u.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][t]}for(var t=0;t<4;t++){var u=R.S("div","btn");
this.Vj.push(u);this.m3.appendChild(u);R.pq(u,K)}window.addEventListener("message",this.arK.bind(this),!1);
this.aa0=!1;setInterval(this.a3h.bind(this),300);this._t()}Storage.prototype=new dq;Storage.Yk=!1;Storage.prototype.a3h=function(){var i=R.bT(this.m),$=this.aa0;
if(i&&!$){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!i&&$){window.onpopstate=function(){};
history.go(-1)}this.aa0=i};Storage.prototype._t=function(){if(this.t5)document.body.removeChild(this.t5);
this.p3=[[]];this.te=0;this.a13={"/":[]};this.j_="";this._H=null;this.i5=[];this.dZ=[];var i="code/storages/"+Storage.list[this.Rs][1],$=this.t5=R.S("iframe");
$.setAttribute("src",i);$.setAttribute("style","display:none");document.body.appendChild($)};Storage.prototype._R=function(){return this.a13[this.vo()]};
Storage.prototype.C8=function(i){this.a13[this.vo()]=i};Storage.a99=function(t){var i=Storage.dL[t];
if(i==null)i=Storage.dL[t]=new Storage(t);return i};Storage.dL=[];Storage.AK=0;Storage.auu="";Storage.ot=function(i,$){Storage.AK=i;
Storage.auu=$;var h=Storage.dL;for(var t=0;t<h.length;t++)if(h[t])h[t].WA()};Storage.m5=0;Storage.tb=2;
Storage.on=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage2.html?mode=0","strg/gdrive"],["Shared Drives","googledriveStorage2.html?mode=1","strg/gdrive"],["Private Folder","googledriveStorage2.html?mode=3","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"]];
Storage.a7i=function(i){for(var t=0;t<Storage.dL.length;t++){if(Storage.dL[t]&&Storage.dL[t].t5.contentWindow==i)return!0}return!1};
Storage.prototype.a4l=function(i){if(i.target.tagName=="INPUT")return;var $=ai;if($.xZ(i.code,$.X1)&&this.vo().length!=0)this.af9();
else if(i.ctrlKey){if($.xZ(i.code,$.c)){var h=[];this.C8(h);for(var t=0;t<this._H.length;t++)h.push(t);
this.Ym()}if($.xZ(i.code,$.ui)){}if($.xZ(i.code,$.mX)){}}else if($.xZ(i.code,$.iQ)){var d=this._R();
if(d.length!=0)this.a2n(d[0])}else if($.xZ(i.code,$.A9)){this.te=Math.max(this.te-1,0);this.aB()}else{var K=0;
for(var t=65;t<=90;t++)if(i.code=="Key"+String.fromCharCode(t))K=t;if(K!=0){var f=String.fromCharCode(K).toLowerCase(),l=[],u=this._H,U;
for(var t=0;t<u.length;t++)if(u[t][0][0].toLowerCase()==f)l.push(t);if(l.length==0)return;var d=this._R();
if(d.length==0)U=l[0];else{var y=l.indexOf(d[0]);if(y==-1){U=l[0];for(var t=0;t<l.length;t++)if(l[t]>d[0]){U=l[t];
break}}else U=l[(y+1)%l.length]}this.C8([U]);this.Ym(!0)}}};Storage.prototype.JQ=function(i,$){this.DD=i;
this.mJ=$;this.m.style.width=i+"px";this.m.style.height=$+"px";var h=i-30,d=Math.floor(h/230),h=Math.floor(h/d)-70;
this.acl.textContent=".storage .tile .name {  width:"+h+"px;  }";this.w4.style.width=i-140+"px";this.xW.style.width=this.R3.style.width=i-20+"px";
this.xW.style.height=$-70-(Storage.AK==0?0:45)+"px"};Storage.prototype.aB=function(){this.AS("show",this.vo())};
Storage.prototype.vo=function(i){var $=this.p3[this.te],h="/"+$.join("/");if(i&&$.length!=0)h+="/";return h};
Storage.prototype.amh=function(i){var $=i.currentTarget,h=this.te,d=this.Si.indexOf($),K=this.Vj.indexOf($);
if(d>=0&&!this.a6Q(d))return;if(d==0){this.te=Math.max(h-1,0);this.aB()}if(d==1){this.te=Math.min(h+1,this.p3.length-1);
this.aB()}if(d==2){var f=this.p3[h+1]=this.p3[h].slice(0);f.pop();this.te++;this.p3=this.p3.slice(0,this.te+1);
this.aB()}if(K==0){Storage.m5=(Storage.m5+1)%2;this.WA()}if(K==1){Storage.tb=(Storage.tb+1)%3;this.WA()}if(K==2){Storage.on=(Storage.on+1)%3;
this.WA()}if(K==3){this.AS("forget","")}if($==this.A3){var l=this.w4.value.trim(),u=this._H,U=-1;if(!l.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var t=0;t<u.length;t++)if(u[t][0]==l)U=t;if(U!=-1){this.aiF("Do you really want to replace \""+l+"\"?",this.aoa.bind(this))}else this.aoa()}};
Storage.prototype.aoa=function(){var i=this.w4.value.trim(),$=[this.Rs,this.vo(!0)+i];this.XV({d:x.c.ata,uP:$});
this.$(new eU("canclose",!0))};Storage.prototype.OO=function(i){var $=i.target.CK()[0];if(i.target==this.GW){var h=[e_.get([6,20]),-1,0];
this._H.push(h);this.WA();var t=this._H.indexOf(h),d=this.i5[t].querySelector(".name");console.log(d);
var K=new cA.cU(d,function(l){this.XV({d:x.c.TT,nT:e_.get([1,2])+" ..."});var u=this.vo(!0)+l+"/";console.log(u);
this.AS("save",u)}.bind(this),!0)}else{if($==0)this.af9();else{var t=this._R()[0],f=this._H[t],d=this.i5[t].querySelector(".name");
console.log(d);d.innerHTML=f[0];var K=new cA.cU(d,function(l){l=l.trim();var u=this._H;for(var t=0;t<u.length;
t++)if(u[t][0]==l){alert("Item with such name already exists.");this.WA();return}var U=this.vo(!0)+f[0]+":"+l;
console.log(U);this.AS("rename",U)}.bind(this))}}};Storage.prototype.af9=function(){var i=this._R();
this.aiF("Do you really want to delete "+(i.length==1?"\""+this._H[i[0]][0]+"\"":"these files")+"?",this.nJ.bind(this))};
Storage.prototype.aiF=function(i,$){var h={d:x.c.ZD,Kh:"confirm",L:i,Fg:$};this.XV(h)};Storage.prototype.nJ=function(){this.XV({d:x.c.TT,nT:e_.get([5,4])+" ..."});
this.dZ=this.aun();this.al5()};Storage.prototype.al5=function(){if(this.dZ.length==0){this.XV({d:x.c.$P,nT:e_.get([5,4])+" ..."});
this.C8([]);this.aB()}else this.AS("delete",this.dZ.pop()[1])};Storage.prototype.aun=function(){var i=[],$=this.vo(!0),h=this._R();
for(var t=0;t<h.length;t++){var d=this._H[h[t]];i.push([this.Rs,$+d[0]])}return i};Storage.prototype.AS=function(i,$){this.j_=i;
if(Storage.Yk)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+i+"\", \"prm\": "+JSON.stringify($)+"  }");
this.t5.contentWindow.postMessage("{\"code\": \""+i+"\", \"prm\": "+JSON.stringify($)+"  }","*")};Storage.prototype.arK=function(i){if(i.source!=this.t5.contentWindow)return;
if(typeof i.data=="string"){if(Storage.Yk)console.log("==",Math.floor(Date.now()/1e3),i.data);var $=JSON.parse(i.data),h=$.code,d=$.prm;
if(h=="ready"){if(d)this.aB();else{R.J9(this.R3);R.J9(this.xW);this.R3.appendChild(this.g0)}}else if(h!="0"){alert(d);
this.WA()}else if(this.j_=="show"){this._H=d;this.WA()}else if(this.j_=="save"){this.XV({d:x.c.$P,nT:e_.get([1,2])+" ..."});
this.aB()}else if(this.j_=="delete"){this.al5()}else if(this.j_=="forget"){this._t()}else if(this.j_=="rename"){this.aB()}else throw h}else{if(Storage.Yk)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.XV({d:x.c.aa9,uP:this.aun()[0],tp:i.data});this.XV({d:x.c.$P,nT:"Opening ..."})}};Storage.prototype.a6Q=function(t){if(t==0)return this.te>0;
if(t==1)return this.te<this.p3.length-1;if(t==2)return this.vo()!="/"};Storage.prototype.WA=function(){var i=this._H,$=Storage.tb,h=Storage.m5,d=Storage.on;
if(i==null)return;i.sort(function(Z,P){var V=Z[1]==-1?1:5,I=P[1]==-1?1:5,q=0;if(Math.min(V,I)==1&&V!=I)return V-I;
else if(V==1||$==0)q=Z[0].toLowerCase()<P[0].toLowerCase()?-1:1;else if($==1)q=Z[1]-P[1];else if($==2)q=Z[2]-P[2];
if(h==1)q=-q;return q});var K=this.xW,f=this.R3,l=this.p3[this.te];R.J9(K);R.J9(f);this.i5=[];for(var t=0;
t<3;t++)if(this.a6Q(t))R.jE(this.Si[t],"disabled");else R.FK(this.Si[t],"disabled");f.appendChild(this.a1w);
f.appendChild(this.m3);var u=R.S("span");u.textContent="/";f.appendChild(u);for(var t=0;t<l.length;t++){var u=R.S("span");
u.textContent=l[t];f.appendChild(u);var u=R.S("span");u.textContent="/";f.appendChild(u)}var U=["tile","icon","litm"][d];
for(var t=0;t<i.length;t++){var y=i[t],a=y[1]==-1,v=a?"":jS.pN(y[1]),c=R.S("div","cont "+U);K.appendChild(c);
this.i5.push(c);c.setAttribute("title",y[0]+(a?"":"\nSize: "+v+"\nDate Modified: "+new Date(y[2]*1e3).toLocaleString().replaceAll(". ",".")));
var p=R.S("img");p.setAttribute("src",a?Storage.abH:y[3]?y[3]:Storage.mq);if(!a&&y[3])p.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var C=R.S("span","name"),T=y[0];if(U=="icon"&&T.length>30)T=T.slice(0,24)+".."+T.slice(T.length-5);C.textContent=T;
c.appendChild(p);c.appendChild(C);if(U!="icon"&&!a){if(U=="tile")R.k6(C);var E=R.S("span");E.textContent=v;
E.style.opacity="0.8";(U=="tile"?C:c).appendChild(E)}var r=y[0].split("."),Y=(r.length==1?"":r.pop()).toUpperCase();
if(U!="litm"&&!a&&y[3]==null){var S=R.S("span","ext");S.textContent=Y;var m=Storage.B2[Y];S.style.backgroundColor=m?m:Storage.agz(Y);
c.appendChild(S)}R.K6(c,this.ze);c.addEventListener("contextmenu",this.ze)}this.Ym();var Q=this.Ei.parentNode!=null,z=Storage.AK,n=this.m;
if(Q&&z==0)n.removeChild(this.Ei);if(!Q&&z==1)n.appendChild(this.Ei);this.JQ(this.DD,this.mJ);this.f()};
Storage.prototype.Ym=function(i){var $=this.i5,h=this._H,d=this._R(),K=!1,f=0;for(var t=0;t<$.length;
t++){var l=h[t],u=l[1]==-1,U=$[t];if(Storage.AK==1&&!u&&!l[0].toLowerCase().endsWith(".psd"))U.style.display="none";
else U.style.display="auto";if(d.indexOf(t)==-1)R.jE(U,"active");else{if(u)K=!0;else f+=l[1];R.FK(U,"active");
if(i)U.scrollIntoView({block:"center",behavior:"smooth"})}}var y=K?"":jS.pN(f);this.ej.textContent=d.length==0?"":d.length+" item"+(d.length==1?"":"s")+" selected\u2001"+y;
this.w4.value=d.length==1&&!K?h[d[0]][0]:Storage.auu};Storage.prototype.a2n=function(t){var i=this._H[t];
if(i[1]==-1){var $=this.p3[this.te].slice(0);$.push(i[0]);this.te++;this.p3[this.te]=$;this.p3=this.p3.slice(0,this.te+1);
this.C8([]);this.aB()}else if(Storage.AK==0){this.XV({d:x.c.TT,nT:"Opening ..."});this.$(new eU("canclose",!0));
var h=this.vo(!0)+i[0];this.AS("load",h)}};Storage.prototype.f=function(){var i=Storage.tb,$=Storage.m5,h=Storage.on;
this.Vj[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][$];this.Vj[1].textContent=e_.get([[12,48],[12,14,0],"Date"][i]);
this.Vj[2].textContent=e_.get(["Tiles","Icons",[25,3,1]][h]);this.Vj[3].textContent="\u2716";this.g0.textContent=e_.get([[23,6],Storage.list[this.Rs][0]])};
Storage.prototype.aiU=function(i){this.XV({d:x.c.NE});if(i.button==3||i.button==4){if(Date.now()-this.alx>50){var $=this.te;
if(i.button==3)this.te=Math.max($-1,0);else this.te=Math.min($+1,this.p3.length-1);this.aB()}this.alx=Date.now();
return}i.stopPropagation();var t=this.i5.indexOf(i.currentTarget);if(i.type=="contextmenu"){if(this._H==null)return;
i.preventDefault();var h=t==-1?this.GW:this.Sw;h.parent=this;h.f();this.XV({d:x.c.jT,dX:h,x:i.clientX+4,y:i.clientY});
return}var d=this._R(),K=d.indexOf(t);if(i.button!=0&&K!=-1)return;if(i.target==this.xW)this.C8([]);
else{if(i.ctrlKey){if(K==-1)d.push(t);else d.splice(K,1)}else if(i.shiftKey&&d.length!=0){var f=d[0];
if(f<t){var l=t;t=f;f=l}d=[];this.C8(d);for(var u=t;u<=f;u++)d.push(u)}else{this.C8([t]);if(Date.now()-this.sh<300&&d.length!=0&&d[0]==t){this.a2n(t);
this.sh=0}}}this.sh=Date.now();this.Ym()};Storage.prototype.XV=function(i){var $=new eU(x.E.k,!0);$.data=i;
this.$($)};Storage.prototype.asc=function(i,$){this.XV({d:x.c.TT,nT:e_.get([1,2])+" ..."});this.AS("save",i);
if(Storage.Yk)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this.t5.contentWindow.postMessage($,"*")};
Storage.B2={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.agz=function(i){i=i.toLowerCase();var $=0;
for(var t=0;t<i.length;t++)$+=i.charCodeAt(t)*613<<8*t;return"#"+k._V($&16777215)};Storage.abH="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.mq="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function d0(i){dq.call(this);var $=this.m=R.S("div","form scrollable padded label12");this.eJ=i;this.Bi=null;
var h=[],d=d0.Um[i];this.GN=[];for(var K in d){var f=parseInt(K.slice(1)),l=f%10==0?"":"\u2800\u2800- ";
h.push(l+d[K]);this.GN.push(f)}this.Md=[new at("Name",null,30),new at("Description",null,30,4),i==0?new at("File"," www.Photopea.com#i...",17):new ff("File",!1,!1),new at("Thumbnail URL","* Use Imgur.com etc.",17),new ku("Category",h),new iD("Make Public"),new d_("<< Back",null,null,!0),new d_("Save",null,null,!0)];
if(i==0)this.Md.push(new ie("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new ie("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(i==1)this.Md.push(new ie("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(i!=0)this.Md.push(new ie("Do not load any file to preserve the old version."));for(var t=0;t<this.Md.length;
t++){var u=this.Md[t];$.appendChild(u.m);u.parent=this;if(t!=4&&t!=6)R.k6($);if(u instanceof d_)u.h("click",this.aoX,this)}}d0.prototype=new dq;
d0.prototype.aoX=function(i){if(i.target==this.Md[6]){this.$(new eU("back"));return}var $=this.Md[3].G().trim(),h=$.startsWith("http")&&($.endsWith(".jpeg")||$.endsWith(".jpg")||$.endsWith(".png")||$.endsWith(".gif"));
if(!h){alert("Thumbnail URL is incorrect.");return}var d=new XMLHttpRequest,K="mirror.php?url="+encodeURIComponent($);
d.open("GET",K);d.responseType="arraybuffer";d.onload=this.a1p.bind(this);d.send()};d0.prototype.a1p=function(i){var $=i.target.response,h=$.byteLength;
if(h>2e5&&em.X0($)!="gif"){alert("Thumbnail is too large ("+jS.pN(h)+"). Make it under 200 kB.");return}var d=this.Md[2].G(),K=Object.keys(d);
if(this.eJ!=0&&K.length!=0){console.log(d);bU.um.aj9(d[K[0]].buffer,K[0],this.a4w.bind(this),"pp-resources");
return}this.a4w()};d0.prototype.a4w=function(i){var $=this.eJ,h="name desc file thmb catg publ".split(" "),d=this.Bi;
for(var t=0;t<6;t++){if($!=0&&t==2)continue;var K=this.Md[t].G();if(t<=3){K=K.trim();if(K.length==0){alert("One of values is empty.");
return}}if(t==2){var f=K.split("#i");if(f.length!=2||f[1].length!=8){alert("File ID is incorrect.");
return}K=f.pop()}if(t==4)K=this.GN[K];d[h[t]]=K}if($!=0){if(i)d.file=i;else if(d.file==null){alert("Select a file from your computer.");
return}}if(d.utme.length==0)d.utme=""+Math.round(Date.now()/1e3);d.type=$;this.$(new eU("save"))};d0.prototype.f=function(){};
d0.prototype.t=function(i){var $=this.Bi=JSON.parse(JSON.stringify(i)),h="name desc file thmb catg publ".split(" ");
for(var t=0;t<6;t++){var d=$[h[t]];if(d!=""&&t==2)d="https://photopea.com#i"+d;if(t==4)d=this.GN.indexOf(d);
if(t==5&&d==null)d=!0;this.Md[t].t(d)}};d0.prototype.G=function(){return JSON.parse(JSON.stringify(this.Bi))};
d0.Um=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function eK(i){dq.call(this);this.zv=i;this.m=R.S("div","");this.Kr=[];this.om=null;this.acS=[]}eK.prototype=new dq;
eK.prototype.D5=function(i){};eK.prototype.wl=function(){return!1};eK.prototype.JQ=function(i,$){};eK.prototype.aG=function(i,$){};
eK.prototype.rg=function(i){};eK.prototype.t=function(i,$,h,d,K,f){var l=[],u=this.Kr,U=0,y=d1.Qq["s"+this.zv];
y?y(i,l,f):this.Dg(i,l,f);for(var t=0;t<u.length;t++)if(!(u[t]instanceof ie))u[t].t(l[U++]);if(i.RndS)this.om=i.RndS.v};
eK.prototype.G=function(){var i=d1.U9(this.zv),$=[],h=this.Kr,d=0;for(var t=0;t<h.length;t++)if(!(h[t]instanceof ie))$[d++]=h[t].G();
var K=d1.Qq["g"+this.zv];K?K(i,$):this.vm(i,$);if(i.RndS)i.RndS.v=this.om;return i};eK.prototype.PS=function(i){};
eK.prototype.hi=function(i){if(i&&i.target instanceof d_){this.om=Math.floor(Math.random()*4294967295)}var $=this.acS;
for(var t=0;t<$.length;t+=2){var h=this.Kr[$[t]],d=this.Kr[$[t+1]],K=h.G(),f=d.G();if(i.target==h)d.t(Math.max(K,f));
else h.t(Math.min(K,f))}this.$(new eU(x.E.r))};eK.prototype.f=function(){for(var t=0;t<this.Kr.length;
t++)this.Kr[t].f();var i=this.an0;if(i)i.f()};eK.prototype.mR=function(i){R.FK(this.m,"form");var $=this.Kr;
for(var t=0;t<$.length;t++){var h=$[t];h.parent=this;h.h(x.E.r,this.hi,this);this.m.appendChild(h.m);
if(h instanceof iD&&$[t+1]instanceof hD)continue;if(i&&i.indexOf(t)!=-1)R.Tq(this.m);else R.k6(this.m)}var d=d1.U9(this.zv);
if(d.RndS){var K=this.an0=new d_([25,1,2],null,null,!0);this.m.appendChild(K.m);K.h("click",this.hi,this)}};
eK.prototype.wL=function(){return!1};eK.prototype.gE=function(i,$,h,d,K){};eK.prototype.Zm=function(i,$,h,d,K){};
eK.prototype.IQ=function(i,$,h,d,K){};eK.prototype.vm=function(i,$){};eK.prototype.Dg=function(i,$){};
eK.prototype.Jp=function(i){var $=i.target.G().indexOf(!0)!=-1,h=new eU(x.E.k,!0);h.Ea=!0;h.data={d:$?x.c.ro:x.c.K2,b:D.m4};
this.$(h);h=new eU(x.E.s,!0);h.b=D.m4;h.Ea=!0;h.data={d:"supertool",b:$?this:null};this.$(h)};eK.akY=function(i){i.wL=function(){return!0};
i.gE=function($,h,d,K,f){this.ic=!0;this.apc($,f)};i.Zm=function($,h,d,K,f){if(!this.ic)return;this.apc($,f)};
i.IQ=function($,h,d,K,f){this.ic=!1};i.apc=function($,h){var d=new bN(0,0,$.e,$.n);if($.J)d=$.J.rect;
var K=$.u._x(h.x,h.y);K.x-=d.x;K.y-=d.y;function f(l,u){return Math.round(Math.max(0,Math.min(100,100*l/u)))}this.Kr[2].t(f(K.x,d.e));
this.Kr[3].t(f(K.y,d.n));this.hi()}};eK.Bokh=function(){eK.call(this,"Bokh");this.Kr=[new ku("Depth Map",["A","b"]),new is("Focal Distance",0,255),new iD([4,11]),new ku([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new is([12,56],0,100),new is([12,15],0,360),new is([12,2],0,100),new is([4,13],0,255),new is([24,6],0,100),new ee([12,58],[[12,59,0],[12,59,1]]),new iD([12,60])];
this.mR([5,7])};eK.Bokh.prototype=new eK;eK.Bokh.prototype.Dg=function(i,$,h){var d=[[22,5,0],[6,5,3],[6,2]],K=i.BkDi.v.BtDi,f=i.BkDc,l=0;
if(K=="BeIn")l=0;else if(K=="BeIt"&&f.v.BtDc=="BeCt")l=1;else if(K=="BeIt"&&f.v.BtDc=="BeCm")l=2;else l=3+f.v;
for(var t=0;t<h[1].length;t++)d.push(h[1][t].name);this.Kr[0].TD(d,[3]);$[0]=l;$[1]=i.BkDp.v;$[2]=i.BkDs.v;
$[3]=parseInt(i.BkIs.v.BtIs.slice(3))-3;$[4]=i.BkIb.v;$[5]=i.BkIr.v;$[6]=i.BkSb.v;$[7]=i.BkSt.v;$[8]=i.BkNa.v;
$[9]=i.BkNt.v.BtNt=="BeNu"?0:1;$[10]=i.BkNm.v};eK.Bokh.prototype.vm=function(i,$){var h;if($[0]==0){h="BeIn";
delete i.BkDc}else if($[0]<3){h="BeIt";i.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][$[0]-1]}}}else{h="BeIa";
i.BkDc={t:"long",v:$[0]-3}}i.BkDi.v.BtDi=h;i.BkDp.v=$[1];i.BkDs.v=$[2];i.BkIs.v.BtIs="BeS"+(3+$[3]);
i.BkIb.v=$[4];i.BkIr.v=$[5];i.BkSb.v=$[6];i.BkSt.v=$[7];i.BkNa.v=$[8];i.BkNt.v.BtNt=["BeNu","BeNg"][$[9]];
i.BkNm.v=$[10]};eK.oilPaint=function(){eK.call(this,"oilPaint");this.Kr=[new is([12,56],.1,10,"px",!0),new is("Cleanliness",0,10,"px",!0),new is([12,38],.1,10,null,!0),new is("Bristle Detail",0,10,null,!0),new iD("Lighting"),new is("Shine",0,10,null,!0),new fM([12,15])];
this.mR()};eK.oilPaint.prototype=new eK;eK.oilPaint.prototype.Dg=function(i,$){var h="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var t=0;t<h.length;t++)$[t]=i[h[t]].v;$[6]=[i.LghD.v]};eK.oilPaint.prototype.vm=function(i,$){var h="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var t=0;t<h.length;t++)i[h[t]].v=$[t];i.LghD.v=$[6][0]};eK.TrcC=function(){eK.call(this,"TrcC");
this.Kr=[new is("Level",0,255),new ee([12,69],[[19,4,1],[19,4,0]])];this.mR()};eK.TrcC.prototype=new eK;
eK.TrcC.prototype.Dg=function(i,$){$[0]=i.Lvl.v;$[1]=["Lwr","Upr"].indexOf(i.Edg.v.CntE)};eK.TrcC.prototype.vm=function(i,$){i.Lvl.v=$[0];
i.Edg.v.CntE=["Lwr","Upr"][$[1]]};eK["Dfs "]=function(){eK.call(this,"Dfs ");this.Kr=[new ee([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.mR()};eK["Dfs "].prototype=new eK;eK["Dfs "].prototype.Dg=function(i,$){$[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(i.Md.v.DfsM)};
eK["Dfs "].prototype.vm=function(i,$){i.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][$[0]]};eK.Embs=function(){eK.call(this,"Embs");
this.Kr=[new fM([12,15]),new is([12,42],1,100,"px"),new is([12,57],1,500,"%")];this.mR()};eK.Embs.prototype=new eK;
eK.Embs.prototype.Dg=function(i,$){$[0]=[i.Angl.v];$[1]=i.Hght.v;$[2]=i.Amnt.v};eK.Embs.prototype.vm=function(i,$){i.Angl.v=$[0][0];
i.Hght.v=$[1];i.Amnt.v=$[2]};eK["Wnd "]=function(){eK.call(this,"Wnd ");this.Kr=[new ee([12,32],["Wind","Blast","Stagger"]),new ee([12,33],["From the Right","From the Left"])];
this.mR()};eK["Wnd "].prototype=new eK;eK["Wnd "].prototype.Dg=function(i,$){$[0]=["Wnd","Blst","Stgr"].indexOf(i.WndM.v.WndM);
$[1]=["Left","Rght"].indexOf(i.Drct.v.Drct)};eK["Wnd "].prototype.vm=function(i,$){i.WndM.v.WndM=["Wnd","Blst","Stgr"][$[0]];
i.Drct.v.Drct=["Left","Rght"][$[1]]};eK.denoise=function(){eK.call(this,"denoise");this.Kr=[new is([12,64],0,10),new is([12,65],0,100,"%")];
this.mR()};eK.denoise.prototype=new eK;eK.denoise.prototype.Dg=function(i,$){var h=i.channelDenoise.v[0].v;
$[0]=h.Amnt.v;$[1]=h.EdgF.v};eK.denoise.prototype.vm=function(i,$){var h=i.channelDenoise.v[0].v;h.Amnt.v=$[0];
h.EdgF.v=$[1]};eK.lightFilterGradient=function(){eK.call(this,"lightFilterGradient");this.Kr=[new is([24,3,1],0,100,"px",1,!0),new is([12,38],0,200,"%"),new iD([4,11]),new is("High",0,100,"%"),new is("Medium",0,100,"%"),new is("Low",0,100,"%")];
this.mR()};eK.lightFilterGradient.prototype=new eK;eK.lightFilterGradient.prototype.Dg=function(i,$){$[0]=i.blur.v;
$[1]=i.textureScale.v*100;$[2]=i.Scl.v==-1;var h=i.Dtl.v;$[3]=h[0].v*100;$[4]=h[1].v*100;$[5]=h[2].v*100};
eK.lightFilterGradient.prototype.vm=function(i,$){i.blur.v=$[0];i.textureScale.v=$[1]/100;i.Scl.v=$[2]?-1:1;
var h=i.Dtl.v;h[0].v=$[3]/100;h[1].v=$[4]/100;h[2].v=$[5]/100};eK.Fbrs=function(){eK.call(this,"Fbrs");
this.Kr=[new is("Variance",1,64),new is([12,64],1,64)];this.mR()};eK.Fbrs.prototype=new eK;eK.Fbrs.prototype.Dg=function(i,$){$[0]=i.Vrnc.v;
$[1]=i.Strg.v};eK.Fbrs.prototype.vm=function(i,$){i.Vrnc.v=$[0];i.Strg.v=$[1]};eK.LnsF=function(){eK.call(this,"LnsF");
this.Kr=[new is([12,2],10,300,"%"),new ee([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new is("Position X",0,100,"%"),new is("Position Y",0,100,"%")];
this.mR()};eK.LnsF.prototype=new eK;eK.LnsF.prototype.Dg=function(i,$){$[0]=i.Brgh.v;$[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(i.Lns.v.Lns);
var h=i.FlrC.v;$[2]=Math.round(h.Hrzn.v*100);$[3]=Math.round(h.Vrtc.v*100)};eK.LnsF.prototype.vm=function(i,$){i.Brgh.v=$[0];
i.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][$[1]];var h=i.FlrC.v;h.Hrzn.v=$[2]/100;h.Vrtc.v=$[3]/100};eK.akY(eK.LnsF.prototype);
eK.blendOptions=function(){eK.call(this,"blendOptions");this.Kr.push(new ku([12,19,0],ca.UX,!1,ca.Uy));
this.Kr.push(new is([12,0],0,100,"%"));this.mR()};eK.blendOptions.prototype=new eK;eK.blendOptions.prototype.Dg=function(i,$){$[0]=ca.kD.indexOf(i.Md.v.BlnM);
$[1]=i.Opct.v.val};eK.blendOptions.prototype.vm=function(i,$){i.Md.v.BlnM=ca.kD[$[0]];i.Opct.v.val=$[1]};
eK.LnCr=function(){eK.call(this,"LnCr");this.Kr=[new is([12,57],-100,100),new is([12,38],10,150,"%")];
this.mR()};eK.LnCr.prototype=new eK;eK.LnCr.prototype.Dg=function(i,$){$[0]=i.LnIa.v;$[1]=i.LnSi.v};
eK.LnCr.prototype.vm=function(i,$){i.LnIa.v=$[0];i.LnSi.v=$[1]};eK.adaptCorrect=function(){eK.call(this,"adaptCorrect");
var i=fI;this.Kr=[new ie([19,6,0]),new i([12,57],0,100,"%"),new i("Tone",0,100,"%"),new i([12,56],0,200,"px"),new ie([19,6,2]),new i([12,57],0,100,"%"),new i("Tone",0,100,"%"),new i([12,56],0,200,"px"),new ie([3]),new i([13,0],-100,100)];
this.mR([3,7])};eK.adaptCorrect.prototype=new eK;eK.adaptCorrect.prototype.Dg=function(i,$){var h=i.sdwM.v;
$[0]=h.Amnt.v.val;$[1]=h.Wdth.v.val;$[2]=h.Rds.v;var h=i.hglM.v;$[3]=h.Amnt.v.val;$[4]=h.Wdth.v.val;
$[5]=h.Rds.v;$[6]=i.ClrC.v};eK.adaptCorrect.prototype.vm=function(i,$){var h=i.sdwM.v;h.Amnt.v.val=$[0];
h.Wdth.v.val=$[1];h.Rds.v=$[2];var h=i.hglM.v;h.Amnt.v.val=$[3];h.Wdth.v.val=$[4];h.Rds.v=$[5];i.ClrC.v=$[6]};
eK.Flam=function(){eK.call(this,"Flam");var i=this.Kr=[new ku([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new is([12,80,0],20,1e3,"px"),new iD("Randomize Length"),new is([12,41],5,600,"px"),new is([12,15],0,360,"\xB0"),new is("Interval",10,200,"px"),new iD("Adapt Interval for Loops"),new hD(!1),new ku([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new is("Turbulent",0,100),new is("Jag",0,100),new is([12,0],0,100),new is("Lines",2,30),new is("Bottom",0,100),new ku([12,22],["Normal","Violent","Flat"]),new ku([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new iD("Randomize Shape"),new is("Random Seed",0,100)];
this.mR();var $=this.m;R.J9($);var h=new ee(null,["Basic","Advanced"]);h.h(x.E.r,this.ayx,this);$.appendChild(h.m);
R.Tq($);var d=R.S("div"),K=R.S("div");this.atA=[d,K];$.appendChild(d);for(var t=0;t<i.length;t++){(t<9?d:K).appendChild(i[t].m);
if(t==6)R.k6(d)}i[0].h(x.E.r,this.aqs,this);this.aqs()};eK.Flam.prototype=new eK;eK.Flam.prototype.aqs=function(i){var $=this.Kr,t=$[0].G();
$[1].BH(t!=0&&t!=5);$[2].BH(t!=0&&t!=5);$[4].BH(t!=0&&t!=5&&t!=1);$[5].BH(t!=0&&t!=5);$[6].BH(t!=0&&t!=5)};
eK.Flam.prototype.ayx=function(i){var t=i.target.G(),$=this.atA,h=this.m;h.removeChild($[1-t]);h.appendChild($[t])};
eK.boxblur=function(){eK.call(this,"boxblur");this.Kr=[new is([12,56],1,200," px")];this.mR()};eK.boxblur.prototype=new eK;
eK.boxblur.prototype.Dg=function(i,$){$[0]=i.Rds.v.val};eK.boxblur.prototype.vm=function(i,$){i.Rds.v.val=$[0]};
eK.GsnB=function(){eK.call(this,"GsnB");this.Kr=[new is([12,56],.1,400,"px",1,!0)];this.mR()};eK.GsnB.prototype=new eK;
eK.Dila=function(){eK.call(this,"Dila");this.Kr=[new is([11,12,1],0,20,"px",0),new is([12,56],0,400,"px",0,!0)];
this.mR()};eK.Dila.prototype=new eK;eK.MtnB=function(){eK.call(this,"MtnB");this.Kr=[new fM([12,15]),new is([12,28],1,100," px")];
this.mR()};eK.MtnB.prototype=new eK;eK.RdlB=function(){eK.call(this,"RdlB");this.Kr=[new is([12,57],1,100),new ee([12,36],["Spin","Zoom"]),new is("Position X",0,100,"%"),new is("Position Y",0,100,"%")];
this.mR()};eK.RdlB.prototype=new eK;eK.RdlB.prototype.Dg=function(i,$){$[0]=i.Amnt.v;$[1]=["Spn","Zm"].indexOf(i.BlrM.v.BlrM);
$[2]=i.Cntr.v.Hrzn.v*100;$[3]=i.Cntr.v.Vrtc.v*100};eK.RdlB.prototype.vm=function(i,$){i.Amnt.v=$[0];
i.BlrM.v.BlrM=["Spn","Zm"][$[1]];i.Cntr.v.Hrzn.v=$[2]/100;i.Cntr.v.Vrtc.v=$[3]/100};eK.akY(eK.RdlB.prototype);
eK.Dspl=function(){eK.call(this,"Dspl");this.Kr=[new ku([6,36,3],["a","b"]),new is([22,4,0],-100,100,"px"),new is([22,4,1],-100,100,"px"),new ku([24,18,0],[[24,18,3],[24,18,2]])];
this.mR()};eK.Dspl.prototype=new eK;eK.Dspl.prototype.Dg=function(i,$,h){this.a8X=[];this.ng=[];var d=-1,K=h?h[0]:null;
if(K==null)K=this.a1l;else this.a1l=K;if(K)for(var t=0;t<K.length;t++){var f=K[t];this.a8X.push(f.Wo.trim());
this.ng.push(f.$0);if(f.$0==i.DspF.v.pth)d=t}this.Kr[0].TD(this.a8X);$[0]=d==-1?0:d;$[1]=i.HrzS.v;$[2]=i.VrtS.v;
$[3]=["WrpA","RptE"].indexOf(i.UndA.v.UndA)};eK.Dspl.prototype.vm=function(i,$){if(this.ng.length==0)return;
i.DspF.v.pth=this.ng[$[0]];i.HrzS.v=$[1];i.VrtS.v=$[2];i.UndA.v.UndA=["WrpA","RptE"][$[3]]};eK.Pnch=function(){eK.call(this,"Pnch");
this.Kr=[new is([12,57],-100,100,"%")];this.mR()};eK.Pnch.prototype=new eK;eK["Plr "]=function(){eK.call(this,"Plr ");
this.Kr=[new ee(null,["Rect to Polar","Polar to Rect"])];this.mR()};eK["Plr "].prototype=new eK;eK.Rple=function(){eK.call(this,"Rple");
this.Kr=[new is([12,57],-999,999),new ku([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.mR()};eK.Rple.prototype=new eK;
eK["Shr "]=function(){eK.call(this,"Shr ");this.Kr=[new e4(!0,!0),new ku([24,18,0],[[24,18,3],[24,18,2]])];
this.mR()};eK["Shr "].prototype=new eK;eK["Shr "].prototype.Dg=function(i,$){var h=new ej(0,255/127,255/127,0,-2,128),d=JSON.parse(JSON.stringify(i.ShrP.v));
k.qt.D(d,h);$[0]=d;$[1]=["WrpA","RptE"].indexOf(i.UndA.v.UndA)};eK["Shr "].prototype.vm=function(i,$){var h=new ej(0,255/127,255/127,0,-2,128);
h.Sp();k.qt.D($[0],h);i.ShrP.v=$[0];i.ShrE.v=$[0].length-1;i.UndA.v.UndA=["WrpA","RptE"][$[1]]};eK.Sphr=function(){eK.call(this,"Sphr");
this.Kr=[new is([12,57],-100,100),new ku([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.mR()};eK.Sphr.prototype=new eK;
eK.Sphr.prototype.Dg=function(i,$){$[0]=i.Amnt.v;$[1]=["Nrml","HrzO","VrtO"].indexOf(i.SphM.v.SphM)};
eK.Sphr.prototype.vm=function(i,$){i.Amnt.v=$[0];i.SphM.v.SphM=["Nrml","HrzO","VrtO"][$[1]]};eK.Dthr=function(){eK.call(this,"Dthr");
this.Kr=[new ku("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.mR()};eK.Dthr.prototype=new eK;
eK.Dthr.prototype.Dg=function(i,$){$[0]=i.Plte.v};eK.Dthr.prototype.vm=function(i,$){i.Plte.v=$[0]};
eK.Part=function(){eK.call(this,"Part");this.Kr=[new is([15,5,1],0,100,"%"),new is([12,14,0],1,50,"px"),new is([12,34],0,100,"%"),new is([12,2],10,1e3,"%"),new hD(!0),new is("Time",0,1,null,3),new is("Turbulence",0,100,"%"),new iD("Blink"),new iD("Fall")];
this.mR([4])};eK.Part.prototype=new eK;eK.Part.prototype.Dg=function(i,$){$[0]=i.Cont.v;$[1]=i.Size.v;
$[2]=i.Dpth.v;$[3]=i.Brgh.v;$[4]=i.Clr.v;$[5]=i.Time.v;$[6]=i.Turb.v;$[7]=i.Blnk.v;$[8]=i.Fall.v};eK.Part.prototype.vm=function(i,$){i.Cont.v=$[0];
i.Size.v=$[1];i.Dpth.v=$[2];i.Brgh.v=$[3];i.Clr.v=$[4];i.Time.v=$[5];i.Turb.v=$[6];i.Blnk.v=$[7];i.Fall.v=$[8]};
eK.Twrl=function(){eK.call(this,"Twrl");this.Kr=[new is([12,15],-999,999)];this.mR()};eK.Twrl.prototype=new eK;
eK.Wave=function(){eK.call(this,"Wave");this.acS=[1,2,3,4];this.Kr=[new is("Number of Generators",1,100),new fI("Min Length",1,999),new fI("Max Length",1,999),new fI("Min Ampl.",1,999),new fI("Max Ampl.",1,999),new fI("Scale X",1,100,"%"),new fI("Scale Y",1,100,"%"),new ee([12,44],["Sine","Triangle",[12,93,3]]),new ku([24,18,0],[[24,18,3],[24,18,2]])];
this.mR()};eK.Wave.prototype=new eK;eK.ZgZg=function(){eK.call(this,"ZgZg");this.Kr=[new is([12,57],-100,100),new is("Ridges",0,20),new ku([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.mR()};eK.ZgZg.prototype=new eK;eK.surfaceBlur=function(){eK.call(this,"surfaceBlur");this.Kr=[new is([12,56],1,200," px"),new is([4,13],1,255," px")];
this.mR()};eK.surfaceBlur.prototype=new eK;eK.surfaceBlur.prototype.Dg=function(i,$){$[0]=i.Rds.v.val;
$[1]=i.Thsh.v};eK.surfaceBlur.prototype.vm=function(i,$){i.Rds.v.val=$[0];i.Thsh.v=$[1]};eK.AdNs=function(){eK.call(this,"AdNs");
this.Kr=[new is([12,57],0,200," %"),new ku([12,58],[[12,59,1],[12,59,0]]),new iD([12,60])];this.mR()};
eK.AdNs.prototype=new eK;eK.DstS=function(){eK.call(this,"DstS");this.Kr=[new is([12,56],1,200," px"),new is([4,13],1,255," px")];
this.mR()};eK.DstS.prototype=new eK;eK["Mdn "]=function(){eK.call(this,"Mdn ");this.Kr=[new is([12,56],1,200," px")];
this.mR()};eK["Mdn "].prototype=new eK;eK["Mdn "].prototype.Dg=function(i,$){$[0]=i.Rds.v.val};eK["Mdn "].prototype.vm=function(i,$){i.Rds.v.val=$[0]};
eK.ClrH=function(){eK.call(this,"ClrH");this.Kr=[new is([12,56],4,100," px")];for(var t=1;t<4;t++)this.Kr.push(new is("Angle "+t,0,90," \xB0"));
this.mR()};eK.ClrH.prototype=new eK;eK.ClrH.prototype.Dg=function(i,$){$[0]=i.Rds.v;for(var t=1;t<4;
t++)$[t]=i["Ang"+t].v};eK.ClrH.prototype.vm=function(i,$){i.Rds.v=$[0];for(var t=1;t<4;t++)i["Ang"+t].v=$[t]};
eK.ClrH.prototype.f=function(){var i=this.Kr;i[0].f();for(var t=1;t<4;t++)i[t].L5(e_.get([12,15])+" "+t)};
eK.Crst=function(){eK.call(this,"Crst");this.Kr=[new is([12,61],3,100," px")];this.mR()};eK.Crst.prototype=new eK;
eK.Crst.prototype.Dg=function(i,$){$[0]=i.ClSz.v};eK.Crst.prototype.vm=function(i,$){i.ClSz.v=$[0]};
eK.Mztn=function(){eK.call(this,"Mztn");this.Kr.push(new ku([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.ng="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.mR()};eK.Mztn.prototype=new eK;
eK.Mztn.prototype.Dg=function(i,$){$[0]=this.ng.indexOf(i.MztT.v.MztT)};eK.Mztn.prototype.vm=function(i,$){i.MztT.v.MztT=this.ng[$[0]]};
eK["Msc "]=function(){eK.call(this,"Msc ");this.Kr=[new is([12,61],2,200," px")];this.mR()};eK["Msc "].prototype=new eK;
eK["Msc "].prototype.Dg=function(i,$){$[0]=i.ClSz.v.val};eK["Msc "].prototype.vm=function(i,$){i.ClSz.v.val=$[0]};
eK.Pntl=function(){eK.call(this,"Pntl");this.Kr=[new is([12,61],3,100," px")];this.mR()};eK.Pntl.prototype=new eK;
eK.Pntl.prototype.Dg=function(i,$){$[0]=i.ClSz.v};eK.Pntl.prototype.vm=function(i,$){i.ClSz.v=$[0]};
eK.smartSharpen=function(){eK.call(this,"smartSharpen");this.Kr=[new is([12,57],1,200,"%"),new is([12,56],0,200,"px",1,!0)];
this.mR()};eK.smartSharpen.prototype=new eK;eK.smartSharpen.prototype.Dg=function(i,$){$[0]=i.Amnt.v.val;
$[1]=i.Rds.v.val};eK.smartSharpen.prototype.vm=function(i,$){i.Amnt.v.val=$[0];i.Rds.v.val=$[1]};eK.UnsM=function(){eK.call(this,"UnsM");
this.Kr=[new is([12,57],1,200," %"),new is([12,56],.1,400,"px",1,!0),new is([4,13],0,255," ")];this.mR()};
eK.UnsM.prototype=new eK;eK.HghP=function(){eK.call(this,"HghP");this.Kr=[new is([12,56],.1,400,"px",1,!0)];
this.mR()};eK.HghP.prototype=new eK;eK.HsbP=function(){eK.call(this,"HsbP");this.Kr=[new ee("Input",["RGB","HSB","HSL"]),new ee("Output",["RGB","HSB","HSL"])];
this.mR()};eK.HsbP.prototype=new eK;eK["Mxm "]=function(){eK.call(this,"Mxm ");this.Kr=[new is([12,56],.1,200," px",1,!0),new ku([12,76,1],[[12,93,3],"Circle"])];
this.mR()};eK["Mxm "].prototype=new eK;eK["Mnm "]=function(){eK.call(this,"Mnm ");this.Kr=[new is([12,56],.1,200," px",1,!0),new ku([12,76,1],[[12,93,3],"Circle"])];
this.mR()};eK["Mnm "].prototype=new eK;eK.Ofst=function(){eK.call(this,"Ofst");this.Kr=[new is([22,4,0],-1024,1024," px"),new is([22,4,1],-1024,1024," px"),new ku([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.mR()};eK.Ofst.prototype=new eK;eK.Kale=function(){eK.call(this,"Kale");this.Kr=[new fI("Mirrors",2,20),new fI([12,15],0,360,"\xB0")];
this.mR()};eK.Kale.prototype=new eK;eK.Kale.prototype.Dg=function(i,$){$[0]=i.Mirr.v;$[1]=i.MRot.v};
eK.Kale.prototype.vm=function(i,$){i.Mirr.v=$[0];i.MRot.v=$[1]};eK.Rept=function(){eK.call(this,"Rept");
this.Kr=[new fI([12,38],1,300," %"),new fI("Row Shift",-50,50," %"),new fI("Space X",-99,200," %"),new fI("Space Y",-99,200," %"),new iD([4,16,2]),new fM([12,15])];
this.mR()};eK.Rept.prototype=new eK;eK.Rept.prototype.Dg=function(i,$){$[0]=i.Scl.v.val;$[1]=i.Rsft.v.val;
$[2]=i.SpcX.v.val;$[3]=i.SpcY.v.val;$[4]=i.SpcC.v;$[5]=[i.Angl.v]};eK.Rept.prototype.vm=function(i,$){i.Scl.v.val=$[0];
i.Rsft.v.val=$[1];i.SpcX.v.val=$[2];i.SpcY.v.val=$[3];i.SpcC.v=$[4];i.Angl.v=$[5][0];return i};eK.Ctoa=function(){eK.call(this,"Ctoa");
this.Kr=[new ie([13,0]),new hD(!0),new is(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new is(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.mR()};eK.Ctoa.prototype=new eK;eK.Ctoa.prototype.Dg=function(i,$){$[0]=i.Clr.v;$[1]=i.Trsp.v.val;
$[2]=i.Opct.v.val};eK.Ctoa.prototype.vm=function(i,$){i.Clr.v=$[0];i.Trsp.v.val=$[1];i.Opct.v.val=$[2]};
eK.LqFy=function(){eK.call(this,"LqFy");this.Rk=!1;this.Xq=!1;this.pY=null;this.anc=null;this.b=0;this.H6=-1;
this.q={yQ:[[{b:{id:0,name:[24,1,0,1,0],lI:"liq/smudge"}}],[{b:{id:1,name:[24,1,0,1,1],lI:"liq/reconstruct"}}],[{b:{id:2,name:[24,1,0,1,2],lI:"liq/smooth"}}],[{b:{id:3,name:[24,1,0,1,3],lI:"liq/twirl"}}],[{b:{id:4,name:[24,1,0,1,4],lI:"liq/shrink"}}],[{b:{id:5,name:[24,1,0,1,5],lI:"liq/blow"}}],[{b:{id:6,name:[24,1,0,1,6],lI:"liq/pleft"}}],[{b:{id:7,name:"Hand",lI:"tools/hand"}}],[{b:{id:8,name:"Zoom In",lI:"zoomIn"}}],[{b:{id:9,name:"Zoom Out",lI:"zoomOut"}}]],keys:[]};
this.yU=new cN(this.q,!1);this.yU.p5(0);this.yU.h(x.E.k,this.aw7,this);this.Zs=bk.rw();this.v1=null;
this.IE=[];this.tv=-1;this.t9=null;this.anh=null;this._b=null;this.Gm=null;this.hS=null;var i=R.S("div","flexrow");
this.PG=i;this.m.appendChild(i);i.appendChild(this.yU.m);this.view=new a4(!0);this.view.JQ(100,100);
this.view.h("mousedown",this.k7,this);this.view.h("mousemove",this.CX,this);this.view.h("mouseup",this.QA,this);
this.view.h("zoom",this.S7,this);i.appendChild(this.view.m);var $=R.S("div","form");i.appendChild($);
this.Au=$;$.style.width="230px";this.UD=[new is([12,14,0],0,1e3,null,!1,!0),new is([12,74],0,100,null,!1,!1),new is([12,84],0,100,null,!1,!1),new iD([12,46]),new is([12,0],0,100,null,!1,!1),new iD([24,18,5])];
var h=this.Zs.Brsh.v;h.Dmtr.v.val=100;var d=[100,50,100,!1,100,!0];for(var t=0;t<this.UD.length;t++){var K=this.UD[t];
K.t(d[t]);if(t==4)K.eI();K.h(x.E.r,this.agK,this);$.appendChild(K.m)}var f=this.a9j=new d_([1,12,2],!0,null,!0);
f.h("click",this.Gh,this);$.appendChild(f.m);this.ayD=this.jj.bind(this);this.t1=new dq;this.t1.m=R.S("div","floatcont");
this.r5=new d_("Menu",!1,null,!0);var l=this.r5.m;l.setAttribute("style","position:absolute; right:13px; top:47px");
R.K6(l,this.a7T.bind(this))};eK.LqFy.prototype=new eK;eK.LqFy.prototype.wl=function(){return!0};eK.LqFy.prototype.D5=function(i){this.Au.appendChild(i)};
eK.LqFy.prototype.a7T=function(i){if(R.bT(this.t1.m))return;i.stopPropagation();var $=this.r5.m.getBoundingClientRect();
this.t1.m.appendChild(this.Au);var h=new eU(x.E.k,!0);h.data={d:x.c.jT,dX:this.t1,x:$.right+$.width-290,y:$.top+$.height};
this.$(h)};eK.LqFy.prototype.PS=function(i){this.Rk=i.j(ai.rf);var $=D.Gg.Ed(this.Zs,i);if($!=null){this.Zs=$;
this.S7();this.UD[0].t($.Brsh.v.Dmtr.v.val)}else if(i.j(ai.PO)&&i.j(ai.y4)){var h=this.IE;if(i.j(ai.EW)){if(this.tv+1<h.length)this.tv++}else if(this.tv>0)this.tv--;
this.v1.map=h[this.tv].slice(0);this.WA(null)}else if(this.b<=6)this.view.PS(i);var d=this.b,K=-1,f=i.j(ai.rf);
if(f&&this.H6==-1){if(d==0)K=1;if(d==4)K=5;if(d==5)K=4;if(K!=-1)this.H6=d}if(!f&&this.H6!=-1){K=this.H6;
this.H6=-1}if(K!=-1){this.b=K;this.yU.p5(this.b)}};eK.LqFy.prototype.aw7=function(i){if(i.data.d==x.c.ro){var $=this.b=i.data.b;
this.yU.p5(this.b);this.view.PS($>6?a4.a8I($-7):new ai)}};eK.LqFy.prototype.agK=function(i){var $=i.currentTarget,t=this.UD.indexOf($),h=this.Zs.Brsh.v;
if(t==0){h.Dmtr.v.val=$.G();this.S7()}this.UD[4].BH(this.UD[3].G());if(t>2)this.WA(null)};eK.LqFy.prototype.hX=function(){var i=this.IE;
this.tv++;i[this.tv]=this.v1.map.slice(0);while(i.length>this.tv+1)i.pop();while(i.length>50){i=i.slice(1);
this.tv--}};eK.LqFy.prototype.k7=function(i){this.pY=this.view.CQ();this.anc=new cq(0,0);this.Xq=!0;
window.requestAnimationFrame(this.ayD)};eK.LqFy.prototype.CX=function(i){var $=this.view.CQ(),h=new cq($.x-this.pY.x,$.y-this.pY.y);
if(this.b==0||this.b==6)this.ach(h);this.pY=$};eK.LqFy.prototype.QA=function(i){this.hX();this.Xq=!1};
eK.LqFy.prototype.jj=function(i){if(this.b!=0&&this.b!=6)this.ach(new cq(0,0));if(this.Xq)window.requestAnimationFrame(this.ayD)};
eK.LqFy.prototype.ach=function(i){var $=this.v1,h=$.DD/this.t9.e,d=this.pY,K=this.Zs.Brsh.v,f=K.Dmtr.v.val,l=Date.now(),u=$.DD,U=$.mJ,y=Math.sqrt(i.x*i.x+i.y*i.y),a=Math.max(1,Math.ceil(y/2)),v=i.x/a,c=i.y/a,p=d.clone(),C=this.b,T=this.UD[1].G()/100,E=this.UD[2].G()/100,r=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],Y=r[C*2],S=r[C*2+1],m=(1-T)*Y+T*S,Q=f*h/2;
for(var t=0;t<a;t++){var z=[];p.x+=v;p.y+=c;k.pl.are($.map,u,U,C,p.x*h,p.y*h,Q,T,E,v*h,c*h,z,this.Rk);
k.pl.alL(u,U,$.map,z,2*m*E)}var n=new bN(0,0,u,U),Z=new bN(d.x*h,d.y*h,0,0);Z.ol(f*h*.5,f*h*.5);var P=Z.clone();
P.offset(i.x*h,i.y*h);Z=Z.rt(P);var V=new bN(Z.x/h,Z.y/h,Z.e/h,Z.n/h);V=k.p.Ip(V).Js(this.t9);this.UD[5].t(!0);
this.WA(V)};eK.LqFy.prototype.S7=function(){var i=kn.EL(this.Zs,null,this.view.Uw().N);this.view.$o(i)};
eK.LqFy.prototype.t=function(i,$,h,d,K){h=h.clone();if($==null)return;if(!d.Rl(h)){var f=h.rt(d),l=k.Q(f.O()*4);
k.mC($,h,l,f);$=l;h=f;var u=k.Q(f.O()*4);k.mC(K,d,u,f);K=u}h.x=h.y=0;this._b=$;this.anh=K;this.hS=$.slice(0);
this.Gm=$.slice(0);this.t9=h;this.v1=ir.cL(new Uint8Array(i.LqMe.v).buffer);var U=h.e,y=h.n;if(this.v1.DD/U<.22){this.v1={DD:Math.floor(U/4),mJ:Math.floor(y/4)};
this.v1.map=new Float32Array(this.v1.DD*this.v1.mJ*2)}this.IE=[];this.tv=-1;this.hX();this.WA(null);
this.view.Ye();this.S7()};eK.LqFy.prototype.G=function(){var i=d1.U9("LqFy"),$=new Uint8Array(ir.ef(this.v1)),h=[];
for(var t=0;t<$.length;t++)h.push($[t]);i.LqMe.v=h;return i};eK.LqFy.prototype.JQ=function(i,$){this.yU.JQ(i,$);
var h=this.r5.m,d=this.Au;this.PG.appendChild(d);this.PG.appendChild(h);if(i>450&&i-$>200){d.style.marginLeft="1em";
this.PG.removeChild(h);this.view.JQ(i-238-45,$)}else{d.style.marginLeft="";this.PG.removeChild(d);this.view.JQ(i-40,$)}};
eK.LqFy.prototype.f=function(){this.yU.f();this.a9j.f();for(var t=0;t<this.UD.length;t++)this.UD[t].f()};
eK.LqFy.prototype.Gh=function(){this.v1.map.fill(0);this.hX();this.WA(null)};eK.LqFy.prototype.WA=function(i){var $=this.t9,h=this._b,d=this.hS,K=this.v1;
if(this.UD[5].G())k.pl.Q7(h,this.Gm,$.e,$.n,i,K.map,K.DD,K.mJ,0);else this.Gm.set(h);if(this.UD[3].v$()){k.mC(this.anh,$,d,$,i?i:$);
k.l.NU("norm",this.Gm,$,d,$,i?i:$,this.UD[4].G()/100)}else k.pv(this.Gm,d);this.view.t([{kp:$,data:d.buffer}])};
eK.GEfc=function(){eK.call(this,"GEfc");this.VI=0;this.ZB=0;this._b=null;this.hS=null;this.t9=null;this.RM=null;
this.Bi=null;this.hM=0;var i=R.S("div","flexrow");this.PG=i;this.m.appendChild(i);this.view=new a4(null);
this.view.JQ(100,100);i.appendChild(this.view.m);this.TC="";this.jo=270;var $=this.v9=R.S("div","form scrollable");
i.appendChild($);$.setAttribute("style","width:"+this.jo+"px;  margin-left:10px");var h=this.m3=R.S("div","form");
i.appendChild(h);h.setAttribute("style","width:230px;  margin-left:1em");this.wB={};for(var d in jG.names){var K=new eK.GEfc.Ob(d);
K.parent=this;this.wB[d]=K;K.h(x.E.r,this.a9a,this)}this.Bz=!0;this.r5=new d_("Menu",null,null,!0);this.r5.h("click",this.akD,this);
i.appendChild(this.r5.m);this.r3=new d_(">>",null,null,!0);this.r3.h("click",this.abj,this);h.appendChild(this.r3.m);
this.jU=R.S("div");this.jU.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
h.appendChild(this.jU);this.Bc=R.S("div");this.Bc.style.minHeight="14em";this.Bc.style.marginBottom="1em";
h.appendChild(this.Bc);this.xg=R.S("div","lpbody scrollable");this.kd=R.S("div","lpfoot");h.appendChild(this.xg);
h.appendChild(this.kd);this.h("click",this.ar5,this);this.LP=[];gV.Df([[5,3],[5,4]],this.LP,this.kd,this.Fu.bind(this))};
eK.GEfc.prototype=new eK;eK.GEfc.prototype.wl=function(){return!0};eK.GEfc.prototype.D5=function(i){this.jU.appendChild(i)};
eK.GEfc.prototype.aG=function(i,$){this.RM=i};eK.GEfc.prototype.abj=function(i){var $=this.v9.style.display!="none";
this.v9.style.display=$?"none":"";this.r3.L5($?"<<":">>");this.JQ()};eK.GEfc.prototype.akD=function(i){this.Bz=!this.Bz;
this.JQ()};eK.GEfc.prototype.JQ=function(i,$){var h=this.v9.style.display!="none";if(i!=null){this.VI=i;
this.ZB=$;if(i<1e3&&h||i>=1e3&&!h){this.abj();h=!h}this.Bz=i>600}else{i=this.VI;$=this.ZB}var d=this.Bz?240+(h?this.jo+10:0):0;
if(R.bT(this.m3)&&!this.Bz){this.PG.removeChild(this.v9);this.PG.removeChild(this.m3)}if(!R.bT(this.m3)&&this.Bz){this.PG.appendChild(this.v9);
this.PG.appendChild(this.m3)}this.v9.style.height=$+"px";this.view.JQ(i-d,$);this.xg.style.height=$-this.Bc.getBoundingClientRect().height-96+"px";
this.r5.m.setAttribute("style","position:absolute; top:46px;  right:"+(d+16)+"px")};eK.GEfc.prototype.acg=function(){var i=em.nf.get("img/beach",!0)[0],$=i.kp,h=this.v9,d=Math.floor(R.V()*(this.jo-40)/3),K=~~(d*.7),f=new bN(0,0,d,K),l=k.Q(d*K*4),u=l.slice(0),U=Math.round(10*R.V()),y=new ImageData(new Uint8ClampedArray(u.buffer),d,K);
k.mC(new Uint8Array(i.data),$,l,new bN(Math.round(($.e-d)/2),Math.round(($.n-K)/2),d,K));var a=R.S("canvas"),v=a.getContext("2d");
a.width=d;a.height=K+Math.round(U*1.5);v.font=U+"px sans-serif";this.xa={};var c=this.ajG.bind(this);
for(var t=0;t<jG.Um.length;t++){var p=jG.Um[t],C=R.S("div");h.appendChild(C);C.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
C.textContent=e_.get(p);for(var T in jG.names){var E=jG.names[T];if(E[0]!=t)continue;jG.kG(T,{rect:f,buffer:l},jG.U9(T),{o:0,P:0,Z:0},{o:255,P:255,Z:255},{rect:f,buffer:u},{});
v.fillStyle="black";v.fillRect(0,0,500,500);v.putImageData(y,0,0);var r=e_.get(E[1]);v.fillStyle="white";
v.fillText(r,(d-v.measureText(r).width)/2,K+Math.round(U*1.1));var Y=R.S("div");h.appendChild(Y);Y.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
Y.addEventListener("click",c,!1);var C=R.S("img");Y.appendChild(C);C.setAttribute("src",a.toDataURL());
C.setAttribute("style","width:"+d/R.V()+"px; margin-bottom:0px;");this.xa[T]=Y}}};eK.GEfc.prototype.ajG=function(i){var $;
for(var h in this.xa)if(this.xa[h]==i.currentTarget)this.TC=h;this.a9a()};eK.GEfc.prototype.Fu=function(i){var $=gV.nQ(this.LP,i),h=this.Bi.GEfs.v,d=h[this.hM].v;
if($==0){h.push(JSON.parse(JSON.stringify(h[this.hM])));this.hM=h.length-1}else if(h.length>1){h.splice(this.hM,1);
if(this.hM==h.length)this.hM--}this.hE();this.WA()};eK.GEfc.prototype.a9a=function(i){var $=this.TC,h;
if(i==null)h=jG.U9($);else h=this.wB[$].G();this.Bi.GEfs.v[this.hM].v=h;this.hE();this.WA()};eK.GEfc.prototype.t=function(i,$,h,d,K){if(this.xa==null)this.acg();
i=this.Bi=JSON.parse(JSON.stringify(i));if(i.GEfs==null)i=this.Bi={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:i}]}};
var f=i.GEfs.v;for(var t=0;t<f.length;t++)if(f[t].v.GELv==null)f[t].v.GELv={t:"bool",v:!0};this.hM=f.length-1;
this.hE();h=h.clone();if($==null)return;if(!d.Rl(h)&&jG.Nz(i).x!=0){var l=h.rt(d),u=k.Q(l.O()*4);k.mC($,h,u,l);
$=u;h=l}h.x=h.y=0;this._b=$;this.hS=$.slice(0);this.t9=h;this.WA();this.view.Ye()};eK.GEfc.prototype.ar5=function(i){var $=i.data,t=$.zH,h=this.Bi.GEfs.v;
if($.sv){h[t].v.GELv.v=!h[t].v.GELv.v;this.WA()}else this.hM=t;this.hE()};eK.GEfc.prototype.hE=function(){var i=this.Bi.GEfs.v,$=i[this.hM].v,h=$.GEfk.v.GEft,d=this.Bc;
if(jG.names[h]==null){alert("Unsupported gallery filter");R.J9(d)}else{this.TC=h;for(var K in this.xa)R.jE(this.xa[K],"selected");
R.FK(this.xa[h],"selected");var f=this.wB[h];f.t($);if(d.firstChild!=f.m){R.J9(d);d.appendChild(f.m)}}var l=[];
for(var t=0;t<i.length;t++){var u=i[t].v,U=jG.names[u.GEfk.v.GEft],y=new h$(t,!0,!0,null,U?U[1]:"Filter",t==this.hM,u.GELv.v);
y.parent=this;l.push(y.m)}R.J9(this.xg);l.reverse();for(var t=0;t<l.length;t++)this.xg.appendChild(l[t]);
this.JQ()};eK.GEfc.prototype.G=function(){return JSON.parse(JSON.stringify(this.Bi))};eK.GEfc.prototype.WA=function(i){var $=this.t9,h=this._b,d=this.hS,K=this.TC,f=this.Bi,l=this.RM;
function u(U){return{o:U>>>16,P:U>>>8&255,Z:U&255}}d1.kG("GEfc",{rect:this.t9,buffer:this._b},f,u(l.Mz),u(l.n9),{rect:this.t9,buffer:this.hS},null);
this.view.t([{kp:$,data:d.buffer}])};eK.GEfc.prototype.f=function(){for(var i in this.wB)this.wB[i].f();
gV.r4(this.LP,["lrs/newlayer","lrs/bin"])};eK.GEfc.Ob=function(i){dq.call(this);this.u$=i;this.m=R.S("div");
this.oh={};var $=jG.U9(i);for(var h in $){var d=null;if(h=="__name"||h=="classID"||h=="GEfk"||h=="GELv"||["FlRs"].indexOf(h)!=-1)continue;
else if(h=="EdgW")d=new is("Edge Width",1,14);else if(h=="EdgB")d=new is("Edge Brightness",0,i=="AccE"?50:20);
else if(h=="Smth")d=new is([19,3,3],1,i=="Stmp"?50:15);else if(h=="ClSz")d=new is([12,61],3,100);else if(h=="BrdT")d=new is([7,9],1,20);
else if(h=="HghS")d=new is([12,64],0,20);else if(h=="HlSz")d=new is([12,14,0],1,15);else if(h=="Cntr")d=new is([12,3,0],0,i=="WtrP"?100:50);
else if(h=="Shrp")d=new is("Sharpness",0,40);else if(h=="SprR")d=new is("Spray Radius",0,25);else if(h=="LgDr")d=new is("Light/Dark Balance",0,i=="Stmp"?50:100);
else if(h=="Drkn")d=new is("Darkness",1,50);else if(h=="Dstr")d=new is("Distortion",0,20);else if(h=="Scln")d=new is([12,38],50,200);
else if(h=="Rlf")d=new is("Relief",0,i=="Ptch"||i=="NtPr"?25:50);else if(h=="ChAm")d=new is("Thickness",1,7);
else if(h=="Pncl")d=new is([19,2,5],1,30);else if(h=="StrP")d=new is("Stroke Pressure",0,15);else if(h=="PprB")d=new is("Paper Brightness",0,50);
else if(h=="BrsS")d=new is("Brush Size",0,10);else if(h=="BrsD")d=new is("Brush Detail",0,10);else if(h=="Txtr")d=new is([12,67],1,3);
else if(h=="Grn")d=new is("Grain",0,20);else if(h=="HghA")d=new is("Highlight Area",0,20);else if(h=="Intn")d=new is("Intensity",0,10);
else if(h=="Brgh")d=new is("Glow Brightness",0,i=="WtrP"?100:50);else if(h=="StrS")d=new is("Stroke Size",1,50);
else if(h=="StDt")d=new is("Stroke Detail",1,3);else if(h=="Sftn")d=new is("Softness",0,10);else if(h=="EdgT")d=new is("Edge Thickness",0,10);
else if(h=="EdgI")d=new is("Edge Intensity",0,10);else if(h=="Pstr")d=new is("Posterization",0,6);else if(h=="Dfnt")d=new is("Definition",0,25);
else if(h=="TxtC")d=new is("Texture Coverage",0,50);else if(h=="ShdI")d=new is("Shadow Intensity",0,10);
else if(h=="DrcB")d=new is("Direction Balance",0,100);else if(h=="Strg")d=new is([12,64],1,3);else if(h=="Blnc")d=new is("Balance",0,10);
else if(h=="BlcI")d=new is("Black Intensity",0,10);else if(h=="WhtI")d=new is("White Intensity",0,10);
else if(h=="DrkI")d=new is("Dark Intensity",0,50);else if(h=="LghI")d=new is("Light Intensity",0,50);
else if(h=="StrW")d=new is("Stroke Width",3,15);else if(h=="Grns")d=new is("Graininess",0,i=="NtPr"?20:10);
else if(h=="GlwA")d=new is("Glow Amount",0,20);else if(h=="ClrA")d=new is("Clear Amount",0,20);else if(h=="ChrA")d=new is("Charcoal Area",0,20);
else if(h=="ChlA")d=new is("Chalk Area",0,20);else if(h=="FrgL")d=new is("Foreground Level",1,15);else if(h=="BckL")d=new is("Background Level",1,15);
else if(h=="WhtL")d=new is("Background Level",0,50);else if(h=="BlcL")d=new is("Foreground Level",0,50);
else if(h=="ImgB")d=new is("Image Balance",0,50);else if(h=="Dnst")d=new is([12,74],0,50);else if(h=="FbrL")d=new is("Fiber Length",3,50);
else if(h=="CrcS")d=new is("Crack Sapcing",2,100);else if(h=="CrcD")d=new is("Crack Depth",0,10);else if(h=="CrcB")d=new is("Crack Brightness",0,10);
else if(h=="TlSz")d=new is("Tile Size",2,100);else if(h=="GrtW")d=new is("Grout Width",1,15);else if(h=="LghG")d=new is("Lighten Grout",0,10);
else if(h=="SqrS")d=new is("Square Size",0,10);else if(h=="RplS")d=new is("Ripple Size",1,15);else if(h=="RplM")d=new is("Ripple Magnitude",0,20);
else if(h=="NmbL")d=new is("Number of Levels",2,8);else if(h=="EdgS")d=new is("Edge Simplicity",0,10);
else if(h=="EdgF")d=new is("Edge Fidelity",1,3);else if(h=="Sz")d=i=="NGlw"?new is("Glow Size",-24,24):new is("Brush Size",1,50);
else if(h=="Dtl")d=i=="Chrc"?new is("Detail",0,5):new is("Detail",1,15);else if(h=="StrL")d=i=="InkO"?new is("Stroke Length",1,50):new is("Stroke Length",0,20);
else if(h=="TxtT")d=new ku([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(h=="BrsT")d=new ku("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(h=="Grnt")d=new ku("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(h=="SDir")d=new ku([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(h=="ScrT")d=new ku([12,62],["Circle","Dot",[10,35]]);
else if(h=="LghD"||h=="LghP")d=new ku("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(h=="Clr")d=new hD("Glow Color");else if(h=="InvT")d=new iD([4,11]);else console.log(h);d.h(x.E.r,this.cA,this);
d.parent=this;this.oh[h]=d;this.m.appendChild(d.m)}};eK.GEfc.Ob.prototype=new dq;eK.GEfc.Ob.prototype.cA=function(i){this.$(new eU(x.E.r,!1))};
eK.GEfc.a5r="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
eK.GEfc.Ob.prototype.t=function(i){for(var $ in this.oh){var h;if(eK.GEfc.a5r.indexOf($)!=-1)h=i[$].v;
else if($=="TxtT")h=jG.Me.indexOf(i[$].v[$]);else if($=="BrsT")h=jG.aig.indexOf(i[$].v[$]);else if($=="LghD")h=jG.DF.indexOf(i[$].v[$]);
else if($=="LghP")h=jG.TH.indexOf(i[$].v[$]);else if($=="Grnt")h=jG.vn.indexOf(i[$].v[$]);else if($=="ScrT")h=jG.W3.indexOf(i[$].v[$]);
else if($=="SDir")h=jG.X5.indexOf(i[$].v.StrD);this.oh[$].t(h)}};eK.GEfc.Ob.prototype.G=function(){var i=jG.U9(this.u$);
for(var $ in this.oh){var h=this.oh[$].G();if(eK.GEfc.a5r.indexOf($)!=-1)i[$].v=h;else if($=="TxtT")i[$].v[$]=jG.Me[h];
else if($=="BrsT")i[$].v[$]=jG.aig[h];else if($=="LghD")i[$].v[$]=jG.DF[h];else if($=="LghP")i[$].v[$]=jG.TH[h];
else if($=="Grnt")i[$].v[$]=jG.vn[h];else if($=="ScrT")i[$].v[$]=jG.W3[h];else if($=="SDir")i[$].v.StrD=jG.X5[h]}return i};
eK.GEfc.Ob.prototype.f=function(){for(var i in this.oh)this.oh[i].f()};eK["Adobe Camera Raw Filter"]=function(i){eK.call(this,"Adobe Camera Raw Filter");
var $=this.m;this.ahm=i;this.b_=null;this.Nx=null;this.yt=null;R.FK($,"flexrow");var h=R.S("div"),d=R.S("div","padded");
$.appendChild(h);$.appendChild(d);this.vv=new a4;h.appendChild(this.vv.m);this.kF=new hX(225);this.kF.ot(4);
d.appendChild(this.kF.m);this.VX=R.S("div");this.VX.setAttribute("style","width:18em;");d.appendChild(this.VX);
this.ae$=new ie("Hi",!0);this.VX.appendChild(this.ae$.m);this.uK=R.S("div","scrollable");this.VX.appendChild(this.uK);
this.oh=[new is("Temperature",-100,100),new is("Tint",-100,100),new is([4,3],-4,4,null,!0),new is([12,3,0],-100,100),new is([4,4],-100,100),new is([12,9],-100,100)];
this.PM="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var t=0;t<this.oh.length;t++){var K=this.oh[t];
K.t(0);K.h(x.E.r,this.WA,this);this.uK.appendChild(K.m);if(t==1||t==3)this.uK.appendChild(R.S("hr"))}};
eK["Adobe Camera Raw Filter"].prototype=new eK;eK["Adobe Camera Raw Filter"].prototype.wl=function(){return!0};
eK["Adobe Camera Raw Filter"].prototype.D5=function(i){this.VX.appendChild(i)};eK["Adobe Camera Raw Filter"].prototype.aG=function(i,$){this.kF.gh(eS.gN[i.TZ]["--text-color"])};
eK["Adobe Camera Raw Filter"].prototype.t=function(i,$,h,d,K){this.Bi=i;var f=h.e,l=h.n,u=f*l;this.ae$.t(f+" x "+l+", "+(f*l/1e6).toFixed(1)+" MPx");
this.t9=h;this.Nx=new Float32Array(f*l*3);this.yt=new Uint8Array(f*l*4);this.yt.fill(255);if($ instanceof Float32Array)this.b_=$;
else{var U=this.b_=new Float32Array(f*l*3);for(var t=0;t<u;t++){var y=t*3,a=t*4;U[y+0]=$[a+0]*(1/255);
U[y+1]=$[a+1]*(1/255);U[y+2]=$[a+2]*(1/255)}}var v=this.PM;for(var t=0;t<v.length;t++){var c=v[t];this.oh[t].t(i[c]?i[c].v:0)}this.WA(null,!0)};
eK["Adobe Camera Raw Filter"].prototype.G=function(i){if(i)return this.yt;return JSON.parse(JSON.stringify(this.Bi))};
eK["Adobe Camera Raw Filter"].prototype.ahf=function(){this.b_=null;this.Nx=null;this.yt=null};eK["Adobe Camera Raw Filter"].prototype.WA=function(i,$){var h=this.PM;
for(var t=0;t<h.length;t++){var d=h[t];this.Bi[d]={t:d=="Ex12"?"doub":"long",v:this.oh[t].G()}}var K=this.t9,f=K.O();
jd(this.b_,K.e,K.n,this.Nx,this.Bi,this.ahm);var l=Date.now(),u=this.Nx,U=this.yt;for(var t=0;t<f;t++){var y=t*3,a=t*4;
U[a+0]=~~(.5+u[y+0]*255);U[a+1]=~~(.5+u[y+1]*255);U[a+2]=~~(.5+u[y+2]*255)}console.log(Date.now()-l,"integer conversion");
l=Date.now();var v=k.L_(U,Math.max(1,Math.floor(f/2e5)));this.kF.t(v);console.log(Date.now()-l,"histogram done");
l=Date.now();this.vv.t([{kp:K,data:U.buffer}]);if($)this.vv.Ye()};eK["Adobe Camera Raw Filter"].prototype.JQ=function(i,$){this.a0B=i-248;
this.akp=$;this.vv.JQ(this.a0B,this.akp);this.uK.style.height=$-236+"px"};eK["Adobe Camera Raw Filter"].prototype.f=function(){for(var t=0;
t<this.oh.length;t++)this.oh[t].f()};eK.blnc=function(){eK.call(this);var i=this.m;this.bZ=null;this.KA=new ku([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.KA.h(x.E.r,this.WA,this);i.appendChild(this.KA.m);this.bA=[];for(var t=0;t<3;t++){var $=new is(f2.lz[t],-100,100);
$.h(x.E.r,this.hi,this);this.bA.push($);i.appendChild($.m)}this.BW=new iD([13,4]);this.BW.h(x.E.r,this.hi,this);
i.appendChild(this.BW.m)};eK.blnc.prototype=new eK;eK.blnc.prototype.f=function(){this.KA.f();for(var t=0;
t<3;t++)this.bA[t].f();this.BW.f()};eK.blnc.prototype.t=function(i){this.bZ=JSON.parse(JSON.stringify(i));
this.WA()};eK.blnc.prototype.G=function(i){var $=["ShdL","MdtL","HghL"],h=this.bZ[$[this.KA.G()]].v;
for(var t=0;t<3;t++)h[t].v=this.bA[t].G();this.bZ.PrsL.v=this.BW.G();return JSON.parse(JSON.stringify(this.bZ))};
eK.blnc.prototype.WA=function(i){var $=["ShdL","MdtL","HghL"],h=this.bZ[$[this.KA.G()]].v;for(var t=0;
t<3;t++)this.bA[t].t(h[t].v);this.BW.t(this.bZ.PrsL.v)};eK.brit=function(){eK.call(this,"brit");this.Kr.push(new is([12,2],-150,150,""));
this.Kr.push(new is([12,3,0],-100,100,""));this.Kr.push(new iD([12,3,1]));this.mR()};eK.brit.prototype=new eK;
eK.curv=function(){eK.call(this);this.value=null;this.Lx=null;this.RM=null;var i=this.m;this.mf=new ku("Preset",["basic","advanced"]);
this.mf.h(x.E.r,this.a9k,this);i.appendChild(this.mf.m);R.k6(i);this.LO=new ku([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.LO.h(x.E.r,this.jb,this);i.appendChild(this.LO.m);this.LB=new ku(null,["Spline","Sketch"]);this.LB.h(x.E.r,this.a9k,this);
i.appendChild(this.LB.m);this.gw=new fA;this.gw.parent=this;this.gw.h(x.E.r,this.bI,this);i.appendChild(this.gw.m);
R.k6(i);this.Jd=new e4;this.Jd.h(x.E.r,this.Ca,this);i.appendChild(this.Jd.m);this.Sj=null;this.avJ=0;
this.Ui=0;R.k6(i);this.sJ=new fZ("Sample from image",ee.vg(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.sJ.h(x.E.r,this.Jp,this);this.sJ.m.style.marginRight="0";i.appendChild(this.sJ.m)};eK.curv.prototype=new eK;
eK.curv.prototype.aG=function(i,$){if($==dC.mW||$==dC.OY){var h=i.uD,d=["Default"];for(var t=0;t<h.length;
t++)d.push(h[t].presetFileName.v);d.push("Custom");this.mf.TD(d,[1,h.length,1]);this.RM=i}};eK.curv.prototype.JQ=function(i,$){this.Jd.JQ(i,$)};
eK.curv.prototype.f=function(){this.LO.f();this.Jd.f()};eK.curv.prototype.Hv=function(){this.mf.t(this.RM.uD.length+1)};
eK.curv.prototype.a9k=function(i){if(i.target==this.mf){var $=this.mf.G(),h=this.RM.uD,d;if($==0)d=d1.U9("curv");
else if($-1<h.length)d=JSON.parse(JSON.stringify(h[$-1]));else return;this.t(d);this.hi();return}this.Hv();
var K=hI.Fj(this.value,0),f=K.length==256?1:0,l=this.LB.G();if(f==l)return;var d=d1.U9("curv");if(l==1){var u=[];
for(var t=0;t<256;t++)u.push(t);hI.Jc(d,0,u)}this.t(d);this.hi()};eK.curv.prototype.Ca=function(){this.Hv();
hI.Jc(this.value,this.LO.G(),this.Jd.G());this.hi()};eK.curv.prototype.jb=function(){var i=this.LO.G(),$=hI.Fj(this.value,i),h=$.length==256?1:0;
this.LB.t(h);if(this.Lx)this.Jd.rg(this.Lx[i],this.Lx[4]*[1,.33,.33,.33][i],["#ccc","#fcc","#cfc","#ccf"][i]);
this.Jd.t($)};eK.curv.prototype.wL=function(){return!0};eK.curv.prototype.gE=function(i,$,h,d,K){var f=this.value;
this.value=d1.U9("curv");this.hi();var l=D.Sv.rn(i,K,1),u=this.Sj=[l>>>16&255,l>>>8&255,l&255];this.avJ=K.y;
var U=this.sJ.G().indexOf(!0);if(U==0){var y=(u[0]+u[1]+u[2])/3,a=this.LO.G(),v=hI.Fj(f,a),c=a==0?y:u[a-1],p=-1;
for(var t=0;t<v.length;t++)if(v[t].v.Hrzn.v==c)p=t;if(p==-1){var C=JSON.parse(JSON.stringify(v[0]));
C.v.Hrzn.v=c;C.v.Vrtc.v=c;v.push(C);v.sort(function(T,E){return T.v.Hrzn.v-E.v.Hrzn.v});hI.Jc(f,a,v);
this.Ui=v.indexOf(C)}else this.Ui=p}this.t(f);this.hi()};eK.curv.prototype.Zm=function(i,$,h,d,K){if(this.Sj==null)return;
if(this.sJ.G().indexOf(!0)==0){var f=this.value,l=this.LO.G(),u=hI.Fj(f,l),U=u[this.Ui];U.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(U.v.Hrzn.v+(this.avJ-K.y))));
hI.Jc(f,l,u);this.t(f);this.hi()}};eK.curv.prototype.IQ=function(i,$,h,d,K){var f=this.value,l=this.Sj,u=(l[0]+l[1]+l[2])/3,U=this.sJ.G().indexOf(!0)-1;
if(U<=-1){}else for(var t=0;t<3;t++){var y=hI.Fj(f,1+t);if(U==0)y[0].v.Hrzn.v=l[t];if(U==1){var a=Math.log(l[t]/255)/Math.log(u/255),v=Math.min(999,Math.max(10,Math.round(100*a)));
if(y.length==2)y.splice(1,0,JSON.parse(JSON.stringify(y[0])));y[1].v.Hrzn.v=127-Math.log(v/100)*127;
y[1].v.Vrtc.v=127}if(U==2)y[y.length-1].v.Hrzn.v=l[t];hI.Jc(f,1+t,y)}this.t(f);this.hi();this.Hv();this.Sj=null};
eK.curv.prototype.t=function(i){this.value=i;this.jb()};eK.curv.prototype.rg=function(i){this.Lx=i;this.jb()};
eK.curv.prototype.G=function(i){return JSON.parse(JSON.stringify(this.value))};eK.curv.prototype.bI=function(){var i=this.gw.G(),$=this.Lx,h=this.value,d=k.Bt(i,$);
for(var t=0;t<4;t++){var K=d[t][0],f=d[t][1],l=d[t][2],u=[k.qt.o3(K,0,!0),k.qt.o3(f,255,!0)];if(l!=null)u.splice(1,0,k.qt.o3(128,l,!0));
hI.Jc(h,t,u)}this.jb();this.hi()};eK.expA=function(){eK.call(this,"expA");this.Kr.push(new is([12,5],-20,20,null,2,!0));
this.Kr.push(new is([12,6],-.5,.5,null,2));this.Kr.push(new is([12,7],.01,9.99,null,2,!0));this.mR()};
eK.expA.prototype=new eK;eK.expA.prototype.Dg=function(i,$){$[0]=i.Exps.v;$[1]=i.Ofst?i.Ofst.v:0;$[2]=i.gammaCorrection?i.gammaCorrection.v:1};
eK.expA.prototype.vm=function(i,$){i.Exps={t:"doub",v:$[0]};i.Ofst={t:"doub",v:$[1]};i.gammaCorrection={t:"doub",v:$[2]}};
eK.grdm=function(){eK.call(this,"grdm");this.Kr.push(new gh(!0,null,!0));this.Kr.push(new iD([12,23,0]));
this.mR()};eK.grdm.prototype=new eK;eK.grdm.prototype.Dg=function(i,$){$[0]=i.Grad.v;$[1]=i.Rvrs?i.Rvrs.v:!1};
eK.grdm.prototype.vm=function(i,$){i.Grad.v=$[0];i.Rvrs={t:"bool",v:$[1]}};eK.grdm.prototype.aG=function(i,$){this.Kr[0].yO(i.Mz,i.n9);
if($==dC.mW||$==dC.xq||$==dC.Sm)this.Kr[0].B8(i.KH)};eK.selc=function(){eK.call(this);var i=this.m;this.nb=[];
this.Cc=null;this.KA=new ku([12,82],f2.GP.concat([[13,1,8],[13,1,13],[13,1,10]]));this.KA.h(x.E.r,this.cA,this);
i.appendChild(this.KA.m);R.k6(i);for(var t=0;t<4;t++){var $=new is(f2.alH[t],-100,100,"%");$.h(x.E.r,this.cA,this);
this.nb.push($);i.appendChild($.m)}this.C$=new iD([13,3]);i.appendChild(this.C$.m);this.C$.h(x.E.r,this.cA,this)};
eK.selc.prototype=new eK;eK.selc.prototype.f=function(){this.KA.f();this.C$.f();for(var t=0;t<4;t++)this.nb[t].f()};
eK.selc.prototype.t=function(i){this.Cc=JSON.parse(JSON.stringify(i));this.WA()};eK.selc.prototype.G=function(i){return JSON.parse(JSON.stringify(this.Cc))};
eK.selc.prototype.cA=function(i){if(i.target!=this.KA){var $=this.Cc,h=[];for(var t=0;t<4;t++)h[t]=this.nb[t].G();
gB.Jc($,this.KA.G(),h);$.Mthd={t:"enum",v:{CrcM:this.C$.G()?"Absl":"Rltv"}}}this.WA();this.hi()};eK.selc.prototype.WA=function(){var i=this.Cc,$=gB.Fj(i,this.KA.G());
for(var t=0;t<4;t++)this.nb[t].t($[t]);this.C$.t(i.Mthd?i.Mthd.v.CrcM=="Absl":!1)};eK.blwh=function(){eK.call(this,"blwh");
this.Kr.push(new iD([12,11]));this.Kr.push(new hD(!0));for(var t=0;t<6;t++)this.Kr.push(new is(f2.GP[t],-200,300));
this.mR()};eK.blwh.prototype=new eK;eK.blwh.prototype.Dg=function(i,$){$[0]=i.useTint.v;$[1]=i.tintColor.v;
var h="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var t=0;t<6;t++)$[2+t]=i[h[t]].v};eK.blwh.prototype.vm=function(i,$){i.useTint.v=$[0];
i.tintColor.v=$[1];var h="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var t=0;t<6;t++)i[h[t]].v=$[2+t]};
eK.hue2=function(){eK.call(this);this.value=null;this.Zy=null;this.akE=null;this.OX=[[0,0,0],[0,50,0]];
var i=this.m;this.sJ=new fZ(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.sJ.h(x.E.r,this.an$,this);this.sJ.h(x.E.r,this.Jp,this);i.appendChild(this.sJ.m);var $=this.Kr=[new ku([12,12],["Master"].concat(f2.GP)),new is([12,8],-180,180),new is([12,9],-100,100),new is([12,10],-100,100),new iD([12,11])];
for(var t=0;t<$.length;t++){var h=$[t];h.h(x.E.r,t==0?this.jb:this.a0p,this);i.appendChild(h.m)}this.KA=$[0];
this.nH=$[1];this.Ug=$[2];this.vk=$[3];this.fe=$[4];this.a5=new fZ("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.a5.h(x.E.r,this.an$,this);this.a5.h(x.E.r,this.Jp,this);this.a5.m.style.marginLeft="20px";i.appendChild(this.a5.m);
this.H2=R.S("div");i.appendChild(this.H2);this.UA=this.hJ.bind(this);this.e6=this.Qw.bind(this);this.T=R.S("canvas");
this.nl=this.T.getContext("2d");this.Ot=null;R.jA(this.T);R.Pe(this.T,282,18);i.appendChild(this.T);
R.K6(this.T,this.io.bind(this))};eK.hue2.prototype=new eK;eK.hue2.prototype.JQ=function(i,$){R.Pe(this.T,Math.round(i),18);
if(this.value)this.jb()};eK.hue2.prototype.an$=function(i){var $=i.target.G().indexOf(!0);if($==-1)return;
if(i.target==this.sJ)this.a5.t([!1,!1,!1]);else this.sJ.t([!1,!1,!1])};eK.hue2.prototype.io=function(i){if(this.KA.G()==0||this.fe.G())return;
var $=R.CJ(i,this.T).x/(this.T.width/R.V()),f=1e6;function h(v,c,p){return v<c&&c<p||p<v&&(v<c||c<p)}var d=this.SO(),K=-1;
for(var t=0;t<4;t++){var l=Math.abs($-(d[t]+t*1e-5));if(l<f){f=l;K=t}}if(f>.025){K=-1;var u=d[0],U=d[1],y=d[2],a=d[3];
if(h(u,$,U))K=4;if(h(U,$,y))K=5;if(h(y,$,a))K=6}if(K==-1)return;this.Ot=K;R.sM(document.body,this.UA);
R.pq(document.body,this.e6)};eK.hue2.prototype.hJ=function(i){var $=R.CJ(i,this.T).x/(this.T.width/R.V()),h=this.SO(),d=this.Ot;
for(var t=1;t<4;t++)if(h[t]<h[t-1]){h[t]+=1}if(d<4){var K=1e6,f=0;for(var t=-20;t<20;t++){var l=Math.abs(h[d]-($+t));
if(l<K){K=l;f=t}}$+=f;h[d]=$;for(var t=d+1;t<4;t++)if(h[t]<h[t-1]){h[t]=h[t-1]}for(var t=d-1;t>=0;t--)if(h[t]>h[t+1]){h[t]=h[t+1]}}else{var u=$-(h[d-4]+h[d-3])/2;
if(u<-.5)u+=1;if(d==4){h[0]+=u;h[1]+=u;h[2]=Math.max(h[1],h[2]);h[3]=Math.max(h[1],h[3])}if(d==5)for(var t=0;
t<4;t++)h[t]+=u;if(d==6){h[2]+=u;h[3]+=u;h[0]=Math.min(h[0],h[2]);h[1]=Math.min(h[1],h[2])}}for(var t=1;
t<4;t++)if(h[t]<h[t-1])throw"e";this.alZ(h);this.jb();this.hi()};eK.hue2.prototype.Qw=function(i){R.Uq(document.body,this.UA);
R.hZ(document.body,this.e6)};eK.hue2.prototype.f=function(){for(var t=0;t<this.Kr.length;t++)this.Kr[t].f()};
eK.hue2.prototype.a0p=function(i){var $=this.value.Clrz.v=this.fe.G();if($)this.KA.t(0);if(i&&i.target==this.fe){var h=$?1:0;
this.OX[1-h]=dm.Fj(this.value,0);var d=this.OX[h];dm.Jc(this.value,0,d);if(this.KA.G()==0){this.nH.t(d[0]);
this.Ug.t(d[1]);this.vk.t(d[2])}}var K=this.KA.G(),f=dm.Fj(this.value,K),d=K==0?f:f.bA;d[0]=this.nH.G();
var l=this.Ug.G();d[1]=$?Math.max(0,l):l;d[2]=this.vk.G();dm.Jc(this.value,K,f);this.jb();this.hi()};
eK.hue2.prototype.jb=function(){var i=this.KA.G(),$=this.value.Clrz?this.value.Clrz.v:!1;this.fe.t($);
this.KA.BH(!$);this.a5.BH(!$&&i!=0);var h=dm.Fj(this.value,i),d=i==0?h:h.bA;this.nH.t(d[0]);this.Ug.t(d[1]);
this.vk.t(d[2]);var K=this.T.width,f=this.T.height,l=this.nl;l.clearRect(0,0,K,f);if($||i==0){this.H2.innerHTML="";
return}var u=h.z8;this.H2.innerHTML=u[0]+"\xB0 / "+u[1]+"\xB0<span style=\"float:right\">"+u[2]+"\xB0 \\ "+u[3]+"\xB0</span>";
var U=k.Q(K*4);f4.agB(U,1,K,-1,.5);var y=new ImageData(new Uint8ClampedArray(U.buffer),K,1),a=Math.round(f/4);
for(var t=0;t<a;t++)l.putImageData(y,0,t);function v(r,Y,S){l.fillStyle=S;var m=a*2;if(r<=Y)l.fillRect(r*K,m,(Y-r)*K,a);
else{l.fillRect(0,m,Y*K,a);l.fillRect(r*K,m,(1-r)*K,a)}}var c=this.SO();v(c[0],c[1],"#888888");v(c[1],c[2],"#cccccc");
v(c[2],c[3],"#888888");l.fillStyle="#ffffff";l.lineWidth=1;l.beginPath();var p=a+.5,C=4*a+.5;for(var t=0;
t<4;t++){var T=Math.floor(K*c[t])+.5,E=(t<2?-1:1)*a*(t==1||t==2?1:2);l.moveTo(T,p);l.lineTo(T,C);l.lineTo(T+E,C);
l.lineTo(T+E,a+a+.5);l.closePath()}l.fill();l.stroke()};eK.hue2.prototype.SO=function(){var i=this.KA.G(),$=dm.Fj(this.value,i).z8;
for(var t=0;t<4;t++)$[t]=(1000.5+$[t]/360)%1;return $};eK.hue2.prototype.alZ=function(i){var $=this.KA.G(),h=dm.Fj(this.value,$);
for(var t=0;t<4;t++)h.z8[t]=Math.round(36e3+(i[t]-.5)*360)%360;dm.Jc(this.value,$,h)};eK.hue2.prototype.wL=function(){return!0};
eK.hue2.prototype.ao5=function(){var i=this.sJ.G().indexOf(!0),$=this.a5.G().indexOf(!0);return i!=-1?i:$!=-1?$+1:-1};
eK.hue2.prototype.gE=function(i,$,h,d,K){var f=this.ao5();if(f==-1)return;var l=this.value;this.value=d1.U9("hue2");
this.hi();var u=D.Sv.rn(i,K,1);this.t(l);var U=[u>>>16&255,u>>>8&255,u&255],y=k._U(U[0]/255,U[1]/255,U[2]/255);
if(f==0){this.KA.t(1+Math.round(y.mJ*6)%6)}else{var a=this.SO(),v=.5+y.mJ,c=1/12,p=a[1],C=a[2];if(C<p){C++;
if(v<p&&v+1-C<p-v)v++}var T=p<=v&&v<=C;if(f==1){p=v-c/2;C=v+c/2}else if(f==2&&!T){p=Math.min(v,p);C=Math.max(v,C)}else if(f==3&&T){if(v-p<C-v)p=v;
else C=v}a=[p-c,p,C,C+c];this.alZ(a)}this.hi();this.Zy=K.x;this.akE=this.Ug.G()};eK.hue2.prototype.Zm=function(i,$,h,d,K){var f=this.ao5();
if(f==-1)return;if(f==0){if(this.Zy!=null){var l=K.x-this.Zy;l=Math.max(-100,Math.min(100,this.akE+.5*l));
this.Ug.t(l);this.a0p()}}};eK.hue2.prototype.IQ=function(i,$,h,d,K){this.Zy=null};eK.hue2.prototype.t=function(i){this.value=JSON.parse(JSON.stringify(i));
var $=this.value.Clrz?this.value.Clrz.v:!1;this.OX[$?1:0]=dm.Fj(this.value,0);this.jb()};eK.hue2.prototype.G=function(i){return JSON.parse(JSON.stringify(this.value))};
eK.levl=function(){function i(){eK.call(this);this.value=null;this.Lx=null;this.iX=[new cq(0,0),new cq(0,0),new cq(0,0),new cq(0,0),new cq(0,0)];
this.iz=-1;this.UA=this.hJ.bind(this);this.e6=this.Qw.bind(this);var $=this.m;this.LO=new ku([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.LO.h(x.E.r,this.jb,this);$.appendChild(this.LO.m);this.gw=new fA;this.gw.parent=this;this.gw.h(x.E.r,this.bI,this);
$.appendChild(this.gw.m);var h=R.S("div","");$.appendChild(h);var d=R.S("div","");$.appendChild(d);this.T=R.S("canvas");
h.appendChild(this.T);this.nl=this.T.getContext("2d");this.aV=new cq(256,120);this.T.setAttribute("style","display:block");
R.jA(this.T);R.K6(this.T,this.io.bind(this));this.CZ=R.S("canvas","");d.appendChild(this.CZ);this.Cl=this.CZ.getContext("2d");
this.V_=new cq(this.aV.x,40);this.CZ.setAttribute("style","display:block");R.jA(this.CZ);R.K6(this.CZ,this.a5T.bind(this));
var K=this.Lw=[];for(var t=0;t<5;t++){var f=new at(null,null,3);K.push(f);f.h(x.E.r,this.a47,this);(t<2||t==4?h:d).appendChild(f.m)}h.appendChild(K[1].m);
this.sJ=new fZ("Sample from image",ee.vg(["#000000","#888888","#ffffff"]),!0,null,!0);this.sJ.h(x.E.r,this.Jp,this);
$.appendChild(this.sJ.m);this.JQ(250,100)}i.prototype=new eK;i.prototype.bI=function(){var $=this.gw.G(),h=this.Lx,d=this.value,K=k.Bt($,h);
for(var t=0;t<4;t++){var f=K[t][0],l=K[t][1],u=K[t][2],U=[k.qt.o3(f,0,!0),k.qt.o3(l,255,!0)];if(u!=null)U.splice(1,0,k.qt.o3(128,u,!0));
var y=[~~f,~~l,0,255,u==null?100:~~(100+.75*100*(u-128)/128)];dO.Jc(d,t,y)}this.jb();this.hi()};i.prototype.JQ=function($,h){$+=6;
this.aV.x=this.V_.x=$;R.Pe(this.T,$,this.aV.y,this.nl);R.Pe(this.CZ,$,this.V_.y,this.Cl);var d=this.Lw;
d[3].m.setAttribute("style","margin-left: "+($-104)+"px");d[4].m.setAttribute("style","margin: 0 "+($/2-74)+"px");
if(this.value)this.jb()};i.prototype.f=function(){this.LO.f()};i.prototype.a47=function($){var h=[];
for(var t=0;t<5;t++){var d=255,K=1;if(t==4){d=999;K=100}var f=parseFloat(this.Lw[t].G());h[t]=Math.max(0,Math.min(d,f*K))}dO.Jc(this.value,this.LO.G(),h);
this.jb();this.hi()};i.prototype.jb=function($){var h=this.aV.x,d=this.aV.y,K=this.LO.G(),f=this.nl;
f.clearRect(0,0,h,d);f.fillStyle="#cccccc";f.fillRect(8,8,h-16,d-16-8);if(this.Lx){var l=this.Lx[0].slice(0),C=0;
if(K==0){l.fill(0);var u=JSON.parse(JSON.stringify(this.value));dO.Jc(u,0,[0,255,0,255,100]);var U=f2.Bd("levl",u),y=[U.UR,U.eQ,U.eV];
for(var a=0;a<3;a++){var v=this.Lx[1+a],c=y[a];for(var t=0;t<256;t++)l[c[t]]+=v[t]}}var p=K==0?l:this.Lx[K];
for(var t=0;t<p.length;t++)C+=p[t];f.fillStyle="#333333";f.beginPath();f.moveTo(8,d-16);for(var t=0;
t<256;t++){var T=55*p[t]/C;f.lineTo(8+t/256*(h-16),Math.max(8,d-16-d*T))}f.lineTo(h-8,d-16);f.closePath();
f.fill()}var E=dO.Fj(this.value,K);for(var t=0;t<5;t++)this.Lw[t].t(E[t]/(t==4?100:1));this.iX[0].WI(8+E[0]/255*(h-16),d-14);
this.iX[1].WI(8+E[1]/255*(h-16),d-14);var r=Math.log(E[4]/100)/Math.log(9.99);r=.5-r/2;this.iX[4].WI(this.iX[0].x+r*(this.iX[1].x-this.iX[0].x),d-14);
this.Iz(f,this.iX[0],"#000000");this.Iz(f,this.iX[1],"#ffffff");this.Iz(f,this.iX[4],"#777777");var h=this.V_.x,d=this.V_.y;
f=this.Cl;f.clearRect(0,0,h,d);var Y=f.createLinearGradient(0,0,h-16,0);Y.addColorStop(0,"black");Y.addColorStop(1,"white");
f.fillStyle=Y;f.fillRect(8,8,h-16,16);this.iX[2].WI(8+E[2]/255*(h-16),d-14);this.iX[3].WI(8+E[3]/255*(h-16),d-14);
this.Iz(f,this.iX[2],"#000000");this.Iz(f,this.iX[3],"#ffffff")};i.prototype.Iz=function($,h,d){$.fillStyle=d;
$.fillRect(h.x-5,h.y,10,10)};i.prototype.io=function($){var h=R.CJ($,this.T),d=this.a0x([0,1,4],h);if(d!=-1)this.iz=d;
this.ajk()};i.prototype.a5T=function($){var h=R.CJ($,this.CZ),d=this.a0x([2,3],h);if(d!=-1)this.iz=d;
this.ajk()};i.prototype.a0x=function($,h){var d=-1,K=1e9;for(var t=0;t<$.length;t++){var f=Math.abs(this.iX[$[t]].x-h.x);
if(f<K){K=f;d=$[t]}}return K<16?d:-1};i.prototype.ajk=function($){if(this.iz==-1)return;R.sM(document.body,this.UA);
R.pq(document.body,this.e6)};i.prototype.hJ=function($){var h=dO.Fj(this.value,this.LO.G()),d=R.CJ($,this.iz==2&&this.iz==3?this.CZ:this.T),K=255*(d.x-8)/(this.aV.x-16);
K=Math.max(0,Math.min(255,K));if(this.iz==0)K=Math.min(K,h[1]-2);if(this.iz==1)K=Math.max(K,h[0]+2);
if(this.iz!=4)h[this.iz]=Math.round(K);else{var f=(K-h[0])/(h[1]-h[0]);f=1-2*f;f=Math.pow(9.99,f);h[4]=Math.min(999,Math.max(10,Math.round(f*100)))}dO.Jc(this.value,this.LO.G(),h);
this.jb();this.hi()};i.prototype.Qw=function($){R.Uq(document.body,this.UA);R.hZ(document.body,this.e6);
this.iz=-1};i.prototype.wL=function(){return!0};i.prototype.IQ=function($,h,d,K,f){var l=this.value,u=this.sJ.G().indexOf(!0);
if(u==-1)return;this.value=d1.U9("levl");this.hi();var U=D.Sv.rn($,f,1),y=[U>>>16&255,U>>>8&255,U&255];
for(var t=0;t<3;t++){var a=dO.Fj(l,1+t);if(u==0)a[0]=y[t];if(u==1){var v=Math.log(y[t]/255)/Math.log((y[0]+y[1]+y[2])*.333/255);
a[4]=Math.min(999,Math.max(10,Math.round(100*v)))}if(u==2)a[1]=y[t];dO.Jc(l,1+t,a)}this.t(l);this.hi()};
i.prototype.t=function($){this.value=$;this.jb()};i.prototype.rg=function($){this.Lx=$;this.jb()};i.prototype.G=function($){return JSON.parse(JSON.stringify(this.value))};
return i}();eK.phfl=function(){eK.call(this,"phfl");this.Kr.push(new hD);this.Kr.push(new is([12,74],0,100,"%"));
this.Kr.push(new iD([13,4]));this.mR()};eK.phfl.prototype=new eK;eK.phfl.prototype.Dg=function(i,$){$[0]=i.Clr.v;
$[1]=i.Dnst.v;$[2]=i.PrsL.v};eK.phfl.prototype.vm=function(i,$){var h=k.M.zk($[0]),d=i.Clr.v,K=k.Hq(h.o,h.P,h.Z);
d.Lmnc.v=K.GE;d.A.v=K.Pi;d.B.v=K.Z;i.Dnst.v=$[1];i.PrsL.v=$[2]};eK.vibA=function(){eK.call(this,"vibA");
this.Kr.push(new is([12,13],-100,100,null));this.Kr.push(new is([12,9],-100,100,null));this.mR()};eK.vibA.prototype=new eK;
eK.vibA.prototype.Dg=function(i,$){$[0]=i.vibrance?i.vibrance.v:0;$[1]=i.Strt?i.Strt.v:0};eK.vibA.prototype.vm=function(i,$){i.vibrance.v=$[0];
i.Strt.v=$[1]};eK.thrs=function(){eK.call(this,"thrs");this.Kr.push(new is([4,13],1,255,null));this.mR()};
eK.thrs.prototype=new eK;eK.thrs.prototype.Dg=function(i,$){$[0]=i.Lvl.v};eK.thrs.prototype.vm=function(i,$){i.Lvl.v=$[0]};
eK.mixr=function(){eK.call(this);var i=this.m;this.nb=[];this.Cc=null;this.KA=new ku([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.avV=!1;this.KA.h(x.E.r,this.cA,this);i.appendChild(this.KA.m);R.k6(i);this.fY=new iD([12,60]);i.appendChild(this.fY.m);
this.fY.h(x.E.r,this.cA,this);for(var t=0;t<4;t++){var $=new is([[13,1,1],[13,1,4],[13,1,5],[13,2]][t],-200,200,"%");
$.h(x.E.r,this.cA,this);this.nb.push($);i.appendChild($.m)}};eK.mixr.prototype=new eK;eK.mixr.prototype.f=function(){this.KA.f();
this.fY.f();for(var t=0;t<4;t++)this.nb[t].f()};eK.mixr.prototype.t=function(i){this.Cc=JSON.parse(JSON.stringify(i));
this.WA()};eK.mixr.prototype.G=function(i){return JSON.parse(JSON.stringify(this.Cc))};eK.mixr.prototype.cA=function(i){if(i.target!=this.KA){var $=f2.rs(this.Cc);
if(i.target==this.fY){$.fY=this.fY.G();if($.fY)$.L=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else $.L=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var h=($.fY?0:this.KA.G())*5,t=this.nb.indexOf(i.target);
$.L[h+(t<3?t:4)]=i.target.G()}this.Cc=f2.aaE($)}this.WA();this.hi()};eK.mixr.prototype.WA=function(){var i=f2.rs(this.Cc);
if(i.fY!=this.avV)this.KA.TD(i.fY?[[13,1,7]]:f2.lz);this.avV=i.fY;this.fY.t(i.fY);var $=(i.fY?0:this.KA.G())*5;
for(var t=0;t<4;t++)this.nb[t].t(i.L[$+(t<3?t:4)])};eK.post=function(){eK.call(this,"post");this.Kr.push(new is([4,1],2,255,null));
this.mR()};eK.post.prototype=new eK;eK.post.prototype.Dg=function(i,$){$[0]=i.Lvls.v};eK.post.prototype.vm=function(i,$){i.Lvls.v=$[0]};
eK.clrL=function(){eK.call(this,"clrL");this.Kr.push(new fi("LUTs"));this.mR()};eK.clrL.prototype=new eK;
eK.clrL.prototype.Dg=function(i,$){$[0]=i};eK.clrL.prototype.vm=function(i,$){var h=$[0];for(var d in h)i[d]=h[d]};
eK.clrL.prototype.aG=function(i,$){if($==dC.mW||$==dC.Cs)this.Kr[0].B8(i.acw)};eK.rplc=function(){eK.call(this,"rplc");
this.Kr.push(new is([12,92],0,200));this.Kr.push(new hD);this.Kr.push(new is([12,8],-180,180));this.Kr.push(new is([12,9],-100,100));
this.Kr.push(new is([12,10],-100,100));this.mR()};eK.rplc.prototype=new eK;eK.rplc.prototype.Dg=function(i,$){$[0]=i.Fzns.v;
$[1]=i.Mxm.v;$[2]=i.H.v;$[3]=i.Strt.v;$[4]=i.Lght.v};eK.rplc.prototype.vm=function(i,$){function h(K,f){f.Lmnc.v=K.GE;
f.A.v=K.Pi;f.B.v=K.Z}i.Fzns.v=$[0];i.H.v=$[2];i.Strt.v=$[3];i.Lght.v=$[4];var d=k.M.zk($[1]),K=k.Hq(d.o,d.P,d.Z);
h(K,i.Mnm.v);h(K,i.Mxm.v)};eK.fade=function(){eK.call(this,"fade");this.Kr.push(new is([12,0],0,100,"%"));
this.Kr.push(new ku([12,19,0],ca.UX,!1,ca.Uy));this.mR()};eK.fade.prototype=new eK;eK.fade.prototype.Dg=function(i,$){$[0]=i.Opct.v.val;
$[1]=ca.kD.indexOf(i.Md.v.BlnM)};eK.fade.prototype.vm=function(i,$){i.Opct.v.val=$[0];i.Md.v.BlnM=ca.kD[$[1]]};
eK.aply=function(){var i=ca.kD.concat(["Add","Sbtr"]);i.splice(21,1);var $=ca.UX.concat([[15,10,28],[15,10,21]]);
$.splice(21,1);var h=ca.Uy.slice(0);h[4]--;function d(){eK.call(this,"aply");this.Kr.push(new ku([0,3],[]));
this.Kr.push(new ku([12,4],["RGB"].concat(f2.lz).concat(["Transparency"])));this.Kr.push(new iD([4,11]));
this.Kr.push(new ku([12,19,0],$,!1,h));this.Kr.push(new is([12,0],0,100,"%"));this.Kr.push(new j6([12,38],1,2,null,2));
this.Kr.push(new j6([12,6],-255,255));this.Kr.push(new iD([13,5]));this.mR([2]);this.P5=null}d.prototype=new eK;
d.prototype.Dg=function(K,f,l){if(l){var u=l[2].B,U=this.P5=[];for(var t=0;t<u.length;t++){var y=u[t].getName();
U.push(y.length<30?y:y.slice(0,27)+"...")}U.reverse();this.Kr[0].TD([[5,7]].concat(U),[1,U.length])}else var U=this.P5;
K=K.With.v;var a=K.T.v;f[0]=a[1].t=="name"?1+U.indexOf(a[1].v.val):0;f[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(a[0].v.enum);
f[2]=K.Invr.v;var v=K.Clcl.v.Clcn;f[3]=i.indexOf(v);f[4]=K.Opct.v.val;f[5]=K.Scl.v;f[6]=K.Ofst.v;f[7]=K.PrsT.v};
d.prototype.vm=function(K,f){K=K.With.v;var l=K.T.v;if(f[0]==0)l[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else l[1]={t:"name",v:{classID:"Lyr",val:this.P5[f[0]-1]}};l[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][f[1]];
K.Invr.v=f[2];var u=K.Clcl.v.Clcn=i[f[3]];K.Opct.v.val=f[4];K.Scl.v=f[5];K.Ofst.v=f[6];K.PrsT.v=f[7];
var U=u=="Add"||u=="Sbtr";this.Kr[5].BH(U);this.Kr[6].BH(U)};return d}();eK.matc=function(){var i,$,h=0;
function d(){eK.call(this,"matc");this.Kr.push(new is("Luminance",1,200));this.Kr.push(new is("Color Intensity",1,200));
this.Kr.push(new is([2,11],0,100,"%"));this.Kr.push(new iD("Neutralize"));this.Kr.push(new ku([12,70],[]));
this.Kr.push(new ku([0,3],[]));this.mR([2])}function K(f,l){f.Kr[5].TD([[5,7]].concat(l),[1,l.length])}d.prototype=new eK;
d.prototype.Dg=function(f,l,u){h=0;l[0]=f.Lght.v;l[1]=f.ClrR.v;l[2]=f.Fade.v;l[3]=f.neutralizeColor?f.neutralizeColor.v:!1;
l[4]=l[5]=0;var U=f.Srce;if(U)U=U.v;if(u){i=[];$=[];var y=u[2],a=u[3];for(var t=0;t<a.length;t++){var v=a[t];
i.push(v.name);var c=v.B,p=[];$.push(p);for(var C=0;C<c.length;C++)p.push(c[C].getName());p.reverse()}this.Kr[4].TD([[13,1,0]].concat(i),[1,i.length]);
var T=a.indexOf(y);if(U)T=i.indexOf(U[1].v.val);K(this,$[T])}if(U){var E=i.indexOf(U[1].v.val);l[3]=h=1+E;
if(U[0].t=="name")l[4]=1+$[E].indexOf(U[0].v.val)}};d.prototype.vm=function(f,l){f.Lght.v=l[0];f.ClrR.v=l[1];
f.Fade.v=l[2];f.neutralizeColor.v=l[3];if(l[4]==0){f.noReference={t:"bool",v:!0};delete f.Srce}else{if(l[4]!=h){h=l[4];
K(this,$[l[4]-1])}delete f.noReference;var u={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},U=$[l[4]-1];
if(l[5]!=0)u={t:"name",v:{classID:"Lyr",val:U[l[5]-1]}};f.Srce={t:"obj ",v:[u,{t:"name",v:{classID:"Dcmn",val:i[l[4]-1]}}]}}};
return d}();function fQ(i,$){dq.call(this);if(i==null)return;this.id=$;this.u0=i;this.RZ=null;this.m=R.S("div","window "+$);
this.afv=null;this.Gt=R.S("div","whead");this.ayn=R.S("span","wname");this.Gt.appendChild(this.ayn);
this.agQ=!1;this.m.appendChild(this.Gt);this.W2=this.aua.bind(this);this.vb=this.aly.bind(this);this.p$=this.a2i.bind(this);
R.jA(this.Gt);R.K6(this.Gt,this.W2);this.af8=R.S("span","cross gsicon");this.Gt.appendChild(this.af8);
fQ.prototype.f.call(this);R.pq(this.af8,this.ajE.bind(this));this.body=R.S("div","body");this.m.appendChild(this.body)}fQ.prototype=new dq;
fQ.prototype.uq=function(){return!1};fQ.prototype.wL=function(){return!1};fQ.prototype.f=function(){if(this.u0==null)return;
this.ayn.textContent=e_.get(this.u0)};fQ.prototype.gE=function(i,$,h,d,K){};fQ.prototype.rQ=function(i,$,h,d,K){};
fQ.prototype.Zm=function(i,$,h,d,K){};fQ.prototype.IQ=function(i,$,h,d,K){};fQ.prototype.wI=function(i,$,h,d,K){};
fQ.prototype.PS=function(i,$,h,d){if(d.j(ai.iQ)&&this.KO)this.KO();if(d.j(ai.PO)){var K=new eU(x.E.s);
K.Ea=!0;D.qq.aiI(d,K);if(K.data)$.$(K)}};fQ.prototype.JL=function(i){return!1};fQ.prototype.Vl=function(i,$){return!0};
fQ.prototype.Ra=function(i,$,h,d){};fQ.prototype.aG=function(i,$){};fQ.prototype.Vv=function(i,$){return null};
fQ.prototype.asa=function(i){return this.afv};fQ.prototype.JQ=function(){};fQ.prototype.close=function(){this.$(new eU(x.E._y))};
fQ.prototype.aua=function(i){this.RZ=R.CJ(i,this.m);R.sM(window,this.vb);R.pq(window,this.p$)};fQ.prototype.aly=function(i){var $=this.m.parentNode,h=R.CJ(i,$),d=Math.round(h.x-this.RZ.x),K=$.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(h.y-this.RZ.y)));
this.afv=new cq(d,K);this.m.style.left=d+"px";this.m.style.top=K+"px"};fQ.prototype.a2i=function(i){R.Uq(window,this.vb);
R.hZ(window,this.p$)};fQ.prototype.ajE=function(i){if(this.agQ){this.KO();return}this.$(new eU("closebtn"));
this.close()};function dM(){fQ.call(this,"About Photopea","aboutpp");var i=R.S("div","flexrow");this.body.appendChild(i);
var $=this.a5W=R.S("img");i.appendChild($);this.body.setAttribute("style","margin:0; padding:0");var h=this.aww=R.S("div");
h.innerHTML=dM.$u;i.appendChild(h);var d=this.uy=R.S("span");d.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(d)}dM.prototype=new fQ;dM.prototype.Vv=function(i,$){return new cq(0,0)};dM.prototype.JQ=function(i,$){var h=this.a5W,d=this.aww,K=this.uy,f=(i+$-42-42)/110;
f=Math.sqrt((i-42)*($-42))/50;h.setAttribute("style","width:"+i/2+"px; height:"+$+"px; display:block; object-fit:cover;");
d.setAttribute("style","width:"+(i/2-42)+"px; height:"+($-42)+"px; padding:20px; font-size:"+f+"px;");
K.setAttribute("style","position:absolute;  bottom:10px; right:"+(i/2+10)+"px")};dM.prototype.f=function(){};
dM.prototype.Ra=function(i,$,h,d){this.a5W.setAttribute("src","promo/ivan_pp.webp")};dM.$u="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function aZ(){fQ.call(this,[0,13,0],"account");this.VX=R.S("div","form scrollable");this.body.appendChild(this.VX);
this.body.style.padding="0";this.rc=[new aZ.r2,new aZ.dR("::privacy.html"),new aZ.dR(aZ.aev)];for(var t=0;
t<this.rc.length;t++)this.rc[t].parent=this;this.h("showpage",this.abE,this)}aZ.prototype=new fQ;aZ.prototype.Vl=function(i,$){var h=navigator.onLine;
if(!h)alert("Go online first");return h};aZ.prototype.JQ=function(i,$){this.VX.setAttribute("style","width:"+Math.min(i-40,740)+"px;  height:"+($-38)+"px;  padding:1.5em;");
this.rc[0].JQ(i,$)};aZ.prototype.Vv=function(i,$){return new cq(Math.max(0,Math.min(150,(i-740)/2)),Math.max(0,Math.min(100,($-500)/2)))};
aZ.prototype.abE=function(i){R.J9(this.VX);this.VX.scrollTop=0;this.VX.appendChild(this.rc[i.data.zH].m)};
aZ.prototype.f=function(){fQ.prototype.f.call(this);for(var t=0;t<this.rc.length;t++)this.rc[t].f()};
aZ.prototype.Ra=function(i,$,h){if(!navigator.onLine)return;R.J9(this.VX);var d=this.rc[0];this.VX.appendChild(d.m);
d.Ra();this.f()};aZ.prototype.aG=function(i,$){this.Ra(null,null,null)};aZ.r2=function(){dq.call(this);
this.m=R.S("div");var i=this.m,u,U,a="font-size:1.25em;",v="text-align:center;",p="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",C="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",T="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",r=12;
this.Rc=R.S("div");i.appendChild(this.Rc);this.eh=new d_([0,11],!1,null,!0);this.eh.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.eh.h("click",this.O3,this);i.appendChild(this.eh.m);this.mN=new d_([0,13,1],!1,null,!0);this.mN.h("click",this.acU,this);
i.appendChild(this.mN.m);this.Wr=new d_("Business Terms",!1,null,!0);this.Wr.h("click",this.a2E,this);
i.appendChild(this.Wr.m);var $=R.S("div");$.style.margin="20px 0";i.appendChild($);var h=["Account Types","Go Premium","Team Settings","Distributors"],d=this.j3=[],K=this.ar_=[],f=this.Os=R.S("div");
i.appendChild(f);for(var t=0;t<h.length;t++){var l=R.S("span");l.textContent=h[t];$.appendChild(l);d.push(l);
l.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
l.addEventListener("click",this.Fa.bind(this));K.push(R.S("div"))}this.Fa(0);var y=this.abl="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
i=K[0];var U=R.S("table"),c="style=\" "+v+a+" padding-bottom:20px;\"";U.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+T+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+T+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+C+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
i.appendChild(U);var l=new d_("Go Premium");l.m.setAttribute("style",y+"padding:10px 0;");l.h("click",function(m){this.Fa(1)},this);
U.children[0].children[1].children[1].appendChild(l.m);this.h_=R.S("div");i.appendChild(this.h_);i=K[1];
var E=this.a44=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.Wb=[];for(var t=0;t<E.length;t++)this.Wb.push(new d_("Buy: $"+E[t][0],!1,null,!0));for(var t=0;
t<this.Wb.length;t++){this.Wb[t].h("click",this.ab3,this)}this.uw=new d_("...",!0);this.uw.m.setAttribute("style",y);
i.appendChild(this.uw.m);U=this.a5Z(4,["Single user",this.Wb[0],this.Wb[1],this.Wb[2],"Team of 5",this.Wb[3],this.Wb[4],this.Wb[5],"Team of 20",this.Wb[6],this.Wb[7],this.Wb[8],"Team of 50",this.Wb[9],this.Wb[10],this.Wb[11]]);
i.appendChild(U);this.ap8=new iD("I accept",!0,"");i.appendChild(this.ap8.m);this.WU=new d_([0,13,1],!1,null,!0);
this.WU.h("click",this.acU,this);i.appendChild(this.WU.m);this.JE=new d_("I have a key",!1,null,!0);
this.JE.m.setAttribute("style",y+" float:right; width:inherit;");this.JE.h("click",this.ab3,this);i.appendChild(this.JE.m);
i=K[2];this.xs=new hy;this.xs.parent=this;this.xs.h(x.E.r,this.EN,this);i.appendChild(this.xs.m);i=K[3];
this.ZI=new d_("...",!0);this.ZI.m.setAttribute("style",y);i.appendChild(this.ZI.m);U=this.a5Z(3,["1000 views/mo",this.Wb[r++],this.Wb[r++],this.Wb[r++],"5000 views/mo",this.Wb[r++],this.Wb[r++],this.Wb[r++],"20000 views/mo",this.Wb[r++],this.Wb[r++],this.Wb[r++]]);
i.appendChild(U);var Y=R.S("p");Y.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
i.appendChild(Y);this.yI=new at("Domain name (e.g. domain.com)",null,14);i.appendChild(this.yI.m);var S=new d_("Save Domain Settings",!1,null,!0);
S.rm();i.appendChild(S.m);S.h("click",this.aei,this)};aZ.r2.prototype=new dq;aZ.r2.prototype.Fa=function(i){var $=typeof i=="number"?i:this.j3.indexOf(i.target);
for(var t=0;t<4;t++)this.j3[t].style.opacity=.6;this.j3[$].style.opacity=1;R.J9(this.Os);this.Os.appendChild(this.ar_[$])};
aZ.r2.prototype.JQ=function(i,$){var h=i<600?"d":" days",d=["30 days","90 days","365 days"];if(i<600)d=["30d","90d","365d"];
var K=this.a44;for(var t=0;t<K.length;t++){this.Wb[t].L5("<span>"+d[t%3]+": <sup>$</sup><big><b>"+K[t][0]+"</b></big>"+"</span>");
this.Wb[t].m.setAttribute("style",this.abl)}};aZ.r2.prototype.acU=function(i){var $=new eU("showpage",!0);
$.data={zH:1};this.$($)};aZ.r2.prototype.a2E=function(i){var $=new eU("showpage",!0);$.data={zH:2};this.$($)};
aZ.r2.prototype.f=function(){this.eh.L5(jF.o4()?e_.get([0,11]):e_.get([0,10]));this.WU.f();this.mN.f();
this.Wr.f()};aZ.r2.prototype.alX=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.la,link:"https://www.photopea.com/api/accounts#"+(i.target==this.alR?"teams":"distributors")};
this.$($)};aZ.r2.prototype.a1D=function(i){var $=i.currentTarget==this.axs;this.axs.t($);this.a7v.t(!$)};
aZ.r2.prototype.aw_=function(i){var $=this.axs.G(),h=this.acs.G().trim().toLowerCase(),d=this.a6k.value.trim().toLowerCase();
if(h.length>60){alert("Too long email address");return}if(d.length>600){alert("Too many team members");
return}d=d.split(",").join(" ").trim();d=d.replace(/\s+/g," ");if(d=="")d=[];else d=d.split(" ");var K=jF.CI();
if(K==null)K={};if(K.acc==null)K.acc={};K.acc.team={jin:$,ldr:h,mmb:d};jF.JB(K,this.EN.bind(this));alert("Saved!");
this.Ra()};aZ.r2.prototype.aei=function(i){var $=this.yI.G().trim();if(!jF.o4()){alert("You have to log in first.");
return}if(jF.mv()==0){alert("Order a distributor account first.");return}var h=jF.CI();if(h==null)h={};
if(h.acc==null)h.acc={};if($=="")delete h.acc.dname;else h.acc.dname=$;jF.JB(h,this.EN.bind(this));alert("Saved!");
this.Ra()};aZ.r2.prototype.a8h=function(i){var $=jF.Ky(),t=this.LL,h=jF.CI();if(h==null)h={};if(h.acc==null)h.acc={};
h.acc.bto=i;jF.JB(h,function(){});var d=aZ.apF(i.split("\n"),$.pmnts[t]);bU.save(d,"photopea_invoice.pdf")};
aZ.r2.prototype.anO=function(i){var $=jF.Ky(),h=jF.CI(),d=h.acc?h.acc.bto:null;if(d==null)d=$.name+"\n"+$.email;
var t=-1,K=i.target.m.parentNode;while((K=K.previousSibling)!=null)t++;this.LL=t;var f=new eU(x.E.k,!0);
f.data={d:x.c.ZD,Kh:"billto",pp:d,Fg:this.a8h.bind(this)};this.$(f)};aZ.r2.prototype.Ra=function(){this.Rc.innerHTML="";
R.J9(this.h_);if(jF.o4()){var i=jF.Ky(),$=i.pmnts;if(i==null)return;this.Rc.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+i.name+"</span> "+i.email+" <br/>";
if($){var h="<h2>Payments</h2>";for(var t=0;t<$.length;t++){var d=$[t],K=new Date(d[0]*1e3);h+="<div style=\"font-size:1.2em\">"+K.getDate()+". "+(K.getMonth()+1)+". "+K.getFullYear()+" - "+aZ.a7o(d)+"</div>"}this.h_.innerHTML=h;
for(var t=0;t<$.length;t++){var f=new d_("Get Invoice",!1,null,!0);f.m.setAttribute("style","float:right");
f.h("click",this.anO,this);this.h_.children[t+1].appendChild(f.m)}}}else{}var l=jF.o4()&&jF.V9();this.uw.m.style.display=l?"block":"none";
if(l){var u,U,y=l;if(y[0]==0){u=jF.iB(y[1])-Date.now()*(1/1e3);U=y[1][2]==1?"Single User":"Team Of "+y[1][2]}else{u=y[1][1]-Date.now()*(1/1e3);
U="Member of \""+y[1][0]+"\""}this.uw.L5("Premium active for "+Math.round(u/(60*60*24))+" more days! ("+U+")")}var a=jF.o4()&&jF.mv()*1e3>Date.now();
this.ZI.m.style.display=a?"block":"none";if(a){var u=jF.mv()-Date.now()/1e3;this.ZI.L5("Distributor active for "+Math.round(u/(60*60*24))+" more days!")}var v=jF.CI();
this.xs.Ra();if(v&&v.acc&&v.acc.dname)this.yI.t(v.acc.dname);else this.yI.t("")};aZ.r2.prototype.a5Z=function(i,$){var h=R.S("table");
if(!0){var d="<table><tr>";for(var t=0;t<i;t++)d+="<th>"+$[t*4]+"</th>";d+="</tr></table>";h.innerHTML=d;
for(var t=0;t<3;t++){var K=R.S("tr"),f;h.appendChild(K);for(var l=0;l<i;l++){f=R.S("td");f.style.width=Math.round(100/i)+"%";
K.appendChild(f);f.appendChild($[l*4+1+t].m)}}}return h};aZ.r2.prototype.ab3=function(i){var $=this.Wb.indexOf(i.currentTarget),d=30,K=1;
if(!jF.o4()){this.O3();return}if(this.ap8.G()==!1&&$<12){alert("You must accept Terms of Service");return}var h=jF.o4()&&jF.V9();
if($!=-1){var f=this.a44[$];d=f[1];K=f[2]}if(h&&K<1e3){alert("You already have premium.");return}console.log(f,d,K);
if($==-1){var l=prompt("Please enter your key");if(l!=null){jF.aeE(l,this.EN.bind(this));this.Rm()}return}if(d==30&&K==1){var u=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!u)return}jF.order(d,K,this.EN.bind(this));this.Rm()};aZ.r2.prototype.EN=function(i){this.Ra();this.Rm()};
aZ.r2.prototype.O3=function(i){if(jF.o4()){jF.a3q();this.Rm();this.Ra(null,null,null)}else jF.O3(this.akG.bind(this))};
aZ.r2.prototype.akG=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.a57};this.$(i)};aZ.r2.prototype.Rm=function(){var i=new eU(x.E.k,!0);
i.data={d:x.c.awx};this.$(i)};aZ.dR=function(i){dq.call(this);this.m=R.S("div");var $=this.m,h=this.ao6=new d_([0,13,2],!1,null,!0),d;
h.h("click",this.a6T,this);$.appendChild(h.m);if(i.startsWith("::")){d=R.S("iframe");d.setAttribute("style","width:100%;height:1700px; background-color:white;");
d.setAttribute("src",i.slice(2))}else{d=R.S("div");d.innerHTML=i}$.appendChild(d)};aZ.dR.prototype=new dq;
aZ.dR.prototype.a6T=function(i){var $=new eU("showpage",!0);$.data={zH:0};this.$($)};aZ.dR.prototype.f=function(){this.ao6.f()};
aZ.aev="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
aZ.a7o=function(i){return"Photopea "+(i[1]<1e3?"Premium":"Distributor")+" ("+i[1]+" days, "+i[2]+" user"+(i[2]==1?"":"s")+")"};
aZ.apF=function(i,$){i=["Bill To:"].concat(i);var h=new ToPDF,d=595,K=842,f=40,l=18,u=12,U=500,y=100,a=400,T=0;
function v(V,I,q,X,B){p.font.Tf=B?"Helvetica-Bold":"Helvetica";p.ctm=[1,0,0,1,I,q];p.font.Tfs=X?X:u;
h.PutText(p,V,0)}function c(V,I,q,X){for(var t=0;t<V.length;t++){v(V[t],I,q-t*X,null,t==0)}}var p=UDOC.getState();
h.StartPage(0,0,d,K);v("INVOICE",d-f-140,K-f-30,30,!0);c(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],f,K-f-40,l);
var C=new Date($[0]*1e3);c(["Date: "+C.getDate()+". "+(C.getMonth()+1)+". "+C.getFullYear(),"Transaction ID: "+$[4]],d-f-140,K-f-40-l*2,l);
var E=i.join("");for(var t=0;t<E.length;t++)T=Math.max(T,E.charCodeAt(t));if(T>256){var r=4,Y=R.S("canvas"),S=Y.getContext("2d"),m=0;
S.font=u*r+"px sans-serif";for(var t=0;t<i.length;t++)m=Math.max(m,S.measureText(i[t]).width);var Q=Math.round(m)+20,z=i.length*r*l+20;
Y.width=Q;Y.height=z;S.font=u*r+"px sans-serif";for(var t=0;t<i.length;t++){S.font=(t==0?"bold ":"")+u*r+"px sans-serif";
S.fillText(i[t],10,(t+1)*r*l)}document.body.appendChild(Y);var n=new Uint8Array(S.getImageData(0,0,Q,z).data.buffer);
p.ctm=[Q/r,0,0,z/r,f-10/r,K-f-40-100-z/r];h.PutImage(p,n,Q,z);p.ctm=[1,0,0,1,0,0]}else c(i,f,K-f-40-100,l);
p.colr=[.8,.8,.8];p.pth={cmds:["M","L","L","L","Z"],crds:[f,U,d-f,U,d-f,U-l,f,U-l]};h.Fill(p);p.colr=[0,0,0];
var Z=[f,U,d-f,U,f,U-l,d-f,U-l,f,U-y,d-f,U-y,f,U,f,U-y,d-f,U,d-f,U-y,a,U,a,U-y],P=[];for(var t=0;t<Z.length;
t+=4)P.push("M","L");p.pth={cmds:P,crds:Z};h.Stroke(p);v("Order details",f+4,U-14);v(aZ.a7o($),f+4,U-l-14);
v("TOTAL:",f+4,U-y-14,null,!0);v("Price",d-f-50,U-14);v($[3]+" USD",d-f-60,U-l-14);v($[3]+" USD",d-f-60,U-y-14,null,!0);
v("www.Photopea.com",f,f);v("support@photopea.com",d-f-130,f);h.ShowPage();h.Done();return h.buffer};
function gq(){fQ.call(this,[11,14],"addguides");this.yM;this.RM={ZZ:{CP:0}};this.xh=null;var i=R.S("div","form");
this.body.appendChild(i);this.ty=new at([22,4,0],null,16);this.ty.h(x.E.r,this.Rz,this);this.aY=new at([22,4,1],null,16);
this.aY.h(x.E.r,this.Rz,this);this.km=new ku(null,k.TA.wU);this.km.h(x.E.r,this.Rz,this);i.appendChild(this.ty.m);
i.appendChild(this.km.m);R.k6(i);i.appendChild(this.aY.m);this.RR=R.Lg(this,i);this.h("closebtn",this.qD,this)}gq.prototype=new fQ;
gq.prototype.Vl=function(i,$){return i!=null};gq.prototype.uq=function(){return!0};gq.prototype.f=function(){fQ.prototype.f.call(this);
this.ty.f();this.aY.f();this.km.f();this.RR.f()};gq.prototype.aG=function(i,$){var h=i.ZZ.CP;this.RM.ZZ.CP=h;
this.km.t(h)};gq.prototype.Ra=function(i,$){this.yM=i;this.xh=JSON.stringify(i.KG());this.vF()};gq.prototype.vF=function(){var i=this.yM,$=i.C9,h=function(d,K,i,f,l){var u=[];
for(var t=0;t<d.length;t++)if(d[t][0]==K)u.push(k.TA.Iy(d[t][1],i._m,f,l));u.sort(function(U,y){return U-y});
return u.join(", ")};this.ty.t(h($,0,i,this.RM,i.e));this.aY.t(h($,1,i,this.RM,i.n))};gq.prototype.Rz=function(i){if(i&&i.currentTarget==this.km)this.RM.ZZ.CP=this.km.G();
else{var $=this.atI(),h=this.yM;h.N7($);h.nU=!0}this.vF()};gq.prototype.atI=function(){var i=[],$=[];
for(var h=0;h<2;h++){var d=h==0?this.ty:this.aY,K=h==0?this.yM.e:this.yM.n,f=d.G().replace(/,/g," ").replace(/  +/g," ").trim(),l=f==""?[]:f.split(" ");
for(var t=0;t<l.length;t++){i.push([h,k.TA.auR(l[t],this.yM._m,this.RM,K)]);$.push(-1)}}return[i,$]};
gq.prototype.qD=function(i){var $=this.yM;$.N7(JSON.parse(this.xh));$.nU=!0;this.yM=null};gq.prototype.KO=function(i){this.Rz(i);
var $=new eU(x.E.s,!0);$.b=D.MW;$.data={d:"gids",ZM:JSON.parse(this.xh),rO:this.yM.KG()};this.yM=null;
this.close();this.$($)};function ju(i){fQ.call(this,{pdfpres:"PDF Presentation"}[i],i);var $=R.S("div","form");
this.body.appendChild($);$.setAttribute("style","width:300px");this.An=new ff("Source Images",!0,!0);
$.appendChild(this.An.m);this.Vw=new ku([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
$.appendChild(this.Vw.m);this.cN=new iD("Order images by name");this.cN.t(!0);$.appendChild(this.cN.m);
var h=new d_(["VAR0 PDF",[1,8]],!0,null,!0);h.h("click",this.vN,this);$.appendChild(h.m)}ju.prototype=new fQ;
ju.prototype.vN=function(i){var $=this.An.G(),h=[],f=595,l=842,u=40;for(var d in $)h.push(d);if(h.length==0){alert("No images selected");
return}if(this.cN.G())h.sort();var K=this.Vw.G(),U=new ToPDF,y=UDOC.getState();for(var t=0;t<h.length;
t++){var d=h[t],a=$[d],v=a[0]==255,c=em.X0(a.buffer),p=em.Q_(c),C;if(c=="psd")C=b_.apG(a.buffer)[0];
else if(p.LW){alert(c.toUpperCase()+" can not be used.");continue}else C=p.u2(a.buffer)[0];var T=C.kp,E=new Uint8Array(C.data),r=T.e,Y=T.n,S=[[595,842],[842,595],[595,595],[595,0]][K];
if(K==3)S[1]=Math.round(S[0]*Y/r);var f=S[0],l=S[1],m=Math.min(f/r,l/Y);U.StartPage(0,0,f,l);y.ctm=[r*m,0,0,Y*m,(f-r*m)/2,(l-Y*m)/2];
U.PutImage(y,v?a:E,r,Y);U.ShowPage()}U.Done();bU.save(U.buffer,"file.pdf")};ju.prototype.f=function(){fQ.prototype.f.call(this);
this.An.f();this.Vw.f();this.cN.f()};function d2(i){var $=d1.names[i];if($==null)$=f2.names[i];if(i=="aply")$=[2,12];
if(i=="fade")$=[2,11];if(i=="matc")$=[4,18];if(i=="blendOptions")$=[14,10];fQ.call(this,$,"afw_"+i);
this.I_=i;this._c=null;this.Wt=null;this.Jd=new eK[i];this.Jd.h(x.E.r,this.hi,this);this.Jd.parent=this;
this.body.appendChild(this.Jd.m);this.cM=new iD([24,18,5]);this.cM.t(!0);this.cM.h(x.E.r,this.hi,this);
this.JS=new d_([1,12,2],!0,null,!0);this.JS.h("click",this.Gh,this);this.RR=R.Lg(this);if(this.ZR())this.Jd.D5(this.RR.m);
else{R.FK(this.Jd.m,"form");R.FK(this.body,"flexrow");this.Jd.m.setAttribute("style","width:312px");
var h=R.S("div");this.body.appendChild(h);h.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
h.appendChild(this.RR.m);h.appendChild(this.JS.m);h.appendChild(this.cM.m)}this.h("closebtn",this.Ti,this)}d2.prototype=new fQ;
d2.prototype.uq=function(){return!0};d2.prototype.ZR=function(){return this.Jd!=null&&this.Jd.wl()};
d2.prototype.Vv=function(){return this.ZR()?new cq(0,0):fQ.prototype.Vv()};d2.prototype.wL=function(){return this.Jd.wL()};
d2.prototype.gE=function(i,$,h,d,K){this.Jd.gE(i,$,h,d,K)};d2.prototype.Zm=function(i,$,h,d,K){this.Jd.Zm(i,$,h,d,K)};
d2.prototype.IQ=function(i,$,h,d,K){this.Jd.IQ(i,$,h,d,K)};d2.prototype.Vl=function(i,$){if(this.I_=="fade")return d2.aaV(i);
return!0};d2.prototype.Gh=function(i){this.Jd.t(d1.U9(this.I_));this.hi()};d2.prototype.hi=function(i){this.fW({d:"edit",Pr:this.Jd.G(),l5:!this.cM.G()})};
d2.prototype.Ti=function(i){this.fW({d:"cancel"})};d2.prototype.KO=function(i){if(!this.cM.G()){this.cM.t(!0);
this.hi()}this.Wt=this.Jd.G();if(this.ZR())this.hi();this.fW({d:"confirm"});this.close()};d2.prototype.f=function(){fQ.prototype.f.call(this);
this.cM.f();if(this.Jd)this.Jd.f();this.RR.f()};d2.prototype.aG=function(i,$){if(this.Jd)this.Jd.aG(i,$)};
d2.prototype.PS=function(i,$,h,d){if(this.ZR())this.Jd.PS(d);else fQ.prototype.PS.call(this,i,$,h,d)};
d2.prototype.Ra=function(i,$,h,d){this._c=$._c;var K=i.add.lnk2?i.add.lnk2:[],f,l,u=new bN(0,0,i.e,i.n),U=i.B[i.g[0]],y=null;
f=U.buffer;l=U.rect;if(this.ZR())y=i.Fy(i.g[0]-1);var a=d1.U9(this.I_),v=[K,i.kY,i,h];if($._c==null){this.Jd.t(a,f,l,u,y,v);
if(f2.names[this.I_]){if(d.j(ai.rf)&&this.Wt)this.Jd.t(this.Wt);var c=D.L1.getData(i),p=k.L_(c[0].tp);
this.Jd.rg(p)}}else{var C=!1,U=i.B[this._c.a];if(U.Hm()){var T=U.Hi(i);f=T.buffer;l=T.rect;var E=U.add.SoLd.filterFX.v.filterFXList.v;
if(E[this._c.index]){var r=E[this._c.index].v;this.Jd.t(this.I_=="blendOptions"?r.blendOptions.v:r.Fltr.v,f,l,u,y,v);
this.Jd.rg(k.L_(f));C=!0}}if(!C){this.Jd.t(a,f,l,u,y,v);this.Jd.rg(k.L_(f))}}if(!this.ZR()){this.hi();
var Y=this.Jd;if(Y&&Y.Kr&&Y.Kr[0]&&Y.Kr[0].RJ)Y.Kr[0].RJ()}};d2.prototype.fW=function(i){var $=new eU(x.E.s,!0);
i.I_=this.I_;i._c=this._c;$.data=i;$.b=d1.names[this.I_]||this._c?D.QE:D.xT;$.Ea=!0;this.$($)};d2.prototype.JQ=function(i,$){if(!this.Jd.wl()){}else{this.body.style.padding="0";
this.Jd.JQ(i,$)}};d2.aaV=function(i){if(i==null)return!1;var $=i.au();if($==null||!($.data instanceof Array)||$.data.length!=i.g.length)return!1;
for(var t=0;t<$.data.length;t++){var h=$.data[t];if(h.a<0&&i.kY[-1-h.a])return!0;if(h.a==null||i.B[h.a]==null||i.B[h.a].Tu!=h.uL)return!1;
if(i.g.indexOf(h.a)==-1)return!1}return!0};function c4(){fQ.call(this,[11,0],"camera");this.data=null;
this.wr=new cq(1,1);this.a1W=[];var i=R.S("div","form hbar");this.body.appendChild(i);this.aky=new ku(null,[]);
this.iT=new ku([21,0],[[21,2],[21,1]]);i.appendChild(this.iT.m);this.bC=new ku(null,[]);this.bC.h(x.E.r,this.aui,this);
i.appendChild(this.bC.m);this.rI=new d_([11,0],!1,null,!0);this.rI.h("click",this.asM,this);i.appendChild(this.rI.m);
this.SI=new ie("");i.appendChild(this.SI.m);this.stream=null;this.dc=R.S("video","");this.dc.setAttribute("autoplay","true");
this.body.appendChild(this.dc);this.a9z=this.axI.bind(this);this.ao$=this.arA.bind(this);this.alV=this.awy.bind(this);
this.h("closebtn",this.a21,this)}c4.prototype=new fQ;c4.prototype.f=function(){fQ.prototype.f.call(this);
this.iT.f();this.rI.f();this.JQ(this.DD,this.mJ)};c4.prototype.Fy=function(){var i=this.dc.videoWidth,$=this.dc.videoHeight,h=R.S("canvas","");
h.width=i;h.height=$;var d=h.getContext("2d");d.drawImage(this.dc,0,0,i,$);var K=d.getImageData(0,0,i,$);
return{kp:new bN(0,0,i,$),data:K.data.buffer}};c4.prototype.asM=function(i){if(this.iT.G()==0)this.aoV();
else this.atv()};c4.prototype.atv=function(){var i=this.Fy(),$={buffer:new Uint8Array(i.data),rect:i.kp},h=new eU(x.E.s,!0);
h.Ea=!0;h.b=D.$S;h.data={d:H.Xr,c_:$};this.$(h);alert(e_.get([21,4]))};c4.prototype.aoV=function(){var i=this.Fy(),$=em.hL("camera",[i]),h=new eU(x.E.k,!0);
h.data={d:x.c.T0,x3:$};this.$(h);alert(e_.get([21,5]))};c4.prototype.Ra=function(i,$,h){navigator.mediaDevices.enumerateDevices().then(this.a6f.bind(this))};
c4.prototype.a6f=function(i){var $=this.a1W=[],h=[];for(var t=0;t<i.length;t++)if(i[t].kind=="videoinput"){$.push(i[t]);
h.push("Camera "+$.length)}this.bC.TD(h);this.bC.t(0);this.aui()};c4.prototype.aui=function(i){this.a21();
var $={video:{deviceId:this.a1W[this.bC.G()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia($).then(this.a9z).catch(this.ao$);
else navigator.webkitGetUserMedia($,this.a9z,this.ao$)};c4.prototype.axI=function(i){this.stream=i;this.dc.srcObject=i;
this.dc.addEventListener("loadedmetadata",this.alV,!1)};c4.prototype.awy=function(i){this.dc.play();
this.JQ(this.DD,this.mJ)};c4.prototype.Vv=function(i,$){return new cq(0,0)};c4.prototype.JQ=function(i,$){var h=this.dc.videoWidth,d=this.dc.videoHeight;
this.SI.t(h+" x "+d+" px");this.SI.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.wr.WI(h,d);this.DD=i;this.mJ=$;var K=i-28,f=$-28-30,l=this.wr.x/this.wr.y;if(K/f>l)K=f*l;else f=K/l;
this.dc.setAttribute("style","display: block; width: "+Math.round(K)+"px; height:"+Math.round(f)+"px;")};
c4.prototype.arA=function(i){console.log("error",i);alert(e_.get([21,6]));this.close()};c4.prototype.a21=function(i){if(this.stream!=null){var $=this.stream.getTracks();
for(var t=0;t<$.length;t++)$[t].stop();this.stream=null}};function b7(){fQ.call(this,[7,8],"crange");
this.yM=null;this.lX={GE:73,Pi:4.45,Z:4};this.$d={GE:73,Pi:4.45,Z:4};this.body.style.width="20em";this.AK=new ku([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.AK.h(x.E.r,this.ari,this);this.body.appendChild(this.AK.m);this.$u=R.S("div","form");this.body.appendChild(this.$u);
var i=this.a6s=2,$=this.i5=[new is([12,92],0,200),new ee([12,36],[[18,0],"\uFF0B","-"]),new is([12,92],0,100,"%"),new j6("Min",0,255),new j6("Max",0,255)];
$[0].t(40);$[i].t(40);for(var t=0;t<$.length;t++){$[t].h(x.E.r,this.WA,this);$[t].parent=this}this.T=R.S("canvas");
this.body.appendChild(this.T);this.RR=R.Lg(this,this.body)}b7.prototype=new fQ;b7.prototype.Vl=function(i,$){return i!=null};
b7.prototype.wL=function(){return!0};b7.prototype.uq=function(){return!0};b7.prototype.ari=function(i){var $=this.AK.G(),h=this.i5,d=this.$u,K=0,f=h.length,l=this.a6s;
if($==0)f=l;else{K=l;h[K+1].t([0,100,190][$-1]);h[K+1].BH($!=1);h[K+2].t([60,150,255][$-1]);h[K+2].BH($!=3)}R.J9(d);
for(var t=K;t<f;t++){d.appendChild(h[t].m)}this.WA()};b7.prototype.f=function(){fQ.prototype.f.call(this);
this.RR.f();this.AK.f();for(var t=0;t<this.i5.length;t++)this.i5[t].f()};b7.prototype.gE=function(i,$,h,d,K){var f=i.u._x(K.x,K.y);
this.ay7(f.x,f.y)};b7.prototype.ay7=function(i,$){var h=Math.min,d=Math.max,K=this.yM,f=d(0,h(K.e-1,Math.floor(i))),l=d(0,h(K.n-1,Math.floor($))),u=K.Fy(),U=(l*K.e+f)*4,y=u[U],a=u[U+1],v=u[U+2],c=k.Hq(y,a,v),p=this.i5[1].G(),C=this.lX,T=this.$d;
if(p==0){this.lX=JSON.parse(JSON.stringify(c));this.$d=c}else if(p==1){C.GE=h(C.GE,c.GE);C.Pi=h(C.Pi,c.Pi);
C.Z=h(C.Z,c.Z);T.GE=d(T.GE,c.GE);T.Pi=d(T.Pi,c.Pi);T.Z=d(T.Z,c.Z)}else if(p==2){var E=(C.GE+T.GE)/2,r=(C.Pi+T.Pi)/2,Y=(C.Z+T.Z)/2;
if(c.GE<E)C.GE=d(C.GE,c.GE+10);else T.GE=h(T.GE,c.GE-10);if(c.Pi<r)C.Pi=d(C.Pi,c.Pi+1);else T.Pi=h(T.Pi,c.Pi-1);
if(c.Z<Y)C.Z=d(C.Z,c.Z+1);else T.Z=h(T.Z,c.Z-1)}this.WA()};b7.prototype.KO=function(i){var $=this.AK.G(),h=this.i5,d={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if($==0){var K=this.lX,f=this.$d;d.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:K.GE},A:{t:"doub",v:K.Pi},B:{t:"doub",v:K.Z}}};
d.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:f.GE},A:{t:"doub",v:f.Pi},B:{t:"doub",v:f.Z}}};d.Fzns={t:"long",v:h[0].G()}}else{$--;
var l=["shadows","midtones","highlights"][$];d.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][$]}};if(0<$)d[l+"LowerLimit"]={t:"long",v:h[3].G()};
if($<2)d[l+"UpperLimit"]={t:"long",v:h[4].G()};d[l+"Fuzziness"]={t:"long",v:h[2].G()}}this.close();var u=new eU(x.E.jm,!0);
u.data={Fs:"colorRange",B6:d};this.$(u)};b7.prototype.Ra=function(i,$){this.yM=i;this.ay7(0,0);this.ari()};
b7.prototype.WA=function(){var i=this.yM,$=this.AK.G(),h=this.lX,d=this.$d,K=this.i5,f=K[0].G()/200,l=!1;
if($>0){h=K[3].G();d=K[4].G();if(h>=d)h=d-1;l=!0;f=K[2].G()/100}var u=D.n1.Yb(i,h,d,f,l),U=u.rect,y=u.channel,a=this.T,v=a.getContext("2d"),c=Math.floor(230*R.V()),p=Math.floor(c*(U.n/U.e));
a.width=c;a.height=p;R.Tb(a,c,p);var C=k.Q(y.length*4);k.MK(C,4294967295);for(var t=0;t<3;t++)k.k1(y,C,t);
var T=D.vA.$V([C,U],new ej(c/U.e,0,0,p/U.n,0,0)),E=T.rect,r=new ImageData(new Uint8ClampedArray(T.buffer.buffer),E.e,E.n);
v.putImageData(r,0,0)};function hJ(){fQ.call(this,[12,76,1],"createshape");this.lT=null;var i=R.S("div","form");
i.setAttribute("style","width:20em");this.body.appendChild(i);this.sO=new j6([12,41],0,0,null,0,!1,!0);
i.appendChild(this.sO.m);R.k6(i);this.ty=new j6([12,42],0,0,null,0,!1,!0);i.appendChild(this.ty.m);R.k6(i);
this.tn=new iD([19,5,3]);i.appendChild(this.tn.m);this.sO.t(100);this.ty.t(100);this.RR=R.Lg(this,i)}hJ.prototype=new fQ;
hJ.prototype.KO=function(i){this.lT.a01(this.lT.avB,this.sO.G(),this.ty.G(),this.tn.G());this.close()};
hJ.prototype.f=function(){if(this.lT)this.u0=e_.get([5,3])+": "+e_.get(this.lT.arC);fQ.prototype.f.call(this);
this.RR.f();this.sO.f();this.ty.f();this.tn.f()};hJ.prototype.Ra=function(i,$){this.lT=$;this.f();this.sO.RJ()};
function c2(){fQ.call(this,[11,1],"colorpicker");this.jr=null;this.Xy=null;this.aF=null;this.d2=!1;this.NK=!1;
var i=R.S("div","flexrow"),f,l;this.body.appendChild(i);this.Nt=new f4(256,!0);this.Nt.h(x.E.r,this.AL,this);
i.appendChild(this.Nt.m);var $=R.S("div","form");$.setAttribute("style","width:14.5em; margin-left:1em;");
i.appendChild($);this.agC=R.S("div","full");$.appendChild(this.agC);this.ajx=R.S("div","full");$.appendChild(this.ajx);
var h=R.S("div","flexrow");$.appendChild(h);var d=R.S("div"),K=R.S("div");h.appendChild(d);h.appendChild(K);
f=["R","G","B"];l=d;this.wq=[];for(var t=0;t<3;t++){var u=new j6(f[t],0,255,null,0,!1,!0);this.wq.push(u);
u.h(x.E.r,this.auP,this);l.appendChild(u.m)}f=["H","S","B"];l=K;this.YS=[];for(var t=0;t<3;t++){var U=0,y=360,a="\xB0";
if(t!=0){y=100;a="%"}var u=new j6(f[t],U,y,a,0,!1,!0);this.YS.push(u);u.h(x.E.r,this.ado,this);l.appendChild(u.m)}this.ty=new at("Hex",null,6);
this.ty.h(x.E.r,this.QN,this);$.appendChild(this.ty.m);this.zd=R.S("input","fitem");this.zd.setAttribute("type","color");
this.zd.setAttribute("style","width:50px");this.zd.addEventListener("change",this.QN.bind(this),!1);
$.appendChild(this.zd);this.WB=new bE(9);this.WB.h(x.E.r,this.QN,this);$.appendChild(this.WB.m);this.RR=R.Lg(this,$);
this.h("closebtn",this.Ti,this);this.dJ=!1}c2.prototype=new fQ;c2.prototype.wL=function(){return!0};
c2.prototype.Vv=function(i,$){return new cq(Math.max(0,Math.min(150,(i-484)/2)),Math.max(0,Math.min(150,($-316)/2)))};
c2.prototype.JQ=function(i,$){this.Nt.JQ(Math.min(256,i-226),$)};c2.prototype.f=function(i,$){fQ.prototype.f.call(this);
for(var t=0;t<3;t++){this.wq[t].f();this.YS[t].f()}this.RR.f()};c2.prototype.AL=function(i){this.Xy=this.Nt.G();
this.update()};c2.prototype.gE=function(i,$,h,d,K){this.dJ=!0;this.afK(i,K)};c2.prototype.Zm=function(i,$,h,d,K){if(!this.dJ)return;
this.afK(i,K)};c2.prototype.IQ=function(i,$,h,d,K){this.dJ=!1};c2.prototype.afK=function(i,$){var h=D.Sv.rn(i,$,1),d=h&255,K=h>>8&255,f=h>>16&255;
this.Xy={o:f/255,P:K/255,Z:d/255};this.update()};c2.prototype.auP=function(i){var $=this.wq,h=this.xy(parseInt($[0].G())),d=this.xy(parseInt($[1].G())),K=this.xy(parseInt($[2].G()));
this.Xy={o:h/255,P:d/255,Z:K/255};this.update()};c2.prototype.ado=function(i){var $=this.YS,h=this.WZ(parseInt($[0].G())/360),d=this.WZ(parseInt($[1].G())/100),K=this.WZ(parseInt($[2].G())/100);
this.Xy=k.ub(h,d,K);this.update()};c2.prototype.QN=function(i){var $;if(i.currentTarget==this.WB)$=this.WB.G();
else{$=i.currentTarget==this.ty?this.ty.G():this.zd.value;if($.charAt(0)=="#")$=$.slice(1);if($.length==3)$=$[0]+$[0]+$[1]+$[1]+$[2]+$[2];
$=k.d1($)}this.Xy={o:($>>16&255)/255,P:($>>8&255)/255,Z:($&255)/255};this.update()};c2.prototype.ug=function(i){var $=i.o,h=i.P,d=i.Z;
return Math.round($*255)<<16|Math.round(h*255)<<8|Math.round(d*255)};c2.prototype.KO=function(i){this.an1();
var $=this.ug(this.Xy);this.aF($);this.close();this.NK=!1;this.Xy=null};c2.prototype.Ti=function(i){this.an1();
if(this.d2)this.aF(this.ug(this.jr));this.NK=!1;this.Xy=null};c2.prototype.an1=function(i){var $=new eU(x.E.k,!0);
$.data={d:x.c.awn};this.$($)};c2.prototype.aG=function(i,$){var h=bP.jI(i,$);if(h!=null)this.WB.t(h);
if($!=dC.xq)return;if(this.Xy!=null){this.Xy={o:(h>>16&255)/255,P:(h>>8&255)/255,Z:(h>>0&255)/255};this.update()}};
c2.prototype.Ra=function(i,$){var h=$.Co,d={o:(h>>16&255)/255,P:(h>>8&255)/255,Z:(h>>0&255)/255};if(this.Xy==null){var K=new eU(x.E.k,!0);
K.data={d:x.c.xY,hf:"crosshair",push:!0};this.$(K);this.dJ=!1;this.aF=$.gn;this.d2=!1;this.NK=$.Wg;this.jr=JSON.parse(JSON.stringify(d));
this.ajx.setAttribute("style","height:3em;background-color:#"+k._V(h)+";")}this.Xy=d;this.update()};
c2.prototype.update=function(){var i=this.Xy,$=this.ug(i),h=this.wq;h[0].t(Math.round(i.o*255));h[1].t(Math.round(i.P*255));
h[2].t(Math.round(i.Z*255));this.ty.t(k._V($));this.zd.value="#"+k._V($);this.agC.setAttribute("style","height:3em;background-color:#"+k._V($)+";");
var d=k._U(i.o,i.P,i.Z);h=this.YS;h[0].t(Math.round(d.mJ*360));h[1].t(Math.round(d.qc*100));h[2].t(Math.round(d.Pr*100));
this.Nt.t(i);if(this.NK){this.aF(this.ug(this.Xy));this.d2=!0}};c2.prototype.xy=function(i){return Math.max(0,Math.min(255,i))};
c2.prototype.WZ=function(i){return Math.max(0,Math.min(1,i))};function dE(){fQ.call(this,[11,2],"contoureditor");
this.ap9=null;this.Tf=null;this.response=null;this.NZ=R.S("div","cell");this.body.appendChild(this.NZ);
this.tL=R.S("div","cell padded");this.body.appendChild(this.tL);var i=R.S("div","bordered padded vmargin");
this.NZ.appendChild(i);this.Jd=new e4(null,null,!0);this.Jd.h(x.E.r,this.Ca,this);i.appendChild(this.Jd.m);
this.RR=R.Lg(this,this.tL);this.h("closebtn",this.ZY,this)}dE.prototype=new fQ;dE.prototype.KO=function(){this.close()};
dE.prototype.f=function(){fQ.prototype.f.call(this);this.RR.f();this.Jd.f()};dE.prototype.Ca=function(i){this.Tf.Crv.v=this.Jd.G();
this.response(this.Tf)};dE.prototype.ZY=function(i){this.response(this.ap9)};dE.prototype.Ra=function(i,$){this.ap9=JSON.parse(JSON.stringify($.Os));
this.Tf=$.Os;this.response=$.response;this.Jd.t(this.Tf.Crv.v)};function i1(){fQ.call(this,[11,3],"csize");
this.bB=0;this.VX=R.S("div","form");this.VX.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.VX);
this.Zu=new dt(!0,!0,!0,!0,!0);this.Zu.a7c(!1);this.VX.appendChild(this.Zu.m);this.x5=new ee("Align with",[[8,7],[12,6]]);
this.x5.h(x.E.r,this.aeH,this);this.MJ=new hu([12,23,2],41);this.VX.appendChild(this.MJ.m);this.MJ.t(4);
this.JP=new ez(!1);this.JP.a4t(new cq(0,0));this.RR=R.Lg(this,this.body)}i1.prototype=new fQ;i1.prototype.Vl=function(i,$){return i!=null};
i1.prototype.uq=function(){return!0};i1.prototype.JL=function(i){return[ai.RK,ai.Ju,ai.qO,ai.HF].indexOf(i)!=-1};
i1.prototype.PS=function(i,$,h,d){if(d.j(ai.iQ))this.KO();this.MJ.a0J(d.j$())};i1.prototype.aeH=function(){var i=[this.MJ.m,this.JP.m];
this.VX.removeChild(i[this.bB]);this.bB=this.x5.G();this.VX.appendChild(i[this.bB])};i1.prototype.f=function(){fQ.prototype.f.call(this);
this.Zu.f();this.x5.f();this.MJ.f();this.JP.f();this.RR.f()};i1.prototype.KO=function(i){var $=this.Zu.G(),h=$.x,d=$.y,K=new eU(x.E.jm,!0);
K.data=D.Xw.ake(h,d,this.MJ.G());this.close();this.$(K)};i1.prototype.Ra=function(i,$){this.Zu.t(new cq(i.e,i.n),i._m);
this.Zu.RJ()};function ig(){fQ.call(this,[11,4],"duplinto");this.g1=null;this.DC=null;this.wz=null;var i=R.S("div","form");
i.setAttribute("style","max-width:26em");this.body.appendChild(i);this.f_=new ku([12,43],["abc","def"]);
this.f_.h(x.E.r,this.cA,this);i.appendChild(this.f_.m);R.k6(i);this.EC=new ku([1,16,0],["abc","def"]);
this.EC.h(x.E.r,this.cA,this);i.appendChild(this.EC.m);R.k6(i);this.qQ=new at([12,48],null,14);i.appendChild(this.qQ.m);
this.RR=R.Lg(this,i)}ig.prototype=new fQ;ig.prototype.uq=function(){return!0};ig.prototype.f=function(){fQ.prototype.f.call(this);
this.RR.f();this.f_.f();this.qQ.f()};ig.prototype.cA=function(i){if(i&&i.target==this.EC)return;var $=this.f_.G(),h=this.DC[$],d=this.g1,K=h!=null&&h.add.artd!=null;
for(var t=0;t<d.g.length;t++)if(d.B[d.g[t]].add.artb)K=!1;this.qQ.BH($==this.DC.length);this.EC.BH(K);
if(K){var f=h.root.children,l=[],u=this.wz=[];for(var t=0;t<f.length;t++){var U=f[t].a;if(U.add.artb)l.push(U.getName());
u.push(f[t].index)}this.EC.TD(l);this.EC.t(0)}else this.wz=null};ig.prototype.Ra=function(i,$,h){this.g1=i;
this.DC=h;this.qQ.t(i.g.length==0?"Layer":i.B[i.g[0]].getName());var d=[];for(var t=0;t<h.length;t++){var K=h[t].name;
d.push(K.length<30?K:K.slice(0,27)+"...")}d.push([11,7]);this.f_.TD(d);this.f_.t(h.indexOf(i));this.cA(null)};
ig.prototype.KO=function(i){var $=this.f_.G();if($==this.DC.length){var h=new hR(this.qQ.G()+".psd"),d=this.g1.e,K=this.g1.n,f=this.g1.ii();
if(f!=-1){var l=this.g1.B[f].Ik();d=l.e;K=l.n}h.e=d;h.n=K;h.buffer=k.Q(h.e*h.n*4);var u=h.Dw();u.DN("Background");
h.Lq([u]);var U=new eU(x.E.k,!0);U.Ea=!0;U.data={d:x.c.T0,x3:h};this.$(U)}var y=this.g1.gM(null,this.g1!=this.DC[$]),U=new eU(x.E.s,!0);
U.data={d:H.Ux,B:y,ve:this.g1,Kl:this.DC[$]};if(this.wz)U.data.Ff=this.wz[this.EC.G()];U.b=D.$S;U.Ea=!0;
this.$(U);this.close()};function bF(){fQ.call(this,[1,9],"eassets");this.RM=null;this.pP=null;var i=R.S("div","form");
i.setAttribute("style","width:32em");this.body.appendChild(i);this.nT=R.S("span");i.appendChild(this.nT);
R.k6(i);this.Wi=[new iD("Only layers / folders, whose name starts with \"-e-\""),new iD("Remove parts outside the canvas"),new iD("Trim transparent parts")];
for(var t=0;t<3;t++){var $=this.Wi[t];$.t(!0);$.h(x.E.r,this.vF,this);i.appendChild($.m);R.k6(i)}this.cz=new fZ([12,14,0],["1x","2x","3x","4x"]);
this.cz.t([!0,!1,!1,!1]);i.appendChild(this.cz.m);R.Tq(i);this.$_=["PNG","JPG","SVG","TIFF","TGA"];this.qV=new ku([12,50],this.$_);
this.qV.h(x.E.r,this.anA,this);i.appendChild(this.qV.m);this.x4=new e7;i.appendChild(this.x4.m);this.RR=new d_([1,9],!0,null,!0);
this.RR.h("click",this.KO,this);i.appendChild(this.RR.m);this.h("closebtn",this.pm,this)}bF.prototype=new fQ;
bF.prototype.anA=function(i){this.x4.al2(this.$_[this.qV.G()],!1,!1,!1,this.pP.np()!=null)};bF.prototype.pm=function(i){this.pP=null};
bF.prototype.f=function(){fQ.prototype.f.call(this);this.qV.f();this.cz.f();this.RR.f();this.x4.f()};
bF.prototype.Ra=function(i,$,h){this.pP=i;this.vF()};bF.prototype.vF=function(i){var $=this.aw1(),h="- - - "+$.length+" exportable layers";
this.nT.textContent=h;this.anA(null)};bF.prototype.aw1=function(){var i=this.Wi[0].G(),$=[],h=this.pP;
for(var t=0;t<h.B.length;t++){var d=h.B[t],K=d.getName();if(!i&&!d.BT()&&!d.rect.NT()||K.startsWith("-e"))$.push(t)}return $};
bF.prototype.aG=function(i,$){this.RM=i};bF.prototype.KO=function(i){var $=this.pP,h=[this.$_[this.qV.G()]],d=[this.x4.G()],K=this.cz.G(),f={},l={},u=this.aw1();
if(u.length==0){alert("No layers to export.");return}var U=[this.Wi[1].G(),this.Wi[2].G()];for(var t=0;
t<u.length;t++){var y=u[t],a=$.B[y],v=a.getName();if(l[v]!=null){l[v]++;v+=" "+l[v]}else l[v]=1;var c=a.ji();
a.DJ(!0);for(var C=0;C<K.length;C++){if(!K[C])continue;var T=C+1,E=D.NN.ame($,h,T,this.RM,y,d,U);for(var r=0;
r<h.length;r++){var Y=h[r],S=v.slice(v.startsWith("-e-")?3:0)+(T==1?"":"@"+T+"x")+"."+Y.toLowerCase();
if(E[r])f[S]=new Uint8Array(E[r])}}a.DJ(c)}var m=UZIP.encode(f),Q=new eU(x.E.k,!0);Q.data={d:x.c.Sx,data:m,name:"assets.zip"};
this.$(Q)};function j7(){fQ.call(this,"Export Color Lookup Tables","exlut");this.RM=null;this.pP=null;
var i=R.S("div","form");i.setAttribute("style","width:20em");this.body.appendChild(i);this.Wi=[new j6("Grid Points",1,256),new ee([12,50],[".CUBE"])];
var $=[16,0];for(var t=0;t<this.Wi.length;t++){var h=this.Wi[t];h.t($[t]);h.parent=this;h.h(x.E.r,this.vF,this);
i.appendChild(h.m);R.k6(i)}this.RR=R.Lg(this,i);this.h("closebtn",this.pm,this)}j7.prototype=new fQ;
j7.prototype.Vl=function(i,$){if(Math.min(i.e,i.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(i.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};j7.prototype.pm=function(i){this.pP=null};j7.prototype.aG=function(i,$){this.RM=i};
j7.prototype.Ra=function(i,$,h){this.pP=i};j7.prototype.KO=function(){var i=this.pP,$=this.Wi[0].G(),h=[],d=new bN(0,0,i.e,i.n),K=k.Q($*$*4),f=K.slice(0),l=new bN(i.e-$>>>1,i.n-$>>>1,$,$),u=i.B[0],U=u.buffer,y=u.rect;
u.rect=l;u.buffer=K;for(var a=0;a<$;a++){this.arv($,a,K);u.U(l);i.U(l);var v=i.Fy();k.mC(v,d,f,l);for(var c=0;
c<$;c++)for(var p=0;p<$;p++){var C=c*$+p<<2;h.push(f[C]/255,f[C+1]/255,f[C+2]/255)}}var T=en.awO(h,$,i.name);
bU.save(T,i.name.split(".")[0]+".CUBE");u.buffer=U;u.rect=y;u.U();i.U()};j7.prototype.arv=function(i,$,h){var d=255/(i-1),K=Math.round($*d);
for(var f=0;f<i;f++)for(var l=0;l<i;l++){var u=f*i+l<<2;h[u]=Math.round(l*d);h[u+1]=Math.round(f*d);
h[u+2]=K;h[u+3]=255}};j7.prototype.f=function(){fQ.prototype.f.call(this);for(var t=0;t<this.Wi.length;
t++)this.Wi[t].f();this.RR.f()};function iG(){fQ.call(this,[1,14],"finfo");this.pE=null;this.v1=null;
this.sr=null;this.VX=R.S("div","form scrollable label12");this.VX.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.VX);var i=R.S("div","form");this.body.appendChild(i);this.Lv=new ku(null,["Hello"]);
i.appendChild(this.Lv.m);this.amk=new d_("Add Parameter",!1,null,!0);i.appendChild(this.amk.m);this.amk.h("click",this.yW,this);
this.A3=new d_("=== S A V E ===",!1,null,!0);i.appendChild(this.A3.m);this.A3.h("click",this.ak,this);
this.a5g=""}iG.prototype=new fQ;iG.prototype.Vv=function(i,$){return i<450||$<450?new cq(0,0):new cq(150,100)};
iG.prototype.yW=function(i){if(this.sr.length==0)return;var $=this.sr[this.Lv.G()],h=this.rZ();h[$]=aX.Tg[$][0];
this.nL(h);this.v1[$].m.scrollIntoView();this.v1[$].RJ()};iG.prototype.SC=function(i){var $=this.rZ();
delete $[i.currentTarget.aaN];this.nL($)};iG.prototype.ak=function(i){var $=this.rZ(),h=this.pE,d=!0;
for(var K in h)if(JSON.stringify(h[K])!=JSON.stringify($[K]))d=!1;for(var K in $)if(JSON.stringify(h[K])!=JSON.stringify($[K]))d=!1;
if(d)return;var f=new eU(x.E.s,!0);f.b=D.$S;f.data={d:H.lb,if:$};this.$(f);this.pE=$;this.nL($)};iG.aur=function(i){function $(K){var f=K.toLowerCase();
return K==f}var h=i.split(":").pop();for(var d=1;d<h.length-1;d++){if(h[d]==h[d].toUpperCase()&&($(h[d+1])||$(h[d-1]))){h=h.slice(0,d)+" "+h.slice(d);
d++}}return h};iG.prototype.Ra=function(i,$){this.pE=i.Y3;this.nL(i.Y3)};iG.prototype.nL=function(i){var $=this.VX,K=0;
R.J9($);var h=this.v1={},d=["tiff","exif","exif:GPS"],f=this.sr=[],l=[];for(var u in aX.Tg){var U=iG.aur(u),y=0,a=15,v=null;
if(i[u]==null){if(aX.Tg[u].length!=1||u=="photoshop:Credit"||u=="photoshop:Source"){f.push(u);l.push(U)}continue}for(var t=0;
t<d.length;t++)if(u.startsWith(d[t]))y=t;if(y!=K){R.Tq($);K=y}if(u=="tiff:ImageDescription"||u=="dc:Keywords"){a=18.5;
v=3}var c=new at(U,null,a,v);h[u]=c;var p=i[u];if(p instanceof Array)p=p[1]==0?"---":p[0]+"/"+p[1];var C=new d_("\u2716",null,e_.get([5,4]));
$.appendChild(C.m);C.h("click",this.SC,this);C.aaN=u;c.t(p);$.appendChild(c.m);R.k6($);if(u=="exif:GPSLongitude"&&i["exif:GPSLatitude"]){this.a5g=iG.a4W(i["exif:GPSLatitude"])+","+iG.a4W(i["exif:GPSLongitude"]);
var T=new d_("Show on map",!1,null,!0);$.appendChild(T.m);R.k6($);T.h("click",this.a9s,this)}}this.Lv.TD(l);
this.Lv.t(0)};iG.prototype.rZ=function(){var i=this.v1,$=aX.Tg,h={};for(var d in $){var K=$[d][0],f=typeof K;
if(K==null||i[d]==null)continue;var l=i[d].G(),u="The value of \""+iG.aur(d)+"\" must ";if(f=="number"){l=parseFloat(l);
if(isNaN(l)){alert(u+"be a number.");l=K}}else if(K instanceof Array&&K.length==2){if(l.indexOf("/")==-1){alert(u+"be a fraction.");
l=K.slice(0)}else{l=l.split("/").map(parseFloat);if(isNaN(l[0])||isNaN(l[1])){l=K.slice(0)}}}h[d]=l}return h};
iG.a4W=function(i){var $=i.length,h=i.slice(0,$-1).split(",").map(parseFloat),d=i.slice($-1),K=h[0]+h[1]/60+h[2]/3600;
if(d!="N"&&d!="E")K=-K;return K};iG.prototype.a9s=function(i){window.open("https://maps.google.com?q="+this.a5g,"Map")};
function gK(){fQ.call(this,[11,5],"gradienteditor");this.jr=null;this.Xy=null;this.BA=null;this.aF=null;
this.d2=!1;this.NK=!1;this.BS=null;this.cD=null;this.oj=-1;this.EP=-1;this.tK=0;this.UA=this.hJ.bind(this);
this.e6=this.Qw.bind(this);this.T=R.S("canvas");this.nl=this.T.getContext("2d");this.T.setAttribute("style","display:block");
this.Jr=null;R.jA(this.T);R.K6(this.T,this.io.bind(this));this.kz=R.S("div","form");this.vx=R.S("div");
this.$t=R.S("div","form");this.Is=R.S("div");this.eJ=new ku([12,44],[[15,10,0],[24,6]]);this.eJ.h(x.E.r,this.Jw,this);
this.body.appendChild(this.eJ.m);R.Tq(this.body);var i=this.kz;this._e=new j6([19,3,3],0,100,"%");this._e.h(x.E.r,this.Jw,this);
this._e.parent=this;i.appendChild(this._e.m);R.k6(i);this.Or=new ie([12,0]);i.appendChild(this.Or.m);
this.wS=R.S("div","bordered padded noalign");i.appendChild(this.wS);this.kJ=new j6([12,0],0,100,"%");
this.kJ.parent=this;this.kJ.h(x.E.r,this.Jw,this);this.wS.appendChild(this.kJ.m);this.O0=new j6([12,40],0,100,"%");
this.O0.parent=this;this.O0.h(x.E.r,this.Jw,this);this.wS.appendChild(this.O0.m);this.FI=new d_([5,4],!1,null,!0);
this.FI.h("click",this.aqi,this);this.wS.appendChild(this.FI.m);i.appendChild(this.vx);this.acQ=new ie([13,0]);
i.appendChild(this.acQ.m);this.V6=R.S("div","bordered padded noalign");i.appendChild(this.V6);this.RE=new ku([12,44],[[12,45],[12,46],[12,47]]);
this.RE.h(x.E.r,this.Jw,this);this.V6.appendChild(this.RE.m);this.Fo=new hD(!0);this.Fo.parent=this;
this.Fo.h(x.E.r,this.Jw,this);this.V6.appendChild(this.Fo.m);this.DY=new j6([12,40],0,100,"%");this.DY.parent=this;
this.DY.h(x.E.r,this.Jw,this);this.V6.appendChild(this.DY.m);this.ly=new d_([5,4],!1,null,!0);this.ly.h("click",this.akl,this);
this.V6.appendChild(this.ly.m);var i=this.$t;this.ei=new j6("Roughness",0,100,"%");this.ei.h(x.E.r,this.Jw,this);
this.ei.parent=this;i.appendChild(this.ei.m);i.appendChild(this.Is);this.cB=new d_([25,1,2],!1,null,!0);
this.cB.h("click",this.Jw,this);i.appendChild(this.cB.m);this.RR=R.Lg(this);this.h("closebtn",this.Ti,this)}gK.prototype=new fQ;
gK.prototype.Ti=function(i){if(this.d2)this.aF(this.jr)};gK.prototype.f=function(){fQ.prototype.f.call(this);
this.RR.f();this._e.f();this.Or.f();this.acQ.f();this.FI.f();this.ly.f();this.kJ.f();this.O0.f();this.RE.f();
this.DY.f();this.cB.f()};gK.prototype.aG=function(i,$){this.BA=i};gK.prototype.Ra=function(i,$){this.Xy=JSON.parse(JSON.stringify($.M));
this.jr=JSON.parse(JSON.stringify($.M));this.BS=this.cD=null;this.aF=$.gn;this.d2=!1;this.NK=$.Wg;this.jb();
this.UZ()};gK.prototype.KO=function(i){var $=this.Xy;this.aF($);this.close()};gK.prototype.JL=function(i){return i==ai.X1||i==ai.A9};
gK.prototype.PS=function(i,$,h,d){if(d.j(ai.X1)||d.j(ai.A9)){if(this.cD)this.aqi();if(this.BS)this.akl()}};
gK.prototype.aqi=function(i){var $=this.Xy.Trns.v;if(this.cD==null||$.length==1)return;$.splice($.indexOf(this.cD),1);
this.cD=null;this.jb();this.UZ()};gK.prototype.akl=function(i){var $=this.Xy.Clrs.v;if(this.BS==null||$.length==1)return;
$.splice($.indexOf(this.BS),1);this.BS=null;this.jb();this.UZ()};gK.prototype.jb=function(){var i=this.T,$=this.nl,h=R.V();
i.width=Math.floor(410*h);i.height=Math.floor(70*h);R.Tb(i,i.width,i.height);i.style.marginTop="8px";
this.Jr=new bN(0,0,Math.floor(380*h),Math.floor(32*h));this.Jr.x=Math.floor((i.width-this.Jr.e)/2);this.Jr.y=Math.floor((i.height-this.Jr.n)/2);
var d=this.Jr,K=d.e,f=d.n,l=d.x,u=d.y,U=new bN(0,0,K,f),y=$.getImageData(0,0,K,f),a=new Uint8Array(y.data.buffer);
k.by(a,K,f,8);var v=k.Q(K*f*4);k.M.f2(this.Xy,v,U,[1/K,0,0,1/f],K/2,f/2,!1,0,this.BA.Mz,this.BA.n9);
k.l.NU("norm",v,d,a,d,d,1);$.clearRect(0,0,i.width,i.height);$.putImageData(y,l,u);var c=this.Xy;if(c.Clrs){var p=c.Trns.v,C=c.Clrs.v,T=k.M._a(c,this.BA.Mz,this.BA.n9),E=Math.round(6*R.V()),r=Math.round(14*R.V()),Y=this.cD?this.cD.v:null,S=this.BS?this.BS.v:null;
for(var t=0;t<p.length;t++){var m=p[t].v,Q=Math.round(255-255*m.Opct.v.val/100);if((m==Y||p[t-1]&&p[t-1].v==Y||t==this.EP)&&t!=0){$.fillStyle="#000000";
$.fillRect(l-3+K*(p[t-1].v.Lctn.v+(m.Lctn.v-p[t-1].v.Lctn.v)*m.Mdpn.v/100)/4096,u-6-2,6,6)}if(m==Y){$.fillStyle="#ffffff";
$.fillRect(l-E+K*(m.Lctn.v/4096)-2,u-2-r-2,2*E+4,r+4)}$.fillStyle="rgb("+Q+","+Q+","+Q+")";$.fillRect(l-E+K*(m.Lctn.v/4096),u-2-r,2*E,r)}for(var t=0;
t<C.length;t++){var z=C[t].v,n=T[0][t][0];if((z==S||C[t-1]&&C[t-1].v==S||t==this.oj)&&t!=0){$.fillStyle="#000000";
$.fillRect(l-3+K*(C[t-1].v.Lctn.v+(z.Lctn.v-C[t-1].v.Lctn.v)*z.Mdpn.v/100)/4096,u+f+2,6,6)}if(z==S){$.fillStyle="#ffffff";
$.fillRect(l-E+K*(z.Lctn.v/4096)-2,u+f+2-2,2*E+4,r+4)}$.fillStyle="rgb("+Math.round(n.o)+", "+Math.round(n.P)+","+Math.round(n.Z)+")";
$.fillRect(l-E+K*(z.Lctn.v/4096),u+f+2,2*E,r)}}if(this.NK){this.aF(this.Xy);this.d2=!0}};gK.prototype.UZ=function(){var i=this.Xy,$=i.Clrs?0:1;
this.eJ.t($);if(R.bT(this.kz))this.body.removeChild(this.kz);if(R.bT(this.$t))this.body.removeChild(this.$t);
($==0?this.vx:this.Is).appendChild(this.T);if($==0){this.body.appendChild(this.kz);this._e.t(Math.round(100*i.Intr.v/4096));
var h=i.Trns.v,d=i.Clrs.v,K=this.cD!=null,f=this.EP!=-1;this.kJ.BH(K);this.O0.BH(K||f);this.FI.BH(K);
if(K){this.wS.setAttribute("style","");var l=this.cD.v;this.O0.t(Math.round(100*l.Lctn.v/4096));this.kJ.t(l.Opct.v.val)}if(f)this.O0.t(h[this.EP].v.Mdpn.v);
var K=this.BS!=null,f=this.oj!=-1;this.RE.BH(K);this.Fo.BH(K);this.DY.BH(K||f);this.ly.BH(K);if(K){this.V6.setAttribute("style","");
var u=this.BS.v;this.DY.t(Math.round(100*u.Lctn.v/4096));var U=u.Type.v.Clry;this.RE.t(["FrgC","BckC","UsrS"].indexOf(U));
if(U=="FrgC")this.Fo.gh(this.BA.Mz);if(U=="BckC")this.Fo.gh(this.BA.n9);if(U=="UsrS")this.Fo.t(u.Clr.v)}if(f)this.DY.t(d[this.oj].v.Mdpn.v)}else{this.body.appendChild(this.$t);
this.ei.t(Math.round(100*i.Smth.v/4096))}this.body.appendChild(this.RR.m)};gK.prototype.Jw=function(i){var $=this.Xy,h=$.Clrs?0:1;
if(i.target==this.eJ){var d=h==0?JSON.parse(et.Rq.au1).v:d1.U9("grdm").Grad.v;this.Xy=d;this.UZ();this.jb();
return}if(h==0){$.Intr.v=Math.round(4096*this._e.G()/100);var K=$.Trns.v,f=$.Clrs.v;if(this.cD!=null){var l=this.cD.v;
l.Lctn.v=Math.round(4096*(this.O0.G()/100));l.Opct.v.val=this.kJ.G()}if(this.BS!=null){var u=this.BS.v;
u.Lctn.v=Math.round(4096*(this.DY.G()/100));if(i.target==this.Fo)this.RE.t(2);var U=this.RE.G();u.Type.v.Clry=["FrgC","BckC","UsrS"][U];
if(U==2)u.Clr={t:"Objc",v:this.Fo.G()};else if(u.Clr)delete u.Clr}if(this.EP!=-1)K[this.EP].v.Mdpn.v=this.O0.G();
if(this.oj!=-1)f[this.oj].v.Mdpn.v=this.DY.G()}else{$.Smth.v=Math.round(4096*this.ei.G()/100);if(i.target==this.cB)$.RndS.v=Math.floor(Math.random()*4294967295)}this.jb()};
gK.prototype.io=function(i){var $=R.CJ(i,this.T),h=this.Jr,d=($.x*R.V()-h.x)/h.e,K=($.y*R.V()-h.y)/h.n,f=this.Xy.Trns.v,l=this.Xy.Clrs.v,u=null,U=null,y=-1,a=-1;
if(K<1)for(var t=0;t<f.length;t++){var v=f[t].v;if(Math.abs(v.Lctn.v/4096-d)<.02)u=f[t];if(t>0)if(Math.abs((f[t-1].v.Lctn.v+(v.Lctn.v-f[t-1].v.Lctn.v)*v.Mdpn.v/100)/4096-d)<.01)y=t}if(K>0)for(var t=0;
t<l.length;t++){var c=l[t].v;if(Math.abs(c.Lctn.v/4096-d)<.02)U=l[t];if(t>0)if(Math.abs((l[t-1].v.Lctn.v+(c.Lctn.v-l[t-1].v.Lctn.v)*c.Mdpn.v/100)/4096-d)<.01)a=t}if(U==null&&u==null&&y==-1&&a==-1){if(K<0){var v={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
v.v.Lctn.v=Math.round(d*4096);f.push(v);f.sort(this.df);u=v}if(K>1){var l=this.Xy.Clrs.v,p=k.M._a(this.Xy,this.BA.Mz,this.BA.n9),C=k.M.qY(this.Xy,p,d),c={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:k.M.Aw({o:C&255,P:C>>8&255,Z:C>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
c.v.Lctn.v=Math.round(d*4096);l.push(c);l.sort(this.df);U=c}}if(U!=null)a=-1;if(u!=null)y=-1;if(U!=null||u!=null||y>-1||a>-1){this.cD=u;
this.BS=U;this.EP=y;this.oj=a;this.UZ();this.jb();R.sM(window,this.UA);R.pq(window,this.e6)}};gK.prototype.hJ=function(i){var $=R.CJ(i,this.T),h=this.Jr,d=($.x*R.V()-h.x)/h.e,K=($.y*R.V()-h.y)/h.n;
d=Math.max(0,Math.min(1,d));var f=this.Xy.Trns.v,l=this.Xy.Clrs.v;if(this.cD!=null){var u=this.cD.v;
u.Lctn.v=Math.round(4096*d);var U=f.indexOf(this.cD);if(U!=-1&&K<-1&&f.length>1)f.splice(U,1);if(U==-1&&K>-1)f.push(this.cD);
f.sort(this.df)}if(this.BS!=null){var y=this.BS.v;y.Lctn.v=Math.round(4096*d);var a=l.indexOf(this.BS);
if(a!=-1&&K>2&&l.length>1)l.splice(a,1);if(a==-1&&K<2)l.push(this.BS);l.sort(this.df)}if(this.EP>-1){var u=f[this.EP].v;
u.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(d*4096-f[this.EP-1].v.Lctn.v)/(u.Lctn.v-f[this.EP-1].v.Lctn.v))))}if(this.oj>-1){var y=l[this.oj].v;
y.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(d*4096-l[this.oj-1].v.Lctn.v)/(y.Lctn.v-l[this.oj-1].v.Lctn.v))))}if(this.cD!=null||this.BS!=null||this.EP>-1||this.oj>-1){this.UZ();
this.jb()}};gK.prototype.Qw=function(i){R.Uq(window,this.UA);R.hZ(window,this.e6);if(Date.now()-this.tK<300){if(this.oj!=-1||this.EP!=-1){var $=(this.oj!=-1?this.Xy.Clrs.v[this.oj]:this.Xy.Trns.v[this.EP]).v;
$.Mdpn.v=50;this.UZ();this.jb()}else if(this.BS!=null)this.Fo.Yi()}this.tK=Date.now()};gK.prototype.df=function(i,$){return i.v.Lctn.v-$.v.Lctn.v};
function ii(){fQ.call(this,[11,10],"isize");this.VX=R.S("div","form");this.VX.setAttribute("style","width:20em");
this.body.appendChild(this.VX);this.Zu=new dt(!0,!0,null,null,!0);this.VX.appendChild(this.Zu.m);this.jB=new iD([12,25,3]);
this.jB.t(!0);this.VX.appendChild(this.jB.m);this.jB.h(x.E.r,this.ao3,this);this.LB=new ku([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.LB.t(1);this.VX.appendChild(this.LB.m);this.RR=R.Lg(this,this.body)}ii.prototype=new fQ;ii.prototype.Vl=function(i,$){return i!=null};
ii.prototype.uq=function(){return!0};ii.prototype.ao3=function(i){var $=this.jB.G(),h=this.Zu,d=this.LB;
if($)d.wA();else d.eI();h.aj1($)};ii.prototype.f=function(){fQ.prototype.f.call(this);this.jB.f();this.RR.f();
this.LB.f();this.Zu.f()};ii.prototype.KO=function(i){this.close();var $=this.Zu.G(),h=$.x,d=$.y,K=this.LB.G();
if(!this.jB.G())K=null;var f=new eU(x.E.jm,!0);f.data=D.Xw.aaW(h,d,this.Zu.ku(),K);this.$(f)};ii.prototype.Ra=function(i,$){this.Zu.t(new cq(i.e,i.n),i._m);
this.Zu.RJ()};function be(){fQ.call(this,"Import RAW","importraw");var i=R.S("div","flexrow"),$=R.S("div");
$.setAttribute("style","margin-bottom: 1em");this.body.appendChild(i);this.body.appendChild($);var h=R.S("div","form");
h.setAttribute("style","width:18em");i.appendChild(h);var d=R.S("div","form");d.setAttribute("style","width:15em");
i.appendChild(d);this.lT=null;this.w4=null;this.eO=null;this.GX=null;this.age=[];var K=[];for(var t=0;
t<be.f$.length;t++)K.push(be.f$[t]+" Bits");var f=this.y_=[new dt(!0,null,null,!0),new j6([12,72],1,8),new iD("Last one is Transparency"),new ee([12,34],K),new ee("Byte Order",["12-34","34-12"]),new ku("Guesses",[])];
for(var t=0;t<f.length;t++){var l=f[t];l.parent=this;l.h(x.E.r,t==5?this.auI:this.cA,this);var u=t==0?h:t==5?$:d;
u.appendChild(l.m)}this.T=R.S("canvas");this.nl=this.T.getContext("2d");this.body.appendChild(this.T);
this.RR=R.Lg(this,this.body)}be.prototype=new fQ;be.prototype.f=function(){fQ.prototype.f.call(this);
var i=this.y_;this.RR.f();for(var t=0;t<i.length;t++)i[t].f()};be.prototype.KO=function(i){this.close();
var $=this.y_[0].G(),h=em.hL(this.w4,[{data:this.eO,kp:new bN(0,0,$.x,$.y)}]);if(this.GX)h.kY=this.GX;
var d=new eU(x.E.k,!0);d.data={d:!0?x.c.T0:x.c.PY,x3:h};this.$(d)};be.f$=[8,16];be.prototype.Ra=function(i,$){this.lT=new Uint8Array($.X8);
this.w4=$.Wo;var h=this.lT.length,d=[1,3,4],K=0,f=0,l=1,u=1,U=this.age=[];for(var y=0;y<3;y++){for(var a=0;
a<2;a++){var v=be.f$[a],c=d[y],p=c*v,C=Math.round(h*8/p);if(C!=h*8/p)continue;for(var T=0;T<=4e3;T++)for(var E=0;
E<=4e3;E++)if(T*E==C){var r=0;if(T==E)r+=64;if(Math.round(T/100)==T/100&&Math.round(E/100)==E/100)r+=32;
if(Math.round(T/10)==T/10&&Math.round(E/10)==E/10)r+=16;if(Math.round(T/2)==T/2&&Math.round(E/2)==E/2)r+=8;
U.push([T,E,c,v,r])}}}var Y=function(z,n){if(n[4]!=z[4])return n[4]-z[4];var Z=Math.max(z[0],z[1])/Math.min(z[0],z[1]),P=Math.max(n[0],n[1])/Math.min(n[0],n[1]);
if(Z!=P)return Z-P;return n[0]-z[0]};U.sort(Y);var S=this.y_,m=[];for(var t=0;t<U.length;t++){var Q=U[t];
m.push(Q[0]+" x "+Q[1]+", "+Q[2]+"ch, "+Q[3]+"-bit")}S[5].TD(m);S[5].t(0);this.auI(null)};be.prototype.auI=function(i){var $=this.y_,h=this.age[this.y_[5].G()];
$[0].t(new cq(h[0],h[1]),72);$[1].t(h[2]);$[3].t(be.f$.indexOf(h[3]));this.cA()};be.prototype.cA=function(i){var $=this.y_,h=$[0].G(),d=h.x,K=h.y,f=be.f$[$[3].G()],l=this.lT;
if(f==16&&$[4].G()==1){l=l.slice(0);for(var t=0;t<l.length;t+=2){var u=l[t];l[t]=l[t+1];l[t+1]=u}}var U=this.eO=this.u2(l,d,K,$[1].G(),f,$[2].G()),y=this.T,a=this.nl,v=[U,new bN(0,0,d,K)];
k.SL(v);for(var t=0;t<v.length;t+=2)if(v[t+1].n<300){U=v[t];d=v[t+1].e;K=v[t+1].n;break}y.width=d;y.height=K;
R.Tb(y,d,K);var c=new ImageData(new Uint8ClampedArray(U.buffer),d,K);a.putImageData(c,0,0)};be.prototype.u2=function(i,$,h,d,K,f){this.GX=null;
var l=[],u=$*h;for(var U=0;U<d;U++){var y=k.Q(u);l.push(y);if(K==8)for(var t=0;t<u;t++)y[t]=i[t*d+U];
else if(K==16)for(var t=0;t<u;t++)y[t]=Math.round((i[(t*d+U)*2]<<8|i[(t*d+U)*2+1])*(255/65535))}var a=k.Q(u*4);
new Uint32Array(a.buffer).fill(4278190080);if(f){k.k1(l.pop(),a,3);d--}if(d==0){}else if(d==1)k.ai(l[0],a);
else{k.k1(l[0],a,0);k.k1(l[1],a,1);if(d>2){k.k1(l[2],a,2);if(d>3){this.GX=[];for(var t=3;t<d;t++){var v=new H.k$;
v.name="Alpha "+(t-2);v.rect=new bN(0,0,$,h);v.channel=l[t];this.GX.push(v)}}}}return a};function dA(i,$,h){dq.call(this);
this.m=R.S("div","");this.kD=i;this.K9=null;this.TX=$==null?!1:$;this.vq=null;this.Ic=h;this.o9=[];this.r9=[];
this.DO=[];this.In=[];this.B4=0;this.K9=this.afi(dA.In[i]);this.mR();this.IP=null;this.ao_;this.awQ}dA.prototype=new dq;
dA.prototype.gE=function(i,$,h,d,K){this.IP=K;this.ao_=JSON.parse(JSON.stringify(this.vq));if(this.K9.lagl)this.awQ=this.K9.lagl.G()[0]};
dA.prototype.Zm=function(i,$,h,d,K){var f=this.IP,l=this.kD,u=this.ao_;if(f==null)return;var U=(K.x-f.x)/i.u.N,y=(K.y-f.y)/i.u.N;
if(l=="GrFl"){var a=JSON.parse(JSON.stringify(u.Ofst.v));a.Hrzn.v.val+=U*.5;a.Vrtc.v.val+=y*.5;this.K9.Ofst.t(a,!0)}if(l=="patternFill"){var a=JSON.parse(JSON.stringify(u.phase.v));
a.Hrzn.v+=U;a.Vrtc.v+=y;this.K9.phase.t(a,!0)}if(l=="DrSh"||l=="IrSh"||l=="ChFX"){var v=u.Dstn.v.val,c=this.awQ*Math.PI/180,p=-Math.cos(c)*v+U,C=Math.sin(c)*v+y;
this.K9.Dstn.t(Math.sqrt(p*p+C*C),!0);this.K9.lagl.t([Math.atan2(C,-p)*180/Math.PI],!0)}};dA.prototype.IQ=function(i,$,h,d,K){this.IP=null};
dA.prototype.a1r=function(){for(var t=0;t<this.In.length;t++){R.jE(this.In[t],"selected");if(this.DO[t]instanceof iD)this.DO[t].t(!1)}};
dA.prototype.akd=function(i){var $=this.a0k.bind(this);for(var t=0;t<this.DO.length;t++){var h=R.S("div","listitem");
this.In.push(h);if(t>0)h.textContent="\u2003";h.appendChild(this.DO[t].m);if(et.aen.indexOf(this.kD)!=-1){var d=new d_("+");
d.rm();d.m.style.float="right";h.appendChild(d.m);var K=new d_("\u2B0D");K.rm();K.m.style.float="right";
K.m.style["margin-right"]="2px";h.appendChild(K.m)}h.addEventListener("click",$,!1);i.appendChild(h)}};
dA.Vm=function(i,$){var h=$.getBoundingClientRect();return(i.clientY-h.top)/h.height};dA.prototype.a0k=function(i){var $=i.target.tagName.toLowerCase();
if($=="input"){return}if($=="button"){var h=new eU(x.E.s,!0),d=i.target.textContent=="+",K=d?0:dA.Vm(i,i.target)<.5?-1:1;
if(d)h.data={d:"st_dupsingle",a:this.parent.data.a,cK:this.Ic};else h.data={d:"st_movsingle",a:this.parent.data.a,cK:this.Ic,a1b:K};
h.b=D.s1;h.Ea=!0;this.$(h);h=new eU("redrawall",!0);h.data={a1b:K};this.$(h);return}R.ZY(i);this.ux();
this.B4=this.In.indexOf(i.currentTarget);this.$(new eU("showme"))};dA.prototype.ux=function(){if(this.K9.enab&&this.K9.enab.G()==!1)this.fW({lL:"enab",L:!0})};
dA.prototype.acr=function(){var i=this.In[this.B4];if(i)R.FK(i,"selected");return this.r9[this.B4]};
dA.prototype.afi=function(i){var $={};for(var t=0;t<i.length;t++){var h=i[t],d=null;if(h=="----")d={m:R.S("hr")};
if(h=="\n")d={m:R.S("br")};if(h=="blOptions")d=new ie([14,10]);if(h=="brst")d=new fZ([12,72],["R","G","B"]);
if(h=="knko")d=new ku("Knockout",[[13,1,0],"Shallow","Deep"]);if(h=="enab")d=new iD(et.names[et.order.indexOf(this.kD)]);
if(h=="lrMd"||h=="Md")d=new ku([12,19,0],ca.UX,!1,ca.Uy);if(h=="Opct")d=new fI([12,0],0,100,"%");if(h=="iOpa")d=new fI([12,26],0,100,"%");
if(h=="blIf")d=new gA;if(h=="ShdN")d=new fI([12,68],0,100,"%");if(h=="lagl"||h=="Angl")d=new fM([12,15],this.kD=="ebbl");
if(h=="uglg")d=new iD([12,27]);if(h=="Dstn")d=new fI([12,28],0,200,"px");if(h=="Ckmt")d=new fI([12,29],0,100,"%");
if(h=="blur")d=new fI([12,14,0],0,200,"px");if(h=="TrnS"||h=="MpgS")d=new g7([12,21]);if(h=="Nose")d=new fI([12,30],0,100,"%");
if(h=="layerConceals")d=new iD([12,31]);if(h=="AntA"||h=="antialiasGloss")d=new iD([12,25,1]);if(h=="GlwT")d=new ku([12,32],et.mI.names);
if(h=="glwS")d=new ku([12,70],et.mI.a8H);if(h=="Inpr")d=new fI([12,12],1,100,"%");if(h=="bvlS")d=new ku([12,22],et.w5.style);
if(h=="bvlT")d=new ku([12,32],et.w5.a4o);if(h=="bvlD")d=new ku(null,et.w5.dir);if(h=="srgR")d=new fI([12,34],0,1e3,"%");
if(h=="Sftn")d=new fI([12,35],0,20,"px");if(h=="Lald")d=$.lagl;if(h=="hglM"||h=="sdwM")d=new ku([12,36],ca.UX,!1,ca.Uy);
if(h=="hglC"||h=="sdwC")d=new hD;if(h=="hglO"||h=="sdwO")d=new fI([12,0],0,100,"%");if(h=="Invr"||h=="InvT")d=new iD([4,11]);
if(h=="Sz")d=new fI([12,14,0],1,200,"px");if(h=="Styl")d=new ku([12,40],et.stroke.names);if(h=="PntT")d=new ku([12,66],et.stroke.aoc);
if(h=="Clr")d=new hD(!0);if(h=="Grad"){d=new gh(!0,[12,37],!0);d.t(JSON.parse(et.Rq.a7y).v)}if(h=="Rvrs")d=new iD([12,23,0]);
if(h=="Dthr")d=new iD([12,23,3]);if(h=="Type")d=new ku([12,22],et.M.names.slice(0,this.kD=="FrFX"?6:5));
if(h=="Ptrn")d=new h6([12,62]);if(h=="Scl")d=new fI([12,38],5,500,"%",0,!0);if(h=="Algn")d=new iD([12,39]);
if(h=="Ofst")d=new ez(!0);if(h=="phase")d=new ez(!1);if(h=="useShape")d=new iD([12,21]);if(h=="useTexture")d=new iD([12,67]);
if(h=="textureDepth")d=new fI([12,34],-300,300,"%");var K=h=="----"||h=="\n"?h+t:h;if(d!=null)$[K]=d}return $};
dA.prototype.ahv=function(i){var $=this.r9[this.B4];for(var t=0;t<i.length;t++){var h=this.K9[i[t]];
if(h&&$.contains(h.m))$.removeChild(h.m)}};dA.prototype.a8n=function(i){var $=this.r9[this.B4];for(var t=0;
t<i.length;t++){var h=this.K9[i[t]];if(h&&!$.contains(h.m))$.appendChild(h.m)}};dA.prototype.aG=function(i,$){if(this.K9==null)return;
var h=$==dC.mW;if(this.K9.Grad){this.K9.Grad.yO(i.Mz,i.n9);if(h||$==dC.xq||$==dC.Sm)this.K9.Grad.B8(i.KH)}if(this.K9.Ptrn){if(h||$==dC.tY)this.K9.Ptrn.B8(i.c$)}if(this.K9.TrnS){if(h||$==dC.Fr)this.K9.TrnS.B8(i.qb)}if(this.K9.MpgS){if(h||$==dC.Fr)this.K9.MpgS.B8(i.qb)}};
dA.prototype.f=function(){for(var t=0;t<this.o9.length;t++)this.o9[t].f();for(var i in this.K9)if(this.K9[i]instanceof dq)this.K9[i].f()};
dA.prototype.mR=function(){for(var i in this.K9){var $=this.K9[i];$.parent=this;if($ instanceof dq)$.h(x.E.r,this.aco,this);
if(this.r9.length==0||i=="useShape"||i=="useTexture"){var h=new ie($.atz()),d=R.S("div","bordered padded");
if(this.TX==!1){d.appendChild(h.m);d.appendChild(R.S("hr",""))}this.o9.push(h);this.r9.push(d);this.DO.push($)}else this.r9[this.r9.length-1].appendChild($.m)}};
dA.prototype.update=function(i,$){if(this.K9==null)return;this.vq=JSON.parse(JSON.stringify($));for(var h in $){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(h)!=-1)this.K9[h].t($[h].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(h)!=-1){this.K9[h].t($[h].v,i)}if(["Md","hglM","sdwM"].indexOf(h)!=-1)this.K9[h].t(ca.kD.indexOf($[h].v.BlnM));
if(h=="lrMd"){var d=($.BT?[[15,10,27]]:[]).concat(ca.UX),K=($.BT?[1]:[]).concat(ca.Uy);this.K9[h].TD(d,K);
this.K9[h].t($[h].v)}if(h=="Angl")this.K9[h].t([$[h].v.val]);if(h=="lagl"){var f=$.uglg&&$.uglg.v?i.Hk():$.lagl.v.val;
this.K9[h].t([f])}if(h=="Lald"){var f=$.uglg&&$.uglg.v?i.Cj():$.Lald.v.val;this.K9[h].t([null,f])}if(h=="Type")this.K9[h].t(et.M.types.indexOf($.Type.v.GrdT));
if(h=="Styl")this.K9[h].t(et.stroke.types.indexOf($.Styl.v.FStl));if(h=="PntT"){var l=et.stroke.$Q.indexOf($.PntT.v.FrFl);
this.K9[h].t(l);if(!this.TX){this.ahv(et.sF.concat(et.ce.concat(et.V1)));this.a8n([et.sF,et.ce,et.V1][l])}}if(h=="GlwT")this.K9[h].t(et.mI.types.indexOf($.GlwT.v.BETE));
if(h=="glwS")this.K9[h].t(et.mI.a4e.indexOf($.glwS.v.IGSr));if(h=="bvlS")this.K9[h].t(et.w5.types.indexOf($.bvlS.v.BESl));
if(h=="bvlT")this.K9[h].t(et.w5.asX.indexOf($.bvlT.v.bvlT));if(h=="bvlD")this.K9[h].t(["In","Out"].indexOf($.bvlD.v.BESs))}};
dA.prototype.aco=function(i){for(var $ in this.K9){if(this.K9[$]!=i.target)continue;var h=null,d=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf($)!=-1)h={type:"#Prc",val:i.target.G()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf($)!=-1)h={type:"#Pxl",val:i.target.G()};if(["Angl","lagl"].indexOf($)!=-1)h={type:"#Ang",val:i.target.G()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf($)!=-1)h=i.target.G();
if(["Md","hglM","sdwM"].indexOf($)!=-1)h={BlnM:ca.kD[i.target.G()]};if($=="uglg"){h=i.target.G();d=!0}if($=="PntT"){h={FrFl:et.stroke.$Q[i.target.G()]};
d=!0}if($=="Lald")h={type:"#Ang",val:i.target.G()[1]};if($=="Type")h={GrdT:et.M.types[i.target.G()]};
if($=="Styl")h={FStl:et.stroke.types[i.target.G()]};if($=="GlwT")h={BETE:et.mI.types[i.target.G()]};
if($=="glwS")h={IGSr:et.mI.a4e[i.target.G()]};if($=="bvlS")h={BESl:et.w5.types[i.target.G()]};if($=="bvlT")h={bvlT:et.w5.asX[i.target.G()]};
if($=="bvlD")h={BESs:["In","Out"][i.target.G()]};this.fW({lL:$,L:h});if(d){if(this.TX)this.update(null,this.vq);
else{var K=this.parent,f=K.x3,l=this.Ic,u=f.B[K.data.a].add.lmfx[et.CE[l[0]]].v[l[1]].v;this.update(f,u)}}}};
dA.prototype.fW=function(i){if(this.vq&&this.vq[i.lL])this.vq[i.lL].v=i.L;if(this.TX){this.$(new eU(x.E.r))}else{i.d="changeprop";
i.a=this.parent.data.a;i.zH=this.Ic;var $=new eU(x.E.s,!0);$.data=i;$.b=D.s1;$.Ea=!0;this.$($);this.$(new eU("afterchange",!0))}};
dA.prototype.G=function(){return JSON.parse(JSON.stringify(this.vq))};dA.In={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(et.sF),GrFl:["enab","Md","Opct"].concat(et.ce),patternFill:["enab","Md","Opct"].concat(et.V1),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(et.sF.concat(et.ce.concat(et.V1)))};
function eA(){fQ.call(this,[11,6],"layerstyle");this.afN=-1;this.data={};this.x3=null;this.RM=null;this.ek=[];
this.OD=[];R.FK(this.body,"flexrow");this.NZ=R.S("div","bordered");this.NZ.setAttribute("style","min-width:13em;");
this.body.appendChild(this.NZ);this.qA=R.S("div","");this.qA.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.qA);this.tL=R.S("div","form");this.tL.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.tL);this.RR=R.Lg(this,this.tL);this.TO=new d_([12,87],!0,null,!0);this.TO.h("click",this.adY,this);
this.tL.appendChild(this.TO.m);this.xz=new ft;this.xz.parent=this;this.xz.h(x.E.r,this.a5_,this);this.tL.appendChild(this.xz.m);
this.h("closebtn",this.Ti,this);this.h("redrawall",this.aqf,this)}eA.prototype=new fQ;eA.prototype.uq=function(){return!0};
eA.prototype.wL=function(){return!0};eA.prototype.gE=function(i,$,h,d,K){var f=this.Rb();if(f)f.gE(i,$,h,d,K)};
eA.prototype.Zm=function(i,$,h,d,K){var f=this.Rb();if(f)f.Zm(i,$,h,d,K)};eA.prototype.IQ=function(i,$,h,d,K){var f=this.Rb();
if(f)f.IQ(i,$,h,d,K)};eA.prototype.Rb=function(i){if(i==null)i=this.data.index;return i==null?null:i==0?this.ek[0]:this.OD[i[0]][i[1]]};
eA.prototype.a5_=function(i){var $=this.xz.G();this.fW({d:"setstl",L:$.z3});this.aqf(null)};eA.prototype.adY=function(i){var $=this.x3,h=this.data.a;
if(h==null)h=$.g[0];var d=this.x3.B[h],K=eN.a0P(d),f=new eU(x.E.k,!0);f.data={d:x.c.vj,D2:"add",J0:dC.G0,YF:[JSON.parse(JSON.stringify(K))]};
this.$(f)};eA.prototype.a0W=function(i){this.data.index=i.currentTarget.Ic;this.P1(i.currentTarget.Ic)};
eA.prototype.aqf=function(i){this.Ra(this.x3,this.data)};eA.prototype.P1=function(i,$){R.J9(this.qA);
for(var t=0;t<this.ek.length;t++)this.ek[t].a1r();var h=this.Rb(i);this.qA.appendChild(h.acr());if($)h.ux();
var d=this.x3;if(d){var K=d.B[this.data.a];this.ek[0].update(d,D.Jq.Cz(d,K));var f=K.add.lmfx;if(f==null)return;
for(var t=0;t<et.order.length;t++){var l=f[et.CE[t]].v;for(var u=0;u<l.length;u++)this.OD[t][u].update(d,l[u].v)}}if($)h.ux()};
eA.prototype.f=function(){fQ.prototype.f.call(this);this.TO.f();this.xz.f();this.RR.f();for(var t=0;
t<this.ek.length;t++)this.ek[t].f()};eA.prototype.Ra=function(i,$){var h=$.a==null;this.data.a=$.a;this.data.index=$.index;
$=this.data;this.x3=i;if(h)$.a=i.g.length==0?i.B.length-1:i.g[0];R.J9(this.NZ);var d=i.B[$.a].add.lmfx;
this.md();this.ek=[new dA("bops",!1,0)];this.OD=[];for(var t=0;t<et.order.length;t++){this.OD.push([]);
var K=d==null?[]:d[et.CE[t]].v;for(var f=0;f<K.length;f++){var l=new dA(et.order[t],!1,[t,f]);this.ek.push(l);
this.OD[t].push(l)}if(K.length==0){var l=new dA(et.order[t],!1,[t,0]);this.ek.push(l);this.OD[t].push(l)}}this.f();
this.afy(this.RM,dC.mW);for(var t=0;t<this.ek.length;t++){this.ek[t].parent=this;this.ek[t].akd(this.NZ);
this.ek[t].h("showme",this.a0W,this)}if($.index==null||$.index==0||!h&&d[et.CE[$.index[0]]].v.length==0){this.P1(0)}else this.P1($.index,h);
this.h("afterchange",this.md,this)};eA.prototype.md=function(i){var $=this.x3,h=this.data.a;if(h==null)h=$.g[0];
var d=this.x3.B[h],K=eN.a0P(d);this.xz.t(K,$.add.Patt?$.add.Patt:[],$.Hk(),$.Cj())};eA.prototype.aG=function(i,$){this.RM=i;
this.afy(i,$);if($==dC.G0||$==dC.mW){this.xz.B8([i.bQ,i.c$])}if($==dC.vy){}};eA.prototype.afy=function(i,$){for(var t=0;
t<this.ek.length;t++)this.ek[t].aG(i,$)};eA.prototype.Ti=function(i){this.fW({d:"cancel"})};eA.prototype.KO=function(i){this.fW({d:"confirm"});
this.close()};eA.prototype.fW=function(i){i.a=this.data.a;var $=new eU(x.E.s,!0);$.data=i;$.b=D.s1;$.Ea=!0;
this.$($);this.md()};eA.gL=function(i){var $=[{name:[14,10],c6:!0}];for(var t=0;t<et.names.length;t++)$.push({name:et.names[t]});
if(i){$[$.length-1].c6=!0;$.push({name:"Scale Effects",w:function(h){return{w:h!=null&&h.g.length!=0&&h.B[h.g[0]].tT()}}});
$.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(h){return{w:h!=null&&h.g.length!=0&&h.B[h.g[0]].add.lmfx!=null}}})}return $};
eA.v2=function(i){var $=[{_:x.E.k,W:{d:x.c.ZD,Kh:"layerstyle"}}];for(var t=0;t<et.names.length;t++)$.push({_:x.E.k,W:{d:x.c.ZD,Kh:"layerstyle",index:[t,0]}});
if(i){$.push({_:x.E.k,W:{d:x.c.ZD,Kh:"scaleeffects",pp:100,l8:{_:x.E.s,b:D.s1,W:{d:"scaleeffects"}}}});
var h={classID:"Mk",null:jV.uf("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
$.push({_:x.E.jm,W:{Fs:"make",B6:h}})}return $};eA.agW=function(i){var $=[];if(i)$.push({name:[6,48,0,0],xE:!0},{name:[6,48,0,1],xE:!0},{name:[6,48,0,2],xE:!0,c6:!0});
for(var h in f2.names)$.push({name:f2.names[h],c6:f2.aq0.indexOf(h)!=-1,xE:eK[h]!=null});return $};eA.XN=function(i){var $=[];
if(i){$.push({_:x.E.s,b:D.nD,W:{d:"newfill",Ww:0}});for(var t=1;t<3;t++)$.push({_:x.E.jm,W:D.Eq.kg(t)})}for(var h in f2.names){var d=d1.U9(h);
if(d==null)d={};for(var K in f2.gm)if(f2.gm[K]==h)d.classID=K;var f={Fs:"make",B6:{classID:"Mk",null:jV.uf("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:d}}}}};
$.push({_:x.E.jm,W:f})}return $};function kt(){fQ.call(this,"Merge Channels","mergechannels");this._l=null;
var i=R.S("div","form");this.body.appendChild(i);this.y_=[];for(var t=0;t<3;t++){var $=new ku(f2.lz[t],[]);
this.y_.push($);i.appendChild($.m);R.k6(i)}this.RR=R.Lg(this,i)}kt.prototype=new fQ;kt.prototype.f=function(){fQ.prototype.f.call(this);
this.RR.f();for(var t=0;t<3;t++)this.y_[t].f()};kt.prototype.Ra=function(i,$,h,d){this._l=h;var K=[];
for(var t=0;t<h.length;t++)K.push(h[t].name);for(var t=0;t<3;t++){var f=this.y_[t];f.TD(K);f.t(Math.min(t,h.length-1))}};
kt.prototype.KO=function(i){var $=this._l,h=$[0],d=new eU(x.E.jm,!0);d.data=hR.co(h.e,h.n,h._m,"Merged Document","Wht",!1);
this.$(d);var K=[];for(var t=0;t<3;t++)K.push($[this.y_[t].G()].Fy());var h=$[$.length-1],f=h.B[0],l=f.buffer;
for(var t=0;t<l.length;t+=4){l[t]=K[0][t];l[t+1]=K[1][t];l[t+2]=K[2][t]}f.U();h.U();this.close()};function fe(){fQ.call(this,[1,10],"script");
var i=R.S("div","form");i.setAttribute("style","width:44em");this.body.appendChild(i);this.RM=null;this.Oc=[];
this.lc=[];this.abK;var $=this.A3=new d_([1,2],!1,null,!0);$.h("click",this.ak,this);i.appendChild($.m);
var h=new d_("JS Reference",!1,null,!0);h.h("click",this.ak3,this);i.appendChild(h.m);i.appendChild(new ie("Demos:").m);
this.a0n=[];var d=fe.Vd;for(var t=0;t<d.length;t++){var K=new d_(d[t].Xd,!1,null,!0);this.a0n.push(K);
i.appendChild(K.m);K.h("click",this.a4Y,this)}this.OL=R.S("textarea");R.zb(this.OL);this.OL.setAttribute("rows",16);
this.OL.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");i.appendChild(this.OL);
var f=new d_("Run",!0,null,!0);f.h("click",this.KO,this);i.appendChild(f.m);this.XC=R.S("div");i.appendChild(this.XC)}fe.prototype=new fQ;
fe.prototype.f=function(){this.A3.f()};fe.prototype.ak=function(){var i=this.abK;if(i==null)i="script.jsx";
var $=new eU(x.E.k,!0);$.data={d:x.c.ZD,Kh:"namewindow",pp:i.slice(0,i.length-4),Fg:this.aqV.bind(this)};
this.$($)};fe.prototype.aqV=function(i){var $=this.OL.value,h=M.Mr($),d=new eU(x.E.k,!0);d.data={d:x.c.WV,X8:h.buffer,dx:i+".jsx",a3Q:!0};
this.$(d)};fe.prototype.ayi=function(i){var t=this.Oc.indexOf(i.target),$=this.abK=this.lc[t],h=this.RM._D.NV[$],d=new Uint8Array(h),K=M.kV(d,0,d.length);
this.OL.value=K};fe.prototype.Ra=function(i,$,h){this.OL.value=fe.Vd[0].lK;this.af6()};fe.prototype.af6=function(){var i=this.RM._D,$=this.XC;
R.J9($);this.Oc=[];this.lc=[];$.textContent="Saved scripts: ";for(var h in i.NV){if(h.endsWith(".jsx")){var d=new d_(h,!1,null,!0);
this.Oc.push(d);this.lc.push(h);d.h("click",this.ayi,this);$.appendChild(d.m)}}};fe.prototype.aG=function(i,$){this.RM=i;
if($==dC.cs)this.af6()};fe.prototype.ak3=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.la,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.$($)};fe.prototype.KO=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.kf,Pl:this.OL.value};this.$($)};
fe.prototype.a4Y=function(i){var $=this.a0n.indexOf(i.currentTarget);this.OL.value=fe.Vd[$].lK};fe.Vd=[{Xd:"Hello",lK:"\nalert(\"Hello Photopea!\");\n"},{Xd:"Process Layers",lK:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Xd:"Clone Layers",lK:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function gu(){fQ.call(this,[11,7],"newproject");this.data=null;this._l=null;var i=R.S("div","flexrow");
this.$u=i;this.body.appendChild(i);var $=R.S("div","form");this.VX=$;i.appendChild($);this.qQ=new at([12,48],null,10);
$.appendChild(this.qQ.m);R.k6($);this.Zu=new dt(!0,null,null,null,!0);this.Zu.t(new cq(1280,720),72);
this.Zu.aj1(!0,!0);this.Zu.h(x.E.r,this.ki,this);$.appendChild(this.Zu.m);this.jf=new jr;this.jf.parent=this;
$.appendChild(this.jf.m);this.yV=new d_("\u02C5",null,[0,14],!0);this.yV.h("click",this.Xh,this);$.appendChild(this.yV.m);
var h=this.acG=R.S("span");$.appendChild(h);h.style.display="none";this.ai$=new ku([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
h.appendChild(this.ai$.m);this.LI=new iD([1,16,1]);h.appendChild(this.LI.m);this.RR=new d_([12,49],!0,null,!0);
this.RR.h("click",this.KO,this);$.appendChild(this.RR.m);var d=gu.lT,K=[];for(var t=0;t<d.length;t++)K.push(d[t].name);
this.ah=new ee(null,K);this.ah.h(x.E.r,this.a6w,this);$.appendChild(this.ah.m);this.ah.m.style["margin-top"]="1em";
this.hs=new ks(!0);this.hs.h(x.E.r,this.a29,this);$.appendChild(this.hs.m);this.a6w();this.gJ=new jy;
this.gJ.parent=this;this.gJ.m.setAttribute("style","margin-left:1em");this.gJ.h("tempready",this.aqH,this)}gu.prototype=new fQ;
gu.prototype.Xh=function(i){var $=this.acG,h=$.style.display!="none";$.style.display=h?"none":"";this.yV.L5(h?"\u02C5":"\u02C4");
this.JQ(this.DD,this.mJ)};gu.prototype.aG=function(i,$){this.gJ.aG(i)};gu.prototype.Vv=function(i,$){return new cq(Math.max(0,Math.min(70,(i-690)/2)),i>$?Math.max(0,Math.min(50,($-400)/2)):0)};
gu.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;this.VX.setAttribute("style","width:"+Math.min(i-24,338)+"px");
this.hs.m.style.height=$-248-(this.acG.style.display=="none"?0:28)+"px";var h=this.gJ.m,d=h.parentNode;
if(i<500){if(d!=null)this.$u.removeChild(h)}else{if(d==null)this.$u.appendChild(h);this.gJ.JQ(i-378,$-28)}};
gu.prototype.ki=function(){this.gJ.t(this.Zu.G())};gu.prototype.a29=function(i){var $=this.hs.G()[0],h=gu.lT[this.ah.G()].bA[$],d=h[4];
if(d==0)d=72;var K=h[1],f=h[2],l=["px","%","mm","in"].indexOf(h[3]),u=[1,1,25.4/d,1/d][l];K/=u;f/=u;
this.Zu.t(new cq(Math.round(K),Math.round(f)),d);this.Zu.agD(l);this.ki()};gu.prototype.a6w=function(i){var $=gu.lT[this.ah.G()].bA,h=[],d=[],K=Math.round(106*R.V()),f=Math.round(106*R.V()),l=0;
for(var t=0;t<$.length;t++)l=Math.max(l,$[t][1],$[t][2]);for(var t=0;t<$.length;t++){var u=$[t],U=u[1]+" x "+u[2]+" "+u[3];
if(u[3]=="in")U=(u[1]*25.4).toFixed(0)+" x "+(u[2]*25.4).toFixed(0)+" mm";if(u[3]=="mm")U=(u[1]/25.4).toFixed(1)+" x "+(u[2]/25.4).toFixed(1)+" in";
if(u[4])U=U+" @ "+u[4]+" ppi";d.push(U);h.push(gu.eR(u,K,f,l))}this.hs.BN(h,d,K,f)};gu.eR=function(i,$,h,d){var K=R.S("canvas",""),f=K.getContext("2d");
K.width=$;K.height=h;var l=Math.round($/8),u=Math.floor(11*R.V()),U=i[1],y=i[2];f.fillStyle="#000000";
f.font=Math.round(u*.9)+"px \"Open Sans\", Sans-Serif";var a=U+" x "+y+" "+i[3],v=f.measureText(a);f.fillText(a,Math.round(($-v.width)/2),h-Math.round(l/2));
if(i[0]!=null){f.font="bold "+u+"px \"Open Sans\", Sans-Serif";var a=i[0],v=f.measureText(a);f.fillText(a,Math.round(($-v.width)/2),h-Math.round(l/2)-Math.round(u*1.3))}h-=Math.round(2.5*u);
var c=Math.min(($-l)/U,(h-l)/y);c*=.5+.5*(Math.max(U,y)/d);var p=($-U*c)/2,C=(h-y*c)/2;f.strokeRect(Math.round(p)+.5,Math.round(C)+.5,Math.round(U*c),Math.round(y*c));
return K.toDataURL()};gu.prototype.f=function(){fQ.prototype.f.call(this);this.Zu.f();this.qQ.f();this.jf.f();
this.RR.f();this.qQ.t(e_.get([11,7]));this.ah.f();this.LI.f();this.yV.f();this.gJ.f()};gu.prototype.KO=function(i){var $=this.Zu.G(),h=$.x,d=$.y;
this.close();var K=this.jf.G(),f=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.ai$.G()],l=new eU(x.E.jm,!0);
l.data=hR.co(h,d,this.Zu.ku(),this.qQ.G(),["Wht","Blck","Trns","Clr"][K[0]],this.LI.G(),K[1],f);this.$(l);
this.a6A()};gu.prototype.aqH=function(i){var $=i.data.x3;$._m=this.Zu.ku();var h=new eU(x.E.k,!0);h.data={d:x.c.T0,x3:$};
this.$(h);this.close();this.a6A()};gu.prototype.a6A=function(){var i=this._l[this._l.length-1],$=this.data.aaR;
if($)fk.zR(function(){var h=new XMLHttpRequest,d="https://www.googleapis.com/drive/v3/files?"+fk.pG();
h.open("POST",d,!0);h.setRequestHeader("Content-Type","application/json");h.addEventListener("load",function(K){var f=JSON.parse(K.target.response);
i.PF={file:f,LT:"psd"};alert(i.name+" created in Google Drive")});h.send(JSON.stringify({name:i.name,a2Z:[$]}))})};
gu.prototype.Ra=function(i,$,h,d){this._l=h;if(i!=null&&i.J!=null){var K=new bN(0,0,i.e,i.n).Js(i.J.rect);
this.Zu.t(new cq(K.e,K.n))}this.data=$;this.ki();if(R.R6())bU.aiH(this.awS.bind(this))};gu.prototype.awS=function(i){if(i=="granted")bU.TB(this,this.a5j.bind(this))};
gu.prototype.a5j=function(i,$){this.Zu.t(new cq($.e,$.n))};gu.lT=[{name:"Social",bA:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],bA:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],bA:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],bA:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],bA:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],bA:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",bA:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fz(i,$,h){fQ.call(this,$,"sel_"+i);this.d=i;var d=R.S("div","form");this.body.appendChild(d);
this.qQ=new j6($,0,255,null,0,!1,!0);d.appendChild(this.qQ.m);this.qQ.t(1);var K=R.S("span");K.textContent=h;
d.appendChild(K);R.k6(d);this.arI=new iD("Apply at canvas bounds");if(i!="border")d.appendChild(this.arI.m);
this.RR=R.Lg(this,d)}fz.prototype=new fQ;fz.prototype.Vl=function(i,$){if(i==null)return;if(i.J==null)alert("No selection!");
return i.J!=null};fz.prototype.KO=function(i){var $=new eU(x.E.jm,!0);$.data=D.n1.alT(this.d,this.qQ.G(),this.arI.G());
$.Ea=!0;this.$($);this.close()};fz.prototype.f=function(){fQ.prototype.f.call(this);this.RR.f();if(this.qQ)this.qQ.f()};
fz.prototype.Ra=function(i,$){};function aB(i,$,h,d,K,f){fQ.call(this,h,$);this.a7z=f;this.NK=K;this.lT=null;
this.VX=R.S("div","form");this.body.appendChild(this.VX);this.qQ=i==0?new at(h,null,10):i==1?new fI(h,0,500,d,1):new at(h,null,24,5);
this.qQ.h(x.E.r,this.qL,this);this.VX.appendChild(this.qQ.m);this.RR=R.Lg(this,this.VX);this.h("closebtn",this.Ti,this)}aB.prototype=new fQ;
aB.prototype.Vv=function(i,$){return new cq(Math.max(0,Math.min(150,(i-250)/2)),Math.max(0,Math.min(150,($-120)/2)))};
aB.prototype.uq=function(){return this.a7z};aB.prototype.qL=function(i){var $=this.qQ.G();if(this.NK)this.S5($)};
aB.prototype.Ti=function(i){if(this.NK)this.S5("cancel")};aB.prototype.KO=function(i){if(this.NK)this.S5("confirm");
else this.S5(this.qQ.G());this.close()};aB.prototype.S5=function(i){if(this.lT.Fg)this.lT.Fg(i);else if(this.lT.l8){var $=this.lT.l8,h=new eU($._,!0);
h.b=$.b;h.data=$.W;h.data.L=i;h.Ea=!0;this.$(h)}};aB.prototype.f=function(){fQ.prototype.f.call(this);
this.RR.f();if(this.qQ)this.qQ.f()};aB.prototype.Ra=function(i,$){this.lT=$;this.qQ.t($.pp);this.qQ.RJ();
this.qL(null)};function eB(){fQ.call(this,[1,5],"open_from_url");this.LL=null;var i=R.S("div","form");
this.body.appendChild(i);this.XP=new at("URL",null,22);i.appendChild(this.XP.m);R.k6(i);this.qW=new ee([21,0],[[21,2],[21,1]]);
i.appendChild(this.qW.m);this.RR=R.Lg(this,i)}eB.prototype=new fQ;eB.prototype.f=function(){fQ.prototype.f.call(this);
this.RR.f();this.qW.f()};eB.prototype.Ra=function(i,$,h){this.XP.RJ();this.LL=null;if(i&&h.indexOf(i)!=-1)this.LL=h.indexOf(i)};
eB.prototype.KO=function(i){var $=new eU(x.E.k,!0),h=this.XP.G();$.data={d:x.c.gu,J0:{url:h,tW:!0,LL:this.qW.G()==1?this.LL:null}};
this.$($);this.close()};function hN(){fQ.call(this,[12,79],"preferences");this.RM=null;var i=R.S("div","form");
this.body.appendChild(i);this.In=[new iD([8,2]),new iD([8,4]),new ku([12,80,3],[[12,93,3],[12,80,4]]),new fI([12,80,5],.02,100,null,2),new ku(null,k.TA.wU),new ku([12,80,6],k.TA.wU),new iD("Remind me to save")];
for(var t=0;t<this.In.length;t++){var $=this.In[t];i.appendChild($.m);if(t!=3)R.k6(i);$.h(x.E.r,this.Rz,this)}}hN.prototype=new fQ;
hN.prototype.f=function(){fQ.prototype.f.call(this);for(var t=0;t<this.In.length;t++)this.In[t].f()};
hN.prototype.Ra=function(i,$,h){};hN.prototype.aG=function(i,$){this.RM=i;var h=i.ZZ;this.In[0].t(h.C9);
this.In[1].t(h.eS);this.In[2].t(h.ie);this.In[3].t(h.hy);this.In[4].t(h.xO);this.In[5].t(h.CP);this.In[6].t(i.Ls==1)};
hN.prototype.Rz=function(i){var $=this.In;if(i.target==$[6])this.RM.Ls=1-this.RM.Ls;var h=JSON.parse(JSON.stringify(this.RM.ZZ));
h.C9=$[0].G();h.eS=$[1].G();h.ie=$[2].G();h.hy=$[3].G();h.xO=$[4].G();h.CP=$[5].G();var d=new eU(x.E.k,!0);
d.data={d:x.c.vj,J0:dC.Nc,gj:h};this.$(d)};function jS(){fQ.call(this,[11,8],"saveforweb");this.ajs="";
this.h("closebtn",function(){this.Ol.vK()},this);this.x3=null;this.MS=null;this.a9J=null;this.RM=null;
R.FK(this.body,"flexrow");this.body.style.padding="0";var i=R.S("div"),$=R.S("div");this.body.appendChild(i);
this.body.appendChild($);this.V6=R.S("div","imgcont");i.appendChild(this.V6);this.Ol=new a4;this.Ol.JQ(512,512);
this.Kb=R.S("div");this.Kb.setAttribute("style","display:inline-box; padding: 3px 0 5px 8px; height:20px;");
i.appendChild(this.Kb);var h=this.VX=R.S("div","form cell");h.setAttribute("style","width:195px; padding:9px 13px;");
$.appendChild(h);this.i1=new ku([12,50],em.Ch());h.appendChild(this.i1.m);this.i1.h(x.E.r,this.vF,this);
R.k6(h);this.Ej=new at([12,48],".www",7.7);h.appendChild(this.Ej.m);R.k6(h);this.Zu=new dt(!0,!0,!1,!0);
this.Zu.h(x.E.r,this.vF,this);h.appendChild(this.Zu.m);this.x4=new e7;this.x4.h(x.E.r,this.vF,this);
h.appendChild(this.x4.m);this.Xa=new d_([1,2],!0,null,!0);this.Xa.h("click",this.KO,this);h.appendChild(this.Xa.m)}jS.prototype=new fQ;
jS.prototype.Vl=function(i,$){return i!=null};jS.prototype.f=function(){fQ.prototype.f.call(this);this.Zu.f();
this.Ej.f();this.i1.f();this.x4.f();this.Xa.f()};jS.prototype.KO=function(i){var $=this.Ej.G().trim(),h=em.Ch()[this.i1.G()],d=h=="JPG"||h=="PNG"||h=="GIF",K=em.Q_(h),f="."+h.toLowerCase(),l=this.MS,u=$+f,U=this.x3,y=U.ky,a=this.x4.G();
if(U.np())a.pop();if(y.length!=0&&d&&a.pop()){var v="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",c=[],p={},C=new bN(0,0,U.e,U.n),T=U.Fy();
for(var t=0;t<y.length;t++)c.push(D.Zo.Tx(y,t));c.reverse();var E=k.rect.Wf([0,0,U.e,U.n],c);for(var t=0;
t<E.length;t++){var r=E[t],Y=new bN(r[0],r[1],r[2]-r[0],r[3]-r[1]),S=r.length==5?y[r[4]].v:null,m=k.Q(Y.O()*4);
k.mC(T,C,m,Y);var Q="img/img"+(t+1)+f;p[Q]=new Uint8Array(K.Pa([[m.buffer,0]],Y.e,Y.n,a));v+="<div style=\"background-image:url('"+Q+"'); left:"+Y.x+"px; top:"+Y.y+"px; width:"+Y.e+"px; height:"+Y.n+"px\">";
if(S&&S.url.v!="")v+="\n\t<a href=\""+S.url.v+"\" target=\""+S.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
v+="</div>\n"}v+="</body>\n</html>\n";var z=k.Q(Math.round(v.length*1.5)),n=M.Ue(v,z,0);p["index.html"]=z.slice(0,n);
l=UZIP.encode(p);u=$+".zip"}else if(U.add.artd&&U.add.artd.Cnt.v>1&&d&&a.pop()){var p={},C=new bN(0,0,U.e,U.n),T=U.Fy(),Z=U.root.children;
for(var t=0;t<Z.length;t++){var P=Z[t].a;if(P.add.artb==null||!P.ji())continue;var V=P.Ik(),I=k.Q(V.O()*4);
k.mC(T,C,I,V);p[P.getName()+f]=new Uint8Array(K.Pa([[I.buffer,0]],V.e,V.n,a))}l=UZIP.encode(p);u=$+".zip"}if(U.jW)bU.GR("act=1&id="+U.jW);
this.Ol.vK();this.close();var q=function(){var s=new eU(x.E.k,!0);s.data={d:x.c.Sx,data:l,name:u};this.$(s)}.bind(this);
if(!this.RM.wd||jF.V9()){q();return}var X=i0.qZ()!=0;if(X){var B=function(){var J=al.yb("?XNGVEhYN5E13G471;yy&;,xx#gbnvUp>]MRKTIX763<?58N=j*y%\"+*FebkndgqlK[cUF@WIA?K=5B,\"z)\"0zyyi/}7YteceUK a@ICCCg46-'1%-P4/t{ki=~bkhaa%vsYVSfF;?A97)\"K}'\"@#!|x1``l#\\^yZOSUMK=6^3;U424I1&&{:\"oeu+og\"V^zjeWAOA<HmO**1#-':S[/mv&qoqyY``QVQSI^==I`k[+d"),s=new eU(x.E.k,!0);
s.data={d:x.c.ZD,Kh:al.vH,L:J,Fg:q,Hn:!0};this.$(s)}.bind(this),e=function(){var J=al.yb("?TXZRPB;VK@C7,D0.08z+x }&lf|_mYcgZVJaCE=UJ8.>F=03:{$?"),s=new eU(x.E.k,!0);
s.data={d:x.c.ZD,Kh:al.vH,L:J,Fg:B,Hn:!0};this.$(s)}.bind(this),F=function(){var J=al.yb("0^Ne\\ORYLG:<2G&0>\\|W~~otku?"),s=new eU(x.E.k,!0);
s.data={d:x.c.ZD,Kh:al.vH,L:J,Fg:e,Hn:!0};this.$(s)}.bind(this);F();return}q();var s=new eU(x.E.k,!0),J=al.yb("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
s.data={d:x.c.ZD,Kh:al.vH,L:J,Fg:function(){}};if(Math.random()<.1)this.$(s)};jS.prototype.Ra=function(i,$){if($.BC!=null)this.i1.t($.BC);
this.x3=i;var h=this.x3.name,d=h.lastIndexOf("."),h=d==-1?h:h.slice(0,d);this.Ej.t(h);var K=i.e+","+i.n;
if(K!=this.ajs){this.ajs=K;this.Zu.t(new cq(i.e,i.n),i._m)}this.x4.a3V();if($.ak6){this.Zu.agD(3);this.x4.Lj.PDF[2].cf.t(!0)}this.vF(null,!0)};
jS.prototype.amT=function(i,$){return i<$&&i<660};jS.prototype.Vv=function(i,$){return this.amT(i,$)?new cq(0,0):new cq(Math.max(0,Math.min(150,(i-770)/2)),Math.max(0,Math.min(150,($-590)/2)))};
jS.prototype.JQ=function(i,$,h){this.DD=i;this.mJ=$;if(this.x3==null)return;var d=this.Xa.m,K=this.amT(i,$),f,l,v="<span style=\"width:",c="display:inline-block; text-align:right;\">";
if(K){var u=this.VX.getBoundingClientRect().height;f=i;l=$-u-27;R.jE(this.body,"flexrow");R.jE(d,"spread")}else{f=Math.min(512,i-195-2*13);
l=Math.min(512,$-24);R.FK(this.body,"flexrow");R.FK(d,"spread")}this.VX.style.width=(K?i:195)+"px";var U=em.Ch()[this.i1.G()],y=em.Q_(U);
if(y.LW||y.l5)this.V6.firstChild.setAttribute("style","display:block; width:"+f+"px; height:"+l+"px;");
else this.Ol.JQ(f,l);var a=this.MS.byteLength,p=U+":"+v+64+"px;"+c+jS.pN(a)+"</span>";if(f>200)p+=v+90+"px; opacity:"+.5+";"+c+a.toLocaleString()+" B</span>";
this.Kb.innerHTML=p;d.style.float=K?"right":"";d.style.marginRight=K?"13px":"";if(K)this.Kb.appendChild(d);
else this.VX.appendChild(d);if(h)setTimeout(function(){this.JQ(this.DD,this.mJ)}.bind(this),20)};jS.pN=function(i){var $=i.toString(2),h=0;
while(h+10<$.length)h+=10;var d=(i/Math.pow(2,h)).toFixed(1);if(d.endsWith(".0"))d=d.slice(0,-2);var K="B KB MB GB TB PB".split(" ")[Math.floor(h/10)];
return d+" "+K};jS.prototype.aG=function(i,$){this.RM=i};jS.prototype.vF=function(i,$){var h=this.x3,d=this.Zu.G(),K=d.x,f=d.y,l=this.i1.G(),u=em.Ch()[l],E="";
this.Ej.ab2("."+u.toLowerCase());var U=em.Pg(h)[0].length,y=["GIF","PNG","WEBP"].indexOf(u)!=-1&&U>1;
if(y&&$&&(U>4&&K*f>1024*1024||K*f*U>800*800*50)){var a=1;while(Math.max(K>>>a,f>>>a)>800)a++;var v=window.confirm("Your animation is large ("+K+" x "+f+" px). Press \"OK\" to scale it to "+(100>>>a)+"%. Press \"Cancel\" to keep the size.");
if(v){this.Zu.t(new cq(K>>>a,f>>>a),null,!0);K=K>>>a;f=f>>>a}}var c=h.add.artd,p=c!=null&&c.Cnt.v>1,C=h.np();
this.x4.al2(u,y,h.ky.length!=0,p,C!=null);var T=this.x4.G();this.MS=em.kW(h,u,K,f,T,this.RM);if(this.MS==null){this.x3=null;
return}R.J9(this.V6);this.Ol.vK();var r=em.Q_(u);if(r.l5){this.V6.innerHTML="<div></div>";E+="width:0px"}else if(r.LW){var Y=K,S=f,m;
if(u=="PDF"){m=URL.createObjectURL(new Blob([this.MS],{type:"application/pdf"}))}else{m=URL.createObjectURL(new Blob([this.MS],{type:"image/svg+xml"}))}this.V6.innerHTML="<iframe src=\""+m+"\"></iframe>"}else{var Q=this.a9J=r.u2(this.MS),z=Q[0],n=z.kp,Y=n.e,S=n.n;
if(z.AC){var Z=ICC.R(z.AC.buffer),P=17,V=ICC.U.sampleLUT(Z,P);for(var t=0;t<Q.length;t++){var I=new Uint8Array(Q[t].data);
ICC.U.applyLUT(V,P,I,I)}}this.Ol.t(Q,Q.length>1?T[T.length-3]:0);this.V6.appendChild(this.Ol.m);E="background: rgba(0,0,0,0);"}this.V6.setAttribute("style","display:block; background-size:"+16/R.V()+"px;"+E);
this.JQ(this.DD,this.mJ,$)};function ec(){fQ.call(this,[11,13],"shortcuts");var i=this.$u=R.S("div","scrollable");
i.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(i);
this.awN()}ec.prototype=new fQ;ec.prototype.f=function(){fQ.prototype.f.call(this);this.awN()};ec.prototype.awN=function(){var i="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",$="",h=ai,d=h.PO,K=h.EW,f=h.rf;
$+="<h2 style=\"margin-top:0;\">Main Menu</h2>";$+=i;$+=this.CN([[0,0],"---",[1,0],[d,h.I2],[1,2],[d,h.Su],[1,3],[K,d,h.Su],[1,8],[f,K,d,h.Su],[0,1],"---",[2,0],[K,d,h.y4],[2,1],[d,h.y4],[5,0],[d,h.T3],[5,1],[d,h.ui],[5,2],[d,h.mX],[2,2],"Delete",[2,3],[f,h.A9],[10,16],[f,d,h.A0],[12,79],[d,h.lg],[3],"---",[4,1],[d,h.GE],[4,2],[d,h.HB],[4,5],[d,h.LX],[4,11],[d,h.pA],[0,3],"---",[6,13],[K,d,h.fT],[6,49,0],[d,h.Bm],[6,6,0],[f,d,h.RB],[6,9],[d,h.RB],[6,10],[d,h.E],[0,5],"---",[7,0],[d,h.c],[7,1],[d,h.T6],[7,2],[K,d,h.pA],[0,7],"---",[8,0],[d,h.i6],[8,1],[d,h.s8],[8,3],[d,h.gp],[8,2],[d,h.kE],[8,4],[d,h.Vy],[11,13],"?"]);
$+="</div>";$+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";$+=i;$+=this.CN(["Vertical scroll","Wheel","Horizontal scroll",[d,"Wheel"],"Zooming",[f,"Wheel"]]);
$+="</div>";$+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
$+=i;$+=this.CN([[10,11],[d],[10,7],"Space",[10,17],[d,h.tr]]);$+="</div>";$+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
$+=i;var l=ec.q,u=[];for(var t=0;t<l.length;t+=3)if(l[t+1])u.push(l[t],l[t+1]);u=u.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[d,h.rH]]);
$+=this.CN(u);$+="</div>";this.$u.innerHTML=$};ec.prototype.CN=function(i){var $="",h=!0;for(var t=0;
t<i.length;t+=2){var d=i[t],K=ai.M9(i[t+1]);if(K==null){h=!1;continue}var f=R.vB(e_.get(d));if(K=="---"){if(!h)$+="<br/>";
$+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+f+"</div>"}else $+="<div>"+f+" <span style=\"float:right; font-weight:bold;\">"+K+"</span> </div>";
h=!1}return $};ec.q=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function d6(){fQ.call(this,[8,11,1],"soptions");this.Bi=null;var i=R.S("div","form");i.style.width="20em";
this.body.appendChild(i);this.vs={Nm:[12,48],url:"URL",null:[12,71]};this.In={};for(var $ in this.vs){var h=new at(this.vs[$],null,15);
this.In[$]=h;i.appendChild(h.m)}this.RR=R.Lg(this,i)}d6.prototype=new fQ;d6.prototype.Ra=function(i,$,h){var d=$.L;
this.Bi=JSON.stringify(d);for(var K in this.vs){if(d[K])this.In[K].t(d[K].v)}};d6.prototype.KO=function(i){var $=JSON.parse(this.Bi);
for(var h in this.vs){var d=this.In[h].G();$[h]={t:"TEXT",v:d}}var K=new eU(x.E.s,!0);K.b=D.M7;K.data=$;
K.Ea=!0;this.$(K);this.close()};d6.prototype.f=function(){fQ.prototype.f.call(this);this.RR.f()};function ah(){fQ.call(this,[2,3],"fill");
this.RM=null;this.yM=null;var i=R.S("div","form padded");i.style.width="22em";this.body.appendChild(i);
this.iO="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.f6=new ku([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.f6.h(x.E.r,this.a3A,this);i.appendChild(this.f6.m);this.V6=R.S("span");i.appendChild(this.V6);this.Tc=new hD;
this.Tc.parent=this;this.Tc.gh(0);this.ut=new h6;this.ut.parent=this;this._i=new ku([12,19,0],ca.UX,!1,ca.Uy);
i.appendChild(this._i.m);this.PU=new fI([12,0],0,100,"%",0,!1);this.PU.t(100);i.appendChild(this.PU.m);
this.ue=new iD([13,5]);this.ue.t(!1);i.appendChild(this.ue.m);this.RR=R.Lg(this,this.body)}ah.prototype=new fQ;
ah.prototype.Vl=function(i,$){return i!=null};ah.prototype.uq=function(){return!0};ah.prototype.a3A=function(){var i=this.f6.G(),$=this.Tc.m,h=this.ut.m,d=this.V6;
if(i==2)d.appendChild($);else if(d.contains($))d.removeChild($);if(i==7)d.appendChild(h);else if(d.contains(h))d.removeChild(h)};
ah.prototype.f=function(){fQ.prototype.f.call(this);this.f6.f();this._i.f();this.PU.f();this.ue.f();
this.RR.f()};ah.prototype.KO=function(i){if(!this.yM.EX())return;var $=new eU(x.E.jm,!0),h=this.f6.G();
$.data=D.Gg.kg(this.iO[h],ca.bj[this._i.G()],this.PU.G()/100,this.Tc.G(),this.ue.G(),this.ut.G());this.close();
this.$($)};ah.prototype.Ra=function(i,$){this.yM=i};ah.prototype.aG=function(i,$){this.RM=i;if($==dC.mW||$==dC.tY){this.ut.B8(i.c$);
this.ut.t({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function fo(){fQ.call(this,[14,9],"stroke");this.RM=null;this.VX=R.S("div","form");this.VX.setAttribute("style","width:24em");
this.body.appendChild(this.VX);this.lN=new dA("FrFX",!0);this.lN.parent=this;var i=["Sz","Styl","Md","Opct"].concat(et.sF);
for(var t=0;t<i.length;t++){var $=this.lN.K9[i[t]].m;this.VX.appendChild($)}this.Se=!1;this.RR=R.Lg(this,this.body)}fo.prototype=new fQ;
fo.prototype.Vl=function(i,$){return i!=null};fo.prototype.uq=function(){return!0};fo.prototype.f=function(){fQ.prototype.f.call(this);
this.RR.f();this.lN.f()};fo.prototype.KO=function(i){var $=new eU(x.E.s,!0);$.b=D.a3;$.data={d:"stroke",aeS:this.lN.G()};
this.close();this.$($)};fo.prototype.Ra=function(i,$){if(!this.Se){var h=et.MO[et.order.indexOf("FrFX")];
h=JSON.parse(h);this.lN.update(i,h);this.Se=!0}var h=this.lN.G(),d=this.RM.Mz;h.Clr.v=k.M.Aw({o:d>>16&255,P:d>>8&255,Z:d&255});
this.lN.update(i,h)};fo.prototype.aG=function(i,$){this.RM=i};function ap(){fQ.call(this,[11,9],"textwarp");
this.In=new de;this.In.h(x.E.r,this.hi,this);this.In.parent=this;this.VX=R.S("div","form");this.VX.setAttribute("style","width:20em");
this.body.appendChild(this.VX);this.VX.appendChild(this.In.AB.m);this.VX.appendChild(this.In.vl.m);this.VX.appendChild(this.In.OK.m);
this.VX.appendChild(this.In.Yh.m);this.VX.appendChild(this.In.wD.m);this.RR=R.Lg(this,this.VX);this.h("closebtn",this.Ti,this)}ap.prototype=new fQ;
ap.prototype.uq=function(){return!0};ap.prototype.f=function(){fQ.prototype.f.call(this);this.RR.f();
this.In.f()};ap.prototype.hi=function(i){var $=this.In.G();this.S5({d:"warp",O$:$})};ap.prototype.S5=function(i){var $=new eU(x.E.s,!0);
$.b=D.z2;$.data=i;$.Ea=!0;this.$($)};ap.prototype.Ti=function(i){this.S5({d:"warpCancel"})};ap.prototype.KO=function(i){this.S5({d:"warpConfirm"});
this.close()};ap.prototype.Ra=function(i,$){var h=i.B[i.g[0]];this.In.t(h.add.TySh.sT)};function cb(){fQ.call(this,[11,12,0],"trim");
var i=this.VX=R.S("div","form");this.VX.setAttribute("style","width:22em");this.body.appendChild(this.VX);
var $=new ie("Color To Trim:");i.appendChild($.m);this.AK=new fZ(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.AK.t([!0]);this.VX.appendChild(this.AK.m);var $=new ie("Sides:");i.appendChild($.m);this.kx=new fZ(null,["Top","Left","Bottom","Right"]);
this.kx.t([!0,!0,!0,!0]);this.VX.appendChild(this.kx.m);this.RR=R.Lg(this,this.body)}cb.prototype=new fQ;
cb.prototype.Vl=function(i,$){return i!=null};cb.prototype.uq=function(){return!0};cb.prototype.f=function(){fQ.prototype.f.call(this);
this.AK.f();this.kx.f();this.RR.f()};cb.prototype.KO=function(i){var $=this.AK.G().indexOf(!0),h=this.kx.G(),d=new eU(x.E.jm,!0);
d.data=D.Xw.cr($,h);this.close();this.$(d)};function kk(){fQ.call(this,"Raw Photopea","rawpea");this.eO=null;
this.zm=null;this.body.style.padding="0";var i=this.se=new eK["Adobe Camera Raw Filter"](!0),h="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(i.m);this.RR=new d_([1,0],!0,null,!0);this.RR.h("click",this.KO,this);this.X3=new d_(h+" JPG",!0,null,!0);
this.X3.h("click",this.a3l,this);this.X3.m.style.marginTop="6px";i.D5(this.RR.m);i.D5(this.X3.m)}kk.prototype=new fQ;
kk.prototype.Vv=function(){return new cq(0,0)};kk.prototype.JQ=function(i,$){this.se.JQ(i,$)};kk.prototype.f=function(){fQ.prototype.f.call(this);
this.se.f()};kk.prototype.a3l=function(i){var $=this.eO,h=this.zm,d=em.Q_("JPG").Pa([[this.se.G(!0).buffer]],h.Az,h.Zi,[85]),K=new eU(x.E.k,!0);
K.data={d:x.c.Sx,data:d,name:"photo.jpg"};this.$(K)};kk.prototype.KO=function(i){var $=this.eO,h=this.zm,d=aX.qB($),$={kp:new bN(0,0,h.Az,h.Zi),data:this.se.G(!0).buffer,Y3:d},K=em.hL("Raw Photo",[$]),f=new eU(x.E.k,!0);
f.data={d:x.c.T0,x3:K};this.$(f);this.sy();this.close()};kk.prototype.sy=function(){this.eO=null;this.zm=null;
this.se.ahf()};kk.prototype.Ra=function(i,$,h,d){this.eO=$.s$;var K=this.zm=k.raw.ajr(this.eO),f=k.raw.as6($.s$),l=d5.rd(f);
k.raw.Mu(K.Yz,K.Yz,$.s$,[l.v5,l.OT]);var u=d1.U9("Adobe Camera Raw Filter");this.se.t(u,K.Yz,new bN(0,0,K.Az,K.Zi))};
function hs(i){fQ.call(this,i?[11,11,0]:[11,11,1],i?"vbitmap":"rcolors");this.lT=null;this.vu=null;this.fQ=null;
this.IH=null;this.LG=null;this.ahS=null;this.pP=null;this.y_="";this._j=i;this.Ox=this.jb.bind(this);
this.NO=!1;this.body.style.padding="0";this.VX=R.S("div","form hbar padded");this.body.appendChild(this.VX);
var $=this.hD={cnum:new j6([12,82],2,50,null),nois:new iD([12,81]),mode:new ku(null,["Cartoon","Photo"]),segm:new iD("Segmentize"),poly:new iD("Polygon"),merg:new iD("Merge colors"),polE:new j6("Roughness",2,30,null),dthr:new iD([12,23,3]),ok:R.Lg(this,null,!1)},f=16;
for(var h in $){var d=$[h];d.parent=this;if(h!="ok")d.h(x.E.r,this.jb,this)}var K=this.Tp=R.S("div","flexrow");
this.body.appendChild(K);K.setAttribute("style","background-color:var(--bg-canvas)");this.kn=new a4;
this.kn.h("viewchange",this.zY,this);this.Fe=new a4;this.T=R.S("canvas");this.T.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.nl=this.T.getContext("2d");var l=k.Q(16*16*4);k.by(l,f,f,8);this.HI=k.scale.C7(l,f,f);this.kn.ahs(this.T);
this.kn.Il(this.Fe);this.Fe.Il(this.kn);K.appendChild(this.kn.m);if(i)K.appendChild(this.T);else K.appendChild(this.Fe.m)}hs.prototype=new fQ;
hs.prototype.Vv=function(){return new cq(0,0)};hs.prototype.uq=function(){return!0};hs.prototype.JQ=function(i,$){this.DD=i;
this.mJ=$;$=$-44;if(i<600)$-=29;if(this.lT==null)return;var h=this.lT.kp,d=ay.aq4(i,$,h.e,h.n);if(d==1)$-=3;
if(d==0){i=Math.floor(i/2);R.FK(this.Tp,"flexrow")}else{$=Math.floor($/2);R.jE(this.Tp,"flexrow")}R.Pe(this.T,i,$);
this.kn.JQ(i,$);if(this._j)this.zY();else this.Fe.JQ(i,$)};hs.prototype.PS=function(i,$,h,d){this.kn.PS(d)};
hs.prototype.f=function(){fQ.prototype.f.call(this);for(var i in this.hD)this.hD[i].f()};hs.prototype.Ra=function(i,$){this.pP=i;
this.LG=null;var h=i.B[i.g[0]],d=k.SU.IY(h.buffer.buffer,h.rect.e,h.rect.n).amd,K=d/((h.rect.e-2)*(h.rect.n-2)),f=this.hD;
f.cnum.t(20);f.nois.t(K<.75);f.mode.t(K<.75?1:0);f.segm.t(!1);f.poly.t(!1);f.merg.t(!0);f.polE.t(1);
f.dthr.t(!1);var l=h.rect.clone();l.x=l.y=0;this.lT={kp:l,data:h.buffer.buffer.slice(0)};this.vu=null;
this.JQ(this.DD,this.mJ);this.kn.t([this.lT]);this.kn.Ye();this.NO=!0;setTimeout(this.Ox,20)};hs.prototype.jb=function(){var i=!0,$=Date.now(),h=this.lT,d=this.hD,K=d.cnum.G(),f=d.nois.G(),l=d.mode.G(),u=d.segm.G(),U=d.poly.G(),y=d.merg.G(),a=d.polE.G(),P=null;
if(l==0)u=U=!1;var v=d.dthr.G(),c=["cnum","nois","mode"];if(l==1){c.push("segm");if(this._j){c.push("poly");
if(U)c.push("polE")}}if(this._j)c.push("merg");else c.push("dthr");c.push("ok");R.J9(this.VX);for(var t=0;
t<c.length;t++)this.VX.appendChild(d[c[t]].m);if(i)console.log("---------------------------------------");
var p=f||u,C=f+","+u;if(p&&(this.vu==null||this.y_!=C)){this.y_=C;var T=new Uint8Array(h.data),E=h.kp.e,r=h.kp.n;
if(f){if(this.LG==null){this.LG=T.slice(0);k._G.tu(this.LG,this.LG,E,r,15,k._G.Fk,[35]);if(i){console.log("denoise",Date.now()-$);
$=Date.now()}}T=this.LG.slice(0)}else T=T.slice(0);if(u){var Y=k.SU.TW(T,E,r,40,10),S=Y.lg,m=new Uint8Array(S*4);
for(var t=0;t<S;t++){var Q=t*4,z=t*6,n=1/Y.ul[z+5];m[Q]=Y.ul[z]*n;m[Q+1]=Y.ul[z+1]*n;m[Q+2]=Y.ul[z+2]*n}for(var t=0;
t<T.length;t+=4){var Z=Y.NX[t>>>2]*4;T[t]=m[Z];T[t+1]=m[Z+1];T[t+2]=m[Z+2]}if(i){console.log("segm",Date.now()-$);
$=Date.now()}}this.vu={kp:h.kp.clone(),data:T.buffer}}if(p)h=this.vu;var T=new Uint8Array(h.data),E=h.kp.e,r=h.kp.n;
for(var t=0;t<T.length;t+=4){if(T[t+3]<10)T[t]=T[t+1]=T[t+2]=T[t+3]=0}if(l==0){P=k.SU.a9S(T,E,r,K,p?.1:2e-4);
if(i){console.log("quantize",Date.now()-$);$=Date.now()}}if(l!=0||P&&P.uU.length<2){P=jG.agM(T.buffer,K,E,r)}if(this._j){var V=P.NX.slice(0);
for(var t=0;t<V.length;t++)V[t]++;var I=new Uint8Array((E+2)*(r+2));k.Zc(V,new bN(1,1,E,r),I,new bN(0,0,E+2,r+2));
if(!U){var q=Math.round((E+2)*(r+2)/1e4),X=ch.kL(I.slice(0),E+2,r+2,Math.min(12,q)),B=ch.iW(X);if(i){console.log("trace smooth",Date.now()-$);
$=Date.now()}}else{var B=k.p.vt(I,E+2,r+2,a,i)}var e=B.length,F=new ej(1,0,0,1,-1,-1);for(var t=0;t<e;
t++)k.p.D(B[t].path.C,F,B[t].path.C);this.IH=B;this.fQ=P;for(var t=0;t<e;t++){var s=B[t];for(var J=t+1;
J<e;J++){var W=B[J];if(W.parent==t&&P.uU[W.color-1].est.q[3]<.05){var L=W.path.H.slice(1);L.reverse();
L=["M"].concat(L);var A=[],X=W.path.C.length;for(var j=0;j<X;j+=2){A[j]=W.path.C[X-2-j];A[j+1]=W.path.C[X-2-j+1]}k.p.concat(s.path,{C:A,H:L})}}}if(i){console.log("finding holes",Date.now()-$);
$=Date.now()}for(var t=0;t<B.length;t++){var G=B[t];if(G.parent!=-1){var O=B[G.parent];G.parent=O;if(O.Oa==null)O.Oa=[];
O.Oa.push(G)}G.depth=G.parent==-1?0:G.parent.depth+1}if(y){function o(i3,kv){var eT={},eV=0,hr=0;for(var t=0;
t<i3.length;t++){var b=i3[t].color,j="c"+b;if(b==kv)throw b;if(eT[j]==null)eT[j]=0;eT[j]++;if(eT[j]>eV){eV=eT[j];
hr=b}}return hr}var N=[],w=[],kv=-1,g=!0;for(var t=0;t<B.length;t++)if(B[t].parent==-1)w.push(B[t]);
while(w.length!=0){var b=o(w,kv);kv=b;for(var t=0;t<w.length;t++)if(w[t].color==b){var jU=w[t];N.push(jU);
w.splice(t,1);t--;if(jU.Oa)for(var J=0;J<jU.Oa.length;J++){w.push(jU.Oa[J]);if(jU.Oa[J].color!=b)g=!1}}}if(g)B=N;
else{var _=[];for(var cY=0;cY<500;cY++){var j3=[],X=_[cY-1];_.push(j3);for(var t=0;t<B.length;t++){var G=B[t],O=G.parent;
if(cY==0&&O==-1||cY!=0&&X.indexOf(O)!=-1){j3.push(G);B.splice(t,1);t--}}j3.sort(function(i3,eT){return i3.color-eT.color});
if(B.length==0)break}for(var t=0;t<_.length;t++)B=B.concat(_[t])}}else{var N=[],aS=[];while(B.length!=0){aS.push(B.shift());
while(aS.length!=0){var bL=aS.pop();N.push(bL);if(bL.Oa)for(var t=0;t<bL.Oa.length;t++){var G=bL.Oa[t];
B.splice(B.indexOf(G),1);aS.push(G)}}}B=N}this.IH=B;for(var t=0;t<B.length;t++){var s=B[t],cQ=P.uU[s.color-1].est.q;
if(cQ[3]<=.05){B.splice(t,1);t--;continue}}for(var t=1;t<B.length;t++){var cK=B[t-1],s=B[t];if(cK.color==s.color&&(y||cK.parent==s.parent&&cK.depth>=2)){k.p.concat(cK.path,s.path);
B.splice(t,1);t--;continue}}if(i){console.log("reordering layers",Date.now()-$,e,B.length);$=Date.now()}this.zY()}else{var el=new Uint32Array(E*r),gF=E*r;
if(v){var fj=[];for(var t=0;t<P.uU.length;t++)fj.push(P.uU[t].est.rgba);var Z=k.Q(E*r);UPNG.encode.dither(new Uint8Array(h.data),E,r,fj,new Uint8Array(el.buffer),Z)}else{for(var t=0;
t<gF;t++){var b=P.uU[P.NX[t]];el[t]=b.est.rgba}}this.ahS=new Uint8Array(el.buffer);this.Fe.t([{kp:h.kp,data:el.buffer}]);
if(this.NO){this.Fe.Ye();this.NO=!1}}};hs.prototype.zY=function(i){if(this.IH==null)return;var $=this.lT.kp.e,h=this.lT.kp.n,d=this.IH,K=this.fQ.uU,f=this.T,l=this.nl,u=this.kn.Uw();
l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,f.width,f.height);l.translate(f.width/2,f.height/2);l.scale(u.N,u.N);
l.translate(u.I.x/u.N-$/2,u.I.y/u.N-h/2);l.scale(1/u.N,1/u.N);l.fillStyle=this.HI;l.fillRect(0,0,$*u.N,h*u.N);
l.scale(u.N,u.N);var U=[];for(var t=0;t<K.length;t++){var y=K[t].est.q;U.push({o:Math.round(255*y[0]),P:Math.round(255*y[1]),Z:Math.round(255*y[2]),Pi:Math.round(255*y[3])})}for(var t=0;
t<d.length;t++){var a=d[t],y=U[a.color-1];if(y.Pi==0)continue;l.fillStyle="rgba("+y.o+","+y.P+","+y.Z+","+y.Pi/255+")";
l.beginPath();Typr.U.pathToContext({crds:a.path.C,cmds:a.path.H},l);l.fill()}};hs.prototype.KO=function(i){var $=this.pP,h=$.g[0],d=$.B[h],K=new eU(x.E.s,!0);
K.Ea=!0;K.b=D.$S;if(this._j){var f=this.IH,l=f.length==1,u=$.B.slice(0,h);if(!l)u.push($.U4());for(var t=0;
t<f.length;t++){var U=f[t],y=this.fQ.uU[U.color-1].est.q;k.p.D(U.path.C,new ej(1,0,0,1,d.rect.x,d.rect.y),U.path.C);
var a=$.Dw();a.DN("Path "+t);u.push(a);a.opacity=Math.round(y[3]*255);a.pM|=16;a.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.M.Aw({o:255*y[0],P:255*y[1],Z:255*y[2]})}};
a.add.vmsk=new H.LF;a.add.vstk=JSON.parse(JSON.stringify(et._T.default));a.add.vmsk.i=k.p.Kg(U.path,!1);
a.add.vogk=[];a.Yt();a.ET($)}var v=u[u.length-1];if(!l){var a=$.Dw();a.DN(d.getName());a.add.lsct=gX.DU;
a.R$="pass";a.pM=24;u.push(a);v=a}var c=d.add.lmfx;if(c)v.add.lmfx=JSON.parse(JSON.stringify(c));for(var t=h+1;
t<$.B.length;t++)u.push($.B[t]);K.data={d:H.ad,mV:u,sG:[h+f.length+(l?-1:1)],Q8:[11,11,0]}}else{var u=$.B.slice(0),a=$.Dw();
a.DN(d.getName());u.splice($.g[0]+1,0,a);a.rect=d.rect.clone();a.buffer=this.ahS;a.U();K.data={d:H.ad,mV:u,sG:[$.g[0]+1],Q8:[11,11,1]}}this.$(K);
this.close()};function ay(i){fQ.call(this,[[7,11],[7,13]][i],["redge","magiccut"][i]);this.AK=i;this.lT={};
this.xo=null;this.bX=null;this.pP=null;this.$X=null;this.k_=null;this.body.style.padding="0";this.IE=[];
this.tv=-1;this.VX=R.S("div","form hbar padded");this.body.appendChild(this.VX);this.IW=new iK;this.IW.parent=this;
this.IW.h(x.E.r,this.S7,this);this.VX.appendChild(this.IW.m);var $=i==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
$=$.concat("tools/hand","zoomIn","zoomOut");var h=i==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.mp=new jh(null,$,h,28);this.mp.h(x.E.r,this.PS,this);this.VX.appendChild(this.mp.m);this.sU=new j6([7,9],0,50,null);
this.sU.parent=this;this.sU.h(x.E.r,[this.au$,this.jb][i],this);this.VX.appendChild(this.sU.m);var d=this.ab7=new d_([2,2],!1,null,!0);
d.h("click",this.sy,this);this.VX.appendChild(d.m);var K=this.RQ=R.S("span","form");this.VX.appendChild(K);
var f=this.apV=new d_([12,90],!1,null,!0);f.h("click",function(U){alert(i==0?e_.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
K.appendChild(f.m);var l=new d_("Tutorial",!1,null,!0);l.h("click",this.aqx,this);K.appendChild(l.m);
this.BJ=new jh([12,46],["checker","#ffffff","#000000"]);this.BJ.h(x.E.r,this.aiy,this);K.appendChild(this.BJ.m);
this.Id=new ku(null,[[6,13],[6,2],[17,2]]);K.appendChild(this.Id.m);this.RR=R.Lg(this,K,!1);var u=this.Tp=R.S("div","flexrow");
this.body.appendChild(u);this.e$=new a4(!0);this.mk=new a4;this.e$.Il(this.mk);this.mk.Il(this.e$);this.e$.h("mousedown",this.k7,this);
this.e$.h("mousemove",this.CX,this);this.e$.h("mouseup",this.QA,this);this.e$.h("zoom",this.S7,this);
this.mk.h("zoom",this.S7,this);u.appendChild(this.e$.m);u.appendChild(this.mk.m)}ay.prototype=new fQ;
ay.prototype.Vl=function(i,$){var h=i!=null&&!i.B[i.g[0]].rect.NT();if(!h)alert("The layer is empty.");
return h};ay.prototype.Vv=function(){return new cq(0,0)};ay.prototype.uq=function(){return!0};ay.prototype.JQ=function(i,$){this.DD=i;
this.mJ=$;$=$-12-33;if(i<900){this.RQ.setAttribute("style","display:block;  text-align:right;");$-=29}else{this.RQ.setAttribute("style","position:absolute;  right:0px")}this.BJ.L5(i<440?null:[12,46]);
this.sU.L5(i<470?null:[7,9]);var h=this.lT.rect;if(h){var d=ay.aq4(i,$,h.e,h.n);if(d==0){i=Math.floor(i/2);
R.FK(this.Tp,"flexrow")}else{$=Math.floor($/2);R.jE(this.Tp,"flexrow")}this.e$.JQ(i,$);this.mk.JQ(i,$)}};
ay.aq4=function(i,$,h,d){var K=i/2,f=$/2,l=Math.min(K/h,$/d),u=Math.min(i/h,f/d);return l>u?0:1};ay.prototype.f=function(){fQ.prototype.f.call(this);
this.IW.f();this.sU.f();this.RR.f();this.BJ.f();this.Id.f();this.ab7.f();this.apV.f()};ay.prototype.aqx=function(i){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.AK],"_blank")};
ay.prototype.aG=function(i,$){this.bX=i;if($==dC.nj||$==dC.mW){this.IW.B8(i.qX);this.IW.t(bk.rw(),i.qX.pd,i.qX.ut)}};
ay.prototype.PS=function(i,$,h,d){var K=this.mp.G();if(d==null){this.e$.PS(a4.a8I(K-3));return}this.$X=d;
var f=D.Gg.Ed(this.IW.G(),d);if(f!=null){this.IW.t(f);this.S7()}else if(d.j(ai.PO)&&d.j(ai.y4)){var l=this.IE,u=0;
if(d.j(ai.EW)){if(this.tv+1<l.length)u=1}else if(this.tv>0)u=-1;if(u!=0){this.tv+=u;var U=this.tv,y=this.lT;
if(u==1)k.mC(l[U][2],l[U][0],y.iE,y.rect);else k.mC(l[U+1][1],l[U+1][0],y.iE,y.rect);y.ZX=y.rect;this.jb()}}else if(K<3)this.e$.PS(d)};
ay.prototype.hX=function(i){var $=this.lT,h=this.IE,d=k.Q(i.O()*4);k.mC($.Yu,$.rect,d,i);$.Yu=null;var K=k.Q(i.O()*4);
k.mC($.iE,$.rect,K,i);this.tv++;h[this.tv]=[i.clone(),d,K];while(h.length>this.tv+1)h.pop();while(h.length>50){h=h.slice(1);
this.tv--}};ay.prototype.S7=function(){var i=this.bX,$=kn.EL(this.IW.G(),i.qX.pd,this.e$.Uw().N);this.e$.$o($)};
ay.prototype.k7=function(i){var $=this.bX,h=this.lT,d=this.$X,K=this.IW.G(),f=this.e$.CQ(),l=[16777215,8421504,0][this.mp.G()];
this.xo=new kn(K,$.qX.pd,$.qX.ut,{kJ:1,JU:!0},l,$.n9,h.rect);h.Yu=h.iE.slice(0);if(d!=null&&d.j(ai.EW)&&this.k_){this.xo.moveTo(this.k_.x,this.k_.y);
this.xo.lineTo(f.x,f.y)}else this.xo.moveTo(f.x,f.y);this.a5s()};ay.prototype.CX=function(i){var $=this.lT,h=this.e$.CQ();
this.xo.lineTo(h.x,h.y);this.a5s()};ay.prototype.QA=function(i){this.k_=this.e$.CQ();this.hX(this.xo.Je());
this.jb()};ay.prototype.a5s=function(){var i=this.lT,$=this.xo,h=$.UH();if(h.NT())return;i.ZX=h;k.l.NU("norm",$.T9(),$.bL(),i.iE,i.rect,h,1);
this.aqa()};ay.prototype.sy=function(i){var $=this.lT;$.Yu=$.iE.slice(0);$.ZX=$.rect;k.MK($.iE,[4278190080,4292730333][this.AK]);
this.hX($.rect);this.jb()};ay.prototype.Ra=function(i,$){this.pP=i;var h=i.B[i.g[0]],d=h.rect.clone(),K=d.e,f=d.n;
this.sU.t(this.AK==0?3:K*f<3e6?3:0);this.mp.t(i.J==null?0:1);this.sU.eI();if(this.AK==0&&i.J!=null||this.AK==1)this.sU.wA();
var l=this.AK,u=k.Q(d.O()),U=new Float32Array(d.O());if(l==0&&i.J){k.Zc(i.J.channel,i.J.rect,u,d);var y=k.Q(d.O());
for(var a=0;a<f;a++)for(var v=0;v<K;v++){var t=a*K+v,c=u[t];if(v>0&&u[t-1]!=c||v<K-1&&u[t+1]!=c||a>0&&u[t-K]!=c||a<f-1&&u[t+K]!=c)y[t]=255}k.style.bV(y,U,K,f)}else U.fill(1e9);
d.x=d.y=0;this.lT={rect:d,Yz:h.buffer,dF:u,N3:U,Es:k.Q(d.O()*4),cJ:k.Q(d.O()*4),iE:k.Q(d.O()*4),Yu:null,sW:null,ZX:d,ahF:{}};
if(l==0)this.au$();else{this.lT.ahF=D.YU.a4X(i);var p=this.lT.iE;k.MK(p,4287137928);var C=k.s2.getSelection(h.buffer,K,f),T=Math.round(K/60),E=Math.round(.7*f);
for(var a=0;a<f;a++)for(var v=0;v<K;v++){var r=(a*K+v)*4,Y=C[r>>>2];Y=Y>128?255:128;if(a<T||a<E&&(v<T||v>K-1-T))Y=0;
p[r]=p[r+1]=p[r+2]=Y}this.jb()}this.IE=[1];this.tv=0;var S=this.IW.G();S.Brsh.v.Dmtr.v.val=Math.round(d.e/(l==0?10:20));
this.IW.t(S);this.S7();this.JQ(this.DD,this.mJ);this.e$.Ye()};ay.prototype.au$=function(){var i=this.lT,$=i.rect.O(),h=this.sU.G(),d=i.dF.slice(0);
for(var t=0;t<$;t++)if(i.N3[t]<h)d[t]=128;k.MK(i.iE,4294967295);k.k1(d,i.iE,0);k.k1(d,i.iE,1);k.k1(d,i.iE,2);
i.ZX=i.rect;this.jb()};ay.prototype.jb=function(){var i=this.lT,K,u,U=0,y=0,a=0;this.aqa();var $=i.rect,h=$.e,d=$.n,f=k.Q($.O()),l=i.Yz;
k.pO(i.iE,f,0);for(var t=0;t<f.length;t++){if(l[(t<<2)+3]!=255)continue;var v=f[t];if(v==0)U++;else if(v==255)y++;
else a++}if(U*y*a!=0){if(this.AK==0)u=k.O4.O4($,l,f);else{var c=this.mp.G();for(var p=1;p<d;p++)for(var C=1;
C<h;C++){var t=p*h+C,T=f[t],E=f[t-1];if(T==0&&E==255||T==255&&E==0){K="The Red and Green should never touch! Erase it with Grey.";
break}}var r=Date.now(),Y=this.lT.ahF;k.pv(f,Y.oq);D.YU.Zr(Y,!0);var S=Math.ceil(this.sU.G()/2);if(S==0){u=l.slice(0);
k.k1(Y.J,u,3)}else{var m=Y.J.slice(0),Q=Y.J.slice(0);for(var z=0;z<S;z++){for(var p=1;p<d-1;p++)for(var C=1;
C<h-1;C++){var t=p*$.e+C,n=m[t];if(m[t-h]!=n||m[t-1]!=n||m[t+1]!=n||m[t+h]!=n)Q[t]=128;else Q[t]=n}var Z=m;
m=Q;Q=Z}u=k.O4.O4($,l,m,20,!1)}}}else{u=l.slice(0);k.k1(f,u,3)}for(var t=3;t<u.length;t+=4)if(u[t]>l[t])u[t]=l[t];
if($.Rl(i.rect))i.sW=u;else k.mC(u,$,i.sW,i.rect);this.aiy();if(K)alert(K,4e3)};ay.prototype.aqa=function(i){var $=this.lT,h=$.ZX;
k.mC($.Yz,$.rect,$.Es,$.rect,h,!0);var d=$.iE;if(this.AK==1){var K=new Uint32Array(256);K[0]=4278190335;
K[255]=4278255360;var f=$.rect.O();d=d.slice(0);var l=new Uint32Array(d.buffer);for(var t=0;t<f;t+=2){l[t]=K[l[t]&255];
l[t+1]=K[l[t+1]&255]}}k.l.NU("norm",d,$.rect,$.Es,$.rect,h,.3);this.e$.t([{kp:$.rect,data:$.Es.buffer}])};
ay.prototype.aiy=function(i){var $=this.lT;k.MK($.cJ,[0,4294967295,4278190080][this.BJ.G()]);k.l.NU("norm",$.sW,$.rect,$.cJ,$.rect,$.rect,1);
this.mk.t([{kp:$.rect,data:$.cJ.buffer}])};ay.prototype.KO=function(i){var $=this.pP,h=this.lT,d=this.Id.G(),K=$.B[$.g[0]],f=new eU(x.E.s,!0);
f.Ea=!0;var l=K.rect.clone();if(d==0&&K.ji()||d!=0&&!K.ji()){f.b=D.$S;f.data={d:H.Ja,a:$.g[0]};this.$(f)}if($.J!=null){f.b=D.oN;
f.data={d:"fromAction",Uf:D.n1.Yy()};this.$(f)}if(d==0){var u=$.B.slice(0),U=$.Dw();U.DN(K.getName());
u.splice($.g[0]+1,0,U);U.rect=l;U.buffer=h.sW;U.U();f.b=D.$S;f.data={d:H.ad,mV:u,sG:[$.g[0]+1],Q8:[7,11]};
this.$(f)}if(d==1){var y=K.MQ();f.b=D.$S;f.data={d:H.qK,aqP:!0};this.$(f);var a=K.MQ();a.channel=k.Q(l.O());
a.rect=l;a.color=0;a.D3=!0;k.pO(h.sW,a.channel,3);if(y){var v=a.hW(y);a.rect=v.rect;a.channel=v.channel;
a.color=v.color}a.HH();K.ET()}if(d==2){var c={rect:l,channel:k.Q(l.O())};k.pO(h.sW,c.channel,3);f.b=D.oN;
f.data={d:"setsel",J:c,Q8:this.u0};this.$(f)}this.close()};function b$(){fQ.call(this,[1,13],"locstor");
this.RM=null;this.L9=[];var i=this.body,$=R.S("p");$.textContent="These files are loaded every time you start Photopea.";
i.appendChild($);this.atQ=0;this.tm=R.S("span");i.appendChild(this.tm);this.tm.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var h=R.S("span","form");i.appendChild(h);this.SC=new d_([5,4],!1,null,!0);this.SC.h("click",this.nJ,this);
h.appendChild(this.SC.m);this.a4P=new d_("Get all as ZIP",!1,null,!0);this.a4P.h("click",this.ak,this);
h.appendChild(this.a4P.m);this.p2=new ks(!0);this.p2.parent=this;this.p2.ot(1);i.appendChild(this.p2.m);
this.p2.m.setAttribute("style","width: 40em; height: 25em")}b$.prototype=new fQ;b$.prototype.f=function(){fQ.prototype.f.call(this);
this.tm.textContent=e_.get([13,2])+": "+jS.pN(this.atQ);this.SC.f()};b$.prototype.aG=function(i,$){this.RM=i;
if($==dC.cs)this.Ra()};b$.prototype.Ra=function(i,$){var h=this.RM._D.NV,U=0;this.L9=[];for(var d in h)this.L9.push(d);
this.L9.sort(function(a,v){a=a.split(".");v=v.split(".");return a[1]==v[1]?a[0]<v[0]?-1:1:a[1]<v[1]?-1:1});
var K=Math.floor(100*R.V()),f=Math.floor(16*R.V()),l=[],u=[];for(var t=0;t<this.L9.length;t++){var d=this.L9[t],y=b$.eR(d,h[d],K,f);
l.push(y);u.push(d);U+=h[d].byteLength}this.p2.BN(l,u,K,f);this.atQ=U;this.f()};b$.prototype.nJ=function(i){var $=this.p2.G();
if($.length==0){alert("Select a file first.");return}this.p2.t([]);var h=this.RM._D.NV;for(var t=0;t<$.length;
t++)delete h[this.L9[$[t]]];var d=new eU(x.E.k,!0);d.data={d:x.c.vj,J0:dC.cs};this.$(d)};b$.prototype.ak=function(i){var $=this.RM._D.NV,h={};
for(var d in $)h[d]=new Uint8Array($[d]);var K=UZIP.encode(h);bU.save(K,"resources.zip")};b$.eR=function(i,$,h,d){var K=R.S("canvas"),u=0;
K.width=h;K.height=d;var f=K.getContext("2d"),l=i.split(".").pop().toLowerCase();for(var t=0;t<l.length;
t++)u+=l.charCodeAt(t)*613<<8*t;f.fillStyle="#"+k._V(u&16777215);f.fillRect(0,0,20,d);var U=Math.floor(14*R.V());
f.fillStyle="#000000";f.font="bold "+U+"px sans-serif";var y=(d-U)/2,a=jS.pN($.byteLength),v=f.measureText(a);
f.fillText(a,h-12-v.width,d-y);return K.toDataURL()};function ak(){fQ.call(this,[1,15],"pmanager");this.RM=null;
this.aK=new ku([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.aK.h(x.E.r,this.Ra,this);
this.body.appendChild(this.aK.m);var i=R.S("div","flexrow");this.body.appendChild(i);var $=this.a8v=R.S("div");
i.appendChild($);var h=R.S("div","form");i.appendChild(h);h.setAttribute("style","width:140px; margin-left:12px");
this.at2=[dC.nj,dC.Sm,dC.tY,dC.G0,dC.vy,dC.Fr];this.Oc=[new iK,new gh,new h6,new ft,new fw,new g7];for(var t=0;
t<this.Oc.length;t++)this.Oc[t].parent=this;this.GF=[];for(var t=0;t<4;t++){var d=new d_("Hello",!0,null,!0);
d.h("click",this.Bp,this);this.GF.push(d);h.appendChild(d.m)}this.Ra()}ak.prototype=new fQ;ak.prototype.JL=function(i){return i==ai.X1||i==ai.A9};
ak.prototype.Bp=function(i){var t=this.GF.indexOf(i.target);this.Oc[this.aK.G()].d6(t)};ak.prototype.f=function(){fQ.prototype.f.call(this);
this.aK.f();for(var t=0;t<this.Oc.length;t++)this.Oc[t].f();var i=this.GF,$=this.aK.G(),h=dC.Gi[this.at2[$]],d=h[0].toUpperCase();
i[0].L5([[23,6],"."+d]);i[1].L5(["VAR0 ."+d,[1,8]]);i[2].L5([6,37]);i[3].L5([5,4])};ak.prototype.aG=function(i,$){this.RM=i;
this.Ra()};ak.prototype.Ra=function(i,$){if(!R.bT(this.m))return;this.f();R.J9(this.a8v);this.a8v.appendChild(this.Oc[this.aK.G()].Qm);
var h=this.Oc,d=this.RM;if(d==null)return;h[0].B8(d.qX);h[1].yO(d.Mz,d.n9);h[1].B8(d.KH);h[2].B8(d.c$);
h[3].B8([d.bQ,d.c$]);h[4].B8(d.DV);h[5].B8(d.qb)};function f7(i,$,h){fQ.call(this,$,"cwindow");this.acj=new cq(h[0],h[1]-33);
this.VX=R.S("div","form");this.VX.setAttribute("style","width:"+(h[2]-h[0])+"px; height:"+(h[3]-h[1])+"px");
this.body.appendChild(this.VX)}f7.prototype=new fQ;f7.prototype.Vv=function(i,$){return this.acj.clone()};
function by(i){var $=by.alm(i);fQ.call(this,$,"res"+i);var h=this.agI.bind(this);window.addEventListener("message",function(K){if(typeof K.data=="string"&&K.data.startsWith("--et ")){console.log(K.data);
var f=this.avC=K.data.slice(5).split(",");f[0]=parseFloat(f[0]);jF.ip(f[0],f[1],h)}}.bind(this));this.Ej=$;
this.eJ=i;this.a8j=null;this.Ii=null;this.xi=0;this.C3=null;this.Ml=null;this.avC=null;this.RM=null;
this.body.setAttribute("style","padding:0");this.w0=new d_("",null,null,!0);this.body.appendChild(this.w0.m);
this.w0.h("click",this.NF,this);this.w0.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.UK=R.S("span","form");this.body.appendChild(this.UK);this.UK.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.GF=[];for(var t=0;t<9;t++){var d=new d_(by.alm(t));this.GF.push(d);if(t==i)d.t(!0);this.UK.appendChild(d.m);
d.h("click",this.a5D,this)}this.zo=new d_([5,3],null,null,!0);this.zo.h("click",this.aex,this);this.a6F=new d_("Upload Current Document as a Template",null,null,!0);
this.a6F.h("click",this.ac9,this);this.E0=new at("Creator / Brand name");this.Xa=new d_([1,2],null,null,!0);
this.Xa.h("click",this.a4z,this);this.Tl=R.S("iframe","scrollable");this.Tl.setAttribute("style","border:none; margin:0; padding:0;");
this.Sh=R.S("div","form scrollable padded");this.Jd=new d0(i);this.Jd.h("back",this.sy,this);this.Jd.h("save",this.as$,this);
this.body.appendChild(this.Tl)}by.prototype=new fQ;by.alm=function(i){var $;if(i==0)$=[25,0];else if(i==1)$="Plugins";
else for(var h in dC.Gi)if(dC.Gi[h][4]==i)$=dC.Gi[h][3];return $};by.prototype.a5D=function(i){this.close();
var t=this.GF.indexOf(i.target),$=new eU(x.E.k,!0);$.data={d:x.c.ZD,Kh:"res"+t};this.$($)};by.prototype.agI=function(i){this.NF();
this.Ml=JSON.parse(i.target.response);this.X6()};by.prototype.a4z=function(i){var $=jF.CI();if($.tpl==null)$.tpl={};
$.tpl.brnd=this.E0.G().trim();jF.JB($,function(){alert("Saved.")})};by.prototype.Vv=function(i,$){return new cq(0,0)};
by.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;this.yM=null;$=$-4;i=i;var h=this.Sh;h.style.width=i-12+"px";
h.style.height=$-12+"px";var h=this.Jd.m;h.style.width=i-12+"px";h.style.height=$-12+"px";var h=this.Tl;
h.style.width=i+"px";h.style.height=$+"px";this.Ew()};by.prototype.aG=function(i,$){this.RM=i};by.prototype.f=function(){fQ.prototype.f.call(this);
for(var t=0;t<this.GF.length;t++)this.GF[t].f();this.zo.f()};by.prototype.Ra=function(i,$,h,d){this.yM=i;
this.NF(null,!1)};by.prototype.NF=function(i,$){var h=$!=null?$:R.bT(this.Tl);if(h){if(!jF.o4()){alert("You need to log in first!");
return}var d=jF.CI();this.Ii=d.tpl?d.tpl.list:[];this.E0.t(d.tpl&&d.tpl.brnd?d.tpl.brnd:jF.Ky().name);
this.Ew()}else{this.Tl.setAttribute("src","");this.Tl.setAttribute("src","templates/?type="+this.eJ+"&rsrc="+this.RM.YF.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(h?this.Sh:this.Tl);var K=e_.get(this.Ej);this.w0.L5(h?"All "+K:"Add "+K)};by.prototype.Ew=function(){var i=e_.get(this.Ej),$=this.Ii,h=this.eJ,u=450;
if($==null)return;var d=this.Sh;R.J9(d);var K=R.S("h1");d.appendChild(K);K.textContent="Share your "+i+" with the world!";
var f=R.S("ul");d.appendChild(f);var l=R.S("li");f.appendChild(l);l.textContent="By publishing your "+i+", you agree to let others use them for all kinds of purposes, even commercially.";
d.appendChild(this.zo.m);if(h==0)d.appendChild(this.a6F.m);R.k6(d);d.appendChild(this.E0.m);d.appendChild(this.Xa.m);
R.k6(d);u=(this.DD-20)/Math.max(1,Math.floor(this.DD/u))-42;var U="display:inline-block; width:"+u+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var t=$.length-1;t>=0;t--){var y=$[t];if(y.type==null)y.type=0;if(y.type!=h)continue;var a=R.S("div");
d.appendChild(a);a.setAttribute("style",U);var v=R.S("img");a.appendChild(v);v.setAttribute("src",y.thmb);
v.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var c=R.S("h3");a.appendChild(c);c.textContent=y.name;c.setAttribute("style","margin:0 0 10px 0");var p=R.S("p");
a.appendChild(p);p.textContent=y.desc;p.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var C=0;C<2;C++){var T=new d_(C==0?"Edit":"Delete",null,null,!0);T.ay2=t;T.X6=C==0;T.h("click",this.arV,this);
a.appendChild(T.m)}}};by.prototype.ac9=function(i){if(this.yM==null){alert("No document opened.");return}var $=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!$)return;var h=new eU(x.E.k,!0);h.data={d:x.c.Eu,BC:"psd",VS:this.a5P.bind(this)};this.$(h)};by.prototype.a5P=function(i){this.aat=i;
var $=new eU(x.E.k,!0);$.data={d:x.c.Eu,BC:"jpg",VS:this.aiK.bind(this),aoh:1400};this.$($)};by.prototype.aiK=function(i){this.C3={type:0,catg:0,desc:"",file:this.aat,name:this.yM.name.split(".")[0],thmb:i,publ:!0,utme:""};
this.X6()};by.prototype.aex=function(i){this.C3={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.X6()};by.prototype.arV=function(i){this.xi=i.target.ay2;if(!i.target.X6){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.Ii.splice(this.xi,1);this.ak();this.Ew();return}this.X6()};by.prototype.X6=function(){if(R.bT(this.Sh))this.body.removeChild(this.Sh);
this.body.appendChild(this.Jd.m);var i=this.C3?this.C3:this.Ml?this.Ml:this.Ii[this.xi];if(i.type==null)i.type=0;
this.Jd.t(i)};by.prototype.as$=function(i){var $=this.Jd.G();if(this.C3)this.Ii.push($);else if(this.Ml){var h=this.avC;
jF.ip(h[0],h[1],this.sy.bind(this),JSON.stringify($));return}else this.Ii[this.xi]=$;this.ak();this.sy()};
by.prototype.sy=function(){var i=this.Ml;this.C3=null;this.Ml=null;this.body.removeChild(this.Jd.m);
this.body.appendChild(this.Sh);this.Ew();if(i)this.NF()};by.prototype.ak=function(){var i=jF.CI();if(this.Ii.length==0)delete i.tpl;
else i.tpl={list:JSON.parse(JSON.stringify(this.Ii))};jF.JB(i,function(){alert("Saved.")})};function e9(){fQ.call(this,"Make Selection","makesel");
this.RM=null;var i=R.S("div","form");this.body.appendChild(i);this.H8=new iD([12,25,1]);this.H8.t(!0);
i.appendChild(this.H8.m);R.k6(i);this.cc=new cX(!0);i.appendChild(this.cc.m);this.RR=R.Lg(this,this.body)}e9.prototype=new fQ;
e9.prototype.f=function(){fQ.prototype.f.call(this);this.cc.f();this.H8.f();this.RR.f()};e9.prototype.KO=function(i){var $=new eU(x.E.s,!0);
$.b=D.oN;$.data={d:"frompath",ZP:[null,0,this.cc.G(),this.H8.G()]};this.close();this.$($)};function ep(){fQ.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");
this.yM=null;this.Rq=null;this.a_=null;var i=this.ag4=R.S("div","form");i.setAttribute("style","width:20em");
this.body.appendChild(i);this.EM=new ee([12,50],["PSD","PSB"]);this.EM.h(x.E.r,this.vF,this);i.appendChild(this.EM.m);
R.Tq(i);var $=new ie("Minify the file");i.appendChild($.m);R.k6(i);var h=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.fv=[];for(var t=0;t<h.length;t++){var d=new iD(h[t]);this.fv.push(d);i.appendChild(d.m);d.h(x.E.r,this.vF,this)}R.Tq(i);
this.uG=new ie("aa.psd");this.bt=new ie("10 kB");i.appendChild(this.bt.m);this.ahk=new ie("1000 B");
i.appendChild(this.ahk.m);this.RR=new d_([1,2],!0,null,!0);this.RR.h("click",this.KO,this);i.appendChild(this.RR.m);
this.Xu=new d_(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Xu.h("click",this.KO,this);i.appendChild(this.Xu.m);
this.h("closebtn",this.Ti,this)}ep.prototype=new fQ;ep.prototype.Ra=function(i,$,h,d){var K=R.bT(this.Xu.m),f=i.PF!=null&&i.PF.LT=="psd";
if(f&&!K)this.ag4.appendChild(this.Xu.m);if(!f&&K)this.ag4.removeChild(this.Xu.m);for(var t=0;t<this.fv.length;
t++)this.fv[t].t(!1);this.yM=i;this.vF()};ep.prototype.KO=function(i){if(i.target==this.RR)bU.save(this.Rq,this.a_);
else{if(this.fv[3].G()){alert("You should not save a ZIP as a PSD to Google Drive.");return}gz.al1(this.yM,this.Rq)}};
ep.prototype.Ti=function(){this.yM=null;this.Rq=null};ep.prototype.vF=function(){var i=this.yM,$=[!1,!1,!1,!1];
for(var t=0;t<3;t++)$[t]=this.fv[t].G();var h=this.fv[3].G(),d=$[3]=this.EM.G()==1,K=i.name.slice(0,i.name.length-3),f=this.Rq=em.Q_("PSD").Pa(i,0,0,$),b4=this.a_=K+"ps"+(d?"b":"d");
if(h){var l={};l[b4]=new Uint8Array(f);f=this.Rq=UZIP.encode(l);b4=this.a_=K+"zip"}this.uG.t(b4);this.bt.t(jS.pN(f.byteLength));
this.bt.m.style["font-size"]="2em";this.ahk.t(" \u2001 "+f.byteLength+" B");this.RR.L5(e_.get([1,2])+" \""+b4+"\"")};
ep.prototype.f=function(){fQ.prototype.f.call(this);this.EM.f();this.RR.f();this.Xu.f()};function hz(){fQ.call(this,"Confirm","confirm");
this.Fg=null;var i=R.S("div");i.setAttribute("style","margin-bottom:1em");this.body.appendChild(i);this.qQ=R.S("div");
this.qQ.textContent="Hello";i.appendChild(this.qQ);this.RR=R.Lg(this,this.body)}hz.prototype=new fQ;
hz.prototype.KO=function(i){console.log("okconfirm");this.close();this.Fg()};hz.prototype.Ra=function(i,$){if($.Hn)this.qQ.innerHTML=$.L;
else this.qQ.textContent=$.L;this.Fg=$.Fg;this.RR.m.focus();if($.Hn!=null)this.m.style.top=Math.random()*(window.innerHeight-150)+"px";
this.agQ=$.Hn!=null};hz.prototype.Vv=function(i,$){return new cq(Math.max(0,(i-500)/2),Math.max(0,Math.min(60,($-100)/2)))};
hz.prototype.JQ=function(i,$){this.qQ.style.width=i-30+"px"};function hH(){fQ.call(this,[1,16,2],"newartb");
this.AK=0;this.Rx=null;var i=R.S("div","form");i.style.width="260px";this.body.appendChild(i);this.p2=new dt;
i.appendChild(this.p2.m);this.RR=R.Lg(this,i)}hH.prototype=new fQ;hH.prototype.Vl=function(i,$){return i!=null};
hH.prototype.KO=function(i){var $=this.p2.G();this.Rx.e=$.x;this.Rx.n=$.y;var h=new eU(x.E.s,!0);h.b=D.Jl;
h.data={apq:this.Rx,PT:this.AK};this.$(h);this.close()};hH.prototype.f=function(){fQ.prototype.f.call(this);
this.p2.f();this.RR.f()};hH.prototype.Ra=function(i,$){this.AK=$.PT;var h=new bN(0,0,i.e,i.n);if(i.g.length!=0){var d=i.B[i.g[0]];
if(d.add.artb){h=d.Ik();h.x+=h.e+100}if($.PT==1)h=D.vA.bL(i)}this.Rx=h;this.p2.t(new cq(h.e,h.n))};function jz(){fQ.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.rJ=null;this.h("closebtn",this.qD,this);this.h("canclose",this.qD,this)}jz.prototype=new fQ;
jz.prototype.aG=function(i,$){if(this.rJ)this.rJ.aG(i,$)};jz.prototype.Vv=function(i,$){return new cq(Math.max(0,Math.min(150,(i-980)/2)),Math.max(0,Math.min(150,($-590)/2)))};
jz.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;i=Math.min(i,980);$=Math.min($,590);if(this.rJ)this.rJ.JQ(i,$)};
jz.prototype.f=function(){fQ.prototype.f.call(this);if(this.rJ)this.rJ.f()};jz.prototype.Ra=function(i,$,h,d){this.u0=$.PT==0?"Open from Storage":"Save to Storage";
this.f();if(this.rJ==null){this.rJ=new cl;this.rJ.parent=this;this.body.appendChild(this.rJ.m);this.f();
this.JQ(this.DD,this.mJ)}Storage.ot($.PT,i?i.name:"");cl.qn(this.rJ)};jz.prototype.qD=function(i){Storage.ot(0);
cl.kR();if(i.type=="canclose")this.close()};function h3(){fQ.call(this,"Variables","varsdats");var i=this.VX=R.S("div","form");
i.setAttribute("style","width:300px");this.body.appendChild(i);this.yM=null;this.Om=0;this.Aq=new ee(null,["Variables","Data Sets"]);
this.Aq.h(x.E.r,this.aaa,this);this.UW=new h3.sp;this.C_=new h3.z5;this.C_.h("activate",this.Aa,this);
this.uy=new ie([1,8]);var $=this.kd=R.S("div");$.appendChild(this.C_.gb.m);$.appendChild(this.uy.m);
this.Ng=new d_("PNGs",!1,null,!0);this.Ng.h("click",this.vN,this);$.appendChild(this.Ng.m);this.a3f=new d_("JPGs",!1,null,!0);
this.a3f.h("click",this.vN,this);$.appendChild(this.a3f.m);this.RR=R.Lg(this,$)}h3.prototype=new fQ;
h3.prototype.aaa=function(i){var $=this.Aq.G(),h=this.VX;R.J9(h);h.appendChild(this.Aq.m);h.appendChild($==0?this.UW.m:this.C_.m);
h.appendChild(this.kd)};h3.prototype.KO=function(i){var $=new eU(x.E.s,!0);$.b=D.$S;$.data={d:H.$m,L:JSON.stringify([this.UW.G(),this.C_.G()])};
this.$($);this.close()};h3.prototype.f=function(){fQ.prototype.f.call(this);this.RR.f();this.uy.f()};
h3.prototype.Ra=function(i,$){this.yM=i;if(i==null)return;this.UW.Ra(i,$);this.C_.Ra(i,$);this.Aq.t(0);
this.aaa();this.Om=0};h3.prototype.vN=function(i){var $=this.UW.G(),h=this.C_.G();if($.length==0){alert("There are no variables.");
return}if(h.length==0){alert("There are no data sets.");return}var d=em.ajK(this.yM,$,h,this.C_.a7j(),i.target==this.Ng?"PNG":"JPG",this);
if(d!=null)bU.save(d,"images.zip")};h3.prototype.Aa=function(i){var $=this.C_.g,h=this.UW.G(),d=this.C_.G();
if(h.length==0){alert("There are no variables.");return}if(d.length==0){alert("There are no data sets.");
return}this.kj();this.Om+=em.jM(this.yM,this,h,d,this.C_.a7j(),$)};h3.prototype.kj=function(){var i=new eU(x.E.s,!0);
i.b=D.BL;i.data={d:"h_stepbck"};while(this.Om>0){this.$(i);this.Om--}};h3.z5=function(){dq.call(this);
this.iu=null;this.D4=[];this.g=0;var i=this.m=R.S("div","form");this.XC=R.S("div","scrollable");this.XC.setAttribute("style","overflow:scroll;  height:234px;");
i.appendChild(this.XC);this.W9=new ff("Import a CSV file");i.appendChild(this.W9.m);this.W9.h(x.E.r,this.a9D,this);
this.gb=new ff("Source Images",!0);i.appendChild(this.gb.m)};h3.z5.prototype=new dq;h3.z5.prototype.a9D=function(i){var $=this.W9.G();
for(var h in $){$=$[h];break}this.iu=fl.cL(M.kV($));this.WA()};h3.z5.prototype.a7j=function(){return this.gb.G()};
h3.z5.prototype.Ra=function(i,$){var h=this.iu=JSON.parse(JSON.stringify(i.OH));this.WA()};h3.z5.prototype.G=function(){return this.iu};
h3.z5.prototype.WA=function(){var i=this.Mo.bind(this),$=this.iu,d="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.D4=[];var h=R.S("table");h.setAttribute("style","border-collapse: collapse;");for(var t=0;t<$.length;
t++){var K=R.S("tr"),f=$[t],l=t==0?"th":"td";h.appendChild(K);var u=R.S(l);K.appendChild(u);u.setAttribute("style",d+"cursor:pointer;");
if(t!=0)u.textContent="\u2713";this.D4.push(u);u.addEventListener("click",i,!1);for(var U=0;U<f.length;
U++){var u=R.S(l);u.textContent=f[U];K.appendChild(u);u.setAttribute("style",d);u.setAttribute("title",f[U])}}R.J9(this.XC);
this.XC.appendChild(h)};h3.z5.prototype.Mo=function(i){this.g=this.D4.indexOf(i.currentTarget);this.$(new eU("activate"))};
h3.sp=function(){dq.call(this);var i=this.m=R.S("div","form marged");this.Nb=null;this.Nh=[];this.lc=[];
this.D9=null;this.kA=new ku([0,3],[]);this.kA.h(x.E.r,this.a1F,this);i.appendChild(this.kA.m);this.Vk=[];
var $=["Visibility","Text Content","Pixel Content"];for(var t=0;t<$.length;t++){R.Tq(i);var h=new iD($[t]);
h.h(x.E.r,this.cA,this);i.appendChild(h.m);R.k6(i);var d=new at("Variable Name");d.h(x.E.r,this.cA,this);
i.appendChild(d.m);this.Vk.push(h,d)}};h3.sp.prototype=new dq;h3.sp.prototype.cA=function(i){var $=this.kA.G(),h=this.D9[$],d=this.Nh[$],K=this.Nb["l"+h],f=this.Vk;
if(K==null)this.Nb["l"+h]=K=[];while(K.length!=0)K.pop();for(var t=0;t<3;t++){var l=f[2*t+1].G();if(!f[2*t].G())continue;
var u={varName:l,trait:["visibility","textcontent","fileref"][t]};K.push(u);if(t==2){u.align="center";
u.clip="false";u.placementMethod="fit";u.valign="middle"}}if(K.length==0)delete this.Nb["l"+h];this.Ra()};
h3.sp.prototype.a1F=function(i){var $=this.kA.G(),h=this.D9[$],d=this.Nh[$],K=this.Nb["l"+h],f=this.Vk;
if(K==null)K=[];for(var t=0;t<3;t++){var l=t==0||t==1&&d==0||t==2&&d==1;f[2*t].BH(l);f[2*t].t(!1);f[2*t+1].BH(l);
f[2*t+1].t("")}for(var t=0;t<K.length;t++){var u=K[t],U=u.trait,y=["visibility","textcontent","fileref"].indexOf(U);
f[y*2].t(!0);f[y*2+1].t(u.varName)}};h3.sp.prototype.Ra=function(i,$){if(i){var h=JSON.parse(JSON.stringify(i.H0)),d=this.Nb={};
for(var t=0;t<h.length;t++){var K=h[t],f=K.docRef;f="l"+f.slice(4,f.length-2);if(d[f]==null)d[f]=[];
d[f].push(K)}this.D9=[];this.Nh=[];this.lc=[];for(var t=i.B.length-1;t>=0;t--){var l=i.B[t],f=l.add.lyid;
if(l.getName()=="</Layer group>")continue;this.D9.push(f);this.Nh.push(l.add.TySh?0:1);this.lc.push(l.getName())}}var u=[],U=this.lc;
for(var t=0;t<U.length;t++){u.push(U[t]+(this.Nb["l"+this.D9[t]]?" *":""))}var y=this.kA.G();this.kA.TD(u);
this.kA.t(y);this.a1F()};h3.sp.prototype.G=function(){var i=this.Nb,$=[];for(var h in i){var d=i[h];
for(var K=0;K<d.length;K++){d[K].docRef="id('"+h.slice(1)+"')";$.push(d[K])}}return $};function ed(){fQ.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.lv=!1;var i=this.vr=[],$=R.S("div","form");$.setAttribute("style","width:20em");this.body.appendChild($);
for(var t=0;t<2;t++){var h=new iD([22,4,2+t]);$.appendChild(h.m);R.k6($);var d=new ee(null,[["N equal parts"],["N pixels per part"]]);
$.appendChild(d.m);R.k6($);var K=new j6("N",0,1e3);K.t(4);K.parent=this;$.appendChild(K.m);R.k6($);if(t==0)R.Tq($);
i.push(h,d,K)}for(var t=0;t<i.length;t++)i[t].h(x.E.r,this.Ov,this);i.push(R.Lg(this,$));this.h("closebtn",this.kj,this)}ed.prototype=new fQ;
ed.prototype.kj=function(){if(this.lv){var i=new eU(x.E.s,!0);i.b=D.BL;i.data={d:"h_stepbck"};this.$(i)}};
ed.prototype.Ov=function(i){this.kj();this.lv=!0;var $=[];for(var t=0;t<6;t++)$.push(this.vr[t].G());
var h={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var d=0;d<2;d++){if(!$[d*3])continue;var K=$[d*3+1],f=$[d*3+2];h[["slices","pixels"][K]+["Across","Down"][d]]={t:"long",v:f}}var l=new eU(x.E.jm,!0);
l.data={Fs:"divide",B6:h};this.$(l)};ed.prototype.KO=function(i){this.close()};ed.prototype.f=function(){fQ.prototype.f.call(this);
var i=this.vr;for(var t=0;t<i.length;t++)i[t].f()};ed.prototype.Ra=function(i,$){this.lv=!1};function cA(i,$,h,d){dq.call(this);
this.name=i;this.ah8=h;this.Bq=d;this.FB=R.S("div","");this.FB.setAttribute("draggable","true");this.V2=R.S("div","pbody");
this.Xb=new d_("",!1,"");this.Xb.parent=this;this.a48=R.S("span","cross gsicon");this.Gk=R.S("span","label");
var K=this.ax0.bind(this);this.FB.addEventListener("mousedown",this.a59.bind(this),!1);this.FB.addEventListener("contextmenu",K,!1);
this.Xb.m.addEventListener("contextmenu",K,!1);this.a48.addEventListener("mousedown",this.pm.bind(this),!1);
this.FB.appendChild(this.Gk);if($)this.FB.appendChild(this.a48);this.PC=!1;this.Gk.textContent=i}cA.prototype=new dq;
cA.prototype.n3=function(){return null};cA.prototype.f=function(){var i=e_.get(this.name),$=this.DD==0?22:Math.round(2+this.DD/50),h=i.length>$;
this.Gk.textContent=h?i.slice(0,$-2):i;if(h)for(var d=0;d<2;d++){var K=R.S("span");K.textContent=i.charAt($-2+d);
K.setAttribute("style","opacity:"+(.6-d*.4));this.Gk.appendChild(K)}var f=i.split(" "),l=f.length==2?f[0].substring(0,2)+f[1][0]:i.substring(0,3);
if(l.charCodeAt(0)>=11776)l=l.substring(0,1);var u=this.ah8;if(u==null)this.Xb.L5(l,i);else{var U;if(u.startsWith("---"))U="<img src=\""+PIMG[u.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(u.startsWith("==="))U="<img src=\""+u.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(u.indexOf("\"")==-1)U="<img src=\""+u+"\" alt=\""+R.vB(i).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Xb.L5(U,i)}};cA.prototype.enable=function(){this.V2.className="pbody"};cA.prototype.disable=function(){this.V2.className="pbody disabled"};
cA.prototype.aG=function(i,$){};cA.prototype.Ra=function(i,$,h){};cA.prototype.v7=function(i){};cA.prototype.JQ=function(i,$){};
cA.prototype.hO=function(i){this.name=i;this.f()};cA.prototype.$G=function(){};cA.prototype.a59=function(i){if(i.button==0)this.$(new eU("select",!1))};
cA.prototype.ax0=function(i){R.ZY(i);if(this.Bq!=null&&isNaN(this.Bq))return;var $=R.CJ(i,document.body),h=this.ZU;
if(h==null){h=this.ZU=new ew([{name:[1,12,0]}]);this.ZU.h("select",this.pm,this)}h.update(null);h.f();
h.parent=this;var d=new eU(x.E.k,!0);d.data={d:x.c.jT,dX:h,x:$.x+1,y:$.y+1};this.$(d)};cA.prototype.MD=function(){this.pm({})};
cA.prototype.pm=function(i){if(i.stopPropagation)i.stopPropagation();if(this.Bq!=null&&!isNaN(this.Bq)){var $=new eU(x.E.k,!0);
$.data={d:x.c.jD,dX:this.ZU};this.$($);$.data={d:x.c.vj,J0:dC.QS,L:parseFloat(this.Bq),D2:"del"};this.$($)}else if(this.a4B())this.$(new eU(x.E._y,!1))};
cA.prototype.a4B=function(i){return!0};cA.prototype.gE=function(i,$,h,d,K){};cA.prototype.Zm=function(i,$,h,d,K){};
cA.prototype.IQ=function(i,$,h,d,K){};cA.cU=function(i,$,h){if(i.childElementCount!=0)return;var d=i.textContent;
this.p1=this.a72.bind(this);this.arO=this.at$.bind(this);this.Ws=$;this.a3H=h;this._w=i;this.a5z=d;var K=R.S("input","");
K.setAttribute("type","text");K.setAttribute("size","10");K.setAttribute("value",d);R.J9(i);i.appendChild(K);
K.select();K.focus();R.zb(i);i.addEventListener("keyup",this.p1,!1);document.body.addEventListener("mousedown",this.arO,!1)};
cA.cU.prototype.a72=function(i){var $=ai.xZ,h=$(i.code,ai.iQ);if($(i.code,ai.UY)||h)this.adc(h)};cA.cU.prototype.at$=function(i){var $=i.target;
if($.tagName&&$.tagName.toLowerCase()=="input")return;this.adc(!0)};cA.cU.prototype.adc=function(i){var $=this._w,h=$.firstChild.value;
$.removeEventListener("keyup",this.p1);document.body.removeEventListener("mousedown",this.arO);if(this.a3H||i&&h!=""&&h!=this.a5z){this.Ws(h)}else{R.J9($);
$.textContent=this.a5z}};cA.gp={BL:"0",asF:"1",$S:"2",alU:"3",aaB:"4",AM:"5",CSS:"6",nj:"7",am_:"8",a3T:"9",a3m:"10",abF:"11",am4:"12",xq:"13",PD:"14",aez:"15",a7H:"16",lJ:"17",agt:"18",aqo:"19",anP:"20",G0:"21",afW:"22"};
function bz(){cA.call(this,[9,9],!1,"---panels/actions",cA.gp.abF);this.RM=null;this.J8=[0,0]}bz.prototype=new cA("");
bz.prototype._t=function(){if(!R.bT(this.V2)||this.um)return;this.um=R.S("div","padded scrollable");
this.um.setAttribute("style","width:260px;  height:260px");this.V2.appendChild(this.um);this.h(x.E.r,this.qL,this);
this.kd=R.S("div","lpfoot");this.V2.appendChild(this.kd);this.Oc=[];var i="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",$="</svg>",h=i+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+$,d=i+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+$;
this.a54=i+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+$;this.a4L=i+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+$;
var K=[this.a54,d,"lrs/folder","lrs/newlayer","lrs/bin",h],f=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var t=0;t<K.length;t++){var l=K[t];if(1<t&&t!=K.length-1)l="<img src=\""+PIMG[K[t]]+"\" class=\"miniscale gsicon\" />";
var u=new d_(l,!1,f[t]);u.h("click",this.arE,this);this.kd.appendChild(u.m);this.Oc.push(u)}this.WA()};
bz.prototype.f=function(){cA.prototype.f.call(this);if(this.um==null)return;for(var t=0;t<this.Oc.length;
t++)this.Oc[t].f()};bz.prototype.arE=function(i){var t=this.Oc.indexOf(i.currentTarget),$=this.J8,h=this.RM,d=h.bK;
if(t==0){var K,f=h.aA;if(d.length==0){alert("Create an Action Set first.");return}if($.length<2){alert("Select a target action first.");
return}if(f==null){K=this.a4L;f=this.J8}else{K=this.a54;f=null}this.Oc[0].L5(K);h.aA=f}else if(t==1)this.aip();
else if(t==2||t==3){var l={Q8:"Action Set "+d.length,Os:[],exp:!0};if(t==2||d.length==0){$=[d.length];
d.push(l)}if(t==3){var u=d[$[0]].Os;$=[$[0],u.length];u.push({Q8:"Action "+u.length,color:0,Os:[],alI:!1,shift:!1,exp:!0,zH:u.length})}this.J8=$;
this.WA()}else if(t==4){var U;if($.length==1)U=d;else if($.length==2)U=d[$[0]].Os;else U=d[$[0]].Os[$[1]].Os;
var y=$.length-1;U.splice($[y],1);if(U.length==0)$.pop();else while($[y]>=U.length)$[y]--;if($.length==0)$.push(0);
this.WA()}else if(t==5){if(d.length==0){alert("No Actions Present.");return}var a=new eU(x.E.k,!0);a.data={d:x.c.nx,axP:dC.s,cK:$[0]};
this.$(a)}};bz.prototype.qL=function(i){var $=this.RM.bK,h=i.data.d,d=i.data.mS;if(h=="sel")this.J8=d;
if(h=="fold"){if(d.length==1)$[d[0]].exp=!$[d[0]].exp;else $[d[0]].Os[d[1]].exp=!$[d[0]].Os[d[1]].exp}if(h=="enab"){var K=$[d[0]].Os[d[1]].Os[d[2]];
K.w=!K.w}if(h=="nchange"){if(d.length==1)$[d[0]].Q8=i.data.wo;else $[d[0]].Os[d[1]].Q8=i.data.wo}this.WA()};
bz.prototype.Ra=bz.prototype.$G=function(){this._t()};bz.prototype.aG=function(i,$){this.RM=i;if(this.um==null)return;
if($==dC.s||$==dC.mW)this.WA()};bz.prototype.WA=function(){if(this.RM==null)return;R.J9(this.um);var i=this.RM.bK;
if(i.length==0)return;var $=JSON.stringify(this.J8);for(var t=0;t<i.length;t++){var h=i[t],d=new bz.g7([t],$,h.exp,h.Q8.split("=").pop());
d.parent=this;this.um.appendChild(d.m);if(!h.exp)continue;for(var K=0;K<h.Os.length;K++){var f=h.Os[K],d=new bz.g7([t,K],$,f.exp,f.Q8.split("=").pop());
d.parent=this;this.um.appendChild(d.m);if(!f.exp)continue;for(var l=0;l<f.Os.length;l++){var u=f.Os[l],d=new bz.g7([t,K,l],$,null,e_.get(jV.a6D(u)),u.w);
d.parent=this;this.um.appendChild(d.m)}}}};bz.prototype.aip=function(){var i=this.RM.bK,$=this.J8;if(i.length==0){alert("No Actions Present");
return}if($.length==1){alert("Select an Action first");return}if(this.RM.aA!=null){alert("You can not apply actions while recording actions");
return}if($.length==1)$.push(0);var h=i[$[0]],d=h.Os[$[1]],K=new eU(x.E.k,!0);K.data={d:x.c.Xf,ZP:[d.Q8,h.Q8]};
this.$(K)};bz.g7=function(i,$,h,d,K){dq.call(this);this.mS=i;var f=this.mS.length-1;this.m=R.S("div","layeritem"+(JSON.stringify(i)==$?" selected":""));
this.Gt=R.S("div","head");this.m.appendChild(this.Gt);this.Gt.setAttribute("style","height:24px");this.Zz=R.S("div","headL");
this.Gt.appendChild(this.Zz);if(f!=0){var l=R.S("div");l.style.width=f*20+"px";this.Zz.appendChild(l)}if(h!=null){var u=this.awr=R.S("div",h?"open":"closed");
this.Zz.appendChild(u)}else{var U=this.a5v=R.S("div","cmark");U.setAttribute("style","background-size:12px 12px; opacity:"+(K?1:.3));
this.Zz.appendChild(U)}if(f==0){var y=R.S("div","folder");this.Zz.appendChild(y)}var a=this.Gk=R.S("div","label");
a.textContent=d;this.Zz.appendChild(a);this.m.addEventListener("mouseup",this.Aa.bind(this),!1)};bz.g7.prototype=new dq;
bz.g7.prototype.Aa=function(i){if(i.detail==1&&i.target.tagName.toLowerCase()!="input"){var $="sel";
if(i.target==this.awr)$="fold";if(i.target==this.a5v)$="enab";var h=new eU(x.E.r,!0);h.data={d:$,mS:this.mS};
this.$(h)}else if(this.mS.length<3)var d=new cA.cU(this.Gk,this.Ws.bind(this))};bz.g7.prototype.Ws=function(i){var $=new eU(x.E.r,!0);
$.data={d:"nchange",wo:i,mS:this.mS};this.$($)};function hC(){cA.call(this,[3],!1,"---lrs/adj",cA.gp.agt)}hC.prototype=new cA("");
hC.prototype._t=function(){if(!R.bT(this.V2)||this.Oc)return;this.V2.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.Oc=[];var t=0;for(var i in f2.names){var $=new d_("<img src=\""+PIMG["adj/"+i]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,f2.names[i]);
$.h("click",this.a4m,this);this.Oc.push($);this.V2.appendChild($.m);if(t==4||t==10)R.k6(this.V2);t++}this.f()};
hC.prototype.Ra=function(){this._t()};hC.prototype.$G=function(){this._t()};hC.prototype.f=function(){cA.prototype.f.call(this);
if(this.Oc==null)return;for(var t=0;t<this.Oc.length;t++)this.Oc[t].f()};hC.prototype.a4m=function(i){var $=this.Oc.indexOf(i.target),h=eA.XN()[$],d=new eU(h._,!0);
d.data=h.W;this.$(d)};function g9(){cA.call(this,[12,22],!1,null,cA.gp.G0);this.um=R.S("div","padded");
this.RM=null;this.V2.appendChild(this.um);this.xz=new ft(null,17.7,10);this.xz.parent=this;this.xz.h(x.E.r,this.Ov,this);
this.um.appendChild(this.xz.Qm)}g9.prototype=new cA("");g9.prototype.Ov=function(i){var $=this.xz.G(),h=new eU(x.E.s,!0);
h.data={d:"setstl",L:$.z3};h.b=D.s1;this.$(h);h.data={d:"confirm"};this.$(h)};g9.prototype.aG=function(i,$){this.RM=i;
this.WA()};g9.prototype.WA=function(){var i=this.RM,$=i.bQ;this.xz.B8([$,i.c$])};g9.prototype.Ra=function(){this.WA()};
g9.prototype.$G=function(){this.WA()};var f0=function(){function i(){cA.call(this,[9,3],!1,"---panels/brush",cA.gp.nj);
this.U$=null;this.RM=null}i.prototype=new cA("");i.prototype._t=function(){var d=R.S("div","");this.V2.appendChild(d);
this.NZ=R.S("div","bordered cell");this.NZ.setAttribute("style","width:10em; height:28.5em;");d.appendChild(this.NZ);
this.In=[];this.ou=null;this.qS=[];var K=this.a7t.bind(this);this.ek=[new $("basic"),new $("useTipDynamics"),new $("useScatter"),new $("useColorDynamics"),new $("usePaintDynamics")];
for(var t=0;t<this.ek.length;t++){var f=R.S("div","listitem"),l=this.ek[t],U=null;l.parent=this;l.h("brushchange",this.a2B,this);
var u=l.T4;if(t==0){this.ou=new ie(u);f.appendChild(this.ou.m)}else{U=new iD(u,!1);U.h(x.E.r,this.ala,this);
f.appendChild(U.m)}this.qS.push(U);this.NZ.appendChild(f);this.In.push(f);f.addEventListener("click",K,!1)}this.qA=R.S("div","cell padded");
d.appendChild(this.qA);this.setItem(0);this.T=R.S("canvas");this.T.height=10;d.appendChild(this.T);this.nl=this.T.getContext("2d");
this.jb()};i.prototype.JQ=function(d,K){if(this.DD==d)return;this.DD=d;this.mJ=K;this.jb()};i.prototype.$G=function(){if(!R.bT(this.V2))return;
if(this.NZ){this.jb();return}this._t();this.f();this.aG(this.RM,dC.mW)};i.prototype.f=function(){cA.prototype.f.call(this);
if(this.NZ==null)return;this.ou.f();for(var t=1;t<this.qS.length;t++)this.qS[t].f();for(var t=0;t<this.ek.length;
t++)this.ek[t].f()};i.prototype.a2B=function(d){var K=this.ek.indexOf(d.currentTarget),f=JSON.parse(JSON.stringify(this.ek[K].U$)),l=new eU(x.E.k,!0);
l.data={d:x.c.vj,J0:dC.m_,U$:f};this.$(l)};i.prototype.ala=function(d){this.a7M(this.qS.indexOf(d.currentTarget),d.currentTarget.v$())};
i.prototype.a7t=function(d){var t=this.In.indexOf(d.currentTarget);if(d.target.tagName.toLowerCase()=="input")return;
if(this.qS[t]&&!this.qS[t].v$()){this.qS[t].rm();this.a7M(t,!0)}this.setItem(t)};i.prototype.a7M=function(d,K){this.ek[d].at8(K)};
i.prototype.setItem=function(d){for(var t=0;t<this.ek.length;t++)this.In[t].className="listitem";if(this.qA.firstChild)this.qA.removeChild(this.qA.firstChild);
this.In[d].className="listitem selected";this.qA.appendChild(this.ek[d].m)};i.prototype.aG=function(d,K){this.RM=d;
if(this.NZ==null)return;for(var t=0;t<this.ek.length;t++)this.ek[t].aG(d,K);if(K==dC.m_||K==dC.mW){this.U$=d.qX.vL;
this.jb()}if(K==dC.xq)this.jb()};i.prototype.jb=function(){if(this.U$)this.enable();else{this.disable();
return}if(!R.bT(this.V2))return;var d=this.RM;for(var t=0;t<this.ek.length;t++){this.ek[t].t(this.U$);
if(this.qS[t])this.qS[t].t(this.ek[t].v$())}var K=JSON.parse(JSON.stringify(this.U$));K.Brsh.v.Dmtr.v.val=Math.min(K.Brsh.v.Dmtr.v.val,50);
R.Pe(this.T,this.DD,80);var f=new bN(0,0,this.T.width,this.T.height),l=this.RM.qX,u=new kn(K,l?l.pd:null,l?l.ut:null,{kJ:1},d.Mz,d.n9,f,null,0),U=f.n/2,y=f.e-U*2;
u.moveTo(U,U);for(var t=0;t<=y;t+=10)u.lineTo(U+t,U+20*Math.sin(2*Math.PI*t/y));u.finish();var a=this.nl.createImageData(f.e,f.n);
k.mC(u.T9(),u.bL(),a.data,f);this.nl.putImageData(a,0,0)};function $(d){dq.call(this);this.m=R.S("div");
this.U$=null;var K=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(d);
this.T4=[[15,0],[15,1],[15,2],[15,3],"Transfer"][K];this.AK=d;this.K9={};this.aln=null;var f=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","opVr.bVTy","prVr.jitter","prVr.bVTy"]][K];
for(var t=0;t<f.length;t++){var l=f[t],u;if(l=="--br"){u=new iK;this.m.appendChild(u.Qm.firstChild)}else if(l=="Brsh.Dmtr")u=new is([12,14,0],1,1e3," px",0,!0);
else if(l=="Brsh.Angl")u=new is([12,15],0,359," \xB0");else if(l=="Brsh.Rndn")u=new is([12,16],0,100," %");
else if(l=="Brsh.Hrdn")u=new is([12,17],0,100," %");else if(l=="Brsh.Spcn")u=new is([12,18],1,300," %");
else if(l=="szVr.jitter")u=new is([15,4,0],0,100,"%");else if(l=="minimumDiameter")u=new is([15,4,1],0,100,"%");
else if(l=="angleDynamics.jitter")u=new is([15,4,2],0,100,"%");else if(l=="angleDynamics.bVTy")u=new ku("Control",["Off","Direction"]);
else if(l=="szVr.bVTy")u=new ku("Control",["Off","Pen Pressure"]);else if(l=="opVr.bVTy")u=new ku("Control",["Off","Pen Pressure"]);
else if(l=="prVr.bVTy")u=new ku("Control",["Off","Pen Pressure"]);else if(l=="roundnessDynamics.jitter")u=new is([15,4,3],0,100,"%");
else if(l=="minimumRoundness")u=new is([15,4,4],1,100,"%");else if(l=="scatterDynamics.jitter")u=new is([15,5,0],0,1e3," %");
else if(l=="Cnt")u=new is([15,5,1],1,20);else if(l=="countDynamics.jitter")u=new is([15,5,2],0,100," %");
else if(l=="clVr.jitter")u=new is([15,6,0],0,100," %");else if(l=="H")u=new is([15,6,1],0,100," %");
else if(l=="Strt")u=new is([15,6,2],0,100," %");else if(l=="Brgh")u=new is([15,6,3],0,100," %");else if(l=="opVr.jitter")u=new is("Opacity Jitter",0,100," %");
else if(l=="prVr.jitter")u=new is("Flow Jitter",0,100," %");else throw l;this.K9[l]=u;u.parent=this;
u.h(x.E.r,this.cA,this)}}$.prototype=new dq;$.prototype.afS=function(){this.$(new eU("brushchange"))};
$.prototype.t=function(d){this.U$=JSON.parse(JSON.stringify(d));this.m.className=this.v$()?"":"disabled";
this.jb()};$.prototype.f=function(){for(var d in this.K9)this.K9[d].f()};$.prototype.v$=function(){return!0};
$.prototype.aG=function(d,K){if(K==dC.nj||K==dC.mW){var f=this.K9["--br"];if(f)f.B8(d.qX)}};$.prototype.cA=function(d){var K=d.target,f=this.K9,l;
for(var u in f)if(f[u]==K)l=u;if(l=="--br"){var U=new eU(x.E.k,!0);U.data={d:x.c.vj,J0:dC.m_,U$:K.G()};
this.$(U)}else{var a=h(this.U$,l),v=K.G();if(a){if(l.endsWith("bVTy")){a.v=v==0?0:l.startsWith("angleDynamics")?6:2}else if(l=="Cnt")a.v=v;
else a.v.val=v;this.afS()}}};$.prototype.jb=function(){var d=this.U$,K=d.Brsh.v.classID,f=this.K9,l=K!=this.aln;
this.aln=K;if(l){R.J9(this.m);for(var u in f){if(K!="computedBrush"&&K!="sampledBrush"&&u=="Brsh.Rndn")continue;
if(K!="computedBrush"&&u=="Brsh.Hrdn")continue;var U=f[u],a=U.m;if(u=="--br"){a=U.zU.m;a.style.width="auto"}this.m.appendChild(a)}}for(var u in f){if(u=="--br")continue;
var v=h(d,u),c;if(v){if(u.endsWith("bVTy"))c=v.v==0?0:1;else if(u=="Cnt")c=v.v;else c=v.v.val;f[u].t(c)}}};
$.prototype.v$=function(){var d=this.AK;return d=="basic"?!0:this.U$[d].v};$.prototype.at8=function(d){var K=this.AK;
if(K=="basic")return;this.U$[K].v=d;bk.xy.auT(this.U$);this.afS()};function h(d,K){var f=K.split(".");
d=d[f[0]];for(var t=1;t<f.length;t++){if(d==null)return d;d=d.v[f[t]]}return d}return i}();function iC(){cA.call(this,[9,0],!1,"---panels/history",cA.gp.BL);
this.V2.setAttribute("style","min-width:200px;");this.PG=R.S("div","hpbody scrollable");this.PG.style.height="160px";
this.V2.appendChild(this.PG);this.aby=-1;this.hF=[];this.Ks="";this.hK=new ew([{name:"Clear History"}],[{_:x.E.s,b:D.BL,W:{d:"h_clear"}}])}iC.prototype=new cA("");
iC.prototype.n3=function(){return this.hK};iC.prototype.Ra=function(i){if(i==null){R.J9(this.PG);this.Ks="";
return}R.J9(this.PG);var $=0;for(var t=0;t<i.history.length;t++)if(t<=i.oD&&!i.history[t].ln)$=t;for(var t=0;
t<i.history.length;t++){var h=i.history[t];if(h.ln)continue;var d=new br(h,t,$);d.parent=this;this.PG.appendChild(d.m);
this.hF.push(d)}if(i.oD==i.history.length-1)this.$G()};iC.prototype.$G=function(){this.PG.scrollTop=this.PG.scrollHeight};
iC.prototype.f=function(){cA.prototype.f.call(this);for(var t=0;t<this.hF.length;t++)this.hF[t].f()};
function br(i,t,$){dq.call(this);this.index=t;this.m=R.S("div",t==$?"listitem selected":"listitem");
this.Ej=i.name;this.f();if(t>$)this.m.style.opacity=.4;this.m.addEventListener("click",this.gE.bind(this),!1)}br.prototype=new dq;
br.prototype.f=function(){this.m.textContent=e_.get(this.Ej)};br.prototype.gE=function(i){if(this.index==this.parent.aby)return;
this.fW({d:"h_itemchange",index:this.index})};br.prototype.fW=function(i){var $=new eU(x.E.s,!0);$.data=i;
$.b=D.BL;this.$($)};function bw(){cA.call(this,[9,10],!1,"---panels/histogram",cA.gp.aaB);var i=R.S("div","padded");
this.V2.appendChild(i);this.kF=new hX(256,!0);i.appendChild(this.kF.m);this.yM=null}bw.prototype=new cA("");
bw.prototype.Ra=function(i){this.yM=i;this.WA()};bw.prototype.WA=function(){var i=this.yM;if(!R.bT(this.V2))return;
if(i==null||i.g.length==0){this.kF.t(k.L_(k.Q(4)));return}var $=i.Fy(),h=new bN(0,0,i.e,i.n),d=h.O();
if(i.J){var K=i.J.rect,f=k.Q(K.O()*4);k.mC($,h,f,K);k.nO(i.J.channel,f);$=f;h=K;var l=i.J.channel;d=0;
for(var t=0;t<l.length;t++)d+=l[t];d=Math.round(d/255)}var u=k.L_($);u[0][255]+=3*(d-u[5]);for(var t=1;
t<4;t++)u[t][255]+=d-u[5];this.kF.t(u,d)};bw.prototype.aG=function(i,$){this.kF.gh(eS.gN[i.TZ]["--text-color"])};
bw.prototype.f=function(){cA.prototype.f.call(this);this.kF.f()};bw.prototype.$G=function(){this.WA()};
function bP(){cA.call(this,[9,8],!1,"---adj/clrL",cA.gp.asF);this.um=R.S("div","padded");this.V2.appendChild(this.um);
this.cn=new bE(10);this.um.appendChild(this.cn.m);this.AJ=new hi;this.AJ.parent=this;this.um.appendChild(this.AJ.Qm);
this.AJ.Qm.style.marginTop="6px";this.cn.h(x.E.r,this.akJ,this);this.AJ.h(x.E.r,this.akJ,this)}bP.prototype=new cA("");
bP.prototype.akJ=function(i){var $;if(i.target==this.cn)$=this.cn.G();else{var h=this.AJ.G();$=Math.round(h.o)<<16|Math.round(h.P)<<8|Math.round(h.Z)}var d=new eU(x.E.k,!0);
d.data={d:x.c.vj,J0:dC.xq,vC:0,L:$};this.$(d)};bP.jI=function(i,$){var h=$==dC.mW,d=i.wk,K=i.HM,f=K.strokeStyleContent.v,l=null;
if(($==dC.ae||h)&&d.$M==1){l=k.M.zk(d.DP.Clr.v);l=l.o<<16|l.P<<8|l.Z}if(($==dC.YK||h)&&K.strokeEnabled.v&&f.classID=="solidColorLayer"){l=k.M.zk(f.Clr.v);
l=l.o<<16|l.P<<8|l.Z}if($==dC.xq||h)l=i.Mz;return l};bP.prototype.aG=function(i,$){var h=i.Mz,d=$==dC.mW,K=bP.jI(i,$);
if(K!=null){this.cn.t(K);this.AJ.t({o:K>>>16&255,P:K>>>8&255,Z:K>>>0&255,rU:"Color #"+k._V(K)})}if($==dC.d_||d){var f=i.a3o;
this.AJ.B8(f)}};function gV(){cA.call(this,[12,72],!1,"---adj/mixr",cA.gp.a7H);this.Ho=null;this.xM=null;
this.PG=R.S("div","lpbody scrollable");this.PG.style.marginTop="4px";this.kd=R.S("div","lpfoot");this.V2.appendChild(this.PG);
this.V2.appendChild(this.kd);this.gR=[];this.h("click",this.my,this);this.LP=[];gV.Df([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.LP,this.kd,this.Fu.bind(this),this.P7.bind(this));
this.hK=new ew([{name:"Merge Channels",xE:!0}],[{_:x.E.k,W:{d:x.c.ZD,Kh:"mergechannels"}}])}gV.prototype=new cA("");
gV.prototype.n3=function(){return this.hK};gV.Df=function(i,$,h,d,K){for(var t=0;t<i.length;t++){var f=new d_("W",!1,i[t]);
$.push(f);R.K6(f.m,d);h.appendChild(f.m);var l=f.m;l.addEventListener("drop",K,!1);l.addEventListener("dragover",function(u){u.preventDefault()},!1);
l.addEventListener("dragenter",R.ZY,!1)}};gV.nQ=function(i,$){for(var t=0;t<i.length;t++)if(i[t].m==$.currentTarget)return t};
gV.prototype.Fu=function(i){var $=gV.nQ(this.LP,i);if($==0)this.$(h$.nY(!0,null,i));else{$--;var h=new eU(x.E.jm,!0),d={classID:"null"};
if($==0)d.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if($==1)d.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else d.null=jV.uf("Chnl",!0);h.data={Fs:["duplicate","make","delete"][$],B6:d};this.$(h)}};gV.prototype.P7=function(i){var $=gV.nQ(this.LP,i);
if($==2){var h=new eU(x.E.jm,!0),d={classID:"null"};d.null=jV.uf("Chnl",!0);h.data={Fs:"duplicate",B6:d};
this.$(h)}else this.Fu(i)};gV.prototype.d5=function(t){var i=this.gR,$=i[t];if($==null){var h=R.S("canvas");
$=h.getContext("2d");i.push($)}return $};gV.prototype.my=function(i){var $=this.Ho.slice(0),h=i.data.zH,d=$[0]+$[1]+$[2],K=this.xM;
if(-5<h&&h<0){var f=-h-1;if(i.data.sv){if(f==0)$=d==3?[0,0,0]:[1,1,1];else{if($[f-1]==0)$[f-1]=1;else if(!0)$[f-1]=0}}else{if(f==0)$=[1,1,1];
else{$=[0,0,0];$[f-1]=1}K.o7=[]}var l=new eU(x.E.s,!0);l.b=D.GC;l.data={d:"setcls",rB:$};this.$(l);return}if(-1<h){var u=K.B[h],U=u.Tu==1?u.MQ():u.Hi(K).z;
if(i.data.sv)U.$$=!U.$$;else{for(var t=0;t<K.kY.length;t++)K.kY[t].$$=!1;K.o7=[]}}else{var y=-h-5,U=K.kY[y];
if(i.data.sv)U.$$=!U.$$;else{for(var t=0;t<K.kY.length;t++)K.kY[t].$$=!1;U.$$=!0;K.o7=[y]}}K.nU=K.u6=!0};
gV.prototype.$G=function(){this.vF()};gV.prototype.Ra=function(i){this.xM=i;this.vF()};gV.prototype.vF=function(){var i=this.xM,$=this.PG,p=4;
R.J9($);if(i==null||!R.bT($))return;var h=i.e,d=i.n,K=new bN(0,0,h,d),f=this.Ho=i.u.rB.slice(0),l=f[0]+f[1]+f[2],u=Math.round(34*R.V()),U=u;
if(h>d)U=Math.round(U*d/h);else u=Math.round(u*h/d);var y=["RGB"].concat(f2.lz);for(var t=0;t<4;t++){var a=this.d5(t);
k.b9.qP(a,u,U,K,i.Fy(),K,!1,t==0?null:t-1);var v=t==0?l==3:f[t-1]==1,c=new h$(-1-t,!0,!0,a,y[t],v,v);
c.parent=this;$.appendChild(c.m);R.Sz(a.canvas)}for(var t=0;t<i.g.length;t++){var C=i.B[i.g[t]],T=C.Tu;
if(T!=1&&T!=3)continue;var E=T==1?C.MQ():C.Hi(i).z,a=this.d5(p+t);p++;k.b9.hB(a,u,U,K,E);var c=new h$(i.g[t],!0,!0,a,C.getName()+(T==1?"":" Filter")+" Mask",!0,E.$$);
c.parent=this;$.appendChild(c.m);R.Sz(a.canvas)}for(var t=0;t<i.kY.length;t++){var E=i.kY[t],a=this.d5(p+t);
k.b9.hB(a,u,U,K,E);var c=new h$(-5-t,!0,E.name=="Quick Mask",a,E.name,i.o7.indexOf(t)!=-1,E.$$,D.$S,{d:H.hV,vC:"rnm",zH:t});
c.parent=this;$.appendChild(c.m);R.Sz(a.canvas)}};gV.prototype.JQ=function(i,$){this.PG.style.height=$-30-4+"px";
this.PG.style.width=i+"px"};gV.prototype.f=function(){cA.prototype.f.call(this);this.vF();gV.r4(this.LP,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
gV.r4=function(i,$){var $=ee.vg($,null,"miniscale");for(var t=0;t<i.length;t++)i[t].L5($[t])};function h$(i,$,h,d,K,f,l,u,U){dq.call(this);
this.m=R.S("div","layeritem");this.ajq=i;this.ahn=$;this.nl=d;this.acD=u;this.axr=U;this.Gt=R.S("div",f?"head selected":"head");
this.Gt.setAttribute("style","height: "+40+"px");var y=R.S("div","headL"),a=R.S("div","headR"),v=15;
this.m.appendChild(this.Gt);this.Gt.appendChild(y);this.Gt.appendChild(a);this.yN=R.S("div","eye");if(1<R.V()&&R.V()<1.5)v=v/R.V();
this.yN.setAttribute("style","background-size: "+v+"px "+v+"px;");this.yN.style.opacity=l?1:.2;if($)y.appendChild(this.yN);
this.YE=R.S("div","thumb");if(d)this.YE.appendChild(d.canvas);y.appendChild(this.YE);this.oQ=R.S("div","label");
if(h)this.oQ.style.fontStyle="italic";this.oQ.textContent=e_.get(K);y.appendChild(this.oQ);var c=this.Gt;
c.setAttribute("draggable","true");c.addEventListener("dragstart",function(p){p.dataTransfer.setData("Text","")},!1);
R.K6(this.Gt,this.arm.bind(this));if(!h)this.Gt.addEventListener("mouseup",this.a45.bind(this),!1)}h$.prototype=new dq;
h$.prototype.Ws=function(i){var $=new eU(x.E.s,!0);$.b=this.acD;$.data=this.axr;$.data.name=i;this.$($)};
h$.prototype.arm=function(i){var $=i.ctrlKey||i.metaKey,h=this.ajq;if($&&i.target==this.nl.canvas){this.$(h$.nY(this.ahn,h,i))}else{var d=new eU("click",!0);
d.data={zH:h,sv:i.target==this.yN,RS:$};this.$(d)}};h$.prototype.a45=function(i){if(i.detail==2&&i.target==this.oQ){var $=new cA.cU(this.oQ,this.Ws.bind(this))}};
h$.nY=function(i,$,h){var d=0;if(h.shiftKey)d++;if(h.altKey)d+=2;var K=new eU(x.E.s,!0);K.b=D.oN;if(i){if(-5<$&&$<0){K=new eU(x.E.jm,!0);
K.data=D.n1.ah0(d,["RGB","Rd","Grn","Bl"][-1-$])}else K.data={d:"fromchannel",ZP:[$,0,d]}}else K.data={d:"frompath",ZP:[$,0,d]};
return K};function ad(){cA.call(this,[8,9],!1,"---panels/paths",cA.gp.lJ);this.Ho=null;this.xM=null;
this.PG=R.S("div","lpbody scrollable");this.PG.style.marginTop="4px";this.kd=R.S("div","lpfoot");this.V2.appendChild(this.PG);
this.V2.appendChild(this.kd);this.V2.addEventListener("click",this.a8g.bind(this),!1);this.gR=[];this.h("click",this.my,this);
this.LP=[];gV.Df(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.LP,this.kd,this.Fu.bind(this),this.P7.bind(this))}ad.prototype=new cA("");
ad.prototype.Fu=function(i,$){var h=gV.nQ(this.LP,i),d;if(h<2){d=new eU(x.E.jm,!0);d.data=D.cI.cF(h)}else if(h==2)d=h$.nY(!1,null,i);
else if(h==3){d=new eU(x.E.jm,!0);d.data={Fs:"make",B6:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(h>3){var d=new eU(x.E.s,!0);
d.b=D.yo;d.data={d:"pathedit",vC:["new","del"][h-4],awU:$}}this.$(d)};ad.prototype.P7=function(i){this.Fu(i,!0)};
ad.prototype.d5=function(t){var i=this.gR,$=i[t];if($==null){var h=R.S("canvas");$=h.getContext("2d");
i.push($)}return $};ad.prototype.a8g=function(i){if(i.target==this.PG){var $=this.xM;$.LK=[];$.$H=[];
$.u6=!0;$.nU=!0}};ad.prototype.my=function(i){var $=i.data.zH,h=this.xM,d=i.data.RS,K=0,f,l;if($<0){K=-1-$;
f=h.LK;l=h.$H}else{var u=h.iW()[0];for(var t=0;t<u.length;t++){var U=u[t].zH;if(U==$)break;if(U>=0)K++}f=h.$H;
l=h.LK}if(d){var y=f.indexOf(K);if(y==-1)f.push(K);else f.splice(y,1)}else{while(f.length!=0)f.pop();
while(l.length!=0)l.pop();f.push(K)}h.u6=!0;h.nU=!0};ad.prototype.$G=function(){this.vF()};ad.prototype.Ra=function(i){this.xM=i;
this.vF()};ad.prototype.vF=function(){var i=this.xM,$=this.PG;R.J9($);if(i==null||!R.bT($))return;var h=i.e,d=i.n,K=new bN(0,0,h,d),f=this.Ho=i.u.rB.slice(0),l=f[0]+f[1]+f[2],u=Math.round(34*R.V()),U=u;
if(h>d)U=Math.round(U*d/h);else u=Math.round(u*h/d);var y=i.iW(),a=y[0];for(var t=0;t<a.length;t++){var v=a[t],c=this.d5(t);
k.b9.a2R(c,u,U,K,v.add.vmsk);var p=new h$(v.zH,!1,v.zH>=0,c,v.name,y[1].indexOf(t)!=-1,!1,D.yo,{d:"pathedit",vC:"rnm",zH:v.zH});
p.parent=this;$.appendChild(p.m);R.Sz(c.canvas)}};ad.prototype.JQ=function(i,$){this.PG.style.height=$-30-4+"px";
this.PG.style.width=i+"px"};ad.prototype.f=function(){cA.prototype.f.call(this);this.vF();gV.r4(this.LP,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function j0(i){cA.call(this,[9,i?4:5],!1,"---panels/"+(i?"character":"paragraph"),i?cA.gp.a3T:cA.gp.a3m);
this.V2.setAttribute("style","min-width:240px;");this.a4b=i;this.Qc=null;this.RM=null}j0.prototype=new cA("");
j0.prototype._t=function(){this.Qc=new e8;var i=this.Qc,$=this.V2;i.parent=this;if(this.a4b){var h=R.S("div","marged");
$.appendChild(h);h.appendChild(i.Bv.m);$.appendChild(R.S("hr"));var d=R.S("div","marged");$.appendChild(d);
d.appendChild(i.Wm.m);d.appendChild(i.mn.m);var K=R.S("div","marged");$.appendChild(K);K.appendChild(i.fR.m);
K.appendChild(i.j8.m);$.appendChild(R.S("hr"));var f=R.S("div","marged");$.appendChild(f);f.appendChild(i.q$.m);
f.appendChild(i.s0.m);var l=R.S("div","marged");$.appendChild(l);l.appendChild(i.IA.m);l.appendChild(i.kS.m);
l.appendChild(i.td.m);$.appendChild(R.S("hr"));var u=R.S("div","marged");$.appendChild(u);u.appendChild(i.nA.m);
u.appendChild(i.aJ.m);u.appendChild(i.Cn.m);u.appendChild(i.wP.m);u.appendChild(i.ag.m);u.appendChild(i.v6.m);
u.appendChild(i.CV.m);u.appendChild(i.TG.m)}else{var h=R.S("div","marged");$.appendChild(h);h.appendChild(i.NA.m);
h.appendChild(i.x7.m);h.appendChild(i.pC.m);h.appendChild(i.alk.m);h.appendChild(i.ac4.m);h.appendChild(i.ath.m);
h.appendChild(i.aw6.m);$.appendChild(R.S("hr"));var d=R.S("div","marged");$.appendChild(d);d.appendChild(i.no.m);
d.appendChild(i.Jo.m);d.appendChild(i.a$.m);$.appendChild(R.S("hr"));var K=R.S("div","marged");$.appendChild(K);
K.appendChild(i.p0.m);K.appendChild(i.lU.m);K.appendChild(i.lF.m);K.appendChild(i.IK.m)}};j0.prototype.$G=function(){if(!R.bT(this.V2))return;
if(this.Qc==null){this._t();var i=this.RM;if(i)this.Qc.t(i.ta,i.SB,i.el);this.Qc.f()}};j0.prototype.f=function(){cA.prototype.f.call(this);
if(this.Qc)this.Qc.f()};j0.prototype.aG=function(i,$){this.RM=i;if($!=dC.mW&&$!=dC.v_&&$!=dC.oX&&$!=dC.V8)return;
if(this.Qc)this.Qc.t(i.ta,i.SB,i.el)};function eH(){cA.call(this,[9,13],!1,"---panels/glyphs",cA.gp.aqo);
this.RM=null}eH.prototype=new cA("");eH.prototype._t=function(){this.Qc=new e8;this.Qc.parent=this;this.ajU=null;
this.ae8=null;this.Pd=null;this.acy=null;this.pe=Math.round(290*R.V());this.gy=45;this.adH=4;this.a6R=this.WA.bind(this);
this.acP=0;this.GH=new ku(null,["Hi","Hello"]);this.GH.h(x.E.r,this.WA,this);var i=this.eY=new d_("-",null,null,!0);
i.h("click",this.afo,this);var $=this.amP=new d_("+",null,null,!0);$.h("click",this.afo,this);this.zU=new ks(!1);
this.zU.h(x.E.r,this.PV,this);this.zU.m.style.height=250+"px";var h=this.Cf=R.S("div","form padded");
this.V2.appendChild(h);h.appendChild(this.Qc.Bv.m);R.k6(h);h.appendChild(this.GH.m);h.appendChild(i.m);
h.appendChild($.m);this.V2.appendChild(this.zU.m)};eH.prototype.JQ=function(i,$){if(this.DD==i||this.Qc==null)return;
this.DD=i;this.pe=Math.floor((i-13)*R.V());this.Cf.setAttribute("style","width:"+this.pe/R.V()+"px;");
this.zU.m.style.height=$-73+"px";this.WA()};eH.prototype.PV=function(i){var $=this.a0V(),h=Math.round(this.pe/$);
$/=R.V();var d=this.zU.G()[0]*h*this.adH,K=this.zU.alv();d+=Math.floor(K.y/$)*h;d+=Math.floor(K.x/$);
var f=this.Pd[this.GH.G()];if(d>=f.length)return;var l=f[d],u=this.acy[l],U=new eU(x.E.s,!0);U.b=D.z2;
if(u.E_.length==0)U.data={d:"insertGlyph",L:d+1};else U.data={d:"insertText",L:String.fromCodePoint(u.E_[0])};
this.$(U)};eH.prototype.afo=function(i){var $=1.2;if(i.target==this.eY){if(this.gy>20)this.gy/=$}else{if(this.gy<100)this.gy*=$}this.WA()};
eH.prototype.$G=function(){this.aG(this.RM)};eH.prototype.aG=function(i,$){this.RM=i;if(!R.bT(this.V2))return;
if(this.Qc==null)this._t();this.Qc.t(i.ta,i.SB,i.el);var h=i.ta,d=h.TL.Font,U=0;if(d==null)return;var K=h.A8[d].Name;
if(this.ajU==K)return;var d=i.SB.BM(K);if(d==null)return;var f=d.maxp.numGlyphs,l=this.acy=new Array(f);
for(var t=0;t<f;t++)l[t]={E_:[]};var u=Date.now(),y=new Uint8Array(1048575);for(var t=0;t<1048575;t++){var a=Typr.U.codeToGlyph(d,t);
if(a!=0&&a<f){y[t]=1;if(l[a].E_.length==0)U++;l[a].E_.push(t)}}var v=eH.Um,c=[];for(var t=0;t<v.length;
t++)c.push([]);for(var a=1;a<f;a++){c[0].push(a);var p=l[a].E_[0];if(p==null){continue}for(var C=1;C<v.length;
C++){var T=v[C].Wn;for(var t=0;t<T.length;t+=2)if(T[t]<=p&&p<=T[t+1]){c[C].push(a);break}}}this.Pd=c;
var E=[];for(var t=0;t<v.length;t++)E.push(v[t].Xd+" ("+c[t].length+")");var r=this.GH.G();this.GH.TD(E);
this.GH.t(r);this.ajU=K;this.ae8=d;this.WA()};eH.prototype.a0V=function(i){var $=Math.floor(this.pe/this.gy);
return Math.floor(this.pe/$)};eH.prototype.WA=function(i){if(!R.bT(this.V2)||this.Pd==null)return;var $=this.Pd[this.GH.G()],h=$.length,d=this.ae8,K=Typr.U,f=this.a0V(),l=f,u=l*.8,U=l*.8/d.head.unitsPerEm,y=[],a=Math.floor(this.pe/f),v=Math.ceil(h/a),c=this.adH,p=Date.now();
for(var C=0;C<v;C+=c){var T=R.S("canvas"),E=T.getContext("2d");T.width=f*a;T.height=l*c;E.strokeStyle="rgba(0,0,0,0.3)";
E.fillStyle="white";E.fillRect(0,0,a*f,l*c);for(var r=0;r<c;r++){for(var Y=0;Y<a;Y++){var t=$[(C+r)*a+Y];
if(t==null)break;var S=K.glyphToPath(d,t),m=k.p.nP(S.crds);if(!m.NT()){E.fillStyle="#252525";E.beginPath();
var Q=Y*f+(f-m.e*U)*.5-m.x*U,z=r*l+u;E.translate(Q,z);E.scale(U,-U);K.pathToContext(S,E);E.scale(1/U,-1/U);
E.translate(-Q,-z);E.fill()}}}E.beginPath();for(var Y=0;Y<a;Y++){var n=Y*f+f+.5;E.moveTo(n,0);E.lineTo(n,l*c)}for(var r=0;
r<c;r++){var Z=r*l+l+.5;E.moveTo(0,Z);E.lineTo(a*f,Z)}E.stroke();y.push(T)}this.zU.BN(y,null,f*a,l*c)};
eH.Um=[{Xd:"All Glyphs"},{Xd:"Basic Latin, Latin 1",Wn:[0,127,128,143]},{Xd:"Latin Extended-A",Wn:[256,383]},{Xd:"Latin Extended-B",Wn:[384,591]},{Xd:"Punctuations",Wn:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Xd:"Greek",Wn:[880,1023]},{Xd:"Cyrillic",Wn:[1024,1279]},{Xd:"Hebrew",Wn:[1424,1535]},{Xd:"Arabic",Wn:[1536,1791]},{Xd:"Emoji",Wn:[9728,10095,127744,129535]}];
function hW(){cA.call(this,[13,0],!1,null,cA.gp.xq);this.yE=0;this.aw4=0;this.RM=null}hW.prototype=new cA("");
hW.prototype._t=function(){if(!R.bT(this.V2)||this.op)return;var i=R.S("div","flexrow padded");this.V2.appendChild(i);
var $=R.S("div");i.appendChild($);this.op=[];for(var t=0;t<2;t++){var h=new hD;this.op.push(h);h.h("click",this.a1v,this);
$.appendChild(h.m)}this.Nt=new f4(192);console.log("hsb picker");this.Nt.h(x.E.r,this.AL,this);this.bO=new bp;
this.bO.parent=this;i.appendChild(this.Nt.m);this.aG(this.RM,dC.mW)};hW.prototype.a1v=function(i){var $=i.currentTarget,h=this.op.indexOf($);
if(h==this.yE){this.bO.Yi(h)}else{this.yE=h;this.WA()}};hW.prototype.AL=function(i){var $=this.Nt.G();
this.Nt.t($);var h=Math.round($.o*255)<<16|Math.round($.P*255)<<8|Math.round($.Z*255),d=new eU(x.E.k,!0);
d.data={d:x.c.vj,J0:dC.xq,vC:this.yE,L:h};this.$(d);this.aw4=Date.now()};hW.prototype.WA=function(){if(this.bO==null)return;
var i=this.RM,$=this.yE,h=[i.Mz,i.n9];for(var t=0;t<2;t++){var d=this.op[t],K=d.m.style;d.gh(h[t]);if(t==$)K.filter="drop-shadow(0 0 1px #000000)"}var f=h[$];
if(Date.now()-this.aw4>100)this.Nt.t({o:(f>>>16)/255,P:(f>>>8&255)/255,Z:(f&255)/255})};hW.prototype.aG=function(i,$){this.RM=i;
if(this.bO==null)return;if($==dC.mW||$==dC.xq){this.bO.afk(i.Mz,i.n9);this.WA()}};hW.prototype.Ra=function(){this._t()};
hW.prototype.$G=function(){this._t();this.WA()};function aL(){cA.call(this,"CSS",!1,"---panels/css",cA.gp.CSS);
this.yM=null;var i=R.S("div","padded");this.V2.appendChild(i);this.OL=R.S("textarea");R.zb(this.OL);
i.appendChild(this.OL)}aL.prototype=new cA("");aL.prototype.JQ=function(i,$){if(this.DD==i)return;this.DD=i;
this.OL.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(i-10)+"px; height:"+($-10)+"px")};
aL.prototype.Ra=function(i){this.yM=i;this.WA()};aL.prototype.aG=function(i,$){if($==dC.oX)this.WA()};
aL.prototype.WA=function(){var i=this.yM;if(i==null||i.g.length==0)return;if(!R.bT(this.V2))return;var $=i.B[i.g[0]],h=CSS.a0c($,i);
if(h.length!=0)this.OL.value=h.join(";\n")+";";else this.OL.value=""};aL.prototype.$G=function(){this.WA()};
function ih(){cA.call(this,[9,6],!1,"---panels/info",cA.gp.alU);this.V2.setAttribute("style","min-width:240px;");
this.yM=null;this.RM=null;var i=R.S("div","marged row");this.V2.appendChild(i);var $=R.S("div","cell");
$.setAttribute("style","width:10em");i.appendChild($);var h=R.S("div","cell");h.setAttribute("style","width:10em");
i.appendChild(h);this.avu=[];for(var t=0;t<4;t++){var d=new ie("");this.avu.push(d);$.appendChild(d.m);
R.k6($)}this.V2.appendChild(R.S("hr",""));var K=R.S("div","marged row");this.V2.appendChild(K);var $=R.S("div","cell");
$.setAttribute("style","width:10em");var h=R.S("div","cell");h.setAttribute("style","width:10em");K.appendChild($);
K.appendChild(h);this.HJ=new ie("");$.appendChild(this.HJ.m);R.k6($);this.ss=new ie("");$.appendChild(this.ss.m);
this.sO=new ie("");h.appendChild(this.sO.m);R.k6(h);this.ty=new ie("");h.appendChild(this.ty.m);this.HJ.t("X: 100 px");
this.ss.t("Y: 100 px");this.sO.t("W: 0");this.ty.t("H: 0")}ih.prototype=new cA("");ih.prototype.Zm=function(i,$,h,d,K){if(!R.bT(this.V2)||i==null)return;
var f=i.u._x(K.x,K.y),l=new cq(Math.floor(f.x),Math.floor(f.y));if(!K.Et){var u=0,U=0,y=0,a=0,v=this.avu;
if(!K.Et&&!i.aqC()&&new bN(0,0,i.e-1,i.n-1).dD(l)){var c=i.Fy(),t=i.e*l.y+l.x<<2;u=c[t+0];U=c[t+1];y=c[t+2];
a=c[t+3]}v[0].t("R: "+u);v[1].t("G: "+U);v[2].t("B: "+y);v[3].t("A: "+a)}this.HJ.t("X: "+k.TA.Iy(l.x,i._m,h,i.e));
this.ss.t("Y: "+k.TA.Iy(l.y,i._m,h,i.n));this.fb()};ih.prototype.fb=function(){var i=this.yM,$=this.RM,h=0,d=0;
if(i&&$){if(i.u.Br){h=i.u.Br.e;d=i.u.Br.n}else if(i.J){h=i.J.rect.e;d=i.J.rect.n}h=k.TA.Iy(Math.abs(h),i._m,$,i.e);
d=k.TA.Iy(Math.abs(d),i._m,$,i.n)}this.sO.t(e_.get([12,41]).charAt(0)+": "+h);this.ty.t(e_.get([12,42]).charAt(0)+": "+d)};
ih.prototype.f=function(){cA.prototype.f.call(this);this.fb()};ih.prototype.Ra=function(i,$,h){this.yM=i;
this.RM=h;this.fb()};function aG(){cA.call(this,[9,1],!1,"---panels/layers",cA.gp.$S);this.Q$=null;this.Ji=[];
this.x3=null;this.DC=null;this.Gt=R.S("div","lphead");this.PG=R.S("div","lpbody scrollable");this.PG.addEventListener("scroll",this.agi.bind(this),!1);
this.kd=R.S("div","lpfoot");var i=this.asy=R.S("span");i.setAttribute("style","display:inline-block; height:26px");
this.Gt.appendChild(i);this.MA=new ku(null,ca.UX,!1,ca.Uy);this.MA.h(x.E.r,this.amv,this);this.Gt.appendChild(this.MA.m);
this.ft=new j6([12,0],0,100,"%",0);this.ft.h(x.E.r,this.ajo,this);this.ft.parent=this;this.Gt.appendChild(this.ft.m);
this.af=new fZ([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.af.h(x.E.r,this.axG,this);this.Gt.appendChild(this.af.m);this.sK=new j6([12,26],0,100,"%",0);this.sK.h(x.E.r,this.aqn,this);
this.sK.parent=this;this.Gt.appendChild(this.sK.m);this.LP=[];this.Df();this.V2.appendChild(this.Gt);
this.V2.appendChild(this.PG);this.PG.addEventListener("dragover",function(h){h.preventDefault()},!1);
this.PG.addEventListener("dragenter",R.ZY,!1);this.PG.addEventListener("drop",this.a0R.bind(this),!1);
this.V2.appendChild(this.kd);this.V2.addEventListener("contextmenu",R.ZY,!1);this.h("rclick",this.aom,this);
var $=function(h,d,t){return{Q0:this.QO[t]==1}}.bind(this);this.aul=new ew([{name:[0,6],w:$},{name:[14,10],w:$},{name:[6,57,2],w:$,c6:!0},{name:"Long-tap as a right click",w:$,c6:!0},{name:"\u2796 Preview Size"},{name:"\u2795 Preview Size"}]);
this.aul.h("select",this.acX,this);this.QO=[0,1,1,0];this.acX()}aG.prototype=new cA("");aG.prototype.e0=function(){if(this.al6)return;
var i=eA.gL(!0),$=eA.v2(!0);this.al6=new ew(i,$);var i=[{name:[14,10]},{name:[14,11],c6:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],c6:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(h){return{w:h.B[h.g[0]].add.SoLd!=null}},c6:!0},{name:[6,8],w:aG.axf},{name:[6,34],w:function(h){var d=h.B[h.g[0]];
return{w:d.add.lmfx!=null&&!d.BT()}}},{name:[6,40],c6:!0,w:function(h){var d=h.B[h.g[0]];return{w:d.add.TySh!=null}}},{name:"",c6:!0,w:function(h){var d=h.B[h.g[0]],K=d.add.TySh,f=K?K.$D:null;
return{w:K!=null&&f.Curve==null,Np:e_.get(K&&jP.dO(f)==0?[16,3,1]:[16,3,0])}}},aG.aou(!1),{name:[11,6],c6:!0,sub:[{name:[5,1],w:function(h){var d=h.B[h.g[0]];
return{w:d.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],w:function(h){var d=h.B[h.g[0]];return{w:d.add.lmfx!=null}}}]},{name:[6,12,0],w:function(h){var d=h==null?0:h.g.length;
return{w:d!=0&&(d!=1||h.g[0]!=0),Np:e_.get(d>1||d==1&&h.B[h.g[0]].BT()?[6,12,0]:[6,10])}}},{name:[6,12,1],c6:!0},{name:[13,0],sub:function(){var h=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],d=[];
for(var t=0;t<h.length;t++)d.push({name:h[t]});return d}()}],$=[{_:x.E.k,W:{d:x.c.ZD,Kh:"layerstyle"}},{_:x.E.s,b:D.oN,W:{d:"fromlayer",ZP:[null,0,0]}},{_:x.E.s,b:D.$S,W:{d:H.kq}},{_:x.E.k,W:{d:x.c.ZD,Kh:"duplinto"}},{_:x.E.s,b:D.$S,W:{d:H.c1}},{_:x.E.jm,W:{Fs:"newPlacedLayer"}},{_:x.E.s,b:D.$S,W:{d:H.Gl}},{_:x.E.jm,W:{Fs:"rasterizeLayer",B6:{classID:"rasterizeLayer",null:jV.uf("Lyr",!0)}}},{_:x.E.s,b:D.$S,W:{d:H.lH}},{_:x.E.s,b:D.$S,W:{d:H.atR}},{_:x.E.s,b:D.z2,W:{d:"switchPntPrgr"}},{_:x.E.s,b:D.$S,W:{d:H.bx}},{sub:[{_:x.E.s,b:D.s1,W:{d:"st_copy"}},{_:x.E.s,b:D.s1,W:{d:"st_paste"}},{_:x.E.s,b:D.s1,W:{d:"st_clear"}}]},{_:x.E.jm,W:{Fs:"mergeLayersNew",B6:{__name:"Merge Layers",classID:"Mrg2"}}},{_:x.E.jm,W:{Fs:"flattenImage"}},{sub:function(){var h=[];
for(var t=0;t<8;t++)h.push({_:x.E.s,b:D.$S,W:{d:H.T7,aqR:t}});return h}()}];this.qA=new ew(i,$);var i=[{name:[6,45],w:function(h){var d=h.B[h.g[0]];
return{w:d.Hi(h).z==null}}},{name:[6,47]}],$=[{_:x.E.s,b:D.$S,W:{d:H.wv}},{_:x.E.s,b:D.$S,W:{d:H.qs}}];
this.a8Y=new ew(i,$);var i=[{name:"enab/disab",w:function(h){return{Np:e_.get(h.B[h.g[0]].MQ().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(h){return{w:h.EX(!1,!0)}}}],$=[{_:x.E.s,b:D.$S,W:{d:H.M2}},{_:x.E.s,b:D.$S,W:{d:H.z4}},{_:x.E.s,b:D.$S,W:{d:H.WT}}];
this.ag7=new ew(i,$);var i=[{name:"enab/disab",w:function(h){return{Np:e_.get(h.B[h.g[0]].Hi(h).z.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],$=[{_:x.E.s,b:D.$S,W:{d:H.ay}},{_:x.E.s,b:D.$S,W:{d:H.wt}}];
this.a2T=new ew(i,$);var i=[{name:"enab/disab",w:function(h){return{Np:e_.get(h.B[h.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],$=[{_:x.E.s,b:D.$S,W:{d:H.dg}},{_:x.E.s,b:D.$S,W:{d:H.Jv}},{_:x.E.s,b:D.$S,W:{d:H.cX}}];
this.a23=new ew(i,$);this.a1m=new ew(eA.agW(!0),eA.XN(!0));this.ajl=new ew(eA.gL(),eA.v2())};aG.prototype.agi=function(i){var $=this.PG.scrollTop-600;
for(var t=0;t<this.Ji.length;t++){var h=this.Ji[t],d=h.Lf;if($<h.Lf)h.afg();if(h.Lf>$+this.mJ+600)break}};
aG.prototype.n3=function(){return this.aul};aG.prototype.acX=function(i){var $=this.QO;if(i){var h=i.target.CK(),t=h[0];
if(t<4)$[t]=1-$[t];else{if(t==4&&cI.Ba-10>=10)cI.Ba-=10;if(t==5&&cI.Ba+10<=200)cI.Ba+=10;if(this.x3)this.x3.$x=!0}}if($[0]==1)this.aaQ();
var d=[[{m:this.asy}],[this.MA,this.ft],[this.af,this.sK]];for(var t=0;t<3;t++)for(var K=0;K<d[t].length;
K++)d[t][K].m.style.display=$[t]==1?"inline-block":"none";this.JQ(this.DD,this.mJ)};aG.prototype.axc=function(){var i=this._f;
if(i==null)return!1;if(i.G()){var $=this.aw.G(),h=this.ha[$].G();if($==0)return h.indexOf(!0)!=-1;if($==1)return h!=""}return!1};
aG.aou=function(i){var $=function(d){var K=d!=null&&d.g.length!=0&&d.B[d.g[0]].sD;return{Q0:K,w:d!=null&&d.z0(d.g[0]),W:{_:x.E.jm,W:{Fs:K?"ungroup":"groupEvent",B6:{classID:K?"Ungr":"GrpL",null:jV.uf("Lyr",!0)}}}}},h={name:[6,6,0],c6:!0,w:$};
if(i)h.oF=[ai.rf,ai.PO,ai.RB];return h};aG.axf=function(i,$){if(i)for(var t=0;t<i.g.length;t++){var h=i.B[i.g[t]];
if(h.add.TySh||h.add.SoLd||h.add.SoCo||h.add.GdFl||h.add.PtFl)return{w:!0}}return{w:!1}};aG.prototype.a0R=function(i){R.ZY(i);
var $=i.dataTransfer.getData("Text"),h=1,d=0;if($==""){R.K_(i,this,this.DC.indexOf(this.x3),d+(h>.5?0:1))}else if($!="--panel"){var $=JSON.parse($),K=$.Ww;
if(K=="l")this.fW({d:H.J5,source:$.cK,target:d,EG:h})}};aG.prototype.aom=function(i){var $=this.x3,h=i.data,K;
if($.g.indexOf(h.a)==-1){var d={d:H.P_,a:i.target._w.index,P$:h.Tu};this.fW(d)}if($.g.indexOf(h.a)==-1)return;
this.e0();if(h.Tu==1){K=this.ag7}else if(h.Tu==2){K=this.a23}else if(h.Tu==3){K=this.a2T}else if(h.Tu==4){K=this.a8Y}else if(h.Tu==5){K=this.al6}else{K=this.qA}K.f();
K.update($);K.parent=this;var f=new eU(x.E.k,!0);f.data={d:x.c.jT,dX:K,x:h.ST.x+1,y:h.ST.y+1};this.$(f)};
aG.prototype.f=function(){cA.prototype.f.call(this);this.MA.f();this.ft.f();this.af.f();this.sK.f();
if(this._f){this._f.f();this.ha[0].f()}if(this.x3)this.Ra(this.x3);var i="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var t=0;t<this.LP.length;t++){var $=this.LP[t];$.L5(R.HD(i[t],null,"miniscale"));if(t==1||t==2){$.m.style.position="relative";
var h=R.S("img","gsicon");h.setAttribute("src",PIMG["tools/corner"]);h.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
$.m.appendChild(h)}}};aG.prototype.Ra=function(i,$){if(i&&!i.$x)return;if(i==null)R.FK(this.V2,"disabled");
else R.jE(this.V2,"disabled");this.x3=i;this.DC=$;if(this.Q$!=null){R.J9(this.PG);this.Q$=null;this.Ji=[]}if(i==null)return;
var h=!1;for(var t=0;t<i.kY.length;t++)if(i.kY[t].$$)h=!0;this.Q$=new jo(i.root,this,i,{Co:0,_K:!1},{aqW:h,a8b:this.axc()},this.Ji,0,new bN(0,0,i.e,i.n));
if(i.g.length==0||i.B[i.g[0]]==null)R.FK(this.Gt,"disabled");else{R.jE(this.Gt,"disabled");if(i.g.length==1&&i.zy){var d=i.g[0];
for(var t=0;t<this.Ji.length;t++){var K=this.Ji[t];if(K._w.index==d&&K.Gt.scrollIntoView)K.Gt.scrollIntoView({block:"nearest"})}}var f=i.B[i.g[0]];
if(f.BT()){this.MA.TD([[15,10,27]].concat(ca.UX),[1].concat(ca.Uy));var l=ca.bj.indexOf(f.R$);this.MA.t(l+1)}else{this.MA.TD(ca.UX,ca.Uy);
var l=ca.bj.indexOf(f.R$);this.MA.t(l)}this.ft.t(Math.round(100*f.opacity/255));this.af.t([f.wC(0),f.wC(1),f.wC(2),f.wC(31)]);
var u=i.li();this.MA.BH(!u);this.sK.BH(!u);this.ft.BH(!u);this.af.BH(!(u&&!f.wC(31)));this.sK.t(Math.round(100*(f.add.iOpa!=null?f.add.iOpa/255:1)))}this.agi(null)};
aG.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;var h=this.Gt.getBoundingClientRect().height;if(55<h&&h<56)h=60.2;
var d=this.kd.getBoundingClientRect().height,K=$-(h+d+3);this.PG.style.height=K+"px";this.PG.style.width=i+"px"};
aG.prototype.amv=function(i){this.fW({d:H.L0,gj:this.MA.G()})};aG.prototype.ajo=function(i){this.fW({d:H.PW,gj:Math.round(255*this.ft.G()/100)})};
aG.prototype.axG=function(i){this.fW({d:H.ex,gj:[this.af.G(),[0,1,2,31]]})};aG.prototype.aqn=function(i){this.fW({d:H.Bh,gj:Math.round(255*this.sK.G()/100)})};
aG.prototype.Qj=function(i){if(i.target==this.aw)this.aaQ();var $=this._f.G();if($)R.jE(this.OF,"disabled");
else R.FK(this.OF,"disabled");this.f();this.x3.$x=!0;this.Ra(this.x3);this.x3.$x=!1};aG.prototype.aaQ=function(){var i=this.OF;
if(i==null){var $=this.asy,h=this._f=new iD([0,6]);h.h(x.E.r,this.Qj,this);$.appendChild(h.m);i=this.OF=R.S("span","disabled");
$.appendChild(i);this.aw=new ku(null,["Kind",[12,48]],!1,[]);this.aw.h(x.E.r,this.Qj,this);var d=this.ha=[new fZ(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new at(null,null,8)];
d[0].h(x.E.r,this.Qj,this);d[1].h("input",this.Qj,this)}R.J9(i);i.appendChild(this.aw.m);i.appendChild(this.ha[this.aw.G()].m)};
aG.prototype.ar2=function(i){this.e0();this.arz(i,this.a1m)};aG.prototype.a20=function(i){this.e0();
this.arz(i,this.ajl)};aG.prototype.arz=function(i,$){var h=i.currentTarget;if(R.bT($.m))return;i.stopPropagation();
var d=h.getBoundingClientRect();$.f();$.update(this.x3);$.parent=this;var K=new eU(x.E.k,!0);K.data={d:x.c.jT,dX:$,x:d.left,y:d.top,ava:!0};
this.$(K)};aG.prototype.amw=function(i){this.fW({d:H.a2Q})};aG.prototype.a7$=function(i){this.fW({d:this.x3.g.length>1?H.st:H.nW})};
aG.prototype.a3M=function(i){this.fW({d:H.vY})};aG.prototype.a1j=function(i){var $=this.x3;if($.g.length==0)return;
var h=$.B[$.g[0]],d=h.Tu;this.fW({d:d<=0?h.fx?H.Jv:H.c1:d==3?H.wt:H.z4})};aG.prototype.agG=function(i){this.fW({d:H.y0})};
aG.prototype.fW=function(i){var $=new eU(x.E.s,!0);$.data=i;$.b=D.$S;this.$($)};aG.prototype.Df=function(){var i=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],$=[this.agG,this.a20,this.ar2,this.amw,this.a7$,this.a3M,this.a1j],h=this.a8W.bind(this);
for(var t=0;t<i.length;t++){var d=new d_("W",!1,i[t]);this.LP.push(d);R.K6(d.m,$[t].bind(this));this.kd.appendChild(d.m);
if(t>=i.length-3){var K=d.m;K.addEventListener("drop",h,!1);K.addEventListener("dragover",function(f){f.preventDefault()},!1);
K.addEventListener("dragenter",R.ZY,!1)}}};aG.prototype.a8W=function(i){R.ZY(i);var $=0,h=this.LP;while(h[$].m!=i.currentTarget)$++;
h[$].Xv();var d=i.dataTransfer.getData("Text");if(d=="")return;var d=JSON.parse(d);if(d.Ww=="l"){var K={d:[H.st,H.kq,H.c1][$-4]};
if(this.x3.g.indexOf(d.cK)==-1)K.a=d.cK;this.fW(K)}if($!=6)return;if(d.Ww=="sm"||d.Ww=="s"){var f=new eU(x.E.s,!0);
f.b=D.s1;f.data={d:d.Ww=="sm"?"st_clear":"st_delsingle",a:d.cK,cK:d.dC};this.$(f)}if(d.Ww=="fm"||d.Ww=="f"){this.fW({d:d.Ww=="fm"?H.qs:H.Vt,src:d.cK,dC:d.dC})}if(d.Ww=="m"||d.Ww=="vm"){this.fW({d:d.Ww=="m"?H.z4:H.Jv,a:d.cK})}};
function jo(i,$,h,d,K,f,l,u){dq.call(this);this.parent=$;this.Lf=l;this._w=i;f.push(this);this.pP=h;
this.QT=d;var U=$.PG,y=i.a,a=h.g.indexOf(i.index)!=-1,C=null;this.Gt=R.S("div",a?"head selected":"head");
if(y.add.artb!=null){R.FK(this.Gt,"artb");u=y.Ik()}var v=this.a92=Math.floor(10+y.afl/R.V()),c="height: "+v+"px;";
if(a&&K.aqW)c+="background-color:rgba(255,50,50,0.4);";this.Gt.setAttribute("style",c);this.vv=u;var p=this.a2m=this.akm.bind(this),T=K.a8b&&!this.a1f();
if(!T){if(i.depth!=0){U.appendChild(this.Gt);l+=v}if(y.tT()||y.Hm())if(y.TQ()){C=this.arg=R.S("div","lpineck");
U.appendChild(C);if(y.tT()){C.addEventListener("contextmenu",p,!1);var E=new aG.Kv(e_.get([12,1]),"sm","layerstyle",i.depth,0,null);
l+=21;E.parent=this;C.appendChild(E.m);var r=y.add.lmfx,Y=r.masterFXSwitch.v;E.DJ(Y);for(var t=0;t<et.order.length;
t++){var S=r[et.CE[t]].v;if(S.length==0)continue;for(var m=0;m<S.length;m++){var E=new aG.Kv(e_.get(et.names[t]),"s","layerstyle",i.depth,1,[t,m]);
l+=21;E.DJ(Y&&S[m].v.enab.v);E.parent=this;C.appendChild(E.m)}}}if(y.Hm()){var Q=y.Hi(h).z;if(Q)this.g_=R.S("div","thumb");
var E=new aG.Kv(e_.get([12,55]),"fm",null,i.depth,0,-1,Q?this.g_:null);E.parent=this;C.appendChild(E.m);
this.anV=E.m;this.anV.addEventListener("contextmenu",p,!1);var r=y.add.SoLd.filterFX.v,z=r.filterFXList.v,Y=r.enab.v;
E.DJ(Y);for(var t=z.length-1;t>=0;t--){var n=z[t].v,Z=d1.Pu(n);if(f2.E2[Z])Z=f2.E2[Z];var P=n.Nm.v;if(d1.names[Z])P=e_.get(d1.names[Z]);
if(f2.names[Z])P=e_.get(f2.names[Z]);var V="afw_"+Z,E=new aG.Kv(P,"f",V,i.depth,1,t);E.DJ(Y&&n.enab.v);
E.parent=this;C.appendChild(E.m)}}}}var I=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],q=y.add.lclr==null?0:I[y.add.lclr];
if(q==0)q=d.Co;this.atk=q;if(y.BT()&&(y.add.lsct==gX.DU||K.a8b)){var X={Co:q,_K:d._K||y.wC(31)};for(var t=i.children.length-1;
t>=0;t--){var B=new jo(i.children[t],$,h,X,K,f,l,u);l=B.ahB}}this.ahB=l}jo.prototype=new dq;jo.prototype.afg=function(){if(this.YV)return;
var i=this._w,$=i.a,h=this.pP,d=this.QT,v=!0,q=!1;i.eR(h,this.vv,!0);var K=R.S("div","headL"),f=R.S("div","headR");
this.Gt.appendChild(K);this.Gt.appendChild(f);var l=this.Gt;l.setAttribute("draggable","true");l.addEventListener("dragstart",this.Th.bind(this),!1);
l.addEventListener("drop",this._S.bind(this),!1);l.addEventListener("dragover",this.j6.bind(this),!1);
l.addEventListener("dragenter",R.ZY,!1);l.addEventListener("dragleave",this.PA.bind(this),!1);var u=[],U=[null,null,null,null],y=$.ji(),a=i;
while(a.parent){a=a.parent;y=y&&a.a.ji()}if($.sD){for(var t=i.index-1;t>=0;t--){var c=h.B[t];if(!c.sD){v=c.ji();
break}}}var p=$.ji()?y&&v?2:1:0;this.YV=R.S("div");var C=R.S("div",p==0?"sqr":"eye");this.YV.appendChild(C);
C.style.opacity=[.12,.33,1][p];var T=R.S("div","space");this.oQ=R.S("div","label");this.oQ.setAttribute("style","max-width:calc(100% - "+(96+i.depth*20)+"px); margin-top:"+(this.a92-19)/2+"px;");
this.oQ.textContent=$.getName();this.Sf=R.S("div","lock");this.axo=R.S("div","lrfx");this.fB=R.S("div","arfx");
var E=this.a2m,r=this.aa2.bind(this);this.Gt.addEventListener("click",r,!1);this.Gt.addEventListener("contextmenu",E,!1);
var Y=this.atk,S=[Y>>16,Y>>8&255,Y&255];for(var t=0;t<3;t++){S[t]=Math.round(.5*S[t]+.5*220)}this.YV.setAttribute("style","background-color:rgba("+S.join(",")+","+(Y==0?0:1)+");");
var m=this.a19.bind(this);this.YV.addEventListener("mousedown",m,!1);this.YV.addEventListener("mouseover",m,!1);
this.fB.addEventListener("click",this.awK.bind(this),!1);u[0]=this.YV;u[1]=T;u[10]=this.oQ;if($.BT()){var Q=R.S("div","arrow"),z=R.S("div","folder");
this.Mc(z);Q.addEventListener("click",this.abT.bind(this),!1);u[2]=Q;u[3]=z;Q.className=$.add.lsct==gX.DU?"open":"closed"}else{this.YE=R.S("div","thumb");
u[5]=this.YE;jo.mU(this.YE,$.XL);this.Mc(this.YE);if(f2.get($.add))R.FK($.XL.canvas,"gsicon")}var n=$.MQ();
if(n){this.D0=R.S("div","chain");this.vE=R.S("div","thumb");jo.mU(this.vE,$.OV,!0);this.D0.style.opacity=n.sE?1:0;
this.D0.addEventListener("click",this.axQ.bind(this),!1)}var Z=$.A$()&&$.add.vmsk;if($.add.vmsk&&!Z){this.kC=R.S("div","chain");
this.it=R.S("div","thumb");jo.mU(this.it,$.db,!0);this.kC.style.opacity=$.add.vmsk.sE?1:0;this.kC.addEventListener("click",this.aeY.bind(this),!1)}if($.Hm()&&$.TQ()&&$.Hi(h).z){jo.mU(this.g_,$.dl,!1);
this.Mc(this.g_);this.g_.addEventListener("click",r,!1);this.g_.addEventListener("contextmenu",E,!1)}if(i.index==h.g[0]){var P=$.Tu,V;
if(P<=0)V=this.YE;else if(P==1)V=this.vE;else if(P==3)V=this.g_;if(V)V.className="thumb active";if($.fx&&this.it)this.it.className="thumb active"}T.setAttribute("style","width:"+Math.max(0,i.depth-1)*18+"px");
var I=$.add.lspf!=null&&$.add.lspf!=0||d._K;this.Sf.style.opacity=$.wC(31)?1:.5;u[4]=$.sD?R.S("div","clipp"):null;
u[6]=n?this.D0:null;u[7]=n?this.vE:null;u[8]=$.add.vmsk&&!Z?this.kC:null;u[9]=$.add.vmsk&&!Z?this.it:null;
var X=$.nM,B=h.g;if(X!=0)for(var t=0;t<B.length;t++)if(h.B[B[t]].nM==X){q=!0;break}if(q){U[0]=R.S("div",$.wf?"link":"linkX");
U[0].addEventListener("click",this.asT.bind(this),!1)}U[1]=I?this.Sf:null;U[2]=$.tT()?this.axo:null;
U[3]=$.tT()||$.Hm()?this.fB:null;this.fB.className=$.TQ()?"arfx open  gsicon":"arfx closed  gsicon";
var e=u;for(var t=0;t<e.length;t++)if(e[t])K.appendChild(e[t]);e=U;for(var t=0;t<e.length;t++)if(e[t])f.appendChild(e[t])};
jo.mU=function(i,$,h){var d=$.canvas;R.Sz(d);if(h)i.setAttribute("draggable","true");i.appendChild(d);
d.setAttribute("style",d.getAttribute("style")+"; pointer-events:none")};jo.prototype.Mc=function(i){R.K6(i,function($){if(this.parent.QO[3]==0)return;
R.HG($);R.pq(document.body,function(){clearTimeout(this.a3F)}.bind(this));this.a3F=setTimeout(function(){var h=new eU("rclick",!0);
h.data={a:this._w.index,Tu:this.Tu($),ST:R.CJ($,document.body)};this.$(h)}.bind(this),600)}.bind(this))};
jo.Vm=function(i,$){var h=$.getBoundingClientRect();return(i.clientY-h.top)/h.height};jo.prototype.Th=function(i){i.stopPropagation();
var $=i.target==this.vE?"m":i.target==this.it?"vm":"l";i.dataTransfer.setData("Text",JSON.stringify({Ww:$,cK:this._w.index}))};
jo.prototype.PA=function(i){R.ZY(i);this.lf()};jo.prototype._S=function(i){R.ZY(i);this.lf();var $=i.dataTransfer.getData("Text"),h=this.parent.x3,d=jo.Vm(i,this.Gt),K=this._w.index;
if(d>.8){var f=!0,l=h.root.$p(K);while(l.parent!=null){var u=l.parent,U=u.children;if(U.indexOf(l)!=0)f=!1;
l=l.parent}if(f){K=0;d=1}}if($==""){R.K_(i,this,this.parent.DC.indexOf(h),K+(d>.5?0:1))}else if($!="--panel"){var $=JSON.parse($),y=$.Ww;
if(y=="l")this.fW({d:H.J5,source:$.cK,target:K,EG:d});else if(y=="m"||y=="vm")this.fW({d:y=="m"?H.afO:H.FP,src:$.cK,pW:K});
else jo.a50(i,$,this)}};jo.a50=function(i,$,h,d){var K=$.Ww,f=h._w.index,l=$.cK;if(K=="s"||K=="sm")h.fW({d:H.X4,src:l,pW:f,dC:$.dC});
if(K=="f"||K=="fm")h.fW({d:H.aeh,src:l,pW:f,dC:$.dC,gq:d==null?0:d})};jo.prototype.j6=function(i){R.ZY(i);
var $=jo.Vm(i,this.Gt),h=this._w.a.BT()&&.5<$&&$<.8;this.lf();var d="inset 0 "+(h?0:$>.5?-3:3)+"px "+(h?"5px black":"0 rgba(0,0,0,0.5)");
this.Gt.style.boxShadow=d};jo.prototype.lf=function(i){this.Gt.style.boxShadow=""};jo.a5G=-1;jo.bF=!1;
jo.ar9=function(i){jo.bF=!1;document.body.removeEventListener("mouseup",jo.ar9)};jo.prototype.a19=function(i){if(i.button!=0)return;
if(i.type=="mousedown"){jo.bF=!0;document.body.addEventListener("mouseup",jo.ar9,!1)}if(i.type=="mouseover"&&(!jo.bF||jo.a5G==this._w.index))return;
R.ZY(i);this.fW({d:H.Ja,a:this._w.index});jo.a5G=this._w.index};jo.prototype.abT=function(i){R.ZY(i);
this.fW({d:H.anu,a:this._w.index})};jo.prototype.axQ=function(i){this.fW({d:H.RX,a:this._w.index})};
jo.prototype.aeY=function(i){this.fW({d:H._g,a:this._w.index})};jo.Mw=0;jo.prototype.Ws=function(i){this.fW({d:H.gv,a:this._w.index,name:i})};
jo.prototype.awK=function(i){this.fW({d:H.aje,a:this._w.index})};jo.prototype.asT=function(i){this.fW({d:H.aa,a:this._w.index})};
jo.prototype.akm=function(i){if(i.button!=2&&!R.abA(i))return;var $=this.Tu(i);if($!=3&&i.currentTarget==this.anV)$=4;
if(i.target==this.axo||i.currentTarget==this.arg)$=5;var h=new eU("rclick",!0);h.data={a:this._w.index,Tu:$,ST:R.CJ(i,document.body)};
this.$(h)};jo.prototype.Tu=function(i){var $=i.target,h=$;return h==this.it?2:h==this.vE?1:h==this.YE?0:h==this.g_?3:-1};
jo.prototype.aa2=function(i){var $=i.target,c;if($==this.YV.firstChild||$==this.fB||$==this.D0||$==this.kC||$.tagName&&$.tagName.toLowerCase()=="input")return;
var h=this.Tu(i),d=this.parent.x3,K=this._w.index,f=d.B[K];if($==this.Sf){this.fW({d:H.ex,a:K,gj:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if($==this.oQ){var l=jo.Mw;jo.Mw=Date.now();if(Date.now()-l<300){this.Gt.setAttribute("draggable","false");
var u=new cA.cU(this.oQ,this.Ws.bind(this))}else this.fW({d:H.P_,a:K,P$:h,qU:!0});return}if(i.button==0&&i.detail==2){if($==this.oQ)return;
var U=new eU(x.E.s,!0),y=new eU(x.E.k,!0),a=new eU(x.E.jm,!0);if(h==0&&f.add.SoCo){var v=k.M.zk(f.add.SoCo.Clr.v);
y.data={d:x.c.ZD,Kh:"colorpicker",Co:v.o<<16|v.P<<8|v.Z,gn:function(T){var E=k.M.Aw({Z:T&255,P:T>>>8&255,o:T>>16&255});
E={classID:"null",Clr:{t:"Objc",v:E}};var r=new eU(x.E.s,!0);r.b=D.$S;r.data={d:H.O5,o5:[K],Wj:!0,L:{$M:1,DP:E}};
this.$(r)}.bind(this),Wg:!0}}else if(h==0&&(f2.get(f.add)||f.add.SoCo||f.add.GdFl||f.add.PtFl))y.data={d:x.c.Q6,Kh:cA.gp.AM};
else if(h!=0&&h!=-1)y.data={d:x.c.Q6,Kh:cA.gp.AM};else if(h==0&&f.add.SoLd)a.data={Fs:"placedLayerEditContents",B6:{classID:"placedLayerEditContents"}};
else if(h==0&&f.add.TySh){U.b=D.z2;U.data={d:"editCurr",hn:K}}else y.data={d:x.c.ZD,Kh:"layerstyle",a:K};
this.$(a.data?a:y.data?y:U);return}if(i.button!=0)return;if(h==1||h==3){var p=h==3?f.Hi(d).z:f.MQ();
c=p.$$?d.u.rB.join("")=="111"?1:2:0}var C={d:H.P_,a:K,P$:h,a7l:c,qU:!0};this.fW(C)};jo.prototype.fW=function(i){var $=new eU(x.E.s,!0);
$.data=i;$.b=D.$S;this.$($)};jo.prototype.a1f=function(){var i=this._w.a,$=i.add,h=this.parent.aw.G(),d=this.parent.ha[h].G();
if(h==0){if(d[0]&&$.SoLd==null&&$.TySh==null&&i.zp())return!0;if(d[1]&&f2.get($)!=null)return!0;if(d[2]&&$.TySh!=null)return!0;
if(d[3]&&$.vstk!=null)return!0;if(d[4]&&$.SoLd!=null)return!0;return!1}if(h==1)return i.getName().toLowerCase().indexOf(d.toLowerCase())!=-1};
aG.Kv=function(i,$,h,d,K,f,l){dq.call(this);this.awV=$;this.UG=h;this.index=f;this.m=R.S("div","styleitem");
this.Gt=R.S("div","head");this.ay4=null;if($=="f"){var u=this.ay4=R.S("div","headR");u.textContent="\u2699";
this.Gt.appendChild(u)}this.YV=R.S("div","eye gsicon");this.oQ=R.S("div","label");this.m.appendChild(this.Gt);
this.Gt.appendChild(this.YV);if(l){this.vE=l;this.Gt.appendChild(l);this.Gt.setAttribute("style","height: "+(26/R.V()+10)+"px")}this.oQ.innerHTML=i;
this.m.setAttribute("style","margin-left: "+(24+d*16+K*22)+"px");this.Gt.appendChild(this.oQ);this.YV.addEventListener("click",this.apn.bind(this),!1);
var U=this.m;U.setAttribute("draggable","true");U.addEventListener("dragstart",this.Th.bind(this),!1);
if(!0){U.addEventListener("drop",this._S.bind(this),!1);U.addEventListener("dragover",this.j6.bind(this),!1);
U.addEventListener("dragenter",R.ZY,!1);U.addEventListener("dragleave",this.PA.bind(this),!1)}this.m.addEventListener("click",this.IQ.bind(this),!1)};
aG.Kv.prototype=new dq;aG.Kv.prototype.Th=function(i){i.stopPropagation();i.dataTransfer.setData("Text",JSON.stringify({Ww:this.awV,cK:this.parent._w.index,dC:this.index}))};
aG.Kv.prototype.PA=function(i){R.ZY(i);this.lf()};aG.Kv.prototype._S=function(i){R.ZY(i);this.lf();var $=i.dataTransfer.getData("Text");
if($=="")return;var $=JSON.parse($);jo.a50(i,$,this.parent,this.index+(jo.Vm(i,this.Gt)>.5?0:1))};aG.Kv.prototype.j6=function(i){R.ZY(i);
var $=jo.Vm(i,this.Gt)>.5;this.lf();var h="border-"+($?"bottom":"top");this.Gt.style[h]="0.2em solid rgba(0,0,0,0.5)"};
aG.Kv.prototype.lf=function(i){this.Gt.style.border="none"};aG.Kv.prototype.DJ=function(i){this.YV.style.opacity=i?1:.2};
aG.Kv.prototype.IQ=function(i){if(i.target==this.YV)return;var $=this.parent._w.index;if(i.detail!=1&&this.UG!=null){var $=this.parent._w.index,h=new eU(x.E.k,!0);
if(this.UG.indexOf("afw_")==0){var d=this.UG.slice(4),K=eK[d]||d1.q[d],f=i.target==this.ay4;if(!f&&!K)return;
h.data=D._h.arl(f?"blendOptions":d,{a:$,index:this.index})}else h.data={d:x.c.ZD,Kh:this.UG,a:$,index:this.index};
this.$(h)}else{if(i.target.className!="thumb")this.parent.fW({d:H.P_,a:$,P$:0})}};aG.Kv.prototype.apn=function(i){var $={fm:H.dz,f:H.K4,sm:H.YC,s:H.$i}[this.awV];
this.parent.fW({d:$,a:this.parent._w.index,index:this.index})};function gY(){cA.call(this,"Guide Guy",!1,"---panels/guideguy",cA.gp.aez);
this.yM=null;this.aK=new ku(null,k.TA.wU)}gY.prototype=new cA("");gY.prototype._t=function(){this.UD=[];
var i=R.S("div","form padded");this.V2.appendChild(i);i.setAttribute("style","width:200px");this.V2.appendChild(i);
var $=R.S("canvas"),h=$.getContext("2d");$.width=$.height=160;var d=[32,0,16,160,0,32,160,16,0,112,160,16],K="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),f=[0,0,0,0,0,0,0,0,0,0];
i.appendChild(this.aK.m);for(var t=0;t<10;t++){h.clearRect(0,0,160,160);h.setTransform(1,0,0,1,80,80);
h.rotate((t&3)*Math.PI/2);h.translate(-80,-80);h.fillStyle="rgba(0,0,0,0.3)";if(t<4){for(var l=0;l<12;
l+=4){h.fillStyle=l==0?"#000000":"rgba(0,0,0,0.3)";h.fillRect(d[l],d[l+1],d[l+2],d[l+3])}}else if(t<6){var u=8*6;
h.fillRect(0,0,u,160);h.fillRect(8*7,0,u,160);h.fillStyle="#000000";h.fillRect(8*14,0,u,160)}else if(t<8){h.fillRect(0,0,16,160);
h.fillRect(160-16,0,16,160);h.fillRect(32,0,160-64,160);h.fillStyle="#000000";h.fillRect(32,80-8,160-64,8*1)}else{h.fillRect(0,0,8*7,160);
h.fillRect(8*13,0,160,160);h.fillStyle="#000000";h.fillRect(8*7,80-8,8*6,8*1)}var U="<img src=\""+$.toDataURL()+"\" class=\"autoscale gsicon\" /> ",y=new j6(U,0,200,null,t==4||t==5?0:2,null,null,4,K[t]);
y.parent=this;y.h(x.E.r,this.a03,this);y.t(f[t]);y.f();this.UD.push(y);i.appendChild(y.m)}var a=[[11,14],[11,15,0]];
this.Oc=[];for(var t=0;t<a.length;t++){var v=new d_(a[t],!0,null,!0);this.Oc.push(v);v.h("click",this.Bp,this);
i.appendChild(v.m)}for(var t=0;t<6;t++){h.setTransform(1,0,0,1,80,80);h.rotate(Math.floor(t/3)*Math.PI/2);
h.translate(-80,-80);h.clearRect(0,0,160,160);h.fillStyle="rgba(0,0,0,0.3)";h.fillRect(0,0,160,160);
h.clearRect(16,16,128,128);h.fillStyle="#000000";var c=t%3;h.fillRect([0,9,18][c]*8,0,16,160);var U="<img src=\""+$.toDataURL()+"\" class=\"autoscale gsicon\" /> ",v=new d_(U,!1,null,!1);
this.Oc.push(v);v.h("click",this.Bp,this);i.appendChild(v.m)}};gY.prototype.f=function(){cA.prototype.f.call(this);
this.aK.f();if(this.UD==null)return;for(var t=0;t<this.Oc.length;t++)this.Oc[t].f()};gY.prototype.a03=function(i){var $=this.UD,h=$.indexOf(i.target),d=Math.floor(h/2),K=h&1,f=[];
for(var t=0;t<4;t++)f.push($[2*t+K].G());var l=-1;if(d==2&&f[2]!=0&&f[3]!=0&&f[4]!=0)l=4;if(d==3&&f[3]!=0&&f[2]!=0&&f[4]!=0)l=4;
if(d==4&&f[4]!=0&&f[2]!=0&&f[3]!=0)l=3;if(l!=-1)$[2*l+K].t(0)};gY.prototype.Bp=function(i){var $=this.yM,h=this.Oc.indexOf(i.target),d=[[],[]];
if($==null)return;var K=$.J?$.J.rect:new bN(0,0,$.e,$.n),f=K.e,l=K.n;if(h==0){var u=[[],[]],U=this.aK.G();
for(var t=0;t<this.UD.length;t++){var y=this.UD[t].G();y=k.TA.KT(y,$._m,$.e,U);u[t&1].push(y)}var a=[gY.a63(u[0],K.x,K.x+f),gY.a63(u[1],K.y,K.y+l)];
d=gY.ahK(a);D.NN.RD(d,$.KG())}else if(h==1){}else{h-=2;var v=Math.floor(h/3),a=[[],[]];a[v].push([K.x,K.x+f/2,K.x+f,K.y,K.y+l/2,K.y+l][h]);
d=gY.ahK(a);D.NN.RD(d,$.KG())}this.acF(d)};gY.ahK=function(i){var $=[],h=[];for(var d=0;d<2;d++)for(var t=0;
t<i[d].length;t++){$.push([d,i[d][t]]);h.push(-1)}return[$,h]};gY.prototype.asO=function(i){var $=this.a4d.indexOf(i.target)};
gY.prototype.acF=function(i){var $=new eU(x.E.s,!0);$.b=D.MW;$.data={d:"gids",rO:i};this.$($)};gY.a63=function(i,$,h){var d=[],K=i[2],f=i[3],l=i[4],u=0;
if(K==0)u++;if(f==0)u++;if(l==0)u++;if(u>1&&K==0&&f==0){if(i[0]!=0)d.push($+i[0]);if(i[1]!=0)d.push(h-i[1]);
return d}var U=h-$-i[0]-i[1];if(K==0){if(l==0){K=Math.floor(U/f);l=(U-K*f)/(K-1)}else{K=1;while(f*K+l*(K-1)+f+l<=U)K++}}else if(K!=0&&f!=0){if(K*f>U)K=Math.floor(U/f);
l=(U-K*f)/(K-1)}d.push($+i[0],h-i[1]);var f=(U-l*(K-1))/K;for(var t=1;t<K;t++){if(l==0)d.push($+i[0]+t*f);
else d.push($+i[0]+t*f+(t-1)*l,$+i[0]+t*f+t*l)}return d};gY.prototype.Ra=function(i,$,h){this.yM=i};
gY.prototype.$G=function(){if(R.bT(this.V2)&&this.UD==null)this._t();this.f()};gY.prototype.aG=function(i){this.aK.t(i.ZZ.CP)};
function fv(){cA.call(this,[9,2],!1,"---panels/properties",cA.gp.AM);this.a4J=null;this.pP=null;this.RM=null;
this.ax_=-1;this.um=null}fv.prototype=new cA("");fv.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;i=i-16;
$=$-12;var h=this.um;if(h){h.style.width=i+"px";h.style.height=$+"px";for(var t=0;t<3;t++)this.dt[t].JQ(i-12,$)}};
fv.prototype._t=function(){this.um=R.S("div","padded scrollable");this.V2.appendChild(this.um);var i=R.S("span");
this.um.appendChild(i);this.JT=[new d_([0,3]),new d_([12,73]),new d_([12,91,0])];for(var t=0;t<this.JT.length;
t++){var $=this.JT[t];$.h("click",this.avN,this);i.appendChild($.m);if(t==2)$.m.style.marginRight="0"}this.um.appendChild(R.S("hr"));
this.vX=new fv.ks;this.vX.parent=this;this.YL=new fv.m9;this.YL.parent=this;this.zQ=new fv.GS;this.zQ.parent=this;
this.dt=[this.vX,this.YL,this.zQ];this.um.appendChild(this.vX.m);this.JQ(this.DD,this.mJ)};fv.prototype.avN=function(i){var t=this.JT.indexOf(i.currentTarget);
this.sH(t);this.axZ(t==1?this.YL.Pn:-1)};fv.prototype.sH=function(i){for(var t=0;t<3;t++){this.JT[t].Xv();
var $=this.dt[t].m;if($.parentNode==this.um&&t!=i)this.um.removeChild($);if($.parentNode!=this.um&&t==i)this.um.appendChild($)}this.JT[i].rm()};
fv.prototype.axZ=function(i){var $=this.pP.g[0],h=this.pP.B[$],d=i+1;if(i==1&&h.fx)return;var K=new eU(x.E.s,!0);
K.b=D.$S;if(i!=1&&h.fx){K.data={d:H.P_,a:$,P$:2};this.$(K)}K.data={d:H.P_,a:$,P$:d};this.$(K)};fv.prototype.f=function(){cA.prototype.f.call(this);
if(this.um==null)return;this.Ra(this.pP);for(var t=0;t<3;t++){this.JT[t].f();this.dt[t].f()}};fv.prototype.$G=function(){if(!R.bT(this.V2))return;
if(this.um==null){this._t();this.aG(this.RM,dC.mW);this.Ra(this.a4J);this.f()}};fv.prototype.Ra=function(i){this.a4J=i;
if(this.um==null)return;this.vX.Ra(i);this.YL.Ra(i);this.zQ.Ra(i);if(i==null||i.g.length==0||i.B[i.g[0]]==null){R.FK(this.V2,"disabled");
this.pP=null;return}else R.jE(this.V2,"disabled");var $=i.g[0],h=i.B[$],d=i.iW(),K=d[0],f=d[1];if(f.length!=0){var l=K[f[0]],u=l.add.vogk,U=!1;
if(u)for(var t=0;t<u.length;t++){var y=u[t].v;if(!k.X.zl(y))continue;U=!0;$=l.zH}}$+=","+U;if(i!=this.pP||this.ax_!=$){this.pP=i;
this.ax_=$;if(U)this.sH(2);else if(h.Tu<1&&!h.fx||f2.get(h.add))this.sH(0);else this.sH(1)}this.JT[1].BH(this.YL.Pn!=-1);
this.JT[2].BH(U)};fv.prototype.aG=function(i,$){this.RM=i;if(this.vX)this.vX.aG(i,$);if(this.zQ)this.zQ.aG(i,$)};
fv.ks=function(){dq.call(this);this.m=R.S("div","form");this.ayf=new ie("Hello");this.JS=new d_([1,12,2],null,null,!0);
this.JS.m.style.art="right";this.JS.h("click",this.Gh,this);this.m.appendChild(this.ayf.m);this.m.appendChild(this.JS.m);
this.pB=null;this.zS=null;this.pP=null;this.RM=null;this.a4I=-1;this.a7V=null;this.fC=null;this.IW=new ib(0,!0,!0);
this.IW.parent=this;this.IW.h(x.E.r,this.aaJ,this);this.m.appendChild(this.IW.m);this.oH=new hD(!0);
this.oH.parent=this;this.oH.h(x.E.r,this.axJ,this);this.zq=R.S("div","marged hiline");this.zq.appendChild(this.oH.m);
this.n8=new dA("GrFl",!0);this.n8.parent=this;this.n8.h(x.E.r,this.at_,this);this.C1=R.S("div","marged hiline");
var i="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var t=0;t<i.length;t++){var $=this.n8.K9[i[t]].m;
this.C1.appendChild($)}this.rj=new dA("patternFill",!0);this.rj.parent=this;this.rj.h(x.E.r,this.aeG,this);
this.fo=R.S("div","marged hiline");var i=["Ptrn","Angl","Scl","Algn","phase"];for(var t=0;t<i.length;
t++){var $=this.rj.K9[i[t]].m;this.fo.appendChild($)}this.Y_={};for(var h in f2.names){if(eK[h]==null)continue;
this.Y_[h]=new eK[h];this.Y_[h].h(x.E.r,this.axH,this);this.Y_[h].parent=this}var d=this.aaz=R.S("div","marged hiline");
this.Z6=new ib(0,!0);d.appendChild(this.Z6.m);this.Z6.h(x.E.r,this.xv,this);this.a6m=null;this.bU=new jr;
this.bU.parent=this;this.bU.h(x.E.r,this.xv,this);d.appendChild(this.bU.m)};fv.ks.prototype=new dq;fv.ks.prototype.aaJ=function(i){var $=this.IW.G(),h=this.fC,d=new bN($[0],$[1],$[2],$[3]);
if(d.Rl(h))return;this.fC=d;var K=new eU(x.E.s,!0);if(h.e==d.e&&h.n==d.n){K.b=D.MW;K.data={d:"trsl",FH:d.x-h.x,cT:d.y-h.y}}else{K.b=D.Ey;
K.data={d:"scl",Q8:[2,4],L:new cq(d.e/h.e,d.n/h.n),kt:0}}this.$(K)};fv.ks.prototype.JQ=function(i,$){var h=this.Y_;
for(var d in h)h[d].JQ(i,$)};fv.ks.prototype.Gh=function(i){var $=this.pP,h=$.B[$.g[0]],d=f2.get(h.add);
this.zS.t(d1.U9(d));this.axH()};fv.ks.prototype.f=function(){for(var i in this.Y_)this.Y_[i].f();this.n8.f();
this.rj.f();this.bU.f();this.Z6.f();this.JS.f();this.IW.f()};fv.ks.prototype.xv=function(i){var $=new eU(x.E.s,!0),h=this.Z6.G(),d=this.a6m;
if(i.target==this.Z6&&h[2]==d[2]&&h[3]==d[3]){$.b=D.MW;$.data={d:"trsl",FH:h[0]-d[0],cT:h[1]-d[1]}}else{var K=H.Y9(new bN(h[0],h[1],h[2],h[3])),f=this.bU.a2b();
f.artboardRect={t:"Objc",v:K};$.b=D.$S;$.data={d:H.p4,At:f}}this.$($)};fv.ks.prototype.axJ=function(i){var $=this.pP,h=$.g[0];
if($.B[h].add.SoCo==null)return;var d=JSON.parse(JSON.stringify($.B[h].add.SoCo));d.Clr.v=this.oH.G();
this.yy({$M:1,DP:d})};fv.ks.prototype.at_=function(i){var $=this.pP,h=$.g[0];if($.B[h].add.GdFl==null)return;
this.yy({$M:2,DP:this.n8.G()})};fv.ks.prototype.aeG=function(i){this.yy({$M:3,DP:this.rj.G()})};fv.ks.prototype.yy=function(i){this.a2H(D.$S,{d:H.O5,o5:[this.pP.g[0]],Wj:!0,L:i})};
fv.ks.prototype.axH=function(i){this.a2H(D.xT,{d:"edit_layer",L:this.zS.G()})};fv.ks.prototype.a2H=function(i,$){var h=new eU(x.E.s,!0);
h.b=i;h.data=$;this.$(h)};fv.ks.prototype.Ra=function(i,$){var h=e_.get([0,3]),d=!1,K=!1,f=null;this.pP=i;
if(i&&i.B.length>0&&i.g.length!=0&&i.B[i.g[0]]){var l=i.B[i.g[0]],u=f2.get(l.add);if(u!=null&&this.Y_[u]!=null){f=this.Y_[u].m;
this.zS=this.Y_[u];this.Y_[u].t(JSON.parse(JSON.stringify(l.add[u])));if(i.g[0]!=this.a4I){var U=i.Fy(i.g[0]-1);
this.a7V=k.L_(U)}this.Y_[u].rg(this.a7V);h=e_.get(f2.names[u]);d=!0}if(u==null&&l.add.artb==null){var y=this.fC=k.p.Ip(D.vA.bL(i));
K=!y.NT();this.IW.t([y.x,y.y,y.e,y.n],[i._m,i.e,this.RM.ZZ.CP])}if(l.add.SoCo){f=this.zq;this.oH.t(l.add.SoCo.Clr.v);
h=e_.get([6,48,0,0])}if(l.add.GdFl){f=this.C1;this.n8.update(i,l.add.GdFl);h=e_.get([6,48,0,1])}if(l.add.PtFl){f=this.fo;
this.rj.update(i,l.add.PtFl);h=e_.get([6,48,0,2])}if(l.add.artb){var a=l.add.artb,v=l.Ik();f=this.aaz;
this.bU.a1i(a);var c=this.a6m=[v.x,v.y,v.e,v.n];this.Z6.t(c,[i._m,i.e,this.RM.ZZ.CP]);h=e_.get([1,16,0])}this.a4I=i.g[0]}if(f!=this.pB){if(this.pB)this.m.removeChild(this.pB);
if(f!=null)this.m.appendChild(f);this.pB=f}this.ayf.t(h);this.JS.m.style.display=d?"":"none";this.IW.m.style.display=K?"":"none"};
fv.ks.prototype.aG=function(i,$){this.RM=i;this.n8.aG(i,$);this.rj.aG(i,$);if($==dC.Nc)this.Ra(this.pP,i);
for(var h in this.Y_)this.Y_[h].aG(i,$)};fv.m9=function(){dq.call(this);this.m=R.S("div","form");this.pP=null;
this.Pn=0;var i=R.S("span","fitem");this.m.appendChild(i);this.JT=[new d_([6,2]),new d_([6,3]),new d_([6,50])];
for(var t=0;t<this.JT.length;t++){var $=this.JT[t];$.h("click",this.aqQ,this);i.appendChild($.m)}this.e9=new is([12,74],0,255);
this.e9.h(x.E.r,this.cA,this);this.m.appendChild(this.e9.m);this.HE=new is([7,6],0,500,"px",2,!0);this.HE.h(x.E.r,this.cA,this);
this.m.appendChild(this.HE.m);this.Hx=new d_([4,11],null,null,!0);this.Hx.h("click",this.awg,this)};
fv.m9.prototype=new dq;fv.m9.prototype.awg=function(){var i=new eU(x.E.s,!0);i.b=D.xT;i.data={d:"start",Mm:"nvrt"};
this.$(i)};fv.m9.prototype.cA=function(i){var $=this.e9.G(),h=this.HE.G(),d=new eU(x.E.s,!0);d.b=D.$S;
d.data={d:H.IF,Dm:this.pP.g[0],Bi:{K0:this.Pn,e9:$,HE:h}};this.$(d)};fv.m9.prototype.f=function(){for(var t=0;
t<this.JT.length;t++)this.JT[t].f();this.e9.f();this.HE.f();this.Hx.f()};fv.m9.prototype.Ra=function(i){this.pP=i;
this.vF()};fv.m9.prototype.aqQ=function(i){this.vF(this.JT.indexOf(i.currentTarget));this.parent.axZ(this.Pn)};
fv.m9.prototype.vF=function(i){var $=this.pP,h=this.JT;for(var t=0;t<3;t++){var d=h[t];d.Xv();d.eI()}if($==null||$.B.length==0||$.g.length==0||$.B[$.g[0]]==null)return;
var K=-1,f=$.B[$.g[0]];if(f.Hm()&&f.Hi($).z!=null){h[2].wA();K=2}if(f.add.vmsk){h[1].wA();K=1}if(f.MQ()){h[0].wA();
K=0}if(i!=null)K=i;else if(f.fx)K=1;else if(f.Tu==3)K=2;else if(f.Tu==1)K=0;this.Pn=K;if(K==-1){this.e9.eI();
this.HE.eI();return}var l=f.k2(K);this.e9.wA();this.HE.wA();this.e9.t(l.e9);this.HE.t(l.HE);h[K].rm();
var u=this.Hx.m;if(K==0)this.m.appendChild(u);else if(u.parentNode==this.m)this.m.removeChild(u)};fv.GS=function(){dq.call(this);
this.m=R.S("div","form");this.yM=null;this.RM=null;this.cn=-1;this.IW=new ib(0,!1);this.Hy=new is([12,15],-180,180,"\xB0",2);
this.kc=new ib(1,!0);this.Yc=new is([12,94,0],0,100,null,2);this.gx=new is([12,78],3,30);this.jL=new d_(["\u279C  ",[12,76,0]],null,null,!0);
this.IW.h(x.E.r,this.pu,this);this.Hy.h(x.E.r,this.pu,this);this.kc.h(x.E.r,this.pu,this);this.Yc.h(x.E.r,this.pu,this);
this.gx.h(x.E.r,this.pu,this);this.jL.h("click",this.pu,this)};fv.GS.prototype=new dq;fv.GS.prototype.f=function(){this.IW.f();
this.Hy.f();this.kc.f();this.Yc.f();this.gx.f()};fv.GS.prototype.pu=function(i){var $=this.yM,h=k.X.bS($),d=i.target.G(),K=[this.IW,this.Hy,this.kc,this.Yc,this.gx,this.jL].indexOf(i.target);
if(K==0){var f=[];f[0]=d[0];f[1]=d[1];f[2]=f[0]+d[2];f[3]=f[1]+d[3];d=f}if(K==1)d=d*Math.PI/180;var l={0:1,1:2,2:3,3:3,4:4}[K];
h[l]=d;var u=new eU(x.E.s,!0);u.b=D.$S;u.data={d:H.$K,L:h,abD:K==5};this.$(u)};fv.GS.prototype.Ra=function(i){var $=this.m;
this.yM=i;if(i==null)return;var h=this.RM,d=[i._m,i.e,h.ZZ.CP],K=k.X.bS(i),f=K[0],l=K[1];if(l==null)return;
var u=f!=this.cn;this.cn=f;if(u)R.J9($);if(u)$.appendChild(this.IW.m);if(u)$.appendChild(this.Hy.m);
this.IW.t([l[0],l[1],l[2]-l[0],l[3]-l[1]],d);this.Hy.t(K[2]*180/Math.PI);if(f==2){if(u)$.appendChild(this.kc.m);
var U=K[3];this.kc.t(U,d)}if(f==7||f==8){if(u)$.appendChild(this.Yc.m);this.Yc.t(K[3])}if(f==8){if(u)$.appendChild(this.gx.m);
this.gx.t(K[4])}$.appendChild(this.jL.m)};fv.GS.prototype.aG=function(i,$){this.RM=i;this.Ra(this.yM)};
function gn(i){cA.call(this,i.name,!0);this.x3=i;this.bX=null;this.le=new jC(this.V2);this.le.parent=this}gn.prototype=new cA;
gn.HL=function(){var i=document.createElement("canvas"),$=document.createElement("canvas"),h=16,d=k.Q(16*16*4);
k.by(d,h,h,8);var K=k.scale.C7(d,h,h);return{Cq:i,Fp:$,Os:i.getContext("2d"),Qf:$.getContext("2d"),HI:K}}();
gn.prototype.a4B=function(){if(this.x3.k5())return window.confirm(e_.get([22,6,3])+" "+this.x3.name+". "+e_.get([22,6,4]));
return!0};gn.prototype.aG=function(i,$){this.bX=i};gn.prototype.Ra=function(i){this.$G();this.WA()};
gn.prototype.JQ=function(i,$){if(i<=0||$<=0)return;this.DD=i;this.mJ=$;var h=this.x3,d=gn.HL,K=R.V();
h.u.Os.e=Math.floor(i*K);h.u.Os.n=Math.floor($*K);R.Pe(d.Cq,i,$);R.Pe(d.Fp,i,$);R.Pe(i8.i8(),i,$);if(h.u.N==0)h.u.N=D.qq.ahi(h.e,h.n,i*K,$*K);
this.WA()};gn.prototype.$G=function(){var i=this.V2.firstChild,$=gn.HL,h=i8.ph&&this.x3.add.fvec==null;
if(!h&&i==i8.i8()||h&&i==$.Cq)this.V2.removeChild(i);var d=h?i8.i8():$.Cq;if(!R.bT(d))this.V2.appendChild(d)};
gn.prototype.WA=function(){if(this.bX==null)return;var i=this.x3,$=i8.ph&&this.x3.add.fvec==null;if($)this.aj6();
else this.Ox()};gn.prototype.aj6=function(){if(i8.ph&&gn.tj==null){var i=gn.tj=[],$=[0,2,8,32,128];for(var t=0;
t<5;t++)i[t]=[new gn.Nw(!1,$[t],!1),new gn.Nw(!0,$[t],!1)];i.push([new gn.Nw(!1,0,!0),new gn.Nw(!0,0,!0)])}var h=this.x3,d=gn.HL,a,p=0,m,Q;
if(h.tg==null)return;var K=h.u,f=K.Os.e,l=K.Os.n,u=i8.nl;d.Os.clearRect(0,0,f,l);var U=this.arw(h);if(K.n5==null)K.n5=new i8.UT(f,l);
if(U)K.n5.set(d.Cq);else{i8.dY(K.n5);i8.iA(1)}var y=K.cV(0,0);if(gn.agx==null)gn.agx=new Float32Array(4*1024);
var v=[0,0,0,0],c=gn.agx;if(h.add.artd){c.fill(0);v=gn.Ia(h);var C=h.e,T=h.n,S=0;for(var t=0;t<h.B.length;
t++){var E=h.B[t],r=E.add.artb;if(r==null||!E.ji())continue;var Y=E.Ik();c[p]=Y.x/C;c[p+1]=Y.y/T;c[p+2]=Y.e/C;
c[p+3]=Y.n/T;p+=4;if(p==c.length)break}if(p>2*4)S++;if(p>8*4)S++;if(p>32*4)S++;a=gn.tj[S+1];c=new Float32Array(c.buffer,0,[2,8,32,128][S]*4)}else a=gn.tj[h.dV?5:0];
var z=h.fZ();if(z==null)a=a[0];else{a=a[1];Q=z[h.add.fcmy==1?6:4];m=z[2]}i8.yx(f,l);i8.iA(0);i8.yx(f,l);
a.Uu();var n=new ej;n.scale(f,l);n.concat(K.CT(!0));n.scale(1/h.e,1/h.n);var Z=[n.Pi,n.Z,0,n.sl,n.Zn,0,n.wQ,n.FQ,1];
a.tt(K.n5.Wd,h.tg.Wd,new Float32Array(Z),new Float32Array([f/8,l/8,y.x/f,y.y/l]),h.e,h.n,1/h.u.N,f,l,new Float32Array(v),c,new Float32Array(k.xP.Nj(k.xP.He(K.rB))),Q,m);
u.drawArrays(u.TRIANGLES,0,6)};gn.Ia=function(i){return[0,0,0,0]};gn.ah7=function(i){var $=k.M.zk(i.v),h=[$.o/255,$.P/255,$.Z/255,1];
for(var t=0;t<4;t++)h[t]=Math.min(1,h[t]);return h};gn.k3=function(i,$){var h=i[2]*255;if(i8.ph)h=$?0:Math.max(1,h);
return"rgba("+i[0]*255+","+i[1]*255+","+h+","+i[3]+")"};gn.ge=function(i){if(i8.ph)for(var t=0;t<i.length;
t+=4){if(i[t+2]==0)i[t+2]=3}};gn.prototype.Ox=function(){var i=this.x3,$=gn.HL;if(i.buffer==null)return;
var h=i.u,d=h.Os,K=d.e,f=d.n,l=new bN(0,0,i.e,i.n);$.Qf.clearRect(0,0,K,f);$.Os.clearRect(0,0,K,f);var u=h.CT(!0),U=u.clone();
U.Sp();if(i.add.artd==null){$.Os.save();var y=U.hb(new cq(0,0));U.translate(-y.x,-y.y);$.Os.translate(Math.round(y.x),Math.round(y.y));
$.Os.fillStyle=$.HI;if(i.dV)$.Os.fillRect(-5e3,-5e3,2e4,2e4);else{this.YG(k.p.Hg(l),U,$.Os);$.Os.fill()}$.Os.restore()}else{$.Os.fillStyle=gn.k3(gn.Ia(i));
$.Os.fillRect(0,0,K,f);$.Os.save();$.Os.setTransform(U.Pi,U.Z,U.sl,U.Zn,U.wQ,U.FQ);var a=i.root.children;
for(var t=0;t<a.length;t++){var v=a[t].a;if(v.add.artb==null||!v.ji())continue;var c=v.Ik(),p=v.wx();
if(p!=0)continue;$.Os.fillStyle=$.HI;$.Os.save();$.Os.scale(1/h.N,1/h.N);$.Os.fillRect(h.N*c.x,h.N*c.y,c.e*h.N,c.n*h.N);
$.Os.restore()}$.Os.restore()}if(h.Pp.length!=d.O()){h.Pp=k.Q(d.O());h.yk=k.Q(d.O()*4)}h.yk.fill(0);
if(i.add.fvec){var U=h.CT(!0);U.Sp();$.Os.save();var C=k.p.Hg(h.Os);k.p.D(C.C,h.CT(!0),C.C);var T=k.p.DS(C.C);
$.Os.setTransform(U.Pi,U.Z,U.sl,U.Zn,U.wQ,U.FQ);this.YG(k.p.Hg(new bN(0,0,i.e,i.n)),null,$.Os);$.Os.clip();
i.root.aoJ(i,$.Os,this.bX,T);$.Os.restore()}else{k.scale.p8(i.buffer,l,u,h.yk,d,i.dV);var E=i.fZ();if(E)ICC.U.applyLUT(E[i.add.fcmy==1?5:3],E[2],h.yk,h.yk);
if(h.rB[0]+h.rB[1]+h.rB[2]!=3)k.xP.BY(h.yk,h.yk,k.xP.He(h.rB));$.Qf.putImageData(new ImageData(new Uint8ClampedArray(h.yk.buffer),d.e,d.n),0,0);
$.Os.drawImage($.Fp,0,0);$.Os.getImageData(0,0,1,1)}this.arw(i)};gn.prototype.arw=function(i){var $=i.u,h=$.rB[0]+$.rB[1]+$.rB[2],d=gn.HL,K=!1,f=[];
for(var t=0;t<i.g.length;t++){var l=i.B[i.g[t]];if(l==null)continue;var u=l.Tu;if(u!=1&&u!=3)continue;
var U=u==1?l.MQ():l.Hi(i).z;if(U.$$)f.push(U)}for(var t=0;t<i.kY.length;t++)if(i.kY[t].$$)f.push(i.kY[t]);
for(var t=0;t<f.length;t++){var U=f[t];this.anT(U,$,f.length==1&&h==0?2:1,U.color,U.Co);K=!0}var y=this.bX;
K=this.aeu(i,d.Os,$,f.length!=0)||K;if(i.J&&y.T2&&y.ZZ.AQ){this.anT(i.J,$,0,0,null);K=!0}return K};gn.prototype.anT=function(i,$,h,d,K){var f=0;
if(K)f=Math.round(K.Z)<<16|Math.round(K.P)<<8|Math.round(K.o);var l=$.CT(!0),u=$.Os,U=new bN(0,0,$.x3.e,$.x3.n),y=gn.HL;
if($.Pp.length!=u.O()){$.Pp=k.Q(u.O());$.yk=k.Q(u.O()*4)}$.Pp.fill(d);$.yk.fill(0);var a=i.channel,v=i.rect;
k.scale.D(a,v,l,$.Pp,u);if(h==0){var c=new Uint32Array([4278190080,4294967295]);gn.ge(new Uint8Array(c.buffer));
k.J.a2q($.Pp,$.yk,u,c,R.V()>1.9)}else{k.J.ayv($.Pp,$.yk,u,h,f);gn.ge($.yk)}var p=new ImageData(new Uint8ClampedArray($.yk.buffer),u.e,u.n);
y.Qf.putImageData(p,0,0);y.Os.save();if(h!=0){var C=new bN(0,0,U.e,U.n),T=l.clone();T.Sp();this.YG(k.p.Hg(C),T,y.Os);
y.Os.clip()}y.Os.drawImage(y.Fp,0,0);y.Os.restore()};gn.prototype.aeu=function(i,$,h,d){var K=i.R.Tn!=null||i.R.HQ!=null||i.R.TM!=null||i.R.f1.length!=0||i.R.B0.length!=0,f=this.bX,l=f.ZZ,u=eS.gN[f.TZ],U=Math.round(12*R.V()),y=U/i.u.N,a=h.CT(!0);
a.Sp();$.save();$.setTransform(a.Pi,a.Z,a.sl,a.Zn,a.wQ,a.FQ);if(i.add.artd){var v=gn.Ia(i)[0];v=v<.5?v+.5:v-.5;
v=""+Math.round(v*255).toString(16);while(v.length<2)v="0"+v;$.fillStyle="#"+v+v+v;$.font=y+"px sans-serif";
for(var t=0;t<i.B.length;t++){var c=i.B[t];if(c.add.artb==null||!c.ji())continue;var C=c.Ik();$.fillText(c.getName(),C.x+2,C.y-y*.7);
K=!0}}function T(kr){return kr==1||kr==2||kr==4||kr==5}var E=gn.k3([.1,.5,1,1]),r=gn.k3([1,1,1,1]);if(f.T2&&l.w3){$.fillStyle=$.strokeStyle=E;
$.lineWidth=1.5/h.N;var Y=i.iW(),S=Y[0],m=Y[1];for(var Q=0;Q<m.length;Q++){var c=S[m[Q]],z=c.add.vmsk,n=z.i,Z=k.p.nF(n);
this.YG(Z,null,$);$.stroke();K=!0;var P=3*R.V()/h.N,V=n.length-3;for(var t=0;t<z.h3.length;t++){var I=k.A.mb(n,z.h3[t]);
if(I==null)continue;var q=I.x,X=I.y;$.beginPath();var B=t==0;if(z.Gc)B=!B;if(B){$.moveTo(q-P,X-P);$.lineTo(q+P,X+P);
$.moveTo(q-P,X+P);$.lineTo(q+P,X-P);$.stroke()}else{$.arc(q,X,P*1,0,2*Math.PI);$.fill()}K=!0}if(i.g.length!=1)continue;
var e=-1;for(var t=0;t<n.length;t++){if(n[t].type>5)continue;if(n[t].type==0||n[t].type==3){if(n[t].N0!=-1)e++;
continue}if(z.g.indexOf(e)!=-1){var q=n[t].F.x,X=n[t].F.y;$.fillRect(q-P*.8,X-P*.8,2*P*.8,2*P*.8)}if(z.ZL.indexOf(t)!=-1){var F=n[t],s=[F.F];
$.beginPath();$.moveTo(F.Q2.x,F.Q2.y);$.lineTo(F.F.x,F.F.y);$.lineTo(F.ua.x,F.ua.y);var J=n[t-1],W=n[t+1];
if(J&&T(J.type)&&z.ZL.indexOf(t-1)==-1){$.moveTo(J.F.x,J.F.y);$.lineTo(J.ua.x,J.ua.y);s.push(J.ua)}if(W&&T(W.type)&&z.ZL.indexOf(t+1)==-1){$.moveTo(W.F.x,W.F.y);
$.lineTo(W.Q2.x,W.Q2.y);s.push(W.Q2)}$.stroke();if(!F.F.Rl(F.Q2))s.push(F.Q2);if(!F.F.Rl(F.ua))s.push(F.ua);
for(var L=0;L<s.length;L++){var I=s[L],q=I.x,X=I.y;if(L==0&&(F.type==2||F.type==5))$.fillRect(q-1.2*P,X-1.2*P,2.4*P,2.4*P);
else{$.beginPath();$.arc(q,X,P*1.2,0,2*Math.PI);$.fill();if(L!=0)$.fillStyle=r;$.beginPath();$.arc(q,X,P*.8,0,2*Math.PI);
$.fill();$.fillStyle=E}}}K=!0}}}$.lineWidth=1/h.N;if(i.R.rR){$.fillStyle=$.strokeStyle=E;var W={C:[],H:[]},A=gn.axR;
if(A==null){A=gn.axR={C:[1,0],H:["M"]};for(var t=1;t<30;t++){var j=Math.PI*2*t/30;A.C.push(Math.cos(j),Math.sin(j));
A.H.push("L")}A.H.push("Z","M","L","M","L");A.C.push(-.5,0,.5,0,0,-.5,0,.5)}for(var t=0;t<i.R.rR.length;
t++){var J=D.QL.aye(i.R.rR[t],h),G=new ej(J[0],0,0,J[0],J[1],J[2]);k.p.concat(W,A,G)}this.YG(W,null,$);
$.stroke();K=!0}var O=new ej(1,0,0,1,.5/h.N,.5/h.N);if(i.dV){$.fillStyle=$.strokeStyle=E;var W={C:[0,0,i.e,0,i.e,i.n,0,i.n],H:["M","L","L","L","Z"]};
this.YG(W,O,$);$.stroke();K=!0}if(i.R.qe){$.fillStyle=$.strokeStyle=gn.k3([0,0,0,.5]);this.YG(i.R.qe,null,$,!0);
$.fill("evenodd")}$.fillStyle=$.strokeStyle=gn.k3([0,0,0,i8.ph&&i.add.fvec==null?1:.5],!0);if(i.R.Tn){this.YG(i.R.Tn,null,$);
$.fill()}if(i.R.HQ){this.YG(i.R.HQ,O,$);$.stroke()}for(var o in i.R.W4)if(i.R.W4[o].HQ){this.YG(i.R.W4[o].HQ,null,$);
$.stroke();K=!0}$.beginPath();var P=(4*R.V()+.5)/h.N,N=i.R.xX;for(var t=0;t<N.length;t+=2){K=!0;var q=N[t],X=N[t+1];
$.rect(q-P,X-P,2*P,2*P)}$.stroke();var N=i.R.adB;$.beginPath();var P=4*R.V()/h.N;for(var t=0;t<N.length;
t+=2){K=!0;var q=N[t],X=N[t+1];$.moveTo(q+P,X);$.arc(q,X,P,0,2*Math.PI)}$.fill();var N=i.R.yG;$.fillStyle=gn.k3([1,1,1,1]);
$.beginPath();var P=6*R.V()/h.N;for(var t=0;t<N.length;t+=2){K=!0;var q=N[t],X=N[t+1];$.moveTo(q+P,X);
$.arc(q,X,P,0,2*Math.PI)}$.fill();var P=4*R.V()/h.N;for(var t=0;t<N.length;t+=2){K=!0;var q=N[t],X=N[t+1];
$.fillStyle=gn.k3(i.R.O6.indexOf(t>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);$.beginPath();$.moveTo(q+P,X);$.arc(q,X,P,0,2*Math.PI);
$.fill()}if(i.R.f1.length!=0){for(var t=0;t<i.R.f1.length;t++){var w=i.R.f1[t],kv=w[1],g;if(d){g=$.getImageData(kv.x,kv.y,kv.e,kv.n);
k.l.NU("norm",w[0],kv,new Uint8Array(g.data.buffer),kv,kv,1)}else g=new ImageData(new Uint8ClampedArray(w[0].buffer),kv.e,kv.n);
$.putImageData(g,kv.x,kv.y)}}var b=.5/h.N;$.lineWidth=1/h.N;if(i.R.N3){K=!0;var jU=i.R.N3,_=jU.Fq,Z={H:[],C:[]};
for(var t=0;t<jU.dm.length;t++)k.p.concat(Z,k.p.Hg(jU.dm[t]));Z.C=Z.C.concat(_);for(var t=0;t<_.length;
t+=4){Z.H.push("M","L")}for(var t=0;t<Z.C.length;t++){Z.C[t]+=b}$.strokeStyle=gn.k3([.9,.2,.2,1]);this.YG(Z,null,$);
$.stroke();var cY=R.V(),j3=2/h.N;$.font=y*.9+"px sans-serif";for(var t=0;t<_.length;t+=4){var q=_[t],X=_[t+1],aS=_[t+2],bL=_[t+3],cQ=Math.sqrt((bL-X)*(bL-X)+(aS-q)*(aS-q));
cQ=k.TA.Iy(cQ,i._m,f,X==bL?i.e:i.n);var cK=new cq((q+aS)/2,(X+bL)/2);$.fillStyle=gn.k3([.9,.2,.2,1]);
var el=$.measureText(cQ).width;$.fillRect(cK.x-el/2-j3*cY,cK.y-3.5*j3*cY,el+2*j3*cY,7*j3*cY);$.fillStyle=gn.k3([1,1,1,1]);
$.save();$.translate(cK.x-el/2,cK.y+2*j3*cY);$.scale(.1,.1);$.font=y*9+"px sans-serif";$.fillText(cQ,0,0);
$.restore()}}if(f.T2){if(l.eS){var gF=k.TA.KT(l.hy,i._m,i.e,l.xO),fj=gF;if(l.xO==4)fj*=i.n/i.e;this.by(i,$,gF,fj,1,l.ie);
K=!0}if(l.QX&&i.u.N>7&&i.add.fvec==null){this.by(i,$,1,1,.5,l.ie);K=!0}if(l.C9){var i3=i.KG(),eT=i.ii(),eV=Math.max(i.u.Os.e,i.u.Os.n)/i.u.N;
eV=Math.max(Math.max(i.e,i.n)*2,eV);$.beginPath();$.strokeStyle=gn.k3([0,1,1,1]);for(var t=0;t<i3[0].length;
t++){var hr=i3[0][t],it=i3[1][t];if(it!=-1&&it!=eT)continue;var f8=h.cV(hr[1],hr[1]),i$=h._x(Math.floor(f8.x)+.5,Math.floor(f8.y)+.5);
if(hr[0]==0){var gS=i$.x;$.moveTo(gS,-eV);$.lineTo(gS,eV)}else{var hT=i$.x;$.moveTo(-eV,hT);$.lineTo(eV,hT)}K=!0}$.stroke()}var gL=i.ky;
if(l.ky&&gL.length!=0){$.font=y*.8+"px sans-serif";var iu=[],dB=[];for(var t=0;t<gL.length;t++){var jt=D.Zo.Tx(gL,t);
iu.push(jt);if(i.Bg.indexOf(t)!=-1)dB.push(jt)}iu.reverse();var ka=Date.now();iu=k.rect.Wf([0,0,i.e,i.n],iu);
for(var L=0;L<2;L++)for(var t=0;t<iu.length;t++){var eQ=iu[t],e=eQ[4],dv=e!=null?gL[e]:null;if(dv&&L==0||dv==null&&L==1)continue;
var q=Math.round(eQ[0]),X=Math.round(eQ[1]),aS=Math.round(eQ[2]),bL=Math.round(eQ[3]);$.strokeStyle=$.fillStyle=gn.k3(dv?[0,.7,.7,1]:[.8,.8,.8,1]);
$.strokeRect(q+b,X+b,aS-q,bL-X);var cT=t+1,eY=$.measureText(cT),el=eY.width;$.fillRect(q,X,el+y/2,y);
$.fillStyle=gn.k3([1,1,1,1]);$.fillText(cT,q+y/4,X+y*.8)}var j3=2/i.u.N,gl=2*j3;for(var t=0;t<dB.length;
t++){var eQ=dB[t],q=Math.round(eQ[0]),X=Math.round(eQ[1]),aS=Math.round(eQ[2]),bL=Math.round(eQ[3]);
$.strokeStyle=$.fillStyle=gn.k3([1,.6,0,1]);$.strokeRect(q+b,X+b,aS-q,bL-X);var dY=[q,X,aS,X,aS,bL,q,bL];
for(var gE=0;gE<dY.length;gE+=2){var gS=dY[gE],hT=dY[gE+1],cs=dY[gE+2&7],au=dY[gE+3&7];$.fillRect(gS-j3,hT-j3,gl,gl);
$.fillRect(Math.round((gS+cs)/2)-j3,Math.round((hT+au)/2)-j3,gl,gl)}}K=!0}var b8=i.add.Anno;if(b8&&b8.length!=0)for(var t=0;
t<b8.length;t++){var jw=b8[t],ek=jw[2],gS=jw[0]-b,hT=jw[1]-b,gl=30/h.Zl,cj=.4*gl,jJ=.6*gl;$.beginPath();
$.moveTo(gS,hT+jJ);$.lineTo(gS,hT);$.lineTo(gS+gl,hT);$.lineTo(gS+gl,hT+gl);$.lineTo(gS+cj,hT+gl);$.closePath();
$.lineTo(gS+cj,hT+jJ);$.lineTo(gS+cj,hT+gl);if(t==i.u.R4){$.lineWidth*=5;$.strokeStyle=gn.k3([0,0,0,.5]);
$.stroke();$.lineWidth/=5}$.fillStyle=gn.k3([ek.o/255,ek.P/255,ek.Z/255,1]);$.fill();$.strokeStyle=gn.k3([0,0,0,1]);
$.stroke()}}$.strokeStyle=gn.k3([1,0,0,1]);if(i.R.TM){this.YG(i.R.TM,O,$);$.stroke()}$.restore();if(f.hT){if(i.u.u1==null||i.u.u1.width!=i.u.Os.e||i.u.p7.height!=i.u.Os.n){i.u.u1=$.createImageData(i.u.Os.e,k.TA.AD);
i.u.p7=$.createImageData(k.TA.AD,i.u.Os.n)}var u=eS.gN[f.TZ],hp=0,dW=0,h4=i.e,er=i.n;if(i.ii()!=-1){var C=i.B[i.ii()].Ik();
hp=C.x;dW=C.y;h4=C.e;er=C.n}hp*=h.N;dW*=h.N;var h=i.u,hG=[1,i._m,i._m/2.54,i._m/25.4,h4/100][l.CP],i_=h.N*i.e/2,aK=h.N*i.n/2,bG=[h.N*hG,new cq(h.I.x+(hp+i_*hG-i_),h.I.y+(dW+aK*hG-aK))];
if(l.CP==4)hG*=er/h4;var dx=[h.N*hG,new cq(h.I.x+(hp+i_*hG-i_),h.I.y+(dW+aK*hG-aK))],aH=this.le.pY;k.TA.aca(h,u["--text-color"],u["--bg-input"],Math.floor(aH.x),Math.floor(aH.y),bG,dx);
var cU=a4.adf(h.N,gn.k3([1,1,1,1]),i.e,i.n);gn.ge(i.u.p7.data);gn.ge(i.u.u1.data);$.putImageData(i.u.p7,0,0);
$.putImageData(i.u.u1,0,0);$.putImageData(cU,0,i.u.Os.n-cU.height)}if(i.R.B0.length!=0){for(var t=0;
t<i.R.B0.length;t++){var w=i.R.B0[t],kv=w[1];$.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),kv.e,kv.n),kv.x,kv.y)}}return K||f.hT};
gn.prototype.by=function(i,$,h,d,K,f){while(h*i.u.N<4){h*=2;d*=2}var l=i.e,u=i.n,U=.5/i.u.N;$.strokeStyle=gn.k3([.5,.5,.5,K],!0);
$.save();$.rect(0,0,l,u);$.clip();$.beginPath();for(var y=0;y<=l;y+=h){$.moveTo(y+U,0);$.lineTo(y+U,u)}if(f==0){for(var a=0;
a<=u;a+=d){$.moveTo(0,a+U);$.lineTo(l,a+U)}}else{d*=Math.sqrt(4/3);var v=d*Math.floor(l/d),c=l*(d/(2*h));
for(var a=-v;a<=u+v;a+=d){$.moveTo(0,a);$.lineTo(l,a-c);$.moveTo(0,a);$.lineTo(l,a+c)}}$.stroke();$.restore()};
gn.prototype.YG=function(i,$,h,d){h.beginPath();if(d)h.rect(-1e5,-1e5,1e6,1e6);var K=k.p.clone(i);if($)k.p.D(K.C,$,K.C);
Typr.U.pathToContext({cmds:K.H,crds:K.C},h)};gn.Nw=function(i,$,h){i8.tc.call(this);var d=$!=0,K=h?"true":"in01(sCoord)",f="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(i?"uniform sampler2D lut;  uniform float N;  "+i8.ZV.ZT:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(d?"uniform vec4 bgClr;  uniform vec4 ars["+$+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+i8.ZV.pU+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(h?"-floor(sCoord)":"")+"); \t\t\t\t"+(i?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(d?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+$+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+K+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+K+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.mR(f,l)};gn.Nw.prototype=new i8.tc;gn.Nw.prototype.tt=function(i,$,h,d,K,f,l,u,U,y,a,v,c,p){this.zP("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var C=i8.nl,T=this.LX;C.uniformMatrix3fv(T.tmat,!1,h);C.uniform4fv(T.gsize,d);C.uniform3f(T.contSizeZoom,K,f,l);
C.uniform2f(T.cnvSize,u,U);C.uniformMatrix4fv(T.ctrn,!1,v);if(this.a8q){C.uniform4fv(T.ars,a);C.uniform4fv(T.bgClr,y)}C.uniform1i(T.source,0);
C.uniform1i(T.target,1);C.activeTexture(C.TEXTURE0);C.bindTexture(C.TEXTURE_2D,i);C.activeTexture(C.TEXTURE1);
C.bindTexture(C.TEXTURE_2D,$);if(c){C.uniform1f(T.N,p);C.uniform1i(T.lut,2);C.activeTexture(C.TEXTURE2);
C.bindTexture(C.TEXTURE_2D,c.Wd);var E=C.LINEAR;C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,E);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,E)}C.activeTexture(C.TEXTURE0)};function jm(){cA.call(this,[9,7],!1,"---panels/layercomps",cA.gp.am_);
this.V2.setAttribute("style","min-width:240px;");this.pP=null;this.Dz=-1;this.Ji=[];this.PG=R.S("div","scrollable");
this.PG.style.height="160px";this.V2.appendChild(this.PG);this.kd=R.S("div","lpfoot");this.V2.appendChild(this.kd);
this.Oc=[];var i=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],$=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var t=0;t<i.length;t++){var h=i[t];if(t>0)h="<img src=\""+PIMG[i[t]]+"\" class=\"miniscale gsicon\" />";
var d=new d_(h,!1,$[t]);d.h("click",this.anC,this);this.kd.appendChild(d.m);this.Oc.push(d)}}jm.prototype=new cA("");
jm.prototype.JQ=function(i,$){this.V2.setAttribute("style","width:"+(i-2)+"px;");this.PG.style.height=$-28+"px"};
jm.prototype.fW=function(i){var $=new eU(x.E.s,!0);$.data=i;$.b=D.nr;this.$($)};jm.ane="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
jm.prototype.anC=function(i){var t=this.Oc.indexOf(i.currentTarget)-1;if(t==-1){var $=new eU(x.E.k,!0);
$.data={d:x.c.kf,Pl:jm.ane};this.$($);return}if(t!=1)if(this.Dz==-1)return;this.fW({d:["updLC","addLC","delLC"][t],zH:this.Dz});
if(t==2)this.Dz=-1};jm.prototype.f=function(){cA.prototype.f.call(this);for(var t=0;t<this.Oc.length;
t++)this.Oc[t].f()};jm.prototype.Ra=function(i){if(i==null)R.FK(this.V2,"disabled");else R.jE(this.V2,"disabled");
this.pP=i;R.J9(this.PG);if(i==null)return;var $=i.wh.lastAppliedComp?i.wh.lastAppliedComp.v:0,h=i.wh.list.v.slice(0);
h.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var t=0;t<h.length;
t++){var d=h[t].v,K=new gt(d.Nm.v,d.compID.v,d.capturedInfo.v,$,this.Dz);K.h("activate",this.Aa,this);
K.parent=this;this.PG.appendChild(K.m);this.Ji.push(K)}};jm.prototype.Aa=function(i){this.Dz=i.currentTarget.zH;
this.Ra(this.pP)};function gt(i,t,$,h,d){dq.call(this);this.zH=t;this.m=R.S("div","head listitem"+(t==d?" selected":""));
var K=t==h,f=new d_(K?"\u2713":"\u2014");if(K)f.rm();this.m.appendChild(f.m);f.h("click",this.qM,this);
var l=this.Gk=R.S("span");l.textContent=i;this.m.appendChild(l);this.Oc=[];if(t!=0){this.m.addEventListener("mouseup",this.Aa.bind(this),!1);
this.ahV=R.S("span","headR");this.m.appendChild(this.ahV);var u=["lrs/eye","pos","lrs/fx"],U=["Visibility","Position","Appearance"];
for(var y=0;y<u.length;y++){var a=new d_("<img src=\""+PIMG[u[y]]+"\" class=\"autoscale gsicon\" />",!1,U[y]);
if(($>>y&1)==0)a.m.setAttribute("style","opacity:0.3");a.h("click",this.a5O,this);this.ahV.appendChild(a.m);
this.Oc.push(a)}}}gt.prototype=new dq;gt.prototype.Aa=function(i){if(i.target!=this.Gk&&i.target!=this.m)return;
if(i.detail==1)this.$(new eU("activate",!1));else{var $=new cA.cU(this.Gk,this.Ws.bind(this))}};gt.prototype.a5O=function(i){var t=this.Oc.indexOf(i.currentTarget);
this.fW({d:"editLC",ajC:t,zH:this.zH})};gt.prototype.Ws=function(i){this.fW({d:"editLC",wo:i,zH:this.zH})};
gt.prototype.qM=function(i){this.fW({d:"setLC",zH:this.zH})};gt.prototype.fW=function(i){var $=new eU(x.E.s,!0);
$.data=i;$.b=D.nr;this.$($)};function h0(){cA.call(this,[9,11],!1,"---panels/navigator",cA.gp.am4);var i=R.S("div","padded");
i.setAttribute("style","min-width:15em");this.V2.appendChild(i);var $=R.S("div");i.appendChild($);$.setAttribute("style","cursor:grab;");
this.T=R.S("canvas");this.T.width=100;$.appendChild(this.T);R.jA(this.T);R.K6(this.T,this.W2.bind(this));
this._E=new fI(null,2,6400,"%",null,!0);this._E.h(x.E.r,this.aeP,this);i.appendChild(this._E.m);this.agV=this.vb.bind(this);
this.axV=this.p$.bind(this);this.yM=null;this.uS=null;this.ic=!1}h0.prototype=new cA("");h0.prototype.JQ=function(i,$){this.WA()};
h0.prototype.aeP=function(i){var $=this._E.G(),h=this.yM,d=$/100;if(.8<d&&d<1.2)d=1;else if(1.8<d)d=Math.round(d);
var K=new eU(x.E.s,!0);K.b=D.VB;K.data={d:"zoom",N:d};this.$(K)};h0.prototype.W2=function(i){var $=this.yM;
if($==null)return;this.ic=!0;R.sM(window,this.agV);R.pq(window,this.axV)};h0.prototype.vb=function(i){var $=R.CJ(i,this.T),h=this.yM,d=this.T.width,K=this.T.height,f=($.x*R.V()-d/2)/d,l=($.y*R.V()-K/2)/K,u=R.V()*h.u.N,U=Math.round(-h.u.N*h.e*f),y=Math.round(-h.u.N*h.n*l);
D.KQ.t4(h,U,y)};h0.prototype.p$=function(i){R.Uq(window,this.agV);R.hZ(window,this.axV);this.ic=!1};
h0.prototype.Ra=function(i){if(i==null&&this.yM!=null)this.T.width=100;this.yM=i;this.WA()};h0.prototype.a8E=function(){var i=300*R.V(),$=0,h=this.yM,d=[h.Fy(),new bN(0,0,h.e,h.n)];
k.SL(d);while(Math.max(d[$+1].e,d[$+1].n)>i){$+=2}this.uS=d.slice($)};h0.prototype.WA=function(){var i=this.yM;
if(i==null||i.u.N==0)return;var $=i.u;if(!R.bT(this.V2))return;this._E.t($.N*100);if(!this.ic)this.a8E();
var h=this.uS[0],d=this.uS[1],K=d.e,f=d.n,l=this.T;l.width=K;l.height=f;R.Tb(l,K,f);var u=l.getContext("2d"),U=u.createImageData(K,f);
k.pv(h,U.data);u.putImageData(U,0,0);var y=$.Os,a=$._x(y.x,y.y),v=$._x(y.x+y.e,y.y+y.n),c=K/i.e;u.scale(c,c);
u.lineWidth=4/c;u.strokeStyle="#ff0000";u.strokeRect(a.x,a.y,v.x-a.x,v.y-a.y)};h0.prototype.aG=function(i,$){};
h0.prototype.$G=function(){this.WA()};function bi(i,$){cA.call(this,i.name,!1,i.icon,$);this.a1$=i}bi.prototype=new cA("");
bi.prototype._t=function(){var i=this.V2,$=this.a1$;if(!R.bT(i)||this.Av)return;var h=this.Av=R.S("iframe");
h.setAttribute("src",$.url);this.V2.appendChild(h)};bi.prototype.$G=bi.prototype.Ra=function(){this._t()};
bi.prototype.v7=function(i){if(R.bT(this.Av))this.Av.contentWindow.postMessage(i,"*")};bi.prototype.JQ=function(i,$){if(this.Av==null)return;
this.Av.setAttribute("style","width:"+i+"px; height:"+$+"px")};function gw(){cA.call(this,[9,12],!1,"---panels/tpreset",cA.gp.PD);
this.RM=null;this.nS=new jb(D.nj);this.nS.parent=this;var i=R.S("div","padded");i.setAttribute("style","width:20em");
this.V2.appendChild(i);i.appendChild(this.nS.Qm)}gw.prototype=new cA("");gw.prototype.$G=function(){this.nS.B8(this.RM.tQ)};
gw.prototype.aG=function(i,$){this.RM=i;if($==dC.mW||$==dC.PD)this.nS.B8(i.tQ)};gw.prototype.JQ=function(i,$){this.nS.axz(this.RM.Kw)};
gw.prototype.f=function(){cA.prototype.f.call(this);this.nS.f()};var aD=function(){var i=[],$=null,h=null,d=null,K=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function f(){cA.call(this,"Memory",!1,null,cA.gp.anP);var c=R.S("div","padded");this.V2.appendChild(c);
h=new d_(["<< VAR0",[0,13,2]],!1,null,!0);h.addEventListener("click",function(p){i.pop();u()});c.appendChild(h.m);
$=R.S("div","scrollable");$.setAttribute("style","width:20em;  height:26em; margin-top:8px;");c.appendChild($)}f.prototype=new cA("");
f.prototype.Ra=function(c,p,C){d=p;this.$G()};f.prototype.$G=function(){h.BH(!1);if(!R.bT($))return;
var c={dx:"Total:",RO:[]};for(var t=0;t<d.length;t++)c.RO.push(y(d[t]));v(c);i=[c];u()};f.prototype.f=function(){cA.prototype.f.call(this);
h.f()};function l(c){var p=c.currentTarget,t=0;while((p=p.previousSibling)!=null)t++;i.push(i[i.length-1].RO[t-1]);
u()}function u(){h.BH(i.length>1);var c=i[i.length-1];R.J9($);U(c,$,0);c.RO.sort(function(p,C){return C.JW[0]-p.JW[0]});
for(var t=0;t<c.RO.length;t++)U(c.RO[t],$,1)}function U(c,p,C){var T=jS.pN,E=C!=0&&c.RO,r="margin-left:"+C*10+"px; margin-bottom:8px; padding:3px 5px;";
if(E)r+="cursor:pointer;";if(c.Ww!=null)r+="background-color:rgba("+K[c.Ww].join(",")+",0.2);";var Y=R.S("div");
p.appendChild(Y);Y.setAttribute("style",r);Y.innerHTML=R.vB(c.dx)+"<br />"+"RAM: <b>"+T(c.JW[0])+"</b>\u2001GPU: <b>"+T(c.JW[1])+"</b>";
if(E)Y.addEventListener("click",l,!1)}function y(c){var p={dx:c.name,RO:[],Ww:0},C=i8.ph?1:0,T=1-C,E={dx:"Final Image",JW:[c.e*c.n*4,C*c.e*c.n*4],Ww:2};
p.RO.push(E);for(var t=0;t<c.B.length;t++){var r=a(c.B[t]);if(r.RO.length!=0)p.RO.push(r)}var Y=c.add.lnk2;
if(Y)for(var t=0;t<Y.length;t++){var r=Y[t],S={dx:r.Wo,RO:[],Ww:4},m=0;S.RO.push({dx:"Raw file",JW:[r.raw.length,0]});
if(r.eZ)for(var Q=0;Q<r.eZ.length;Q+=2)m+=r.eZ[Q].length;if(m!=0)S.RO.push({dx:"Decoded pixels",JW:[m,0]});
v(S);p.RO.push(S)}v(p);return p}function a(c){var p={dx:c.getName(),RO:[],Ww:1},C=i8.ph?1:0,T=1-C,E=c.rect.O();
if(E!=0)p.RO.push({dx:"Layer pixels",JW:[E*4,C*E*4]});if(c.add.lmfx&&c.A0.bQ.type){var r=c.A0.bQ.type,Q=0;
for(var Y in r){var S=0;for(var m=0;m<r[Y].length;m++)if(Y=="ebbl"){if(r[Y][m].C5)S+=r[Y][m].C5.G_.O();
if(r[Y][m].Bf)S+=r[Y][m].Bf.G_.O();if(r[Y][m].sb)S+=r[Y][m].sb.G_.O();if(r[Y][m].yw)S+=r[Y][m].yw.G_.O()}else S+=r[Y][m].G_.O();
if(S!=0)p.RO.push({dx:e_.get(et.names[et.order.indexOf(Y)]),JW:[T*S*4,C*S*4],Ww:3})}if(c.A0.Es)Q+=E;
if(c.A0.cJ)Q+=E;if(c.A0.CR)Q+=E;if(c.A0.CR)Q+=E;if(c.A0.Ph)Q+=E;if(c.A0.zF)Q+=E;var z=c.A0.sk?c.A0.sk.length:0;
if(Q+z!=0)p.RO.push({dx:"Additional Blending Data",JW:[T*Q*4+z,C*Q*4]})}var n=c.MQ(),Z=n?n.rect.O():0;
if(Z!=0){p.RO.push({dx:"Raster Mask",JW:[Z,0]})}var n=c.add.vmsk,Z=n&&n.oe?n.oe.rect.O():0;if(Z!=0){p.RO.push({dx:"Vector Mask",JW:[Z,0]})}v(p);
return p}function v(c){c.JW=[0,0];for(var t=0;t<c.RO.length;t++){c.JW[0]+=c.RO[t].JW[0];c.JW[1]+=c.RO[t].JW[1]}}return f}();
function eO(){cA.call(this,[9,14],!1,"---panels/notes",cA.gp.afW);this.V2.setAttribute("style","min-width:240px;");
var i=R.S("div","padded");this.V2.appendChild(i);this.Dn=new at("Author");i.appendChild(this.Dn.m);this.OL=R.S("textarea");
R.zb(this.OL);i.appendChild(this.OL);var $=new d_("<<",null,null,!0);i.appendChild($.m);this.amC=$;var h=new d_(">>",null,null,!0);
i.appendChild(h.m);$.h("click",this.St,this);h.h("click",this.St,this);var d=this.agF=new ie("");i.appendChild(d.m)}eO.prototype=new cA("");
eO.prototype.St=function(i){var $=i.target==this.amC?-1:1,h=this.yM,d=h.add.Anno;if(d==null)return;var K=d.length,f=h.u.R4;
h.u.R4=(f+$+K)%K;h.u6=!0;this.WA()};eO.prototype.WA=function(){var i=this.yM;if(i==null)return;var $=i.add.Anno;
if($==null||$.length==0)return;var h=i.u.R4,d=$[h];this.OL.value=d[4];this.agF.t(h+1+" / "+$.length);
this.Dn.t(d[3])};eO.prototype.JQ=function(i,$){if(this.DD==i)return;this.DD=i;$=Math.min($,200);this.OL.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(i-10)+"px; height:"+($-66)+"px")};
eO.prototype.Ra=function(i,$,h){this.yM=i;this.WA()};function il(){dq.call(this);this.b=0;this.lI=null;
this.m=R.S("div","toolconf");this.nS=null;this.SA=null;this.body=new R.S("div","body")}il.prototype=new dq;
il.prototype.au0=function(i,$){this.b=i;this.lI=$;if(D.y9[i]){var h=this.nS=new jb(i);this.m.appendChild(h.m);
h.parent=this}else{this.SA=R.S("div");this.m.appendChild(this.SA)}this.m.appendChild(this.body);this.f()};
il.prototype.a4f=function(i,$){};il.prototype.a5x=function(i){};il.prototype.aG=function(i,$){if($==dC.mW||$==dC.PD)if(this.nS)this.nS.B8(i.tQ)};
il.prototype.TY=function(i){};il.prototype.f=function(){if(this.nS)this.nS.f();else this.SA.innerHTML=R.HD(this.lI,null,"toolicon");
this.DZ()};il.prototype.DZ=function(){};function iv(){il.call(this);this.bU=new jr;this.bU.h(x.E.r,this.xv,this);
this.body.appendChild(this.bU.m)}iv.prototype=new il;iv.prototype.DZ=function(){this.bU.f()};iv.prototype.xv=function(i){var $=new eU(x.E.k,!0);
$.data={d:x.c.EA,b:this.b,J0:this.bU.a2b()};this.$($)};iv.prototype.TY=function(i){this.bU.a1i(i.Py)};
function aw(i){il.call(this);if(i==null)return;this.RM=null;this.UD={};if(i.indexOf("brush")!=-1&&i.indexOf("prsr")==-1)i.push("prsr");
for(var t=0;t<i.length;t++){var $=i[t],h=null;if($=="brush"){h=new iK}if($=="bmode"){h=new ku([12,19,0],ca.UX,!1,ca.Uy)}if($=="bmode0"){h=new ku([12,19,0],ca.UX.slice(23),!1)}if($=="emode"){h=new ku([12,36],[[9,3],[10,38]])}if($=="opacity"){h=new j6([12,0],0,100,"%");
h.t(100)}if($=="flow"){h=new j6([12,63],0,100,"%");h.t(100)}if($=="smth"){h=new j6([19,3,0],0,100,"%");
h.t(0)}if($=="samp"){h=new ku([12,36],[[12,25,4],[12,25,5],[12,46]])}if($=="wconf"){h=new ik;h.t([40,!0,!0])}if($=="sall"){h=new iD([12,25,2])}if($=="strn"){h=new j6([12,64],1,100,"%");
h.t(50)}if($=="smode"){h=new ku([12,36],[[19,7,0],[19,7,1]]);h.t(1)}if($=="pdetail"){h=new iD([12,65]);
h.rm()}if($=="rng"){h=new ku([12,12],[[19,6,0],[19,6,1],[19,6,2]]);h.t(1)}if($=="expo"){h=new j6([12,5],0,100,"%");
h.t(50)}if($=="algnd"){h=new iD([12,75]);h.t(!1)}if($=="sfrom"){h=new ku([12,70],[[17,1],[17,3],[17,0]])}if($=="alt"){h=new fZ(null,["Alt"],!0,["Select Source"])}if($=="qsmode"){h=new ee([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if($=="redge"){h=new d_([7,11],!1,null,!0)}if($=="setop"){h=new cX}if($=="patch"){h=new ee(null,[[12,70],[12,71]])}if($=="prsr"){h=this.UD.brush._4}this.body.appendChild(h.m);
if($=="prsr")continue;h.parent=this;this.UD[$]=h;if($=="brush")h.h(x.E.r,this.asK,this);else if($=="redge")h.h("click",this.CY,this);
else h.h(x.E.r,this.IG,this)}}aw.prototype=new il;aw.prototype.a4f=function(i,$){i=i[1];var h=this.UD;
if(i.Md)h.bmode.t(ca.kD.indexOf(i.Md.v.BlnM));if(i.Opct)h.opacity.t(i.Opct.v);if(i.flow)h.flow.t(i.flow.v);
if(i.Brsh)h.brush.t(i,$.qX.pd,$.qX.ut);if(i.FrgC){var d=k.M.zk(i.FrgC.v),K=new eU(x.E.k,!0);K.data={d:x.c.vj,J0:dC.xq,vC:0,L:d.o<<16|d.P<<8|d.Z};
this.$(K)}this.asK();this.IG()};aw.prototype.a5x=function(){if(D.y9[this.b]==null)return null;var i=this.UD,$=JSON.parse(JSON.stringify(i.brush.G()));
$.classID=D.y9[this.b][1][0];if(i.bmode)$.Md={t:"enum",v:{BlnM:ca.kD[i.bmode.G()]}};if(i.opacity)$.Opct={t:"long",v:i.opacity.G()};
if(i.flow)$.flow={t:"long",v:i.flow.G()};var h=this.RM.Mz;h={o:h>>>16,P:h>>>8&255,Z:h&255};$.FrgC={t:"Objc",v:k.M.Aw(h)};
return["Brush Preset "+$.Brsh.v.Dmtr.v.val,$]};aw.prototype.CY=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.ZD,Kh:"redge"};
this.$(i)};aw.prototype.DZ=function(){for(var i in this.UD)this.UD[i].f()};aw.prototype.TY=function(i){if(i.as4=="showBrushOpts"){this.UD.brush.asH(i.ST.x,i.ST.y)}for(var $ in i.oB){var h=i.oB[$];
if($!="qsmode")h*=100;if(this.UD[$])this.UD[$].t(h)}};aw.prototype.aG=function(i,$){il.prototype.aG.call(this,i,$);
this.RM=i;var h=this.UD.brush;if(h==null)return;if($==dC.mW||$==dC.nj)h.B8(i.qX);if($==dC.m_){h.t(i.qX.vL,i.qX.pd,i.qX.ut)}};
aw.prototype.asK=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.vj,J0:dC.m_,U$:this.UD.brush.G()};this.$(i)};
aw.prototype.IG=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.EA,b:this.b};for(var $ in this.UD){if($=="brush"||$=="redge")continue;
var h=this.UD[$].G();if(["opacity","flow","smth","strn","expo"].indexOf($)!=-1)i.data[$]=h/100;else if($=="bmode")i.data.bmode=ca.bj[h];
else if($=="bmode0")i.data.bmode=ca.bj[23+h];else i.data[$]=h}this.$(i)};function dJ(i,$){il.call(this);
if(i)return;this.UD={};for(var t=0;t<$.length;t++){var h=$[t],d=null;if(h=="binop")d=new cX;if(h=="feat"){d=new j6([7,6],0,100,"px");
d.t(0)}if(h=="redge")d=new d_([7,11],!1,null,!0);if(h=="wconf")d=new ik;if(h=="cstr")d=new dZ;if(h=="anta"){d=new iD([12,25,1]);
d.t(!0)}if(h=="sall")d=new iD([12,25,2]);if(h=="redge")d.h("click",this.CY,this);else d.h(x.E.r,this.IG,this);
d.parent=this;this.body.appendChild(d.m);this.UD[h]=d}}dJ.prototype=new il;dJ.prototype.TY=function(i){if(i.QP!=null)this.UD.binop.t(i.QP);
else if(i.vw){for(var $ in i.vw)if(this.UD[$])this.UD[$].t(i.vw[$])}else{var h=dJ.UC;if(h==null){var d=d8.aoF(!0);
h=dJ.UC=new ew(d.items,d.L$)}h.f();h.parent=this;h.update(i.f7,i.bX);var K=new eU(x.E.k,!0);K.data={d:x.c.jT,dX:h,x:i.zI.jn+2,y:i.zI.eM+1};
this.$(K)}};dJ.prototype.DZ=function(){for(var i in this.UD)this.UD[i].f()};dJ.prototype.CY=function(){var i=new eU(x.E.k,!0);
i.data={d:x.c.ZD,Kh:"redge"};this.$(i)};dJ.prototype.IG=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.EA,b:this.b,vw:{}};
for(var $ in this.UD)i.data.vw[$]=this.UD[$].G();this.$(i)};function iO(){aw.call(this,["brush","strn"])}iO.prototype=new aw;
function jT(){aw.call(this,"brush bmode opacity flow smth prsr".split(" "))}jT.prototype=new aw;function jg(){aw.call(this,["brush","bmode0","samp","wconf"])}jg.prototype=new aw;
function c8(){aw.call(this,["brush"])}c8.prototype=new aw;function g6(){aw.call(this,["brush","bmode","opacity","smth","prsr"])}g6.prototype=new aw;
function c3(){aw.call(this,["brush","rng","expo"])}c3.prototype=new aw;function bZ(){aw.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}bZ.prototype=new aw;
function i7(i){il.call(this);if(i==null)return;var $=R.S("span","fitem");this.body.appendChild($);var h=[[17,0],[17,1],[11,12,0],[17,2]];
this.JT=[];for(var t=0;t<h.length;t++){var d=new d_(h[t],!1,null,!0);this.JT.push(d);d.h("click",this.a0r,this);
if(!i||t==1)$.appendChild(d.m)}this.l_=new dZ;this.l_.h(x.E.r,this.ajQ,this);if(!i)this.body.appendChild(this.l_.m);
this.Iv=new d_([15,7,6],!1,null,!0);this.Iv.h("click",this.a0r,this);if(!i)this.body.appendChild(this.Iv.m);
this.Du=new iD([15,7,10]);this.Du.h(x.E.r,this.ajQ,this);if(!i)this.body.appendChild(this.Du.m);this.OG=new gr;
this.OG.h("click",this.RY,this)}i7.prototype=new il;i7.prototype.DZ=function(){this.OG.f();for(var t=0;
t<this.JT.length;t++)this.JT[t].f();this.l_.f();this.Du.f();this.Iv.f()};i7.prototype.TY=function(i){var $=this.OG.m;
if(i.uZ)this.body.appendChild($);else if(this.body.contains($))this.body.removeChild($);if(i.l_)this.l_.t(i.l_)};
i7.prototype.RY=function(i){var $={d:x.c.EA,b:this.b,S3:this.OG.G()?"commit":"cancel"},h=new eU(x.E.k,!0);
h.data=$;this.$(h)};i7.prototype.a0r=function(i){i.target.m.blur();var $={d:x.c.EA,b:this.b,S3:"cropby",asY:this.JT.indexOf(i.target)};
if(i.target==this.Iv)$.S3="straighten";var h=new eU(x.E.k,!0);h.data=$;this.$(h)};i7.prototype.ajQ=function(i){var $={d:x.c.EA,b:this.b,S3:"config",eW:{bH:this.l_.G(),Xk:this.Du.G()},awz:i.target==this.l_},h=new eU(x.E.k,!0);
h.data=$;this.$(h)};function fG(){i7.call(this,!1)}fG.prototype=new i7;function ix(){i7.call(this,!0)}ix.prototype=new i7;
function bo(){aw.call(this,["brush","rng","expo"])}bo.prototype=new aw;function iE(){aw.call(this,"brush emode opacity flow smth prsr".split(" "))}iE.prototype=new aw;
function bu(){aw.call(this,["brush","samp","wconf"])}bu.prototype=new aw;function kp(){dJ.call(this,!1,["binop","feat","anta","redge","cstr"])}kp.prototype=new dJ(!0);
function io(){il.call(this);var i=this.UD=[new ku([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new ku([12,70],[[17,1],[17,3],[17,0]]),new iD([12,20,1]),new iD([8,0])];
i[1].t(2);i[2].t(!0);for(var t=0;t<i.length;t++){var $=i[t];$.h(x.E.r,this.IG,this);this.body.appendChild($.m)}}io.prototype=new il;
io.prototype.IG=function(i){var $=this.UD,h=[];for(var t=0;t<$.length;t++)h[t]=$[t].G();var d=new eU(x.E.k,!0);
d.data={d:x.c.EA,b:this.b,vw:h};this.$(d)};io.prototype.DZ=function(){for(var t=0;t<this.UD.length;t++)this.UD[t].f()};
function jj(){il.call(this);this.Sd=new gh(!1);this.Sd.parent=this;this.Sd.h(x.E.r,this.cA,this);this.body.appendChild(this.Sd.m);
this.Sd.t(JSON.parse(et.Rq.avD).v);this.SF=new ku(null,et.M.names.slice(0,5));this.SF.h(x.E.r,this.cA,this);
this.body.appendChild(this.SF.m);this.jS=new ku([12,19,0],ca.UX,null,ca.Uy);this.jS.h(x.E.r,this.cA,this);
this.body.appendChild(this.jS.m);this.Or=new j6([12,0],0,100,"%");this.Or.parent=this;this.Or.h(x.E.r,this.cA,this);
this.body.appendChild(this.Or.m);this.Or.t(100);this.It=new iD([12,23,0]);this.It.h(x.E.r,this.cA,this);
this.body.appendChild(this.It.m);this.Qe=new iD([12,23,3]);this.Qe.h(x.E.r,this.cA,this);this.body.appendChild(this.Qe.m)}jj.prototype=new il;
jj.prototype.DZ=function(){this.SF.f();this.jS.f();this.Or.f();this.It.f();this.Qe.f()};jj.prototype.aG=function(i,$){il.prototype.aG.call(this,i,$);
var h=$==dC.xq;this.Sd.yO(i.Mz,i.n9);if(h||$==dC.Sm||$==dC.mW)this.Sd.B8(i.KH)};jj.prototype.cA=function(){var i=new eU(x.E.k,!0);
i.data={d:x.c.EA,b:this.b};i.data.J0={M:this.Sd.G(),z3:et.M.types[this.SF.G()],Gc:this.It.v$(),a2W:this.Qe.v$(),a42:ca.bj[this.jS.G()],kJ:this.Or.G()/100};
this.$(i)};function bD(){il.call(this)}bD.prototype=new il;function gD(){il.call(this);var i=R.S("span","fitem");
this.body.appendChild(i);this.eq=[new j6([12,15],-180,180,"\xB0"),new d_([1,12,2],null,null,!0)];for(var t=0;
t<this.eq.length;t++){var $=this.eq[t];$.parent=this;i.appendChild($.m);$.h(t==1?"click":x.E.r,this.qL,this)}}gD.prototype=new il;
gD.prototype.DZ=function(){for(var t=0;t<this.eq.length;t++)this.eq[t].f()};gD.prototype.TY=function(i){this.eq[0].t(i.Ns*180/Math.PI)};
gD.prototype.qL=function(i){var $=this.eq.indexOf(i.target),h=new eU(x.E.k,!0);h.data={d:x.c.EA,b:this.b,Ns:$==1?0:i.target.G()*Math.PI/180};
this.$(h)};function ds(){aw.call(this,["brush","algnd","sfrom","alt"])}ds.prototype=new aw;function hU(){il.call(this);
this.hp=new e8;this.hp.parent=this;this.body.appendChild(this.hp.Bv.m);this.body.appendChild(this.hp.Wm.m);
this.body.appendChild(this.hp.kS.m);this.body.appendChild(this.hp.td.m);var i=R.S("span","fitem");this.body.appendChild(i);
i.appendChild(this.hp.NA.m);i.appendChild(this.hp.x7.m);i.appendChild(this.hp.pC.m);this.j2=new ku("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.j2.h(x.E.r,this.RY,this);this.body.appendChild(this.j2.m);this.wV=new d_([11,9],!1,null,!0);this.wV.h("click",this.aoG,this);
this.body.appendChild(this.wV.m);this.OG=new gr;this.OG.h("click",this.RY,this)}hU.prototype=new il;
hU.prototype.DZ=function(){this.OG.f();this.hp.f();this.wV.f()};hU.prototype.aoG=function(i){var $={d:x.c.EA,b:this.b,S3:"showwarp"},h=new eU(x.E.k,!0);
h.data=$;this.$(h)};hU.prototype.TY=function(i){if(i.S3=="showactive")this.body.appendChild(this.OG.m);
if(i.S3=="hideactive")this.body.removeChild(this.OG.m);if(i.S3=="changeAA")this.j2.t(i.gj)};hU.prototype.aG=function(i,$){il.prototype.aG.call(this,i,$);
if($!=dC.mW&&$!=dC.v_&&$!=dC.oX&&$!=dC.V8)return;this.hp.t(i.ta,i.SB,i.el)};hU.prototype.RY=function(i){var $={d:x.c.EA,b:this.b,S3:this.OG.G()?"commit":"cancel"};
if(i.target==this.j2){$.S3="changeAA";$.gj=this.j2.G()}var h=new eU(x.E.k,!0);h.data=$;this.$(h)};function jA(){dJ.call(this,!1,["binop","feat","anta","redge"])}jA.prototype=new dJ(!0);
function dD(){il.call(this);var i=[],h="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.mF=new iD([12,85]);this.mF.h(x.E.r,this.IG,this);i.push(this.mF.m);this.F_=new iD([20,1]);this.F_.h(x.E.r,this.IG,this);
i.push(this.F_.m);this.lr=new iD([12,83]);this.lr.h(x.E.r,this.IG,this);i.push(this.lr.m);var $=R.S("span","fitem");
i.push($);this.apD=new ku("Scale for exported files",["1x","2x","3x","4x"],!0);$.appendChild(this.apD.m);
this.Cv=new d_(h+" PNG",!1,"Save selected layers as PNG",!0);$.appendChild(this.Cv.m);this.Cv.h("click",this.q0,this);
this.am3=new d_(h+" SVG",!1,"Save selected layers as SVG",!0);$.appendChild(this.am3.m);this.am3.h("click",this.q0,this);
var d=R.S("span","fitem");i.push(d);var K=R.S("span","fitem");i.push(K);this.Oc=[];for(var t=0;t<8;t++){var f=t==3||t==7?[20,4,6]:[20,4,t<3?t:t-1],l=new d_("Hi",!1,f);
(t<4?d:K).appendChild(l.m);l.h("click",this.q0,this);this.Oc.push(l)}for(var t=0;t<i.length;t++)this.body.appendChild(i[t]);
this.aiD=i}dD.prototype=new il;dD.prototype.TY=function(i){var $=i.Py,h=i.aug;this.mF.t($.rM);this.F_.t($.C6);
this.lr.t($.N3);if(h){R.J9(this.body);for(var t=0;t<h.length;t++)if(h[t]==1&&this.aiD[t])this.body.appendChild(this.aiD[t])}};
dD.prototype.q0=function(i){var $=this.Oc.indexOf(i.target),h;if($==-1){h=new eU(x.E.k,!0);h.data={d:x.c.EA,b:this.b,vC:i.target==this.Cv?"getPNG":"getSVG",ZJ:this.apD.G()+1}}else{h=new eU(x.E.s,!0);
h.b=D.MW;h.data={d:"algn",L:$}}this.$(h)};dD.prototype.IG=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.EA,b:this.b,vC:"prms",rM:this.mF.v$(),C6:this.F_.v$(),N3:this.lr.v$()};
this.$($)};dD.prototype.DZ=function(){this.mF.f();this.F_.f();this.lr.f();var i="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var t=0;t<8;t++){this.Oc[t].L5(R.HD("align/"+i[t],null,"autoscale"))}};function dl(){dJ.call(this,!1,["binop","feat","redge","wconf","sall"])}dl.prototype=new dJ(!0);
function b1(){aw.call(this,["setop","patch"])}b1.prototype=new aw;function iS(){aw.call(this,["setop"])}iS.prototype=new aw;
function iW(){aw.call(this,["bmode","opacity","wconf","sall"])}iW.prototype=new aw;function fr(){dJ.call(this,!1,["binop","feat","anta","redge"])}fr.prototype=new dJ(!0);
function kq(){dJ.call(this,!1,["binop","feat","anta","redge"])}kq.prototype=new dJ(!0);function eP(){dJ.call(this,!1,["binop","feat","redge","cstr"])}eP.prototype=new dJ(!0);
function ac(){il.call(this);this.RM=null;this.QT=null;this.pH=[new at("X",null,3.2,null,!0),new at("Y",null,3.2,null,!0),new at("W",null,3.2,null,!0),new at("H",null,3.2,null,!0),new at([12,15],"\xB0",3.7,null,!0),new at(["VAR0 1",[12,80,0]],null,3.5,null,!0),new at(["VAR0 2",[12,80,0]],null,3.5,null,!0),new d_([15,7,6],!1,null,!0),new d_([2,2],!1,null,!0)];
for(var t=0;t<this.pH.length;t++){var i=this.pH[t];this.body.appendChild(i.m);if(t>6)i.h("click",this.WO,this)}this.Sn=0}ac.prototype=new il;
ac.prototype.WO=function(i){var $=this.pH.indexOf(i.target)==7,h=new eU(x.E.s,!0);if($){if(this.Sn==0)return;
h.b=D.Ey;h.data={d:"rot",Q8:[2,5],L:-this.Sn}}else{h.b=D.y8;for(var t=0;t<6;t++)this.pH[t].t(null)}this.$(h)};
ac.prototype.TY=function(i){function $(u,U,y){var a=Math.sqrt(Math.pow(U.x-u.x,2)+Math.pow(U.y-u.y,2)),v=Math.sqrt(Math.pow(U.x-y.x,2)+Math.pow(U.y-y.y,2)),c=Math.sqrt(Math.pow(y.x-u.x,2)+Math.pow(y.y-u.y,2));
return Math.acos((v*v+a*a-c*c)/(2*v*a))}if(i==null)return;this.QT=i;var h=i.a8A,d=i.h5,K=d.x-h.x,f=d.y-h.y;
this.Sn=-Math.atan2(f,K);if(i.IC)this.Sn=$(d,h,i.IC);var l=this.pH;l[0].t(this.Zp(i,h.x));l[1].t(this.Zp(i,h.y));
l[2].t(this.Zp(i,K));l[3].t(this.Zp(i,f));l[4].t((this.Sn*180/Math.PI).toFixed(2));l[5].t(this.Zp(i,cq.ED(h,d)));
if(i.IC){l[6].t(this.Zp(i,cq.ED(h,i.IC)))}else l[6].t("")};ac.prototype.Zp=function(i,$){var h=k.TA.Iy($,i._m,this.RM,i.acJ,!1);
return parseFloat(h).toFixed(2)};ac.prototype.aG=function(i,$){this.RM=i;this.TY(this.QT)};ac.prototype.DZ=function(){var i=this.pH;
for(var t=0;t<i.length;t++)i[t].f();R.Vf(i[2],i[3])};function f_(){aw.call(this,["brush","strn","pdetail"])}f_.prototype=new aw;
function gM(){aw.call(this,["brush","sfrom"]);this.abP=[];var i=[[7,12]];for(var t=0;t<i.length;t++){var $=new d_(i[t],!1,null,!0);
this.abP.push($);$.parent=this;this.body.appendChild($.m);$.h("click",this.aq$,this)}}gM.prototype=new aw;
gM.prototype.aq$=function(i){var $=this.abP.indexOf(i.currentTarget),h=new eU(x.E.jm,!0);h.data=D.Gg.kg("contentAware");
this.$(h)};function bB(){aw.call(this,["brush","strn"])}bB.prototype=new aw;function iA(){aw.call(this,["brush","flow","smode"])}iA.prototype=new aw;
function dw(){il.call(this);this.Sp=!1;var i=R.S("span","fitem");this.body.appendChild(i);this.mM=new ee(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
i.appendChild(this.mM.m);this.mM.h(x.E.r,this.IG,this);this.Fx=new d_([20,2]);this.body.appendChild(this.Fx.m);
this.Fx.h("click",this.ah9,this);this.w$=new d_([20,3]);this.body.appendChild(this.w$.m);this.w$.h("click",this.ah9,this)}dw.prototype=new il;
dw.prototype.DZ=function(){this.Fx.f();this.w$.f()};dw.prototype.IG=function(){var i={d:x.c.EA,b:this.b,p6:this.mM.G()==0},$=new eU(x.E.k,!0);
$.data=i;this.$($)};dw.prototype.TY=function(i){if(this.Sp!=i.Sp)this.mM.t(1-this.mM.G());this.Sp=i.Sp};
dw.prototype.ah9=function(i){var $=new eU(x.E.s,!0);$.b=D.VB;$.data={d:"adapt",L:i.target==this.Fx?"pixel":"fitscr"};
this.$($)};function jZ(i,$){il.call(this);if(i==null)return;this.y_=i;this.hD={};this.amB=$;for(var t=0;
t<i.length;t++){var h=i[t],d=null;if(h=="tmode"){d=new ku(null,[[12,76,1],[12,76,0],[12,76,2]]);d.t(0);
if($)d.amN(2)}if(h=="make"){d=new ee("Make",[[17,2],[12,76,1]],null,!0)}if(h=="anta"){d=new iD([12,25,1]);
d.t(!0)}if(h=="binop"){d=new ku(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(h=="pshape")d=new ku(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(h=="shape")d=new fw([12,76,1]);if(h=="crad"){d=new j6([12,94,0],0,50,"px");d.t(0)}if(h=="cstr"){d=new dZ}if(h=="irad"){d=new j6([12,94,1],0,100,"%");
d.t(40)}if(h=="length"){d=new j6([12,80,0],4,40);d.t(4)}if(h=="sides"){d=new j6([12,78],3,30);d.t(5)}if(h=="width"){d=new j6([12,41],1,100,"px");
d.t(5)}if(h=="tolr"){d=new j6([12,24],0,100);d.t(5)}if(h=="fstyle"){d=new aa([12,26])}if(h=="sstyle"){d=new cE}if(h=="psnap"){d=new iD([8,10])}if(h=="crnr"){d=new d_("\u2312",!1,[12,94,0],!0)}if(h=="aopts"){d=new es;
d.t([!1,!1,50,60,0])}d.parent=this;this.body.appendChild(d.m);this.hD[h]=d;d.h(h=="crnr"?"click":x.E.r,this.IG,this)}}jZ.prototype=new il;
jZ.prototype.TY=function(i){if(i.QP!=null)this.hD.binop.t(i.QP);else if(i.vC=="vals")for(var $ in i.af7)this.hD[$].t(i.af7[$]);
else{var h=jZ.UC;if(h==null)h=jZ.UC=new ew([{name:"Remove Anchor Point",w:function(K){var f=K?K.iW():null;
return{w:K&&f[1].length!=0&&f[0][f[1][0]].add.vmsk.ZL.length!=0}}},{name:"Remove Path",w:function(K){var f=K?K.iW():null;
return{w:K&&f[1].length!=0&&f[0][f[1][0]].add.vmsk.g.length!=0}},c6:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{_:x.E.s,b:D.dK,W:{d:"remove",Fc:!0}},{_:x.E.s,b:D.yo,W:{d:"remove"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"makesel"}},{_:x.E.jm,W:D.cI.cF(0)},{_:x.E.jm,W:D.cI.cF(1)}]);
h.parent=this;h.update(i.f7,i.bX);var d=new eU(x.E.k,!0);d.data={d:x.c.jT,dX:h,x:i.zI.jn+2,y:i.zI.eM+1};
this.$(d)}};jZ.prototype.aym=function(t){return null};jZ.prototype.DZ=function(){for(var i in this.hD){this.hD[i].f()}};
jZ.prototype.IG=function(i){var $=new eU(x.E.k,!0),h=this.hD;if(i.target==h.crnr){$=new eU(x.E.s,!0);
$.b=D.dK;$.data={d:"crnr"}}else if(i.target==h.make){var t=i.target.G();console.log(t);if(t==0)$.data={d:x.c.ZD,Kh:"makesel"};
else{$=new eU(x.E.s,!0);$.b=D.nD;$.data={d:"newfill",Ww:0}}}else if(i.target==h.fstyle){$.data={d:x.c.vj,J0:dC.ae,L:h.fstyle.G()}}else if(i.target==h.sstyle){$.data={d:x.c.vj,J0:dC.YK,L:h.sstyle.G()}}else if(i.target==h.tmode){$.data={d:x.c.vj,J0:dC.nR,L:h.tmode.G()}}else{if(h.pshape)this.U0();
$.data={d:x.c.EA,b:this.b};for(var d in h)$.data[d]=h[d].G()}this.$($)};jZ.prototype.U0=function(){var i=this.hD,$=i.tmode.G(),h=i.pshape?this.aym(i.pshape.G()):this.y_,d;
if($==0)d=["anta","make"];if($==1)d=["anta","fstyle","sstyle"];if($==2)d=["make","binop","fstyle","sstyle"];
var K=i.binop;if(K){var f=K.G();if($==0){K.a38(0)}else{K.amN(0);if(f==0){K.t(1);this.IG({target:K})}}}R.J9(this.body);
for(var t=0;t<h.length;t++){var l=h[t];if(d.indexOf(l)!=-1)continue;this.body.appendChild(i[l].m)}};
jZ.prototype.aG=function(i,$){il.prototype.aG.call(this,i,$);var h=this.hD.fstyle,d=this.hD.sstyle,K=this.hD.tmode;
if(h)h.aG(i,$);if(d)d.aG(i,$);if($==dC.mW||$==dC.vy)if(i.DV.length!=0&&this.hD.shape){this.hD.shape.B8(i.DV)}if($==dC.mW||$==dC.ae)if(h)h.t(null,i.wk,i.atZ);
if($==dC.mW||$==dC.YK)if(d)d.t(null,i.HM,i.aiq);if($==dC.mW||$==dC.nR){var f=i.K1;if(this.amB&&f==2)f=0;
if(K){K.t(f);this.U0()}}};function gs(){jZ.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}gs.prototype=new jZ;
function b2(){jZ.call(this,"tmode make anta fstyle sstyle binop".split(" "))}b2.prototype=new jZ;function jW(){jZ.call(this,["fstyle","sstyle"]);
this.acz=null;this.amf=null;this.au8=null;this.FD=new ku([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.ic=new d_("\u25BC");this.ic.rm();this.yp=new d_("\u25B2");this.yp.rm();this.sQ=[this.FD,this.ic,this.yp];
for(var t=0;t<this.sQ.length;t++){var i=this.sQ[t];this.body.appendChild(i.m);i.parent=this;i.h(t==0?x.E.r:"click",this.Ov,this)}}jW.prototype=new jZ;
jW.prototype.TY=function(i){if(i.S3=="main"){var $=this.sQ,h=i.og;if(h){this.amf=h.clone();this.au8=JSON.stringify(i.X);
var d=h.g.slice(0),K=d.length;for(var t=0;t<d.length;t++)d[t]++;d.sort(function(U,y){return U-y});$[0].wA();
$[1].BH(K!=0);$[2].BH(K!=0);$[0].L5(K==0?"No Paths":K==1?"Path "+d[0]:"Paths "+d.slice(0,3).join(",")+(K>3?"..":""));
if(K!=0){var f=h.g[0],l=k.A.ec(h.i,f),u=h.i[l];this.FD.t([3,0,1,2][u.N0])}}else for(var t=0;t<$.length;
t++)$[t].eI()}else jZ.prototype.TY.call(this,i)};jW.prototype.DZ=function(){jZ.prototype.DZ.call(this);
this.FD.f()};jW.prototype.Ov=function(i){if(i.target==this.FD||i.target==this.ic||i.target==this.yp){var $={},h=this.amf,d=h.i,K=h.g,f=k.A.P6(d),l=JSON.parse(this.au8);
K.sort(function(Y,m){return Y-m});if(i.target==this.FD){var u=this.FD.G();if(u<4)for(var t=0;t<K.length;
t++)d[k.A.ec(d,K[t])].N0=[1,2,3,0][u];else{if(f<=1)return;h.i=k.A.r0(d);h.g=h.i.length==2?[]:[0];h.ZL=[];
l=[k.X.N5()]}}else{var U=i.target==this.ic?-1:1,y=[];for(var t=0;t<f;t++){var a=k.A.ec(d,t),v=a+1+d[a].length;
y.push(d.slice(a,v))}var c=K.slice(0);for(var t=0;t<K.length;t++)c[t]=Math.max(t,Math.min(f-1-(K.length-1-t),c[t]+U));
if(K.join(",")==c.join(","))return;var p=JSON.parse(JSON.stringify(l));for(var t=0;t<K.length;t++){var C=U==-1?t:K.length-1-t,a=K[C],v=c[C];
if(a!=v){var T=y[a];y[a]=y[v];y[v]=T;T=p[a];p[a]=p[v];p[v]=T}}var E=d.slice(0,2);for(var t=0;t<y.length;
t++)E=E.concat(y[t]);h.i=E;h.g=c;l=p}$.og=h;$.X=l;var r=new eU(x.E.k,!0);r.data={d:x.c.EA,b:this.b,ZP:$};
this.$(r)}};function bd(){jZ.call(this,["fstyle","sstyle","crnr","psnap"])}bd.prototype=new jZ;function hK(){jZ.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}hK.prototype=new jZ;
function cS(){jZ.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}cS.prototype=new jZ;
function bY(){jZ.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.hD.aopts.t([!1,!0,50,60,0])}bY.prototype=new jZ;bY.prototype.aym=function(t){var i=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(i[t])};function cP(){jZ.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}cP.prototype=new jZ;
function jk(){jZ.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}jk.prototype=new jZ;
function cv(){dJ.call(this,!1,["binop","feat","redge"])}cv.prototype=new dJ(!0);function hO(){aw.call(this,["brush","qsmode","redge"])}hO.prototype=new aw;
function hb(){il.call(this);this.i5=[];for(var t=0;t<2;t++){var i=new d_(t==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.i5.push(i);i.h("click",this.Ov,this);this.body.appendChild(i.m)}}hb.prototype=new il;hb.prototype.Ov=function(i){var $;
if(this.i5.indexOf(i.target)==0){$=new eU(x.E.jm,!0);$.data={Fs:"make",B6:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{$=new eU(x.E.k,!0);
$.data={d:x.c.ZD,Kh:"divslice"}}this.$($)};hb.prototype.DZ=function(i){for(var t=0;t<this.i5.length;
t++)this.i5[t].f()};function gx(){il.call(this);var i=this.vr=[new d_("\u25BC",null,null,!0),new d_("\u25B2",null,null,!0),new d_([5,4],null,null,!0),new d_(["VAR0...",[15,10,22]],null,null,!0)];
for(var t=0;t<4;t++){var $=i[t];this.body.appendChild($.m);$.h("click",this.Ov,this)}}gx.prototype=new il;
gx.prototype.Ov=function(i){var $=this.vr.indexOf(i.target),h;if($==3){h=new eU(x.E.k,!0);h.data={d:x.c.ZD,Kh:"divslice"}}else{h=new eU(x.E.s,!0);
h.b=D.M7;h.data={d:$==2?"delete":"reorder",dir:$==0?-1:1}}this.$(h)};gx.prototype.f=function(){il.prototype.f.call(this);
for(var t=0;t<4;t++)this.vr[t].f()};function eg(i,$){il.call(this);if(window.Typr==null||i)return;this.a1g=$;
this.j4=null;this.alu=R.S("span","");this.ahb=R.S("span","");var h=1;this.hw={kt:new hu(null,24),HJ:new j6("X",0,0,"px",0,!1,!0,4),ss:new j6("Y",0,0,"px",0,!1,!0,4),sO:new j6("W",0,0,["%","px"],2,!1,!0,5),hx:new d_("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),ty:new j6("H",0,0,["%","px"],2,!1,!0,5),ago:new j6("\u2221",0,0,"\xB0",h,!1,!0),anJ:new j6("\u25B1 H",-85,85,"\xB0",h,!1,!0),ae4:new j6("\u25B1 V",-85,85,"\xB0",h,!1,!0),LB:new ku(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.hw.LB.t(1);this.hw.hx.t(!0);for(var d in this.hw){var K=this.hw[d];if($&&(K==this.hw.ago||K==this.hw.anJ||K==this.hw.ae4||K==this.hw.LB)){}else this.alu.appendChild(K.m);
var f=K==this.hw.hx?"click":x.E.r;K.h(f,this.ajw,this)}this.Fd=new de(!0,!0,!0);this.Fd.h(x.E.r,this.a7R,this);
this.Fd.parent=this;var l=this.ahb,u=this.Fd;l.appendChild(u.AB.m);l.appendChild(u.vl.m);l.appendChild(u.OK.m);
l.appendChild(u.Yh.m);l.appendChild(u.wD.m);this.wV=new d_([11,9]);this.wV.h("click",this.ajd,this);
this.OG=new gr;this.OG.h("click",this.RY,this)}eg.prototype=new il;eg.prototype.TY=function(i){if(i.zI){var $=eg,h=this.UC;
if(h==null)h=this.UC=new ew($.a9T(),$.agJ(this.b));h.f();h.parent=this;h.update(i.f7,i.bX);var d=new eU(x.E.k,!0);
d.data={d:x.c.jT,dX:h,x:i.zI.jn+2,y:i.zI.eM+1};this.$(d);return}R.J9(this.body);this.j4=i;if(i.hw){var K=i.hw.gZ,f=i.hw.eE.clone(),l=Math.atan2(-f.Z,f.Pi),u=new ej;
u.rotate(-l);f.concat(u);var U=this.hw;U.kt.t(i.hw.az);U.HJ.t(i.hw.XK.x);U.ss.t(i.hw.XK.y);U.sO.t(f.Pi*(U.sO.mY()=="%"?100:K.e));
U.ty.t(f.Zn*(U.ty.mY()=="%"?100:K.n));U.ago.t(-l*180/Math.PI);U.anJ.t(Math.atan(f.sl)*180/Math.PI);U.ae4.t(0*180/Math.PI);
this.body.appendChild(this.alu);this.wV.Xv();if(i.hw.H9!=null)U.hx.t(i.hw.H9)}if(i.ya){this.Fd.t(i.ya);
this.body.appendChild(this.ahb);this.wV.rm()}this.body.appendChild(this.OG.m);if(i.axC&&!this.a1g)this.body.appendChild(this.wV.m)};
eg.prototype.ajw=function(i){var $=this.hw,h=this.j4.hw.gZ;if(i.target==$.hx)$.hx.t(!$.hx.G());else if($.hx.v$()){var d=$.ty,K=$.sO,f=h.n,l=h.e;
if(i.target==$.sO){d=$.sO;K=$.ty;f=h.e;l=h.n}var u=d.G()/(d.mY()=="%"?100:f);u*=K.mY()=="%"?100:l;K.t(u)}var U=[];
for(var y in $)if($[y]!=$.hx&&$[y]!=$.kt){var u=$[y].G();if(($[y]==$.sO||$[y]==$.ty)&&u==0){u=.1;$[y].t(u)}if($[y]==$.sO&&$[y].mY()=="px")u/=h.e/100;
if($[y]==$.ty&&$[y].mY()=="px")u/=h.n/100;U.push(u)}var a=new cq(U[0],U[1]);if(i.target==$.kt){this.NH({S3:"ctyp",az:$.kt.G()})}else if(i.target==$.HJ||i.target==$.ss){this.NH({S3:"cen",XK:a})}else{var v=this.j4.hw.eE.clone(),c=v.clone(),p=Math.atan2(-v.Z,v.Pi);
c.translate(-a.x,-a.y);c.rotate(-p);var C=new ej(c.Pi,c.Z,c.sl,c.Zn,0,0);C.Sp();c.concat(C);c.concat(new ej(U[2]/100,Math.tan(U[6]*Math.PI/180),Math.tan(U[5]*Math.PI/180),U[3]/100,0,0));
c.rotate(-U[4]*Math.PI/180);c.translate(a.x,a.y);this.j4.hw.eE=c;this.NH({S3:"trn",hw:c,bu:this.hw.LB.G(),H9:$.hx.G()})}};
eg.prototype.a7R=function(i){this.NH({S3:"wrp",ya:this.Fd.G()})};eg.prototype.ajd=function(i){this.NH({S3:"switchWarp"})};
eg.prototype.RY=function(i){this.NH({S3:this.OG.G()?"commit":"cancel"})};eg.prototype.NH=function(i){i.d=x.c.EA;
i.b=this.b;var $=new eU(x.E.k,!0);$.data=i;this.$($)};eg.prototype.DZ=function(){var i=this.hw;for(var $ in i)i[$].f();
R.Vf(i.sO,i.ty);this.OG.f();this.Fd.f();this.wV.f()};eg.a9T=function(){var i=function($){var h=!0;if($==null||$.g.length==0)h=!1;
else{var d=$.g;for(var t=0;t<d.length;t++){if($.B[d[t]].add.TySh)h=!1}}return{w:h}};return[{name:[5,9],oF:"Shift+Alt+Ctrl + T",c6:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],w:i},{name:[2,9],w:i},{name:[11,9],w:function($){if($==null||$.g.length!=1)return{w:!1};
var h=$.B[$.g[0]];return{w:h.add.TySh==null&&!h.BT()}},c6:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
eg.agJ=function(i){if(i==null)i=D.Ey;return[{_:x.E.s,b:i,W:{d:"again"}},{_:x.E.k,W:{d:x.c.ro,b:i,Py:{PT:3}}},{_:x.E.k,W:{d:x.c.ro,b:i,Py:{PT:4}}},{_:x.E.k,W:{d:x.c.ro,b:i,Py:{PT:2}}},{_:x.E.k,W:{d:x.c.ro,b:i,Py:{PT:1}}},{_:x.E.k,W:{d:x.c.ro,b:i,Py:{PT:-1}}},{_:x.E.s,b:i,W:{d:"rot",Q8:[2,5],L:-Math.PI/2}},{_:x.E.s,b:i,W:{d:"rot",Q8:[2,5],L:-3*Math.PI/2}},{_:x.E.s,b:i,W:{d:"rot",Q8:[2,5],L:Math.PI}},{_:x.E.s,b:i,W:{d:"scl",Q8:[[2,6],[22,4,2]],L:new cq(-1,1)}},{_:x.E.s,b:i,W:{d:"scl",Q8:[[2,6],[22,4,3]],L:new cq(1,-1)}}]};
function iz(){eg.call(this)}iz.prototype=new eg(!0);function fP(){eg.call(this)}fP.prototype=new eg(!0);
function fW(){eg.call(this,!1,!0)}fW.prototype=new eg(!0);function aT(){il.call(this);var i=this.y_=[new ku([12,36],["Rigid",[15,10,0],[24,4]]),new ku([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new j6([7,4],0,100,"px"),new iD("Show Mesh"),new d_("\u25BC",null,null,!0),new d_("\u25B2",null,null,!0)];
for(var t=0;t<i.length;t++){var $=i[t];$.parent=this;this.body.appendChild($.m);$.h(t<4?x.E.r:"click",this.a5B,this)}this.OG=new gr;
this.OG.h("click",this.RY,this);this.body.appendChild(this.OG.m)}aT.prototype=new il;aT.prototype.DZ=function(){var i=this.y_;
for(var t=0;t<4;t++)i[t].f();this.OG.f()};aT.prototype.TY=function(i){var i=i.J0;for(var t=0;t<4;t++)this.y_[t].t(i[t])};
aT.prototype.a5B=function(i){var $=[];for(var t=0;t<4;t++)$[t]=this.y_[t].G();var h=this.y_.indexOf(i.target);
if(h<4)this.NH({S3:"prm",J0:$});else this.NH({S3:"moveDepth",ajL:h==5})};aT.prototype.RY=function(i){this.NH({S3:this.OG.G()?"commit":"cancel"})};
aT.prototype.NH=function(i){i.d=x.c.EA;i.b=this.b;var $=new eU(x.E.k,!0);$.data=i;this.$($)};function gR(){dq.call(this);
this.m=R.S("div","cmanager");window.alert=function(d,K){this.a0b(d,K);console.log("Alert: "+d)}.bind(this);
window.onblur=function(d){var K=this;K.LQ()}.bind(this);this.DD=0;this.mJ=0;this.Q5=[];this.EI={};this.uA=R.S("div","alertcont");
this.m.appendChild(this.uA);this.axU=R.S("div","alertcont");this.m.appendChild(this.axU);this.d9=R.S("div","alertcont");
this.aiQ=0;this.bz=-1;this.arL=null;this.i5=null;var i=this.a5Y=R.S("div","alertpanel");i.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.d9.appendChild(i);var $=this.N8=R.S("input");$.setAttribute("type","text");R.zb($);$.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
$.addEventListener("input",this.asL.bind(this),!1);$.addEventListener("keydown",this.awH.bind(this),!1);
i.appendChild($);var h=this.aqB=R.S("div","contextpanel scrollable");h.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
h.addEventListener("click",this.aoL.bind(this),!1);i.appendChild(h);R.K6(document.body,this.a6C.bind(this))}gR.prototype=new dq;
gR.prototype.j5=function(){if(R.bT(this.d9))this.m.removeChild(this.d9)};gR.prototype.auM=function(i,$){var h=this.arL=[],d=$.adX;
for(var t=0;t<d8.data.length;t++){var K=d8.data[t],f=[e_.get(K.name)],l=[t];gR.ahR(K.items,f,l,h,i,$,d==null?null:d[t]==null?0:d[t])}var u=ec.q;
for(var t=0;t<u.length;t+=3){if($.Ny&&$.Ny.indexOf(u[t+2])==-1)continue;h.push([["Tools",e_.get(u[t])],[-1,u[t+2]],u[t+1]])}this.m.appendChild(this.d9);
var U=this.N8;U.focus();U.select();this.WA()};gR.prototype.asL=function(i){this.bz=-1;this.WA()};gR.prototype.WA=function(){var i=this.N8.value.toLowerCase().trim().replace(/  +/g," "),$=this.arL,h=[],d=[],K=i.split(" ");
if(i!="")for(var t=0;t<$.length;t++){var f=$[t][0],l=[],u=0;for(var U=0;U<f.length;U++)l[U]=-1;for(var y=0;
y<K.length;y++)for(var U=0;U<f.length;U++){var a=f[U].toLowerCase().indexOf(K[y]);if(a!=-1){l[U]=[a,a+K[y].length];
u++;break}}if(u==K.length){h.push($[t]);d.push(l)}}var v=[],c=this.aqB;R.J9(c);for(var t=0;t<h.length;
t++){var p=h[t],C=p[0],a=d[t],T="enab",r="";if(t==this.bz)T+=" active";var E=R.S("div",T);v.push(E);
c.appendChild(E);for(var U=0;U<C.length;U++){var Y=a[U],S=K[U],m=C[U];if(Y!=-1)m=m.slice(0,Y[0])+"<span style=\"color:black\">"+m.slice(Y[0],Y[1])+"</span>"+m.slice(Y[1]);
r+=m;if(U<C.length-1)r+=" \uFE65 "}if(p[2]&&(typeof p[2]!="string"||p[2].length==1))r+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+ai.M9(p[2])+"</span>";
E.innerHTML=r}this.i5=[h,v]};gR.prototype.awH=function(i){var $=ai.xZ,h=i.code;if($(h,ai.UY))this.j5();
var d=$(h,ai.qO),K=$(h,ai.HF),f=$(h,ai.iQ);if(d||K){this.bz=Math.max(0,Math.min(this.i5[0].length-1,this.bz+(d?-1:1)));
this.WA()}if(f&&this.bz!=-1)this.apE(this.bz)};gR.ahR=function(i,$,h,d,K,f,l){if(typeof l=="number"){if(l==0)return;
if(l==1)l=null}for(var t=0;t<i.length;t++){if(l!=null&&(l[t]==0||l[t]==null))continue;var u=i[t],U=$.slice(0),y=h.slice(0),a=e_.get(u.name);
if(u.w){var v=u.w(K,f,t);if(v.Np)a=v.Np;if(v.w==!1)continue}U.push(a);y.push(t);if(u.sub)gR.ahR(u.sub,U,y,d,K,f,l?l[t]:null);
else d.push([U,y,u.oF])}};gR.prototype.aoL=function(i){var $=i.target;if($.tagName.toLowerCase()=="span")$=$.parentNode;
var h=this.i5[1].indexOf($);if(h!=-1)this.apE(h)};gR.prototype.apE=function(i){var $=this.i5[0][i][1];
if($[0]==-1){var h=new eU(x.E.k,!0);h.data={d:x.c.ro,b:$[1]};this.$(h)}else{var d=d8.data[$[0]].L$[$[1]];
for(var t=2;t<$.length;t++)d=d.sub[$[t]];var K=new eU(d._,!0);K.b=d.b;K.data=d.W;this.$(K)}this.j5()};
gR.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;this.aqB.style["max-height"]=$-120+"px"};gR.prototype.aoU=function(i){var $=R.S("div","alertpanel");
$.textContent=e_.get(i);this.uA.appendChild($);this.EI[JSON.stringify(i)]=$};gR.prototype.ams=function(i){var $=this.EI[JSON.stringify(i)];
this.uA.removeChild($);delete this.EI[JSON.stringify(i)]};gR.prototype.a0b=function(i,$){var h=this.axU;
for(var t=0;t<h.children.length;t++)if(h.children[t].textContent==i)return;var d=R.S("div","alertpanel tpanel");
d.textContent=i;d.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");h.appendChild(d);if($==null)$=1500;
var K=$,f=Math.max(Date.now()+K,this.aiQ+K);setTimeout(function(){d.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){h.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},f-Date.now()-30);
setTimeout(function(){h.removeChild(h.firstChild);h.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},f-Date.now());
this.aiQ=f};gR.prototype.a6C=function(i){var $=this.Q5;for(var t=$.length-1;t>=0;t--){var h=$[t],d=i.target;
while(d!=null){if(d==h.m){this.LQ(h);return}d=d.parentNode}}this.LQ();var K=i.target;while(K!=this.d9&&K!=document.body)K=K.parentNode;
if(K!=this.d9)this.j5()};gR.prototype.LQ=function(i){var $=this.Q5;for(var t=0;t<$.length;t++){if(i&&i.arW($[t]))continue;
var h=$[t].m;h.style.height="auto";R.jE(h,"scrollable");this.m.removeChild(h);$.splice(t,1);t--}};gR.prototype.am7=function(i){this.LQ(i.dX);
var $=i.dX,h=$.m;if(this.Q5.indexOf($)!=-1)return;this.Q5.push($);this.m.appendChild($.m);var d=this.DD,K=this.mJ,f=i.x,l=i.y,u=this.m.getBoundingClientRect(),U=$ instanceof ew,y=-1,a=K-2;
if(U||i.lS){var v=$.Wv(),c=$.a5n();if(U)v=Math.min(v,200);var p=d-v-2,C=K-c-2;if(l<C)y=2;else if(f<p)y=1;
else if(0<l-c-2)y=0;else y=3;if(i.ava)y=0;if(i.a84)y=2;if(y==2){f=Math.min(f,p)}else if(y==1){l=Math.min(l,C)}else if(y==0){l=l-c-2;
f=Math.min(f,p);a=i.y}else if(y==3){f=f-v-2;l=Math.min(l,C)}}l=Math.max(2,l);var top=Math.round(l-u.y+this.m.offsetTop);
h.style.position="absolute";h.style["z-index"]=10;if(l+$.a5n()>a){h.style.height=a-l+"px";R.FK(h,"scrollable");
if(y==3)f-=10}h.style.left=Math.round(f)+"px";h.style.top=top+"px"};gR.prototype.auV=function(i){var $=i.dX,h=this.Q5.indexOf($);
if(h==-1)return;this.Q5.splice(h,1);var d=$.m;this.m.removeChild($.m)};gR.prototype.hg=function(){var i=this.Q5;
return i.length==0?null:i[i.length-1]};gR.prototype.afD=function(){this.auV({dX:this.hg()})};function j1(){dq.call(this);
this.m=R.S("div","confbar")}j1.prototype=new dq;j1.prototype.a97=function(i){i.parent=this;R.J9(this.m);
this.m.appendChild(i.m)};function bU(i){dq.call(this);bU.um=this;bU.cm=i;this.RM=null;this.hz=R.S("input","");
this.hz.setAttribute("type","file");this.hz.setAttribute("multiple","");this.hz.addEventListener("change",function($){this.Uj($.target.files,null,this.s3,null);
this.s3=null}.bind(this),!1);document.body.appendChild(this.hz);this.hz.setAttribute("style","display:none");
this.agq=[];this.Sy=!1;this.anL=[];this.E7=!1;this.a3d={};this.s3=null}bU.prototype=new dq;bU.cm=null;
bU.ea=function(i){try{var $={};$[i.type]=i;navigator.clipboard.write([new ClipboardItem($)])}catch(e_){console.error(e_,e_.message)}};
bU.TB=function(i,$){navigator.clipboard.read().then(function(h){for(var t=0;t<h.length;t++){try{var d=h[t],K={},f=0,l=0;
for(var u=0;u<d.types.length;u++){var U=d.types[u];f++;d.getType(U).then(function(y){var a=U;new Response(y).arrayBuffer().then(function(v){K[this.Ww]=v;
l++;if(l==f)bU.ae7(K,i,$)}.bind({Ww:this.Ww}))}.bind({Ww:U}))}}catch(e_){console.error(e_,e_.message)}}}).catch(function(h){alert("Clipboard error: ("+h.message+")")})};
bU.aiH=function(i){navigator.permissions.query({name:"clipboard-read"}).then(function($){i($.state)})};
bU.ae7=function(i,$,h){var d=["text/plain","image/png","text/html","text/plain"];for(var K in i)console.log(K,K.startsWith("text")?M.kV(new Uint8Array(i[K])).slice(0,100)+"...":i[K]);
for(var f=0;f<d.length;f++){var l=d[f],u=i[l];if(u==null)continue;if(l=="image/png"){bU.cm({name:"image.png"},u,$,h);
return}if(l=="text/plain"){var U=M.kV(new Uint8Array(u));if(f==0)if(!U.startsWith("<!--")&&!U.startsWith("<svg"))continue;
var y=new eU(x.E.k,!0);y.data={d:x.c.aks,L:U};$.$(y);return}if(l=="text/html"){var U=M.kV(new Uint8Array(u)),a=U.indexOf("src=\"");
if(a!=-1&&U.slice(a+5,a+9)!="http"){var v=a+10;while(U[v]!="\"")v++;var c=U.slice(a+5,v);bU.cm({name:"chart.png"},em.yT(c).buffer,$,h);
return}}}};bU.prototype.sm=function(i){if(i==null)i=[23,5];var $=JSON.stringify(i),h=this.a3d;if(h[$]==null)h[$]=0;
if(h[$]==0){var d=new eU(x.E.k,!0);d.data={d:x.c.TT,nT:i};this.$(d)}h[$]++};bU.prototype.tR=function(i){if(i==null)i=[23,5];
var $=JSON.stringify(i),h=this.a3d;if(h[$]==null)h[$]=0;h[$]--;if(h[$]==0){var d=new eU(x.E.k,!0);d.data={d:x.c.$P,nT:i};
this.$(d)}};bU.prototype.aaL=function(i,$){this.s3=i;var h=window.showOpenFilePicker;if(h&&window.self==window.top){var d=this;
h({multiple:!0}).then(function(l){var u=[];function U(y){u.push(y);if(u.length==l.length){d.Uj(u,null,d.s3,null,l);
d.s3=null}else l[u.length].getFile().then(U)}l[u.length].getFile().then(U)});return}var K=this.hz;if($)K.setAttribute("accept",$);
else K.removeAttribute("accept");var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
K.dispatchEvent(f)};bU.prototype.NI=function(i){if(i.url.indexOf("photopea.com#i")!=-1||i.url.indexOf("photopea.com/#i")!=-1){this.eB(i.url.split("#i").pop());
return}this.agq.push(i);this.axn()};bU.prototype.axn=function(){var i=this.agq;if(i.length==0||this.Sy)return;
this.Sy=!0;var $=i.shift();this.sm();if($.D2==null)$.D2={};var h=new XMLHttpRequest;h.mq=$;var d=$.url;
if($.tW&&!d.startsWith("data:image"))d="mirror.php?url="+encodeURIComponent(d);h.open("GET",d);if($.br)for(var K in $.br)h.setRequestHeader(K,$.br[K]);
h.responseType="arraybuffer";h.onload=this.ad0.bind(this);h.send()};bU.prototype.Uj=function(i,$,h,d,K){for(var t=0;
t<i.length;t++){this.sm();var f=i[t],l=new FileReader;l.mq=f;l.mq.LL=h;l.mq.$k=d;l.afM=$;if(K)l.mq.en=K[t];
l.onload=this.ad0.bind(this);l.onerror=function(u){this.tR()}.bind(this);this.anL.push([l,f])}this.hz.value=null;
this.ajT()};bU.prototype.ajT=function(){var i=this.anL;if(i.length==0||this.E7)return;this.E7=!0;var $=i.shift();
$[0].readAsArrayBuffer($[1])};bU.prototype.aa6=function(i,$,h){this.sm("Saving ...");this.RM=$;setTimeout(h.bind({g1:i,caller:this}),50)};
bU.EQ=function(i){var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(i),d=h.length,K=d%3,f=d-K,l=[],u=0,U=0,y=0;
for(var t=0;t<f;t+=3){u=h[t];U=h[t+1];y=h[t+2];l.push($[u>>2]+$[(u&3)<<4|U>>4]+$[(U&15)<<2|y>>6]+$[y&63])}if(K==1){u=h[f];
l.push($[u>>2]+$[(u&3)<<4]+"==")}if(K==2){u=h[f];U=h[f+1];l.push($[u>>2]+$[(u&3)<<4|U>>4]+$[(U&15)<<2]+"=")}var a=l.join("");
return a};bU.a6W=function(i,$){var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=new Uint8Array(64),u=0,U=0,y=0,v=0;
for(var t=0;t<64;t++)d[t]=h.charCodeAt(t);var K=new Uint8Array(i),f=$%3,l=$-f,a=new Uint8Array(Math.floor($/3)*4+(f==0?0:4));
for(var t=0;t<l;t+=3){u=K[t];U=K[t+1];y=K[t+2];a[v]=d[u>>>2];a[v+1]=d[(u&3)<<4|U>>>4];a[v+2]=d[(U&15)<<2|y>>>6];
a[v+3]=d[y&63];v+=4}if(f==1){u=K[l];a[v]=d[u>>2];a[v+1]=d[(u&3)<<4];a[v+2]=61;a[v+3]=61}if(f==2){u=K[l];
U=K[l+1];a[v]=d[u>>2];a[v+1]=d[(u&3)<<4|U>>4];a[v+2]=d[(U&15)<<2];a[v+3]=61}return a};bU.prototype.ad0=function(i){var $,h=i.target.mq;
if(i.target instanceof XMLHttpRequest)$=i.target.response;else $=i.target.result;bU.cm(h,$,this,i.target.afM);
this.tR();if(i.target instanceof XMLHttpRequest){this.Sy=!1;this.axn()}else{this.E7=!1;this.ajT()}};
bU.ag_=function(i,$){var h=new XMLHttpRequest;h.open("POST","https://api.imgur.com/3/image",!0);h.VS=$;
h.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");h.setRequestHeader("Content-type","application/x-www-form-urlencoded");
h.setRequestHeader("Accept","application/json");h.addEventListener("load",bU.auC);h.send("type=base64&image="+encodeURIComponent(bU.EQ(i)));
alert("Saving to Imgur ...",4e3)};bU.auC=function(i){var $=JSON.parse(i.target.response);if($.success){if(i.target.VS)i.target.VS($.data.link);
else window.open($.data.link,"Imgur")}};bU.prototype.eB=function(i,$,h){this.sm();var d=new XMLHttpRequest;
d.responseType="arraybuffer";d.open("GET","https://f000.backblazeb2.com/file/"+(h?"pp-resources":"psdshared")+"/"+i);
d.onload=this.aiS.bind(this);d.send();d.QT=[Date.now(),i,$?i:null,h]};bU.prototype.aiS=function(i){var $=i.target.QT,h=new Uint8Array(i.target.response);
console.log(h.length+" B,",Date.now()-$[0]+" ms");for(var t=0;t<h.length;t++)h[t]=255-h[t];h=pako.inflateRaw(h);
var d=JSON.parse(M.kV(h,0,2e3));bU.cm({name:d.name,jW:$[2]},h.slice(2e3).buffer,this);this.tR();if(!$[3])bU.GR("act=0&id="+$[1])};
bU.prototype.aj9=function(i,$,h,d){if(!(i instanceof ArrayBuffer))throw"e";i=new Uint8Array(i);var K=new Uint8Array(i.length+2e3),c="";
for(var t=0;t<2e3;t++)K[t]=32;M.Ue(JSON.stringify({name:$}),K,0);K.set(i,2e3);i=K;i=pako.deflateRaw(i);
for(var t=0;t<i.length;t++)i[t]=255-i[t];i=i.buffer;var f=i.byteLength,l=jS.pN(f),u=~~(609e5/2),U=~~(209e5/2);
if(f>u){confirm("Your file is "+l+". Our limit is "+jS.pN(u)+". Delete some layers and try again.");
return}if(f>U){var y=confirm("Your file is quite large ("+l+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!y)return}var a=sha1(i),v=[];for(var t=0;t<20;t++){var p=parseInt(a.slice(t*2,t*2+2),16);v.push(p);
c+=String.fromCharCode(p)}var C=btoa(c).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(bU.aeK(C,d)){console.log("file already exists");
if(h)h(C);else window.open("https://www.photopea.com#i"+C);return}this.sm("Publishing ...");var T=new XMLHttpRequest;
T.QT=[i,a,C,h,d];T.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+C+"&size="+f+"&bname="+d);
T.onload=this.adp.bind(this);T.send()};bU.aeK=function(i,$){try{var h=new XMLHttpRequest;h.open("HEAD","https://f000.backblazeb2.com/file/"+$+"/"+i,!1);
h.send();if(h.status==200)return!0}catch(e_){return!1}return!1};bU.prototype.adp=function(i){console.log(i.target.response);
var $=JSON.parse(i.target.response),h=i.target.QT,d=new XMLHttpRequest;d.open("POST",$.uploadUrl);d.setRequestHeader("Authorization",$.authorizationToken);
d.setRequestHeader("X-Bz-File-Name",h[2]);d.setRequestHeader("Content-Type","b2/x-auto");d.setRequestHeader("X-Bz-Content-Sha1",h[1]);
d.send(new Blob([h[0]]));d.onload=this.aaU.bind({DR:this,QT:h})};bU.prototype.aaU=function(i){this.DR.tR("Publishing ...");
if(this.QT[3])this.QT[3](this.QT[2]);else window.open("https://www.photopea.com#i"+this.QT[2]);if(this.QT[4]=="psdshared")bU.GR("act=2&id="+this.QT[2]+"&fileId="+JSON.parse(i.target.response).fileId)};
bU.GR=function(i){var $=new XMLHttpRequest;$.open("GET","/papi/img/update.php?"+i+"&rnd="+Math.random());
$.send()};bU.save=function(i,$){var h=new Uint8Array(i),d=document.createElement("a");if(typeof d.download=="string"){var K=new Blob([h]),f=window.URL.createObjectURL(K);
d.href=f;d.download=$;document.body.appendChild(d);d.click();document.body.removeChild(d)}else{var l="data:application/octet-stream;base64,"+bU.EQ(i);
window.open(l)}};function av(){this.size=16;this.data=k.Q(16)}av.prototype.w1=function(i,$){if(i+$<=this.size)return;
var h=this.size;while(i+$>this.size)this.size*=2;var d=k.Q(this.size);for(var t=0;t<h;t++)d[t]=this.data[t];
this.data=d};var gz={};gz.xF=function(i,$,h){var d=$.split(":"),K=d[0],f=null;if(d.length==2){if(K=="jpg")f=[Math.round(100*parseFloat(d[1]))];
if(K=="webp")f=[Math.round(100*parseFloat(d[1])),100,0,!1,!1];if(K=="psd")f=[!0,!0];if(K=="svg")f=d[1].split(",").map(function(u){return u=="true"})}var l=em.kW(i,K.toUpperCase(),null,null,f,h);
return l};gz.a6l=function(i,$,h){var d=i.Fy(),K=$[0];return gz.xF(i,K,h)};gz.acI=function(){var i=this.g1,$=this.caller,h=i.D2.tB,d=h.formats,K,f;
i.Fy();var l=Date.now();if(h.version==1){var u=[],U=0,a=0;for(var t=0;t<d.length;t++){var y=gz.xF(i,d[t],$.RM);
u.push(y);U+=y.byteLength}K=new Uint8Array(2e3+U);var v="{ \"source\": "+JSON.stringify(i.TF)+", \"versions\": [\n";
for(var t=0;t<d.length;t++){var c=new Uint8Array(u[t]);v+="\t{\"format\": \""+d[t].split(":")[0]+"\", \"start\": "+a+", \"size\": "+c.length+" }"+(t+1<d.length?", ":"")+"\n";
K.set(c,2e3+a);a+=u[t].byteLength}v+="] }";var p=M.Ue(v,K,0);for(var t=p;t<2e3;t++)K[t]=32;f="application/octet-stream"}else{var C=new av,T=0,E="",r=encodeURIComponent;
E="p="+r("{ \"source\": "+JSON.stringify(i.TF)+", \"versions\": [");M.Mh(C,T,E);T+=E.length;for(var t=0;
t<d.length;t++){E=r(" {\"format\": \""+d[t].split(":")[0]+"\", \"data\": \"");M.Mh(C,T,E);T+=E.length;
var y=gz.xF(i,d[t],$.RM),Y=bU.a6W(y,y.byteLength),p=Y.length;C.w1(T,p);for(var S=0;S<p;S++){C.w1(T,3);
var m=Y[S];if(m==43){C.data[T]=37;C.data[T+1]=50;C.data[T+2]=66;T+=3}else if(m==47){C.data[T]=37;C.data[T+1]=50;
C.data[T+2]=70;T+=3}else if(m==61){C.data[T]=37;C.data[T+1]=51;C.data[T+2]=68;T+=3}else{C.data[T]=m;
T++}}E=r("\" }"+(t+1<d.length?", ":""));M.Mh(C,T,E);T+=E.length}E=r("] }");M.Mh(C,T,E);T+=E.length;K=C.data.slice(0,T);
f="application/x-www-form-urlencoded"}var Q=new XMLHttpRequest;Q.open("POST",h.url,!0);if(f)Q.setRequestHeader("Content-Type",f);
Q.addEventListener("load",gz.arn.bind(this));Q.send(new Blob([K.buffer]))};gz.arn=function(i){this.caller.tR("Saving ...");
var $=i.target.response;if($.charAt(0)=="{"){$=JSON.parse($);if($.newSource)this.g1.TF=$.newSource;if($.message)alert($.message,2e3);
if($.script){var h=new eU(x.E.k,!0);h.data={d:x.c.kf,Pl:$.script};this.caller.$(h)}}else alert("Saved. Response: "+$,1500)};
gz.anS=function(i){var $=i.uP,h=$[1].split(".").pop(),d=gz.xF(i,h),K=Storage.a99($[0]);K.asc($[1],d)};
gz.al1=function(i,$){var h=i.PF.LT;if($==null)$=gz.xF(i,h);fk.zR(function(){var d=new XMLHttpRequest,K="https://www.googleapis.com/upload/drive/v3/files/"+i.PF.file.id+"?uploadType=media"+"&"+fk.pG();
d.open("PATCH",K,!0);d.addEventListener("load",function(f){var l=JSON.parse(f.target.response);alert(l.name+" updated")});
d.send($);alert("Saving \""+i.PF.file.name+"\" to Google Drive ...")})};gz.cm=function(i,$,h,d){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)gz.a6$(i,$,h,d);
else{try{gz.a6$(i,$,h,d)}catch(e_){if(e_=="low_ram"){}else{var K="Error. Please, send your file to support@photopea.com and we will solve it.";
if(em.X0($)=="eps")K="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(K,1e4)}}}};gz.a6$=function(i,$,h,d){var K;if(i.name){var f=i.name.lastIndexOf(".");K=f==-1?f:i.name.slice(0,f)}else{if(i.url.substring(0,5)=="data:"||i.url.indexOf("googleapis")!=-1)K="image";
else K=i.url.substring(i.url.lastIndexOf("/")+1).split(".")[0];K=K.slice(0,50)}var l=i.name?i.name:i.url,u=new Uint8Array($),U=em.X0($),y=window.gtag;
if(Math.random()<.25&&y&&U!=null&&em.Q_(U))y("event",U,{event_category:"Formats"});if(U==null)U=M.uX(u,0,4);
if(l&&l.toLowerCase().endsWith(".raw")){var a=new eU(x.E.k,!0);a.data={d:x.c.ZD,Kh:"importraw",X8:$,Wo:l.split("/").pop()};
h.$(a);return}else if(U=="json"){var v="";for(var t=0;t<u.length;t++)v+=String.fromCharCode(u[t]);v=decodeURIComponent(escape(v));
var c=JSON.parse(v);if(c.name&&c.url){var a=new eU(x.E.k,!0);a.data={d:x.c.aq8,L:c};h.$(a)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(c)}return}if(U=="html"){var v=M.kV(u,0,u.length),p=new DOMParser,C=p.parseFromString(v,"text/html"),T=C.getElementsByTagName("meta");
for(var t=0;t<T.length;t++){var E=T[t],r=E.getAttribute("property"),Y=E.getAttribute("content"),m=null;
if(r=="og:image")m=Y;if(r==null&&Y&&Y.startsWith("0;url=/imgres?")){var Q=Y.slice(14).split("&");for(var z=0;
z<Q.length;z++)if(Q[z].startsWith("imgurl"))m=decodeURIComponent(Q[z].slice(7))}if(m==null)continue;
var a=new eU(x.E.k,!0);a.data={d:x.c.gu,J0:{url:m,tW:!0,LL:i.LL}};h.$(a)}return}if(em.Q_(U)){var n,Z,P=em.Q_(U);
if(i.LL!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(U)!=-1){var a=new eU(x.E.k,!0);if(0<=i.LL)a.data={d:x.c.PY,target:i.LL,hn:i.$k,x3:$,T4:K};
else{a=new eU(x.E.s,!0);a.data={d:H.lk,data:new Uint8Array($),Wo:K+"."+U};a.b=D.$S}h.$(a);return}var V=[K,P,U,i,h,d,$];
if(P.LW){n=new hR(K+(U=="psd"?"":"-"+U)+".psd");P.u2($,n,gz.zs,V)}else{Z=P.u2($,null,gz.zs,V,h)}if(P.Pz!=!0)gz.zs(n,Z,V);
else h.sm();return}var I=new eU(x.E.k,!0);I.data={d:x.c.WV,X8:$,dx:i.name};var q=i instanceof File&&i.atL!=!0,a=new eU(x.E.k,!0);
a.data={d:x.c.vj,D2:"add",J0:null,YF:null,aii:i.atL};if(U=="zip"){var X=Date.now(),B=UZIP.parse($),e="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var F in B){var s=!1;for(var t=0;t<e.length;t++)if(F.toLowerCase().endsWith("."+e[t]))s=!0;if(F.startsWith("__MACOSX/")||B[F].length==0)s=!0;
if(s)continue;var J=F.split("/").pop();gz.cm({name:J},B[F].buffer,h,d)}}else if(U=="jsx"||l&&l.toLowerCase().endsWith(".jsx")){var v=M.kV(new Uint8Array($));
a.data={d:x.c.kf,Pl:v};h.$(a)}else if(U=="otf"){if(q)h.$(I);var W=Typr.parse($);a.data.J0=dC.oX;for(var t=0;
t<W.length;t++){a.data.YF=W[t];h.$(a)}}else if(U=="asl"){if(q)h.$(I);var W=fV.cL($);a.data.J0=dC.tY;
a.data.YF=W.n$;h.$(a);a.data.J0=dC.G0;a.data.YF=W.B7;h.$(a)}else if(U=="tpl"){if(q)h.$(I);var W=bm.cL($);
a.data.J0=dC.nj;a.data.YF={pd:W.pd,ut:W.ut,list:[]};h.$(a);if(W.arb.length!=0){a.data.J0=dC.vy;a.data.YF=W.arb;
h.$(a)}if(W.B7.length!=0){a.data.J0=dC.G0;a.data.YF=W.B7;h.$(a)}a.data.J0=dC.PD;a.data.YF=W.list;h.$(a)}else{var L="";
for(var A in dC.Gi)if(dC.Gi[A][0]==U)L=A;if(L!=""){if(q)h.$(I);a.data.YF=dC.Gi[L][2].cL($,l);a.data.J0=L;
h.$(a)}else alert("Unknown file format: "+JSON.stringify(U))}};gz.zs=function(i,$,h){var d=h[0],K=h[1],f=h[2],l=h[3],u=h[4],U=h[5],y=h[6];
if(K.Pz)u.tR();if(!K.LW){if($.length==0)return;if($[0].t33421||$[0].t50706){k.raw.normalize($[0],y);
console.log($[0]);var a=new eU(x.E.k,!0);a.data={d:x.c.ZD,Kh:"rawpea",s$:$[0]};u.$(a);return}if(U){U(new Uint8Array($[0].data),$[0].kp);
return}i=em.hL(d,$)}i.jW=l.jW;i.oE=f;i.D2=l.D2;i.TF=l.url;i.$j=l.$j;i.PF=l.PF;i.en=l.en;i.uP=l.uP;if(i.PF)i.PF.LT=f;
if(i.B.length!=0){var a=new eU(x.E.k,!0);a.data={d:l.LL==null?x.c.T0:x.c.PY,target:l.LL,hn:l.$k,x3:i};
u.$(a)}};function a_(i){dq.call(this);this.Ac=a_.Ac++;this.Ya=i;this.ahg=this.a52.bind(this);this.a5C=this.a5e.bind(this);
this.akI=this.t1.bind(this);this.adr=this.aai.bind(this);this.ap2=this.abo.bind(this);this.a4s=this.a3S.bind(this);
this.JH=0;this.alw=0;this.avM=0;this.m=R.S("div","panelblock");this.fE=R.S("div","block");this.r1=R.S("div","collapsed");
this.m.appendChild(this.fE);this.PC=-1;this.f4=!0;this.MR=R.S("div","panelhead");this.fE.appendChild(this.MR);
this.vp(this.MR);this.pD=new d_("\u2261");this.pD.m.setAttribute("style","position:absolute; right:0;");
this.pD.h("click",this.a55,this);this.PG=R.S("div","body");this.fE.appendChild(this.PG);this.In=[];this.Cd=null;
this.cO=null}a_.Ac=0;a_.prototype=new dq;a_.rC=26.1;a_.prototype.a55=function(i){var $=this.In[this.PC].n3(),h=i.currentTarget.m.getBoundingClientRect();
$.f();$.update();$.parent=this;var d=new eU(x.E.k,!0);d.data={d:x.c.jT,dX:$,x:h.left,y:h.top+h.height+2};
this.$(d)};a_.prototype.xB=function(i){var $=this.fE,h=this.MR,d=this.PG;if(R.bT(h))$.removeChild(h);
if(R.bT(d))$.removeChild(d);if(i==0)$.appendChild(h);$.appendChild(d);this.avM=i};a_.ZY=function(i){i.stopPropagation();
i.preventDefault()};a_.prototype.a52=function(i){var $=i.dataTransfer.types;if($[1]!=null&&$[1]!=this.Ac+"")return;
a_.ZY(i);var b4=i.currentTarget;if(i.target==b4)R.FK(b4,"highlight")};a_.prototype.a5e=function(i){a_.ZY(i);
var b4=i.currentTarget;if(i.target==b4)R.jE(b4,"highlight")};a_.prototype.vp=function(i){i.addEventListener("dragenter",this.ahg,!1);
i.addEventListener("dragleave",this.a5C,!1);i.addEventListener("dragover",a_.ZY,!1);i.addEventListener("drop",this.akI,!1);
i.addEventListener("dragstart",function($){$.dataTransfer.setData("Text","--panel");$.dataTransfer.setData(this.Ac+"","")}.bind(this),!1)};
a_.prototype.t1=function(i){this.a5C(i);var $=null,b4=i.currentTarget,h=this.abM(b4);if(b4==this.PG&&this.PC!=-1)$=this.PC;
else if(b4==this.MR)$=null;else if(h!=-1)$=h;var d=i.dataTransfer.getData("Text");if(d==""||d.startsWith("http"))R.K_(i,this,$);
else if(d=="--panel"){var K=R.CJ(i,b4),f=this.In,l=f.slice(0),t=this.PC,u=h==-1?f.length:K.x<b4.getBoundingClientRect().width/2?h:h+1;
if(t==u||t+1==u||b4==this.PG)return;var U=t<u?u-1:u,y=f[t];f.splice(t,1);f.splice(U,0,y);R.J9(this.MR);
for(var a=0;a<f.length;a++)this.MR.appendChild(f[a].FB);this._r(U);var v=[];for(var t=0;t<f.length;t++)v[t]=l.indexOf(f[t]);
var c=new eU("shuffleItems",!1);c.data={a8K:v};this.$(c)}else if($!=null&&this instanceof an){var c=new eU(x.E.k,!0);
c.data={d:x.c.a43,a78:$};this.$(c)}};a_.prototype.ci=function(){return null};a_.prototype.atP=function(){if(this.ci()){this.MR.style.padding="0px";
this.cO=this.ci();this.PG.appendChild(this.cO);this.qh.BH(!1);var i=new eU(x.E.k,!0);i.data={d:x.c.K8,L:1};
this.$(i)}};a_.prototype.aiX=function(){if(this.cO){this.MR.style.padding="";this.PG.removeChild(this.cO);
this.cO=null;this.qh.BH(!0);var i=new eU(x.E.k,!0);i.data={d:x.c.K8,L:0};this.$(i)}};a_.prototype.abM=function(i){var $=this.In;
for(var t=0;t<$.length;t++)if($[t].FB==i)return t;return-1};a_.prototype._v=function(){for(var t=0;t<this.In.length;
t++)this.In[t].Xb.Xv()};a_.prototype.e1=function(){return this.PC};a_.prototype.Vq=function(){if(this.f4)return;
this.f4=!0;this.m.removeChild(this.r1);this.m.appendChild(this.fE)};a_.prototype.collapse=function(){if(!this.f4)return;
this.f4=!1;this.m.appendChild(this.r1);this.m.removeChild(this.fE)};a_.prototype.rC=function(){var i=0;
if(this.avM==0){i=this.MR.getBoundingClientRect().height+1;i=Math.max(i,a_.rC)}return i};a_.prototype.av_=function(){return this.rC()+this.PG.getBoundingClientRect().height};
a_.prototype.JQ=function(i,$){this.MR.style.maxWidth=i+"px";var h=this.rC();if(this.PC!=-1)this.In[this.PC].JQ(i,$-h);
return $-h};a_.prototype.aG=function(i,$){if(this.PC!=-1)this.In[this.PC].aG(i,$)};a_.prototype.Ra=function(i,$,h){this.In[this.PC].Ra(i,$,h)};
a_.prototype.Km=function(i){this.aiX();if(this.In.indexOf(i)!=-1){this._r(this.In.indexOf(i));return}i.parent=this;
this.In.push(i);this.MR.appendChild(i.FB);i.FB.addEventListener("mouseover",this.adr,!1);this.vp(i.FB);
this.r1.appendChild(i.Xb.m);i.Xb.h("click",this.ag$,this);i.h("select",this.ak0,this);i.h(x.E._y,this.a4i,this);
this._r(this.In.length-1)};a_.prototype.aai=function(i){if(i.buttons==0)return;var $=i.currentTarget,h=$,t=0;
while((h=h.previousSibling)!=null)t++;this.alw=t;$.addEventListener("mouseout",this.ap2,!1);this.JH=setTimeout(this.a4s,700)};
a_.prototype.abo=function(i){var $=i.currentTarget,h=$,t=0;while((h=h.previousSibling)!=null)t++;$.removeEventListener("mouseout",this.ap2);
clearTimeout(this.JH)};a_.prototype.a3S=function(i){this.$(new eU(x.E.adi,!1))};a_.prototype.aqw=function(i){return this.alw};
a_.prototype.Hj=function(t){var i=new eU(x.E._y,!1);i.data={y2:t};this.$(i);var $=this.In[t];this.In.splice(t,1);
this.MR.removeChild($.FB);this.r1.removeChild($.Xb.m);$.FB.className="";$.Xb.removeEventListener("click",this.ag$,this);
$.Xb.Xv();$.removeEventListener("activate",this.ak0);$.removeEventListener(x.E._y,this.a4i);var h=this.PC;
if(t<h)h--;else if(t==h&&t==this.In.length)h--;this._r(h);if(this.In.length==0)this.atP()};a_.prototype.afJ=function(){return this.In.length};
a_.prototype.MD=function(){if(this.In.length!=0)this.In[this.PC].MD()};a_.prototype._r=function(i,$){if($==null)$=!0;
for(var t=0;t<this.In.length;t++)this.In[t].FB.className="";if(this.Cd)this.PG.removeChild(this.Cd);
this.Cd=null;this.PC=i;if(i==-1)return;var h=this.In[this.PC];this.Cd=h.V2;this.PG.appendChild(h.V2);
h.FB.className="active";if(!this.f4){this.$(new eU("showFloat"));this.In[i].Xb.rm()}if($)this.$(new eU(x.E.r,!1));
h.$G();var d=this.pD.m;if(d.parentNode)this.MR.removeChild(d);if(h.n3())this.MR.appendChild(d);var K=new eU(x.E.k,!0);
K.data={d:x.c.Gz};this.$(K)};a_.prototype.ak0=function(i){if(this.Ya&&!this.Ya.aef())return;var t=this.In.indexOf(i.currentTarget);
this._r(t)};a_.prototype.a4i=function(i){if(this.Ya&&!this.Ya.aef())return;var t=this.In.indexOf(i.currentTarget);
this.Hj(t)};a_.prototype.ag$=function(i){var $=this.In.indexOf(i.currentTarget.parent);if(this.In[$].Xb.v$())this.$(new eU("hideFloat"));
else this._r($)};a_.prototype.abn=function(i){this.$(i)};function an(i){a_.call(this,i);this.DD=0;this.mJ=0;
R.pq(this.MR,this.ark.bind(this));this.P2=0;this.ah$=this.atx.bind(this);this.vp(this.PG);this.Oz=["default;"];
this.qh=new R.pJ(this.PG);this.Ll=new cl(!0);this.Ll.parent=this;this.Jf=this.Ll.m;cl.qn(this.Ll)}an.prototype=new a_;
an.prototype.ark=function(i){if(i.target!=this.MR)return;var $=this.P2;this.P2=Date.now();if(Date.now()-$>300)return;
var h=new eU(x.E.k,!0);h.data={d:x.c.ZD,Kh:"newproject"};this.$(h)};an.prototype.$o=function(i,$){if($)this.Oz.push(i);
else{var h=this.Oz.length-1;if(this.Oz[h]==i)return;this.Oz[h]=i}this.BR()};an.prototype.a0Z=function(){this.Oz.pop();
this.BR()};an.prototype.BR=function(){var i=this.Oz[this.Oz.length-1];this.qh.Ra(i,this.UN)};an.prototype.aG=function(i,$){a_.prototype.aG.call(this,i,$);
this.Ll.aG(i,$);if(!i.wd){}};an.prototype.f=function(){a_.prototype.f.call(this);this.Ll.f()};an.prototype.Ra=function(i,$){for(var t=0;
t<$.length;t++){var h=$[t];this.In[t].hO(h.name+(h.k5()?" *":""))}a_.prototype.Ra.call(this,i,$)};an.prototype.ci=function(){return this.Jf};
an.prototype.JQ=function(i,$){if(this.In.length==0)$+=a_.rC-1;this.DD=i;this.mJ=$;$=a_.prototype.JQ.call(this,i,$);
this.UN="height:"+$+"px; width:"+i+"px; overflow:hidden; position:relative;";this.BR();this.Ll.JQ(i,$)};
an.prototype.Km=function(i){a_.prototype.Km.call(this,i);i.FB.addEventListener("click",this.ah$,!1)};
an.prototype.Hj=function(t){var i=this.In[t];R.hZ(i.FB,this.ah$);a_.prototype.Hj.call(this,t)};an.prototype.atx=function(i){var $=this.P2;
this.P2=Date.now();if(Date.now()-$>300)return;var h=this.abM(i.currentTarget),d=this.In[h].x3.name,K=new eU(x.E.k,!0),f={_:x.E.s,b:D.$S,W:{d:H.h0}};
K.data={d:x.c.ZD,Kh:"namewindow",pp:d.slice(0,d.length-4),l8:f};this.$(K)};function bx(i){dq.call(this);
if(i)return;eS.agw(1);this.m=R.S("div","flexrow app");this.IM=R.S("div");this.m.appendChild(this.IM);
setTimeout(function(){var h=window.hideCap;if(h)h()},25e3);this.KW=new ai;window.addEventListener("blur",function(h){this.KW.reset()}.bind(this),!1);
window.addEventListener("resize",this.O9.bind(this),!1);var $=this.IM;this.xc=new kw;this.xc.parent=this;
$.appendChild(this.xc.m);this.m2=new gR;this.m2.parent=this;$.appendChild(this.m2.m);this.jP=new dp(!0);
this.jP.parent=this;$.appendChild(this.jP.m);this.h(x.E.k,this.bc,this);this.dv=this.da.bind(this);window.requestAnimationFrame(this.dv)}bx.prototype=new dq;
bx.prototype.da=function(i){this.jj();window.requestAnimationFrame(this.dv)};bx.prototype.f=function(){};
bx.prototype.O9=function(i){var $=window.innerWidth,h=window.innerHeight;this.JQ($,h)};bx.prototype.JQ=function(i,$){this.m2.JQ(i,$);
this.xc.JQ(i,$)};bx.prototype.bc=function(i){var $=i.data.d;if($==x.c.jT)this.m2.am7(i.data);if($==x.c.jD)this.m2.auV(i.data);
if($==x.c.TT)this.m2.aoU(i.data.nT);if($==x.c.$P)this.m2.ams(i.data.nT);if($==x.c.NE)this.m2.LQ()};function e2(){bx.call(this);
this.pY={x:0,y:0,Et:!1};this.HA=!1;this.Em=!1;this.kw=null;this.asB=0;this.adJ=!1;this.gA=0;window.onmessage=function(E){if(Storage.a7i(E.source))return;
if(E.data instanceof ArrayBuffer){var r=em.X0(E.data),Y=em.Q_(r);bU.cm({url:"file"},E.data,this);if(Y==null)this.dh()}else if(E.data instanceof Object||E.data.startsWith("{")||E.data.startsWith("amp-")||E.data.startsWith("0=goog")||E.data.startsWith("3PCoo")){}else if(E.data.startsWith("--ur ")){var S=E.data.split(" ").pop(),P=null;
S=S.length==0?[]:S.split(",");console.log(S);var m=this.Ie.YF,Q=new eU(x.E.k,!0);Q.data={d:x.c.vj,J0:dC.Lt,gj:S};
this.$(Q);var z=S,n=m;if(n.length>z.length){var Z=n;n=z;z=Z}for(var t=0;t<z.length;t++)if(n.indexOf(z[t])==-1)P=z[t];
bU.GR("act=3&id="+P+"&dif="+(z==S?1:-1));alert((z==S?"Resource added.":"Resource removed.")+" "+P)}else if(E.data.startsWith("--ot ")){this.xc.hg().close();
this.iV.eB(E.data.split(" ").pop(),!0)}else if(E.data.startsWith("--et ")){}else{var Q=new eU(x.E.k,!0);
Q.data={d:x.c.kf,Pl:E.data};this.$(Q);this.dh()}}.bind(this);window.onbeforeunload=function(E){for(var t=0;
t<this.B_.length;t++)if(this.B_[t].k5())return this.B_[t].name}.bind(this);window.setInterval(function(){var E=this.l3();
if(E==null)return;var r=(Date.now()-E.gl)/6e4;if(this.Ie.Ls==1&&E.oD!=E.TP&&r>60){var Y="You haven't saved your work ("+E.name+") for "+Math.round(r)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",S=new eU(x.E.k);
S.data={d:x.c.ZD,Kh:"confirm"};S.data.L=Y;S.data.Fg=function(){var S=new eU(x.E.k);S.data={d:x.c.ms};
this.$(S)}.bind(this);this.$(S)}}.bind(this),30*60*1e3);var i=this,u="",U="";if(window.indexedDB&&(!i0.o0()||document.hasStorageAccess==null)){var $={w1:window.indexedDB.open("pp",1)};
$.w1.onupgradeneeded=function(E){var r=E.target.result,Y=r.createObjectStore("rsrc",{keyPath:"k"})};
$.w1.onsuccess=function(E){var r=i.Ie._D._2=E.target.result,Y=r.transaction(["rsrc"],"readwrite").objectStore("rsrc"),S=Y.get("fs0");
S.onsuccess=function(E){if(E.target.result){var m=i.Ie._D.NV=E.target.result.fset;for(var Q in m){if(!Q.endsWith(".jsx"))bU.cm({url:Q,atL:!0},m[Q],i)}}}}}var h=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],d=R.Dy[al.Cr][al.kl];
for(var t=0;t<h.length;t++){var K=R.c5(h[t]);if(d.indexOf(K)!=-1){var f=R.Dy[al.Cr][al.PG],l=R.c5("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
R.J9(f);f[al.aoO]=l;return}}this.q={aaG:[{b:D.VB,iP:!1,oF:[ai.anf,ai.tr]},{b:D.GC,iP:!1,oF:[ai.tr]},{b:D.M7,iP:!0,oF:[ai.PO],Ha:[D.a7]},{b:D.a7,iP:!0,oF:[ai.PO],Ha:[D.M7]},{b:D.dK,iP:!0,oF:[ai.PO],Ha:[D.yo,D.u_,D.rY]},{b:D.yo,iP:!0,oF:[ai.PO],Ha:[D.dK,D.nD,D.Nk,D.lw,D.Kt,D.gV]},{b:D.MW,iP:!0,oF:[ai.PO]}],yQ:[[{b:new D.NN,lt:dD},{b:new D.QL,lt:iv}],[{b:new D.xS,lt:eP},{b:new D.fw,lt:kp}],[{b:new D.c8,lt:jA},{b:new D.xr,lt:fr},{b:new D.I5,lt:kq}],[{b:new D.in,lt:dl},{b:new D.YU,lt:hO},{b:new D.Xc,lt:cv}],[{b:new D.adu,lt:fG},{b:new D.ayz,lt:ix},{b:new D.Zo,lt:hb},{b:new D.GA,lt:gx}],[{b:new D.Sv,lt:io},{b:new D.LR,lt:ac}],[{b:new D._C,lt:gM},{b:new D.Mi,lt:ds},{b:new D.lR,lt:b1},{b:new D.aq3,lt:iS},{b:new D.yn,lt:c8}],[{b:new D.GG,lt:jT},{b:new D.Ci,lt:g6},{b:new D.xx,lt:jg}],[{b:new D.tx,lt:bZ}],[{b:new D.Cb,lt:iE},{b:new D.LM,lt:bu}],[{b:new D.pK,lt:jj},{b:new D.Wc,lt:iW}],[{b:new D.jG,lt:iO},{b:new D.mK,lt:f_},{b:new D.xI,lt:bB}],[{b:new D.lE,lt:bo},{b:new D.bE,lt:c3},{b:new D.YO,lt:iA}],[{b:new D.Qz,lt:hU},{b:new D.aa4,lt:hU}],[{b:new D.Rv(0),lt:gs},{b:new D.Hd,lt:b2},{b:new D.Rv(1),lt:gs}],[{b:new D.LJ,lt:jW},{b:new D.Un,lt:bd}],[{b:new D.Rect,lt:hK},{b:new D.lQ,lt:cS},{b:new D.j9,lt:cP},{b:new D.HR,lt:bY},{b:new D.Xz,lt:jk}],[{b:new D.KQ,lt:bD},{b:new D.hv,lt:gD}],[{b:new D.qq,lt:dw}]],G$:[],keys:[ai.mX,ai.HB,ai.GE,ai.Ar,ai.ui,ai.pA,ai.Bm,ai.Ps,ai.Su,ai.E,ai.RB,null,ai.I2,ai.A0,ai.k0,ai.c,ai.LX,ai.Ec,ai.y4],Xt:[{b:new D.ab0,lt:iz},{b:new D.aiu,lt:fP},{b:new D.ax$,lt:fW},{b:new D.Sv(!0),lt:io},{b:new D.$g,lt:aT}],fy:[{b:new D.Q4},{b:new D.History},{b:new D.Re},{b:new D.Jq},{b:new D.L1},{b:new D._h}],map:{},cv:null,sB:null,pZ:null};
for(var t=0;t<this.q.yQ.length;t++){var y=this.q.yQ[t];if(y=="---")continue;var a=this.q.keys[t];for(var v=0;
v<y.length;v++){this.q.map[y[v].b.id]=y[v];y[v].l$=t;y[v].agb=v;var c=e_.get(y[v].b.name);U+="<li>"+y[v].b.id+": "+c+"</li>";
u+="\t"+JSON.stringify(y[v].b.name)+", "+(a?"\""+a.Xd+"\"":"null")+", "+y[v].b.id+", // "+c+"\n"}this.q.G$[t]=0}for(var t=0;
t<this.q.Xt.length;t++)this.q.map[this.q.Xt[t].b.id]=this.q.Xt[t];for(var t=0;t<this.q.fy.length;t++)this.q.map[this.q.fy[t].b.id]=this.q.fy[t];
this.Ie={aeW:!1,Kw:null,Ub:0,qX:{ut:[],pd:[],list:[],vL:null},tQ:[],acw:[],KH:[],qb:[],uD:[],c$:[],a3o:[],asW:[],uD:[],DV:[fC.U9()],bQ:[],bK:[],aA:null,K1:0,wk:{$M:1,DP:JSON.parse(JSON.stringify(et.FX[0]))},HM:JSON.parse(JSON.stringify(et._T.default)),atZ:[null].concat(et.FX),aiq:[null].concat(et.FX),SB:new jl(function(E){var r=new eU(x.E.k,!0);
r.data={d:x.c.gu,J0:{url:"rsrc/fonts/"+E}};this.$(r)}.bind(this)),ta:{A8:[],TL:null,OU:null},font:null,el:[],YF:[],a2C:{},Mz:16711680,n9:0,hT:!1,T2:!0,ZZ:{C9:!0,eS:!1,AQ:!0,w3:!0,QX:!0,ky:!0,hy:20,xO:0,ie:0,CP:0},CS:!0,Yj:[!0,!0,!1,!0,!0],ek:[0,1,2,3,5,6,7,9,10,16,17,100],TZ:1,r7:!0,sS:{},wd:!0,asw:!1,compact:!1,Ls:1,Jf:!0,_s:null,_D:{aqd:!1,a5y:!1,NV:{},_2:null},awv:0,a3i:null,c_:null,axu:null,qm:null};
this.ali={gZ:new bN,Eo:new cq};this.Ie.ta=jP.ato();this.cg=new d8;this.KF=new j1;this.yU=new cN(this.q,!0);
this.uW=new hk;this.dQ=new an(this);this.Op=R.S("div");this.qp=!1;this.uR=this.a0e.bind(this);R.FK(this.dQ.m,"mainblock");
this.jP.parent=this.cg.parent=this.KF.parent=this.yU.parent=this.uW.parent=this.dQ.parent=this;this.dQ.h(x.E.r,this.kv,this);
this.dQ.h(x.E._y,this.ajI,this);this.dQ.h("shuffleItems",this.aqg,this);this.dQ.h(x.E.adi,this.ai5,this);
this.h("mouse",this.agl,this);this.h(x.E.s,this.d6,this);this.h(x.E.jm,this.ay1,this);document.body.addEventListener("keydown",this.rK.bind(this),!1);
window.addEventListener("keyup",this.p1.bind(this),!1);window.addEventListener("paste",this.a2c.bind(this),!1);
window.addEventListener("copy",this.anz.bind(this),!1);window.addEventListener("wheel",function(E){if(E.ctrlKey)E.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(E){if(window.innerWidth>400)E.preventDefault();
this.Ie._s=E}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(E){if(E.a7n){console.log("Service worker installing")}else if(E.a6Y){console.log("Service worker installed")}else if(E.active){console.log("Service worker active")}}).catch(function(E){console.log("Registration failed with "+E)})}this.Eh=0;
this.B_=[];this.iV=new bU(gz.cm);this.iV.parent=this;var p=this.IM,C=this.Rc=R.S("div");C.appendChild(this.cg.m);
C.appendChild(this.KF.m);this.jP.axM(C);var T=this.aml=R.S("div","flexrow");p.appendChild(T);T.appendChild(this.yU.m);
T.appendChild(this.dQ.m);T.appendChild(this.uW.m);this.iV.NI({url:"rsrc/basic/basic.zip"});this.p5(D.MW);
jF.mR(this.adn.bind(this))}e2.prototype=new bx(!0);e2.prototype.dh=function(i){var $=new eU(x.E.k);$.data={d:x.c.pQ,J0:i?i:"done"};
this.$($)};e2.prototype.adn=function(){R.Dy[al.JO](this.adF.bind(this),Math.pow(Math.PI,8)+R.Dy[al.aqj][al.ahx]()*1e4);
var i=jF.CI();if(i!=null&&i.globals!=null)this.PZ(i.globals);else{this.adJ=!0;var $=navigator.languages;
if($&&$.length!=0){var h=$[0];e_.uT(h,this.uR)}}if(!this.$W()){var d=R.av4();if(d==0)this.asw=!0;if(d==2)this.Ie.wd=!1;
if(d!=1&&Math.random()<.002)R.a1s()}if(!i0.o0()||!this.Ie.wd){this.auU();this.OJ()}else{var K=R.NC(R.Dy[al.ju]);
K[al.K3](al.TN,this.ahp.bind(this));K[al.$T](R.yb("61="),R.yb("_MYOqDLGJa;A:6"));K[al.AS]()}this.HA=!0;
this.dh()};e2.prototype.ahp=function(i){var $=JSON.parse(i.target[al.aF]),h=R.Dy[al.kU][al.a2l]()/1e3,d=R.Dy[al.Cr][al.kl],K=!1;
for(var f in $)if(f.indexOf(".")!=-1&&d.indexOf(f)!=-1&&parseInt($[f])>h)K=!0;if(K)this.Ie.wd=!1;this.auU();
this.OJ()};e2.prototype.OJ=function(i){this.Em=!0;if(!this.Ie.Jf)this.dQ.Jf=null;else if(this.B_.length==0)this.dQ.atP();
this.IZ(dC.mW);this.f();this.O9();this.uW.Ra(this.l3(),this.B_,this.Ie)};e2.prototype.PZ=function(i){var $=this.Ie;
if(i.fcolor!=null)$.Mz=i.fcolor;if(i.bcolor!=null)$.n9=i.bcolor;if(i.rulers!=null)$.hT=i.rulers;if(i.extras!=null)$.T2=i.extras;
if(i.favFam!=null)$.el=i.favFam;if(i.rsrc!=null)$.YF=i.rsrc;if(i.font!=null)$.ta.A8[0].Name=i.font;if(i.panels!=null)$.ek=i.panels;
if(i.as!=null)$.Ls=i.as;if(i.eparams){var h=i.eparams,d=$.ZZ;if(h.guides!=null)d.C9=h.guides;if(h.grid!=null)d.eS=h.grid;
if(h.gsize!=null)d.hy=h.gsize;if(h.gunits!=null)d.xO=h.gunits;if(h.gtype!=null)d.ie=h.gtype;if(h.runits!=null)d.CP=h.runits;
if(h.sels!=null)d.AQ=h.sels;if(h.paths!=null)d.w3=h.paths;if(h.pgrid!=null)d.QX=h.pgrid;if(h.slices!=null)d.ky=h.slices}if(i.lang!=null)e_.uT(i.lang,this.uR);
if(i.theme!=null)$.TZ=i.theme;if(i.topt||$.UB){var K=i.topt?i.topt:{},f=$.UB?$.UB:{};for(var l in this.q.map){if(l>=103)continue;
var u="t"+l;if(K[u]||f[u])this.q.map[l].b.W7(K[u],f[u],this)}}};e2.prototype.auU=function(){if(this.Ie.aeW)return;
this.Ie.aeW=!0;var i=null,$=window.location.href,h=$.indexOf("="),d=$.indexOf("#");if(h!=-1)i=$.substring($.indexOf("?")+1,h);
if(d!=-1&&d!=$.length-1){i="p";h=d}if(d!=-1&&$[d+1]=="i"){this.iV.eB($.slice(d+2))}else if(d!=-1&&$[d+1]=="t"){this.iV.eB($.slice(d+2).split("").reverse().join(""),!0)}else if(i=="p"||i=="state"){var K=$.substring(h+1,$.length);
K=JSON.parse(decodeURI(K));if(i=="p"){if(K.script=="alert(73)")this.Ie.wd=!1;if(K.script)kd.a8B(this);
if(K.server)this.kw=K.server;if(K.resources)for(var t=0;t<K.resources.length;t++)this.iV.NI({url:K.resources[t]});
if(K.files)for(var t=0;t<K.files.length;t++)this.iV.NI({url:K.files[t],D2:{tB:K.server,aph:K.script}});
var f=K.environment;if(f==null)f={};if(f.plugins!=null)this.uW.adk(f.plugins);if(f.localsave!=null)this.Ie.r7=f.localsave;
if(f.customIO!=null)this.Ie.sS=f.customIO;if(f.vmode!=null){var l=f.vmode;if(l==1)this.Ie.compact=!0;
if(l==2)this.xB(1)}if(f.intro!=null)this.Ie.Jf=f.intro;if(f.menus!=null)this.Ie.adX=f.menus;if(f.tmnu!=null)this.Ie.UB=f.tmnu;
if(f.panels!=null)this.Ie.ek=f.panels;if(f.showtools!=null){var u=f.showtools,U=u.indexOf(this.Ie.Kw);
this.Ie.Ny=u;if(U==-1)this.p5(u[0])}if(f.phrases!=null)e_.a5U(f.phrases);if(f.autosave!=null){this.Ie.Ls=0;
window.setInterval(function(){var v=new eU(x.E.k);v.data={d:x.c.ms};this.$(v)}.bind(this),f.autosave*1e3)}if(f.icons!=null){for(var y in f.icons)if(f.icons[y].indexOf("\"")==-1){if((y==al.a87||y==al.atF)&&this.Ie.wd)continue;
PIMG[y]=f.icons[y];PIMG["__"+y]=!0}}this.PZ(f);if(K.files==null&&K.script){e5.R2(K.script,this);this.dh()}}else if(i=="state"){var a=this.iV;
if(K.action=="create"){var v=new eU(x.E.k);v.data={d:x.c.ZD,Kh:"newproject",aaR:K.folderId};this.$(v)}if(K.action=="open"){for(var t=0;
t<K.ids.length;t++)fk.zR(function(){var p="https://www.googleapis.com/drive/v3/files/"+this.alb,C=new XMLHttpRequest;
C.open("GET",p);C.setRequestHeader("Authorization",fk.GY());C.send();C.onload=function(T){var E=JSON.parse(T.target.response);
a.NI({url:p+"?alt=media",name:E.name,PF:{file:E,LT:""},br:{Authorization:fk.GY()}})}}.bind({alb:K.ids[t]}));
alert("Loading files from Google Drive ...")}}}else{var c=window.launchQueue;if(c){var a=this.iV;c.setConsumer(function(p){var C=p.files;
console.log(C);for(var t=0;t<C.length;t++){var T=C[t];T.getFile().then(function(E){a.Uj([E],null,null,null,[T])})}})}}};
e2.prototype.f=function(){var i=document.getElementById("cap");if(i){var $=!1,h=i.getElementsByTagName("h1")[0],f=0,u=0,U=0;
h.textContent=$?"Photopea":e_.get([0,17,0]);var d=i.getElementsByTagName("p"),K=R.vB(e_.get([0,17,1])),l=["PSD","XCF","Sketch","XD","CDR"];
for(var t=0;t<l.length;t++)K=K.replace(l[t],"<b>"+l[t]+"</b>");if(!$)K+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
d[0].innerHTML=K;K=e_.get([0,17,2])+" "+e_.get([0,17,3]);for(var t=0;t<K.length;t++){var y=K[t];if(y=="<")u++;
if(y==">")U++}if(!$&&u*U==9){var a=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var t=0;t<3;t++){var v=K.indexOf("<",f),c=K.indexOf(">",f),p=K.slice(0,v)+"<a href=\""+a[t]+"\" target=\"_blank\">"+K.slice(v+1,c)+"</a>";
f=p.length;K=p+K.slice(c+1)}d[1].innerHTML=K}else d[1].innerHTML=e_.get([0,17,2])}var C=document.getElementById("sponsors");
if(C)C.textContent=e_.get([0,17,4]);this.jP.f();this.cg.f();this.uW.f();this.yU.f();this.xc.f();this.dQ.f();
for(var T in this.q.map)if(this.q.map[T].BA)this.q.map[T].BA.f()};e2.prototype.$W=function(){return 4<R.Dy[al.O8][al.GL][al.a5k](al.yb("'$!|"))};
e2.prototype.JQ=function(i,$){i=Math.floor(i);$=Math.floor($);var h=R.yb("WUMK&AM"),d=al.kD,K=R.Dy[al.Cr],f=Math.max(i,window.screen.width),l=Math.max($,window.screen.height),v=0;
if(this.WD==null)this.WD=Math.min(f,l)<500||f<750?0:f<1600?1:2;var u=this.WD,U=!this.Em||this.$W()||!this.Ie.wd||jF.V9()||u==0;
if(!U&&i0.o0()){if(this.a77==null)this.a77=Math.random()<.5;U=this.a77}if(U){if(u!=0&&R.Dy[h]&&this.Em)R.Dy[h]()}else{if(u==0)$-=60;
else i-=u==1?180:320}bx.prototype.JQ.call(this,i,$);if(U&&this.qp){this.m[al.yX](this.Op);R.J9(this.Op);
this.qp=!1}if(!U&&!this.qp){var y=function(C){if(Math.random()<.002){jF.event(i0.qZ()?"gota_0":"gota_1")}this.a8T(i,$);
var T=u==0?K[al.PG]:this.m;T.appendChild(this.Op);this.Op[al.Xj](d,R.yb("_MMJLNDfKCAg")+(u==0?10:10)+R.yb("_d$ebOS?I:==Ba-+# }$M"));
this.Op[d][R.yb("_MMJLND&<:E")]=(u==0?0:19)+R.yb("_d");this.Op[d][R.yb("i5WJHX")]=u==0?0:1}.bind(this);
function a(){i0.ahN(y)}setTimeout(a,2300);this.qp=!0}if(R.bT(this.cg.m))v+=31;if(R.bT(this.KF.m))v+=32;
this.jP.awf=this.Ie.wd&&this.Em;this.jP.JQ(i,v);var c=$-v,p=R.yb("_d");this.Op[d][al.avX]=(u==0?100>>>1:$-11)+p;
this.Op[d][al.SR]=(u==0?i:6*Math.pow(10,2))+p;if(R.bT(this.yU.m))this.yU.JQ(i,c);this.uW.JQ(i,c);this.dQ.JQ(i-this.yU.Wv()-this.uW.Wv(),c)};
e2.prototype.a8T=function(i,$){var h=function(){var d=new eU(x.E.k);d.data={d:x.c.ZD,Kh:"account"};this.$(d)}.bind(this);
i0.a0L(i,$,this.Op,h,this.WD)};e2.prototype.anz=function(i){console.log("systemCopy")};e2.prototype.a2c=function(i){if(R.R6())return;
console.log("systemPaste");if(!i.clipboardData)return;var $=i.target.tagName.toLowerCase(),h=i.clipboardData.items;
if(h==null)return;var d=this.a3Y.bind(this);for(var t=0;t<h.length;t++){var K=h[t],f=K.getAsFile();if(K.type.indexOf("text")!=-1){K.getAsString(this.asP.bind(this))}if(K.type.indexOf("image")!=-1){if(f.size==this.Ie.awv)return;
this.Ie.awv=f.size;if(f){f.name="image.png";this.iV.Uj([f],d)}}}};e2.prototype.asP=function(i){if(i.startsWith("http")){if(i==this.Ie.ayu)return;
this.Ie.ayu=i;var $=new eU(x.E.k,!0);$.data={d:x.c.gu,J0:{url:i,tW:!0}};this.$($)}};e2.prototype.a3Y=function(i,$){var h={buffer:i,rect:$},d=this.Ie;
if(R.R6()){var K=this.ali,f=K.gZ;if(f.e==$.e&&f.n==$.n){h.rect=f;h.Eo=K.Eo}}else{if(d.c_){var l=new eU(x.E.s,!0);
l.b=D.BL;l.data={d:"h_stepbck"};this.$(l)}}d.c_=h;var l=new eU(x.E.k,!0);l.data={d:x.c.So,amD:!0};this.$(l)};
e2.prototype.auO=function(){if(this.xc.hg()!=null)alert(e_.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
e2.prototype.d6=function(i){var $=this.l3();if($==null){alert(e_.get([15,7,7]));return}var h=i.b==D.GC||i.b==D.VB;
if(this.xc.uq()&&i.Ea!=!0&&!h){this.auO();return}var d=this.q,K=this.Ie.Kw,f=i.b;if(f==D.z2&&K==D.ry)f=D.ry;
if(K!=f&&d.map[K].b.uq()&&!h&&!(K==D.ri&&f==D.QE)){console.log("disabling",K);d.map[K].b.disable($,this,this.Ie,this.KW)}var l=this.q.map[f].b;
l.d6(i.data,this,$,this.KW,this.Ie)};e2.prototype.ay1=function(i){var $=this.Ie;if(i.data.mh!=!0)jV.aes({Fs:i.data.Fs,B6:i.data.B6},this,$,this.l3());
var h=$.aA,d=$.bK;if(h==null)return;var K={anY:!1,t$:"Step",a1K:0,w:!0,exp:!1,Fs:i.data.Fs};if(h[2]==null)h[2]=d[h[0]].Os[h[1]].Os.length-1;
if(i.data.B6)K.B6=i.data.B6;d[h[0]].Os[h[1]].Os.splice(h[2]+1,0,K);h[2]++;this.IZ(dC.s)};e2.prototype.bc=function(i){if(this.asw){i.data=0;
return i.type}bx.prototype.bc.call(this,i);var $=i.data.d;if($==x.c.Xf)jV.avE(this.l3(),this.Ie.bK,i.data.ZP[0],i.data.ZP[1],this);
if($==x.c.a43){this.aaw(i.data.a78)}if($==x.c.awx){this.f();this.O9()}if($==x.c.Gz)this.O9();if($==x.c.a9c)if(this.Ie._s){this.Ie._s.prompt();
this.Ie._s=null}if($==x.c.xY)this.dQ.$o(i.data.hf,i.data.push);if($==x.c.awn)this.dQ.a0Z();if($==x.c.awj)this.kv(null,i.data.dir);
if($==x.c.IS)this.dQ.Hj(this.B_.indexOf(i.data.g1));if($==x.c.K8){if(i.data.BD&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(i.data.L!=null)this.xB(i.data.L)}if($==x.c.awF){if(i.data.Et)this.KW.ps(i.data.aqh);
else this.KW.Gr(i.data.aqh);this.PS(i.data.Et?"down":"up")}if($==x.c.aq8){var h=i.data.L;this.uW.adk([h]);
this.f()}if($==x.c.c7){var d=this.l3(),K=d.Fy().slice(0),f=d.B[d.g[0]],l=new bN(0,0,d.e,d.n),u=hR.Mf()+"-d71c-11e5-b1ae-a548a96e5f9f",U=new eU(x.E.k,!0);
if(i.data.J0==0){var y={name:d.name.split(".")[0],id:u,Jz:[K,l]};U.data={d:x.c.vj,D2:"add",J0:dC.tY,YF:[y]};
this.$(U)}if(i.data.J0==1){var a=k.Q(l.O()*4);k.MK(a,4294967295);k.l.NU("norm",K,l,a,l,l,1);var v=k.Q(l.O());
k.xw(a,v);k.Sp(v);var c=k.WG(v,l);if(c.NT())c=l;var p=k.Q(c.O());k.Zc(v,l,p,c);var C={gZ:c,id:u,Jz:[p,c]},T=bk.rw(u),E=T.Brsh.v;
E.Dmtr.v.val=c.e;E.Spcn.v.val=10;U.data={d:x.c.vj,D2:"add",J0:dC.nj,YF:{list:[{t:"Objc",v:T}],pd:[C],ut:[]}};
this.$(U);U.data={d:x.c.vj,J0:dC.m_,U$:T};this.$(U)}if(i.data.J0==2){var r=d.iW(),Y=r[0][r[1][0]],m={gG:f.getName(),lp:u,i:Y.add.vmsk.clone().i},Q=k.A.eu(m.i),z=new ej(Q.e,0,0,Q.n,Q.x,Q.y);
z.Sp();k.A.mu(m.i,z);Q.x=Q.y=0;m.yg=Q.clone();U.data={d:x.c.vj,D2:"add",J0:dC.vy,YF:[m]};this.$(U)}}if($==x.c.gu)this.iV.NI(i.data.J0);
if($==x.c.QK){var n=i.data.ay0,Z=i.data.uo;if(n!=!0&&Z!=!0&&this.nZ("open"))return;var P=this.dQ.e1();
if(Z)P=-1-P;this.iV.aaL(n||Z?P:null,i.data.ag5)}if($==x.c.nx){var V=i.data.axP,I=i.data.NX,q=this._u(V);
if(I){var X=V==dC.nj,B=[];for(var t=0;t<I.length;t++)B.push((X?q.list:q)[I[t]]);q=X?{ut:q.ut,pd:q.pd,list:B}:B}if(V==dC.G0){var l=new hR;
for(var t=0;t<q.length;t++){var e=q[t].z3.Lefx;if(e)eN.atJ(e,l,this.Ie.c$)}q={n$:l.add.Patt?l.add.Patt:[],B7:q}}if(V==dC.PD){var F=this.Ie.qX;
q={pd:[],ut:[],list:q};console.log(q)}if(V==dC.s)q=q[i.data.cK];var s=dC.Gi[V],K=s[2].t6(q);bU.save(K,s[1]+"."+s[0])}if($==x.c.WV){var J=this.Ie._D,W=i.data.a3Q;
if(J._2&&!J.aqd&&!W){J.a5y=window.confirm("Load \""+i.data.dx+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
J.aqd=!0}if((J.a5y||W)&&J._2){J.NV[i.data.dx]=i.data.X8;var U=new eU(x.E.k);U.data={d:x.c.vj,J0:dC.cs};
this.$(U)}}if($==x.c.apl){var d=this.l3(),j="<!DOCTYPE HTML>";if(d==null)return;var L=em.xJ(d.Fy().buffer,d.e,d.n),A=window.open();
j+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";j+="<body><img src=\""+L+"\" /></body>";
j+="</html>";A.document.write(j)}if($==x.c.Eu){if(this.nZ("publishOnline"))return;var G=i.data.BC!="psd",d=this.l3();
if(d==null)return;if(!G&&d.jW)return;var O="Your picture will be published at "+(G?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!G)O+=" We guarantee 6 months of storage (or more, if your file is opened often).";var o=i.data.VS?!0:confirm(O);
if(o){if(!G){var U=new eU(x.E.s,!0);U.b=D.$S;U.data={d:H.UQ};this.$(U);var N=new bN(0,0,d.e,d.n);for(var t=0;
t<d.B.length;t++){var f=d.B[t];if(f.rect.NT()||f.BT()||f.MQ()||f.Wx()||f.A$()||f.add.TySh||f.add.vmsk||f.add.SoLd)continue;
var w=N.Js(f.rect);if(!w.Rl(f.rect)&&!w.NT()){var kv=k.Q(w.O()*4);k.mC(f.buffer,f.rect,kv,w);f.buffer=kv;
f.rect=w}if(!k.LN(f.buffer,f.rect.e,f.rect.n))continue;var g=f.ji(),b=f.opacity,jU=f.R$,_=f.sD;f.DJ(!0);
f.opacity=255;f.R$="norm";d.g=[t];U.data={d:H.UO,BC:"jpg"};this.$(U);var cY=d.B[t];f.DJ(g);cY.DJ(g);
f.opacity=cY.opacity=b;f.R$=cY.R$=jU,f.sD=cY.sD=_}}if(d.er){d.kX()}var j3=d.e,aS=d.n,bL=i.data.aoh,cQ;
if(bL)while(Math.max(j3,aS)>bL){j3=j3>>>1;aS=aS>>>1}console.log(j3,aS);if(i.data.BC=="psd")cQ=em.kW(d,"psd",0,0,[!0,!0,!0]);
else if(i.data.BC=="png")cQ=em.kW(d,"png",j3,aS);else{var cK=em.kW(d,"png",j3,aS),el=em.kW(d,"jpg",j3,aS);
cQ=cK.byteLength<el.byteLength?cK:el}if(G)bU.ag_(cQ,i.data.VS);else this.iV.aj9(cQ,d.name,i.data.VS,"psdshared")}}if($==x.c.ms){var d=this.l3(),gF=!1;
if(d==null)return;if(d.er){d.kX()}if(i.data.Mt){if(!this.bP(d,i.data.Mt))return;var K=gz.a6l(d,i.data.Mt,this.Ie);
this.dh(K);gF=!0}else if(d.$j){if(this.B_.indexOf(d.$j.ve)!=-1){var K=new Uint8Array(em.Q_("PSD").Pa(d,null,null,[!0,!1])),U=new eU(x.E.s,!0);
U.data={d:H.lk,x3:d.$j.ve,data:K,id:d.$j.a1n,Wo:d.name};U.b=D.$S;this.$(U);alert("Smart Object updated")}gF=!0}else if(this.nZ("save")){gF=!0}else if(d.PF){gz.al1(d);
gF=!0}else if(d.uP){gz.anS(d);gF=!0}else if(d.D2&&d.D2.tB){if(!this.bP(d,d.D2.tB.formats))return;this.iV.aa6(d,this.Ie,gz.acI);
gF=!0}else if(d.en&&"psd jpg png gif webp svg bmp".split(" ").indexOf(d.oE)!=-1){this.aps();return}if(gF){d.TP=d.oD;
d.gl=Date.now();d.nU=!0}else{var U=new eU(x.E.k,!0);U.data={d:x.c.Ms};this.$(U)}}if($==x.c.Ms){if(!this.Ie.r7){alert("function is disabled");
return}if(this.nZ("saveAsPSD"))return;var d=this.l3();if(d==null)return;if(!this.bP(d))return;var U=new eU(x.E.s,!0);
U.data={d:H.UQ};U.b=D.$S;this.$(U);if(d.B.length>8e3&&!confirm("Your document has "+d.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var fj={Pr:[]};d.root.a0F([],fj);var i3=fj.Pr;if(i3.length>11&&!confirm("One layer is nested "+(i3.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+i3.join(" \uD83E\uDC1A ")+"."))return;
var eT=window.showSaveFilePicker;if(window.parent!=window)eT=null;if(eT&&!i.data.a1y){var eV={suggestedName:d.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
eT(eV).then(function(i){d.en=i;d.name=i.name;d.u6=!0;d.oE="psd";this.aps()}.bind(this));return}var hr=window.gtag;
if(d.s7()&&hr)hr("event",d.oE+":"+R.c5(jF.V9()?"\"'|('61":"w'| "),{event_category:"Formats"});if(d.er){d.kX()}if(i.data.a1y){var K=d.oE=="psd"?em.Q_("PSD").Pa(d):gz.xF(d,d.oE,this.Ie);
this.aaO(K,d,this)}else{var K=em.Q_("PSD").Pa(d);bU.save(K,d.name);d.TP=d.oD;d.gl=Date.now();d.nU=!0}}if($==x.c.la)window.open(i.data.link,"_blank");
if($==x.c.a8p){if(this.xc.uq()){this.auO();return}var d=this.l3(),f=d.B[d.g[0]],h=d.rV(f.add.SoLd.Idnt.v);
for(var t=0;t<this.B_.length;t++){var it=this.B_[t].$j;if(it!=null&&it.a1n==h.$0&&it.ve==d){this.dQ._r(t);
return}}bU.cm({name:h.Wo,$j:{a1n:f.add.SoLd.Idnt.v,ve:d}},h.raw.buffer,this)}if($==x.c.a7f){var d=this.l3(),f=d.B[d.g[0]],h=d.rV(f.add.SoLd.Idnt.v);
bU.save(h.raw.buffer,h.Wo)}if($==x.c.aa9){console.log(i.data);bU.cm({name:i.data.uP[1].split("/").pop(),uP:i.data.uP},i.data.tp,this)}if($==x.c.ata){var d=this.l3();
d.uP=i.data.uP;d.name=d.uP[1].split("/").pop();var U=new eU(x.E.k);U.data={d:x.c.ms};this.$(U)}if($==x.c.sL){this.avO()}if($==x.c.bk){this.awa(i.data.fz,i.data.oG,i.data.ld)}if($==x.c.So){this.aiw(i.data.amD,i.data.wY,i.data.ld)}if($==x.c.aks){var f8=i.data.L;
if(f8.startsWith("vcb;")){var i$=JSON.parse(f8.slice(4));i$[0]=fC.LC(i$[0]);var U=new eU(x.E.s,!0);U.b=D.yo;
U.data={d:"append",Q8:"Paste Paths",aeL:i$};this.$(U)}else if(f8.startsWith("lrs;")){var gS=f8.split(";"),hT=this.B_[parseInt(gS[1])];
if(hT==null)return;var gL=this.l3(),iu=hT.g;hT.g=JSON.parse(gS[2]);var dB=hT.gM(null,hT!=gL),U=new eU(x.E.s,!0);
U.data={d:H.Ux,B:dB,ve:hT,Kl:gL};U.b=D.$S;this.$(U);hT.g=iu}else if(f8.startsWith("<!--")||f8.startsWith("<svg")){var jt=M.Mr(f8),ka=em.Q_("svg"),l=new hR("image.psd");
ka.u2(jt.buffer,l);if(this.B_.length!=0){var eQ=l.B;if(eQ.length==3&&eQ[0].getName()=="</Layer group>"&&eQ[2].BT())eQ=[eQ[1]];
var U=new eU(x.E.s,!0);U.b=D.$S;U.data={d:H.Ux,B:eQ,ve:l,Kl:this.l3()};this.$(U)}else this.awc(l)}}if($==x.c.kf){e5.R2(i.data.Pl,this)}if($==x.c.pQ){if(window.parent!=window)window.parent.postMessage(i.data.J0,"*");
this.uW.v7(i.data.J0)}if($==x.c.Q6){var dv=parseFloat(i.data.Kh);if(this.Ie.ek.indexOf(dv)==-1){var U=new eU(x.E.k,!0);
U.data={d:x.c.vj,J0:dC.QS,L:dv,D2:"add"};this.$(U)}this.uW.apS(i.data.Kh)}if($==x.c.cP){this.m2.auM(this.l3(),this.Ie)}if($==x.c.ZD){var cT="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var t=0;t<cT.length;t+=2)if(i.data.Kh==cT[t]&&this.nZ(cT[t+1]))return;if(!this.Ie.r7&&i.data.window=="saveforweb"){alert("function is disabled");
return}this.xc.a0E(i.data.Kh,this.l3(),i.data,this.B_,this.KW)}if($==x.c.Sx)bU.save(i.data.data,i.data.name);
if($==x.c.T0){if(!this.xc.uq()||i.Ea)this.awc(i.data.x3)}if($==x.c.PY){this.dQ._r(i.data.target);var U=new eU(x.E.s,!0);
U.data={d:H.ave,x3:i.data.x3,T4:i.data.T4,hn:i.data.hn};U.b=D.$S;this.$(U);this.p5(D.Ey)}if($==x.c.axq){i8.ph=!i8.ph;
if(this.B_.length>0)this.l3().U()}if($==x.c.a57){var eY=jF.CI();if(eY!=null&&eY.globals!=null)this.PZ(eY.globals);
this.OJ()}if($==x.c.tF){this.iV.Uj(i.data.data,null,i.data.LL,i.data.$k,i.data.anM)}if($==x.c.ro){var gl=this.gC();
if(!this.xc.hg()!=null)this.p5(i.data.b,i.data.Py);var dY=this.gC();if(dY!=gl&&i.data.a7h)dY.gE(this.l3(),this,this.Ie,this.KW,this.pY)}if($==x.c.K2){if(this.q.cv)this.p5(this.q.cv)}if($==x.c.EA){var gE=this.q.map[i.data.b].b,d=this.l3();
gE.oi(i.data,this,d,this.KW,this.Ie);if(d)d.$x=!0;this.a8w()}if($==x.c.zj){var cs=this.q.map[i.data.b];
this.a2k(cs);cs.BA.TY(i.data)}if($==x.c.vj){var d=this.l3(),au=i.data.J0,b8=i.data.YF,jw=this.Ie;if(i.data.D2=="set"){var dY=D.am8(b8);
if(jw.Kw!=dY)this.p5(dY);this.q.map[dY].BA.a4f(b8,jw)}if(i.data.D2=="add"){var s=dC.Gi[au];if(au==dC.QS){jw.ek.push(i.data.L);
jw.ek.sort(function(ey,dr){return ey-dr})}else if(s==null){if(b8)jw.SB.apy(b8,i.data.aii);if(d)d.nU=!0}else{var ek=this._u(au);
if(au==dC.nj){ek.pd=ek.pd.concat(b8.pd);ek.ut=ek.ut.concat(b8.ut);ek=ek.list;b8=b8.list}if(au==dC.G0&&d){for(var t=0;
t<b8.length;t++){var e=b8[t].z3.Lefx;if(e)eN.afY(e,d,jw.c$)}}if(au==dC.PD&&b8==null){var l=this.q.map[jw.Kw].BA.a5x();
if(l==null)return;b8=[l]}for(var t=0;t<b8.length;t++)ek.push(b8[t]);if(au==dC.vy){var cj={};for(var t=0;
t<ek.length;t++){var hp=ek[t].gG;while(cj[hp]!=null)hp=ek[t].gG=hp+"X";cj[hp]=!0}}if(i.data.aii!=!0)if(ek.length!=b8.length||au==dC.d_||au==dC.G0||au==dC.OY||au==dC.s)alert(e_.get(s[3])+" "+e_.get([23,1])+".")}}if(i.data.D2=="del"){if(au==dC.QS){jw.ek.splice(jw.ek.indexOf(i.data.L),1)}else{var s=dC.Gi[au],I=i.data.NX,ek=this._u(au);
if(au==dC.nj)ek=ek.list;for(var t=0;t<I.length;t++)ek[I[t]]=null;for(var t=0;t<ek.length;t++)if(ek[t]==null){ek.splice(t,1);
t--}alert(e_.get(s[3])+" deleted.")}}if(i.data.D2=="rnm"){var s=dC.Gi[au],ek=this._u(au);if(au==dC.nj)ek=ek.list;
if(ek[i.data.NX[0]]==null)return;s[2].hO(ek[i.data.NX[0]],i.data.L)}if(au==dC.ae){var dW=i.data.L;jw.wk=dW;
jw.atZ[dW.$M]=dW.DP}if(au==dC.YK){var dW=i.data.L;jw.HM=JSON.parse(JSON.stringify(dW));var h4=dW.strokeEnabled.v,er=dW.strokeStyleContent.v,hG=h4?{$M:1+et._T.u$.indexOf(er.classID),DP:er}:{$M:0};
jw.aiq[hG.$M]=hG.DP}if(au==dC.nR){jw.K1=i.data.L}if(au==dC.v_){jw.ta=i.data.ta}if(au==dC.m_){var kv=JSON.parse(JSON.stringify(i.data.U$)),i_=kv.useBrushSize;
if(i_&&i_.v){kv.Brsh.v.Dmtr.v.val=jw.qX.vL.Brsh.v.Dmtr.v.val;i_.v=!1}jw.qX.vL=kv}if(au==dC.V8){jw.el=i.data.gj}if(au==dC.Lt){jw.YF=i.data.gj}if(au==dC.xq){var aK,bG="Clrs";
if(i.data.vC<2){var dx=i.data.L,aH=i.data.vC==0,cU=k.M.Aw({o:dx>>>16,P:dx>>>8&255,Z:dx&255});if(aH)jw.Mz=dx;
else jw.n9=dx;bG=aH?"FrgC":"BckC";aK={Fs:"set",B6:{__name:"Set",classID:"setd",T:{t:"Objc",v:cU}}}}if(i.data.vC==2){var kr=jw.Mz;
jw.Mz=jw.n9;jw.n9=kr;aK={Fs:"exchange",B6:{__name:"Exchange",classID:"Exch"}}}if(i.data.vC==3){jw.Mz=0;
jw.n9=16777215;if(d!=null&&d.g.length!=0&&d.B[d.g[0]].Tu==1){var kr=jw.Mz;jw.Mz=jw.n9;jw.n9=kr}aK={Fs:"reset",B6:{__name:"Reset",classID:"Rset"}}}if(aK){aK.B6.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bG}}]};
var cs=this.gC();cs.DR=this;cs.track(aK)}}if(au==dC.aq){jw.hT=!jw.hT;this.O9()}if(au==dC.MG){jw.T2=!jw.T2;
this.O9()}var cL=jw.ZZ;if(au==dC.p9){cL.AQ=!cL.AQ;this.O9()}if(au==dC.lJ){cL.w3=!cL.w3;this.O9()}if(au==dC.x1){cL.C9=!cL.C9;
this.O9()}if(au==dC.t3){cL.eS=!cL.eS;this.O9()}if(au==dC.ll){cL.QX=!cL.QX;this.O9()}if(au==dC.QC){cL.ky=!cL.ky;
this.O9()}if(au==dC.Nc){jw.ZZ=i.data.gj;this.O9()}if(au==dC.a3j){jw.CS=!jw.CS;this.O9()}if(au==dC.SH){jw.Yj[i.data.Mj]=!jw.Yj[i.data.Mj];
this.O9()}if(au==dC.V4){e_.mg(i.data.lang,this.uR)}if(au==dC.Qp){jw.TZ=i.data.TZ;this.f()}if(au==dC.cs&&jw._D._2){var aj=jw._D._2.transaction(["rsrc"],"readwrite").objectStore("rsrc"),js=aj.put({k:"fs0",fset:jw._D.NV});
js.onerror=function(i){console.log(i);alert("Storing failed. Browser says: "+i.target.error.message,7e3)}}this.IZ(au)}};
e2.prototype.aps=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.TT,nT:"Saving ..."};this.$(i);setTimeout(function(){var i=new eU(x.E.k,!0);
i.data={d:x.c.Ms,a1y:!0};this.$(i)}.bind(this),20)};e2.prototype.aaO=function(i,$){$.en.createWritable().then(function(h){h.write(i);
return h}).then(function(h){return h.close()}).then(function(h){$.TP=$.oD;$.gl=Date.now();$.nU=!0;var d=new eU(x.E.k,!0);
d.data={d:x.c.$P,nT:"Saving ..."};this.$(d)}.bind(this)).catch(function(h){var d=new eU(x.E.k,!0);d.data={d:x.c.$P,nT:"Saving ..."};
this.$(d)}.bind(this))};e2.prototype.aot=function(){var i=this.Ie,$=i.YF,h=i.a2C;for(var t=0;t<$.length;
t++){var d=$[t];if(h[d])continue;h[d]=!0;this.iV.eB(d,!1,!0)}};e2.prototype.a0e=function(){this.f();
this.O9()};e2.prototype.nZ=function(i){var $=this.Ie.sS[i];if($){var h=new eU(x.E.k,!0);h.data={d:x.c.kf,Pl:$};
this.$(h)}return $!=null};e2.prototype.bP=function(i,$){var h=!0,l=15;if($){h=!1;for(var t=0;t<$.length;
t++)if($[t].startsWith(R.yb("__M")))h=!0}var d=i.s7()||i.$j&&i.$j.ve.s7();if(this.$W())d=!1;var K=new R.Dy[al.kU],f=(K[R.c5("xy,b-66:")]()&1)*60+K[R.yb("VQ]3LNRN<G")]();
if(d&&!jF.V9()&&f>l&&h){var u=R.Dy[R.c5("}$z{2*35")][R.c5("y'|!")],U=R.yb("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
U+="\n\n"+R.yb("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-f+120)+R.yb("nYRTXTBMd");
if(u.indexOf(R.c5("\"|'/-1)(W0?@"))==-1)U=e_.get([0,11+6,3+2]);R.Dy._cwY(U);return!1}return!0};e2.prototype._u=function(i){var $=this.Ie,h=[dC.nj,dC.Sm,dC.Fr,dC.OY,dC.tY,dC.vy,dC.G0,dC.d_,dC.s,dC.PD,dC.Cs],d=[$.qX,$.KH,$.qb,$.uD,$.c$,$.DV,$.bQ,$.a3o,$.bK,$.tQ,$.acw];
return d[h.indexOf(i)]};e2.prototype.avO=function(){var i=this.awa(),$=this.l3();if($==null||$.g.length==0)return;
var h=$.B[$.g[0]],d=new eU(x.E.s);if(i==1){d.b=D.yo;d.data={d:"remove",Q8:"Cut Paths"}}else{d=new eU(x.E.jm);
d.data={Fs:"delete"}}this.$(d)};e2.prototype.awa=function(i,$,h){if(i==null)i=!1;var d=this.Ie;console.log("doCopy",i,$);
var K=this.l3();if(K==null||K.g.length==0)return;var f=K.B[$==null?K.g[0]:$],l=K.iW(),u=l[0],U=l[1],y=u[U[0]];
if(!i&&y!=null&&y.add.vmsk.g.length!=0){var a=D.cI.e4(y.add.vmsk,y.add.vogk);if(R.R6()){a[0]=fC.a95(a[0]);
var v="vcb;"+JSON.stringify(a);bU.ea(new Blob([v],{type:"text/plain"}))}else d.qm=a;return 1}else if(K.J==null){if(R.R6()){var v="lrs;"+this.B_.indexOf(K)+";"+JSON.stringify(K.g);
bU.ea(new Blob([v],{type:"text/plain"}))}}else{var c,p;if(i){var C=new bN(0,0,K.e,K.n);p=C.Js(K.J.rect);
c=k.Q(p.O()*4);k.mC(K.Fy(),C,c,p);k.cj(K.J.channel,K.J.rect,c,p)}else if(K.o7.length!=0){p=K.J.rect.clone();
c=k.Q(p.O()*4);var T=K.kY[K.o7[0]],E=T.os(p);k.ai(E,c);k.k1(K.J.channel,c,3)}else{var r=f.nV(K,K.J);
if(r==null){alert("Copied area is empty");return}c=r.tp;p=r.rect}var Y=K.u.rB,S=Y[0]+Y[1]+Y[2];if(S==1){var m=Y.indexOf(1);
for(var t=0;t<c.length;t+=4)c[t]=c[t+1]=c[t+2]=c[t+m]}var Q=new cq(K.e,K.n);if(R.R6()&&h!=!0){var z=em.Q_("PNG").apT(c.buffer,p.e,p.n);
bU.ea(new Blob([new Uint8Array(z)],{type:"image/png"}));this.ali={gZ:p,Eo:Q}}else d.c_={buffer:c,rect:p,Eo:Q};
d.a3i=p.clone();d.qm=null}};e2.prototype.aiw=function(i,$,h){if($)this.a4A=!0;console.log("doPaste");
var d=this.Ie,K=d.c_,U;if(this.B_.length==0){if(!i&&R.R6()){bU.TB(this,null);return}if(K){var f=em.hL("image.psd",[{data:K.buffer.buffer,kp:K.rect}]),l=new eU(x.E.k);
l.data={d:x.c.T0,x3:f};this.$(l)}return}var f=this.l3(),u=f.B[f.g.length==0?f.B.length-1:f.g[0]];if(d.qm){var y=f.iW(!0),a=y[0],v=y[1];
U=a[v[0]]}var l=new eU(x.E.s,!0);if(d.qm!=null&&U!=null){l.b=D.yo;l.data={d:"append",Q8:"Paste Paths",aeL:d.qm}}else if(!i&&R.R6()&&h!=!0){bU.TB(this,this.a3Y.bind(this));
return}else{if(K==null)return;if(f.EX(!1)&&(f.u.rB.join("")!="111"||f.o7.length!=0||u.Tu>0||u.rect.NT())){l.b=D.nj;
l.data={d:"draw",a3C:!0,Q8:[5,2]}}else{l.b=D.$S;l.data={d:H.Xr,wY:this.a4A};this.a4A=!1}l.data.c_=K}this.$(l)};
e2.prototype.agN=function(){var i=this.Ie.SB;if(i.av6())return;for(var t=0;t<this.B_.length;t++){var $=this.B_[t];
if(!bM.a6P($,i,this))continue;if($.Od)bM.a6y($,i,this);var h=$.add.lnk2;if(h)for(var d=0;d<h.length;
d++){var K=h[d];if(K.Od)D.Q4.j0($,K.$0,K.eZ[1],K.eZ[1],i)}if($.ai0)continue;$.ai0=!0;if($.D2&&$.D2.aph)e5.R2($.D2.aph,this);
this.dh();var f=new eU(x.E.s);f.b=D.QE;f.data={d:"start",I_:"GEfc"};var l=new eU(x.E.k);l.data={d:x.c.Q6,Kh:cA.gp.abF}}};
e2.prototype.IZ=function(i){this.aot();var $=this.Ie,h=$.Kw,l=!1;if(i==dC.m_){if(this.q.map[h].BA)this.q.map[h].BA.aG($,i)}else for(var d in this.q.map)if(this.q.map[d].BA)this.q.map[d].BA.aG($,i);
if(i==dC.oX){if(h!=D.z2)this.q.map[D.z2].b.aG($,i);this.agN()}this.dQ.aG($,i);this.yU.aG($,i);this.xc.aG($,i);
this.gC().aG($,i);this.uW.aG($,i);this.cg.aG($,i);if(i==dC.Qp||i==dC.mW){eS.agw($.TZ);this.update(!0)}var K=$.ta,f=K.TL.Font;
if(i==dC.v_&&f!=null&&K.A8[f].Name!=$.font){$.font=K.A8[f].Name;l=!0}if([dC.QS,dC.V8,dC.Lt,dC.xq,dC.aq,dC.MG,dC.Nc,dC.x1,dC.t3,dC.p9,dC.lJ,dC.ll,dC.QC,dC.V4,dC.Qp].indexOf(i)!=-1||l)this.a8w()};
e2.prototype.a8w=function(){if(!this.HA)return;var i={},$=this.q.map;for(var h in $){var d=$[h].b;if(d.rP&&d.rP()!=null)i["t"+h]=d.rP()}var K=this.Ie,f=K.ZZ,l={fcolor:K.Mz,bcolor:K.n9,rulers:K.hT,extras:K.T2,favFam:K.el,rsrc:K.YF,panels:K.ek,eparams:{guides:f.C9,grid:f.eS,sels:f.AQ,paths:f.w3,pgrid:f.QX,slices:f.ky,gsize:parseFloat(f.hy.toFixed(2)),gunits:f.xO,gtype:f.ie,runits:f.CP},lang:e_.JD(),theme:K.TZ,as:K.Ls,topt:i};
if(K.font!=null)l.font=K.font;var u=jF.CI();if(u==null)u={};u.globals=l;jF.JB(u)};e2.prototype.ns=function(i){var $=this.KW,h=this.pY,d=this.Ie.Kw,K=this.q.map[d].b,f=null,l=!1;
for(var t=0;t<this.q.aaG.length;t++){var u=this.q.aaG[t],U=!0;for(var y=0;y<u.oF.length;y++){var a=u.oF[y];
if(!$.j(a))U=!1}if(U&&(!u.iP||!K.uq())&&(u.Ha==null||u.Ha.indexOf(d)!=-1)){f=u.b;l=u.iP;break}}if((!h.Et||d==D.GK||i)&&this.q.sB!=f&&(f!=d||!l)){var v=this.l3();
if(this.q.sB!=null&&f==null)this.gC().disable(v,this,this.Ie,$,!0);this.q.sB=f;this.gC().enable(v,this,this.Ie,$,f!=null&&f!=d)}};
e2.prototype.u3=function(i){var $=this.Ie.Kw,h=this.l3();if($!=null){this.q.map[$].b.disable(h,this,this.Ie,this.KW)}};
e2.prototype.a2k=function(i){if(i.BA==null){i.BA=new i.lt;i.BA.au0(i.b.id,i.b.lI);i.BA.aG(this.Ie,dC.mW);
i.BA.f()}};e2.prototype.p5=function(i,$){if(i==D.Ey&&this.xc.hg())return;var h=this.l3(),d=this.Ie;if(this.q.map[i].b.aT(h,d)){this.u3();
if(i!=d.Kw)this.q.cv=d.Kw?d.Kw:D.MW;d.Kw=i;this.yU.p5(d.Kw);var K=this.q.map[i];this.q.G$[K.l$]=K.agb;
this.a2k(K);this.KF.a97(K.BA);var f=K.b;f.enable(h,this,this.Ie,this.KW,!1,$);if(h)h.$x=!0;this.O9();
this.jP.adq()}};e2.prototype.gC=function(i){var $=this.q,h=$.pZ,d=$.sB,K=this.Ie.Kw;if(h)K=h;else if(d&&i==null)K=d;
return $.map[K].b};e2.prototype.awc=function(i){var $=this.Ie,h=this.B_.indexOf(i);if(h!=-1){this.dQ._r(h);
return}if(this.kw&&(i.D2==null||i.D2.tB==null)){i.D2={tB:this.kw}}if(i.TF==null){i.TF="local,"+this.asB+","+i.name;
this.asB++}i.gl=Date.now();if(i0.qZ()!=0&&!this.adJ&&R.Dy[R.c5("t$&!'31")].toString().indexOf(R.c5(" u,$4&"))==-1){alert(R.c5("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var t=0;t<i.B.length;t++){var d=i.B[t];if(d.add.SoLd!=null){var K=Date.now()}}var f=i.B.length,l=al._5(),u=Math.PI*(5465<<14)+(R.YN(31)?20:10)*7e7;
if(l>u){var f=i.B.length;i.B=[];return f}if(i8.ph){i8.yD(Math.max(i.e,i.n));for(var t=0;t<i.B.length;
t++){var d=i.B[t];if(d.zp())i8.yD(Math.max(d.rect.e,d.rect.n))}}i.hh();i.Z8();if(i.alP)i.ayp();else i.U();
i.alP=!1;this.B_.push(i);this.dQ.Km(new gn(i));i.$x=!0;i.nU=!0;this.agN();var U=new eU(x.E.s);U.b=D.xT;
U.data={d:"auto",jQ:2}};e2.prototype.l3=function(){return this.B_[this.Eh]};e2.prototype.aef=function(){return this.xc.hg()==null};
e2.prototype.kv=function(i,$){this.u3();var h=this.B_.length;if($!=null)this.dQ._r((this.dQ.e1()+$+h)%h);
this.Eh=this.dQ.e1();var d=this.l3();this.cg.aiR(d,this.Ie);this.uW.Ra(d,this.B_,this.Ie);this.O9();
if(d)d.$x=!0};e2.prototype.ajI=function(i){this.u3();var $=this.B_[i.data.y2];this.B_.splice(i.data.y2,1);
if(this.B_.length==0){this.kv(i);var h=i8.i8(),d=gn.HL.Cq;if(h.parentNode)h.parentNode.removeChild(h);
if(d.parentNode)d.parentNode.removeChild(d)}};e2.prototype.aqg=function(i){var $=[],h=i.data.a8K;for(var t=0;
t<h.length;t++)$[t]=this.B_[h[t]];this.B_=$;this.Eh=this.dQ.e1()};e2.prototype.ai5=function(i){var $=this.dQ,h=$.aqw(),d=this.gC(),K=this.l3();
if(h==$.e1()||!d.a3$())return;this.aaw(h,d)};e2.prototype.aaw=function(i,$){console.log("dup2doc");var h=this.Ie,d=this.dQ,K=this.l3(),f=this.B_[i],l,u=new eU(x.E.s,!0);
u.b=D.$S;if(K.J==null){u.data={d:H.Ux,B:K.gM(null,!0),ve:K,Kl:f};this.$(u)}else l=K.B[K.g[0]].nV(K,K.J);
var U=this.pY,y=h.hT;h.hT=!1;U=K.u._x(U.x,U.y);if($)$.i2(K,this,h,this.KW);d._r(i);if(K.J){u.data={d:H.Xr,c_:{buffer:l.tp,rect:l.rect}};
this.$(u)}U=f.u.cV(U.x,U.y);U.x+=49;U.y+=112;if($)$.gE(f,this,h,this.KW,U);h.hT=y};e2.prototype.agl=function(i){var $=this.l3(),h=this.KW,d=this.Ie,K=i.XX;
if(K)this.pY=K;if(this.UI==null)this.UI=0;if(i.action=="multidown"){this.abV=i.wm.length;this.UI=Date.now()}if(i.action=="up"&&Date.now()-this.UI<100){var f=new eU(x.E.s);
f.b=D.BL;f.data={d:this.abV==2?"h_stepbck":"h_stepfwd"};this.$(f)}if(i.action.startsWith("multi")){var l=new eU(x.E.s,!0);
l.data={d:i.action,wm:i.wm};l.b=D.VB;this.$(l);return}var u=this.q.map[D.MW].b;if((i.action=="down"||i.action=="rdown")&&d.Kw!=D.MW&&this.q.sB!=D.MW&&u.akV($,this,d,h,K)){this.q.pZ=D.MW;
u.enable($,this,d,h,!0)}if(i.action=="idown"){h.ps("Space");this.ns(!0);i.action="down"}var U=this.xc.hg(),y=U!=null&&U.wL()&&this.q.sB==null?U:this.gC();
if(i.action=="scroll"){var a=!h.j(ai.PO)&&i.RS,l=new eU(x.E.s,!0);l.data={d:"scroll",Bb:i.Bb.clone(),XX:K};
l.b=h.j(ai.rf)||a?D.VB:D.GC;this.$(l)}if(U!=null&&y!=U&&this.xc.uq()&&y.id!=D.GC&&y.id!=D.VB)return;
if(i.action=="down")y.gE($,this,d,h,K);if(i.action=="rdown")y.rQ($,this,d,h,K);if(i.action=="move")y.Zm($,this,d,h,K);
if(i.action=="up"||i.action=="iup"||i.action=="cancellast")y.IQ($,this,d,h,K,i.action=="cancellast");
if(i.action=="rup")y.wI($,this,d,h,K);if(i.action=="iup"){h.Gr("Space");this.ns(!0)}if(i.action=="cancellast"){if($&&$.history.length!=0&&Date.now()-$.history[$.history.length-1].a4V<200){var f=new eU(x.E.s);
f.b=D.BL;f.data={d:"h_stepbck"};this.$(f)}}var v=this.uW;if(i.action=="down")v.gE($,this,d,h,K);if(i.action=="move")v.Zm($,this,d,h,K);
if(i.action=="up")v.IQ($,this,d,h,K);if(i.action=="down"||i.action=="up"){this.ns()}if(i.action=="down"||i.action=="up"||i.action=="ctx"){$.$x=!0}if((i.action=="up"||i.action=="rup")&&this.q.pZ){this.q.pZ=null;
u.disable($,this,d,h)}};e2.prototype.jj=function(i){var $=this.l3(),h=this.pY;if($&&this.gC().QH(h,this.KW)){var d=$.u,K=d.Os.e,f=d.Os.n,l=0,u=0,U=16;
if(h.x<U)l=U-h.x;if(h.x>K-U)l=h.x-(K-U);if(h.y<U)u=U-h.y;if(h.y>f-U)u=h.y-(f-U);var y=this.KW.j(ai.EW)?8:1;
if((l!=0||u!=0)&&($.e*d.N>K||$.n*d.N>f)){l=Math.min(5,l*.5)*y;u=Math.min(5,u*.5)*y;if(!(h.x<U||h.y<U)){l=-l;
u=-u}d.I.x+=l;d.I.y+=u;this.agl({XX:this.pY,action:"move"});$.u6=!0}}this.update()};e2.prototype.update=function(i){var $=this.l3();
if($==null)return;if($.$x){var h=this.q.map;for(var d in h){if(h[d].b.Qi)h[d].b.Qi($,this,this.Ie,this.KW)}}if($.er)if(i8.ph)i8.yD(Math.max($.e,$.n));
if($.er){$.kX()}var K=$.u,f=this.gA,l=this.gA=Date.now();if($.er||$.oM||$.nU||$.u6||i||K.Zl!=K.N||!K.Zj.Rl(K.I)){var u=K.Zl;
if(K.Zl!=K.N){var U=D.qq.ajy(K.N,K.Zl>K.N),y=.12;if(K.Zl<K.N&&K.Zl<U)K.Zl=U;if(K.Zl>K.N&&K.Zl>U)K.Zl=U;
var a=Math.abs(K.N-U)*(l-f)*.001/y;if(K.Zl<K.N)K.Zl=Math.min(K.N,K.Zl+a);else K.Zl=Math.max(K.N,K.Zl-a)}var v=u==K.N?0:(K.Zl-K.N)/(u-K.N);
K.Zj.x=K.I.x+v*(K.Zj.x-K.I.x);K.Zj.y=K.I.y+v*(K.Zj.y-K.I.y);this.dQ.aG(this.Ie,null);this.dQ.Ra($,this.B_)}if(($.er||$.u6||$.$x)&&(!this.pY.Et||$.Dh)){if($.$x)$.Z8();
this.uW.Ra($,this.B_,this.Ie);this.yU.adM($,this.KW);$.zy=!1}$.Dh=!1;$.$x=!1;$.er=null;$.oM=$.nU=$.u6=!1};
e2.prototype.rK=function(i){var $=i.target.tagName.toLowerCase(),h=i.target.getAttribute("type"),d=ai,K=d.xZ(i.code,d.iQ);
if(!(($=="input"||$=="select"||$=="button")&&d.xZ(i.code,d.EY))){if(d.KV(i)){i.preventDefault()}this.KW.ps(d.bi(i));
this.PS("down")}};e2.prototype.p1=function(i){if(i.key==" ")this.KW.VG();if(ai.xZ(i.code,ai.X7))this.KW.reset();
this.KW.Gr(ai.bi(i));var $=i.target.tagName.toLowerCase();if(ai.KV(i)){i.preventDefault()}this.PS("up")};
e2.prototype.PS=function(i){var $=this.KW,h=this.l3(),d=h!=null&&h.g.length!=0;if(this.m2.hg()!=null){if($.j(ai.UY)){this.m2.afD()}return}this.ns();
var K=this.ke(ai.PO),f=$.j(ai.rf),l=$.j(ai.EW);if(K&&$.j(ai.y4)&&i=="down"){var u=new eU(x.E.s),U=new eU(x.E.k);
u.b=D.BL;if(l){u.data={d:"h_stepfwd"}}else{u.data={d:"h_stepbck"}}if(this.xc.hg()!=null&&this.xc.hg().uq()){}else this.$(u)}if(K){var u=new eU(x.E.s),y=new eU(x.E.jm),U=new eU(x.E.k);
if($.j(ai.pA)&&$.j(ai.LX)){U.data={d:x.c.ZD,Kh:"storwindow"};this.$(U)}if(!f&&i=="down")for(var a in f2.keys){var v=f2.keys[a],c=!0;
for(var t=0;t<v.length;t++)if(!$.j(v[t]))c=!1;if(c){u.b=D.xT;if(a=="hue2"&&l&&h.B[h.g[0]].add.SoLd==null)u.data={d:"auto",jQ:3};
else u.data={d:"start",Mm:a}}}if($.j(ai.c)){y.data=D.n1.Yy(!0)}if($.j(ai.ui)){if(f)U.data={d:x.c.ZD,Kh:"csize"};
else if(h)U.data={d:x.c.bk,fz:l}}if($.j(ai.T6)){y.data=D.n1.Yy()}if($.j(ai.E)&&i=="down"){if(l)y.data={Fs:"mergeVisible"};
else y.data={Fs:"mergeLayersNew",B6:{__name:"Merge Layers",classID:"Mrg2"}}}if($.j(ai.rH)){if(l&&this.Ie.Kw!=D.Ey)U.data={d:x.c.ZD,Kh:"afw_fade"};
else if(f){u.b=D.QE;u.data={d:"applylast"}}else U.data={d:x.c.cP}}if($.j(ai.RB)){if(f&&h&&h.z0(h.g[0])){u.b=D.$S;
u.data={d:H.bx}}else{u.b=D.$S;u.data={d:H.st,kP:l}}}if($.j(ai.Ec)){U.data={d:x.c.vj,J0:dC.MG}}if($.j(ai.pA)){if(l){u.data=null;
if(f)U.data={d:x.c.ZD,Kh:"finfo"};else y.data={Fs:"inverse"}}else if(f)U.data={d:x.c.ZD,Kh:"isize"}}if($.j(ai.Bm)){y.data={Fs:(l?"cut":"copy")+"ToLayer"}}if($.j(ai.lg)){U.data={d:x.c.ZD,Kh:"preferences"}}if($.j(ai.fT)){if(l){u.b=D.$S;
u.data={d:H.vY}}else if(i=="down")U.data={d:x.c.ZD,Kh:"newproject"}}if($.j(ai.I2)){if(f)U.data={d:x.c.ZD,Kh:"storwindow",PT:0};
else{U.data={d:x.c.QK};$.reset()}}if($.j(ai.k0)){U.data={d:x.c.apl};$.reset()}if($.j(ai.gp)){U.data={d:x.c.vj,J0:dC.aq}}if($.j(ai.Su)&&i=="down"){if(l){if(f)U.data={d:x.c.ZD,Kh:"saveforweb"};
else U.data={d:x.c.Ms}}else U.data={d:x.c.ms}}if($.j(ai.A0)){if(l){u.b=D.Ey;u.data={d:"again"}}else U.data={d:x.c.ro,b:D.Ey}}if($.j(ai.mX)){U.data={d:x.c.So}}if($.j(ai.Ar)){this.dQ.MD()}if($.j(ai.T3)&&h&&h.E$()){U.data={d:x.c.sL}}if($.j(ai.Tz)||$.j(ai.yv)){u.b=D.$S;
u.data={d:H.wJ,vC:0};if($.j(ai.Tz))u.data.vC=l?3:2;else u.data.vC=l?0:1}if($.j(ai.b4)&&h){u.b=D.$S;u.data={d:H.Ja}}if($.j(ai.iQ)&&h){var p=0;
if(l)p++;if(f)p+=2;u.b=D.oN;u.data={d:"frompath",ZP:[null,0,p]}}if($.j(ai.ti)){y.data=D.Xw.cr(0)}if($.j(ai.EY)){var C=this.B_.length,T=$.j(ai.EW)?-1:1;
if(C>1)this.dQ._r((this.dQ.e1()+C+T)%C)}if($.j(ai.kE)){U.data={d:x.c.vj,J0:dC.x1}}if($.j(ai.Vy)){U.data={d:x.c.vj,J0:dC.t3}}D.qq.aiI($,u);
if(this.xc.hg()!=null&&this.xc.hg().uq()){}else{if(u.data)this.$(u);if(y.data)this.$(y);if(U.data)this.$(U)}}if(!K&&f){var E;
if($.j(ai.Tz))E="Bckw";if($.j(ai.yv))E="Frwr";if($.j(ai.b4))E="Back";if($.j(ai.ti))E="Frnt";if(E){var y=new eU(x.E.jm);
y.data={Fs:"select",B6:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:E}}]},MkVs:{t:"bool",v:!1}}};
this.$(y)}}if(h&&h.g.length!=0){var r=h.B[h.g[0]],Y=r.Tu;if(Y==1||Y==3||K){var u=new eU(x.E.s),S=Y==3?r.Hi(h).z:r.MQ();
if(S){var m=S.$$?h.u.rB.join("")=="111"?1:2:0;u.b=D.VB;if(S&&$.j(ai.UY)&&m!=0){u.data={d:"mskView",L:0}}if(S&&$.j(ai.abv)){u.data={d:"mskView",L:m==1?0:1}}if(S&&$.j(ai.a9$)){u.data={d:"mskView",L:m==2?0:2}}if(u.data)this.$(u)}}}var Q=$.zO();
if(h&&K&&2<=Q&&Q<=5){var z=[1,1,1];if(Q>2){z=[0,0,0];z[Q-3]=1}var n=new eU(x.E.s,!0);n.b=D.GC;n.data={d:"setcls",rB:z};
this.$(n)}if(!$.j(ai.PO)&&!f&&i=="down"){var u=new eU(x.E.s),U=new eU(x.E.k),Z=this.q.map[this.Ie.Kw],P=-1;
for(var t=0;t<this.q.keys.length;t++)if(this.q.keys[t]&&this.ke(this.q.keys[t]))P=t;if(P!=-1){var V=null;
if(Z.l$!=P)V=this.q.G$[P];if(Z.l$==P&&l)V=(Z.agb+1)%this.q.yQ[P].length;if(V!=null){var I=this.q.yQ[P][V].b.id,q=this.Ie.Ny;
if((q==null||q.indexOf(parseInt(I))!=-1)&&!this.pY.Et)U.data={d:x.c.ro,b:I}}}if($.j(ai.Ec))U.data={d:x.c.ro,b:D.GC};
if($.j(ai.gp))U.data={d:x.c.ro,b:D.MI};if($.j(ai.T3))U.data={d:x.c.vj,J0:dC.xq,vC:2};if($.j(ai.T6))U.data={d:x.c.vj,J0:dC.xq,vC:3};
if(U.data)this.$(U);if($.j(ai.a1d)&&h&&h.g.length==1){var r=h.B[h.g[0]];u.b=D.$S;var X=r.wC(0)||r.wC(1)||r.wC(2)||r.wC(31);
u.data={d:H.ex,gj:X?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.$(u)}var Q=$.zO();if(d&&Q!=-1&&this.ke(ai.r8[Q])){var B=h.g[0],r=h.B[B],e=ai.EV(Math.round(100*r.opacity/255),Q);
u.b=D.$S;u.data={d:H.PW,gj:Math.round(255*e/100)};this.$(u)}var F=this.Ie.Ub;if($.j(ai.EY)){U.data={d:x.c.K8,L:F==0?1:0};
this.$(U)}if($.j(ai.rH)||$.j(ai.UY)&&F==2){var s=document.fullscreenElement!=null==(F==2);U.data={d:x.c.K8,L:F==0?2:0,BD:s};
this.$(U)}if($.j(ai.D7)&&!this.pY.Et){u.b=D.oN;u.data={d:"qmask"};this.$(u)}}if(!$.j(ai.PO)&&!f&&l){var u=new eU(x.E.s),U=new eU(x.E.k);
if($.j(ai.b4))U.data={d:x.c.ZD,Kh:"shortcuts"};if($.j(ai.qF))U.data={d:x.c.ZD,Kh:"fill"};if($.j(ai.aoZ))U.data={d:x.c.ZD,Kh:"sel_feather"};
if(d&&($.j(ai.i6)||$.j(ai.s8))){var B=h.g[0],r=h.B[B],J=ca.bj,W=J.length,L=J.indexOf(r.R$);u.b=D.$S;
u.data={d:H.L0,gj:(L+W+($.j(ai.i6)?1:-1))%W};this.$(u)}if(U.data)this.$(U)}var u=new eU(x.E.s),A=i=="down"&&(this.ke(ai.X1)||this.ke(ai.A9));
if((K||f)&&A){u=new eU(x.E.jm);u.data=D.Gg.kg(K?"BckC":"FrgC");this.$(u)}else if(h&&A&&!this.pY.Et){if(h.J!=null){u=new eU(x.E.jm);
u.data={Fs:"delete"}}else if(h.g.length!=0){var r=h.B[h.g[0]];if(r.Tu==1)u.data={d:H.z4};else if(r.Tu==3)u.data={d:H.wt};
else u.data={d:H.c1};u.b=D.$S}this.$(u)}if(this.xc.hg()!=null){if($.j(ai.UY)){this.xc.hg().ajE()}else{this.xc.hg().PS(h,this,this.Ie,$)}}if(this.Ie.Kw==null)return;
var Z=this.gC();if(this.xc.hg()==null||this.q.sB)Z.PS(h,this,this.Ie,$)};e2.prototype.ke=function(i){var $=this.KW,h=this.q.map[this.Ie.Kw].b,top=this.xc.hg(),d=this.l3();
return $.j(i)&&!h.JL(i,d)&&(top==null||!top.JL(i,d))};e2.prototype.xB=function(i){var $=this.aml,h=this.IM;
this.Ie.Ub=i;var d=R.bT,K=this.cg.m;if(d(K))this.Rc.removeChild(K);var f=this.KF.m;if(d(f))this.Rc.removeChild(f);
var l=this.yU.m;if(d(l))$.removeChild(l);var u=this.dQ.m;if(d(u))$.removeChild(u);var U=this.uW.m;if(d(U))$.removeChild(U);
if(i==0){this.Rc.appendChild(K);this.Rc.appendChild(f);h.appendChild($);$.appendChild(l);$.appendChild(u);
$.appendChild(U)}if(i==1){this.Rc.appendChild(K);$.appendChild(u)}if(i==2){$.appendChild(u)}this.dQ.xB(i==2?1:0);
this.O9()};e2.prototype.adF=function(i){if(this.$W())return 1;if(R.av4()==0){this.Ie={};this.JQ=function($,h){return Math.sqrt($*h)}}return-1};
function iY(i){dq.call(this);if(i==null)return;this.DD=null;this.mJ=null;this.m=R.S("div","sbar"+" "+i);
this.sn=new R.S("div","top");this.sn.innerHTML="> <";this.m.appendChild(this.sn);this.P9=1;this.sn.addEventListener("click",this.amo.bind(this),!1)}iY.prototype=new dq;
iY.prototype.amo=function(i){if(this.DD!=null&&this.DD<500&&this.P9==0)return;if(this.P9==0)this.Vq(!0);
else this.collapse(!0)};iY.prototype.afC=function(i){this.P9=i;this.sn.innerHTML=this.P9==0?"< >":"> <"};
iY.prototype.alj=function(){var i=new eU(x.E.k,!0);i.data={d:x.c.Gz};this.$(i)};iY.prototype.Vq=function(i){this.afC(1);
if(i)this.alj()};iY.prototype.collapse=function(i){this.afC(0);if(i)this.alj()};iY.prototype.SJ=function(){return this.P9==1};
function i9(i,$){iY.call(this,"vcolumn");this.WM=i;this.a9o=$;this.XZ();this.$u=R.S("div");this.$u.setAttribute("style","cursor:default;");
this.afj=this.ajM.bind(this);this.a8U=this.a6B.bind(this);this.apm=this.ade.bind(this);R.K6(this.m,this.afj);
this.m.appendChild(this.$u);this.RI=R.S("div");this.$u.appendChild(this.RI);this.YM=-1;this.O_=R.S("div","float");
var h=this.hH=R.S("canvas","gsicon"),d=Math.round(12*R.V());h.width=h.height=d;var K=h.getContext("2d");
K.moveTo(2,2);K.lineTo(d-2,d-2);K.moveTo(2,7);K.lineTo(d-7,d-2);K.stroke();this.hH.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
R.jA(this.hH);R.K6(this.hH,this.afj);R.Sz(h);this.WC=[];this.fS=[];this.a4S=null;this.nX=null;this.a8_=0}i9.prototype=new iY;
i9.prototype.ajM=function(i){var $=i.target==this.hH;if(!$){if(i.target!=this.m)return;if(!this.SJ())return}else{var h=this.WC[this.YM].fE;
h.style.pointerEvents="none";var d=h.getBoundingClientRect();this.a4S=[d.width,d.height];this.fS[this.YM]=[d.width,d.height]}i.stopPropagation();
this.nX=R.CJ(i,document.body);this.a8_=this.WM;R.sM(document,this.a8U);R.pq(document,this.apm)};i9.prototype.a6B=function(i){var $=R.CJ(i,document.body);
if(this.SJ()){this.WM=this.a8_+this.nX.x-$.x;this.XZ()}else{var h=this.fS[this.YM],d=this.a4S;h[0]=d[0]+this.nX.x-$.x;
h[1]=d[1]+$.y-this.nX.y}var K=new eU(x.E.k,!0);K.data={d:x.c.Gz};this.$(K)};i9.prototype.ade=function(i){if(!this.SJ()){var $=this.WC[this.YM].fE;
$.style.pointerEvents="auto"}R.Uq(document,this.a8U);R.hZ(document,this.apm)};i9.prototype.atu=function(i){i.h("showFloat",this.aum,this);
i.h("hideFloat",this.fk,this);this.WC.push(i);i.parent=this;this.$u.appendChild(i.m)};i9.prototype.abQ=function(t){var i=this.WC[t];
i.removeEventListener("showFloat",this.aum,this);i.removeEventListener("hideFloat",this.fk,this);this.WC.splice(t,1);
i.parent=null;this.$u.removeChild(i.m)};i9.prototype.a7u=function(){return this.WC.length};i9.prototype._v=function(){for(var t=0;
t<this.WC.length;t++)this.WC[t]._v()};i9.prototype.aum=function(i){this.fk(i);this.RI.appendChild(this.O_);
this.YM=this.WC.indexOf(i.currentTarget);var $=this.WC[this.YM].fE;this.O_.appendChild($);this.O_.appendChild(this.hH);
this.JQ(this.DD,this.mJ)};i9.prototype.fk=function(i){this._v();if(this.YM!=-1){this.RI.removeChild(this.O_);
var $=this.WC[this.YM];if($)this.O_.removeChild($.fE);this.YM=-1}};i9.prototype.XZ=function(){function i($){return Math.round($*R.V())/R.V()}this.m.setAttribute("style","width: "+this.WM+"px; border-left-width:"+i(4)+"px; cursor:ew-resize;")};
i9.prototype.Vq=function(i){this.XZ();this.fk();for(var t=0;t<this.WC.length;t++)this.WC[t].Vq();iY.prototype.Vq.call(this,i)};
i9.prototype.collapse=function(i){this.m.removeAttribute("style");for(var t=0;t<this.WC.length;t++)this.WC[t].collapse();
iY.prototype.collapse.call(this,i)};i9.a69=11;i9.prototype.JQ=function(i,$){this.DD=i;this.mJ=$;$-=i9.a69;
var h=this.WC.length;if(h==0)return;if(!this.SJ()){var d=$<400?$:400+($-400)*.5;for(var t=0;t<h;t++){var K=this.WC[t],f=this.fS[t];
K.JQ(f?f[0]:this.WM,f?f[1]:d)}}else{var l=$;for(var t=0;t<h;t++){var K=this.WC[t],u=K.av_();if(t==h-1){u=l;
K.m.style.borderBottom="none"}K.JQ(this.WM,u);l-=u+4}}};function dp(i){dq.call(this);this.m=R.S("div");
this.$u=null;this.VI=0;this.ZB=0;this.auE=i;this.ah4=this.k7.bind(this);this.adD=this.CX.bind(this);
this.a26=this.QA.bind(this);this.oz=null;this.im=null;this.ga=null;R.K6(this.m,this.ah4);var $=this.m,d="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
$.addEventListener("touchmove",R.HG,!1);this.awf=!0;this.Oc=[];var h=this.aj2=R.S("div");h.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(h);var K=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",d+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",d+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",d+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var t=0;t<K.length;t++){var f=new d_(K[t]);this.Oc.push(f);f.m.setAttribute("style","margin-left:"+(t<7?4:0)+"px;cursor:pointer;");
f.h("click",this.Bp,this)}}dp.prototype=new dq;dp.prototype.f=function(){var i=this.aj2;R.J9(i);for(var t=0;
t<this.Oc.length;t++){var $=this.Oc[t];if(t<5)$.f();i.appendChild($.m)}};dp.prototype.Bp=function(i){var t=this.Oc.indexOf(i.currentTarget);
if(t==0){if(window.showCap)window.showCap();return}var $=" issues learn blog api twitter facebook".split(" "),h=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),d=window.ga;
if(d)d("send","event","Links",$[t]);var K=new eU(x.E.k,!0);K.data={d:x.c.la,link:h[t]};this.$(K)};dp.prototype.k7=function(i){if(i.ahX){i.preventDefault();
i.stopPropagation()}var $=window;R.sM($,this.adD);R.pq($,this.a26);$=this.$u;this.oz=new cq(parseInt($.style.left),parseInt($.style.top));
this.im=R.CJ(i,this.m);this.ga=$.getBoundingClientRect()};dp.prototype.CX=function(i){var $=R.CJ(i,this.m),h=this.oz.x+$.x-this.im.x,d=this.oz.y+$.y-this.im.y,K=this.VI-this.ga.width,f=this.ZB-this.ga.height;
if(this.auE)this.$u.style.left=Math.min(0,Math.max(K,h))+"px";else this.$u.style.top=Math.min(0,Math.max(f,d))+"px";
if(h-10>0){this.im.x=$.x-10;this.oz.x=0}if(h+10<K){this.im.x=$.x+10;this.oz.x=K}};dp.prototype.QA=function(i){var $=window;
R.Uq($,this.adD);R.hZ($,this.a26)};dp.prototype.axM=function(i){if(this.$u){this.m.removeChild(this.$u)}this.$u=i;
this.m.appendChild(i);i.style.position="absolute";if(this.auE)i.style.left=0;else i.style.top=0};dp.prototype.JQ=function(i,$){this.VI=i;
this.ZB=$;this.m.setAttribute("style","position:relative; width: "+i+"px; height: "+$+"px; overflow:hidden; white-space: nowrap; ");
var h=this.$u.firstChild,d=this.aj2,K=h?h.firstChild.getBoundingClientRect().width+80:1e9,f=170,l=this.awf&&i>K+f;
d[al.kD][al.agX]=l?"":al.I8;var u=this.Oc;for(var t=0;t<u.length;t++){var U=t>4||i-K>500?"":al.I8,y=u[t];
y.m.style.display=U}};dp.prototype.adq=function(){this.$u.style.left="0";this.$u.style.top="0"};function hk(){dq.call(this);
this.RM=null;this.xQ=hk.k0;this.aek="";this.m=R.S("div","rightbar");this.K$=[new i9(300),new i9(268,!0)];
this.WC=[new a_,new a_,new a_,new a_,new a_,new a_,new a_];this.a1X=[]}hk.prototype=new dq;hk.prototype.f=function(){var i=this.xQ;
for(var t=0;t<i.length;t++)i[t].dX.f()};hk.k0=[{dX:new bz,OR:3},{dX:new hC,OR:1},{dX:new f0,OR:4},{dX:new gV,OR:2},{dX:new j0(!0),OR:5},{dX:new hW,OR:0},{dX:new eH,OR:5},{dX:new bw,OR:3},{dX:new iC,OR:0},{dX:new ih,OR:3},{dX:new aG,OR:2},{dX:new jm,OR:4},{dX:new h0,OR:3},{dX:new eO,OR:5},{dX:new j0(!1),OR:5},{dX:new ad,OR:2},{dX:new fv,OR:3},{dX:new g9,OR:1},{dX:new bP,OR:0},{dX:new gw,OR:5},{dX:new aL,OR:6,mD:!0},{dX:new gY,OR:6,mD:!0},{dX:new aD,OR:6,mD:!0}];
(function(){var i=[{id:cA.gp.apu,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var t=0;t<i.length;t++)hk.k0.push({dX:new bi(i[t],100+t),OR:6,mD:!0})}());hk.prototype.adk=function(i){for(var t=0;
t<i.length;t++){var $=i[t],h=new bi($,"plg_"+$.name);this.xQ.push({dX:h,OR:6});this.a1X.push(h.Bq)}this.WA()};
hk.prototype.aG=function(i,$){this.RM=i;var h=this.xQ;for(var t=0;t<h.length;t++)h[t].dX.aG(i,$);if($==dC.QS||$==dC.mW)this.WA()};
hk.prototype.v7=function(i){var $=this.xQ;for(var t=0;t<$.length;t++)$[t].dX.v7(i)};hk.prototype.JQ=function(i,$){this.DD=i;
this.mJ=$;this.WA();this.K$[0].JQ(i,$);this.K$[1].JQ(i,$)};hk.prototype.WA=function(){var i=this.RM,$=this.DD,h=this.mJ;
if(i==null||$==0)return;var d=i.ek.concat(this.a1X),K=$<500||$<700&&$<h,f=JSON.stringify(d)+","+K;if(f!=this.aek){this.aek=f;
R.J9(this.m);var l=[];for(var t=0;t<this.K$.length;t++){var u=this.K$[t];l[t]=u.SJ();while(u.a7u()!=0)u.abQ(0);
u.Vq()}var U=[];for(var t=0;t<this.WC.length;t++){var y=this.WC[t];y.Vq();while(y.afJ()!=0)y.Hj(0);U.push(0)}for(var t=0;
t<d.length;t++){var a=this.aey(d[t].toString());if(a==null)continue;this.WC[a.OR].Km(a.dX);this.WC[a.OR]._r(0);
U[a.OR]++}var v=[];for(var t=0;t<U.length;t++){if(U[t]==0)continue;var c=t<3||K?1:0,u=this.K$[c];u.parent=this;
u.atu(this.WC[t]);v[c]=!0}for(var t=0;t<this.K$.length;t++)if(v[t])this.m.appendChild(this.K$[t].m);
this.K$[0].collapse();if($<700||this.RM.compact||!l[1]){this.K$[1].collapse()}var p=new eU(x.E.k,!0);
p.data={d:x.c.Gz};this.$(p)}};hk.prototype.aey=function(i){for(var t=0;t<this.xQ.length;t++)if(this.xQ[t].dX.Bq==i)return this.xQ[t]};
hk.prototype.apS=function(i){var $=this.aey(i);this.WC[$.OR].Km($.dX)};hk.prototype.Ra=function(i,$,h){var d=this.xQ;
for(var t=0;t<d.length;t++)d[t].dX.Ra(i,$,h)};hk.prototype.gE=function(i,$,h,d,K){var f=this.xQ;for(var t=0;
t<f.length;t++)f[t].dX.gE(i,$,h,d,K)};hk.prototype.Zm=function(i,$,h,d,K){var f=this.xQ;for(var t=0;
t<f.length;t++)f[t].dX.Zm(i,$,h,d,K)};hk.prototype.IQ=function(i,$,h,d,K){var f=this.xQ;for(var t=0;
t<f.length;t++)f[t].dX.IQ(i,$,h,d,K)};function cN(i,$){iY.call(this,"toolbar");this.m.removeChild(this.sn);
this.Ts=R.S("div","tools");this.m.appendChild(this.Ts);this.Ny=null;this.Kw=null;this.as1=$;this.$X=null;
this.aec=-1;this.amb={};this.a4r=i;this.q=null;this.In=null;this.Rr=null;this.yK=null;this.hK=new bp;
this.hK.m.style.marginTop="5px";this.hK.m.style.marginBottom="3px";this.hK.parent=this;this.Z7=new d_(R.HD("lrs/mask"),!1,[6,6,1]);
this.Z7.h("click",function(f){var l=new eU(x.E.s,!0);l.b=D.oN;l.data={d:"qmask"};this.$(l)},this);var h=new fZ(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
h.h(x.E.r,this.ar$,this);var d=R.S("span","rangecontFloat form padded");d.appendChild(h.m);var K=document.body;
this.ax7=[!1,!1,!1,!1];this.J1=new d_("\u2328",!1,"Virtual Keys");this.J1.h("click",function(f){var l=this.J1.m.getBoundingClientRect();
d.setAttribute("style","position:absolute; top:"+(l.top-40)+"px; left: "+(l.left+l.width+8)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(R.bT(d))K.removeChild(d);else K.appendChild(d)},this)}cN.prototype=new iY;cN.prototype.ar$=function(i){var $=i.target.G();
this.J1.t($[0]||$[1]||$[2]||$[3]);var h=new eU(x.E.k,!0);for(var t=0;t<4;t++){if($[t]!=this.ax7[t]){h.data={d:x.c.awF,Et:$[t],aqh:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][t]};
this.$(h)}}this.ax7=$.slice(0)};cN.prototype.adM=function(i,$){this.$X=$;if(i==null||i.g.length==0||i.B[i.g[0]]==null)return;
var h=i.Z7()!=null,d=i.u.rB,K=i.B[i.g[0]].Tu,f=K==1||K==3||h||d[0]+d[1]+d[2]==1;this.hK.a5b(f);this.Z7.t(h)};
cN.prototype.a2J=function(i,$){var h=i.length,d=[];for(var t=0;t<h;t++)d[t]=i[t].slice(0);i=d;var K=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],f=Math.min(K.length/2,h-$);
for(var t=0;t<f;t++){var l=K[2*t],u=K[2*t+1];i[l]=i[l].concat(i[u]);i[u]=null}for(var t=0;t<i.length;
t++)if(i[t]==null){i.splice(t,1);t--}return i};cN.prototype.a3G=function(i,$){for(var t=0;t<$.length;
t++)for(var h=0;h<$[t].length;h++)if($[t][h].b.id==i)return t};cN.prototype.alz=function(i){var $=this.a4r;
this.In=[];this.Rr=[];this.yK=[];this.q=[];var h=$.yQ;if(i!=null&&this.as1)h=this.a2J(h,i);var d=this.Ny;
if(d){var K=[];for(var t=0;t<h.length;t++){var f=[];for(var l=0;l<h[t].length;l++){var u=h[t][l];if(d==null||d.indexOf(parseInt(u.b.id))!=-1)f.push(u)}if(f.length>0)K.push(f)}h=K}for(var t=0;
t<h.length;t++){var U=[],y=this.In.length,a=null,v=-1;for(var l=0;l<h[t].length;l++){var u=h[t][l].b,c=this.a3G(u.id,$.yQ),p=$.keys[c];
if(p==ai.Ec&&l==1)p=ai.gp;this.q.push(u);var C=new aM(u.name,p,u.lI,this.In.length,t,h[t].length>1);
this.In.push(C);var T=this.amb[u.id];if(T==null)T=0;if(T>v){v=T;a=C}C.h(x.E.r,this.Zk,this);C.h("mover",this.rz,this);
U.push({name:u.name,b9:u.lI,oF:p?p.Xd:""})}this.Rr.push(a);this.yK.push(U.length==1?null:[U,y])}};cN.prototype.JQ=function(i,$){var h=this.mJ=$,d=32;
if(1<R.V()&&R.V()<1.5)d=18+14*(1/R.V());var K=39+23,f=Math.floor((h-K)/d);if(f!=this.aec){this.aec=f;
this.alz(f);this.p5()}var l=this.Rr.length*d+K,u=Math.min(1,h/l);if(.75<=u){this.Ts.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+u+","+u+");");
this.m.setAttribute("style","height:"+($-2)+"px; overflow:hidden;")}else{h-=4;this.Ts.setAttribute("style","height: "+h+"px;  width:"+Math.ceil(l/h)*34+"px");
this.m.setAttribute("style","")}};cN.prototype.f=function(){if(this.q==null)return;for(var t=0;t<this.In.length;
t++)this.In[t].f()};cN.prototype.Zk=function(i){var $=new eU(x.E.k,!0);$.data={d:x.c.ro,b:this.q[i.id].id};
this.$($)};cN.prototype.acH=function(i){var $=i.target.aea+i.target.CK()[0];this.In[$].QA(null)};cN.prototype.rz=function(i){var $=this.$X,h=new eU(x.E.k,!0);
h.data={d:x.c.NE};this.$(h);var d=i.target,K=this.yK[d.l$];if(K==null)return;var f=new ew(K[0],null,!0);
f.aea=K[1];f.l$=d.l$;f.h("select",this.acH,this);f.parent=this;f.f();var l=d.m.getBoundingClientRect(),h=new eU(x.E.k,!0);
h.data={d:x.c.jT,dX:f,x:l.left+l.width+8,y:l.top};if($==null||!($.j(ai.tr)||$.j(ai.PO)))this.$(h)};cN.prototype.p5=function(i){if(i==null)i=this.Kw;
this.Kw=i;if(this.q==null)return;this.amb[i]=Date.now();var $=-1;for(var t=0;t<this.q.length;t++)if(this.q[t].id==i)$=t;
for(var t=0;t<this.In.length;t++){var h=this.In[t];h.ayo($==t)}if($==-1)return;this.Rr[this.In[$].l$]=this.In[$];
R.J9(this.Ts);var d=this.Rr;for(var t=0;t<d.length;t++){this.Ts.appendChild(d[t].m)}if(!this.as1)return;
this.Ts.appendChild(this.hK.m);if(this.mJ>640)this.Ts.appendChild(this.Z7.m);this.Ts.appendChild(this.J1.m)};
cN.prototype.aG=function(i,$){if($==dC.mW&&i.Ny){this.Ny=i.Ny;this.alz();this.p5()}this.hK.afk(i.Mz,i.n9)};
function aM(i,$,h,d,K,f){dq.call(this);this.JH=0;this.le=this.abS.bind(this);this.l$=K;this.mS=d;this.Ej=i;
this.aiZ=$;this.ahT=f;this.lI=h;this.m=R.S("button","");this.m.innerHTML=R.HD(this.lI);if(this.ahT){var l=R.S("img","gsicon");
l.setAttribute("src",PIMG["tools/corner"]);l.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.m.appendChild(l)}this.f();R.K6(this.m,this.k7.bind(this));this.m.addEventListener("click",this.QA.bind(this),!1);
this.m.addEventListener("contextmenu",aM.ZY,!1)}aM.prototype=new dq;aM.ZY=function(i){i.stopPropagation();
i.preventDefault();return!1};aM.prototype.f=function(){var i=this.aiZ?" ("+this.aiZ.Xd+")":"";this.m.setAttribute("title",e_.get(this.Ej)+i)};
aM.prototype.k7=function(i){this.JH=setTimeout(this.le,160)};aM.prototype.QA=function(i){clearTimeout(this.JH);
var $=new eU(x.E.r,!1);$.target=this;$.id=this.mS;this.$($)};aM.prototype.abS=function(i){var $=new eU("mover",!1);
$.target=this;$.id=this.mS;this.$($)};aM.prototype.ayo=function(i){this.m.className=i?"toolbtn active":"toolbtn"};
function d8(){dq.call(this);this.m=R.S("div","topbar");this.jd=R.S("span","");this.ap1=0;this.m.appendChild(this.jd);
this.xM=null;this.AY=null;this.j3=[];this.ek=[];var i=this.k7.bind(this);for(var t=0;t<d8.data.length;
t++){var $=R.S("button");this.j3.push($);this.jd.appendChild($);$.addEventListener("mouseover",i,!1);
R.K6($,i)}this.F$=new d_([0,13,0],!1,null,!0);this.F$.h("click",this.Nn,this);this.m.appendChild(this.F$.m);
this.XA=new d_(R.HD("tools/zoom",null,"autoscale"),!1,[12,86]);this.XA.h("click",this.Nn,this);this.m.appendChild(this.XA.m);
this.zW=new d_("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.zW.h("click",this.Nn,this);this.m.appendChild(this.zW.m)}d8.prototype=new dq;d8.prototype.arX=function(){if(this.ek.length!=0)return;
for(var t=0;t<d8.data.length;t++){var i=d8.data[t],$=new ew(i.items,i.L$);$.parent=this;this.ek.push($)}this.f()};
d8.prototype.f=function(){this.F$.f();this.XA.f();this.zW.f();for(var t=0;t<this.j3.length;t++)this.j3[t].textContent=e_.get(d8.data[t].name);
this.a3B();for(var t=0;t<this.ek.length;t++)this.ek[t].f()};d8.prototype.Nn=function(i){var $=new eU(x.E.k,!0);
if(i.target==this.F$)$.data={d:x.c.ZD,Kh:"account"};else if(i.target==this.XA)$.data={d:x.c.cP};else $.data={d:x.c.K8,BD:!0};
this.$($)};d8.prototype.aiR=function(i,$){this.xM=i;this.AY=$};d8.prototype.aG=function(i,$){this.AY=i;
if($==dC.mW){var h=i.adX;R.J9(this.jd);for(var t=0;t<this.j3.length;t++){if(h==null||h[t]==1||h[t]instanceof Array)this.jd.appendChild(this.j3[t]);
if(h!=null&&h[t]instanceof Array){this.arX();this.ek[t].apt(h[t])}}this.m.removeChild(this.F$.m);this.m.removeChild(this.XA.m);
this.m.removeChild(this.zW.m);if(i.wd)this.m.appendChild(this.F$.m);this.m.appendChild(this.XA.m);this.m.appendChild(this.zW.m)}this.a3B()};
d8.prototype.a3B=function(i,$){var h=this.F$,d=12255232;if(jF.Ky())d=jF.V9()?43520:16755200;h.m.setAttribute("style","color:#ffffff; background-color:#"+k._V(d))};
d8.prototype.k7=function(i){this.arX();var t=this.j3.indexOf(i.currentTarget),$=this.ek[t];if(i.type=="mouseover"&&!R.bT(this.ek[this.ap1].m))return;
if(R.bT($.m))return;i.ahX=!0;this.ap1=t;for(var t=0;t<d8.data.length;t++)this.ek[t].update(this.xM,this.AY);
var h=i.target.getBoundingClientRect(),d=new eU(x.E.k,!0);d.data={d:x.c.jT,dX:$,x:h.left,y:h.top+h.height+2,a84:!0};
this.$(d)};d8.aoF=function(i){var $=ai,h=$.PO,d=$.EW,K=$.rf,f=function(y){return{w:y!=null}},l=function(y){return{w:y!=null&&y.J!=null}},u={name:[0,5],items:[{name:[7,0],w:f,oF:[h,$.c]},{name:[7,1],oF:[h,$.T6],w:l},{name:[7,2],oF:[d,h,$.pA],w:l,c6:!0},{name:[7,8],w:f,xE:!0},{name:[7,13],xE:!0,w:function(y){return{w:y!=null&&y.g.length!=0&&!y.B[y.g[0]].rect.NT()}},c6:!0},{name:[7,11],xE:!0,w:function(y){return{w:y!=null&&y.g.length!=0&&!y.B[y.g[0]].rect.NT()}}},{name:[7,3],w:f,c6:!0,sub:[{name:[7,9],xE:!0,w:l},{name:[19,3,0],xE:!0,w:l},{name:[7,4],xE:!0,w:l},{name:[7,5],xE:!0,w:l},{name:[7,6],xE:!0,w:l,oF:"Shift+F6"}]},{name:[7,10],w:l,c6:!0},{name:[6,6,1],w:function(y){return{w:y!=null,Q0:y!=null&&y.Z7()!=null}},oF:[$.D7],c6:!0},{name:["VAR0 VAR1",[1,2],[17,2]],w:l}],L$:[{_:x.E.jm,W:D.n1.Yy(!0)},{_:x.E.jm,W:D.n1.Yy()},{_:x.E.jm,W:{Fs:"inverse"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"crange"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"magiccut"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"redge"}},{sub:[{_:x.E.k,W:{d:x.c.ZD,Kh:"sel_border"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"sel_smoothness"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"sel_expand"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"sel_contract"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"sel_feather"}}]},{_:x.E.k,W:{d:x.c.ro,b:D.vP}},{_:x.E.s,b:D.oN,W:{d:"qmask"}},{_:x.E.jm,W:{Fs:"duplicate",B6:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(i){var U=u.items.length-1;u.items.splice(U-2,0,{name:[6,49],oF:[h,$.Bm],c6:!0});u.L$.splice(U-2,0,{_:x.E.jm,W:{Fs:"copyToLayer"}});
u.items.splice(U-1,0,{name:[10,16],oF:[K,h,$.A0]});u.L$.splice(U-1,0,{_:x.E.k,W:{d:x.c.ro,b:D.Ey}})}return u};
d8.data=function(){var i=ai,$=i.PO,h=i.EW,d=i.rf,K=function(c){return{w:c!=null&&c.g.length!=0}},f=function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.SoLd!=null}},l=function(c){return{w:c!=null}},u=function(c){return{w:c!=null&&c.EX(!1)}},U=[],y=[],a="none maxx avrg medn minn rang stdv summ vari".split(" "),v=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var t=0;t<a.length;t++){U.push({name:v[t],w:function(c,p){if(c==null||c.g.length!=1)return{w:!1};
var C=c.B[c.g[0]].add.SoLd;if(C==null)return{w:!1};return{w:!0,Q0:C.Impr.v.classID==this.ayr}}.bind({ayr:a[t]})});
y.push({_:x.E.s,b:D.$S,W:{d:H.iR,gj:a[t]}})}return[{name:[0,0],items:[{name:[5,3],oF:[d,$,i.fT],title:[11,7],xE:!0},{name:[1,0],oF:[$,i.I2],xE:!0},{name:[1,11],xE:!0,w:l},{name:["VAR0 VAR1",[1,0],[0,14]],c6:!0,sub:[{name:"Storage",xE:!0,oF:[d,$,i.I2]},{name:[1,5],xE:!0},{name:[11,0],xE:!0},{name:["PSD VAR0",[25,0]],xE:!0}]},{name:[1,1],c6:!0,w:l,sub:[{name:"PNG",oF:"Imgur.com",w:function(c,p){return{w:c!=null&&p.r7}}},{name:"JPG",oF:"Imgur.com",w:function(c,p){return{w:c!=null&&p.r7}}},{name:"PSD",oF:"Photopea.com",w:function(c,p){return{w:c!=null&&p.r7&&!c.jW}}}]},{name:"Save ...",oF:[$,i.Su],w:function(c,p){var C=e_.get([1,2]),T=!0;
if(c){if(c.$j)C+=" ("+e_.get([6,7,1])+")";if(c.PF)C+=" (Google Drive)";if(c.uP)C+=" ("+Storage.list[c.uP[0]][0]+")";
T="psd jpg png gif webp svg bmp".split(" ").indexOf(c.oE)!=-1}return{w:c!=null&&(c.uP!=null||c.en!=null&&T||c.$j!=null||c.D2!=null&&c.D2.tB!=null||c.PF!=null||p.sS.save!=null),Np:C}}},{name:[1,3],w:function(c,p){return{w:c!=null&&p.r7}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:l,sub:[{name:"PSD to Storage",w:function(c,p){return{w:c!=null&&p.r7}}},{name:["VAR0 PSD/PSB",[1,2]],xE:!0,w:function(c,p){return{w:c!=null&&p.r7}}}]},{name:[1,8],w:l,sub:function(){var c=em.Ch(0),p=[];
for(var t=0;t<c.length;t++)p.push({name:c[t],oF:"."+c[t].toLowerCase()});p.push({name:[0,14],sub:function(){var c=em.Ch(1),p=[];
for(var t=0;t<c.length;t++)p.push({name:c[t],oF:"."+c[t].toLowerCase()});return p}()});return p}()},{name:[1,4],xE:!0,w:l,c6:!0},{name:[1,9],xE:!0,w:l},{name:"Export Color Lookup",xE:!0,w:l,c6:!0},{name:[1,14],xE:!0,w:l,c6:!0},{name:"Automate",sub:[{name:"PDF Presentation",xE:!0}]},{name:[1,10]}],L$:[{_:x.E.k,W:{d:x.c.ZD,Kh:"newproject"}},{_:x.E.k,W:{d:x.c.QK}},{_:x.E.k,W:{d:x.c.QK,ay0:!0}},{sub:[{_:x.E.k,W:{d:x.c.ZD,Kh:"storwindow",PT:0}},{_:x.E.k,W:{d:x.c.ZD,Kh:"open_from_url"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"camera"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"res0"}}]},{sub:[{_:x.E.k,W:{d:x.c.Eu,BC:"png"}},{_:x.E.k,W:{d:x.c.Eu,BC:"jpg"}},{_:x.E.k,W:{d:x.c.Eu,BC:"psd"}}]},{_:x.E.k,W:{d:x.c.ms}},{_:x.E.k,W:{d:x.c.Ms}},{sub:[{_:x.E.k,W:{d:x.c.ZD,Kh:"storwindow",PT:1}},{_:x.E.k,W:{d:x.c.ZD,Kh:"savepsb"}}]},{sub:function(){var c=em.Ch(0),p=[];
for(var t=0;t<c.length;t++)p.push({_:x.E.k,W:{d:x.c.ZD,Kh:"saveforweb",BC:t}});p.push({sub:function(){var C=em.Ch(0).length,c=em.Ch(1),p=[];
for(var t=0;t<c.length;t++)p.push({_:x.E.k,W:{d:x.c.ZD,Kh:"saveforweb",BC:C+t}});return p}()});return p}()},{_:x.E.k,W:{d:x.c.ZD,Kh:"saveforweb",BC:4,ak6:!0}},{_:x.E.k,W:{d:x.c.ZD,Kh:"eassets"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"exlut"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"finfo"}},{sub:[{_:x.E.k,W:{d:x.c.ZD,Kh:"pdfpres"}}]},{_:x.E.k,W:{d:x.c.ZD,Kh:"script"}}]},{name:[0,1],items:[{name:[2,8],w:l},{name:[2,0],w:l,oF:[h,$,i.y4]},{name:[2,1],w:l,oF:[$,i.y4],c6:!0},{name:[2,11],oF:[h,$,i.rH],c6:!0,xE:!0,w:function(c,p){return{w:d2.aaV(c)&&p.Kw!=D.Ey}}},{name:[5,0],oF:[$,i.T3],w:function(c){return{w:c!=null&&c.E$()}}},{name:[5,1],oF:[$,i.ui],w:l},{name:[5,7],oF:[h,$,i.ui],w:function(c){return{w:c!=null&&c.E$()}}},{name:[5,2],oF:[$,i.mX],w:function(c,p){return{w:R.R6()||p.c_!=null||p.qm!=null||p.ayu!=null}}},{name:[2,2],w:function(c){return{w:c!=null&&c.J!=null}},oF:"Delete",c6:!0},{name:[2,3],w:l,xE:!0,oF:[h,i.qF]},{name:[14,9],w:l,xE:!0,c6:!0},{name:[10,48],w:u},{name:[10,46],w:function(c){return{w:D.$g.apb(c)}}},{name:[10,16],w:l,oF:[d,$,i.A0]},{name:[2,4],w:l,sub:eg.a9T()},{name:[2,10,1],w:l},{name:[2,10,0],w:l,c6:!0},{name:[12,87],w:l,sub:[{name:[12,62],w:l},{name:[9,3],w:l},{name:[10,31],w:function(c){return{w:c!=null&&c.iW()[1].length!=0}}}]},{name:[1,15],xE:!0},{name:[12,79],xE:!0,oF:[$,i.lg]},{name:[1,13],xE:!0}],L$:[{_:x.E.s,b:D.BL,W:{d:"h_undoredo"}},{_:x.E.s,b:D.BL,W:{d:"h_stepfwd"}},{_:x.E.s,b:D.BL,W:{d:"h_stepbck"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"afw_fade"}},{_:x.E.k,W:{d:x.c.sL}},{_:x.E.k,W:{d:x.c.bk}},{_:x.E.k,W:{d:x.c.bk,fz:!0}},{_:x.E.k,W:{d:x.c.So}},{_:x.E.jm,W:{Fs:"delete"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"fill"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"stroke"}},{_:x.E.k,W:{d:x.c.ro,b:D.kT}},{_:x.E.s,b:D.QE,W:{d:"start",I_:"rigidTransform"}},{_:x.E.k,W:{d:x.c.ro,b:D.Ey}},{sub:eg.agJ()},{_:x.E.jm,W:{Fs:"align",B6:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{_:x.E.s,b:D.$S,W:{d:H.aor}},{sub:[{_:x.E.k,W:{d:x.c.c7,J0:0}},{_:x.E.k,W:{d:x.c.c7,J0:1}},{_:x.E.k,W:{d:x.c.c7,J0:2}}]},{_:x.E.k,W:{d:x.c.ZD,Kh:"pmanager"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"preferences"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:l,c6:!0,sub:[{name:"RGB",w:function(c){if(c==null)return{w:!1};
return{Q0:c.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(c){if(c==null)return{w:!1};return{Q0:c.add.fcmy!=null,w:!0}},c6:!0},{name:"Raster",w:function(c){if(c==null)return{w:!1};
return{Q0:c.add.fvec==null,w:!0}}},{name:"Vector (Beta)",w:function(c){if(c==null)return{w:!1};return{Q0:c.add.fvec!=null,w:!0}}}]},{name:[3],w:l,c6:!0,sub:function(){var c=[];
for(var p in f2.names){c.push({name:f2.names[p],xE:eK[p]!=null,oF:f2.keys[p],c6:f2.aq0.indexOf(p)!=-1});
if(p=="selc"){c.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],xE:!0,c6:!0});c.push({name:[19,7,0],oF:[$,h,i.LX],w:u});
c.push({name:[4,18],xE:!0,w:u})}}return c}()},{name:[4,16,0],w:u},{name:[4,16,1],w:u},{name:[4,16,2],w:u,c6:!0},{name:[11,11,1],w:u},{name:[11,11,0],w:u,c6:!0},{name:[11,3],w:l,xE:!0,oF:[d,$,i.ui]},{name:[11,10],w:l,xE:!0,oF:[d,$,i.pA]},{name:[2,4],w:l,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(c){return{w:c!=null&&c.J!=null}}},{name:[11,12,0],w:l,oF:[$,i.ti],xE:!0},{name:[11,12,2],w:l,c6:!0},{name:[2,12],w:u,xE:!0,c6:!0},{name:"Variables",w:l,xE:!0}],L$:[{sub:[{_:x.E.s,b:D.MW,W:{d:"fcmy",L:0}},{_:x.E.s,b:D.MW,W:{d:"fcmy",L:1}},{_:x.E.s,b:D.MW,W:{d:"fvec",L:0}},{_:x.E.s,b:D.MW,W:{d:"fvec",L:1}}]},{sub:function(){var c=[];
for(var p in f2.names){c.push({_:x.E.s,b:D.xT,W:{d:"start",Mm:p}});if(p=="selc"){c.push({_:x.E.s,b:D.QE,W:{d:"start",I_:"adaptCorrect"}});
c.push({_:x.E.jm,W:{Fs:"desaturate"}});c.push({_:x.E.s,b:D.xT,W:{d:"start",Mm:"matc"}})}}return c}()},{_:x.E.jm,W:{Fs:"levels",B6:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{_:x.E.jm,W:{Fs:"levels",B6:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{_:x.E.jm,W:{Fs:"levels",B6:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{_:x.E.k,W:{d:x.c.ZD,Kh:"rcolors"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"vbitmap"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"csize"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"isize"}},{sub:[{_:x.E.jm,W:D.vA.Fn(!0,90)},{_:x.E.jm,W:D.vA.Fn(!0,-90)},{_:x.E.jm,W:D.vA.Fn(!0,-180)},{_:x.E.jm,W:D.vA.Fn(!1,"Hrzn")},{_:x.E.jm,W:D.vA.Fn(!1,"Vrtc")}]},{_:x.E.s,b:D.ds,W:{d:"cropbysel",a9V:0}},{_:x.E.k,W:{d:x.c.ZD,Kh:"trim"}},{_:x.E.jm,W:{Fs:"revealAll",B6:{classID:"RvlA"}}},{_:x.E.s,b:D.xT,W:{d:"start",Mm:"aply"}},{_:x.E.k,W:{d:x.c.ZD,Kh:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:l,sub:[{name:[0,3],oF:[h,$,i.fT]},{name:[0,4]},{name:[1,16,0],xE:!0},{name:[1,16,3],xE:!0,c6:!0},{name:[6,49,0],oF:[$,i.Bm]},{name:[6,49,1],oF:[h,$,i.Bm],w:function(c){return{w:c!=null&&c.J!=null&&c.EX(!1)}}}]},{name:[6,0],w:K,oF:[$,i.Bm]},{name:[11,4],w:K},{name:[5,4],w:K,c6:!0},{name:[11,6],w:K,c6:!0,sub:eA.gL(!0)},{name:[6,48,1],w:l,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:l,c6:!0,sub:eA.agW()},{name:[6,2],w:l,sub:[{name:[6,4],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()==null}}},{name:[6,5,0],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()==null}}},{name:[6,5,1],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()==null&&c.J!=null}}},{name:[6,5,2],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()==null&&c.J!=null}}},{name:[6,5,3],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()==null}},c6:!0},{name:[5,4],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()!=null}}},{name:[5,8],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()!=null&&c.EX(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].MQ()!=null}}}]},{name:[6,3],w:l,sub:[{name:[6,4],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.vmsk==null}}},{name:[6,5,0],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.vmsk==null}}},{name:"Current Path",w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.vmsk==null}},c6:!0},{name:[5,4],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.vmsk!=null}}}]},aG.aou(!0),{name:[6,7,1],w:l,c6:!0,sub:[{name:[6,7,0],c6:!0},{name:"Edit Contents",w:f,xE:!0},{name:"Replace Contents",w:f,xE:!0},{name:"Export Contents",w:f,xE:!0,c6:!0},{name:[6,36,4],w:f,sub:U},{name:"Turn into JPG",w:f}]},{name:[6,8],w:aG.axf},{name:[6,34],c6:!0,w:function(c){if(c==null||c.g.length==0)return{w:!1};
var p=c.B[c.g[0]];return{w:p.add.lmfx!=null&&!p.BT()}}},{name:[6,9],w:l,c6:!0,oF:[$,i.RB]},{name:[6,55],w:l,c6:!0,sub:[{name:[6,56,0],oF:[h,$,i.yv]},{name:[6,56,1],oF:[$,i.yv]},{name:[6,56,2],oF:[$,i.Tz]},{name:[6,56,3],oF:[h,$,i.Tz]}]},{name:[6,58],w:l,c6:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],oF:[$,i.E],w:function(c){var p=c==null?0:c.g.length;
return{w:p!=0&&(p!=1||c.g[0]!=0),Np:e_.get(p>1||p==1&&c.B[c.g[0]].BT()?[6,12,0]:[6,10])}}},{name:[6,12,1],w:l},{name:"Defringe",w:l}],L$:[{sub:[{_:x.E.s,b:D.$S,W:{d:H.vY}},{_:x.E.s,b:D.$S,W:{d:H.nW}},{_:x.E.k,W:{d:x.c.ZD,Kh:"newartb",PT:0}},{_:x.E.k,W:{d:x.c.ZD,Kh:"newartb",PT:1}},{_:x.E.jm,W:{Fs:"copyToLayer"}},{_:x.E.jm,W:{Fs:"cutToLayer"}}]},{_:x.E.s,b:D.$S,W:{d:H.kq}},{_:x.E.k,W:{d:x.c.ZD,Kh:"duplinto"}},{_:x.E.s,b:D.$S,W:{d:H.c1}},{sub:eA.v2(!0)},{sub:[{_:x.E.s,b:D.nD,W:{d:"newfill",Ww:0}},{_:x.E.jm,W:D.Eq.kg(1)},{_:x.E.jm,W:D.Eq.kg(2)}]},{sub:eA.XN()},{sub:[{_:x.E.s,b:D.$S,W:{d:H.qK,PT:"RvlA"}},{_:x.E.s,b:D.$S,W:{d:H.qK,PT:"HdAl"}},{_:x.E.s,b:D.$S,W:{d:H.qK,PT:"RvlS"}},{_:x.E.s,b:D.$S,W:{d:H.qK,PT:"HdSl"}},{_:x.E.s,b:D.$S,W:{d:H.qK,PT:"Trns"}},{_:x.E.s,b:D.$S,W:{d:H.z4}},{_:x.E.s,b:D.$S,W:{d:H.WT}},{_:x.E.s,b:D.$S,W:{d:H.M2}}]},{sub:[{_:x.E.s,b:D.$S,W:{d:H.OS,ag9:!1}},{_:x.E.s,b:D.$S,W:{d:H.OS,ag9:!0}},{_:x.E.s,b:D.$S,W:{d:H.OS,a0w:!0}},{_:x.E.s,b:D.$S,W:{d:H.Jv}},{_:x.E.s,b:D.$S,W:{d:H.dg}}]},{_:x.E.s,b:D.$S,W:{d:H.bx}},{sub:[{_:x.E.jm,W:{Fs:"newPlacedLayer"}},{_:x.E.jm,W:{Fs:"placedLayerEditContents",B6:{classID:"placedLayerEditContents"}}},{_:x.E.jm,W:{Fs:"placedLayerReplaceContents",B6:{classID:"placedLayerReplaceContents"}}},{_:x.E.jm,W:{Fs:"placedLayerExportContents",B6:{classID:"placedLayerExportContents"}}},{sub:y},{_:x.E.s,b:D.$S,W:{d:H.axi}}]},{_:x.E.jm,W:{Fs:"rasterizeLayer",B6:{classID:"rasterizeLayer",null:jV.uf("Lyr",!0)}}},{_:x.E.s,b:D.$S,W:{d:H.lH}},{_:x.E.s,b:D.$S,W:{d:H.st}},{sub:[{_:x.E.s,b:D.$S,W:{d:H.wJ,vC:0}},{_:x.E.s,b:D.$S,W:{d:H.wJ,vC:1}},{_:x.E.s,b:D.$S,W:{d:H.wJ,vC:2}},{_:x.E.s,b:D.$S,W:{d:H.wJ,vC:3}}]},{sub:[{_:x.E.s,b:D.$S,W:{d:H.FG,vC:"makeframes"}},{_:x.E.s,b:D.$S,W:{d:H.FG,vC:"unmakeframes"}},{_:x.E.s,b:D.$S,W:{d:H.FG,vC:"merge"}}]},{_:x.E.jm,W:{Fs:"mergeLayersNew",B6:{__name:"Merge Layers",classID:"Mrg2"}}},{_:x.E.jm,W:{Fs:"flattenImage"}},{_:x.E.s,b:D.QE,W:{d:"start",I_:"defr"}}]},d8.aoF(!1),function(){var c={name:[0,6],items:[{name:[24,18,4],oF:[d,$,i.rH],w:l,c6:!0}],L$:[{_:x.E.s,b:D.QE,W:{d:"applylast"}}]};
for(var t=0;t<d1.Um.length;t++){var p=d1.Um[t];if(p.DP!=null){c.items.push({name:d1.names[p.DP],xE:!0,c6:p.c6,w:l});
c.L$.push({_:x.E.s,b:D.QE,W:{d:"start",I_:p.DP}});continue}var C={name:p.rU,sub:[],w:l};c.items.push(C);
var T={sub:[]};c.L$.push(T);for(var E=0;E<p.Of.length;E++){var r={name:d1.names[p.Of[E]],xE:d1.U9(p.Of[E])!=null};
C.sub.push(r);var Y={_:x.E.s,b:D.QE,W:{d:"start",I_:p.Of[E]}};T.sub.push(Y)}}return c}(),{name:[0,7],items:[{name:[8,0],w:l,oF:[$,i.i6]},{name:[8,1],w:l,oF:[$,i.s8]},{name:[20,3],w:l,oF:[$,i.Kq]},{name:[20,2],w:l,oF:[$,i.iJ]},{name:"Pattern Preview",w:function(c,p){return{w:c!=null,Q0:c!=null&&c.dV}},c6:!0},{name:"Screen Mode",c6:!0,sub:[{name:"Fullscreen",w:function(c,p){return{Q0:document.fullscreenElement!=null}},c6:!0},{name:"Standard",w:function(c,p){return{Q0:p.Ub==0}}},{name:"Menu Bar and Canvas",w:function(c,p){return{Q0:p.Ub==1}}}]},{name:[8,13],oF:[$,i.Ec],w:function(c,p){return{Q0:p.T2}}},{name:[8,12],c6:!0,sub:[{name:[17,2],w:function(c,p){return{w:p.T2,Q0:p.ZZ.AQ}}},{name:[8,9],w:function(c,p){return{w:p.T2,Q0:p.ZZ.w3}}},{name:[8,2],w:function(c,p){return{w:p.T2,Q0:p.ZZ.C9}},oF:[$,i.kE]},{name:[8,4],w:function(c,p){return{w:p.T2,Q0:p.ZZ.eS}},oF:[$,i.Vy]},{name:[8,8],w:function(c,p){return{w:p.T2,Q0:p.ZZ.QX}}},{name:[8,11,0],w:function(c,p){return{w:p.T2,Q0:p.ZZ.ky}}}]},{name:[8,3],w:function(c,p){return{Q0:p.hT}},oF:[$,i.gp],c6:!0},{name:[8,5],w:function(c,p){return{Q0:p.CS}}},{name:[8,6],c6:!0,sub:[{name:[8,2],w:function(c,p){return{Q0:p.Yj[0]}}},{name:[8,4],w:function(c,p){return{Q0:p.Yj[1]}}},{name:[9,1],w:function(c,p){return{Q0:p.Yj[2]}}},{name:[8,11,0],w:function(c,p){return{Q0:p.Yj[3]}}},{name:[8,7],w:function(c,p){return{Q0:p.Yj[4]}}}]},{name:[11,15,2],w:function(c,p){return{w:c!=null,Q0:c!=null&&c.z7}}},{name:[11,15,0],w:l},{name:[11,14],w:l,xE:!0},{name:[11,15,1],w:function(c,p){return{w:c!=null&&c.g.length!=0}},c6:!0},{name:[8,11,2],w:function(c,p){return{w:c!=null&&c.ky.length!=0}}}],L$:[{_:x.E.s,b:D.VB,W:{d:"zoom",p6:!0}},{_:x.E.s,b:D.VB,W:{d:"zoom",p6:!1}},{_:x.E.s,b:D.VB,W:{d:"adapt",L:"fitscr"}},{_:x.E.s,b:D.VB,W:{d:"adapt",L:"pixel"}},{_:x.E.s,b:D.MW,W:{d:"pview"}},{sub:[{_:x.E.k,W:{d:x.c.K8,BD:!0}},{_:x.E.k,W:{d:x.c.K8,L:0}},{_:x.E.k,W:{d:x.c.K8,L:1}},{_:x.E.k,W:{d:x.c.K8,L:2}}]},{_:x.E.k,W:{d:x.c.vj,J0:dC.MG}},{sub:[{_:x.E.k,W:{d:x.c.vj,J0:dC.p9}},{_:x.E.k,W:{d:x.c.vj,J0:dC.lJ}},{_:x.E.k,W:{d:x.c.vj,J0:dC.x1}},{_:x.E.k,W:{d:x.c.vj,J0:dC.t3}},{_:x.E.k,W:{d:x.c.vj,J0:dC.ll}},{_:x.E.k,W:{d:x.c.vj,J0:dC.QC}}]},{_:x.E.k,W:{d:x.c.vj,J0:dC.aq}},{_:x.E.k,W:{d:x.c.vj,J0:dC.a3j}},{sub:[{_:x.E.k,W:{d:x.c.vj,J0:dC.SH,Mj:0}},{_:x.E.k,W:{d:x.c.vj,J0:dC.SH,Mj:1}},{_:x.E.k,W:{d:x.c.vj,J0:dC.SH,Mj:2}},{_:x.E.k,W:{d:x.c.vj,J0:dC.SH,Mj:3}},{_:x.E.k,W:{d:x.c.vj,J0:dC.SH,Mj:4}}]},{_:x.E.s,b:D.MW,W:{d:"lockguides"}},{_:x.E.s,b:D.MW,W:{d:"gids",rO:[[],[]]}},{_:x.E.k,W:{d:x.c.ZD,Kh:"addguides"}},{_:x.E.s,b:D.MW,W:{d:"gidsFromLayer"}},{_:x.E.s,b:D.M7,W:{d:"deleteAll"}}]},function(){var c={name:[0,8],items:[{name:[0,14],c6:!0,sub:[]},{name:"Plugins",c6:!0}],L$:[{sub:[]},{_:x.E.k,W:{d:x.c.ZD,Kh:"res1"}}]};
for(var t=0;t<hk.k0.length;t++){var p=hk.k0[t],C=function(){var T=p.dX.Bq;return function(E,r){return{Q0:r.ek.indexOf(parseInt(T))!=-1}}}();
(p.mD?c.items[0].sub:c.items).push({name:p.dX.name,w:C});(p.mD?c.L$[0].sub:c.L$).push({_:x.E.k,W:{d:x.c.Q6,Kh:p.dX.Bq}})}return c}(),function(){var c={name:[0,14],items:[],L$:[]},p={name:[0,9],sub:[]};
c.items.push(p);var C={sub:[]};c.L$.push(C);var T=e_.ad_();for(var t=0;t<T.length;t++){var E=T[t],r=E.code,Y=e_.auz(r);
p.sub.push({name:E.name,oF:r,w:function(S,m){return{Q0:this.oF==e_.JD()}}});C.sub.push({_:x.E.k,W:{d:x.c.vj,J0:dC.V4,lang:Y}})}p.sub.push({name:[0,12]});
C.sub.push({_:x.E.k,W:{d:x.c.la,link:"https://www.photopea.com/translate/"}});var p={name:[0,15],sub:[]};
c.items.push(p);var C={sub:[]};c.L$.push(C);for(var t=0;t<eS.gN.length;t++){p.sub.push({name:eS.gN[t].name,w:function(S,m){return{Q0:this.name==eS.gN[m.TZ].name}}});
C.sub.push({_:x.E.k,W:{d:x.c.vj,J0:dC.Qp,TZ:t}})}c.items.push({name:[0,17,6],w:function(S,m){return{w:m._s!=null}}});
c.L$.push({_:x.E.k,W:{d:x.c.a9c}});c.items.push({name:[11,13]});c.L$.push({_:x.E.k,W:{d:x.c.ZD,Kh:"shortcuts"}});
c.items.push({name:[0,16],w:function(S){return{Q0:i8.ph,w:i8.Jm}},c6:!0});c.L$.push({_:x.E.k,W:{d:x.c.axq}});
c.items.push({name:"",w:function(S,m){return m.wd?{Np:"About Photopea",w:!0}:{Np:"",w:!1}}});c.L$.push({_:x.E.k,W:{d:x.c.ZD,Kh:"aboutpp"}});
return c}()]}();function kw(){dq.call(this);this.m=R.S("div","");this.VI=0;this.ZB=0;this.RM=null;this.OR=R.S("div","");
this.OR.setAttribute("style","width:200em; height:100em; position:absolute;");this.we=[];this.Qx=[];
this.Se={}}kw.prototype=new dq;kw.prototype._t=function(i){var $=Date.now(),h=[];if(i=="-")h=[new aZ,new gq,new ju("pdfpres"),new iG,new kt,new jS,new d6,new gu,new eB,new fe,new c4,new hN,new ec,new c2,new gK,new dE,new eA,new i1,new ii,new cb,new be,new ig,new ap,new b7,new kk,new ah,new fo,new hs(!1),new hs(!0),new ay(0),new ay(1),new bF,new j7,new hJ,new ed,new b$,new ak,new by(0),new by(1),new by(2),new by(3),new by(4),new by(5),new by(6),new by(7),new by(8),new e9,new ep,new dM,new hz,new hH,new jz,new h3,new fz("border",[7,9],"px"),new fz("smoothness",[19,3,0],"px"),new fz("expand",[7,4],"px"),new fz("contract",[7,5],"px"),new fz("feather",[7,6],"px"),new aB(0,"namewindow",[12,48]),new aB(2,"billto","Bill To"),new aB(1,"cornerradius",[12,94,0],"px",!0,!0),new aB(1,"scaleeffects","Scale Effects","%",!0),new aB(1,"doczoom","Zoom","%",!0),new aB(1,"setFPS","Set FPS","fps",!1)];
else h=[new d2(i.slice(4))];this.a7g(h);this.Se[i]=!0};kw.prototype.a7g=function(i){var $=this.RM;for(var t=0;
t<i.length;t++){var h=i[t];h.parent=this;this.Qx.push(h);this.IL(h);h.f();if($)h.aG($,dC.mW);h.h(x.E._y,this.Jn,this)}};
kw.prototype.JQ=function(i,$){this.VI=i;this.ZB=$;for(var t=0;t<this.Qx.length;t++)this.IL(this.Qx[t])};
kw.prototype.f=function(){for(var t=0;t<this.Qx.length;t++)this.Qx[t].f()};kw.prototype.hg=function(){return this.we.length==0?null:this.we[this.we.length-1]};
kw.prototype.uq=function(){for(var t=0;t<this.we.length;t++)if(this.we[t].uq())return!0;return!1};kw.prototype.a0E=function(i,$,h,d,K){var f=i.startsWith("afw_"),l=null;
if(!f&&!this.Se["-"])this._t("-");if(f&&!this.Se[i])this._t(i);if(typeof i=="object"){l=i;if(!l.a6x(x.E._y,this.Jn))l.h(x.E._y,this.Jn,this);
l.parent=this}else for(var t=0;t<this.Qx.length;t++)if(this.Qx[t].id==i)l=this.Qx[t];if(this.uq()&&l.uq()){alert("Finish the current action first");
return}if(!l.Vl($))return;if(this.we.indexOf(l)!=-1){if(i=="colorpicker")l.Ra($,h,d,K);return}var u=this.we.length-1;
if(u>=0)R.FK(this.we[u].m,"wdisabled");this.m.appendChild(l.m);this.we.push(l);this.IL(l);l.Ra($,h,d,K)};
kw.prototype.IL=function(i){var $=this.VI,h=this.ZB,d=i.Vv($,h),K;if(d!=null){K=d}else{d=new cq(0,0);
K=i.asa();if(K==null){var f=this.we.indexOf(i)+1;if($<450||h<450)K=new cq(0,0);else K=new cq(f*150,f*150)}}i.m.style.left=K.x+"px";
i.m.style.top=this.m.offsetTop+K.y+"px";i.JQ(this.VI-d.x*2,this.ZB-d.y*2-34)};kw.prototype.aG=function(i,$){this.RM=i;
for(var t=0;t<this.Qx.length;t++)this.Qx[t].aG(i,$)};kw.prototype.Jn=function(i){var $=this.we.pop();
this.m.removeChild($.m);var h=this.we.length-1;if(h>=0)R.jE(this.we[h].m,"wdisabled");if(this.OR.parentNode==this.m)this.m.removeChild(this.OR)};
window.onload=function(){document.body.appendChild(new e2().m)}}())